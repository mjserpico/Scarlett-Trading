2018-03-02 09:36:01,447 - DEBUG - ****************************************************
2018-03-02 09:36:01,447 - DEBUG - Current Time is 09:36AM
2018-03-02 09:36:01,447 - DEBUG - Starting Pos Mgmt H E
2018-03-02 09:36:01,447 - DEBUG - Connecting to database
2018-03-02 09:36:01,563 - DEBUG - Connected to database
2018-03-02 09:36:01,563 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:01,566 - DEBUG - Order Profit is 247
2018-03-02 09:36:01,566 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:01,568 - DEBUG - Stop ID is 0
2018-03-02 09:36:01,569 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:01,569 - DEBUG - Entry ID is 247
2018-03-02 09:36:01,571 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 09:36:01,572 - DEBUG - OCA ID is 1
2018-03-02 09:36:01,572 - DEBUG - Connecting to IBController
2018-03-02 09:36:02,581 - DEBUG - Connected to IBController
2018-03-02 09:36:02,581 - DEBUG - Position requested
2018-03-02 09:36:02,582 - DEBUG - Pos Mgmt -12987
2018-03-02 09:36:02,582 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 09:36:02,582 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 09:36:02,584 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 09:36:02,584 - DEBUG - Position is -12987
2018-03-02 09:36:03,582 - DEBUG - Open Orders requested
2018-03-02 09:36:03,586 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000205BC50>, order=<ib.ext.Order.Order object at 0x000000000205BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F11D0>>
2018-03-02 09:36:03,586 - DEBUG - Order OrderID 244
2018-03-02 09:36:03,589 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:36:03,589 - DEBUG - Order status PreSubmitted
2018-03-02 09:36:03,589 - DEBUG - Order Identification 244
2018-03-02 09:36:03,591 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:36:03,591 - DEBUG - Profit ID from database is 247
2018-03-02 09:36:03,591 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:36:03,591 - DEBUG - Stop ID database is 0
2018-03-02 09:36:03,592 - DEBUG - Entry ID database is 247
2018-03-02 09:36:03,592 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000205BC50>, order=<ib.ext.Order.Order object at 0x000000000205BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1048>>
2018-03-02 09:36:03,592 - DEBUG - Order OrderID 246
2018-03-02 09:36:03,592 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:36:03,594 - DEBUG - Order status PreSubmitted
2018-03-02 09:36:03,594 - DEBUG - Order Identification 246
2018-03-02 09:36:03,594 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:36:03,594 - DEBUG - Profit ID from database is 247
2018-03-02 09:36:03,594 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:36:03,595 - DEBUG - Stop ID database is 0
2018-03-02 09:36:03,595 - DEBUG - Entry ID database is 247
2018-03-02 09:36:03,595 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000205BC50>, order=<ib.ext.Order.Order object at 0x000000000205BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1240>>
2018-03-02 09:36:03,595 - DEBUG - Order OrderID 247
2018-03-02 09:36:03,596 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:36:03,596 - DEBUG - Order status PreSubmitted
2018-03-02 09:36:03,596 - DEBUG - Order Identification 247
2018-03-02 09:36:03,596 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:36:03,598 - DEBUG - Profit ID from database is 247
2018-03-02 09:36:03,598 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:36:03,598 - DEBUG - Stop ID database is 0
2018-03-02 09:36:03,598 - DEBUG - Entry ID database is 247
2018-03-02 09:36:03,598 - DEBUG - Profit API ID is 247
2018-03-02 09:36:03,598 - DEBUG - Entry API ID is 247
2018-03-02 09:36:05,586 - DEBUG - Connecting to database
2018-03-02 09:36:05,595 - DEBUG - Connected to database
2018-03-02 09:36:05,596 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,596 - DEBUG - Stop loss value is 68.15
2018-03-02 09:36:05,598 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,598 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 09:36:05,601 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,601 - DEBUG - EntryPrice value is 66.6
2018-03-02 09:36:05,601 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,602 - DEBUG - Stop quantity 1
2018-03-02 09:36:05,604 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,604 - DEBUG - Direction is Short
2018-03-02 09:36:05,605 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,605 - DEBUG - Count is 0
2018-03-02 09:36:05,607 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 09:36:05,607 - DEBUG - Stop Loss Flag is 0
2018-03-02 09:36:05,608 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 09:36:05,608 - DEBUG - Max ID Order is (247,)
2018-03-02 09:36:05,608 - DEBUG - Today is 2018-03-02
2018-03-02 09:36:05,609 - DEBUG - Day of the week 4
2018-03-02 09:36:05,609 - DEBUG - Yesterday is 03/01/2018
2018-03-02 09:36:05,609 - DEBUG - In Position is  0
2018-03-02 09:36:05,611 - DEBUG - In Position is  <class 'int'>
2018-03-02 09:36:05,611 - DEBUG - curStopLossFlag is  0
2018-03-02 09:36:05,611 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 09:36:05,611 - DEBUG - Checking if Entry has been filled
2018-03-02 09:36:05,611 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:36:05,612 - DEBUG - EntryPend is 1
2018-03-02 09:36:05,612 - DEBUG - Try to Cancel Stop
2018-03-02 09:36:05,612 - DEBUG - Stop API ID 0
2018-03-02 09:36:05,614 - DEBUG - Profit API ID 247
2018-03-02 09:36:05,614 - DEBUG - Stop API ID <class 'int'>
2018-03-02 09:36:05,614 - DEBUG - Profit API ID <class 'int'>
2018-03-02 09:36:05,614 - DEBUG - Pos is 0
2018-03-02 09:36:05,615 - DEBUG - CurCount is 0
2018-03-02 09:36:05,615 - DEBUG - In Pos 0
2018-03-02 09:36:05,615 - DEBUG - Stop ID is 0
2018-03-02 09:36:05,615 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:36:05,617 - DEBUG - EntryPend is 1
2018-03-02 09:36:05,617 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 09:36:05,617 - DEBUG - Entry Date is 10
2018-03-02 09:36:05,617 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 09:36:05,618 - DEBUG - Order Profit ID is 247
2018-03-02 09:36:05,618 - DEBUG - Order Entry ID is 247
2018-03-02 09:36:05,618 - DEBUG - API ID is  0
2018-03-02 09:36:05,618 - DEBUG - Current Position is 0
2018-03-02 09:36:05,618 - DEBUG - Current Position is <class 'str'>
2018-03-02 09:36:05,618 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 09:36:05,618 - DEBUG - Time is 9
2018-03-02 09:36:05,618 - DEBUG - Time is <class 'int'>
2018-03-02 09:36:05,618 - DEBUG - Time is 36
2018-03-02 09:36:05,618 - DEBUG - Time is <class 'int'>
2018-03-02 09:36:05,619 - DEBUG - Disconnected from IBController
2018-03-02 09:36:05,621 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 09:41:01,357 - DEBUG - ****************************************************
2018-03-02 09:41:01,357 - DEBUG - Current Time is 09:41AM
2018-03-02 09:41:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 09:41:01,358 - DEBUG - Connecting to database
2018-03-02 09:41:01,398 - DEBUG - Connected to database
2018-03-02 09:41:01,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:01,401 - DEBUG - Order Profit is 247
2018-03-02 09:41:01,401 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:01,401 - DEBUG - Stop ID is 0
2018-03-02 09:41:01,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:01,404 - DEBUG - Entry ID is 247
2018-03-02 09:41:01,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 09:41:01,405 - DEBUG - OCA ID is 1
2018-03-02 09:41:01,405 - DEBUG - Connecting to IBController
2018-03-02 09:41:02,414 - DEBUG - Connected to IBController
2018-03-02 09:41:02,414 - DEBUG - Position requested
2018-03-02 09:41:02,417 - DEBUG - Pos Mgmt -12987
2018-03-02 09:41:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CD30>, pos=-12987, avgCost=0.95368235>
2018-03-02 09:41:02,417 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 09:41:02,418 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 09:41:02,418 - DEBUG - Position is -12987
2018-03-02 09:41:03,417 - DEBUG - Open Orders requested
2018-03-02 09:41:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, order=<ib.ext.Order.Order object at 0x000000000206CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102160>>
2018-03-02 09:41:03,420 - DEBUG - Order OrderID 244
2018-03-02 09:41:03,420 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:41:03,421 - DEBUG - Order status PreSubmitted
2018-03-02 09:41:03,421 - DEBUG - Order Identification 244
2018-03-02 09:41:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:41:03,421 - DEBUG - Profit ID from database is 247
2018-03-02 09:41:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:41:03,421 - DEBUG - Stop ID database is 0
2018-03-02 09:41:03,421 - DEBUG - Entry ID database is 247
2018-03-02 09:41:03,423 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, order=<ib.ext.Order.Order object at 0x000000000206CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021021D0>>
2018-03-02 09:41:03,424 - DEBUG - Order OrderID 246
2018-03-02 09:41:03,424 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:41:03,424 - DEBUG - Order status PreSubmitted
2018-03-02 09:41:03,424 - DEBUG - Order Identification 246
2018-03-02 09:41:03,424 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:41:03,424 - DEBUG - Profit ID from database is 247
2018-03-02 09:41:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:41:03,426 - DEBUG - Stop ID database is 0
2018-03-02 09:41:03,426 - DEBUG - Entry ID database is 247
2018-03-02 09:41:03,427 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, order=<ib.ext.Order.Order object at 0x000000000206CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021022B0>>
2018-03-02 09:41:03,427 - DEBUG - Order OrderID 247
2018-03-02 09:41:03,427 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:41:03,427 - DEBUG - Order status PreSubmitted
2018-03-02 09:41:03,427 - DEBUG - Order Identification 247
2018-03-02 09:41:03,428 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:41:03,428 - DEBUG - Profit ID from database is 247
2018-03-02 09:41:03,428 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:41:03,428 - DEBUG - Stop ID database is 0
2018-03-02 09:41:03,428 - DEBUG - Entry ID database is 247
2018-03-02 09:41:03,430 - DEBUG - Profit API ID is 247
2018-03-02 09:41:03,430 - DEBUG - Entry API ID is 247
2018-03-02 09:41:05,417 - DEBUG - Connecting to database
2018-03-02 09:41:05,424 - DEBUG - Connected to database
2018-03-02 09:41:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,427 - DEBUG - Stop loss value is 68.15
2018-03-02 09:41:05,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,428 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 09:41:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,430 - DEBUG - EntryPrice value is 66.6
2018-03-02 09:41:05,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,431 - DEBUG - Stop quantity 1
2018-03-02 09:41:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,434 - DEBUG - Direction is Short
2018-03-02 09:41:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,436 - DEBUG - Count is 0
2018-03-02 09:41:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 09:41:05,437 - DEBUG - Stop Loss Flag is 0
2018-03-02 09:41:05,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 09:41:05,438 - DEBUG - Max ID Order is (247,)
2018-03-02 09:41:05,438 - DEBUG - Today is 2018-03-02
2018-03-02 09:41:05,440 - DEBUG - Day of the week 4
2018-03-02 09:41:05,440 - DEBUG - Yesterday is 03/01/2018
2018-03-02 09:41:05,440 - DEBUG - In Position is  0
2018-03-02 09:41:05,440 - DEBUG - In Position is  <class 'int'>
2018-03-02 09:41:05,440 - DEBUG - curStopLossFlag is  0
2018-03-02 09:41:05,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 09:41:05,440 - DEBUG - Checking if Entry has been filled
2018-03-02 09:41:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:41:05,443 - DEBUG - EntryPend is 1
2018-03-02 09:41:05,443 - DEBUG - Try to Cancel Stop
2018-03-02 09:41:05,443 - DEBUG - Stop API ID 0
2018-03-02 09:41:05,443 - DEBUG - Profit API ID 247
2018-03-02 09:41:05,444 - DEBUG - Stop API ID <class 'int'>
2018-03-02 09:41:05,444 - DEBUG - Profit API ID <class 'int'>
2018-03-02 09:41:05,444 - DEBUG - Pos is 0
2018-03-02 09:41:05,444 - DEBUG - CurCount is 0
2018-03-02 09:41:05,444 - DEBUG - In Pos 0
2018-03-02 09:41:05,444 - DEBUG - Stop ID is 0
2018-03-02 09:41:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:41:05,446 - DEBUG - EntryPend is 1
2018-03-02 09:41:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 09:41:05,447 - DEBUG - Entry Date is 10
2018-03-02 09:41:05,447 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 09:41:05,447 - DEBUG - Order Profit ID is 247
2018-03-02 09:41:05,447 - DEBUG - Order Entry ID is 247
2018-03-02 09:41:05,447 - DEBUG - API ID is  0
2018-03-02 09:41:05,447 - DEBUG - Current Position is 0
2018-03-02 09:41:05,447 - DEBUG - Current Position is <class 'str'>
2018-03-02 09:41:05,447 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 09:41:05,448 - DEBUG - Time is 9
2018-03-02 09:41:05,448 - DEBUG - Time is <class 'int'>
2018-03-02 09:41:05,448 - DEBUG - Time is 41
2018-03-02 09:41:05,448 - DEBUG - Time is <class 'int'>
2018-03-02 09:41:05,450 - DEBUG - Disconnected from IBController
2018-03-02 09:41:05,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 09:46:01,355 - DEBUG - ****************************************************
2018-03-02 09:46:01,355 - DEBUG - Current Time is 09:46AM
2018-03-02 09:46:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 09:46:01,357 - DEBUG - Connecting to database
2018-03-02 09:46:01,415 - DEBUG - Connected to database
2018-03-02 09:46:01,415 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:01,417 - DEBUG - Order Profit is 247
2018-03-02 09:46:01,417 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:01,420 - DEBUG - Stop ID is 0
2018-03-02 09:46:01,420 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:01,421 - DEBUG - Entry ID is 247
2018-03-02 09:46:01,421 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 09:46:01,423 - DEBUG - OCA ID is 1
2018-03-02 09:46:01,424 - DEBUG - Connecting to IBController
2018-03-02 09:46:02,431 - DEBUG - Connected to IBController
2018-03-02 09:46:02,431 - DEBUG - Position requested
2018-03-02 09:46:02,433 - DEBUG - Pos Mgmt -12987
2018-03-02 09:46:02,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, pos=-12987, avgCost=0.95368235>
2018-03-02 09:46:02,434 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 09:46:02,434 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 09:46:02,434 - DEBUG - Position is -12987
2018-03-02 09:46:03,433 - DEBUG - Open Orders requested
2018-03-02 09:46:03,434 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021011D0>>
2018-03-02 09:46:03,436 - DEBUG - Order OrderID 244
2018-03-02 09:46:03,436 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:46:03,437 - DEBUG - Order status PreSubmitted
2018-03-02 09:46:03,437 - DEBUG - Order Identification 244
2018-03-02 09:46:03,437 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:46:03,437 - DEBUG - Profit ID from database is 247
2018-03-02 09:46:03,437 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:46:03,437 - DEBUG - Stop ID database is 0
2018-03-02 09:46:03,437 - DEBUG - Entry ID database is 247
2018-03-02 09:46:03,438 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101048>>
2018-03-02 09:46:03,440 - DEBUG - Order OrderID 246
2018-03-02 09:46:03,440 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:46:03,440 - DEBUG - Order status PreSubmitted
2018-03-02 09:46:03,440 - DEBUG - Order Identification 246
2018-03-02 09:46:03,440 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:46:03,440 - DEBUG - Profit ID from database is 247
2018-03-02 09:46:03,440 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:46:03,440 - DEBUG - Stop ID database is 0
2018-03-02 09:46:03,441 - DEBUG - Entry ID database is 247
2018-03-02 09:46:03,443 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101240>>
2018-03-02 09:46:03,443 - DEBUG - Order OrderID 247
2018-03-02 09:46:03,443 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:46:03,444 - DEBUG - Order status PreSubmitted
2018-03-02 09:46:03,444 - DEBUG - Order Identification 247
2018-03-02 09:46:03,444 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:46:03,444 - DEBUG - Profit ID from database is 247
2018-03-02 09:46:03,444 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:46:03,444 - DEBUG - Stop ID database is 0
2018-03-02 09:46:03,444 - DEBUG - Entry ID database is 247
2018-03-02 09:46:03,444 - DEBUG - Profit API ID is 247
2018-03-02 09:46:03,446 - DEBUG - Entry API ID is 247
2018-03-02 09:46:05,436 - DEBUG - Connecting to database
2018-03-02 09:46:05,443 - DEBUG - Connected to database
2018-03-02 09:46:05,444 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,444 - DEBUG - Stop loss value is 68.15
2018-03-02 09:46:05,447 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,447 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 09:46:05,447 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,448 - DEBUG - EntryPrice value is 66.6
2018-03-02 09:46:05,450 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,450 - DEBUG - Stop quantity 1
2018-03-02 09:46:05,451 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,451 - DEBUG - Direction is Short
2018-03-02 09:46:05,453 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,453 - DEBUG - Count is 0
2018-03-02 09:46:05,454 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 09:46:05,454 - DEBUG - Stop Loss Flag is 0
2018-03-02 09:46:05,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 09:46:05,457 - DEBUG - Max ID Order is (247,)
2018-03-02 09:46:05,457 - DEBUG - Today is 2018-03-02
2018-03-02 09:46:05,457 - DEBUG - Day of the week 4
2018-03-02 09:46:05,457 - DEBUG - Yesterday is 03/01/2018
2018-03-02 09:46:05,457 - DEBUG - In Position is  0
2018-03-02 09:46:05,459 - DEBUG - In Position is  <class 'int'>
2018-03-02 09:46:05,459 - DEBUG - curStopLossFlag is  0
2018-03-02 09:46:05,459 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 09:46:05,459 - DEBUG - Checking if Entry has been filled
2018-03-02 09:46:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:46:05,460 - DEBUG - EntryPend is 1
2018-03-02 09:46:05,460 - DEBUG - Try to Cancel Stop
2018-03-02 09:46:05,461 - DEBUG - Stop API ID 0
2018-03-02 09:46:05,461 - DEBUG - Profit API ID 247
2018-03-02 09:46:05,461 - DEBUG - Stop API ID <class 'int'>
2018-03-02 09:46:05,461 - DEBUG - Profit API ID <class 'int'>
2018-03-02 09:46:05,463 - DEBUG - Pos is 0
2018-03-02 09:46:05,463 - DEBUG - CurCount is 0
2018-03-02 09:46:05,463 - DEBUG - In Pos 0
2018-03-02 09:46:05,463 - DEBUG - Stop ID is 0
2018-03-02 09:46:05,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:46:05,464 - DEBUG - EntryPend is 1
2018-03-02 09:46:05,464 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 09:46:05,464 - DEBUG - Entry Date is 10
2018-03-02 09:46:05,466 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 09:46:05,466 - DEBUG - Order Profit ID is 247
2018-03-02 09:46:05,466 - DEBUG - Order Entry ID is 247
2018-03-02 09:46:05,466 - DEBUG - API ID is  0
2018-03-02 09:46:05,466 - DEBUG - Current Position is 0
2018-03-02 09:46:05,467 - DEBUG - Current Position is <class 'str'>
2018-03-02 09:46:05,467 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 09:46:05,467 - DEBUG - Time is 9
2018-03-02 09:46:05,467 - DEBUG - Time is <class 'int'>
2018-03-02 09:46:05,467 - DEBUG - Time is 46
2018-03-02 09:46:05,467 - DEBUG - Time is <class 'int'>
2018-03-02 09:46:05,467 - DEBUG - Disconnected from IBController
2018-03-02 09:46:05,467 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 09:51:01,361 - DEBUG - ****************************************************
2018-03-02 09:51:01,361 - DEBUG - Current Time is 09:51AM
2018-03-02 09:51:01,361 - DEBUG - Starting Pos Mgmt H E
2018-03-02 09:51:01,361 - DEBUG - Connecting to database
2018-03-02 09:51:01,401 - DEBUG - Connected to database
2018-03-02 09:51:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:01,403 - DEBUG - Order Profit is 247
2018-03-02 09:51:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:01,404 - DEBUG - Stop ID is 0
2018-03-02 09:51:01,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:01,407 - DEBUG - Entry ID is 247
2018-03-02 09:51:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 09:51:01,407 - DEBUG - OCA ID is 1
2018-03-02 09:51:01,408 - DEBUG - Connecting to IBController
2018-03-02 09:51:02,421 - DEBUG - Connected to IBController
2018-03-02 09:51:02,421 - DEBUG - Position requested
2018-03-02 09:51:02,423 - DEBUG - Pos Mgmt -12987
2018-03-02 09:51:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 09:51:02,424 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 09:51:02,424 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 09:51:02,424 - DEBUG - Position is -12987
2018-03-02 09:51:03,423 - DEBUG - Open Orders requested
2018-03-02 09:51:03,424 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1160>>
2018-03-02 09:51:03,426 - DEBUG - Order OrderID 244
2018-03-02 09:51:03,426 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:51:03,427 - DEBUG - Order status PreSubmitted
2018-03-02 09:51:03,427 - DEBUG - Order Identification 244
2018-03-02 09:51:03,427 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:51:03,427 - DEBUG - Profit ID from database is 247
2018-03-02 09:51:03,427 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:51:03,427 - DEBUG - Stop ID database is 0
2018-03-02 09:51:03,427 - DEBUG - Entry ID database is 247
2018-03-02 09:51:03,428 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F11D0>>
2018-03-02 09:51:03,428 - DEBUG - Order OrderID 246
2018-03-02 09:51:03,430 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:51:03,430 - DEBUG - Order status PreSubmitted
2018-03-02 09:51:03,430 - DEBUG - Order Identification 246
2018-03-02 09:51:03,430 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:51:03,430 - DEBUG - Profit ID from database is 247
2018-03-02 09:51:03,430 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:51:03,430 - DEBUG - Stop ID database is 0
2018-03-02 09:51:03,431 - DEBUG - Entry ID database is 247
2018-03-02 09:51:03,433 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F12B0>>
2018-03-02 09:51:03,433 - DEBUG - Order OrderID 247
2018-03-02 09:51:03,433 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:51:03,434 - DEBUG - Order status PreSubmitted
2018-03-02 09:51:03,434 - DEBUG - Order Identification 247
2018-03-02 09:51:03,434 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:51:03,434 - DEBUG - Profit ID from database is 247
2018-03-02 09:51:03,434 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:51:03,434 - DEBUG - Stop ID database is 0
2018-03-02 09:51:03,434 - DEBUG - Entry ID database is 247
2018-03-02 09:51:03,434 - DEBUG - Profit API ID is 247
2018-03-02 09:51:03,436 - DEBUG - Entry API ID is 247
2018-03-02 09:51:05,424 - DEBUG - Connecting to database
2018-03-02 09:51:05,431 - DEBUG - Connected to database
2018-03-02 09:51:05,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,433 - DEBUG - Stop loss value is 68.15
2018-03-02 09:51:05,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,434 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 09:51:05,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,437 - DEBUG - EntryPrice value is 66.6
2018-03-02 09:51:05,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,437 - DEBUG - Stop quantity 1
2018-03-02 09:51:05,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,440 - DEBUG - Direction is Short
2018-03-02 09:51:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,441 - DEBUG - Count is 0
2018-03-02 09:51:05,443 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 09:51:05,443 - DEBUG - Stop Loss Flag is 0
2018-03-02 09:51:05,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 09:51:05,444 - DEBUG - Max ID Order is (247,)
2018-03-02 09:51:05,446 - DEBUG - Today is 2018-03-02
2018-03-02 09:51:05,446 - DEBUG - Day of the week 4
2018-03-02 09:51:05,446 - DEBUG - Yesterday is 03/01/2018
2018-03-02 09:51:05,447 - DEBUG - In Position is  0
2018-03-02 09:51:05,447 - DEBUG - In Position is  <class 'int'>
2018-03-02 09:51:05,447 - DEBUG - curStopLossFlag is  0
2018-03-02 09:51:05,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 09:51:05,447 - DEBUG - Checking if Entry has been filled
2018-03-02 09:51:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:51:05,448 - DEBUG - EntryPend is 1
2018-03-02 09:51:05,450 - DEBUG - Try to Cancel Stop
2018-03-02 09:51:05,450 - DEBUG - Stop API ID 0
2018-03-02 09:51:05,450 - DEBUG - Profit API ID 247
2018-03-02 09:51:05,450 - DEBUG - Stop API ID <class 'int'>
2018-03-02 09:51:05,450 - DEBUG - Profit API ID <class 'int'>
2018-03-02 09:51:05,450 - DEBUG - Pos is 0
2018-03-02 09:51:05,450 - DEBUG - CurCount is 0
2018-03-02 09:51:05,450 - DEBUG - In Pos 0
2018-03-02 09:51:05,450 - DEBUG - Stop ID is 0
2018-03-02 09:51:05,451 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:51:05,453 - DEBUG - EntryPend is 1
2018-03-02 09:51:05,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 09:51:05,453 - DEBUG - Entry Date is 10
2018-03-02 09:51:05,453 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 09:51:05,453 - DEBUG - Order Profit ID is 247
2018-03-02 09:51:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 09:51:05,453 - DEBUG - API ID is  0
2018-03-02 09:51:05,454 - DEBUG - Current Position is 0
2018-03-02 09:51:05,454 - DEBUG - Current Position is <class 'str'>
2018-03-02 09:51:05,454 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 09:51:05,454 - DEBUG - Time is 9
2018-03-02 09:51:05,456 - DEBUG - Time is <class 'int'>
2018-03-02 09:51:05,456 - DEBUG - Time is 51
2018-03-02 09:51:05,456 - DEBUG - Time is <class 'int'>
2018-03-02 09:51:05,456 - DEBUG - Disconnected from IBController
2018-03-02 09:51:05,457 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 09:56:01,358 - DEBUG - ****************************************************
2018-03-02 09:56:01,358 - DEBUG - Current Time is 09:56AM
2018-03-02 09:56:01,359 - DEBUG - Starting Pos Mgmt H E
2018-03-02 09:56:01,359 - DEBUG - Connecting to database
2018-03-02 09:56:01,404 - DEBUG - Connected to database
2018-03-02 09:56:01,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:01,405 - DEBUG - Order Profit is 247
2018-03-02 09:56:01,405 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:01,407 - DEBUG - Stop ID is 0
2018-03-02 09:56:01,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:01,408 - DEBUG - Entry ID is 247
2018-03-02 09:56:01,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 09:56:01,411 - DEBUG - OCA ID is 1
2018-03-02 09:56:01,411 - DEBUG - Connecting to IBController
2018-03-02 09:56:02,433 - DEBUG - Connected to IBController
2018-03-02 09:56:02,433 - DEBUG - Position requested
2018-03-02 09:56:02,434 - DEBUG - Pos Mgmt -12987
2018-03-02 09:56:02,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 09:56:02,436 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 09:56:02,436 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 09:56:02,436 - DEBUG - Position is -12987
2018-03-02 09:56:03,434 - DEBUG - Open Orders requested
2018-03-02 09:56:03,447 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000209CCF8>, order=<ib.ext.Order.Order object at 0x000000000209CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131160>>
2018-03-02 09:56:03,447 - DEBUG - Order OrderID 244
2018-03-02 09:56:03,447 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:56:03,447 - DEBUG - Order status PreSubmitted
2018-03-02 09:56:03,448 - DEBUG - Order Identification 244
2018-03-02 09:56:03,448 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:56:03,448 - DEBUG - Profit ID from database is 247
2018-03-02 09:56:03,448 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:56:03,450 - DEBUG - Stop ID database is 0
2018-03-02 09:56:03,450 - DEBUG - Entry ID database is 247
2018-03-02 09:56:03,450 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000209CCF8>, order=<ib.ext.Order.Order object at 0x000000000209CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021311D0>>
2018-03-02 09:56:03,450 - DEBUG - Order OrderID 246
2018-03-02 09:56:03,451 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:56:03,451 - DEBUG - Order status PreSubmitted
2018-03-02 09:56:03,451 - DEBUG - Order Identification 246
2018-03-02 09:56:03,453 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:56:03,453 - DEBUG - Profit ID from database is 247
2018-03-02 09:56:03,453 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:56:03,453 - DEBUG - Stop ID database is 0
2018-03-02 09:56:03,453 - DEBUG - Entry ID database is 247
2018-03-02 09:56:03,453 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000209CCF8>, order=<ib.ext.Order.Order object at 0x000000000209CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021312B0>>
2018-03-02 09:56:03,454 - DEBUG - Order OrderID 247
2018-03-02 09:56:03,454 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 09:56:03,456 - DEBUG - Order status PreSubmitted
2018-03-02 09:56:03,456 - DEBUG - Order Identification 247
2018-03-02 09:56:03,456 - DEBUG - Order Identification <class 'int'>
2018-03-02 09:56:03,456 - DEBUG - Profit ID from database is 247
2018-03-02 09:56:03,457 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 09:56:03,457 - DEBUG - Stop ID database is 0
2018-03-02 09:56:03,457 - DEBUG - Entry ID database is 247
2018-03-02 09:56:03,457 - DEBUG - Profit API ID is 247
2018-03-02 09:56:03,457 - DEBUG - Entry API ID is 247
2018-03-02 09:56:05,437 - DEBUG - Connecting to database
2018-03-02 09:56:05,444 - DEBUG - Connected to database
2018-03-02 09:56:05,447 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,447 - DEBUG - Stop loss value is 68.15
2018-03-02 09:56:05,448 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,448 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 09:56:05,450 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,450 - DEBUG - EntryPrice value is 66.6
2018-03-02 09:56:05,451 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,451 - DEBUG - Stop quantity 1
2018-03-02 09:56:05,453 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,453 - DEBUG - Direction is Short
2018-03-02 09:56:05,454 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,454 - DEBUG - Count is 0
2018-03-02 09:56:05,457 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 09:56:05,457 - DEBUG - Stop Loss Flag is 0
2018-03-02 09:56:05,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 09:56:05,459 - DEBUG - Max ID Order is (247,)
2018-03-02 09:56:05,459 - DEBUG - Today is 2018-03-02
2018-03-02 09:56:05,460 - DEBUG - Day of the week 4
2018-03-02 09:56:05,460 - DEBUG - Yesterday is 03/01/2018
2018-03-02 09:56:05,460 - DEBUG - In Position is  0
2018-03-02 09:56:05,460 - DEBUG - In Position is  <class 'int'>
2018-03-02 09:56:05,460 - DEBUG - curStopLossFlag is  0
2018-03-02 09:56:05,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 09:56:05,460 - DEBUG - Checking if Entry has been filled
2018-03-02 09:56:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:56:05,463 - DEBUG - EntryPend is 1
2018-03-02 09:56:05,463 - DEBUG - Try to Cancel Stop
2018-03-02 09:56:05,463 - DEBUG - Stop API ID 0
2018-03-02 09:56:05,463 - DEBUG - Profit API ID 247
2018-03-02 09:56:05,463 - DEBUG - Stop API ID <class 'int'>
2018-03-02 09:56:05,463 - DEBUG - Profit API ID <class 'int'>
2018-03-02 09:56:05,463 - DEBUG - Pos is 0
2018-03-02 09:56:05,463 - DEBUG - CurCount is 0
2018-03-02 09:56:05,463 - DEBUG - In Pos 0
2018-03-02 09:56:05,464 - DEBUG - Stop ID is 0
2018-03-02 09:56:05,464 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 09:56:05,466 - DEBUG - EntryPend is 1
2018-03-02 09:56:05,466 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 09:56:05,467 - DEBUG - Entry Date is 10
2018-03-02 09:56:05,467 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 09:56:05,467 - DEBUG - Order Profit ID is 247
2018-03-02 09:56:05,467 - DEBUG - Order Entry ID is 247
2018-03-02 09:56:05,467 - DEBUG - API ID is  0
2018-03-02 09:56:05,467 - DEBUG - Current Position is 0
2018-03-02 09:56:05,467 - DEBUG - Current Position is <class 'str'>
2018-03-02 09:56:05,467 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 09:56:05,467 - DEBUG - Time is 9
2018-03-02 09:56:05,469 - DEBUG - Time is <class 'int'>
2018-03-02 09:56:05,469 - DEBUG - Time is 56
2018-03-02 09:56:05,469 - DEBUG - Time is <class 'int'>
2018-03-02 09:56:05,469 - DEBUG - Disconnected from IBController
2018-03-02 09:56:05,470 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:01:01,357 - DEBUG - ****************************************************
2018-03-02 10:01:01,358 - DEBUG - Current Time is 10:01AM
2018-03-02 10:01:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:01:01,358 - DEBUG - Connecting to database
2018-03-02 10:01:01,377 - DEBUG - Connected to database
2018-03-02 10:01:01,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:01,378 - DEBUG - Order Profit is 247
2018-03-02 10:01:01,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:01,381 - DEBUG - Stop ID is 0
2018-03-02 10:01:01,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:01,382 - DEBUG - Entry ID is 247
2018-03-02 10:01:01,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:01:01,384 - DEBUG - OCA ID is 1
2018-03-02 10:01:01,384 - DEBUG - Connecting to IBController
2018-03-02 10:01:02,394 - DEBUG - Connected to IBController
2018-03-02 10:01:02,394 - DEBUG - Position requested
2018-03-02 10:01:02,408 - DEBUG - Pos Mgmt -12987
2018-03-02 10:01:02,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCF8>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:01:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:01:02,413 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:01:02,413 - DEBUG - Position is -12987
2018-03-02 10:01:03,408 - DEBUG - Open Orders requested
2018-03-02 10:01:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-03-02 10:01:03,411 - DEBUG - Order OrderID 244
2018-03-02 10:01:03,411 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:01:03,413 - DEBUG - Order status PreSubmitted
2018-03-02 10:01:03,413 - DEBUG - Order Identification 244
2018-03-02 10:01:03,413 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:01:03,413 - DEBUG - Profit ID from database is 247
2018-03-02 10:01:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:01:03,414 - DEBUG - Stop ID database is 0
2018-03-02 10:01:03,414 - DEBUG - Entry ID database is 247
2018-03-02 10:01:03,414 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021011D0>>
2018-03-02 10:01:03,414 - DEBUG - Order OrderID 246
2018-03-02 10:01:03,415 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:01:03,415 - DEBUG - Order status PreSubmitted
2018-03-02 10:01:03,415 - DEBUG - Order Identification 246
2018-03-02 10:01:03,417 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:01:03,417 - DEBUG - Profit ID from database is 247
2018-03-02 10:01:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:01:03,417 - DEBUG - Stop ID database is 0
2018-03-02 10:01:03,417 - DEBUG - Entry ID database is 247
2018-03-02 10:01:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021012B0>>
2018-03-02 10:01:03,418 - DEBUG - Order OrderID 247
2018-03-02 10:01:03,418 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:01:03,418 - DEBUG - Order status PreSubmitted
2018-03-02 10:01:03,420 - DEBUG - Order Identification 247
2018-03-02 10:01:03,420 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:01:03,420 - DEBUG - Profit ID from database is 247
2018-03-02 10:01:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:01:03,420 - DEBUG - Stop ID database is 0
2018-03-02 10:01:03,421 - DEBUG - Entry ID database is 247
2018-03-02 10:01:03,421 - DEBUG - Profit API ID is 247
2018-03-02 10:01:03,421 - DEBUG - Entry API ID is 247
2018-03-02 10:01:05,410 - DEBUG - Connecting to database
2018-03-02 10:01:05,417 - DEBUG - Connected to database
2018-03-02 10:01:05,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,418 - DEBUG - Stop loss value is 68.15
2018-03-02 10:01:05,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,421 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:01:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,423 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:01:05,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,424 - DEBUG - Stop quantity 1
2018-03-02 10:01:05,426 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,426 - DEBUG - Direction is Short
2018-03-02 10:01:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,427 - DEBUG - Count is 0
2018-03-02 10:01:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:01:05,428 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:01:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:01:05,431 - DEBUG - Max ID Order is (247,)
2018-03-02 10:01:05,431 - DEBUG - Today is 2018-03-02
2018-03-02 10:01:05,433 - DEBUG - Day of the week 4
2018-03-02 10:01:05,433 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:01:05,433 - DEBUG - In Position is  0
2018-03-02 10:01:05,433 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:01:05,434 - DEBUG - curStopLossFlag is  0
2018-03-02 10:01:05,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:01:05,434 - DEBUG - Checking if Entry has been filled
2018-03-02 10:01:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:01:05,436 - DEBUG - EntryPend is 1
2018-03-02 10:01:05,436 - DEBUG - Try to Cancel Stop
2018-03-02 10:01:05,436 - DEBUG - Stop API ID 0
2018-03-02 10:01:05,436 - DEBUG - Profit API ID 247
2018-03-02 10:01:05,437 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:01:05,437 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:01:05,437 - DEBUG - Pos is 0
2018-03-02 10:01:05,437 - DEBUG - CurCount is 0
2018-03-02 10:01:05,437 - DEBUG - In Pos 0
2018-03-02 10:01:05,437 - DEBUG - Stop ID is 0
2018-03-02 10:01:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:01:05,438 - DEBUG - EntryPend is 1
2018-03-02 10:01:05,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:01:05,440 - DEBUG - Entry Date is 10
2018-03-02 10:01:05,440 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:01:05,440 - DEBUG - Order Profit ID is 247
2018-03-02 10:01:05,440 - DEBUG - Order Entry ID is 247
2018-03-02 10:01:05,440 - DEBUG - API ID is  0
2018-03-02 10:01:05,440 - DEBUG - Current Position is 0
2018-03-02 10:01:05,440 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:01:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:01:05,441 - DEBUG - Time is 10
2018-03-02 10:01:05,441 - DEBUG - Time is <class 'int'>
2018-03-02 10:01:05,441 - DEBUG - Time is 1
2018-03-02 10:01:05,441 - DEBUG - Time is <class 'int'>
2018-03-02 10:01:05,443 - DEBUG - Disconnected from IBController
2018-03-02 10:01:05,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:06:01,357 - DEBUG - ****************************************************
2018-03-02 10:06:01,358 - DEBUG - Current Time is 10:06AM
2018-03-02 10:06:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:06:01,358 - DEBUG - Connecting to database
2018-03-02 10:06:01,476 - DEBUG - Connected to database
2018-03-02 10:06:01,476 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:01,479 - DEBUG - Order Profit is 247
2018-03-02 10:06:01,479 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:01,480 - DEBUG - Stop ID is 0
2018-03-02 10:06:01,480 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:01,482 - DEBUG - Entry ID is 247
2018-03-02 10:06:01,483 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:06:01,483 - DEBUG - OCA ID is 1
2018-03-02 10:06:01,483 - DEBUG - Connecting to IBController
2018-03-02 10:06:02,490 - DEBUG - Connected to IBController
2018-03-02 10:06:02,490 - DEBUG - Position requested
2018-03-02 10:06:02,493 - DEBUG - Pos Mgmt -12987
2018-03-02 10:06:02,493 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBA8>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:06:02,493 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:06:02,493 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:06:02,493 - DEBUG - Position is -12987
2018-03-02 10:06:03,492 - DEBUG - Open Orders requested
2018-03-02 10:06:03,494 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000204CA58>, order=<ib.ext.Order.Order object at 0x000000000204CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-03-02 10:06:03,496 - DEBUG - Order OrderID 244
2018-03-02 10:06:03,496 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:06:03,496 - DEBUG - Order status PreSubmitted
2018-03-02 10:06:03,496 - DEBUG - Order Identification 244
2018-03-02 10:06:03,496 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:06:03,497 - DEBUG - Profit ID from database is 247
2018-03-02 10:06:03,497 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:06:03,497 - DEBUG - Stop ID database is 0
2018-03-02 10:06:03,497 - DEBUG - Entry ID database is 247
2018-03-02 10:06:03,499 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000204CA58>, order=<ib.ext.Order.Order object at 0x000000000204CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E21D0>>
2018-03-02 10:06:03,500 - DEBUG - Order OrderID 246
2018-03-02 10:06:03,500 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:06:03,500 - DEBUG - Order status PreSubmitted
2018-03-02 10:06:03,500 - DEBUG - Order Identification 246
2018-03-02 10:06:03,500 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:06:03,500 - DEBUG - Profit ID from database is 247
2018-03-02 10:06:03,502 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:06:03,502 - DEBUG - Stop ID database is 0
2018-03-02 10:06:03,502 - DEBUG - Entry ID database is 247
2018-03-02 10:06:03,503 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000204CA58>, order=<ib.ext.Order.Order object at 0x000000000204CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E22B0>>
2018-03-02 10:06:03,503 - DEBUG - Order OrderID 247
2018-03-02 10:06:03,503 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:06:03,503 - DEBUG - Order status PreSubmitted
2018-03-02 10:06:03,505 - DEBUG - Order Identification 247
2018-03-02 10:06:03,505 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:06:03,505 - DEBUG - Profit ID from database is 247
2018-03-02 10:06:03,505 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:06:03,505 - DEBUG - Stop ID database is 0
2018-03-02 10:06:03,506 - DEBUG - Entry ID database is 247
2018-03-02 10:06:03,506 - DEBUG - Profit API ID is 247
2018-03-02 10:06:03,506 - DEBUG - Entry API ID is 247
2018-03-02 10:06:05,492 - DEBUG - Connecting to database
2018-03-02 10:06:05,499 - DEBUG - Connected to database
2018-03-02 10:06:05,500 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,500 - DEBUG - Stop loss value is 68.15
2018-03-02 10:06:05,502 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,505 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:06:05,506 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,506 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:06:05,507 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,507 - DEBUG - Stop quantity 1
2018-03-02 10:06:05,509 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,509 - DEBUG - Direction is Short
2018-03-02 10:06:05,510 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,510 - DEBUG - Count is 0
2018-03-02 10:06:05,513 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:06:05,513 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:06:05,513 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:06:05,515 - DEBUG - Max ID Order is (247,)
2018-03-02 10:06:05,515 - DEBUG - Today is 2018-03-02
2018-03-02 10:06:05,515 - DEBUG - Day of the week 4
2018-03-02 10:06:05,516 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:06:05,516 - DEBUG - In Position is  0
2018-03-02 10:06:05,516 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:06:05,516 - DEBUG - curStopLossFlag is  0
2018-03-02 10:06:05,516 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:06:05,516 - DEBUG - Checking if Entry has been filled
2018-03-02 10:06:05,516 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:06:05,517 - DEBUG - EntryPend is 1
2018-03-02 10:06:05,519 - DEBUG - Try to Cancel Stop
2018-03-02 10:06:05,519 - DEBUG - Stop API ID 0
2018-03-02 10:06:05,519 - DEBUG - Profit API ID 247
2018-03-02 10:06:05,519 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:06:05,519 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:06:05,519 - DEBUG - Pos is 0
2018-03-02 10:06:05,519 - DEBUG - CurCount is 0
2018-03-02 10:06:05,519 - DEBUG - In Pos 0
2018-03-02 10:06:05,520 - DEBUG - Stop ID is 0
2018-03-02 10:06:05,520 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:06:05,522 - DEBUG - EntryPend is 1
2018-03-02 10:06:05,523 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:06:05,523 - DEBUG - Entry Date is 10
2018-03-02 10:06:05,523 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:06:05,523 - DEBUG - Order Profit ID is 247
2018-03-02 10:06:05,523 - DEBUG - Order Entry ID is 247
2018-03-02 10:06:05,523 - DEBUG - API ID is  0
2018-03-02 10:06:05,523 - DEBUG - Current Position is 0
2018-03-02 10:06:05,523 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:06:05,523 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:06:05,525 - DEBUG - Time is 10
2018-03-02 10:06:05,525 - DEBUG - Time is <class 'int'>
2018-03-02 10:06:05,525 - DEBUG - Time is 6
2018-03-02 10:06:05,525 - DEBUG - Time is <class 'int'>
2018-03-02 10:06:05,526 - DEBUG - Disconnected from IBController
2018-03-02 10:06:05,526 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:11:01,361 - DEBUG - ****************************************************
2018-03-02 10:11:01,361 - DEBUG - Current Time is 10:11AM
2018-03-02 10:11:01,361 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:11:01,361 - DEBUG - Connecting to database
2018-03-02 10:11:01,430 - DEBUG - Connected to database
2018-03-02 10:11:01,430 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:01,431 - DEBUG - Order Profit is 247
2018-03-02 10:11:01,431 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:01,433 - DEBUG - Stop ID is 0
2018-03-02 10:11:01,434 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:01,434 - DEBUG - Entry ID is 247
2018-03-02 10:11:01,434 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:11:01,437 - DEBUG - OCA ID is 1
2018-03-02 10:11:01,437 - DEBUG - Connecting to IBController
2018-03-02 10:11:02,447 - DEBUG - Connected to IBController
2018-03-02 10:11:02,447 - DEBUG - Position requested
2018-03-02 10:11:02,450 - DEBUG - Pos Mgmt -12987
2018-03-02 10:11:02,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:11:02,450 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:11:02,451 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:11:02,451 - DEBUG - Position is -12987
2018-03-02 10:11:03,448 - DEBUG - Open Orders requested
2018-03-02 10:11:03,450 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E11D0>>
2018-03-02 10:11:03,451 - DEBUG - Order OrderID 244
2018-03-02 10:11:03,451 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:11:03,453 - DEBUG - Order status PreSubmitted
2018-03-02 10:11:03,453 - DEBUG - Order Identification 244
2018-03-02 10:11:03,453 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:11:03,453 - DEBUG - Profit ID from database is 247
2018-03-02 10:11:03,453 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:11:03,461 - DEBUG - Stop ID database is 0
2018-03-02 10:11:03,463 - DEBUG - Entry ID database is 247
2018-03-02 10:11:03,463 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1048>>
2018-03-02 10:11:03,463 - DEBUG - Order OrderID 246
2018-03-02 10:11:03,464 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:11:03,464 - DEBUG - Order status PreSubmitted
2018-03-02 10:11:03,464 - DEBUG - Order Identification 246
2018-03-02 10:11:03,466 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:11:03,466 - DEBUG - Profit ID from database is 247
2018-03-02 10:11:03,466 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:11:03,466 - DEBUG - Stop ID database is 0
2018-03-02 10:11:03,467 - DEBUG - Entry ID database is 247
2018-03-02 10:11:03,467 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1240>>
2018-03-02 10:11:03,467 - DEBUG - Order OrderID 247
2018-03-02 10:11:03,469 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:11:03,469 - DEBUG - Order status PreSubmitted
2018-03-02 10:11:03,469 - DEBUG - Order Identification 247
2018-03-02 10:11:03,469 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:11:03,470 - DEBUG - Profit ID from database is 247
2018-03-02 10:11:03,470 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:11:03,470 - DEBUG - Stop ID database is 0
2018-03-02 10:11:03,470 - DEBUG - Entry ID database is 247
2018-03-02 10:11:03,470 - DEBUG - Profit API ID is 247
2018-03-02 10:11:03,470 - DEBUG - Entry API ID is 247
2018-03-02 10:11:05,451 - DEBUG - Connecting to database
2018-03-02 10:11:05,459 - DEBUG - Connected to database
2018-03-02 10:11:05,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,460 - DEBUG - Stop loss value is 68.15
2018-03-02 10:11:05,461 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,463 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:11:05,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,463 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:11:05,466 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,466 - DEBUG - Stop quantity 1
2018-03-02 10:11:05,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,467 - DEBUG - Direction is Short
2018-03-02 10:11:05,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,470 - DEBUG - Count is 0
2018-03-02 10:11:05,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:11:05,470 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:11:05,473 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:11:05,473 - DEBUG - Max ID Order is (247,)
2018-03-02 10:11:05,473 - DEBUG - Today is 2018-03-02
2018-03-02 10:11:05,473 - DEBUG - Day of the week 4
2018-03-02 10:11:05,473 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:11:05,474 - DEBUG - In Position is  0
2018-03-02 10:11:05,474 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:11:05,474 - DEBUG - curStopLossFlag is  0
2018-03-02 10:11:05,474 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:11:05,476 - DEBUG - Checking if Entry has been filled
2018-03-02 10:11:05,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:11:05,476 - DEBUG - EntryPend is 1
2018-03-02 10:11:05,477 - DEBUG - Try to Cancel Stop
2018-03-02 10:11:05,477 - DEBUG - Stop API ID 0
2018-03-02 10:11:05,477 - DEBUG - Profit API ID 247
2018-03-02 10:11:05,477 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:11:05,479 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:11:05,479 - DEBUG - Pos is 0
2018-03-02 10:11:05,479 - DEBUG - CurCount is 0
2018-03-02 10:11:05,479 - DEBUG - In Pos 0
2018-03-02 10:11:05,480 - DEBUG - Stop ID is 0
2018-03-02 10:11:05,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:11:05,480 - DEBUG - EntryPend is 1
2018-03-02 10:11:05,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:11:05,482 - DEBUG - Entry Date is 10
2018-03-02 10:11:05,482 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:11:05,482 - DEBUG - Order Profit ID is 247
2018-03-02 10:11:05,482 - DEBUG - Order Entry ID is 247
2018-03-02 10:11:05,483 - DEBUG - API ID is  0
2018-03-02 10:11:05,483 - DEBUG - Current Position is 0
2018-03-02 10:11:05,483 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:11:05,483 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:11:05,483 - DEBUG - Time is 10
2018-03-02 10:11:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 10:11:05,483 - DEBUG - Time is 11
2018-03-02 10:11:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 10:11:05,483 - DEBUG - Disconnected from IBController
2018-03-02 10:11:05,486 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:16:01,362 - DEBUG - ****************************************************
2018-03-02 10:16:01,362 - DEBUG - Current Time is 10:16AM
2018-03-02 10:16:01,364 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:16:01,364 - DEBUG - Connecting to database
2018-03-02 10:16:01,394 - DEBUG - Connected to database
2018-03-02 10:16:01,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:01,395 - DEBUG - Order Profit is 247
2018-03-02 10:16:01,397 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:01,398 - DEBUG - Stop ID is 0
2018-03-02 10:16:01,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:01,401 - DEBUG - Entry ID is 247
2018-03-02 10:16:01,401 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:16:01,403 - DEBUG - OCA ID is 1
2018-03-02 10:16:01,403 - DEBUG - Connecting to IBController
2018-03-02 10:16:02,411 - DEBUG - Connected to IBController
2018-03-02 10:16:02,411 - DEBUG - Position requested
2018-03-02 10:16:02,414 - DEBUG - Pos Mgmt -12987
2018-03-02 10:16:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:16:02,414 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:16:02,414 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:16:02,414 - DEBUG - Position is -12987
2018-03-02 10:16:03,414 - DEBUG - Open Orders requested
2018-03-02 10:16:03,415 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, order=<ib.ext.Order.Order object at 0x00000000020BCBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021511D0>>
2018-03-02 10:16:03,417 - DEBUG - Order OrderID 244
2018-03-02 10:16:03,417 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:16:03,417 - DEBUG - Order status PreSubmitted
2018-03-02 10:16:03,417 - DEBUG - Order Identification 244
2018-03-02 10:16:03,417 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:16:03,417 - DEBUG - Profit ID from database is 247
2018-03-02 10:16:03,418 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:16:03,418 - DEBUG - Stop ID database is 0
2018-03-02 10:16:03,418 - DEBUG - Entry ID database is 247
2018-03-02 10:16:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, order=<ib.ext.Order.Order object at 0x00000000020BCBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151048>>
2018-03-02 10:16:03,420 - DEBUG - Order OrderID 246
2018-03-02 10:16:03,421 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:16:03,421 - DEBUG - Order status PreSubmitted
2018-03-02 10:16:03,421 - DEBUG - Order Identification 246
2018-03-02 10:16:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:16:03,421 - DEBUG - Profit ID from database is 247
2018-03-02 10:16:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:16:03,421 - DEBUG - Stop ID database is 0
2018-03-02 10:16:03,421 - DEBUG - Entry ID database is 247
2018-03-02 10:16:03,423 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, order=<ib.ext.Order.Order object at 0x00000000020BCBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151240>>
2018-03-02 10:16:03,424 - DEBUG - Order OrderID 247
2018-03-02 10:16:03,424 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:16:03,424 - DEBUG - Order status PreSubmitted
2018-03-02 10:16:03,424 - DEBUG - Order Identification 247
2018-03-02 10:16:03,424 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:16:03,424 - DEBUG - Profit ID from database is 247
2018-03-02 10:16:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:16:03,426 - DEBUG - Stop ID database is 0
2018-03-02 10:16:03,426 - DEBUG - Entry ID database is 247
2018-03-02 10:16:03,426 - DEBUG - Profit API ID is 247
2018-03-02 10:16:03,426 - DEBUG - Entry API ID is 247
2018-03-02 10:16:05,417 - DEBUG - Connecting to database
2018-03-02 10:16:05,424 - DEBUG - Connected to database
2018-03-02 10:16:05,426 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,426 - DEBUG - Stop loss value is 68.15
2018-03-02 10:16:05,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,427 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:16:05,428 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,430 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:16:05,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,431 - DEBUG - Stop quantity 1
2018-03-02 10:16:05,433 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,434 - DEBUG - Direction is Short
2018-03-02 10:16:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,434 - DEBUG - Count is 0
2018-03-02 10:16:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:16:05,437 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:16:05,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:16:05,438 - DEBUG - Max ID Order is (247,)
2018-03-02 10:16:05,438 - DEBUG - Today is 2018-03-02
2018-03-02 10:16:05,440 - DEBUG - Day of the week 4
2018-03-02 10:16:05,440 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:16:05,440 - DEBUG - In Position is  0
2018-03-02 10:16:05,440 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:16:05,440 - DEBUG - curStopLossFlag is  0
2018-03-02 10:16:05,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:16:05,440 - DEBUG - Checking if Entry has been filled
2018-03-02 10:16:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:16:05,443 - DEBUG - EntryPend is 1
2018-03-02 10:16:05,443 - DEBUG - Try to Cancel Stop
2018-03-02 10:16:05,443 - DEBUG - Stop API ID 0
2018-03-02 10:16:05,443 - DEBUG - Profit API ID 247
2018-03-02 10:16:05,444 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:16:05,444 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:16:05,444 - DEBUG - Pos is 0
2018-03-02 10:16:05,444 - DEBUG - CurCount is 0
2018-03-02 10:16:05,444 - DEBUG - In Pos 0
2018-03-02 10:16:05,444 - DEBUG - Stop ID is 0
2018-03-02 10:16:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:16:05,446 - DEBUG - EntryPend is 1
2018-03-02 10:16:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:16:05,447 - DEBUG - Entry Date is 10
2018-03-02 10:16:05,447 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:16:05,447 - DEBUG - Order Profit ID is 247
2018-03-02 10:16:05,447 - DEBUG - Order Entry ID is 247
2018-03-02 10:16:05,447 - DEBUG - API ID is  0
2018-03-02 10:16:05,447 - DEBUG - Current Position is 0
2018-03-02 10:16:05,447 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:16:05,448 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:16:05,448 - DEBUG - Time is 10
2018-03-02 10:16:05,448 - DEBUG - Time is <class 'int'>
2018-03-02 10:16:05,448 - DEBUG - Time is 16
2018-03-02 10:16:05,450 - DEBUG - Time is <class 'int'>
2018-03-02 10:16:05,450 - DEBUG - Disconnected from IBController
2018-03-02 10:16:05,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:21:01,352 - DEBUG - ****************************************************
2018-03-02 10:21:01,354 - DEBUG - Current Time is 10:21AM
2018-03-02 10:21:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:21:01,354 - DEBUG - Connecting to database
2018-03-02 10:21:01,382 - DEBUG - Connected to database
2018-03-02 10:21:01,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:01,384 - DEBUG - Order Profit is 247
2018-03-02 10:21:01,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:01,385 - DEBUG - Stop ID is 0
2018-03-02 10:21:01,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:01,388 - DEBUG - Entry ID is 247
2018-03-02 10:21:01,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:21:01,388 - DEBUG - OCA ID is 1
2018-03-02 10:21:01,390 - DEBUG - Connecting to IBController
2018-03-02 10:21:02,398 - DEBUG - Connected to IBController
2018-03-02 10:21:02,398 - DEBUG - Position requested
2018-03-02 10:21:02,398 - DEBUG - Pos Mgmt -12987
2018-03-02 10:21:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CE10>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:21:02,400 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:21:02,401 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:21:02,401 - DEBUG - Position is -12987
2018-03-02 10:21:03,398 - DEBUG - Open Orders requested
2018-03-02 10:21:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, order=<ib.ext.Order.Order object at 0x000000000203CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-03-02 10:21:03,401 - DEBUG - Order OrderID 244
2018-03-02 10:21:03,403 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:21:03,407 - DEBUG - Order status PreSubmitted
2018-03-02 10:21:03,407 - DEBUG - Order Identification 244
2018-03-02 10:21:03,407 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:21:03,407 - DEBUG - Profit ID from database is 247
2018-03-02 10:21:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:21:03,407 - DEBUG - Stop ID database is 0
2018-03-02 10:21:03,407 - DEBUG - Entry ID database is 247
2018-03-02 10:21:03,410 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, order=<ib.ext.Order.Order object at 0x000000000203CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D11D0>>
2018-03-02 10:21:03,410 - DEBUG - Order OrderID 246
2018-03-02 10:21:03,410 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:21:03,411 - DEBUG - Order status PreSubmitted
2018-03-02 10:21:03,411 - DEBUG - Order Identification 246
2018-03-02 10:21:03,411 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:21:03,411 - DEBUG - Profit ID from database is 247
2018-03-02 10:21:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:21:03,411 - DEBUG - Stop ID database is 0
2018-03-02 10:21:03,411 - DEBUG - Entry ID database is 247
2018-03-02 10:21:03,413 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, order=<ib.ext.Order.Order object at 0x000000000203CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D12B0>>
2018-03-02 10:21:03,413 - DEBUG - Order OrderID 247
2018-03-02 10:21:03,414 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:21:03,414 - DEBUG - Order status PreSubmitted
2018-03-02 10:21:03,414 - DEBUG - Order Identification 247
2018-03-02 10:21:03,414 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:21:03,414 - DEBUG - Profit ID from database is 247
2018-03-02 10:21:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:21:03,414 - DEBUG - Stop ID database is 0
2018-03-02 10:21:03,414 - DEBUG - Entry ID database is 247
2018-03-02 10:21:03,415 - DEBUG - Profit API ID is 247
2018-03-02 10:21:03,415 - DEBUG - Entry API ID is 247
2018-03-02 10:21:05,400 - DEBUG - Connecting to database
2018-03-02 10:21:05,407 - DEBUG - Connected to database
2018-03-02 10:21:05,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,408 - DEBUG - Stop loss value is 68.15
2018-03-02 10:21:05,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,410 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:21:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,411 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:21:05,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,414 - DEBUG - Stop quantity 1
2018-03-02 10:21:05,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,415 - DEBUG - Direction is Short
2018-03-02 10:21:05,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,417 - DEBUG - Count is 0
2018-03-02 10:21:05,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:21:05,418 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:21:05,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:21:05,421 - DEBUG - Max ID Order is (247,)
2018-03-02 10:21:05,421 - DEBUG - Today is 2018-03-02
2018-03-02 10:21:05,421 - DEBUG - Day of the week 4
2018-03-02 10:21:05,421 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:21:05,421 - DEBUG - In Position is  0
2018-03-02 10:21:05,421 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:21:05,423 - DEBUG - curStopLossFlag is  0
2018-03-02 10:21:05,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:21:05,423 - DEBUG - Checking if Entry has been filled
2018-03-02 10:21:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:21:05,424 - DEBUG - EntryPend is 1
2018-03-02 10:21:05,424 - DEBUG - Try to Cancel Stop
2018-03-02 10:21:05,424 - DEBUG - Stop API ID 0
2018-03-02 10:21:05,424 - DEBUG - Profit API ID 247
2018-03-02 10:21:05,424 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:21:05,426 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:21:05,426 - DEBUG - Pos is 0
2018-03-02 10:21:05,426 - DEBUG - CurCount is 0
2018-03-02 10:21:05,426 - DEBUG - In Pos 0
2018-03-02 10:21:05,427 - DEBUG - Stop ID is 0
2018-03-02 10:21:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:21:05,427 - DEBUG - EntryPend is 1
2018-03-02 10:21:05,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:21:05,428 - DEBUG - Entry Date is 10
2018-03-02 10:21:05,428 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:21:05,428 - DEBUG - Order Profit ID is 247
2018-03-02 10:21:05,428 - DEBUG - Order Entry ID is 247
2018-03-02 10:21:05,428 - DEBUG - API ID is  0
2018-03-02 10:21:05,430 - DEBUG - Current Position is 0
2018-03-02 10:21:05,430 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:21:05,430 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:21:05,430 - DEBUG - Time is 10
2018-03-02 10:21:05,430 - DEBUG - Time is <class 'int'>
2018-03-02 10:21:05,430 - DEBUG - Time is 21
2018-03-02 10:21:05,430 - DEBUG - Time is <class 'int'>
2018-03-02 10:21:05,430 - DEBUG - Disconnected from IBController
2018-03-02 10:21:05,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:26:01,355 - DEBUG - ****************************************************
2018-03-02 10:26:01,357 - DEBUG - Current Time is 10:26AM
2018-03-02 10:26:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:26:01,357 - DEBUG - Connecting to database
2018-03-02 10:26:01,453 - DEBUG - Connected to database
2018-03-02 10:26:01,453 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:01,454 - DEBUG - Order Profit is 247
2018-03-02 10:26:01,456 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:01,457 - DEBUG - Stop ID is 0
2018-03-02 10:26:01,457 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:01,459 - DEBUG - Entry ID is 247
2018-03-02 10:26:01,459 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:26:01,460 - DEBUG - OCA ID is 1
2018-03-02 10:26:01,460 - DEBUG - Connecting to IBController
2018-03-02 10:26:02,467 - DEBUG - Connected to IBController
2018-03-02 10:26:02,467 - DEBUG - Position requested
2018-03-02 10:26:02,469 - DEBUG - Pos Mgmt -12987
2018-03-02 10:26:02,470 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ABE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:26:02,470 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:26:02,470 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:26:02,470 - DEBUG - Position is -12987
2018-03-02 10:26:03,470 - DEBUG - Open Orders requested
2018-03-02 10:26:03,473 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x00000000020ABBE0>, order=<ib.ext.Order.Order object at 0x00000000020ABAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140160>>
2018-03-02 10:26:03,473 - DEBUG - Order OrderID 244
2018-03-02 10:26:03,473 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:26:03,473 - DEBUG - Order status PreSubmitted
2018-03-02 10:26:03,473 - DEBUG - Order Identification 244
2018-03-02 10:26:03,474 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:26:03,474 - DEBUG - Profit ID from database is 247
2018-03-02 10:26:03,474 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:26:03,474 - DEBUG - Stop ID database is 0
2018-03-02 10:26:03,476 - DEBUG - Entry ID database is 247
2018-03-02 10:26:03,476 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x00000000020ABBE0>, order=<ib.ext.Order.Order object at 0x00000000020ABAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021401D0>>
2018-03-02 10:26:03,476 - DEBUG - Order OrderID 246
2018-03-02 10:26:03,476 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:26:03,477 - DEBUG - Order status PreSubmitted
2018-03-02 10:26:03,477 - DEBUG - Order Identification 246
2018-03-02 10:26:03,477 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:26:03,479 - DEBUG - Profit ID from database is 247
2018-03-02 10:26:03,479 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:26:03,479 - DEBUG - Stop ID database is 0
2018-03-02 10:26:03,479 - DEBUG - Entry ID database is 247
2018-03-02 10:26:03,480 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x00000000020ABBE0>, order=<ib.ext.Order.Order object at 0x00000000020ABAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021402B0>>
2018-03-02 10:26:03,480 - DEBUG - Order OrderID 247
2018-03-02 10:26:03,480 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:26:03,480 - DEBUG - Order status PreSubmitted
2018-03-02 10:26:03,482 - DEBUG - Order Identification 247
2018-03-02 10:26:03,482 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:26:03,482 - DEBUG - Profit ID from database is 247
2018-03-02 10:26:03,482 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:26:03,483 - DEBUG - Stop ID database is 0
2018-03-02 10:26:03,483 - DEBUG - Entry ID database is 247
2018-03-02 10:26:03,483 - DEBUG - Profit API ID is 247
2018-03-02 10:26:03,483 - DEBUG - Entry API ID is 247
2018-03-02 10:26:05,470 - DEBUG - Connecting to database
2018-03-02 10:26:05,479 - DEBUG - Connected to database
2018-03-02 10:26:05,480 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,480 - DEBUG - Stop loss value is 68.15
2018-03-02 10:26:05,482 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,482 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:26:05,483 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,483 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:26:05,484 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,486 - DEBUG - Stop quantity 1
2018-03-02 10:26:05,486 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,486 - DEBUG - Direction is Short
2018-03-02 10:26:05,489 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,489 - DEBUG - Count is 0
2018-03-02 10:26:05,490 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:26:05,490 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:26:05,493 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:26:05,493 - DEBUG - Max ID Order is (247,)
2018-03-02 10:26:05,493 - DEBUG - Today is 2018-03-02
2018-03-02 10:26:05,493 - DEBUG - Day of the week 4
2018-03-02 10:26:05,493 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:26:05,494 - DEBUG - In Position is  0
2018-03-02 10:26:05,494 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:26:05,494 - DEBUG - curStopLossFlag is  0
2018-03-02 10:26:05,494 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:26:05,496 - DEBUG - Checking if Entry has been filled
2018-03-02 10:26:05,496 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:26:05,496 - DEBUG - EntryPend is 1
2018-03-02 10:26:05,497 - DEBUG - Try to Cancel Stop
2018-03-02 10:26:05,497 - DEBUG - Stop API ID 0
2018-03-02 10:26:05,497 - DEBUG - Profit API ID 247
2018-03-02 10:26:05,497 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:26:05,497 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:26:05,499 - DEBUG - Pos is 0
2018-03-02 10:26:05,499 - DEBUG - CurCount is 0
2018-03-02 10:26:05,499 - DEBUG - In Pos 0
2018-03-02 10:26:05,499 - DEBUG - Stop ID is 0
2018-03-02 10:26:05,500 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:26:05,500 - DEBUG - EntryPend is 1
2018-03-02 10:26:05,500 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:26:05,500 - DEBUG - Entry Date is 10
2018-03-02 10:26:05,502 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:26:05,502 - DEBUG - Order Profit ID is 247
2018-03-02 10:26:05,502 - DEBUG - Order Entry ID is 247
2018-03-02 10:26:05,502 - DEBUG - API ID is  0
2018-03-02 10:26:05,503 - DEBUG - Current Position is 0
2018-03-02 10:26:05,503 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:26:05,503 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:26:05,503 - DEBUG - Time is 10
2018-03-02 10:26:05,503 - DEBUG - Time is <class 'int'>
2018-03-02 10:26:05,503 - DEBUG - Time is 26
2018-03-02 10:26:05,503 - DEBUG - Time is <class 'int'>
2018-03-02 10:26:05,503 - DEBUG - Disconnected from IBController
2018-03-02 10:26:05,505 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:31:01,357 - DEBUG - ****************************************************
2018-03-02 10:31:01,357 - DEBUG - Current Time is 10:31AM
2018-03-02 10:31:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:31:01,358 - DEBUG - Connecting to database
2018-03-02 10:31:01,397 - DEBUG - Connected to database
2018-03-02 10:31:01,397 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:01,400 - DEBUG - Order Profit is 247
2018-03-02 10:31:01,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:01,401 - DEBUG - Stop ID is 0
2018-03-02 10:31:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:01,403 - DEBUG - Entry ID is 247
2018-03-02 10:31:01,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:31:01,404 - DEBUG - OCA ID is 1
2018-03-02 10:31:01,404 - DEBUG - Connecting to IBController
2018-03-02 10:31:02,417 - DEBUG - Connected to IBController
2018-03-02 10:31:02,417 - DEBUG - Position requested
2018-03-02 10:31:02,418 - DEBUG - Pos Mgmt -12987
2018-03-02 10:31:02,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC88>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:31:02,418 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:31:02,420 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:31:02,420 - DEBUG - Position is -12987
2018-03-02 10:31:03,417 - DEBUG - Open Orders requested
2018-03-02 10:31:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-03-02 10:31:03,421 - DEBUG - Order OrderID 244
2018-03-02 10:31:03,421 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:31:03,421 - DEBUG - Order status PreSubmitted
2018-03-02 10:31:03,421 - DEBUG - Order Identification 244
2018-03-02 10:31:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:31:03,423 - DEBUG - Profit ID from database is 247
2018-03-02 10:31:03,423 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:31:03,423 - DEBUG - Stop ID database is 0
2018-03-02 10:31:03,423 - DEBUG - Entry ID database is 247
2018-03-02 10:31:03,424 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D21D0>>
2018-03-02 10:31:03,424 - DEBUG - Order OrderID 246
2018-03-02 10:31:03,424 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:31:03,426 - DEBUG - Order status PreSubmitted
2018-03-02 10:31:03,426 - DEBUG - Order Identification 246
2018-03-02 10:31:03,426 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:31:03,426 - DEBUG - Profit ID from database is 247
2018-03-02 10:31:03,426 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:31:03,427 - DEBUG - Stop ID database is 0
2018-03-02 10:31:03,427 - DEBUG - Entry ID database is 247
2018-03-02 10:31:03,427 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D22B0>>
2018-03-02 10:31:03,427 - DEBUG - Order OrderID 247
2018-03-02 10:31:03,428 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:31:03,428 - DEBUG - Order status PreSubmitted
2018-03-02 10:31:03,428 - DEBUG - Order Identification 247
2018-03-02 10:31:03,428 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:31:03,430 - DEBUG - Profit ID from database is 247
2018-03-02 10:31:03,430 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:31:03,430 - DEBUG - Stop ID database is 0
2018-03-02 10:31:03,430 - DEBUG - Entry ID database is 247
2018-03-02 10:31:03,430 - DEBUG - Profit API ID is 247
2018-03-02 10:31:03,430 - DEBUG - Entry API ID is 247
2018-03-02 10:31:05,417 - DEBUG - Connecting to database
2018-03-02 10:31:05,424 - DEBUG - Connected to database
2018-03-02 10:31:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,427 - DEBUG - Stop loss value is 68.15
2018-03-02 10:31:05,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,428 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:31:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,430 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:31:05,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,431 - DEBUG - Stop quantity 1
2018-03-02 10:31:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,434 - DEBUG - Direction is Short
2018-03-02 10:31:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,436 - DEBUG - Count is 0
2018-03-02 10:31:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:31:05,438 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:31:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:31:05,440 - DEBUG - Max ID Order is (247,)
2018-03-02 10:31:05,441 - DEBUG - Today is 2018-03-02
2018-03-02 10:31:05,441 - DEBUG - Day of the week 4
2018-03-02 10:31:05,441 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:31:05,443 - DEBUG - In Position is  0
2018-03-02 10:31:05,443 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:31:05,443 - DEBUG - curStopLossFlag is  0
2018-03-02 10:31:05,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:31:05,443 - DEBUG - Checking if Entry has been filled
2018-03-02 10:31:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:31:05,444 - DEBUG - EntryPend is 1
2018-03-02 10:31:05,444 - DEBUG - Try to Cancel Stop
2018-03-02 10:31:05,446 - DEBUG - Stop API ID 0
2018-03-02 10:31:05,446 - DEBUG - Profit API ID 247
2018-03-02 10:31:05,446 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:31:05,446 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:31:05,447 - DEBUG - Pos is 0
2018-03-02 10:31:05,447 - DEBUG - CurCount is 0
2018-03-02 10:31:05,447 - DEBUG - In Pos 0
2018-03-02 10:31:05,447 - DEBUG - Stop ID is 0
2018-03-02 10:31:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:31:05,448 - DEBUG - EntryPend is 1
2018-03-02 10:31:05,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:31:05,450 - DEBUG - Entry Date is 10
2018-03-02 10:31:05,450 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:31:05,450 - DEBUG - Order Profit ID is 247
2018-03-02 10:31:05,450 - DEBUG - Order Entry ID is 247
2018-03-02 10:31:05,450 - DEBUG - API ID is  0
2018-03-02 10:31:05,450 - DEBUG - Current Position is 0
2018-03-02 10:31:05,450 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:31:05,450 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:31:05,450 - DEBUG - Time is 10
2018-03-02 10:31:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 10:31:05,451 - DEBUG - Time is 31
2018-03-02 10:31:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 10:31:05,451 - DEBUG - Disconnected from IBController
2018-03-02 10:31:05,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:36:01,355 - DEBUG - ****************************************************
2018-03-02 10:36:01,357 - DEBUG - Current Time is 10:36AM
2018-03-02 10:36:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:36:01,357 - DEBUG - Connecting to database
2018-03-02 10:36:01,404 - DEBUG - Connected to database
2018-03-02 10:36:01,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:01,407 - DEBUG - Order Profit is 247
2018-03-02 10:36:01,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:01,410 - DEBUG - Stop ID is 0
2018-03-02 10:36:01,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:01,411 - DEBUG - Entry ID is 247
2018-03-02 10:36:01,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:36:01,413 - DEBUG - OCA ID is 1
2018-03-02 10:36:01,413 - DEBUG - Connecting to IBController
2018-03-02 10:36:02,424 - DEBUG - Connected to IBController
2018-03-02 10:36:02,424 - DEBUG - Position requested
2018-03-02 10:36:02,426 - DEBUG - Pos Mgmt -12987
2018-03-02 10:36:02,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BDD8>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:36:02,427 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:36:02,427 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:36:02,427 - DEBUG - Position is -12987
2018-03-02 10:36:03,426 - DEBUG - Open Orders requested
2018-03-02 10:36:03,428 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000203BE10>, order=<ib.ext.Order.Order object at 0x000000000203BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D01D0>>
2018-03-02 10:36:03,428 - DEBUG - Order OrderID 244
2018-03-02 10:36:03,430 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:36:03,430 - DEBUG - Order status PreSubmitted
2018-03-02 10:36:03,430 - DEBUG - Order Identification 244
2018-03-02 10:36:03,430 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:36:03,430 - DEBUG - Profit ID from database is 247
2018-03-02 10:36:03,430 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:36:03,430 - DEBUG - Stop ID database is 0
2018-03-02 10:36:03,431 - DEBUG - Entry ID database is 247
2018-03-02 10:36:03,433 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000203BE10>, order=<ib.ext.Order.Order object at 0x000000000203BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0080>>
2018-03-02 10:36:03,433 - DEBUG - Order OrderID 246
2018-03-02 10:36:03,433 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:36:03,434 - DEBUG - Order status PreSubmitted
2018-03-02 10:36:03,434 - DEBUG - Order Identification 246
2018-03-02 10:36:03,434 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:36:03,434 - DEBUG - Profit ID from database is 247
2018-03-02 10:36:03,434 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:36:03,434 - DEBUG - Stop ID database is 0
2018-03-02 10:36:03,434 - DEBUG - Entry ID database is 247
2018-03-02 10:36:03,436 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000203BE10>, order=<ib.ext.Order.Order object at 0x000000000203BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0240>>
2018-03-02 10:36:03,436 - DEBUG - Order OrderID 247
2018-03-02 10:36:03,437 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:36:03,437 - DEBUG - Order status PreSubmitted
2018-03-02 10:36:03,437 - DEBUG - Order Identification 247
2018-03-02 10:36:03,437 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:36:03,437 - DEBUG - Profit ID from database is 247
2018-03-02 10:36:03,437 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:36:03,437 - DEBUG - Stop ID database is 0
2018-03-02 10:36:03,437 - DEBUG - Entry ID database is 247
2018-03-02 10:36:03,438 - DEBUG - Profit API ID is 247
2018-03-02 10:36:03,438 - DEBUG - Entry API ID is 247
2018-03-02 10:36:05,428 - DEBUG - Connecting to database
2018-03-02 10:36:05,436 - DEBUG - Connected to database
2018-03-02 10:36:05,437 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,437 - DEBUG - Stop loss value is 68.15
2018-03-02 10:36:05,438 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,438 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:36:05,440 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,440 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:36:05,443 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,443 - DEBUG - Stop quantity 1
2018-03-02 10:36:05,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,444 - DEBUG - Direction is Short
2018-03-02 10:36:05,446 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,446 - DEBUG - Count is 0
2018-03-02 10:36:05,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:36:05,447 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:36:05,448 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:36:05,450 - DEBUG - Max ID Order is (247,)
2018-03-02 10:36:05,450 - DEBUG - Today is 2018-03-02
2018-03-02 10:36:05,450 - DEBUG - Day of the week 4
2018-03-02 10:36:05,450 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:36:05,450 - DEBUG - In Position is  0
2018-03-02 10:36:05,450 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:36:05,450 - DEBUG - curStopLossFlag is  0
2018-03-02 10:36:05,451 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:36:05,451 - DEBUG - Checking if Entry has been filled
2018-03-02 10:36:05,451 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:36:05,453 - DEBUG - EntryPend is 1
2018-03-02 10:36:05,453 - DEBUG - Try to Cancel Stop
2018-03-02 10:36:05,453 - DEBUG - Stop API ID 0
2018-03-02 10:36:05,453 - DEBUG - Profit API ID 247
2018-03-02 10:36:05,453 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:36:05,453 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:36:05,454 - DEBUG - Pos is 0
2018-03-02 10:36:05,454 - DEBUG - CurCount is 0
2018-03-02 10:36:05,454 - DEBUG - In Pos 0
2018-03-02 10:36:05,454 - DEBUG - Stop ID is 0
2018-03-02 10:36:05,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:36:05,457 - DEBUG - EntryPend is 1
2018-03-02 10:36:05,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:36:05,457 - DEBUG - Entry Date is 10
2018-03-02 10:36:05,457 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:36:05,457 - DEBUG - Order Profit ID is 247
2018-03-02 10:36:05,457 - DEBUG - Order Entry ID is 247
2018-03-02 10:36:05,457 - DEBUG - API ID is  0
2018-03-02 10:36:05,457 - DEBUG - Current Position is 0
2018-03-02 10:36:05,459 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:36:05,459 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:36:05,459 - DEBUG - Time is 10
2018-03-02 10:36:05,459 - DEBUG - Time is <class 'int'>
2018-03-02 10:36:05,460 - DEBUG - Time is 36
2018-03-02 10:36:05,460 - DEBUG - Time is <class 'int'>
2018-03-02 10:36:05,460 - DEBUG - Disconnected from IBController
2018-03-02 10:36:05,460 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:41:01,352 - DEBUG - ****************************************************
2018-03-02 10:41:01,352 - DEBUG - Current Time is 10:41AM
2018-03-02 10:41:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:41:01,354 - DEBUG - Connecting to database
2018-03-02 10:41:01,378 - DEBUG - Connected to database
2018-03-02 10:41:01,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:01,381 - DEBUG - Order Profit is 247
2018-03-02 10:41:01,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:01,382 - DEBUG - Stop ID is 0
2018-03-02 10:41:01,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:01,384 - DEBUG - Entry ID is 247
2018-03-02 10:41:01,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:41:01,385 - DEBUG - OCA ID is 1
2018-03-02 10:41:01,385 - DEBUG - Connecting to IBController
2018-03-02 10:41:02,394 - DEBUG - Connected to IBController
2018-03-02 10:41:02,394 - DEBUG - Position requested
2018-03-02 10:41:02,395 - DEBUG - Pos Mgmt -12987
2018-03-02 10:41:02,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CBE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:41:02,397 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:41:02,398 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:41:02,398 - DEBUG - Position is -12987
2018-03-02 10:41:03,397 - DEBUG - Open Orders requested
2018-03-02 10:41:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x00000000020CBCC0>, order=<ib.ext.Order.Order object at 0x00000000020CBCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020CBAC8>>
2018-03-02 10:41:03,403 - DEBUG - Order OrderID 244
2018-03-02 10:41:03,404 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:41:03,404 - DEBUG - Order status PreSubmitted
2018-03-02 10:41:03,404 - DEBUG - Order Identification 244
2018-03-02 10:41:03,404 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:41:03,404 - DEBUG - Profit ID from database is 247
2018-03-02 10:41:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:41:03,404 - DEBUG - Stop ID database is 0
2018-03-02 10:41:03,405 - DEBUG - Entry ID database is 247
2018-03-02 10:41:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x00000000020CBCF8>, order=<ib.ext.Order.Order object at 0x00000000020CBAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021601D0>>
2018-03-02 10:41:03,407 - DEBUG - Order OrderID 246
2018-03-02 10:41:03,407 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:41:03,407 - DEBUG - Order status PreSubmitted
2018-03-02 10:41:03,407 - DEBUG - Order Identification 246
2018-03-02 10:41:03,407 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:41:03,407 - DEBUG - Profit ID from database is 247
2018-03-02 10:41:03,408 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:41:03,408 - DEBUG - Stop ID database is 0
2018-03-02 10:41:03,408 - DEBUG - Entry ID database is 247
2018-03-02 10:41:03,410 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x00000000020CBCF8>, order=<ib.ext.Order.Order object at 0x00000000020CBAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021602B0>>
2018-03-02 10:41:03,411 - DEBUG - Order OrderID 247
2018-03-02 10:41:03,411 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:41:03,411 - DEBUG - Order status PreSubmitted
2018-03-02 10:41:03,411 - DEBUG - Order Identification 247
2018-03-02 10:41:03,411 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:41:03,411 - DEBUG - Profit ID from database is 247
2018-03-02 10:41:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:41:03,413 - DEBUG - Stop ID database is 0
2018-03-02 10:41:03,413 - DEBUG - Entry ID database is 247
2018-03-02 10:41:03,413 - DEBUG - Profit API ID is 247
2018-03-02 10:41:03,413 - DEBUG - Entry API ID is 247
2018-03-02 10:41:05,401 - DEBUG - Connecting to database
2018-03-02 10:41:05,408 - DEBUG - Connected to database
2018-03-02 10:41:05,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,411 - DEBUG - Stop loss value is 68.15
2018-03-02 10:41:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,413 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:41:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,414 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:41:05,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,415 - DEBUG - Stop quantity 1
2018-03-02 10:41:05,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,417 - DEBUG - Direction is Short
2018-03-02 10:41:05,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,418 - DEBUG - Count is 0
2018-03-02 10:41:05,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:41:05,421 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:41:05,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:41:05,423 - DEBUG - Max ID Order is (247,)
2018-03-02 10:41:05,423 - DEBUG - Today is 2018-03-02
2018-03-02 10:41:05,424 - DEBUG - Day of the week 4
2018-03-02 10:41:05,424 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:41:05,424 - DEBUG - In Position is  0
2018-03-02 10:41:05,424 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:41:05,424 - DEBUG - curStopLossFlag is  0
2018-03-02 10:41:05,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:41:05,424 - DEBUG - Checking if Entry has been filled
2018-03-02 10:41:05,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:41:05,427 - DEBUG - EntryPend is 1
2018-03-02 10:41:05,427 - DEBUG - Try to Cancel Stop
2018-03-02 10:41:05,427 - DEBUG - Stop API ID 0
2018-03-02 10:41:05,427 - DEBUG - Profit API ID 247
2018-03-02 10:41:05,427 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:41:05,427 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:41:05,427 - DEBUG - Pos is 0
2018-03-02 10:41:05,427 - DEBUG - CurCount is 0
2018-03-02 10:41:05,428 - DEBUG - In Pos 0
2018-03-02 10:41:05,428 - DEBUG - Stop ID is 0
2018-03-02 10:41:05,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:41:05,430 - DEBUG - EntryPend is 1
2018-03-02 10:41:05,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:41:05,430 - DEBUG - Entry Date is 10
2018-03-02 10:41:05,430 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:41:05,430 - DEBUG - Order Profit ID is 247
2018-03-02 10:41:05,431 - DEBUG - Order Entry ID is 247
2018-03-02 10:41:05,431 - DEBUG - API ID is  0
2018-03-02 10:41:05,431 - DEBUG - Current Position is 0
2018-03-02 10:41:05,431 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:41:05,433 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:41:05,433 - DEBUG - Time is 10
2018-03-02 10:41:05,433 - DEBUG - Time is <class 'int'>
2018-03-02 10:41:05,433 - DEBUG - Time is 41
2018-03-02 10:41:05,434 - DEBUG - Time is <class 'int'>
2018-03-02 10:41:05,434 - DEBUG - Disconnected from IBController
2018-03-02 10:41:05,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:46:01,349 - DEBUG - ****************************************************
2018-03-02 10:46:01,349 - DEBUG - Current Time is 10:46AM
2018-03-02 10:46:01,351 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:46:01,351 - DEBUG - Connecting to database
2018-03-02 10:46:01,400 - DEBUG - Connected to database
2018-03-02 10:46:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:01,403 - DEBUG - Order Profit is 247
2018-03-02 10:46:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:01,404 - DEBUG - Stop ID is 0
2018-03-02 10:46:01,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:01,405 - DEBUG - Entry ID is 247
2018-03-02 10:46:01,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:46:01,407 - DEBUG - OCA ID is 1
2018-03-02 10:46:01,407 - DEBUG - Connecting to IBController
2018-03-02 10:46:02,415 - DEBUG - Connected to IBController
2018-03-02 10:46:02,415 - DEBUG - Position requested
2018-03-02 10:46:02,417 - DEBUG - Pos Mgmt -12987
2018-03-02 10:46:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207BAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:46:02,423 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:46:02,423 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:46:02,424 - DEBUG - Position is -12987
2018-03-02 10:46:03,417 - DEBUG - Open Orders requested
2018-03-02 10:46:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000207BCC0>, order=<ib.ext.Order.Order object at 0x000000000207BE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021101D0>>
2018-03-02 10:46:03,418 - DEBUG - Order OrderID 244
2018-03-02 10:46:03,420 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:46:03,420 - DEBUG - Order status PreSubmitted
2018-03-02 10:46:03,421 - DEBUG - Order Identification 244
2018-03-02 10:46:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:46:03,421 - DEBUG - Profit ID from database is 247
2018-03-02 10:46:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:46:03,421 - DEBUG - Stop ID database is 0
2018-03-02 10:46:03,421 - DEBUG - Entry ID database is 247
2018-03-02 10:46:03,423 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000207BCC0>, order=<ib.ext.Order.Order object at 0x000000000207BE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110048>>
2018-03-02 10:46:03,423 - DEBUG - Order OrderID 246
2018-03-02 10:46:03,423 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:46:03,424 - DEBUG - Order status PreSubmitted
2018-03-02 10:46:03,424 - DEBUG - Order Identification 246
2018-03-02 10:46:03,424 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:46:03,424 - DEBUG - Profit ID from database is 247
2018-03-02 10:46:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:46:03,424 - DEBUG - Stop ID database is 0
2018-03-02 10:46:03,424 - DEBUG - Entry ID database is 247
2018-03-02 10:46:03,426 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000207BCC0>, order=<ib.ext.Order.Order object at 0x000000000207BE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110240>>
2018-03-02 10:46:03,426 - DEBUG - Order OrderID 247
2018-03-02 10:46:03,427 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:46:03,427 - DEBUG - Order status PreSubmitted
2018-03-02 10:46:03,427 - DEBUG - Order Identification 247
2018-03-02 10:46:03,427 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:46:03,427 - DEBUG - Profit ID from database is 247
2018-03-02 10:46:03,427 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:46:03,427 - DEBUG - Stop ID database is 0
2018-03-02 10:46:03,428 - DEBUG - Entry ID database is 247
2018-03-02 10:46:03,428 - DEBUG - Profit API ID is 247
2018-03-02 10:46:03,428 - DEBUG - Entry API ID is 247
2018-03-02 10:46:05,418 - DEBUG - Connecting to database
2018-03-02 10:46:05,426 - DEBUG - Connected to database
2018-03-02 10:46:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,427 - DEBUG - Stop loss value is 68.15
2018-03-02 10:46:05,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,430 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:46:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,430 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:46:05,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,433 - DEBUG - Stop quantity 1
2018-03-02 10:46:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,434 - DEBUG - Direction is Short
2018-03-02 10:46:05,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,437 - DEBUG - Count is 0
2018-03-02 10:46:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:46:05,438 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:46:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:46:05,440 - DEBUG - Max ID Order is (247,)
2018-03-02 10:46:05,440 - DEBUG - Today is 2018-03-02
2018-03-02 10:46:05,440 - DEBUG - Day of the week 4
2018-03-02 10:46:05,441 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:46:05,441 - DEBUG - In Position is  0
2018-03-02 10:46:05,441 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:46:05,441 - DEBUG - curStopLossFlag is  0
2018-03-02 10:46:05,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:46:05,443 - DEBUG - Checking if Entry has been filled
2018-03-02 10:46:05,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:46:05,444 - DEBUG - EntryPend is 1
2018-03-02 10:46:05,444 - DEBUG - Try to Cancel Stop
2018-03-02 10:46:05,444 - DEBUG - Stop API ID 0
2018-03-02 10:46:05,444 - DEBUG - Profit API ID 247
2018-03-02 10:46:05,444 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:46:05,444 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:46:05,446 - DEBUG - Pos is 0
2018-03-02 10:46:05,446 - DEBUG - CurCount is 0
2018-03-02 10:46:05,446 - DEBUG - In Pos 0
2018-03-02 10:46:05,446 - DEBUG - Stop ID is 0
2018-03-02 10:46:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:46:05,447 - DEBUG - EntryPend is 1
2018-03-02 10:46:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:46:05,448 - DEBUG - Entry Date is 10
2018-03-02 10:46:05,448 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:46:05,448 - DEBUG - Order Profit ID is 247
2018-03-02 10:46:05,448 - DEBUG - Order Entry ID is 247
2018-03-02 10:46:05,448 - DEBUG - API ID is  0
2018-03-02 10:46:05,450 - DEBUG - Current Position is 0
2018-03-02 10:46:05,450 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:46:05,450 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:46:05,450 - DEBUG - Time is 10
2018-03-02 10:46:05,450 - DEBUG - Time is <class 'int'>
2018-03-02 10:46:05,450 - DEBUG - Time is 46
2018-03-02 10:46:05,450 - DEBUG - Time is <class 'int'>
2018-03-02 10:46:05,450 - DEBUG - Disconnected from IBController
2018-03-02 10:46:05,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:51:01,358 - DEBUG - ****************************************************
2018-03-02 10:51:01,358 - DEBUG - Current Time is 10:51AM
2018-03-02 10:51:01,359 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:51:01,359 - DEBUG - Connecting to database
2018-03-02 10:51:01,394 - DEBUG - Connected to database
2018-03-02 10:51:01,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:01,397 - DEBUG - Order Profit is 247
2018-03-02 10:51:01,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:01,398 - DEBUG - Stop ID is 0
2018-03-02 10:51:01,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:01,401 - DEBUG - Entry ID is 247
2018-03-02 10:51:01,401 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:51:01,401 - DEBUG - OCA ID is 1
2018-03-02 10:51:01,403 - DEBUG - Connecting to IBController
2018-03-02 10:51:02,410 - DEBUG - Connected to IBController
2018-03-02 10:51:02,410 - DEBUG - Position requested
2018-03-02 10:51:02,411 - DEBUG - Pos Mgmt -12987
2018-03-02 10:51:02,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:51:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:51:02,413 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:51:02,413 - DEBUG - Position is -12987
2018-03-02 10:51:03,411 - DEBUG - Open Orders requested
2018-03-02 10:51:03,414 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000207DBA8>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021111D0>>
2018-03-02 10:51:03,414 - DEBUG - Order OrderID 244
2018-03-02 10:51:03,414 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:51:03,415 - DEBUG - Order status PreSubmitted
2018-03-02 10:51:03,415 - DEBUG - Order Identification 244
2018-03-02 10:51:03,415 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:51:03,415 - DEBUG - Profit ID from database is 247
2018-03-02 10:51:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:51:03,417 - DEBUG - Stop ID database is 0
2018-03-02 10:51:03,417 - DEBUG - Entry ID database is 247
2018-03-02 10:51:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000207DBA8>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111080>>
2018-03-02 10:51:03,418 - DEBUG - Order OrderID 246
2018-03-02 10:51:03,418 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:51:03,418 - DEBUG - Order status PreSubmitted
2018-03-02 10:51:03,420 - DEBUG - Order Identification 246
2018-03-02 10:51:03,420 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:51:03,420 - DEBUG - Profit ID from database is 247
2018-03-02 10:51:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:51:03,421 - DEBUG - Stop ID database is 0
2018-03-02 10:51:03,421 - DEBUG - Entry ID database is 247
2018-03-02 10:51:03,421 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000207DBA8>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111240>>
2018-03-02 10:51:03,421 - DEBUG - Order OrderID 247
2018-03-02 10:51:03,423 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:51:03,423 - DEBUG - Order status PreSubmitted
2018-03-02 10:51:03,423 - DEBUG - Order Identification 247
2018-03-02 10:51:03,423 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:51:03,424 - DEBUG - Profit ID from database is 247
2018-03-02 10:51:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:51:03,424 - DEBUG - Stop ID database is 0
2018-03-02 10:51:03,424 - DEBUG - Entry ID database is 247
2018-03-02 10:51:03,424 - DEBUG - Profit API ID is 247
2018-03-02 10:51:03,424 - DEBUG - Entry API ID is 247
2018-03-02 10:51:05,414 - DEBUG - Connecting to database
2018-03-02 10:51:05,421 - DEBUG - Connected to database
2018-03-02 10:51:05,424 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,424 - DEBUG - Stop loss value is 68.15
2018-03-02 10:51:05,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,426 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:51:05,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,427 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:51:05,428 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,428 - DEBUG - Stop quantity 1
2018-03-02 10:51:05,430 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,430 - DEBUG - Direction is Short
2018-03-02 10:51:05,433 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,433 - DEBUG - Count is 0
2018-03-02 10:51:05,434 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:51:05,434 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:51:05,436 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:51:05,436 - DEBUG - Max ID Order is (247,)
2018-03-02 10:51:05,437 - DEBUG - Today is 2018-03-02
2018-03-02 10:51:05,437 - DEBUG - Day of the week 4
2018-03-02 10:51:05,437 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:51:05,437 - DEBUG - In Position is  0
2018-03-02 10:51:05,437 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:51:05,437 - DEBUG - curStopLossFlag is  0
2018-03-02 10:51:05,437 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:51:05,438 - DEBUG - Checking if Entry has been filled
2018-03-02 10:51:05,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:51:05,440 - DEBUG - EntryPend is 1
2018-03-02 10:51:05,440 - DEBUG - Try to Cancel Stop
2018-03-02 10:51:05,440 - DEBUG - Stop API ID 0
2018-03-02 10:51:05,440 - DEBUG - Profit API ID 247
2018-03-02 10:51:05,440 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:51:05,441 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:51:05,441 - DEBUG - Pos is 0
2018-03-02 10:51:05,441 - DEBUG - CurCount is 0
2018-03-02 10:51:05,441 - DEBUG - In Pos 0
2018-03-02 10:51:05,441 - DEBUG - Stop ID is 0
2018-03-02 10:51:05,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:51:05,444 - DEBUG - EntryPend is 1
2018-03-02 10:51:05,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:51:05,444 - DEBUG - Entry Date is 10
2018-03-02 10:51:05,444 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:51:05,444 - DEBUG - Order Profit ID is 247
2018-03-02 10:51:05,444 - DEBUG - Order Entry ID is 247
2018-03-02 10:51:05,446 - DEBUG - API ID is  0
2018-03-02 10:51:05,446 - DEBUG - Current Position is 0
2018-03-02 10:51:05,446 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:51:05,446 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:51:05,447 - DEBUG - Time is 10
2018-03-02 10:51:05,447 - DEBUG - Time is <class 'int'>
2018-03-02 10:51:05,447 - DEBUG - Time is 51
2018-03-02 10:51:05,447 - DEBUG - Time is <class 'int'>
2018-03-02 10:51:05,447 - DEBUG - Disconnected from IBController
2018-03-02 10:51:05,447 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 10:56:01,357 - DEBUG - ****************************************************
2018-03-02 10:56:01,357 - DEBUG - Current Time is 10:56AM
2018-03-02 10:56:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 10:56:01,358 - DEBUG - Connecting to database
2018-03-02 10:56:01,385 - DEBUG - Connected to database
2018-03-02 10:56:01,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:01,388 - DEBUG - Order Profit is 247
2018-03-02 10:56:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:01,390 - DEBUG - Stop ID is 0
2018-03-02 10:56:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:01,391 - DEBUG - Entry ID is 247
2018-03-02 10:56:01,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 10:56:01,392 - DEBUG - OCA ID is 1
2018-03-02 10:56:01,394 - DEBUG - Connecting to IBController
2018-03-02 10:56:02,400 - DEBUG - Connected to IBController
2018-03-02 10:56:02,400 - DEBUG - Position requested
2018-03-02 10:56:02,403 - DEBUG - Pos Mgmt -12987
2018-03-02 10:56:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CDA0>, pos=-12987, avgCost=0.95368235>
2018-03-02 10:56:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 10:56:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 10:56:02,404 - DEBUG - Position is -12987
2018-03-02 10:56:03,403 - DEBUG - Open Orders requested
2018-03-02 10:56:03,404 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000206CD68>, order=<ib.ext.Order.Order object at 0x000000000206CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021011D0>>
2018-03-02 10:56:03,404 - DEBUG - Order OrderID 244
2018-03-02 10:56:03,405 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:56:03,405 - DEBUG - Order status PreSubmitted
2018-03-02 10:56:03,405 - DEBUG - Order Identification 244
2018-03-02 10:56:03,407 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:56:03,407 - DEBUG - Profit ID from database is 247
2018-03-02 10:56:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:56:03,407 - DEBUG - Stop ID database is 0
2018-03-02 10:56:03,407 - DEBUG - Entry ID database is 247
2018-03-02 10:56:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000206CD68>, order=<ib.ext.Order.Order object at 0x000000000206CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-03-02 10:56:03,408 - DEBUG - Order OrderID 246
2018-03-02 10:56:03,408 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:56:03,410 - DEBUG - Order status PreSubmitted
2018-03-02 10:56:03,410 - DEBUG - Order Identification 246
2018-03-02 10:56:03,410 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:56:03,410 - DEBUG - Profit ID from database is 247
2018-03-02 10:56:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:56:03,411 - DEBUG - Stop ID database is 0
2018-03-02 10:56:03,411 - DEBUG - Entry ID database is 247
2018-03-02 10:56:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000206CD68>, order=<ib.ext.Order.Order object at 0x000000000206CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101240>>
2018-03-02 10:56:03,411 - DEBUG - Order OrderID 247
2018-03-02 10:56:03,413 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 10:56:03,413 - DEBUG - Order status PreSubmitted
2018-03-02 10:56:03,413 - DEBUG - Order Identification 247
2018-03-02 10:56:03,414 - DEBUG - Order Identification <class 'int'>
2018-03-02 10:56:03,414 - DEBUG - Profit ID from database is 247
2018-03-02 10:56:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 10:56:03,414 - DEBUG - Stop ID database is 0
2018-03-02 10:56:03,414 - DEBUG - Entry ID database is 247
2018-03-02 10:56:03,414 - DEBUG - Profit API ID is 247
2018-03-02 10:56:03,414 - DEBUG - Entry API ID is 247
2018-03-02 10:56:05,404 - DEBUG - Connecting to database
2018-03-02 10:56:05,413 - DEBUG - Connected to database
2018-03-02 10:56:05,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,414 - DEBUG - Stop loss value is 68.15
2018-03-02 10:56:05,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,417 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 10:56:05,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,418 - DEBUG - EntryPrice value is 66.6
2018-03-02 10:56:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,421 - DEBUG - Stop quantity 1
2018-03-02 10:56:05,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,423 - DEBUG - Direction is Short
2018-03-02 10:56:05,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,424 - DEBUG - Count is 0
2018-03-02 10:56:05,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 10:56:05,426 - DEBUG - Stop Loss Flag is 0
2018-03-02 10:56:05,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 10:56:05,427 - DEBUG - Max ID Order is (247,)
2018-03-02 10:56:05,427 - DEBUG - Today is 2018-03-02
2018-03-02 10:56:05,428 - DEBUG - Day of the week 4
2018-03-02 10:56:05,428 - DEBUG - Yesterday is 03/01/2018
2018-03-02 10:56:05,428 - DEBUG - In Position is  0
2018-03-02 10:56:05,430 - DEBUG - In Position is  <class 'int'>
2018-03-02 10:56:05,430 - DEBUG - curStopLossFlag is  0
2018-03-02 10:56:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 10:56:05,430 - DEBUG - Checking if Entry has been filled
2018-03-02 10:56:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:56:05,431 - DEBUG - EntryPend is 1
2018-03-02 10:56:05,431 - DEBUG - Try to Cancel Stop
2018-03-02 10:56:05,433 - DEBUG - Stop API ID 0
2018-03-02 10:56:05,433 - DEBUG - Profit API ID 247
2018-03-02 10:56:05,433 - DEBUG - Stop API ID <class 'int'>
2018-03-02 10:56:05,434 - DEBUG - Profit API ID <class 'int'>
2018-03-02 10:56:05,434 - DEBUG - Pos is 0
2018-03-02 10:56:05,434 - DEBUG - CurCount is 0
2018-03-02 10:56:05,434 - DEBUG - In Pos 0
2018-03-02 10:56:05,434 - DEBUG - Stop ID is 0
2018-03-02 10:56:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 10:56:05,436 - DEBUG - EntryPend is 1
2018-03-02 10:56:05,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 10:56:05,437 - DEBUG - Entry Date is 10
2018-03-02 10:56:05,437 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 10:56:05,437 - DEBUG - Order Profit ID is 247
2018-03-02 10:56:05,437 - DEBUG - Order Entry ID is 247
2018-03-02 10:56:05,437 - DEBUG - API ID is  0
2018-03-02 10:56:05,437 - DEBUG - Current Position is 0
2018-03-02 10:56:05,437 - DEBUG - Current Position is <class 'str'>
2018-03-02 10:56:05,437 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 10:56:05,438 - DEBUG - Time is 10
2018-03-02 10:56:05,438 - DEBUG - Time is <class 'int'>
2018-03-02 10:56:05,438 - DEBUG - Time is 56
2018-03-02 10:56:05,438 - DEBUG - Time is <class 'int'>
2018-03-02 10:56:05,440 - DEBUG - Disconnected from IBController
2018-03-02 10:56:05,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:01:01,413 - DEBUG - ****************************************************
2018-03-02 11:01:01,413 - DEBUG - Current Time is 11:01AM
2018-03-02 11:01:01,413 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:01:01,414 - DEBUG - Connecting to database
2018-03-02 11:01:01,436 - DEBUG - Connected to database
2018-03-02 11:01:01,436 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:01,437 - DEBUG - Order Profit is 247
2018-03-02 11:01:01,438 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:01,440 - DEBUG - Stop ID is 0
2018-03-02 11:01:01,440 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:01,441 - DEBUG - Entry ID is 247
2018-03-02 11:01:01,441 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:01:01,444 - DEBUG - OCA ID is 1
2018-03-02 11:01:01,444 - DEBUG - Connecting to IBController
2018-03-02 11:01:02,450 - DEBUG - Connected to IBController
2018-03-02 11:01:02,450 - DEBUG - Position requested
2018-03-02 11:01:02,451 - DEBUG - Pos Mgmt -12987
2018-03-02 11:01:02,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DE48>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:01:02,453 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:01:02,453 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:01:02,453 - DEBUG - Position is -12987
2018-03-02 11:01:03,453 - DEBUG - Open Orders requested
2018-03-02 11:01:03,454 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, order=<ib.ext.Order.Order object at 0x000000000202DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C21D0>>
2018-03-02 11:01:03,456 - DEBUG - Order OrderID 244
2018-03-02 11:01:03,456 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:01:03,457 - DEBUG - Order status PreSubmitted
2018-03-02 11:01:03,457 - DEBUG - Order Identification 244
2018-03-02 11:01:03,457 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:01:03,457 - DEBUG - Profit ID from database is 247
2018-03-02 11:01:03,457 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:01:03,457 - DEBUG - Stop ID database is 0
2018-03-02 11:01:03,457 - DEBUG - Entry ID database is 247
2018-03-02 11:01:03,459 - DEBUG - Reply Handler Orders is <openOrder orderId=246, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, order=<ib.ext.Order.Order object at 0x000000000202DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2048>>
2018-03-02 11:01:03,459 - DEBUG - Order OrderID 246
2018-03-02 11:01:03,460 - DEBUG - reply handler status <orderStatus orderId=246, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567956, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:01:03,460 - DEBUG - Order status PreSubmitted
2018-03-02 11:01:03,460 - DEBUG - Order Identification 246
2018-03-02 11:01:03,460 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:01:03,460 - DEBUG - Profit ID from database is 247
2018-03-02 11:01:03,460 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:01:03,460 - DEBUG - Stop ID database is 0
2018-03-02 11:01:03,460 - DEBUG - Entry ID database is 247
2018-03-02 11:01:03,461 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, order=<ib.ext.Order.Order object at 0x000000000202DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2240>>
2018-03-02 11:01:03,461 - DEBUG - Order OrderID 247
2018-03-02 11:01:03,463 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:01:03,463 - DEBUG - Order status PreSubmitted
2018-03-02 11:01:03,463 - DEBUG - Order Identification 247
2018-03-02 11:01:03,463 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:01:03,463 - DEBUG - Profit ID from database is 247
2018-03-02 11:01:03,463 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:01:03,463 - DEBUG - Stop ID database is 0
2018-03-02 11:01:03,463 - DEBUG - Entry ID database is 247
2018-03-02 11:01:03,464 - DEBUG - Profit API ID is 247
2018-03-02 11:01:03,464 - DEBUG - Entry API ID is 247
2018-03-02 11:01:05,454 - DEBUG - Connecting to database
2018-03-02 11:01:05,463 - DEBUG - Connected to database
2018-03-02 11:01:05,463 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,464 - DEBUG - Stop loss value is 68.15
2018-03-02 11:01:05,466 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,467 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:01:05,467 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,467 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:01:05,470 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,470 - DEBUG - Stop quantity 1
2018-03-02 11:01:05,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,471 - DEBUG - Direction is Short
2018-03-02 11:01:05,473 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,473 - DEBUG - Count is 0
2018-03-02 11:01:05,474 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:01:05,474 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:01:05,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:01:05,476 - DEBUG - Max ID Order is (247,)
2018-03-02 11:01:05,476 - DEBUG - Today is 2018-03-02
2018-03-02 11:01:05,476 - DEBUG - Day of the week 4
2018-03-02 11:01:05,477 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:01:05,477 - DEBUG - In Position is  0
2018-03-02 11:01:05,477 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:01:05,477 - DEBUG - curStopLossFlag is  0
2018-03-02 11:01:05,479 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:01:05,479 - DEBUG - Checking if Entry has been filled
2018-03-02 11:01:05,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:01:05,480 - DEBUG - EntryPend is 1
2018-03-02 11:01:05,480 - DEBUG - Try to Cancel Stop
2018-03-02 11:01:05,480 - DEBUG - Stop API ID 0
2018-03-02 11:01:05,480 - DEBUG - Profit API ID 247
2018-03-02 11:01:05,480 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:01:05,482 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:01:05,482 - DEBUG - Pos is 0
2018-03-02 11:01:05,482 - DEBUG - CurCount is 0
2018-03-02 11:01:05,482 - DEBUG - In Pos 0
2018-03-02 11:01:05,483 - DEBUG - Stop ID is 0
2018-03-02 11:01:05,483 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:01:05,483 - DEBUG - EntryPend is 1
2018-03-02 11:01:05,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:01:05,484 - DEBUG - Entry Date is 10
2018-03-02 11:01:05,484 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:01:05,484 - DEBUG - Order Profit ID is 247
2018-03-02 11:01:05,484 - DEBUG - Order Entry ID is 247
2018-03-02 11:01:05,486 - DEBUG - API ID is  0
2018-03-02 11:01:05,486 - DEBUG - Current Position is 0
2018-03-02 11:01:05,486 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:01:05,486 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:01:05,486 - DEBUG - Time is 11
2018-03-02 11:01:05,486 - DEBUG - Time is <class 'int'>
2018-03-02 11:01:05,486 - DEBUG - Time is 1
2018-03-02 11:01:05,486 - DEBUG - Time is <class 'int'>
2018-03-02 11:01:05,487 - DEBUG - Disconnected from IBController
2018-03-02 11:01:05,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:06:01,368 - DEBUG - ****************************************************
2018-03-02 11:06:01,368 - DEBUG - Current Time is 11:06AM
2018-03-02 11:06:01,368 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:06:01,368 - DEBUG - Connecting to database
2018-03-02 11:06:01,391 - DEBUG - Connected to database
2018-03-02 11:06:01,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:01,392 - DEBUG - Order Profit is 247
2018-03-02 11:06:01,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:01,394 - DEBUG - Stop ID is 0
2018-03-02 11:06:01,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:01,395 - DEBUG - Entry ID is 247
2018-03-02 11:06:01,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:06:01,398 - DEBUG - OCA ID is 1
2018-03-02 11:06:01,398 - DEBUG - Connecting to IBController
2018-03-02 11:06:02,405 - DEBUG - Connected to IBController
2018-03-02 11:06:02,405 - DEBUG - Position requested
2018-03-02 11:06:02,407 - DEBUG - Pos Mgmt -12987
2018-03-02 11:06:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BE10>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:06:02,407 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:06:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:06:02,408 - DEBUG - Position is -12987
2018-03-02 11:06:02,408 - DEBUG - Pos Mgmt -1
2018-03-02 11:06:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BAC8>, pos=-1, avgCost=48797.1>
2018-03-02 11:06:02,410 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:06:02,410 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:06:02,410 - DEBUG - Position is -1
2018-03-02 11:06:03,407 - DEBUG - Open Orders requested
2018-03-02 11:06:03,410 - DEBUG - Reply Handler Orders is <openOrder orderId=244, contract=<ib.ext.Contract.Contract object at 0x000000000201BF28>, order=<ib.ext.Order.Order object at 0x000000000201BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B01D0>>
2018-03-02 11:06:03,411 - DEBUG - Order OrderID 244
2018-03-02 11:06:03,411 - DEBUG - reply handler status <orderStatus orderId=244, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=194567954, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:06:03,411 - DEBUG - Order status PreSubmitted
2018-03-02 11:06:03,411 - DEBUG - Order Identification 244
2018-03-02 11:06:03,411 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:06:03,411 - DEBUG - Profit ID from database is 247
2018-03-02 11:06:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:06:03,413 - DEBUG - Stop ID database is 0
2018-03-02 11:06:03,413 - DEBUG - Entry ID database is 247
2018-03-02 11:06:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=247, contract=<ib.ext.Contract.Contract object at 0x000000000201BF28>, order=<ib.ext.Order.Order object at 0x000000000201BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0080>>
2018-03-02 11:06:03,417 - DEBUG - Order OrderID 247
2018-03-02 11:06:03,417 - DEBUG - reply handler status <orderStatus orderId=247, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567957, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:06:03,421 - DEBUG - Order status PreSubmitted
2018-03-02 11:06:03,421 - DEBUG - Order Identification 247
2018-03-02 11:06:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:06:03,423 - DEBUG - Profit ID from database is 247
2018-03-02 11:06:03,423 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:06:03,423 - DEBUG - Stop ID database is 0
2018-03-02 11:06:03,423 - DEBUG - Entry ID database is 247
2018-03-02 11:06:03,424 - DEBUG - Profit API ID is 247
2018-03-02 11:06:03,424 - DEBUG - Entry API ID is 247
2018-03-02 11:06:05,410 - DEBUG - Connecting to database
2018-03-02 11:06:05,417 - DEBUG - Connected to database
2018-03-02 11:06:05,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,420 - DEBUG - Stop loss value is 68.15
2018-03-02 11:06:05,421 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,421 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:06:05,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,424 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:06:05,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,424 - DEBUG - Stop quantity 1
2018-03-02 11:06:05,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,427 - DEBUG - Direction is Short
2018-03-02 11:06:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,428 - DEBUG - Count is 0
2018-03-02 11:06:05,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:06:05,430 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:06:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:06:05,431 - DEBUG - Max ID Order is (247,)
2018-03-02 11:06:05,431 - DEBUG - Today is 2018-03-02
2018-03-02 11:06:05,433 - DEBUG - Day of the week 4
2018-03-02 11:06:05,433 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:06:05,433 - DEBUG - In Position is  0
2018-03-02 11:06:05,433 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:06:05,434 - DEBUG - curStopLossFlag is  0
2018-03-02 11:06:05,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:06:05,434 - DEBUG - Checking if Entry has been filled
2018-03-02 11:06:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:06:05,436 - DEBUG - EntryPend is 1
2018-03-02 11:06:05,436 - DEBUG - Try to Cancel Stop
2018-03-02 11:06:05,436 - DEBUG - Stop API ID 0
2018-03-02 11:06:05,436 - DEBUG - Profit API ID 247
2018-03-02 11:06:05,437 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:06:05,437 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:06:05,437 - DEBUG - Pos is 0
2018-03-02 11:06:05,437 - DEBUG - CurCount is 0
2018-03-02 11:06:05,437 - DEBUG - In Pos 0
2018-03-02 11:06:05,437 - DEBUG - Stop ID is 0
2018-03-02 11:06:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:06:05,440 - DEBUG - EntryPend is 1
2018-03-02 11:06:05,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:06:05,440 - DEBUG - Entry Date is 10
2018-03-02 11:06:05,440 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:06:05,440 - DEBUG - Order Profit ID is 247
2018-03-02 11:06:05,440 - DEBUG - Order Entry ID is 247
2018-03-02 11:06:05,440 - DEBUG - API ID is  0
2018-03-02 11:06:05,440 - DEBUG - Current Position is 0
2018-03-02 11:06:05,441 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:06:05,441 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:06:05,441 - DEBUG - Time is 11
2018-03-02 11:06:05,441 - DEBUG - Time is <class 'int'>
2018-03-02 11:06:05,443 - DEBUG - Time is 6
2018-03-02 11:06:05,443 - DEBUG - Time is <class 'int'>
2018-03-02 11:06:05,443 - DEBUG - Disconnected from IBController
2018-03-02 11:06:05,446 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:11:01,352 - DEBUG - ****************************************************
2018-03-02 11:11:01,354 - DEBUG - Current Time is 11:11AM
2018-03-02 11:11:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:11:01,354 - DEBUG - Connecting to database
2018-03-02 11:11:01,391 - DEBUG - Connected to database
2018-03-02 11:11:01,392 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:01,394 - DEBUG - Order Profit is 247
2018-03-02 11:11:01,394 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:01,395 - DEBUG - Stop ID is 0
2018-03-02 11:11:01,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:01,397 - DEBUG - Entry ID is 247
2018-03-02 11:11:01,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:11:01,398 - DEBUG - OCA ID is 1
2018-03-02 11:11:01,398 - DEBUG - Connecting to IBController
2018-03-02 11:11:02,404 - DEBUG - Connected to IBController
2018-03-02 11:11:02,404 - DEBUG - Position requested
2018-03-02 11:11:02,407 - DEBUG - Pos Mgmt -12987
2018-03-02 11:11:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CDD8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:11:02,407 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:11:02,407 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:11:02,407 - DEBUG - Position is -12987
2018-03-02 11:11:02,407 - DEBUG - Pos Mgmt -1
2018-03-02 11:11:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CA20>, pos=-1, avgCost=48797.1>
2018-03-02 11:11:02,408 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:11:02,408 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:11:02,408 - DEBUG - Position is -1
2018-03-02 11:11:03,405 - DEBUG - Open Orders requested
2018-03-02 11:11:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-03-02 11:11:03,408 - DEBUG - Order OrderID 248
2018-03-02 11:11:03,408 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:11:03,408 - DEBUG - Order status PreSubmitted
2018-03-02 11:11:03,410 - DEBUG - Order Identification 248
2018-03-02 11:11:03,410 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:11:03,410 - DEBUG - Profit ID from database is 247
2018-03-02 11:11:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:11:03,411 - DEBUG - Stop ID database is 0
2018-03-02 11:11:03,411 - DEBUG - Entry ID database is 247
2018-03-02 11:11:05,407 - DEBUG - Connecting to database
2018-03-02 11:11:05,414 - DEBUG - Connected to database
2018-03-02 11:11:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,417 - DEBUG - Stop loss value is 68.15
2018-03-02 11:11:05,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,418 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:11:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,421 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:11:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,421 - DEBUG - Stop quantity 1
2018-03-02 11:11:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,424 - DEBUG - Direction is Short
2018-03-02 11:11:05,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,426 - DEBUG - Count is 0
2018-03-02 11:11:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:11:05,427 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:11:05,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:11:05,428 - DEBUG - Max ID Order is (248,)
2018-03-02 11:11:05,430 - DEBUG - Today is 2018-03-02
2018-03-02 11:11:05,430 - DEBUG - Day of the week 4
2018-03-02 11:11:05,430 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:11:05,430 - DEBUG - In Position is  0
2018-03-02 11:11:05,430 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:11:05,430 - DEBUG - curStopLossFlag is  0
2018-03-02 11:11:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:11:05,430 - DEBUG - Checking if Entry has been filled
2018-03-02 11:11:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:11:05,433 - DEBUG - EntryPend is 1
2018-03-02 11:11:05,433 - DEBUG - Try to Cancel Stop
2018-03-02 11:11:05,434 - DEBUG - Stop API ID 0
2018-03-02 11:11:05,434 - DEBUG - Profit API ID 0
2018-03-02 11:11:05,434 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:11:05,434 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:11:05,434 - DEBUG - Pos is 0
2018-03-02 11:11:05,434 - DEBUG - CurCount is 0
2018-03-02 11:11:05,434 - DEBUG - In Pos 0
2018-03-02 11:11:05,434 - DEBUG - Stop ID is 0
2018-03-02 11:11:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:11:05,437 - DEBUG - EntryPend is 1
2018-03-02 11:11:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:11:05,437 - DEBUG - Entry Date is 10
2018-03-02 11:11:05,437 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:11:05,437 - DEBUG - Order Profit ID is 247
2018-03-02 11:11:05,437 - DEBUG - Order Entry ID is 247
2018-03-02 11:11:05,438 - DEBUG - API ID is  0
2018-03-02 11:11:05,438 - DEBUG - Current Position is 0
2018-03-02 11:11:05,438 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:11:05,438 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:11:05,438 - DEBUG - Time is 11
2018-03-02 11:11:05,440 - DEBUG - Time is <class 'int'>
2018-03-02 11:11:05,440 - DEBUG - Time is 11
2018-03-02 11:11:05,440 - DEBUG - Time is <class 'int'>
2018-03-02 11:11:05,440 - DEBUG - Disconnected from IBController
2018-03-02 11:11:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:16:01,355 - DEBUG - ****************************************************
2018-03-02 11:16:01,357 - DEBUG - Current Time is 11:16AM
2018-03-02 11:16:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:16:01,357 - DEBUG - Connecting to database
2018-03-02 11:16:01,407 - DEBUG - Connected to database
2018-03-02 11:16:01,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:01,410 - DEBUG - Order Profit is 247
2018-03-02 11:16:01,410 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:01,411 - DEBUG - Stop ID is 0
2018-03-02 11:16:01,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:01,413 - DEBUG - Entry ID is 247
2018-03-02 11:16:01,413 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:16:01,414 - DEBUG - OCA ID is 1
2018-03-02 11:16:01,414 - DEBUG - Connecting to IBController
2018-03-02 11:16:02,418 - DEBUG - Connected to IBController
2018-03-02 11:16:02,418 - DEBUG - Position requested
2018-03-02 11:16:02,420 - DEBUG - Pos Mgmt -12987
2018-03-02 11:16:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:16:02,421 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:16:02,421 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:16:02,421 - DEBUG - Position is -12987
2018-03-02 11:16:02,421 - DEBUG - Pos Mgmt -1
2018-03-02 11:16:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DBA8>, pos=-1, avgCost=48797.1>
2018-03-02 11:16:02,423 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:16:02,423 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:16:02,423 - DEBUG - Position is -1
2018-03-02 11:16:03,421 - DEBUG - Open Orders requested
2018-03-02 11:16:03,423 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000203DE48>, order=<ib.ext.Order.Order object at 0x000000000203DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-03-02 11:16:03,423 - DEBUG - Order OrderID 248
2018-03-02 11:16:03,424 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:16:03,424 - DEBUG - Order status PreSubmitted
2018-03-02 11:16:03,424 - DEBUG - Order Identification 248
2018-03-02 11:16:03,424 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:16:03,424 - DEBUG - Profit ID from database is 247
2018-03-02 11:16:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:16:03,424 - DEBUG - Stop ID database is 0
2018-03-02 11:16:03,426 - DEBUG - Entry ID database is 247
2018-03-02 11:16:05,423 - DEBUG - Connecting to database
2018-03-02 11:16:05,430 - DEBUG - Connected to database
2018-03-02 11:16:05,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,431 - DEBUG - Stop loss value is 68.15
2018-03-02 11:16:05,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,434 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:16:05,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,436 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:16:05,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,437 - DEBUG - Stop quantity 1
2018-03-02 11:16:05,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,438 - DEBUG - Direction is Short
2018-03-02 11:16:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,440 - DEBUG - Count is 0
2018-03-02 11:16:05,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:16:05,441 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:16:05,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:16:05,444 - DEBUG - Max ID Order is (248,)
2018-03-02 11:16:05,444 - DEBUG - Today is 2018-03-02
2018-03-02 11:16:05,444 - DEBUG - Day of the week 4
2018-03-02 11:16:05,444 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:16:05,446 - DEBUG - In Position is  0
2018-03-02 11:16:05,446 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:16:05,446 - DEBUG - curStopLossFlag is  0
2018-03-02 11:16:05,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:16:05,447 - DEBUG - Checking if Entry has been filled
2018-03-02 11:16:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:16:05,447 - DEBUG - EntryPend is 1
2018-03-02 11:16:05,447 - DEBUG - Try to Cancel Stop
2018-03-02 11:16:05,448 - DEBUG - Stop API ID 0
2018-03-02 11:16:05,448 - DEBUG - Profit API ID 0
2018-03-02 11:16:05,448 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:16:05,448 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:16:05,450 - DEBUG - Pos is 0
2018-03-02 11:16:05,450 - DEBUG - CurCount is 0
2018-03-02 11:16:05,450 - DEBUG - In Pos 0
2018-03-02 11:16:05,450 - DEBUG - Stop ID is 0
2018-03-02 11:16:05,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:16:05,451 - DEBUG - EntryPend is 1
2018-03-02 11:16:05,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:16:05,451 - DEBUG - Entry Date is 10
2018-03-02 11:16:05,451 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:16:05,453 - DEBUG - Order Profit ID is 247
2018-03-02 11:16:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 11:16:05,453 - DEBUG - API ID is  0
2018-03-02 11:16:05,453 - DEBUG - Current Position is 0
2018-03-02 11:16:05,453 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:16:05,453 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:16:05,453 - DEBUG - Time is 11
2018-03-02 11:16:05,453 - DEBUG - Time is <class 'int'>
2018-03-02 11:16:05,453 - DEBUG - Time is 16
2018-03-02 11:16:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 11:16:05,454 - DEBUG - Disconnected from IBController
2018-03-02 11:16:05,457 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:21:01,357 - DEBUG - ****************************************************
2018-03-02 11:21:01,357 - DEBUG - Current Time is 11:21AM
2018-03-02 11:21:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:21:01,358 - DEBUG - Connecting to database
2018-03-02 11:21:01,434 - DEBUG - Connected to database
2018-03-02 11:21:01,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:01,437 - DEBUG - Order Profit is 247
2018-03-02 11:21:01,437 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:01,438 - DEBUG - Stop ID is 0
2018-03-02 11:21:01,438 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:01,440 - DEBUG - Entry ID is 247
2018-03-02 11:21:01,440 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:21:01,441 - DEBUG - OCA ID is 1
2018-03-02 11:21:01,443 - DEBUG - Connecting to IBController
2018-03-02 11:21:02,450 - DEBUG - Connected to IBController
2018-03-02 11:21:02,450 - DEBUG - Position requested
2018-03-02 11:21:02,451 - DEBUG - Pos Mgmt -12987
2018-03-02 11:21:02,451 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CCF8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:21:02,451 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:21:02,453 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:21:02,453 - DEBUG - Position is -12987
2018-03-02 11:21:02,453 - DEBUG - Pos Mgmt -1
2018-03-02 11:21:02,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA20>, pos=-1, avgCost=48797.1>
2018-03-02 11:21:02,456 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:21:02,456 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:21:02,457 - DEBUG - Position is -1
2018-03-02 11:21:03,450 - DEBUG - Open Orders requested
2018-03-02 11:21:03,453 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000205CCF8>, order=<ib.ext.Order.Order object at 0x000000000205CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20F0>>
2018-03-02 11:21:03,453 - DEBUG - Order OrderID 248
2018-03-02 11:21:03,453 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:21:03,454 - DEBUG - Order status PreSubmitted
2018-03-02 11:21:03,454 - DEBUG - Order Identification 248
2018-03-02 11:21:03,454 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:21:03,454 - DEBUG - Profit ID from database is 247
2018-03-02 11:21:03,456 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:21:03,456 - DEBUG - Stop ID database is 0
2018-03-02 11:21:03,456 - DEBUG - Entry ID database is 247
2018-03-02 11:21:05,450 - DEBUG - Connecting to database
2018-03-02 11:21:05,459 - DEBUG - Connected to database
2018-03-02 11:21:05,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,460 - DEBUG - Stop loss value is 68.15
2018-03-02 11:21:05,461 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,461 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:21:05,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,463 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:21:05,464 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,466 - DEBUG - Stop quantity 1
2018-03-02 11:21:05,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,467 - DEBUG - Direction is Short
2018-03-02 11:21:05,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,469 - DEBUG - Count is 0
2018-03-02 11:21:05,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:21:05,470 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:21:05,471 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:21:05,471 - DEBUG - Max ID Order is (248,)
2018-03-02 11:21:05,473 - DEBUG - Today is 2018-03-02
2018-03-02 11:21:05,473 - DEBUG - Day of the week 4
2018-03-02 11:21:05,473 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:21:05,473 - DEBUG - In Position is  0
2018-03-02 11:21:05,473 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:21:05,473 - DEBUG - curStopLossFlag is  0
2018-03-02 11:21:05,474 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:21:05,474 - DEBUG - Checking if Entry has been filled
2018-03-02 11:21:05,474 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:21:05,476 - DEBUG - EntryPend is 1
2018-03-02 11:21:05,476 - DEBUG - Try to Cancel Stop
2018-03-02 11:21:05,476 - DEBUG - Stop API ID 0
2018-03-02 11:21:05,477 - DEBUG - Profit API ID 0
2018-03-02 11:21:05,477 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:21:05,477 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:21:05,477 - DEBUG - Pos is 0
2018-03-02 11:21:05,479 - DEBUG - CurCount is 0
2018-03-02 11:21:05,479 - DEBUG - In Pos 0
2018-03-02 11:21:05,479 - DEBUG - Stop ID is 0
2018-03-02 11:21:05,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:21:05,480 - DEBUG - EntryPend is 1
2018-03-02 11:21:05,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:21:05,480 - DEBUG - Entry Date is 10
2018-03-02 11:21:05,482 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:21:05,482 - DEBUG - Order Profit ID is 247
2018-03-02 11:21:05,482 - DEBUG - Order Entry ID is 247
2018-03-02 11:21:05,482 - DEBUG - API ID is  0
2018-03-02 11:21:05,483 - DEBUG - Current Position is 0
2018-03-02 11:21:05,483 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:21:05,483 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:21:05,483 - DEBUG - Time is 11
2018-03-02 11:21:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 11:21:05,483 - DEBUG - Time is 21
2018-03-02 11:21:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 11:21:05,483 - DEBUG - Disconnected from IBController
2018-03-02 11:21:05,484 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:26:01,355 - DEBUG - ****************************************************
2018-03-02 11:26:01,355 - DEBUG - Current Time is 11:26AM
2018-03-02 11:26:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:26:01,355 - DEBUG - Connecting to database
2018-03-02 11:26:01,400 - DEBUG - Connected to database
2018-03-02 11:26:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:01,401 - DEBUG - Order Profit is 247
2018-03-02 11:26:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:01,404 - DEBUG - Stop ID is 0
2018-03-02 11:26:01,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:01,405 - DEBUG - Entry ID is 247
2018-03-02 11:26:01,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:26:01,407 - DEBUG - OCA ID is 1
2018-03-02 11:26:01,407 - DEBUG - Connecting to IBController
2018-03-02 11:26:02,413 - DEBUG - Connected to IBController
2018-03-02 11:26:02,413 - DEBUG - Position requested
2018-03-02 11:26:02,414 - DEBUG - Pos Mgmt -12987
2018-03-02 11:26:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CDD8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:26:02,414 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:26:02,415 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:26:02,415 - DEBUG - Position is -12987
2018-03-02 11:26:02,415 - DEBUG - Pos Mgmt -1
2018-03-02 11:26:02,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CAC8>, pos=-1, avgCost=48797.1>
2018-03-02 11:26:02,417 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:26:02,417 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:26:02,417 - DEBUG - Position is -1
2018-03-02 11:26:03,414 - DEBUG - Open Orders requested
2018-03-02 11:26:03,415 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-03-02 11:26:03,415 - DEBUG - Order OrderID 248
2018-03-02 11:26:03,417 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:26:03,417 - DEBUG - Order status PreSubmitted
2018-03-02 11:26:03,417 - DEBUG - Order Identification 248
2018-03-02 11:26:03,417 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:26:03,417 - DEBUG - Profit ID from database is 247
2018-03-02 11:26:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:26:03,417 - DEBUG - Stop ID database is 0
2018-03-02 11:26:03,418 - DEBUG - Entry ID database is 247
2018-03-02 11:26:05,415 - DEBUG - Connecting to database
2018-03-02 11:26:05,423 - DEBUG - Connected to database
2018-03-02 11:26:05,424 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,424 - DEBUG - Stop loss value is 68.15
2018-03-02 11:26:05,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,427 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:26:05,428 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,428 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:26:05,430 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,430 - DEBUG - Stop quantity 1
2018-03-02 11:26:05,431 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,433 - DEBUG - Direction is Short
2018-03-02 11:26:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,434 - DEBUG - Count is 0
2018-03-02 11:26:05,436 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:26:05,436 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:26:05,437 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:26:05,437 - DEBUG - Max ID Order is (248,)
2018-03-02 11:26:05,437 - DEBUG - Today is 2018-03-02
2018-03-02 11:26:05,437 - DEBUG - Day of the week 4
2018-03-02 11:26:05,438 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:26:05,438 - DEBUG - In Position is  0
2018-03-02 11:26:05,438 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:26:05,438 - DEBUG - curStopLossFlag is  0
2018-03-02 11:26:05,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:26:05,440 - DEBUG - Checking if Entry has been filled
2018-03-02 11:26:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:26:05,441 - DEBUG - EntryPend is 1
2018-03-02 11:26:05,441 - DEBUG - Try to Cancel Stop
2018-03-02 11:26:05,441 - DEBUG - Stop API ID 0
2018-03-02 11:26:05,441 - DEBUG - Profit API ID 0
2018-03-02 11:26:05,441 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:26:05,443 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:26:05,443 - DEBUG - Pos is 0
2018-03-02 11:26:05,443 - DEBUG - CurCount is 0
2018-03-02 11:26:05,443 - DEBUG - In Pos 0
2018-03-02 11:26:05,444 - DEBUG - Stop ID is 0
2018-03-02 11:26:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:26:05,444 - DEBUG - EntryPend is 1
2018-03-02 11:26:05,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:26:05,446 - DEBUG - Entry Date is 10
2018-03-02 11:26:05,446 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:26:05,446 - DEBUG - Order Profit ID is 247
2018-03-02 11:26:05,446 - DEBUG - Order Entry ID is 247
2018-03-02 11:26:05,447 - DEBUG - API ID is  0
2018-03-02 11:26:05,447 - DEBUG - Current Position is 0
2018-03-02 11:26:05,447 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:26:05,447 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:26:05,447 - DEBUG - Time is 11
2018-03-02 11:26:05,447 - DEBUG - Time is <class 'int'>
2018-03-02 11:26:05,447 - DEBUG - Time is 26
2018-03-02 11:26:05,447 - DEBUG - Time is <class 'int'>
2018-03-02 11:26:05,448 - DEBUG - Disconnected from IBController
2018-03-02 11:26:05,448 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:31:01,355 - DEBUG - ****************************************************
2018-03-02 11:31:01,355 - DEBUG - Current Time is 11:31AM
2018-03-02 11:31:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:31:01,357 - DEBUG - Connecting to database
2018-03-02 11:31:01,479 - DEBUG - Connected to database
2018-03-02 11:31:01,480 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:01,480 - DEBUG - Order Profit is 247
2018-03-02 11:31:01,480 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:01,483 - DEBUG - Stop ID is 0
2018-03-02 11:31:01,483 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:01,484 - DEBUG - Entry ID is 247
2018-03-02 11:31:01,484 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:31:01,486 - DEBUG - OCA ID is 1
2018-03-02 11:31:01,486 - DEBUG - Connecting to IBController
2018-03-02 11:31:02,493 - DEBUG - Connected to IBController
2018-03-02 11:31:02,493 - DEBUG - Position requested
2018-03-02 11:31:02,494 - DEBUG - Pos Mgmt -12987
2018-03-02 11:31:02,494 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:31:02,494 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:31:02,496 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:31:02,496 - DEBUG - Position is -12987
2018-03-02 11:31:02,496 - DEBUG - Pos Mgmt -1
2018-03-02 11:31:02,496 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, pos=-1, avgCost=48797.1>
2018-03-02 11:31:02,496 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:31:02,496 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:31:02,496 - DEBUG - Position is -1
2018-03-02 11:31:03,493 - DEBUG - Open Orders requested
2018-03-02 11:31:03,496 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, order=<ib.ext.Order.Order object at 0x000000000208DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220F0>>
2018-03-02 11:31:03,496 - DEBUG - Order OrderID 248
2018-03-02 11:31:03,496 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:31:03,496 - DEBUG - Order status PreSubmitted
2018-03-02 11:31:03,496 - DEBUG - Order Identification 248
2018-03-02 11:31:03,497 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:31:03,497 - DEBUG - Profit ID from database is 247
2018-03-02 11:31:03,497 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:31:03,497 - DEBUG - Stop ID database is 0
2018-03-02 11:31:03,499 - DEBUG - Entry ID database is 247
2018-03-02 11:31:05,494 - DEBUG - Connecting to database
2018-03-02 11:31:05,502 - DEBUG - Connected to database
2018-03-02 11:31:05,503 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,503 - DEBUG - Stop loss value is 68.15
2018-03-02 11:31:05,506 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,506 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:31:05,507 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,509 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:31:05,509 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,510 - DEBUG - Stop quantity 1
2018-03-02 11:31:05,513 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,513 - DEBUG - Direction is Short
2018-03-02 11:31:05,513 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,515 - DEBUG - Count is 0
2018-03-02 11:31:05,516 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:31:05,516 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:31:05,517 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:31:05,517 - DEBUG - Max ID Order is (248,)
2018-03-02 11:31:05,517 - DEBUG - Today is 2018-03-02
2018-03-02 11:31:05,519 - DEBUG - Day of the week 4
2018-03-02 11:31:05,519 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:31:05,519 - DEBUG - In Position is  0
2018-03-02 11:31:05,519 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:31:05,519 - DEBUG - curStopLossFlag is  0
2018-03-02 11:31:05,519 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:31:05,519 - DEBUG - Checking if Entry has been filled
2018-03-02 11:31:05,520 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:31:05,522 - DEBUG - EntryPend is 1
2018-03-02 11:31:05,522 - DEBUG - Try to Cancel Stop
2018-03-02 11:31:05,522 - DEBUG - Stop API ID 0
2018-03-02 11:31:05,523 - DEBUG - Profit API ID 0
2018-03-02 11:31:05,523 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:31:05,523 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:31:05,523 - DEBUG - Pos is 0
2018-03-02 11:31:05,523 - DEBUG - CurCount is 0
2018-03-02 11:31:05,523 - DEBUG - In Pos 0
2018-03-02 11:31:05,523 - DEBUG - Stop ID is 0
2018-03-02 11:31:05,523 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:31:05,526 - DEBUG - EntryPend is 1
2018-03-02 11:31:05,526 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:31:05,526 - DEBUG - Entry Date is 10
2018-03-02 11:31:05,526 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:31:05,526 - DEBUG - Order Profit ID is 247
2018-03-02 11:31:05,526 - DEBUG - Order Entry ID is 247
2018-03-02 11:31:05,526 - DEBUG - API ID is  0
2018-03-02 11:31:05,526 - DEBUG - Current Position is 0
2018-03-02 11:31:05,528 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:31:05,528 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:31:05,528 - DEBUG - Time is 11
2018-03-02 11:31:05,528 - DEBUG - Time is <class 'int'>
2018-03-02 11:31:05,529 - DEBUG - Time is 31
2018-03-02 11:31:05,529 - DEBUG - Time is <class 'int'>
2018-03-02 11:31:05,529 - DEBUG - Disconnected from IBController
2018-03-02 11:31:05,529 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:36:01,355 - DEBUG - ****************************************************
2018-03-02 11:36:01,357 - DEBUG - Current Time is 11:36AM
2018-03-02 11:36:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:36:01,358 - DEBUG - Connecting to database
2018-03-02 11:36:01,453 - DEBUG - Connected to database
2018-03-02 11:36:01,453 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:01,456 - DEBUG - Order Profit is 247
2018-03-02 11:36:01,456 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:01,457 - DEBUG - Stop ID is 0
2018-03-02 11:36:01,457 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:01,460 - DEBUG - Entry ID is 247
2018-03-02 11:36:01,460 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:36:01,460 - DEBUG - OCA ID is 1
2018-03-02 11:36:01,461 - DEBUG - Connecting to IBController
2018-03-02 11:36:02,467 - DEBUG - Connected to IBController
2018-03-02 11:36:02,467 - DEBUG - Position requested
2018-03-02 11:36:02,469 - DEBUG - Pos Mgmt -12987
2018-03-02 11:36:02,470 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDA0>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:36:02,470 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:36:02,470 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:36:02,470 - DEBUG - Position is -12987
2018-03-02 11:36:02,470 - DEBUG - Pos Mgmt -1
2018-03-02 11:36:02,470 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CAC8>, pos=-1, avgCost=48797.1>
2018-03-02 11:36:02,471 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:36:02,471 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:36:02,471 - DEBUG - Position is -1
2018-03-02 11:36:03,469 - DEBUG - Open Orders requested
2018-03-02 11:36:03,470 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000204CE48>, order=<ib.ext.Order.Order object at 0x000000000204CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-03-02 11:36:03,471 - DEBUG - Order OrderID 248
2018-03-02 11:36:03,471 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:36:03,471 - DEBUG - Order status PreSubmitted
2018-03-02 11:36:03,473 - DEBUG - Order Identification 248
2018-03-02 11:36:03,473 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:36:03,473 - DEBUG - Profit ID from database is 247
2018-03-02 11:36:03,473 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:36:03,473 - DEBUG - Stop ID database is 0
2018-03-02 11:36:03,473 - DEBUG - Entry ID database is 247
2018-03-02 11:36:05,470 - DEBUG - Connecting to database
2018-03-02 11:36:05,479 - DEBUG - Connected to database
2018-03-02 11:36:05,480 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,480 - DEBUG - Stop loss value is 68.15
2018-03-02 11:36:05,482 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,483 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:36:05,483 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,483 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:36:05,486 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,486 - DEBUG - Stop quantity 1
2018-03-02 11:36:05,486 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,487 - DEBUG - Direction is Short
2018-03-02 11:36:05,489 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,489 - DEBUG - Count is 0
2018-03-02 11:36:05,490 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:36:05,490 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:36:05,492 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:36:05,493 - DEBUG - Max ID Order is (248,)
2018-03-02 11:36:05,493 - DEBUG - Today is 2018-03-02
2018-03-02 11:36:05,493 - DEBUG - Day of the week 4
2018-03-02 11:36:05,493 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:36:05,493 - DEBUG - In Position is  0
2018-03-02 11:36:05,493 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:36:05,494 - DEBUG - curStopLossFlag is  0
2018-03-02 11:36:05,494 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:36:05,494 - DEBUG - Checking if Entry has been filled
2018-03-02 11:36:05,494 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:36:05,496 - DEBUG - EntryPend is 1
2018-03-02 11:36:05,496 - DEBUG - Try to Cancel Stop
2018-03-02 11:36:05,496 - DEBUG - Stop API ID 0
2018-03-02 11:36:05,496 - DEBUG - Profit API ID 0
2018-03-02 11:36:05,497 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:36:05,497 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:36:05,497 - DEBUG - Pos is 0
2018-03-02 11:36:05,497 - DEBUG - CurCount is 0
2018-03-02 11:36:05,497 - DEBUG - In Pos 0
2018-03-02 11:36:05,499 - DEBUG - Stop ID is 0
2018-03-02 11:36:05,499 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:36:05,500 - DEBUG - EntryPend is 1
2018-03-02 11:36:05,500 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:36:05,500 - DEBUG - Entry Date is 10
2018-03-02 11:36:05,500 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:36:05,500 - DEBUG - Order Profit ID is 247
2018-03-02 11:36:05,502 - DEBUG - Order Entry ID is 247
2018-03-02 11:36:05,502 - DEBUG - API ID is  0
2018-03-02 11:36:05,502 - DEBUG - Current Position is 0
2018-03-02 11:36:05,502 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:36:05,503 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:36:05,503 - DEBUG - Time is 11
2018-03-02 11:36:05,503 - DEBUG - Time is <class 'int'>
2018-03-02 11:36:05,503 - DEBUG - Time is 36
2018-03-02 11:36:05,503 - DEBUG - Time is <class 'int'>
2018-03-02 11:36:05,503 - DEBUG - Disconnected from IBController
2018-03-02 11:36:05,503 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:41:01,358 - DEBUG - ****************************************************
2018-03-02 11:41:01,359 - DEBUG - Current Time is 11:41AM
2018-03-02 11:41:01,359 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:41:01,359 - DEBUG - Connecting to database
2018-03-02 11:41:01,392 - DEBUG - Connected to database
2018-03-02 11:41:01,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:01,394 - DEBUG - Order Profit is 247
2018-03-02 11:41:01,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:01,397 - DEBUG - Stop ID is 0
2018-03-02 11:41:01,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:01,398 - DEBUG - Entry ID is 247
2018-03-02 11:41:01,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:41:01,400 - DEBUG - OCA ID is 1
2018-03-02 11:41:01,401 - DEBUG - Connecting to IBController
2018-03-02 11:41:02,404 - DEBUG - Connected to IBController
2018-03-02 11:41:02,404 - DEBUG - Position requested
2018-03-02 11:41:02,407 - DEBUG - Pos Mgmt -12987
2018-03-02 11:41:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDCF8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:41:02,407 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:41:02,407 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:41:02,407 - DEBUG - Position is -12987
2018-03-02 11:41:02,407 - DEBUG - Pos Mgmt -1
2018-03-02 11:41:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDAC8>, pos=-1, avgCost=48797.1>
2018-03-02 11:41:02,408 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:41:02,408 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:41:02,408 - DEBUG - Position is -1
2018-03-02 11:41:03,405 - DEBUG - Open Orders requested
2018-03-02 11:41:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x00000000020BDE48>, order=<ib.ext.Order.Order object at 0x00000000020BDD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151160>>
2018-03-02 11:41:03,407 - DEBUG - Order OrderID 248
2018-03-02 11:41:03,408 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:41:03,408 - DEBUG - Order status PreSubmitted
2018-03-02 11:41:03,410 - DEBUG - Order Identification 248
2018-03-02 11:41:03,410 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:41:03,410 - DEBUG - Profit ID from database is 247
2018-03-02 11:41:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:41:03,411 - DEBUG - Stop ID database is 0
2018-03-02 11:41:03,411 - DEBUG - Entry ID database is 247
2018-03-02 11:41:05,407 - DEBUG - Connecting to database
2018-03-02 11:41:05,414 - DEBUG - Connected to database
2018-03-02 11:41:05,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,417 - DEBUG - Stop loss value is 68.15
2018-03-02 11:41:05,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,418 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:41:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,420 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:41:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,421 - DEBUG - Stop quantity 1
2018-03-02 11:41:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,424 - DEBUG - Direction is Short
2018-03-02 11:41:05,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,424 - DEBUG - Count is 0
2018-03-02 11:41:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:41:05,427 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:41:05,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:41:05,428 - DEBUG - Max ID Order is (248,)
2018-03-02 11:41:05,428 - DEBUG - Today is 2018-03-02
2018-03-02 11:41:05,430 - DEBUG - Day of the week 4
2018-03-02 11:41:05,430 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:41:05,430 - DEBUG - In Position is  0
2018-03-02 11:41:05,430 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:41:05,430 - DEBUG - curStopLossFlag is  0
2018-03-02 11:41:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:41:05,430 - DEBUG - Checking if Entry has been filled
2018-03-02 11:41:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:41:05,433 - DEBUG - EntryPend is 1
2018-03-02 11:41:05,433 - DEBUG - Try to Cancel Stop
2018-03-02 11:41:05,433 - DEBUG - Stop API ID 0
2018-03-02 11:41:05,434 - DEBUG - Profit API ID 0
2018-03-02 11:41:05,434 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:41:05,434 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:41:05,434 - DEBUG - Pos is 0
2018-03-02 11:41:05,434 - DEBUG - CurCount is 0
2018-03-02 11:41:05,434 - DEBUG - In Pos 0
2018-03-02 11:41:05,434 - DEBUG - Stop ID is 0
2018-03-02 11:41:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:41:05,437 - DEBUG - EntryPend is 1
2018-03-02 11:41:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:41:05,437 - DEBUG - Entry Date is 10
2018-03-02 11:41:05,437 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:41:05,437 - DEBUG - Order Profit ID is 247
2018-03-02 11:41:05,437 - DEBUG - Order Entry ID is 247
2018-03-02 11:41:05,437 - DEBUG - API ID is  0
2018-03-02 11:41:05,437 - DEBUG - Current Position is 0
2018-03-02 11:41:05,437 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:41:05,437 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:41:05,438 - DEBUG - Time is 11
2018-03-02 11:41:05,438 - DEBUG - Time is <class 'int'>
2018-03-02 11:41:05,438 - DEBUG - Time is 41
2018-03-02 11:41:05,438 - DEBUG - Time is <class 'int'>
2018-03-02 11:41:05,440 - DEBUG - Disconnected from IBController
2018-03-02 11:41:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:46:01,354 - DEBUG - ****************************************************
2018-03-02 11:46:01,354 - DEBUG - Current Time is 11:46AM
2018-03-02 11:46:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:46:01,355 - DEBUG - Connecting to database
2018-03-02 11:46:01,404 - DEBUG - Connected to database
2018-03-02 11:46:01,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:01,405 - DEBUG - Order Profit is 247
2018-03-02 11:46:01,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:01,407 - DEBUG - Stop ID is 0
2018-03-02 11:46:01,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:01,410 - DEBUG - Entry ID is 247
2018-03-02 11:46:01,410 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:46:01,411 - DEBUG - OCA ID is 1
2018-03-02 11:46:01,411 - DEBUG - Connecting to IBController
2018-03-02 11:46:02,415 - DEBUG - Connected to IBController
2018-03-02 11:46:02,415 - DEBUG - Position requested
2018-03-02 11:46:02,417 - DEBUG - Pos Mgmt -12987
2018-03-02 11:46:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:46:02,418 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:46:02,418 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:46:02,418 - DEBUG - Position is -12987
2018-03-02 11:46:02,420 - DEBUG - Pos Mgmt -1
2018-03-02 11:46:02,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=-1, avgCost=48797.1>
2018-03-02 11:46:02,420 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:46:02,420 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:46:02,420 - DEBUG - Position is -1
2018-03-02 11:46:03,417 - DEBUG - Open Orders requested
2018-03-02 11:46:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=248, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-03-02 11:46:03,420 - DEBUG - Order OrderID 248
2018-03-02 11:46:03,421 - DEBUG - reply handler status <orderStatus orderId=248, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=194567958, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-03-02 11:46:03,421 - DEBUG - Order status PreSubmitted
2018-03-02 11:46:03,421 - DEBUG - Order Identification 248
2018-03-02 11:46:03,421 - DEBUG - Order Identification <class 'int'>
2018-03-02 11:46:03,421 - DEBUG - Profit ID from database is 247
2018-03-02 11:46:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-03-02 11:46:03,421 - DEBUG - Stop ID database is 0
2018-03-02 11:46:03,423 - DEBUG - Entry ID database is 247
2018-03-02 11:46:05,420 - DEBUG - Connecting to database
2018-03-02 11:46:05,427 - DEBUG - Connected to database
2018-03-02 11:46:05,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,430 - DEBUG - Stop loss value is 68.15
2018-03-02 11:46:05,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,430 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:46:05,433 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,433 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:46:05,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,434 - DEBUG - Stop quantity 1
2018-03-02 11:46:05,436 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,437 - DEBUG - Direction is Short
2018-03-02 11:46:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,437 - DEBUG - Count is 0
2018-03-02 11:46:05,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:46:05,440 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:46:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:46:05,441 - DEBUG - Max ID Order is (248,)
2018-03-02 11:46:05,441 - DEBUG - Today is 2018-03-02
2018-03-02 11:46:05,441 - DEBUG - Day of the week 4
2018-03-02 11:46:05,443 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:46:05,443 - DEBUG - In Position is  0
2018-03-02 11:46:05,443 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:46:05,443 - DEBUG - curStopLossFlag is  0
2018-03-02 11:46:05,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:46:05,444 - DEBUG - Checking if Entry has been filled
2018-03-02 11:46:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:46:05,444 - DEBUG - EntryPend is 1
2018-03-02 11:46:05,446 - DEBUG - Try to Cancel Stop
2018-03-02 11:46:05,446 - DEBUG - Stop API ID 0
2018-03-02 11:46:05,446 - DEBUG - Profit API ID 0
2018-03-02 11:46:05,446 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:46:05,447 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:46:05,447 - DEBUG - Pos is 0
2018-03-02 11:46:05,447 - DEBUG - CurCount is 0
2018-03-02 11:46:05,447 - DEBUG - In Pos 0
2018-03-02 11:46:05,447 - DEBUG - Stop ID is 0
2018-03-02 11:46:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:46:05,448 - DEBUG - EntryPend is 1
2018-03-02 11:46:05,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:46:05,450 - DEBUG - Entry Date is 10
2018-03-02 11:46:05,450 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:46:05,450 - DEBUG - Order Profit ID is 247
2018-03-02 11:46:05,450 - DEBUG - Order Entry ID is 247
2018-03-02 11:46:05,450 - DEBUG - API ID is  0
2018-03-02 11:46:05,450 - DEBUG - Current Position is 0
2018-03-02 11:46:05,450 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:46:05,450 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:46:05,451 - DEBUG - Time is 11
2018-03-02 11:46:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 11:46:05,451 - DEBUG - Time is 46
2018-03-02 11:46:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 11:46:05,453 - DEBUG - Disconnected from IBController
2018-03-02 11:46:05,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:51:01,352 - DEBUG - ****************************************************
2018-03-02 11:51:01,352 - DEBUG - Current Time is 11:51AM
2018-03-02 11:51:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:51:01,354 - DEBUG - Connecting to database
2018-03-02 11:51:01,410 - DEBUG - Connected to database
2018-03-02 11:51:01,410 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:01,411 - DEBUG - Order Profit is 247
2018-03-02 11:51:01,411 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:01,413 - DEBUG - Stop ID is 0
2018-03-02 11:51:01,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:01,414 - DEBUG - Entry ID is 247
2018-03-02 11:51:01,414 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:51:01,417 - DEBUG - OCA ID is 1
2018-03-02 11:51:01,417 - DEBUG - Connecting to IBController
2018-03-02 11:51:02,421 - DEBUG - Connected to IBController
2018-03-02 11:51:02,421 - DEBUG - Position requested
2018-03-02 11:51:02,424 - DEBUG - Pos Mgmt -12987
2018-03-02 11:51:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:51:02,424 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:51:02,424 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:51:02,424 - DEBUG - Position is -12987
2018-03-02 11:51:02,424 - DEBUG - Pos Mgmt 0
2018-03-02 11:51:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=0, avgCost=0.0>
2018-03-02 11:51:02,426 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:51:02,426 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:51:02,426 - DEBUG - Position is 0
2018-03-02 11:51:03,423 - DEBUG - Open Orders requested
2018-03-02 11:51:05,423 - DEBUG - Connecting to database
2018-03-02 11:51:05,430 - DEBUG - Connected to database
2018-03-02 11:51:05,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,431 - DEBUG - Stop loss value is 68.15
2018-03-02 11:51:05,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,434 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:51:05,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,436 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:51:05,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,437 - DEBUG - Stop quantity 1
2018-03-02 11:51:05,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,438 - DEBUG - Direction is Short
2018-03-02 11:51:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,440 - DEBUG - Count is 0
2018-03-02 11:51:05,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:51:05,441 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:51:05,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:51:05,444 - DEBUG - Max ID Order is (248,)
2018-03-02 11:51:05,444 - DEBUG - Today is 2018-03-02
2018-03-02 11:51:05,444 - DEBUG - Day of the week 4
2018-03-02 11:51:05,444 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:51:05,444 - DEBUG - In Position is  0
2018-03-02 11:51:05,446 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:51:05,446 - DEBUG - curStopLossFlag is  0
2018-03-02 11:51:05,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:51:05,447 - DEBUG - Checking if Entry has been filled
2018-03-02 11:51:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:51:05,447 - DEBUG - EntryPend is 1
2018-03-02 11:51:05,448 - DEBUG - Try to Cancel Stop
2018-03-02 11:51:05,448 - DEBUG - Stop API ID 0
2018-03-02 11:51:05,448 - DEBUG - Profit API ID 0
2018-03-02 11:51:05,448 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:51:05,448 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:51:05,450 - DEBUG - Pos is 0
2018-03-02 11:51:05,450 - DEBUG - CurCount is 0
2018-03-02 11:51:05,450 - DEBUG - In Pos 0
2018-03-02 11:51:05,450 - DEBUG - Stop ID is 0
2018-03-02 11:51:05,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:51:05,451 - DEBUG - EntryPend is 1
2018-03-02 11:51:05,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:51:05,451 - DEBUG - Entry Date is 10
2018-03-02 11:51:05,453 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:51:05,453 - DEBUG - Order Profit ID is 247
2018-03-02 11:51:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 11:51:05,453 - DEBUG - API ID is  0
2018-03-02 11:51:05,453 - DEBUG - Current Position is 0
2018-03-02 11:51:05,453 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:51:05,453 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:51:05,453 - DEBUG - Time is 11
2018-03-02 11:51:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 11:51:05,454 - DEBUG - Time is 51
2018-03-02 11:51:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 11:51:05,454 - DEBUG - Disconnected from IBController
2018-03-02 11:51:05,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 11:56:01,358 - DEBUG - ****************************************************
2018-03-02 11:56:01,358 - DEBUG - Current Time is 11:56AM
2018-03-02 11:56:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 11:56:01,358 - DEBUG - Connecting to database
2018-03-02 11:56:01,394 - DEBUG - Connected to database
2018-03-02 11:56:01,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:01,395 - DEBUG - Order Profit is 247
2018-03-02 11:56:01,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:01,397 - DEBUG - Stop ID is 0
2018-03-02 11:56:01,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:01,398 - DEBUG - Entry ID is 247
2018-03-02 11:56:01,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 11:56:01,401 - DEBUG - OCA ID is 1
2018-03-02 11:56:01,401 - DEBUG - Connecting to IBController
2018-03-02 11:56:02,405 - DEBUG - Connected to IBController
2018-03-02 11:56:02,405 - DEBUG - Position requested
2018-03-02 11:56:02,407 - DEBUG - Pos Mgmt -12987
2018-03-02 11:56:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 11:56:02,407 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 11:56:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 11:56:02,408 - DEBUG - Position is -12987
2018-03-02 11:56:02,408 - DEBUG - Pos Mgmt 0
2018-03-02 11:56:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DCC0>, pos=0, avgCost=0.0>
2018-03-02 11:56:02,410 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 11:56:02,410 - DEBUG - ccy2 Currency with position is USD
2018-03-02 11:56:02,410 - DEBUG - Position is 0
2018-03-02 11:56:03,407 - DEBUG - Open Orders requested
2018-03-02 11:56:05,408 - DEBUG - Connecting to database
2018-03-02 11:56:05,415 - DEBUG - Connected to database
2018-03-02 11:56:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,417 - DEBUG - Stop loss value is 68.15
2018-03-02 11:56:05,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,420 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 11:56:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,421 - DEBUG - EntryPrice value is 66.6
2018-03-02 11:56:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,424 - DEBUG - Stop quantity 1
2018-03-02 11:56:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,426 - DEBUG - Direction is Short
2018-03-02 11:56:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,427 - DEBUG - Count is 0
2018-03-02 11:56:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 11:56:05,428 - DEBUG - Stop Loss Flag is 0
2018-03-02 11:56:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 11:56:05,430 - DEBUG - Max ID Order is (248,)
2018-03-02 11:56:05,430 - DEBUG - Today is 2018-03-02
2018-03-02 11:56:05,430 - DEBUG - Day of the week 4
2018-03-02 11:56:05,431 - DEBUG - Yesterday is 03/01/2018
2018-03-02 11:56:05,431 - DEBUG - In Position is  0
2018-03-02 11:56:05,431 - DEBUG - In Position is  <class 'int'>
2018-03-02 11:56:05,433 - DEBUG - curStopLossFlag is  0
2018-03-02 11:56:05,433 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 11:56:05,433 - DEBUG - Checking if Entry has been filled
2018-03-02 11:56:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:56:05,434 - DEBUG - EntryPend is 1
2018-03-02 11:56:05,434 - DEBUG - Try to Cancel Stop
2018-03-02 11:56:05,434 - DEBUG - Stop API ID 0
2018-03-02 11:56:05,434 - DEBUG - Profit API ID 0
2018-03-02 11:56:05,436 - DEBUG - Stop API ID <class 'int'>
2018-03-02 11:56:05,436 - DEBUG - Profit API ID <class 'int'>
2018-03-02 11:56:05,436 - DEBUG - Pos is 0
2018-03-02 11:56:05,436 - DEBUG - CurCount is 0
2018-03-02 11:56:05,437 - DEBUG - In Pos 0
2018-03-02 11:56:05,437 - DEBUG - Stop ID is 0
2018-03-02 11:56:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 11:56:05,437 - DEBUG - EntryPend is 1
2018-03-02 11:56:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 11:56:05,438 - DEBUG - Entry Date is 10
2018-03-02 11:56:05,438 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 11:56:05,438 - DEBUG - Order Profit ID is 247
2018-03-02 11:56:05,440 - DEBUG - Order Entry ID is 247
2018-03-02 11:56:05,440 - DEBUG - API ID is  0
2018-03-02 11:56:05,440 - DEBUG - Current Position is 0
2018-03-02 11:56:05,440 - DEBUG - Current Position is <class 'str'>
2018-03-02 11:56:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 11:56:05,440 - DEBUG - Time is 11
2018-03-02 11:56:05,440 - DEBUG - Time is <class 'int'>
2018-03-02 11:56:05,440 - DEBUG - Time is 56
2018-03-02 11:56:05,441 - DEBUG - Time is <class 'int'>
2018-03-02 11:56:05,441 - DEBUG - Disconnected from IBController
2018-03-02 11:56:05,444 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:01:01,355 - DEBUG - ****************************************************
2018-03-02 12:01:01,357 - DEBUG - Current Time is 12:01PM
2018-03-02 12:01:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:01:01,358 - DEBUG - Connecting to database
2018-03-02 12:01:01,420 - DEBUG - Connected to database
2018-03-02 12:01:01,420 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:01,421 - DEBUG - Order Profit is 247
2018-03-02 12:01:01,421 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:01,424 - DEBUG - Stop ID is 0
2018-03-02 12:01:01,424 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:01,426 - DEBUG - Entry ID is 247
2018-03-02 12:01:01,426 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:01:01,427 - DEBUG - OCA ID is 1
2018-03-02 12:01:01,427 - DEBUG - Connecting to IBController
2018-03-02 12:01:02,433 - DEBUG - Connected to IBController
2018-03-02 12:01:02,433 - DEBUG - Position requested
2018-03-02 12:01:02,434 - DEBUG - Pos Mgmt -12987
2018-03-02 12:01:02,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:01:02,434 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:01:02,436 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:01:02,436 - DEBUG - Position is -12987
2018-03-02 12:01:02,436 - DEBUG - Pos Mgmt 0
2018-03-02 12:01:02,436 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=0, avgCost=0.0>
2018-03-02 12:01:02,437 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:01:02,437 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:01:02,437 - DEBUG - Position is 0
2018-03-02 12:01:03,434 - DEBUG - Open Orders requested
2018-03-02 12:01:05,434 - DEBUG - Connecting to database
2018-03-02 12:01:05,440 - DEBUG - Connected to database
2018-03-02 12:01:05,443 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,443 - DEBUG - Stop loss value is 68.15
2018-03-02 12:01:05,444 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,444 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:01:05,447 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,447 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:01:05,447 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,448 - DEBUG - Stop quantity 1
2018-03-02 12:01:05,450 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,450 - DEBUG - Direction is Short
2018-03-02 12:01:05,451 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,451 - DEBUG - Count is 0
2018-03-02 12:01:05,454 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:01:05,456 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:01:05,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:01:05,457 - DEBUG - Max ID Order is (248,)
2018-03-02 12:01:05,457 - DEBUG - Today is 2018-03-02
2018-03-02 12:01:05,459 - DEBUG - Day of the week 4
2018-03-02 12:01:05,459 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:01:05,459 - DEBUG - In Position is  0
2018-03-02 12:01:05,459 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:01:05,460 - DEBUG - curStopLossFlag is  0
2018-03-02 12:01:05,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:01:05,460 - DEBUG - Checking if Entry has been filled
2018-03-02 12:01:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:01:05,461 - DEBUG - EntryPend is 1
2018-03-02 12:01:05,461 - DEBUG - Try to Cancel Stop
2018-03-02 12:01:05,461 - DEBUG - Stop API ID 0
2018-03-02 12:01:05,461 - DEBUG - Profit API ID 0
2018-03-02 12:01:05,463 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:01:05,463 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:01:05,463 - DEBUG - Pos is 0
2018-03-02 12:01:05,463 - DEBUG - CurCount is 0
2018-03-02 12:01:05,463 - DEBUG - In Pos 0
2018-03-02 12:01:05,463 - DEBUG - Stop ID is 0
2018-03-02 12:01:05,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:01:05,466 - DEBUG - EntryPend is 1
2018-03-02 12:01:05,466 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:01:05,466 - DEBUG - Entry Date is 10
2018-03-02 12:01:05,466 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:01:05,467 - DEBUG - Order Profit ID is 247
2018-03-02 12:01:05,467 - DEBUG - Order Entry ID is 247
2018-03-02 12:01:05,467 - DEBUG - API ID is  0
2018-03-02 12:01:05,467 - DEBUG - Current Position is 0
2018-03-02 12:01:05,467 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:01:05,467 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:01:05,467 - DEBUG - Time is 12
2018-03-02 12:01:05,467 - DEBUG - Time is <class 'int'>
2018-03-02 12:01:05,467 - DEBUG - Time is 1
2018-03-02 12:01:05,469 - DEBUG - Time is <class 'int'>
2018-03-02 12:01:05,469 - DEBUG - Disconnected from IBController
2018-03-02 12:01:05,469 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:06:01,358 - DEBUG - ****************************************************
2018-03-02 12:06:01,358 - DEBUG - Current Time is 12:06PM
2018-03-02 12:06:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:06:01,358 - DEBUG - Connecting to database
2018-03-02 12:06:01,388 - DEBUG - Connected to database
2018-03-02 12:06:01,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:01,390 - DEBUG - Order Profit is 247
2018-03-02 12:06:01,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:01,391 - DEBUG - Stop ID is 0
2018-03-02 12:06:01,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:01,392 - DEBUG - Entry ID is 247
2018-03-02 12:06:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:06:01,394 - DEBUG - OCA ID is 1
2018-03-02 12:06:01,394 - DEBUG - Connecting to IBController
2018-03-02 12:06:02,400 - DEBUG - Connected to IBController
2018-03-02 12:06:02,400 - DEBUG - Position requested
2018-03-02 12:06:02,404 - DEBUG - Pos Mgmt -12987
2018-03-02 12:06:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:06:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:06:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:06:02,404 - DEBUG - Position is -12987
2018-03-02 12:06:02,405 - DEBUG - Pos Mgmt 0
2018-03-02 12:06:02,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=0, avgCost=0.0>
2018-03-02 12:06:02,405 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:06:02,405 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:06:02,407 - DEBUG - Position is 0
2018-03-02 12:06:03,401 - DEBUG - Open Orders requested
2018-03-02 12:06:05,401 - DEBUG - Connecting to database
2018-03-02 12:06:05,410 - DEBUG - Connected to database
2018-03-02 12:06:05,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,411 - DEBUG - Stop loss value is 68.15
2018-03-02 12:06:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,413 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:06:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,414 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:06:05,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,417 - DEBUG - Stop quantity 1
2018-03-02 12:06:05,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,417 - DEBUG - Direction is Short
2018-03-02 12:06:05,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,420 - DEBUG - Count is 0
2018-03-02 12:06:05,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:06:05,421 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:06:05,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:06:05,424 - DEBUG - Max ID Order is (248,)
2018-03-02 12:06:05,424 - DEBUG - Today is 2018-03-02
2018-03-02 12:06:05,424 - DEBUG - Day of the week 4
2018-03-02 12:06:05,424 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:06:05,424 - DEBUG - In Position is  0
2018-03-02 12:06:05,424 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:06:05,426 - DEBUG - curStopLossFlag is  0
2018-03-02 12:06:05,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:06:05,426 - DEBUG - Checking if Entry has been filled
2018-03-02 12:06:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:06:05,427 - DEBUG - EntryPend is 1
2018-03-02 12:06:05,427 - DEBUG - Try to Cancel Stop
2018-03-02 12:06:05,427 - DEBUG - Stop API ID 0
2018-03-02 12:06:05,428 - DEBUG - Profit API ID 0
2018-03-02 12:06:05,428 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:06:05,428 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:06:05,428 - DEBUG - Pos is 0
2018-03-02 12:06:05,428 - DEBUG - CurCount is 0
2018-03-02 12:06:05,430 - DEBUG - In Pos 0
2018-03-02 12:06:05,430 - DEBUG - Stop ID is 0
2018-03-02 12:06:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:06:05,431 - DEBUG - EntryPend is 1
2018-03-02 12:06:05,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:06:05,431 - DEBUG - Entry Date is 10
2018-03-02 12:06:05,431 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:06:05,433 - DEBUG - Order Profit ID is 247
2018-03-02 12:06:05,433 - DEBUG - Order Entry ID is 247
2018-03-02 12:06:05,433 - DEBUG - API ID is  0
2018-03-02 12:06:05,433 - DEBUG - Current Position is 0
2018-03-02 12:06:05,433 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:06:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:06:05,434 - DEBUG - Time is 12
2018-03-02 12:06:05,434 - DEBUG - Time is <class 'int'>
2018-03-02 12:06:05,434 - DEBUG - Time is 6
2018-03-02 12:06:05,434 - DEBUG - Time is <class 'int'>
2018-03-02 12:06:05,434 - DEBUG - Disconnected from IBController
2018-03-02 12:06:05,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:11:01,361 - DEBUG - ****************************************************
2018-03-02 12:11:01,362 - DEBUG - Current Time is 12:11PM
2018-03-02 12:11:01,362 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:11:01,364 - DEBUG - Connecting to database
2018-03-02 12:11:01,430 - DEBUG - Connected to database
2018-03-02 12:11:01,431 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:01,433 - DEBUG - Order Profit is 247
2018-03-02 12:11:01,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:01,436 - DEBUG - Stop ID is 0
2018-03-02 12:11:01,436 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:01,437 - DEBUG - Entry ID is 247
2018-03-02 12:11:01,437 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:11:01,438 - DEBUG - OCA ID is 1
2018-03-02 12:11:01,438 - DEBUG - Connecting to IBController
2018-03-02 12:11:02,444 - DEBUG - Connected to IBController
2018-03-02 12:11:02,444 - DEBUG - Position requested
2018-03-02 12:11:02,450 - DEBUG - Pos Mgmt -12987
2018-03-02 12:11:02,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:11:02,451 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:11:02,451 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:11:02,453 - DEBUG - Position is -12987
2018-03-02 12:11:02,453 - DEBUG - Pos Mgmt 0
2018-03-02 12:11:02,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=0, avgCost=0.0>
2018-03-02 12:11:02,453 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:11:02,453 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:11:02,453 - DEBUG - Position is 0
2018-03-02 12:11:03,450 - DEBUG - Open Orders requested
2018-03-02 12:11:05,450 - DEBUG - Connecting to database
2018-03-02 12:11:05,457 - DEBUG - Connected to database
2018-03-02 12:11:05,459 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,459 - DEBUG - Stop loss value is 68.15
2018-03-02 12:11:05,460 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,460 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:11:05,461 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,463 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:11:05,463 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,463 - DEBUG - Stop quantity 1
2018-03-02 12:11:05,466 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,466 - DEBUG - Direction is Short
2018-03-02 12:11:05,467 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,467 - DEBUG - Count is 0
2018-03-02 12:11:05,469 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:11:05,469 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:11:05,470 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:11:05,470 - DEBUG - Max ID Order is (248,)
2018-03-02 12:11:05,470 - DEBUG - Today is 2018-03-02
2018-03-02 12:11:05,471 - DEBUG - Day of the week 4
2018-03-02 12:11:05,471 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:11:05,471 - DEBUG - In Position is  0
2018-03-02 12:11:05,473 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:11:05,473 - DEBUG - curStopLossFlag is  0
2018-03-02 12:11:05,473 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:11:05,473 - DEBUG - Checking if Entry has been filled
2018-03-02 12:11:05,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:11:05,474 - DEBUG - EntryPend is 1
2018-03-02 12:11:05,474 - DEBUG - Try to Cancel Stop
2018-03-02 12:11:05,476 - DEBUG - Stop API ID 0
2018-03-02 12:11:05,476 - DEBUG - Profit API ID 0
2018-03-02 12:11:05,476 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:11:05,476 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:11:05,476 - DEBUG - Pos is 0
2018-03-02 12:11:05,476 - DEBUG - CurCount is 0
2018-03-02 12:11:05,476 - DEBUG - In Pos 0
2018-03-02 12:11:05,476 - DEBUG - Stop ID is 0
2018-03-02 12:11:05,477 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:11:05,479 - DEBUG - EntryPend is 1
2018-03-02 12:11:05,479 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:11:05,480 - DEBUG - Entry Date is 10
2018-03-02 12:11:05,480 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:11:05,480 - DEBUG - Order Profit ID is 247
2018-03-02 12:11:05,480 - DEBUG - Order Entry ID is 247
2018-03-02 12:11:05,480 - DEBUG - API ID is  0
2018-03-02 12:11:05,480 - DEBUG - Current Position is 0
2018-03-02 12:11:05,480 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:11:05,480 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:11:05,480 - DEBUG - Time is 12
2018-03-02 12:11:05,482 - DEBUG - Time is <class 'int'>
2018-03-02 12:11:05,482 - DEBUG - Time is 11
2018-03-02 12:11:05,482 - DEBUG - Time is <class 'int'>
2018-03-02 12:11:05,483 - DEBUG - Disconnected from IBController
2018-03-02 12:11:05,483 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:16:01,358 - DEBUG - ****************************************************
2018-03-02 12:16:01,358 - DEBUG - Current Time is 12:16PM
2018-03-02 12:16:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:16:01,358 - DEBUG - Connecting to database
2018-03-02 12:16:01,404 - DEBUG - Connected to database
2018-03-02 12:16:01,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:01,405 - DEBUG - Order Profit is 247
2018-03-02 12:16:01,405 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:01,407 - DEBUG - Stop ID is 0
2018-03-02 12:16:01,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:01,408 - DEBUG - Entry ID is 247
2018-03-02 12:16:01,410 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:16:01,411 - DEBUG - OCA ID is 1
2018-03-02 12:16:01,411 - DEBUG - Connecting to IBController
2018-03-02 12:16:02,417 - DEBUG - Connected to IBController
2018-03-02 12:16:02,417 - DEBUG - Position requested
2018-03-02 12:16:02,423 - DEBUG - Pos Mgmt -12987
2018-03-02 12:16:02,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:16:02,424 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:16:02,424 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:16:02,424 - DEBUG - Position is -12987
2018-03-02 12:16:02,424 - DEBUG - Pos Mgmt 0
2018-03-02 12:16:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=0, avgCost=0.0>
2018-03-02 12:16:02,424 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:16:02,424 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:16:02,426 - DEBUG - Position is 0
2018-03-02 12:16:03,417 - DEBUG - Open Orders requested
2018-03-02 12:16:05,421 - DEBUG - Connecting to database
2018-03-02 12:16:05,427 - DEBUG - Connected to database
2018-03-02 12:16:05,430 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,430 - DEBUG - Stop loss value is 68.15
2018-03-02 12:16:05,431 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,431 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:16:05,433 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,434 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:16:05,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,434 - DEBUG - Stop quantity 1
2018-03-02 12:16:05,437 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,437 - DEBUG - Direction is Short
2018-03-02 12:16:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,438 - DEBUG - Count is 0
2018-03-02 12:16:05,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:16:05,440 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:16:05,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:16:05,441 - DEBUG - Max ID Order is (248,)
2018-03-02 12:16:05,443 - DEBUG - Today is 2018-03-02
2018-03-02 12:16:05,443 - DEBUG - Day of the week 4
2018-03-02 12:16:05,443 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:16:05,443 - DEBUG - In Position is  0
2018-03-02 12:16:05,444 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:16:05,444 - DEBUG - curStopLossFlag is  0
2018-03-02 12:16:05,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:16:05,444 - DEBUG - Checking if Entry has been filled
2018-03-02 12:16:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:16:05,446 - DEBUG - EntryPend is 1
2018-03-02 12:16:05,446 - DEBUG - Try to Cancel Stop
2018-03-02 12:16:05,447 - DEBUG - Stop API ID 0
2018-03-02 12:16:05,447 - DEBUG - Profit API ID 0
2018-03-02 12:16:05,447 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:16:05,447 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:16:05,447 - DEBUG - Pos is 0
2018-03-02 12:16:05,447 - DEBUG - CurCount is 0
2018-03-02 12:16:05,447 - DEBUG - In Pos 0
2018-03-02 12:16:05,447 - DEBUG - Stop ID is 0
2018-03-02 12:16:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:16:05,450 - DEBUG - EntryPend is 1
2018-03-02 12:16:05,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:16:05,450 - DEBUG - Entry Date is 10
2018-03-02 12:16:05,450 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:16:05,450 - DEBUG - Order Profit ID is 247
2018-03-02 12:16:05,450 - DEBUG - Order Entry ID is 247
2018-03-02 12:16:05,450 - DEBUG - API ID is  0
2018-03-02 12:16:05,451 - DEBUG - Current Position is 0
2018-03-02 12:16:05,451 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:16:05,451 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:16:05,451 - DEBUG - Time is 12
2018-03-02 12:16:05,453 - DEBUG - Time is <class 'int'>
2018-03-02 12:16:05,453 - DEBUG - Time is 16
2018-03-02 12:16:05,453 - DEBUG - Time is <class 'int'>
2018-03-02 12:16:05,453 - DEBUG - Disconnected from IBController
2018-03-02 12:16:05,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:21:01,351 - DEBUG - ****************************************************
2018-03-02 12:21:01,351 - DEBUG - Current Time is 12:21PM
2018-03-02 12:21:01,351 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:21:01,352 - DEBUG - Connecting to database
2018-03-02 12:21:01,430 - DEBUG - Connected to database
2018-03-02 12:21:01,431 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:01,433 - DEBUG - Order Profit is 247
2018-03-02 12:21:01,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:01,434 - DEBUG - Stop ID is 0
2018-03-02 12:21:01,434 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:01,437 - DEBUG - Entry ID is 247
2018-03-02 12:21:01,437 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:21:01,438 - DEBUG - OCA ID is 1
2018-03-02 12:21:01,438 - DEBUG - Connecting to IBController
2018-03-02 12:21:02,444 - DEBUG - Connected to IBController
2018-03-02 12:21:02,444 - DEBUG - Position requested
2018-03-02 12:21:02,447 - DEBUG - Pos Mgmt -12987
2018-03-02 12:21:02,447 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:21:02,447 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:21:02,447 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:21:02,447 - DEBUG - Position is -12987
2018-03-02 12:21:02,448 - DEBUG - Pos Mgmt 0
2018-03-02 12:21:02,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DC50>, pos=0, avgCost=0.0>
2018-03-02 12:21:02,448 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:21:02,448 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:21:02,450 - DEBUG - Position is 0
2018-03-02 12:21:03,447 - DEBUG - Open Orders requested
2018-03-02 12:21:05,447 - DEBUG - Connecting to database
2018-03-02 12:21:05,453 - DEBUG - Connected to database
2018-03-02 12:21:05,456 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,456 - DEBUG - Stop loss value is 68.15
2018-03-02 12:21:05,457 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,457 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:21:05,459 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,459 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:21:05,460 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,460 - DEBUG - Stop quantity 1
2018-03-02 12:21:05,461 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,463 - DEBUG - Direction is Short
2018-03-02 12:21:05,463 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,463 - DEBUG - Count is 0
2018-03-02 12:21:05,466 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:21:05,466 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:21:05,467 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:21:05,467 - DEBUG - Max ID Order is (248,)
2018-03-02 12:21:05,467 - DEBUG - Today is 2018-03-02
2018-03-02 12:21:05,469 - DEBUG - Day of the week 4
2018-03-02 12:21:05,469 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:21:05,469 - DEBUG - In Position is  0
2018-03-02 12:21:05,470 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:21:05,470 - DEBUG - curStopLossFlag is  0
2018-03-02 12:21:05,470 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:21:05,470 - DEBUG - Checking if Entry has been filled
2018-03-02 12:21:05,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:21:05,471 - DEBUG - EntryPend is 1
2018-03-02 12:21:05,471 - DEBUG - Try to Cancel Stop
2018-03-02 12:21:05,473 - DEBUG - Stop API ID 0
2018-03-02 12:21:05,473 - DEBUG - Profit API ID 0
2018-03-02 12:21:05,473 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:21:05,473 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:21:05,473 - DEBUG - Pos is 0
2018-03-02 12:21:05,473 - DEBUG - CurCount is 0
2018-03-02 12:21:05,473 - DEBUG - In Pos 0
2018-03-02 12:21:05,473 - DEBUG - Stop ID is 0
2018-03-02 12:21:05,474 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:21:05,476 - DEBUG - EntryPend is 1
2018-03-02 12:21:05,476 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:21:05,476 - DEBUG - Entry Date is 10
2018-03-02 12:21:05,476 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:21:05,476 - DEBUG - Order Profit ID is 247
2018-03-02 12:21:05,476 - DEBUG - Order Entry ID is 247
2018-03-02 12:21:05,476 - DEBUG - API ID is  0
2018-03-02 12:21:05,477 - DEBUG - Current Position is 0
2018-03-02 12:21:05,477 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:21:05,477 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:21:05,477 - DEBUG - Time is 12
2018-03-02 12:21:05,479 - DEBUG - Time is <class 'int'>
2018-03-02 12:21:05,479 - DEBUG - Time is 21
2018-03-02 12:21:05,479 - DEBUG - Time is <class 'int'>
2018-03-02 12:21:05,479 - DEBUG - Disconnected from IBController
2018-03-02 12:21:05,480 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:26:01,355 - DEBUG - ****************************************************
2018-03-02 12:26:01,355 - DEBUG - Current Time is 12:26PM
2018-03-02 12:26:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:26:01,355 - DEBUG - Connecting to database
2018-03-02 12:26:01,380 - DEBUG - Connected to database
2018-03-02 12:26:01,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:01,381 - DEBUG - Order Profit is 247
2018-03-02 12:26:01,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:01,384 - DEBUG - Stop ID is 0
2018-03-02 12:26:01,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:01,385 - DEBUG - Entry ID is 247
2018-03-02 12:26:01,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:26:01,387 - DEBUG - OCA ID is 1
2018-03-02 12:26:01,388 - DEBUG - Connecting to IBController
2018-03-02 12:26:02,398 - DEBUG - Connected to IBController
2018-03-02 12:26:02,398 - DEBUG - Position requested
2018-03-02 12:26:02,398 - DEBUG - Pos Mgmt -12987
2018-03-02 12:26:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:26:02,400 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:26:02,401 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:26:02,401 - DEBUG - Position is -12987
2018-03-02 12:26:02,401 - DEBUG - Pos Mgmt 0
2018-03-02 12:26:02,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=0, avgCost=0.0>
2018-03-02 12:26:02,401 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:26:02,401 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:26:02,401 - DEBUG - Position is 0
2018-03-02 12:26:03,398 - DEBUG - Open Orders requested
2018-03-02 12:26:05,400 - DEBUG - Connecting to database
2018-03-02 12:26:05,407 - DEBUG - Connected to database
2018-03-02 12:26:05,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,408 - DEBUG - Stop loss value is 68.15
2018-03-02 12:26:05,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,411 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:26:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,413 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:26:05,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,414 - DEBUG - Stop quantity 1
2018-03-02 12:26:05,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,415 - DEBUG - Direction is Short
2018-03-02 12:26:05,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,418 - DEBUG - Count is 0
2018-03-02 12:26:05,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:26:05,420 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:26:05,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:26:05,421 - DEBUG - Max ID Order is (248,)
2018-03-02 12:26:05,423 - DEBUG - Today is 2018-03-02
2018-03-02 12:26:05,423 - DEBUG - Day of the week 4
2018-03-02 12:26:05,423 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:26:05,423 - DEBUG - In Position is  0
2018-03-02 12:26:05,424 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:26:05,424 - DEBUG - curStopLossFlag is  0
2018-03-02 12:26:05,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:26:05,424 - DEBUG - Checking if Entry has been filled
2018-03-02 12:26:05,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:26:05,426 - DEBUG - EntryPend is 1
2018-03-02 12:26:05,426 - DEBUG - Try to Cancel Stop
2018-03-02 12:26:05,427 - DEBUG - Stop API ID 0
2018-03-02 12:26:05,427 - DEBUG - Profit API ID 0
2018-03-02 12:26:05,427 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:26:05,427 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:26:05,427 - DEBUG - Pos is 0
2018-03-02 12:26:05,427 - DEBUG - CurCount is 0
2018-03-02 12:26:05,427 - DEBUG - In Pos 0
2018-03-02 12:26:05,427 - DEBUG - Stop ID is 0
2018-03-02 12:26:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:26:05,430 - DEBUG - EntryPend is 1
2018-03-02 12:26:05,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:26:05,430 - DEBUG - Entry Date is 10
2018-03-02 12:26:05,430 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:26:05,430 - DEBUG - Order Profit ID is 247
2018-03-02 12:26:05,430 - DEBUG - Order Entry ID is 247
2018-03-02 12:26:05,430 - DEBUG - API ID is  0
2018-03-02 12:26:05,430 - DEBUG - Current Position is 0
2018-03-02 12:26:05,431 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:26:05,431 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:26:05,431 - DEBUG - Time is 12
2018-03-02 12:26:05,431 - DEBUG - Time is <class 'int'>
2018-03-02 12:26:05,433 - DEBUG - Time is 26
2018-03-02 12:26:05,433 - DEBUG - Time is <class 'int'>
2018-03-02 12:26:05,433 - DEBUG - Disconnected from IBController
2018-03-02 12:26:05,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:31:01,355 - DEBUG - ****************************************************
2018-03-02 12:31:01,355 - DEBUG - Current Time is 12:31PM
2018-03-02 12:31:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:31:01,355 - DEBUG - Connecting to database
2018-03-02 12:31:01,436 - DEBUG - Connected to database
2018-03-02 12:31:01,436 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:01,437 - DEBUG - Order Profit is 247
2018-03-02 12:31:01,437 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:01,438 - DEBUG - Stop ID is 0
2018-03-02 12:31:01,440 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:01,440 - DEBUG - Entry ID is 247
2018-03-02 12:31:01,440 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:31:01,443 - DEBUG - OCA ID is 1
2018-03-02 12:31:01,443 - DEBUG - Connecting to IBController
2018-03-02 12:31:02,447 - DEBUG - Connected to IBController
2018-03-02 12:31:02,447 - DEBUG - Position requested
2018-03-02 12:31:02,448 - DEBUG - Pos Mgmt -12987
2018-03-02 12:31:02,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CA20>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:31:02,448 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:31:02,450 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:31:02,450 - DEBUG - Position is -12987
2018-03-02 12:31:02,450 - DEBUG - Pos Mgmt 0
2018-03-02 12:31:02,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, pos=0, avgCost=0.0>
2018-03-02 12:31:02,450 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:31:02,450 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:31:02,450 - DEBUG - Position is 0
2018-03-02 12:31:03,448 - DEBUG - Open Orders requested
2018-03-02 12:31:05,450 - DEBUG - Connecting to database
2018-03-02 12:31:05,457 - DEBUG - Connected to database
2018-03-02 12:31:05,459 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,459 - DEBUG - Stop loss value is 68.15
2018-03-02 12:31:05,460 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,460 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:31:05,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,463 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:31:05,463 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,464 - DEBUG - Stop quantity 1
2018-03-02 12:31:05,466 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,466 - DEBUG - Direction is Short
2018-03-02 12:31:05,467 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,467 - DEBUG - Count is 0
2018-03-02 12:31:05,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:31:05,470 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:31:05,470 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:31:05,471 - DEBUG - Max ID Order is (248,)
2018-03-02 12:31:05,471 - DEBUG - Today is 2018-03-02
2018-03-02 12:31:05,471 - DEBUG - Day of the week 4
2018-03-02 12:31:05,473 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:31:05,473 - DEBUG - In Position is  0
2018-03-02 12:31:05,473 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:31:05,473 - DEBUG - curStopLossFlag is  0
2018-03-02 12:31:05,473 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:31:05,473 - DEBUG - Checking if Entry has been filled
2018-03-02 12:31:05,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:31:05,476 - DEBUG - EntryPend is 1
2018-03-02 12:31:05,476 - DEBUG - Try to Cancel Stop
2018-03-02 12:31:05,476 - DEBUG - Stop API ID 0
2018-03-02 12:31:05,476 - DEBUG - Profit API ID 0
2018-03-02 12:31:05,476 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:31:05,476 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:31:05,476 - DEBUG - Pos is 0
2018-03-02 12:31:05,476 - DEBUG - CurCount is 0
2018-03-02 12:31:05,476 - DEBUG - In Pos 0
2018-03-02 12:31:05,477 - DEBUG - Stop ID is 0
2018-03-02 12:31:05,477 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:31:05,479 - DEBUG - EntryPend is 1
2018-03-02 12:31:05,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:31:05,480 - DEBUG - Entry Date is 10
2018-03-02 12:31:05,480 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:31:05,480 - DEBUG - Order Profit ID is 247
2018-03-02 12:31:05,480 - DEBUG - Order Entry ID is 247
2018-03-02 12:31:05,480 - DEBUG - API ID is  0
2018-03-02 12:31:05,480 - DEBUG - Current Position is 0
2018-03-02 12:31:05,480 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:31:05,482 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:31:05,482 - DEBUG - Time is 12
2018-03-02 12:31:05,482 - DEBUG - Time is <class 'int'>
2018-03-02 12:31:05,482 - DEBUG - Time is 31
2018-03-02 12:31:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 12:31:05,483 - DEBUG - Disconnected from IBController
2018-03-02 12:31:05,483 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:36:01,355 - DEBUG - ****************************************************
2018-03-02 12:36:01,357 - DEBUG - Current Time is 12:36PM
2018-03-02 12:36:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:36:01,357 - DEBUG - Connecting to database
2018-03-02 12:36:01,384 - DEBUG - Connected to database
2018-03-02 12:36:01,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:01,385 - DEBUG - Order Profit is 247
2018-03-02 12:36:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:01,387 - DEBUG - Stop ID is 0
2018-03-02 12:36:01,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:01,388 - DEBUG - Entry ID is 247
2018-03-02 12:36:01,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:36:01,391 - DEBUG - OCA ID is 1
2018-03-02 12:36:01,391 - DEBUG - Connecting to IBController
2018-03-02 12:36:02,421 - DEBUG - Connected to IBController
2018-03-02 12:36:02,421 - DEBUG - Position requested
2018-03-02 12:36:02,424 - DEBUG - Pos Mgmt -12987
2018-03-02 12:36:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:36:02,424 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:36:02,424 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:36:02,424 - DEBUG - Position is -12987
2018-03-02 12:36:02,424 - DEBUG - Pos Mgmt 0
2018-03-02 12:36:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=0, avgCost=0.0>
2018-03-02 12:36:02,426 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:36:02,426 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:36:02,426 - DEBUG - Position is 0
2018-03-02 12:36:03,423 - DEBUG - Open Orders requested
2018-03-02 12:36:05,423 - DEBUG - Connecting to database
2018-03-02 12:36:05,430 - DEBUG - Connected to database
2018-03-02 12:36:05,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,431 - DEBUG - Stop loss value is 68.15
2018-03-02 12:36:05,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,434 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:36:05,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,436 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:36:05,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,437 - DEBUG - Stop quantity 1
2018-03-02 12:36:05,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,438 - DEBUG - Direction is Short
2018-03-02 12:36:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,440 - DEBUG - Count is 0
2018-03-02 12:36:05,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:36:05,441 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:36:05,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:36:05,444 - DEBUG - Max ID Order is (248,)
2018-03-02 12:36:05,444 - DEBUG - Today is 2018-03-02
2018-03-02 12:36:05,444 - DEBUG - Day of the week 4
2018-03-02 12:36:05,444 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:36:05,444 - DEBUG - In Position is  0
2018-03-02 12:36:05,446 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:36:05,446 - DEBUG - curStopLossFlag is  0
2018-03-02 12:36:05,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:36:05,446 - DEBUG - Checking if Entry has been filled
2018-03-02 12:36:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:36:05,447 - DEBUG - EntryPend is 1
2018-03-02 12:36:05,447 - DEBUG - Try to Cancel Stop
2018-03-02 12:36:05,447 - DEBUG - Stop API ID 0
2018-03-02 12:36:05,448 - DEBUG - Profit API ID 0
2018-03-02 12:36:05,448 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:36:05,448 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:36:05,448 - DEBUG - Pos is 0
2018-03-02 12:36:05,448 - DEBUG - CurCount is 0
2018-03-02 12:36:05,450 - DEBUG - In Pos 0
2018-03-02 12:36:05,450 - DEBUG - Stop ID is 0
2018-03-02 12:36:05,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:36:05,451 - DEBUG - EntryPend is 1
2018-03-02 12:36:05,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:36:05,451 - DEBUG - Entry Date is 10
2018-03-02 12:36:05,451 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:36:05,451 - DEBUG - Order Profit ID is 247
2018-03-02 12:36:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 12:36:05,453 - DEBUG - API ID is  0
2018-03-02 12:36:05,453 - DEBUG - Current Position is 0
2018-03-02 12:36:05,453 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:36:05,453 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:36:05,453 - DEBUG - Time is 12
2018-03-02 12:36:05,453 - DEBUG - Time is <class 'int'>
2018-03-02 12:36:05,453 - DEBUG - Time is 36
2018-03-02 12:36:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 12:36:05,454 - DEBUG - Disconnected from IBController
2018-03-02 12:36:05,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:41:01,355 - DEBUG - ****************************************************
2018-03-02 12:41:01,355 - DEBUG - Current Time is 12:41PM
2018-03-02 12:41:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:41:01,355 - DEBUG - Connecting to database
2018-03-02 12:41:01,401 - DEBUG - Connected to database
2018-03-02 12:41:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:01,403 - DEBUG - Order Profit is 247
2018-03-02 12:41:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:01,404 - DEBUG - Stop ID is 0
2018-03-02 12:41:01,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:01,407 - DEBUG - Entry ID is 247
2018-03-02 12:41:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:41:01,411 - DEBUG - OCA ID is 1
2018-03-02 12:41:01,411 - DEBUG - Connecting to IBController
2018-03-02 12:41:02,417 - DEBUG - Connected to IBController
2018-03-02 12:41:02,417 - DEBUG - Position requested
2018-03-02 12:41:02,420 - DEBUG - Pos Mgmt -12987
2018-03-02 12:41:02,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:41:02,420 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:41:02,421 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:41:02,421 - DEBUG - Position is -12987
2018-03-02 12:41:02,421 - DEBUG - Pos Mgmt 0
2018-03-02 12:41:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=0, avgCost=0.0>
2018-03-02 12:41:02,421 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:41:02,421 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:41:02,421 - DEBUG - Position is 0
2018-03-02 12:41:03,418 - DEBUG - Open Orders requested
2018-03-02 12:41:05,420 - DEBUG - Connecting to database
2018-03-02 12:41:05,427 - DEBUG - Connected to database
2018-03-02 12:41:05,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,428 - DEBUG - Stop loss value is 68.15
2018-03-02 12:41:05,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,430 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:41:05,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,433 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:41:05,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,434 - DEBUG - Stop quantity 1
2018-03-02 12:41:05,436 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,436 - DEBUG - Direction is Short
2018-03-02 12:41:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,437 - DEBUG - Count is 0
2018-03-02 12:41:05,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:41:05,440 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:41:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:41:05,440 - DEBUG - Max ID Order is (248,)
2018-03-02 12:41:05,441 - DEBUG - Today is 2018-03-02
2018-03-02 12:41:05,441 - DEBUG - Day of the week 4
2018-03-02 12:41:05,441 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:41:05,443 - DEBUG - In Position is  0
2018-03-02 12:41:05,443 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:41:05,443 - DEBUG - curStopLossFlag is  0
2018-03-02 12:41:05,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:41:05,444 - DEBUG - Checking if Entry has been filled
2018-03-02 12:41:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:41:05,446 - DEBUG - EntryPend is 1
2018-03-02 12:41:05,446 - DEBUG - Try to Cancel Stop
2018-03-02 12:41:05,446 - DEBUG - Stop API ID 0
2018-03-02 12:41:05,446 - DEBUG - Profit API ID 0
2018-03-02 12:41:05,446 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:41:05,447 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:41:05,447 - DEBUG - Pos is 0
2018-03-02 12:41:05,447 - DEBUG - CurCount is 0
2018-03-02 12:41:05,447 - DEBUG - In Pos 0
2018-03-02 12:41:05,447 - DEBUG - Stop ID is 0
2018-03-02 12:41:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:41:05,448 - DEBUG - EntryPend is 1
2018-03-02 12:41:05,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:41:05,450 - DEBUG - Entry Date is 10
2018-03-02 12:41:05,450 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:41:05,450 - DEBUG - Order Profit ID is 247
2018-03-02 12:41:05,450 - DEBUG - Order Entry ID is 247
2018-03-02 12:41:05,450 - DEBUG - API ID is  0
2018-03-02 12:41:05,450 - DEBUG - Current Position is 0
2018-03-02 12:41:05,450 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:41:05,450 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:41:05,451 - DEBUG - Time is 12
2018-03-02 12:41:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 12:41:05,451 - DEBUG - Time is 41
2018-03-02 12:41:05,451 - DEBUG - Time is <class 'int'>
2018-03-02 12:41:05,453 - DEBUG - Disconnected from IBController
2018-03-02 12:41:05,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:46:01,371 - DEBUG - ****************************************************
2018-03-02 12:46:01,372 - DEBUG - Current Time is 12:46PM
2018-03-02 12:46:01,372 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:46:01,374 - DEBUG - Connecting to database
2018-03-02 12:46:01,405 - DEBUG - Connected to database
2018-03-02 12:46:01,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:01,407 - DEBUG - Order Profit is 247
2018-03-02 12:46:01,408 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:01,410 - DEBUG - Stop ID is 0
2018-03-02 12:46:01,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:01,421 - DEBUG - Entry ID is 247
2018-03-02 12:46:01,421 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:46:01,424 - DEBUG - OCA ID is 1
2018-03-02 12:46:01,426 - DEBUG - Connecting to IBController
2018-03-02 12:46:02,430 - DEBUG - Connected to IBController
2018-03-02 12:46:02,430 - DEBUG - Position requested
2018-03-02 12:46:02,431 - DEBUG - Pos Mgmt -12987
2018-03-02 12:46:02,433 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:46:02,433 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:46:02,434 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:46:02,434 - DEBUG - Position is -12987
2018-03-02 12:46:02,434 - DEBUG - Pos Mgmt 0
2018-03-02 12:46:02,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=0, avgCost=0.0>
2018-03-02 12:46:02,434 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:46:02,434 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:46:02,434 - DEBUG - Position is 0
2018-03-02 12:46:03,431 - DEBUG - Open Orders requested
2018-03-02 12:46:05,431 - DEBUG - Connecting to database
2018-03-02 12:46:05,440 - DEBUG - Connected to database
2018-03-02 12:46:05,441 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,441 - DEBUG - Stop loss value is 68.15
2018-03-02 12:46:05,443 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,444 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:46:05,444 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,446 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:46:05,447 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,447 - DEBUG - Stop quantity 1
2018-03-02 12:46:05,448 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,448 - DEBUG - Direction is Short
2018-03-02 12:46:05,450 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,450 - DEBUG - Count is 0
2018-03-02 12:46:05,451 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:46:05,453 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:46:05,456 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:46:05,456 - DEBUG - Max ID Order is (248,)
2018-03-02 12:46:05,457 - DEBUG - Today is 2018-03-02
2018-03-02 12:46:05,457 - DEBUG - Day of the week 4
2018-03-02 12:46:05,457 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:46:05,457 - DEBUG - In Position is  0
2018-03-02 12:46:05,457 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:46:05,457 - DEBUG - curStopLossFlag is  0
2018-03-02 12:46:05,457 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:46:05,457 - DEBUG - Checking if Entry has been filled
2018-03-02 12:46:05,459 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:46:05,460 - DEBUG - EntryPend is 1
2018-03-02 12:46:05,460 - DEBUG - Try to Cancel Stop
2018-03-02 12:46:05,460 - DEBUG - Stop API ID 0
2018-03-02 12:46:05,460 - DEBUG - Profit API ID 0
2018-03-02 12:46:05,460 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:46:05,460 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:46:05,460 - DEBUG - Pos is 0
2018-03-02 12:46:05,461 - DEBUG - CurCount is 0
2018-03-02 12:46:05,461 - DEBUG - In Pos 0
2018-03-02 12:46:05,461 - DEBUG - Stop ID is 0
2018-03-02 12:46:05,461 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:46:05,463 - DEBUG - EntryPend is 1
2018-03-02 12:46:05,463 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:46:05,463 - DEBUG - Entry Date is 10
2018-03-02 12:46:05,464 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:46:05,464 - DEBUG - Order Profit ID is 247
2018-03-02 12:46:05,464 - DEBUG - Order Entry ID is 247
2018-03-02 12:46:05,464 - DEBUG - API ID is  0
2018-03-02 12:46:05,466 - DEBUG - Current Position is 0
2018-03-02 12:46:05,466 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:46:05,466 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:46:05,466 - DEBUG - Time is 12
2018-03-02 12:46:05,467 - DEBUG - Time is <class 'int'>
2018-03-02 12:46:05,467 - DEBUG - Time is 46
2018-03-02 12:46:05,467 - DEBUG - Time is <class 'int'>
2018-03-02 12:46:05,467 - DEBUG - Disconnected from IBController
2018-03-02 12:46:05,467 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:51:01,358 - DEBUG - ****************************************************
2018-03-02 12:51:01,359 - DEBUG - Current Time is 12:51PM
2018-03-02 12:51:01,359 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:51:01,359 - DEBUG - Connecting to database
2018-03-02 12:51:01,391 - DEBUG - Connected to database
2018-03-02 12:51:01,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:01,392 - DEBUG - Order Profit is 247
2018-03-02 12:51:01,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:01,394 - DEBUG - Stop ID is 0
2018-03-02 12:51:01,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:01,395 - DEBUG - Entry ID is 247
2018-03-02 12:51:01,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:51:01,398 - DEBUG - OCA ID is 1
2018-03-02 12:51:01,398 - DEBUG - Connecting to IBController
2018-03-02 12:51:02,403 - DEBUG - Connected to IBController
2018-03-02 12:51:02,403 - DEBUG - Position requested
2018-03-02 12:51:02,404 - DEBUG - Pos Mgmt -12987
2018-03-02 12:51:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:51:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:51:02,405 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:51:02,405 - DEBUG - Position is -12987
2018-03-02 12:51:02,405 - DEBUG - Pos Mgmt 0
2018-03-02 12:51:02,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DCC0>, pos=0, avgCost=0.0>
2018-03-02 12:51:02,407 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:51:02,407 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:51:02,407 - DEBUG - Position is 0
2018-03-02 12:51:03,404 - DEBUG - Open Orders requested
2018-03-02 12:51:05,405 - DEBUG - Connecting to database
2018-03-02 12:51:05,413 - DEBUG - Connected to database
2018-03-02 12:51:05,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,414 - DEBUG - Stop loss value is 68.15
2018-03-02 12:51:05,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,417 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:51:05,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,418 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:51:05,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,420 - DEBUG - Stop quantity 1
2018-03-02 12:51:05,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,421 - DEBUG - Direction is Short
2018-03-02 12:51:05,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,424 - DEBUG - Count is 0
2018-03-02 12:51:05,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:51:05,426 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:51:05,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:51:05,427 - DEBUG - Max ID Order is (248,)
2018-03-02 12:51:05,427 - DEBUG - Today is 2018-03-02
2018-03-02 12:51:05,427 - DEBUG - Day of the week 4
2018-03-02 12:51:05,427 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:51:05,428 - DEBUG - In Position is  0
2018-03-02 12:51:05,428 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:51:05,428 - DEBUG - curStopLossFlag is  0
2018-03-02 12:51:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:51:05,430 - DEBUG - Checking if Entry has been filled
2018-03-02 12:51:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:51:05,430 - DEBUG - EntryPend is 1
2018-03-02 12:51:05,431 - DEBUG - Try to Cancel Stop
2018-03-02 12:51:05,431 - DEBUG - Stop API ID 0
2018-03-02 12:51:05,431 - DEBUG - Profit API ID 0
2018-03-02 12:51:05,431 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:51:05,433 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:51:05,433 - DEBUG - Pos is 0
2018-03-02 12:51:05,433 - DEBUG - CurCount is 0
2018-03-02 12:51:05,433 - DEBUG - In Pos 0
2018-03-02 12:51:05,434 - DEBUG - Stop ID is 0
2018-03-02 12:51:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:51:05,434 - DEBUG - EntryPend is 1
2018-03-02 12:51:05,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:51:05,436 - DEBUG - Entry Date is 10
2018-03-02 12:51:05,436 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:51:05,436 - DEBUG - Order Profit ID is 247
2018-03-02 12:51:05,436 - DEBUG - Order Entry ID is 247
2018-03-02 12:51:05,437 - DEBUG - API ID is  0
2018-03-02 12:51:05,437 - DEBUG - Current Position is 0
2018-03-02 12:51:05,437 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:51:05,437 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:51:05,437 - DEBUG - Time is 12
2018-03-02 12:51:05,437 - DEBUG - Time is <class 'int'>
2018-03-02 12:51:05,437 - DEBUG - Time is 51
2018-03-02 12:51:05,437 - DEBUG - Time is <class 'int'>
2018-03-02 12:51:05,438 - DEBUG - Disconnected from IBController
2018-03-02 12:51:05,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 12:56:01,355 - DEBUG - ****************************************************
2018-03-02 12:56:01,355 - DEBUG - Current Time is 12:56PM
2018-03-02 12:56:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 12:56:01,355 - DEBUG - Connecting to database
2018-03-02 12:56:01,411 - DEBUG - Connected to database
2018-03-02 12:56:01,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:01,413 - DEBUG - Order Profit is 247
2018-03-02 12:56:01,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:01,414 - DEBUG - Stop ID is 0
2018-03-02 12:56:01,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:01,415 - DEBUG - Entry ID is 247
2018-03-02 12:56:01,415 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 12:56:01,417 - DEBUG - OCA ID is 1
2018-03-02 12:56:01,417 - DEBUG - Connecting to IBController
2018-03-02 12:56:02,424 - DEBUG - Connected to IBController
2018-03-02 12:56:02,424 - DEBUG - Position requested
2018-03-02 12:56:02,427 - DEBUG - Pos Mgmt -12987
2018-03-02 12:56:02,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 12:56:02,427 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 12:56:02,427 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 12:56:02,427 - DEBUG - Position is -12987
2018-03-02 12:56:02,427 - DEBUG - Pos Mgmt 0
2018-03-02 12:56:02,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=0, avgCost=0.0>
2018-03-02 12:56:02,428 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 12:56:02,428 - DEBUG - ccy2 Currency with position is USD
2018-03-02 12:56:02,428 - DEBUG - Position is 0
2018-03-02 12:56:03,426 - DEBUG - Open Orders requested
2018-03-02 12:56:05,426 - DEBUG - Connecting to database
2018-03-02 12:56:05,433 - DEBUG - Connected to database
2018-03-02 12:56:05,434 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,434 - DEBUG - Stop loss value is 68.15
2018-03-02 12:56:05,436 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,437 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 12:56:05,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,437 - DEBUG - EntryPrice value is 66.6
2018-03-02 12:56:05,440 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,440 - DEBUG - Stop quantity 1
2018-03-02 12:56:05,441 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,441 - DEBUG - Direction is Short
2018-03-02 12:56:05,443 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,444 - DEBUG - Count is 0
2018-03-02 12:56:05,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 12:56:05,444 - DEBUG - Stop Loss Flag is 0
2018-03-02 12:56:05,446 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 12:56:05,447 - DEBUG - Max ID Order is (248,)
2018-03-02 12:56:05,447 - DEBUG - Today is 2018-03-02
2018-03-02 12:56:05,447 - DEBUG - Day of the week 4
2018-03-02 12:56:05,447 - DEBUG - Yesterday is 03/01/2018
2018-03-02 12:56:05,447 - DEBUG - In Position is  0
2018-03-02 12:56:05,447 - DEBUG - In Position is  <class 'int'>
2018-03-02 12:56:05,448 - DEBUG - curStopLossFlag is  0
2018-03-02 12:56:05,448 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 12:56:05,448 - DEBUG - Checking if Entry has been filled
2018-03-02 12:56:05,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:56:05,450 - DEBUG - EntryPend is 1
2018-03-02 12:56:05,450 - DEBUG - Try to Cancel Stop
2018-03-02 12:56:05,450 - DEBUG - Stop API ID 0
2018-03-02 12:56:05,451 - DEBUG - Profit API ID 0
2018-03-02 12:56:05,451 - DEBUG - Stop API ID <class 'int'>
2018-03-02 12:56:05,451 - DEBUG - Profit API ID <class 'int'>
2018-03-02 12:56:05,451 - DEBUG - Pos is 0
2018-03-02 12:56:05,453 - DEBUG - CurCount is 0
2018-03-02 12:56:05,453 - DEBUG - In Pos 0
2018-03-02 12:56:05,453 - DEBUG - Stop ID is 0
2018-03-02 12:56:05,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 12:56:05,454 - DEBUG - EntryPend is 1
2018-03-02 12:56:05,454 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 12:56:05,454 - DEBUG - Entry Date is 10
2018-03-02 12:56:05,456 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 12:56:05,456 - DEBUG - Order Profit ID is 247
2018-03-02 12:56:05,456 - DEBUG - Order Entry ID is 247
2018-03-02 12:56:05,456 - DEBUG - API ID is  0
2018-03-02 12:56:05,457 - DEBUG - Current Position is 0
2018-03-02 12:56:05,457 - DEBUG - Current Position is <class 'str'>
2018-03-02 12:56:05,457 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 12:56:05,457 - DEBUG - Time is 12
2018-03-02 12:56:05,457 - DEBUG - Time is <class 'int'>
2018-03-02 12:56:05,457 - DEBUG - Time is 56
2018-03-02 12:56:05,457 - DEBUG - Time is <class 'int'>
2018-03-02 12:56:05,457 - DEBUG - Disconnected from IBController
2018-03-02 12:56:05,459 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:01:01,348 - DEBUG - ****************************************************
2018-03-02 13:01:01,348 - DEBUG - Current Time is 01:01PM
2018-03-02 13:01:01,349 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:01:01,349 - DEBUG - Connecting to database
2018-03-02 13:01:01,408 - DEBUG - Connected to database
2018-03-02 13:01:01,410 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:01,411 - DEBUG - Order Profit is 247
2018-03-02 13:01:01,411 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:01,413 - DEBUG - Stop ID is 0
2018-03-02 13:01:01,413 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:01,414 - DEBUG - Entry ID is 247
2018-03-02 13:01:01,414 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:01:01,417 - DEBUG - OCA ID is 1
2018-03-02 13:01:01,417 - DEBUG - Connecting to IBController
2018-03-02 13:01:02,423 - DEBUG - Connected to IBController
2018-03-02 13:01:02,423 - DEBUG - Position requested
2018-03-02 13:01:02,424 - DEBUG - Pos Mgmt -12987
2018-03-02 13:01:02,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:01:02,424 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:01:02,426 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:01:02,426 - DEBUG - Position is -12987
2018-03-02 13:01:02,426 - DEBUG - Pos Mgmt 0
2018-03-02 13:01:02,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=0, avgCost=0.0>
2018-03-02 13:01:02,427 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:01:02,427 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:01:02,427 - DEBUG - Position is 0
2018-03-02 13:01:03,424 - DEBUG - Open Orders requested
2018-03-02 13:01:05,424 - DEBUG - Connecting to database
2018-03-02 13:01:05,430 - DEBUG - Connected to database
2018-03-02 13:01:05,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,433 - DEBUG - Stop loss value is 68.15
2018-03-02 13:01:05,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,434 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 13:01:05,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,437 - DEBUG - EntryPrice value is 66.6
2018-03-02 13:01:05,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,437 - DEBUG - Stop quantity 1
2018-03-02 13:01:05,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,440 - DEBUG - Direction is Short
2018-03-02 13:01:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,441 - DEBUG - Count is 0
2018-03-02 13:01:05,443 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:01:05,443 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:01:05,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:01:05,444 - DEBUG - Max ID Order is (248,)
2018-03-02 13:01:05,444 - DEBUG - Today is 2018-03-02
2018-03-02 13:01:05,446 - DEBUG - Day of the week 4
2018-03-02 13:01:05,446 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:01:05,446 - DEBUG - In Position is  0
2018-03-02 13:01:05,447 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:01:05,447 - DEBUG - curStopLossFlag is  0
2018-03-02 13:01:05,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:01:05,447 - DEBUG - Checking if Entry has been filled
2018-03-02 13:01:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:01:05,448 - DEBUG - EntryPend is 1
2018-03-02 13:01:05,448 - DEBUG - Try to Cancel Stop
2018-03-02 13:01:05,450 - DEBUG - Stop API ID 0
2018-03-02 13:01:05,450 - DEBUG - Profit API ID 0
2018-03-02 13:01:05,450 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:01:05,450 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:01:05,450 - DEBUG - Pos is 0
2018-03-02 13:01:05,450 - DEBUG - CurCount is 0
2018-03-02 13:01:05,450 - DEBUG - In Pos 0
2018-03-02 13:01:05,450 - DEBUG - Stop ID is 0
2018-03-02 13:01:05,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:01:05,453 - DEBUG - EntryPend is 1
2018-03-02 13:01:05,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:01:05,453 - DEBUG - Entry Date is 10
2018-03-02 13:01:05,453 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:01:05,453 - DEBUG - Order Profit ID is 247
2018-03-02 13:01:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 13:01:05,453 - DEBUG - API ID is  0
2018-03-02 13:01:05,453 - DEBUG - Current Position is 0
2018-03-02 13:01:05,453 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:01:05,454 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:01:05,454 - DEBUG - Time is 13
2018-03-02 13:01:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 13:01:05,456 - DEBUG - Time is 1
2018-03-02 13:01:05,456 - DEBUG - Time is <class 'int'>
2018-03-02 13:01:05,456 - DEBUG - Disconnected from IBController
2018-03-02 13:01:05,457 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:06:01,355 - DEBUG - ****************************************************
2018-03-02 13:06:01,357 - DEBUG - Current Time is 01:06PM
2018-03-02 13:06:01,357 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:06:01,357 - DEBUG - Connecting to database
2018-03-02 13:06:01,404 - DEBUG - Connected to database
2018-03-02 13:06:01,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:01,405 - DEBUG - Order Profit is 247
2018-03-02 13:06:01,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:01,407 - DEBUG - Stop ID is 0
2018-03-02 13:06:01,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:01,410 - DEBUG - Entry ID is 247
2018-03-02 13:06:01,410 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:06:01,411 - DEBUG - OCA ID is 1
2018-03-02 13:06:01,411 - DEBUG - Connecting to IBController
2018-03-02 13:06:02,418 - DEBUG - Connected to IBController
2018-03-02 13:06:02,418 - DEBUG - Position requested
2018-03-02 13:06:02,420 - DEBUG - Pos Mgmt -12987
2018-03-02 13:06:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:06:02,421 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:06:02,421 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:06:02,421 - DEBUG - Position is -12987
2018-03-02 13:06:02,421 - DEBUG - Pos Mgmt 0
2018-03-02 13:06:02,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=0, avgCost=0.0>
2018-03-02 13:06:02,423 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:06:02,423 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:06:02,423 - DEBUG - Position is 0
2018-03-02 13:06:03,420 - DEBUG - Open Orders requested
2018-03-02 13:06:05,421 - DEBUG - Connecting to database
2018-03-02 13:06:05,428 - DEBUG - Connected to database
2018-03-02 13:06:05,430 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,430 - DEBUG - Stop loss value is 68.15
2018-03-02 13:06:05,433 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,433 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 13:06:05,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,434 - DEBUG - EntryPrice value is 66.6
2018-03-02 13:06:05,436 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,437 - DEBUG - Stop quantity 1
2018-03-02 13:06:05,437 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,437 - DEBUG - Direction is Short
2018-03-02 13:06:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,440 - DEBUG - Count is 0
2018-03-02 13:06:05,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:06:05,441 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:06:05,443 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:06:05,444 - DEBUG - Max ID Order is (248,)
2018-03-02 13:06:05,444 - DEBUG - Today is 2018-03-02
2018-03-02 13:06:05,444 - DEBUG - Day of the week 4
2018-03-02 13:06:05,444 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:06:05,444 - DEBUG - In Position is  0
2018-03-02 13:06:05,444 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:06:05,446 - DEBUG - curStopLossFlag is  0
2018-03-02 13:06:05,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:06:05,446 - DEBUG - Checking if Entry has been filled
2018-03-02 13:06:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:06:05,447 - DEBUG - EntryPend is 1
2018-03-02 13:06:05,447 - DEBUG - Try to Cancel Stop
2018-03-02 13:06:05,447 - DEBUG - Stop API ID 0
2018-03-02 13:06:05,447 - DEBUG - Profit API ID 0
2018-03-02 13:06:05,448 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:06:05,448 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:06:05,448 - DEBUG - Pos is 0
2018-03-02 13:06:05,448 - DEBUG - CurCount is 0
2018-03-02 13:06:05,450 - DEBUG - In Pos 0
2018-03-02 13:06:05,450 - DEBUG - Stop ID is 0
2018-03-02 13:06:05,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:06:05,451 - DEBUG - EntryPend is 1
2018-03-02 13:06:05,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:06:05,451 - DEBUG - Entry Date is 10
2018-03-02 13:06:05,451 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:06:05,451 - DEBUG - Order Profit ID is 247
2018-03-02 13:06:05,453 - DEBUG - Order Entry ID is 247
2018-03-02 13:06:05,453 - DEBUG - API ID is  0
2018-03-02 13:06:05,453 - DEBUG - Current Position is 0
2018-03-02 13:06:05,453 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:06:05,453 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:06:05,453 - DEBUG - Time is 13
2018-03-02 13:06:05,453 - DEBUG - Time is <class 'int'>
2018-03-02 13:06:05,453 - DEBUG - Time is 6
2018-03-02 13:06:05,454 - DEBUG - Time is <class 'int'>
2018-03-02 13:06:05,454 - DEBUG - Disconnected from IBController
2018-03-02 13:06:05,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:11:01,352 - DEBUG - ****************************************************
2018-03-02 13:11:01,352 - DEBUG - Current Time is 01:11PM
2018-03-02 13:11:01,354 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:11:01,354 - DEBUG - Connecting to database
2018-03-02 13:11:01,384 - DEBUG - Connected to database
2018-03-02 13:11:01,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:01,387 - DEBUG - Order Profit is 247
2018-03-02 13:11:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:01,388 - DEBUG - Stop ID is 0
2018-03-02 13:11:01,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:01,391 - DEBUG - Entry ID is 247
2018-03-02 13:11:01,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:11:01,391 - DEBUG - OCA ID is 1
2018-03-02 13:11:01,392 - DEBUG - Connecting to IBController
2018-03-02 13:11:02,401 - DEBUG - Connected to IBController
2018-03-02 13:11:02,401 - DEBUG - Position requested
2018-03-02 13:11:02,403 - DEBUG - Pos Mgmt -12987
2018-03-02 13:11:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:11:02,403 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:11:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:11:02,404 - DEBUG - Position is -12987
2018-03-02 13:11:02,404 - DEBUG - Pos Mgmt 0
2018-03-02 13:11:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=0, avgCost=0.0>
2018-03-02 13:11:02,404 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:11:02,404 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:11:02,404 - DEBUG - Position is 0
2018-03-02 13:11:03,401 - DEBUG - Open Orders requested
2018-03-02 13:11:05,401 - DEBUG - Connecting to database
2018-03-02 13:11:05,408 - DEBUG - Connected to database
2018-03-02 13:11:05,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,411 - DEBUG - Stop loss value is 68.15
2018-03-02 13:11:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,413 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 13:11:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,414 - DEBUG - EntryPrice value is 66.6
2018-03-02 13:11:05,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,417 - DEBUG - Stop quantity 1
2018-03-02 13:11:05,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,417 - DEBUG - Direction is Short
2018-03-02 13:11:05,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,420 - DEBUG - Count is 0
2018-03-02 13:11:05,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:11:05,421 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:11:05,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:11:05,423 - DEBUG - Max ID Order is (248,)
2018-03-02 13:11:05,424 - DEBUG - Today is 2018-03-02
2018-03-02 13:11:05,424 - DEBUG - Day of the week 4
2018-03-02 13:11:05,424 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:11:05,424 - DEBUG - In Position is  0
2018-03-02 13:11:05,424 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:11:05,424 - DEBUG - curStopLossFlag is  0
2018-03-02 13:11:05,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:11:05,426 - DEBUG - Checking if Entry has been filled
2018-03-02 13:11:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:11:05,427 - DEBUG - EntryPend is 1
2018-03-02 13:11:05,427 - DEBUG - Try to Cancel Stop
2018-03-02 13:11:05,427 - DEBUG - Stop API ID 0
2018-03-02 13:11:05,427 - DEBUG - Profit API ID 0
2018-03-02 13:11:05,428 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:11:05,428 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:11:05,428 - DEBUG - Pos is 0
2018-03-02 13:11:05,428 - DEBUG - CurCount is 0
2018-03-02 13:11:05,428 - DEBUG - In Pos 0
2018-03-02 13:11:05,430 - DEBUG - Stop ID is 0
2018-03-02 13:11:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:11:05,430 - DEBUG - EntryPend is 1
2018-03-02 13:11:05,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:11:05,431 - DEBUG - Entry Date is 10
2018-03-02 13:11:05,431 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:11:05,431 - DEBUG - Order Profit ID is 247
2018-03-02 13:11:05,431 - DEBUG - Order Entry ID is 247
2018-03-02 13:11:05,433 - DEBUG - API ID is  0
2018-03-02 13:11:05,433 - DEBUG - Current Position is 0
2018-03-02 13:11:05,433 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:11:05,433 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:11:05,434 - DEBUG - Time is 13
2018-03-02 13:11:05,434 - DEBUG - Time is <class 'int'>
2018-03-02 13:11:05,434 - DEBUG - Time is 11
2018-03-02 13:11:05,434 - DEBUG - Time is <class 'int'>
2018-03-02 13:11:05,434 - DEBUG - Disconnected from IBController
2018-03-02 13:11:05,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:16:01,357 - DEBUG - ****************************************************
2018-03-02 13:16:01,358 - DEBUG - Current Time is 01:16PM
2018-03-02 13:16:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:16:01,358 - DEBUG - Connecting to database
2018-03-02 13:16:01,384 - DEBUG - Connected to database
2018-03-02 13:16:01,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:01,385 - DEBUG - Order Profit is 247
2018-03-02 13:16:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:01,388 - DEBUG - Stop ID is 0
2018-03-02 13:16:01,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:01,388 - DEBUG - Entry ID is 247
2018-03-02 13:16:01,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:16:01,391 - DEBUG - OCA ID is 1
2018-03-02 13:16:01,391 - DEBUG - Connecting to IBController
2018-03-02 13:16:02,397 - DEBUG - Connected to IBController
2018-03-02 13:16:02,397 - DEBUG - Position requested
2018-03-02 13:16:02,398 - DEBUG - Pos Mgmt -12987
2018-03-02 13:16:02,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB38>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:16:02,400 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:16:02,400 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:16:02,400 - DEBUG - Position is -12987
2018-03-02 13:16:02,400 - DEBUG - Pos Mgmt 0
2018-03-02 13:16:02,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=0, avgCost=0.0>
2018-03-02 13:16:02,401 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:16:02,401 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:16:02,401 - DEBUG - Position is 0
2018-03-02 13:16:03,398 - DEBUG - Open Orders requested
2018-03-02 13:16:05,398 - DEBUG - Connecting to database
2018-03-02 13:16:05,405 - DEBUG - Connected to database
2018-03-02 13:16:05,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,407 - DEBUG - Stop loss value is 68.15
2018-03-02 13:16:05,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,410 - DEBUG - Stop loss value is 55.900000000000006
2018-03-02 13:16:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,411 - DEBUG - EntryPrice value is 66.6
2018-03-02 13:16:05,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,413 - DEBUG - Stop quantity 1
2018-03-02 13:16:05,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,414 - DEBUG - Direction is Short
2018-03-02 13:16:05,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,417 - DEBUG - Count is 0
2018-03-02 13:16:05,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:16:05,417 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:16:05,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:16:05,420 - DEBUG - Max ID Order is (248,)
2018-03-02 13:16:05,420 - DEBUG - Today is 2018-03-02
2018-03-02 13:16:05,421 - DEBUG - Day of the week 4
2018-03-02 13:16:05,421 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:16:05,421 - DEBUG - In Position is  0
2018-03-02 13:16:05,421 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:16:05,421 - DEBUG - curStopLossFlag is  0
2018-03-02 13:16:05,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:16:05,421 - DEBUG - Checking if Entry has been filled
2018-03-02 13:16:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:16:05,424 - DEBUG - EntryPend is 1
2018-03-02 13:16:05,424 - DEBUG - Try to Cancel Stop
2018-03-02 13:16:05,424 - DEBUG - Stop API ID 0
2018-03-02 13:16:05,424 - DEBUG - Profit API ID 0
2018-03-02 13:16:05,424 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:16:05,424 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:16:05,424 - DEBUG - Pos is 0
2018-03-02 13:16:05,424 - DEBUG - CurCount is 0
2018-03-02 13:16:05,426 - DEBUG - In Pos 0
2018-03-02 13:16:05,426 - DEBUG - Stop ID is 0
2018-03-02 13:16:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:16:05,427 - DEBUG - EntryPend is 1
2018-03-02 13:16:05,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:16:05,427 - DEBUG - Entry Date is 10
2018-03-02 13:16:05,428 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:16:05,428 - DEBUG - Order Profit ID is 247
2018-03-02 13:16:05,428 - DEBUG - Order Entry ID is 247
2018-03-02 13:16:05,428 - DEBUG - API ID is  0
2018-03-02 13:16:05,430 - DEBUG - Current Position is 0
2018-03-02 13:16:05,430 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:16:05,430 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:16:05,430 - DEBUG - Time is 13
2018-03-02 13:16:05,430 - DEBUG - Time is <class 'int'>
2018-03-02 13:16:05,430 - DEBUG - Time is 16
2018-03-02 13:16:05,430 - DEBUG - Time is <class 'int'>
2018-03-02 13:16:05,430 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-03-02 13:16:05,431 - ERROR - Canceled Order 247
2018-03-02 13:16:05,431 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 247;
2018-03-02 13:16:05,448 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-03-02 13:16:05,463 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-03-02 13:16:05,476 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-03-02 13:16:05,492 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-03-02 13:16:05,506 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-03-02 13:16:05,519 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-03-02 13:16:05,536 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-03-02 13:16:05,549 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-03-02 13:16:05,565 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-03-02 13:16:05,582 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-03-02 13:16:05,595 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-03-02 13:16:05,609 - DEBUG - Disconnected from IBController
2018-03-02 13:16:05,611 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:21:01,377 - DEBUG - ****************************************************
2018-03-02 13:21:01,377 - DEBUG - Current Time is 01:21PM
2018-03-02 13:21:01,378 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:21:01,378 - DEBUG - Connecting to database
2018-03-02 13:21:01,433 - DEBUG - Connected to database
2018-03-02 13:21:01,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:01,434 - DEBUG - Order Profit is 0
2018-03-02 13:21:01,436 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:01,437 - DEBUG - Stop ID is 0
2018-03-02 13:21:01,437 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:01,438 - DEBUG - Entry ID is 0
2018-03-02 13:21:01,438 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:21:01,440 - DEBUG - OCA ID is 1
2018-03-02 13:21:01,440 - DEBUG - Connecting to IBController
2018-03-02 13:21:02,444 - DEBUG - Connected to IBController
2018-03-02 13:21:02,444 - DEBUG - Position requested
2018-03-02 13:21:02,447 - DEBUG - Pos Mgmt -12987
2018-03-02 13:21:02,447 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:21:02,447 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:21:02,447 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:21:02,447 - DEBUG - Position is -12987
2018-03-02 13:21:02,447 - DEBUG - Pos Mgmt 0
2018-03-02 13:21:02,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBE0>, pos=0, avgCost=0.0>
2018-03-02 13:21:02,448 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:21:02,448 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:21:02,448 - DEBUG - Position is 0
2018-03-02 13:21:03,446 - DEBUG - Open Orders requested
2018-03-02 13:21:05,446 - DEBUG - Connecting to database
2018-03-02 13:21:05,453 - DEBUG - Connected to database
2018-03-02 13:21:05,454 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,454 - DEBUG - Stop loss value is 0
2018-03-02 13:21:05,457 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,457 - DEBUG - Stop loss value is 0
2018-03-02 13:21:05,459 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,459 - DEBUG - EntryPrice value is 0
2018-03-02 13:21:05,460 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,460 - DEBUG - Stop quantity 0
2018-03-02 13:21:05,463 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,463 - DEBUG - Direction is 0
2018-03-02 13:21:05,463 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,464 - DEBUG - Count is 0
2018-03-02 13:21:05,466 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:21:05,466 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:21:05,467 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:21:05,467 - DEBUG - Max ID Order is (248,)
2018-03-02 13:21:05,467 - DEBUG - Today is 2018-03-02
2018-03-02 13:21:05,469 - DEBUG - Day of the week 4
2018-03-02 13:21:05,469 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:21:05,469 - DEBUG - In Position is  0
2018-03-02 13:21:05,470 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:21:05,470 - DEBUG - curStopLossFlag is  0
2018-03-02 13:21:05,470 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:21:05,470 - DEBUG - Checking if Entry has been filled
2018-03-02 13:21:05,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:21:05,471 - DEBUG - EntryPend is 0
2018-03-02 13:21:05,471 - DEBUG - Try to Cancel Stop
2018-03-02 13:21:05,473 - DEBUG - Stop API ID 0
2018-03-02 13:21:05,473 - DEBUG - Profit API ID 0
2018-03-02 13:21:05,473 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:21:05,473 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:21:05,473 - DEBUG - Pos is 0
2018-03-02 13:21:05,473 - DEBUG - CurCount is 0
2018-03-02 13:21:05,473 - DEBUG - In Pos 0
2018-03-02 13:21:05,473 - DEBUG - Stop ID is 0
2018-03-02 13:21:05,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:21:05,476 - DEBUG - EntryPend is 0
2018-03-02 13:21:05,476 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:21:05,476 - DEBUG - Entry Date is 10
2018-03-02 13:21:05,476 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:21:05,476 - DEBUG - Order Profit ID is 0
2018-03-02 13:21:05,476 - DEBUG - Order Entry ID is 0
2018-03-02 13:21:05,476 - DEBUG - API ID is  0
2018-03-02 13:21:05,477 - DEBUG - Current Position is 0
2018-03-02 13:21:05,477 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:21:05,477 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:21:05,477 - DEBUG - Time is 13
2018-03-02 13:21:05,477 - DEBUG - Time is <class 'int'>
2018-03-02 13:21:05,479 - DEBUG - Time is 21
2018-03-02 13:21:05,479 - DEBUG - Time is <class 'int'>
2018-03-02 13:21:05,479 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-03-02 13:21:05,480 - ERROR - Canceled Order 0
2018-03-02 13:21:05,480 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-03-02 13:21:05,494 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-03-02 13:21:05,509 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-03-02 13:21:05,525 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-03-02 13:21:05,539 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-03-02 13:21:05,552 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-03-02 13:21:05,565 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-03-02 13:21:05,581 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-03-02 13:21:05,595 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-03-02 13:21:05,609 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-03-02 13:21:05,631 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-03-02 13:21:05,657 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-03-02 13:21:05,683 - DEBUG - Disconnected from IBController
2018-03-02 13:21:05,683 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:26:01,358 - DEBUG - ****************************************************
2018-03-02 13:26:01,358 - DEBUG - Current Time is 01:26PM
2018-03-02 13:26:01,358 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:26:01,359 - DEBUG - Connecting to database
2018-03-02 13:26:01,434 - DEBUG - Connected to database
2018-03-02 13:26:01,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:01,437 - DEBUG - Order Profit is 0
2018-03-02 13:26:01,437 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:01,438 - DEBUG - Stop ID is 0
2018-03-02 13:26:01,438 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:01,440 - DEBUG - Entry ID is 0
2018-03-02 13:26:01,440 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:26:01,441 - DEBUG - OCA ID is 1
2018-03-02 13:26:01,443 - DEBUG - Connecting to IBController
2018-03-02 13:26:02,447 - DEBUG - Connected to IBController
2018-03-02 13:26:02,447 - DEBUG - Position requested
2018-03-02 13:26:02,448 - DEBUG - Pos Mgmt -12987
2018-03-02 13:26:02,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CAC8>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:26:02,450 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:26:02,450 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:26:02,450 - DEBUG - Position is -12987
2018-03-02 13:26:02,450 - DEBUG - Pos Mgmt 0
2018-03-02 13:26:02,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CBA8>, pos=0, avgCost=0.0>
2018-03-02 13:26:02,451 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:26:02,451 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:26:02,451 - DEBUG - Position is 0
2018-03-02 13:26:03,450 - DEBUG - Open Orders requested
2018-03-02 13:26:05,450 - DEBUG - Connecting to database
2018-03-02 13:26:05,457 - DEBUG - Connected to database
2018-03-02 13:26:05,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,460 - DEBUG - Stop loss value is 0
2018-03-02 13:26:05,461 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,461 - DEBUG - Stop loss value is 0
2018-03-02 13:26:05,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,463 - DEBUG - EntryPrice value is 0
2018-03-02 13:26:05,464 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,466 - DEBUG - Stop quantity 0
2018-03-02 13:26:05,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,467 - DEBUG - Direction is 0
2018-03-02 13:26:05,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,469 - DEBUG - Count is 0
2018-03-02 13:26:05,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:26:05,470 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:26:05,473 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:26:05,473 - DEBUG - Max ID Order is (248,)
2018-03-02 13:26:05,473 - DEBUG - Today is 2018-03-02
2018-03-02 13:26:05,473 - DEBUG - Day of the week 4
2018-03-02 13:26:05,473 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:26:05,473 - DEBUG - In Position is  0
2018-03-02 13:26:05,473 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:26:05,474 - DEBUG - curStopLossFlag is  0
2018-03-02 13:26:05,474 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:26:05,474 - DEBUG - Checking if Entry has been filled
2018-03-02 13:26:05,474 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:26:05,476 - DEBUG - EntryPend is 0
2018-03-02 13:26:05,476 - DEBUG - Try to Cancel Stop
2018-03-02 13:26:05,476 - DEBUG - Stop API ID 0
2018-03-02 13:26:05,477 - DEBUG - Profit API ID 0
2018-03-02 13:26:05,477 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:26:05,477 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:26:05,479 - DEBUG - Pos is 0
2018-03-02 13:26:05,479 - DEBUG - CurCount is 0
2018-03-02 13:26:05,479 - DEBUG - In Pos 0
2018-03-02 13:26:05,479 - DEBUG - Stop ID is 0
2018-03-02 13:26:05,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:26:05,480 - DEBUG - EntryPend is 0
2018-03-02 13:26:05,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:26:05,480 - DEBUG - Entry Date is 10
2018-03-02 13:26:05,482 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:26:05,482 - DEBUG - Order Profit ID is 0
2018-03-02 13:26:05,482 - DEBUG - Order Entry ID is 0
2018-03-02 13:26:05,482 - DEBUG - API ID is  0
2018-03-02 13:26:05,483 - DEBUG - Current Position is 0
2018-03-02 13:26:05,483 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:26:05,483 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:26:05,483 - DEBUG - Time is 13
2018-03-02 13:26:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 13:26:05,483 - DEBUG - Time is 26
2018-03-02 13:26:05,483 - DEBUG - Time is <class 'int'>
2018-03-02 13:26:05,483 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-03-02 13:26:05,484 - ERROR - Canceled Order 0
2018-03-02 13:26:05,484 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-03-02 13:26:05,500 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-03-02 13:26:05,515 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-03-02 13:26:05,529 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-03-02 13:26:05,545 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-03-02 13:26:05,559 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-03-02 13:26:05,573 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-03-02 13:26:05,588 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-03-02 13:26:05,602 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-03-02 13:26:05,617 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-03-02 13:26:05,631 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-03-02 13:26:05,644 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-03-02 13:26:05,660 - DEBUG - Disconnected from IBController
2018-03-02 13:26:05,661 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:31:01,355 - DEBUG - ****************************************************
2018-03-02 13:31:01,355 - DEBUG - Current Time is 01:31PM
2018-03-02 13:31:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:31:01,357 - DEBUG - Connecting to database
2018-03-02 13:31:01,401 - DEBUG - Connected to database
2018-03-02 13:31:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:01,404 - DEBUG - Order Profit is 0
2018-03-02 13:31:01,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:01,410 - DEBUG - Stop ID is 0
2018-03-02 13:31:01,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:01,411 - DEBUG - Entry ID is 0
2018-03-02 13:31:01,413 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:31:01,414 - DEBUG - OCA ID is 1
2018-03-02 13:31:01,414 - DEBUG - Connecting to IBController
2018-03-02 13:31:02,420 - DEBUG - Connected to IBController
2018-03-02 13:31:02,420 - DEBUG - Position requested
2018-03-02 13:31:02,421 - DEBUG - Pos Mgmt -12987
2018-03-02 13:31:02,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CA20>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:31:02,434 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:31:02,434 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:31:02,434 - DEBUG - Position is -12987
2018-03-02 13:31:02,436 - DEBUG - Pos Mgmt 0
2018-03-02 13:31:02,436 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC50>, pos=0, avgCost=0.0>
2018-03-02 13:31:02,436 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:31:02,436 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:31:02,437 - DEBUG - Position is 0
2018-03-02 13:31:03,421 - DEBUG - Open Orders requested
2018-03-02 13:31:05,421 - DEBUG - Connecting to database
2018-03-02 13:31:05,440 - DEBUG - Connected to database
2018-03-02 13:31:05,441 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,441 - DEBUG - Stop loss value is 0
2018-03-02 13:31:05,444 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,444 - DEBUG - Stop loss value is 0
2018-03-02 13:31:05,444 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,446 - DEBUG - EntryPrice value is 0
2018-03-02 13:31:05,447 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,447 - DEBUG - Stop quantity 0
2018-03-02 13:31:05,448 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,448 - DEBUG - Direction is 0
2018-03-02 13:31:05,450 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,450 - DEBUG - Count is 0
2018-03-02 13:31:05,451 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:31:05,451 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:31:05,453 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:31:05,453 - DEBUG - Max ID Order is (248,)
2018-03-02 13:31:05,453 - DEBUG - Today is 2018-03-02
2018-03-02 13:31:05,454 - DEBUG - Day of the week 4
2018-03-02 13:31:05,454 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:31:05,454 - DEBUG - In Position is  0
2018-03-02 13:31:05,454 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:31:05,456 - DEBUG - curStopLossFlag is  0
2018-03-02 13:31:05,456 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:31:05,456 - DEBUG - Checking if Entry has been filled
2018-03-02 13:31:05,457 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:31:05,457 - DEBUG - EntryPend is 0
2018-03-02 13:31:05,457 - DEBUG - Try to Cancel Stop
2018-03-02 13:31:05,459 - DEBUG - Stop API ID 0
2018-03-02 13:31:05,459 - DEBUG - Profit API ID 0
2018-03-02 13:31:05,459 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:31:05,459 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:31:05,460 - DEBUG - Pos is 0
2018-03-02 13:31:05,460 - DEBUG - CurCount is 0
2018-03-02 13:31:05,460 - DEBUG - In Pos 0
2018-03-02 13:31:05,460 - DEBUG - Stop ID is 0
2018-03-02 13:31:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:31:05,461 - DEBUG - EntryPend is 0
2018-03-02 13:31:05,461 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:31:05,461 - DEBUG - Entry Date is 10
2018-03-02 13:31:05,463 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:31:05,463 - DEBUG - Order Profit ID is 0
2018-03-02 13:31:05,463 - DEBUG - Order Entry ID is 0
2018-03-02 13:31:05,463 - DEBUG - API ID is  0
2018-03-02 13:31:05,463 - DEBUG - Current Position is 0
2018-03-02 13:31:05,463 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:31:05,463 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:31:05,463 - DEBUG - Time is 13
2018-03-02 13:31:05,463 - DEBUG - Time is <class 'int'>
2018-03-02 13:31:05,464 - DEBUG - Time is 31
2018-03-02 13:31:05,464 - DEBUG - Time is <class 'int'>
2018-03-02 13:31:05,464 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-03-02 13:31:05,466 - ERROR - Canceled Order 0
2018-03-02 13:31:05,466 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-03-02 13:31:05,483 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-03-02 13:31:05,497 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-03-02 13:31:05,513 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-03-02 13:31:05,526 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-03-02 13:31:05,542 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-03-02 13:31:05,556 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-03-02 13:31:05,571 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-03-02 13:31:05,585 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-03-02 13:31:05,601 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-03-02 13:31:05,615 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-03-02 13:31:05,631 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-03-02 13:31:05,647 - DEBUG - Disconnected from IBController
2018-03-02 13:31:05,648 - DEBUG - END POS MGMT SCRIPT :-!
2018-03-02 13:36:01,354 - DEBUG - ****************************************************
2018-03-02 13:36:01,354 - DEBUG - Current Time is 01:36PM
2018-03-02 13:36:01,355 - DEBUG - Starting Pos Mgmt H E
2018-03-02 13:36:01,355 - DEBUG - Connecting to database
2018-03-02 13:36:01,378 - DEBUG - Connected to database
2018-03-02 13:36:01,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:01,381 - DEBUG - Order Profit is 0
2018-03-02 13:36:01,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:01,381 - DEBUG - Stop ID is 0
2018-03-02 13:36:01,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:01,384 - DEBUG - Entry ID is 0
2018-03-02 13:36:01,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-03-02 13:36:01,385 - DEBUG - OCA ID is 1
2018-03-02 13:36:01,385 - DEBUG - Connecting to IBController
2018-03-02 13:36:02,390 - DEBUG - Connected to IBController
2018-03-02 13:36:02,390 - DEBUG - Position requested
2018-03-02 13:36:02,391 - DEBUG - Pos Mgmt -12987
2018-03-02 13:36:02,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDA58>, pos=-12987, avgCost=0.95368235>
2018-03-02 13:36:02,392 - DEBUG - ccy1 Symbol with position is NZD
2018-03-02 13:36:02,392 - DEBUG - ccy2 Currency with position is CAD
2018-03-02 13:36:02,392 - DEBUG - Position is -12987
2018-03-02 13:36:02,392 - DEBUG - Pos Mgmt 0
2018-03-02 13:36:02,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDC50>, pos=0, avgCost=0.0>
2018-03-02 13:36:02,394 - DEBUG - ccy1 Symbol with position is LE
2018-03-02 13:36:02,394 - DEBUG - ccy2 Currency with position is USD
2018-03-02 13:36:02,394 - DEBUG - Position is 0
2018-03-02 13:36:03,391 - DEBUG - Open Orders requested
2018-03-02 13:36:05,392 - DEBUG - Connecting to database
2018-03-02 13:36:05,400 - DEBUG - Connected to database
2018-03-02 13:36:05,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,401 - DEBUG - Stop loss value is 0
2018-03-02 13:36:05,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,404 - DEBUG - Stop loss value is 0
2018-03-02 13:36:05,404 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,405 - DEBUG - EntryPrice value is 0
2018-03-02 13:36:05,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,407 - DEBUG - Stop quantity 0
2018-03-02 13:36:05,408 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,408 - DEBUG - Direction is 0
2018-03-02 13:36:05,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,411 - DEBUG - Count is 0
2018-03-02 13:36:05,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-03-02 13:36:05,413 - DEBUG - Stop Loss Flag is 0
2018-03-02 13:36:05,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-03-02 13:36:05,414 - DEBUG - Max ID Order is (248,)
2018-03-02 13:36:05,414 - DEBUG - Today is 2018-03-02
2018-03-02 13:36:05,414 - DEBUG - Day of the week 4
2018-03-02 13:36:05,414 - DEBUG - Yesterday is 03/01/2018
2018-03-02 13:36:05,414 - DEBUG - In Position is  0
2018-03-02 13:36:05,415 - DEBUG - In Position is  <class 'int'>
2018-03-02 13:36:05,415 - DEBUG - curStopLossFlag is  0
2018-03-02 13:36:05,415 - DEBUG - curStopLossFlag is  <class 'str'>
2018-03-02 13:36:05,417 - DEBUG - Checking if Entry has been filled
2018-03-02 13:36:05,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:36:05,417 - DEBUG - EntryPend is 0
2018-03-02 13:36:05,417 - DEBUG - Try to Cancel Stop
2018-03-02 13:36:05,418 - DEBUG - Stop API ID 0
2018-03-02 13:36:05,418 - DEBUG - Profit API ID 0
2018-03-02 13:36:05,418 - DEBUG - Stop API ID <class 'int'>
2018-03-02 13:36:05,418 - DEBUG - Profit API ID <class 'int'>
2018-03-02 13:36:05,420 - DEBUG - Pos is 0
2018-03-02 13:36:05,420 - DEBUG - CurCount is 0
2018-03-02 13:36:05,420 - DEBUG - In Pos 0
2018-03-02 13:36:05,420 - DEBUG - Stop ID is 0
2018-03-02 13:36:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-03-02 13:36:05,421 - DEBUG - EntryPend is 0
2018-03-02 13:36:05,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-03-02 13:36:05,423 - DEBUG - Entry Date is 10
2018-03-02 13:36:05,423 - DEBUG - confirming yesterday is 03/01/2018
2018-03-02 13:36:05,423 - DEBUG - Order Profit ID is 0
2018-03-02 13:36:05,423 - DEBUG - Order Entry ID is 0
2018-03-02 13:36:05,423 - DEBUG - API ID is  0
2018-03-02 13:36:05,424 - DEBUG - Current Position is 0
2018-03-02 13:36:05,424 - DEBUG - Current Position is <class 'str'>
2018-03-02 13:36:05,424 - DEBUG - Checking if Positions should be close at EOD
2018-03-02 13:36:05,424 - DEBUG - Time is 13
2018-03-02 13:36:05,424 - DEBUG - Time is <class 'int'>
2018-03-02 13:36:05,424 - DEBUG - Time is 36
2018-03-02 13:36:05,424 - DEBUG - Time is <class 'int'>
2018-03-02 13:36:05,424 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-03-02 13:36:05,426 - ERROR - Canceled Order 0
2018-03-02 13:36:05,426 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-03-02 13:36:05,443 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-03-02 13:36:05,457 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-03-02 13:36:05,473 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-03-02 13:36:05,487 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-03-02 13:36:05,503 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-03-02 13:36:05,517 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-03-02 13:36:05,532 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-03-02 13:36:05,546 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-03-02 13:36:05,561 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-03-02 13:36:05,575 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-03-02 13:36:05,591 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-03-02 13:36:05,604 - DEBUG - Disconnected from IBController
2018-03-02 13:36:05,605 - DEBUG - END POS MGMT SCRIPT :-!
