2018-01-19 09:38:05,414 - DEBUG - ****************************************************
2018-01-19 09:38:05,414 - DEBUG - Current Time is 09:38AM
2018-01-19 09:38:05,415 - DEBUG - Starting Pos Mgmt H E
2018-01-19 09:38:05,415 - DEBUG - Connecting to database
2018-01-19 09:38:05,441 - DEBUG - Connected to database
2018-01-19 09:38:05,441 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:05,444 - DEBUG - Order Profit is 0
2018-01-19 09:38:05,444 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:05,444 - DEBUG - Stop ID is 0
2018-01-19 09:38:05,446 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:05,447 - DEBUG - Entry ID is 113
2018-01-19 09:38:05,447 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 09:38:05,448 - DEBUG - OCA ID is 1
2018-01-19 09:38:05,448 - DEBUG - Connecting to IBController
2018-01-19 09:38:06,451 - DEBUG - Connected to IBController
2018-01-19 09:38:06,451 - DEBUG - Position requested
2018-01-19 09:38:06,454 - DEBUG - Pos Mgmt 0
2018-01-19 09:38:06,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, pos=0, avgCost=0.0>
2018-01-19 09:38:06,456 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 09:38:06,456 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:38:06,456 - DEBUG - Position is 0
2018-01-19 09:38:06,457 - DEBUG - Pos Mgmt -12987
2018-01-19 09:38:06,457 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, pos=-12987, avgCost=0.95368235>
2018-01-19 09:38:06,457 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 09:38:06,457 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 09:38:06,457 - DEBUG - Position is -12987
2018-01-19 09:38:07,453 - DEBUG - Open Orders requested
2018-01-19 09:38:07,454 - DEBUG - Reply Handler Orders is <openOrder orderId=112, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, order=<ib.ext.Order.Order object at 0x000000000210DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A20F0>>
2018-01-19 09:38:07,463 - DEBUG - Order OrderID 112
2018-01-19 09:38:07,463 - DEBUG - reply handler status <orderStatus orderId=112, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=1743880208, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-19 09:38:07,463 - DEBUG - Order status PreSubmitted
2018-01-19 09:38:07,463 - DEBUG - Order Identification 112
2018-01-19 09:38:07,464 - DEBUG - Order Identification <class 'int'>
2018-01-19 09:38:07,464 - DEBUG - Profit ID from database is 0
2018-01-19 09:38:07,464 - DEBUG - Profit ID from database is <class 'str'>
2018-01-19 09:38:07,464 - DEBUG - Stop ID database is 0
2018-01-19 09:38:07,466 - DEBUG - Entry ID database is 113
2018-01-19 09:38:09,463 - DEBUG - Connecting to database
2018-01-19 09:38:09,470 - DEBUG - Connected to database
2018-01-19 09:38:09,470 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,471 - DEBUG - Stop loss value is 72.10
2018-01-19 09:38:09,473 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,473 - DEBUG - Stop loss value is 84.35
2018-01-19 09:38:09,473 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,474 - DEBUG - EntryPrice value is 73.4
2018-01-19 09:38:09,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,476 - DEBUG - Stop quantity 1
2018-01-19 09:38:09,477 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,477 - DEBUG - Direction is Long
2018-01-19 09:38:09,479 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,480 - DEBUG - Count is 0
2018-01-19 09:38:09,480 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 09:38:09,480 - DEBUG - Stop Loss Flag is 0
2018-01-19 09:38:09,483 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 09:38:09,483 - DEBUG - Max ID Order is (113,)
2018-01-19 09:38:09,483 - DEBUG - Today is 2018-01-19
2018-01-19 09:38:09,483 - DEBUG - Day of the week 4
2018-01-19 09:38:09,483 - DEBUG - Yesterday is 01/18/2018
2018-01-19 09:38:09,483 - DEBUG - In Position is  0
2018-01-19 09:38:09,483 - DEBUG - In Position is  <class 'int'>
2018-01-19 09:38:09,484 - DEBUG - curStopLossFlag is  0
2018-01-19 09:38:09,484 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 09:38:09,484 - DEBUG - Checking if Entry has been filled
2018-01-19 09:38:09,484 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:38:09,486 - DEBUG - EntryPend is 1
2018-01-19 09:38:09,486 - DEBUG - Try to Cancel Stop
2018-01-19 09:38:09,486 - DEBUG - Stop API ID 0
2018-01-19 09:38:09,486 - DEBUG - Profit API ID 0
2018-01-19 09:38:09,487 - DEBUG - Stop API ID <class 'int'>
2018-01-19 09:38:09,487 - DEBUG - Profit API ID <class 'int'>
2018-01-19 09:38:09,487 - DEBUG - Pos is 0
2018-01-19 09:38:09,487 - DEBUG - CurCount is 0
2018-01-19 09:38:09,487 - DEBUG - In Pos 0
2018-01-19 09:38:09,489 - DEBUG - Stop ID is 0
2018-01-19 09:38:09,489 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:38:09,490 - DEBUG - EntryPend is 1
2018-01-19 09:38:09,490 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 09:38:09,490 - DEBUG - Entry Date is 10
2018-01-19 09:38:09,490 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 09:38:09,490 - DEBUG - Order Profit ID is 0
2018-01-19 09:38:09,490 - DEBUG - Order Entry ID is 113
2018-01-19 09:38:09,492 - DEBUG - API ID is  0
2018-01-19 09:38:09,492 - DEBUG - Current Position is 0
2018-01-19 09:38:09,492 - DEBUG - Current Position is <class 'str'>
2018-01-19 09:38:09,492 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 09:38:09,492 - DEBUG - Time is 9
2018-01-19 09:38:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 09:38:09,493 - DEBUG - Time is 38
2018-01-19 09:38:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 09:38:09,493 - DEBUG - Disconnected from IBController
2018-01-19 09:38:09,493 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 09:43:05,361 - DEBUG - ****************************************************
2018-01-19 09:43:05,362 - DEBUG - Current Time is 09:43AM
2018-01-19 09:43:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-19 09:43:05,364 - DEBUG - Connecting to database
2018-01-19 09:43:05,378 - DEBUG - Connected to database
2018-01-19 09:43:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:05,381 - DEBUG - Order Profit is 0
2018-01-19 09:43:05,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:05,382 - DEBUG - Stop ID is 0
2018-01-19 09:43:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:05,384 - DEBUG - Entry ID is 113
2018-01-19 09:43:05,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 09:43:05,385 - DEBUG - OCA ID is 1
2018-01-19 09:43:05,387 - DEBUG - Connecting to IBController
2018-01-19 09:43:06,391 - DEBUG - Connected to IBController
2018-01-19 09:43:06,391 - DEBUG - Position requested
2018-01-19 09:43:06,392 - DEBUG - Pos Mgmt 0
2018-01-19 09:43:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DB00>, pos=0, avgCost=0.0>
2018-01-19 09:43:06,394 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 09:43:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:43:06,394 - DEBUG - Position is 0
2018-01-19 09:43:06,394 - DEBUG - Pos Mgmt -12987
2018-01-19 09:43:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 09:43:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 09:43:06,395 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 09:43:06,395 - DEBUG - Position is -12987
2018-01-19 09:43:06,397 - DEBUG - Pos Mgmt 1
2018-01-19 09:43:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=1, avgCost=48882.9>
2018-01-19 09:43:06,397 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 09:43:06,397 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:43:06,398 - DEBUG - Position is 1
2018-01-19 09:43:07,392 - DEBUG - Open Orders requested
2018-01-19 09:43:09,392 - DEBUG - Connecting to database
2018-01-19 09:43:09,400 - DEBUG - Connected to database
2018-01-19 09:43:09,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,401 - DEBUG - Stop loss value is 72.10
2018-01-19 09:43:09,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,404 - DEBUG - Stop loss value is 84.35
2018-01-19 09:43:09,404 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,404 - DEBUG - EntryPrice value is 73.4
2018-01-19 09:43:09,405 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,407 - DEBUG - Stop quantity 1
2018-01-19 09:43:09,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,407 - DEBUG - Direction is Long
2018-01-19 09:43:09,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,410 - DEBUG - Count is 0
2018-01-19 09:43:09,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 09:43:09,411 - DEBUG - Stop Loss Flag is 0
2018-01-19 09:43:09,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 09:43:09,413 - DEBUG - Max ID Order is (114,)
2018-01-19 09:43:09,414 - DEBUG - Today is 2018-01-19
2018-01-19 09:43:09,414 - DEBUG - Day of the week 4
2018-01-19 09:43:09,414 - DEBUG - Yesterday is 01/18/2018
2018-01-19 09:43:09,414 - DEBUG - In Position is  0
2018-01-19 09:43:09,414 - DEBUG - In Position is  <class 'int'>
2018-01-19 09:43:09,414 - DEBUG - curStopLossFlag is  0
2018-01-19 09:43:09,414 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 09:43:09,415 - DEBUG - Checking if Entry has been filled
2018-01-19 09:43:09,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:43:09,417 - DEBUG - EntryPend is 1
2018-01-19 09:43:09,417 - DEBUG - Try to Cancel Stop
2018-01-19 09:43:09,417 - DEBUG - Stop API ID 0
2018-01-19 09:43:09,417 - DEBUG - Profit API ID 0
2018-01-19 09:43:09,417 - DEBUG - Stop API ID <class 'int'>
2018-01-19 09:43:09,417 - DEBUG - Profit API ID <class 'int'>
2018-01-19 09:43:09,417 - DEBUG - Pos is 0
2018-01-19 09:43:09,418 - DEBUG - CurCount is 0
2018-01-19 09:43:09,418 - DEBUG - In Pos 0
2018-01-19 09:43:09,418 - DEBUG - Stop ID is 0
2018-01-19 09:43:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:43:09,421 - DEBUG - EntryPend is 1
2018-01-19 09:43:09,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 09:43:09,421 - DEBUG - Entry Date is 10
2018-01-19 09:43:09,421 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 09:43:09,421 - DEBUG - Order Profit ID is 0
2018-01-19 09:43:09,421 - DEBUG - Order Entry ID is 113
2018-01-19 09:43:09,421 - DEBUG - API ID is  0
2018-01-19 09:43:09,421 - DEBUG - Current Position is 0
2018-01-19 09:43:09,421 - DEBUG - Current Position is <class 'str'>
2018-01-19 09:43:09,423 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 09:43:09,423 - DEBUG - Time is 9
2018-01-19 09:43:09,423 - DEBUG - Time is <class 'int'>
2018-01-19 09:43:09,423 - DEBUG - Time is 43
2018-01-19 09:43:09,423 - DEBUG - Time is <class 'int'>
2018-01-19 09:43:09,424 - DEBUG - Disconnected from IBController
2018-01-19 09:43:09,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 09:48:05,372 - DEBUG - ****************************************************
2018-01-19 09:48:05,374 - DEBUG - Current Time is 09:48AM
2018-01-19 09:48:05,374 - DEBUG - Starting Pos Mgmt H E
2018-01-19 09:48:05,375 - DEBUG - Connecting to database
2018-01-19 09:48:05,390 - DEBUG - Connected to database
2018-01-19 09:48:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:05,391 - DEBUG - Order Profit is 0
2018-01-19 09:48:05,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:05,392 - DEBUG - Stop ID is 0
2018-01-19 09:48:05,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:05,394 - DEBUG - Entry ID is 113
2018-01-19 09:48:05,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 09:48:05,397 - DEBUG - OCA ID is 1
2018-01-19 09:48:05,397 - DEBUG - Connecting to IBController
2018-01-19 09:48:06,400 - DEBUG - Connected to IBController
2018-01-19 09:48:06,400 - DEBUG - Position requested
2018-01-19 09:48:06,401 - DEBUG - Pos Mgmt 0
2018-01-19 09:48:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CA58>, pos=0, avgCost=0.0>
2018-01-19 09:48:06,401 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 09:48:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:48:06,403 - DEBUG - Position is 0
2018-01-19 09:48:06,403 - DEBUG - Pos Mgmt -12987
2018-01-19 09:48:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 09:48:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 09:48:06,404 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 09:48:06,404 - DEBUG - Position is -12987
2018-01-19 09:48:06,404 - DEBUG - Pos Mgmt 1
2018-01-19 09:48:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CD68>, pos=1, avgCost=48882.9>
2018-01-19 09:48:06,405 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 09:48:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:48:06,405 - DEBUG - Position is 1
2018-01-19 09:48:07,401 - DEBUG - Open Orders requested
2018-01-19 09:48:09,403 - DEBUG - Connecting to database
2018-01-19 09:48:09,410 - DEBUG - Connected to database
2018-01-19 09:48:09,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,411 - DEBUG - Stop loss value is 72.10
2018-01-19 09:48:09,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,413 - DEBUG - Stop loss value is 84.35
2018-01-19 09:48:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,414 - DEBUG - EntryPrice value is 73.4
2018-01-19 09:48:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,415 - DEBUG - Stop quantity 1
2018-01-19 09:48:09,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,417 - DEBUG - Direction is Long
2018-01-19 09:48:09,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,418 - DEBUG - Count is 0
2018-01-19 09:48:09,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 09:48:09,421 - DEBUG - Stop Loss Flag is 0
2018-01-19 09:48:09,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 09:48:09,423 - DEBUG - Max ID Order is (114,)
2018-01-19 09:48:09,423 - DEBUG - Today is 2018-01-19
2018-01-19 09:48:09,423 - DEBUG - Day of the week 4
2018-01-19 09:48:09,424 - DEBUG - Yesterday is 01/18/2018
2018-01-19 09:48:09,424 - DEBUG - In Position is  0
2018-01-19 09:48:09,424 - DEBUG - In Position is  <class 'int'>
2018-01-19 09:48:09,424 - DEBUG - curStopLossFlag is  0
2018-01-19 09:48:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 09:48:09,424 - DEBUG - Checking if Entry has been filled
2018-01-19 09:48:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:48:09,427 - DEBUG - EntryPend is 1
2018-01-19 09:48:09,427 - DEBUG - Try to Cancel Stop
2018-01-19 09:48:09,427 - DEBUG - Stop API ID 0
2018-01-19 09:48:09,427 - DEBUG - Profit API ID 0
2018-01-19 09:48:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-19 09:48:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-19 09:48:09,427 - DEBUG - Pos is 0
2018-01-19 09:48:09,427 - DEBUG - CurCount is 0
2018-01-19 09:48:09,427 - DEBUG - In Pos 0
2018-01-19 09:48:09,427 - DEBUG - Stop ID is 0
2018-01-19 09:48:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:48:09,430 - DEBUG - EntryPend is 1
2018-01-19 09:48:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 09:48:09,430 - DEBUG - Entry Date is 10
2018-01-19 09:48:09,430 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 09:48:09,430 - DEBUG - Order Profit ID is 0
2018-01-19 09:48:09,430 - DEBUG - Order Entry ID is 113
2018-01-19 09:48:09,430 - DEBUG - API ID is  0
2018-01-19 09:48:09,431 - DEBUG - Current Position is 0
2018-01-19 09:48:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-19 09:48:09,431 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 09:48:09,431 - DEBUG - Time is 9
2018-01-19 09:48:09,431 - DEBUG - Time is <class 'int'>
2018-01-19 09:48:09,433 - DEBUG - Time is 48
2018-01-19 09:48:09,433 - DEBUG - Time is <class 'int'>
2018-01-19 09:48:09,433 - DEBUG - Disconnected from IBController
2018-01-19 09:48:09,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 09:53:05,334 - DEBUG - ****************************************************
2018-01-19 09:53:05,335 - DEBUG - Current Time is 09:53AM
2018-01-19 09:53:05,335 - DEBUG - Starting Pos Mgmt H E
2018-01-19 09:53:05,335 - DEBUG - Connecting to database
2018-01-19 09:53:05,365 - DEBUG - Connected to database
2018-01-19 09:53:05,365 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:05,367 - DEBUG - Order Profit is 0
2018-01-19 09:53:05,367 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:05,368 - DEBUG - Stop ID is 0
2018-01-19 09:53:05,368 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:05,369 - DEBUG - Entry ID is 113
2018-01-19 09:53:05,369 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 09:53:05,371 - DEBUG - OCA ID is 1
2018-01-19 09:53:05,371 - DEBUG - Connecting to IBController
2018-01-19 09:53:06,375 - DEBUG - Connected to IBController
2018-01-19 09:53:06,375 - DEBUG - Position requested
2018-01-19 09:53:06,377 - DEBUG - Pos Mgmt 0
2018-01-19 09:53:06,378 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDB00>, pos=0, avgCost=0.0>
2018-01-19 09:53:06,378 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 09:53:06,378 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:53:06,378 - DEBUG - Position is 0
2018-01-19 09:53:06,378 - DEBUG - Pos Mgmt -12987
2018-01-19 09:53:06,378 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 09:53:06,380 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 09:53:06,380 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 09:53:06,380 - DEBUG - Position is -12987
2018-01-19 09:53:06,380 - DEBUG - Pos Mgmt 1
2018-01-19 09:53:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=1, avgCost=48882.9>
2018-01-19 09:53:06,381 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 09:53:06,381 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:53:06,381 - DEBUG - Position is 1
2018-01-19 09:53:07,377 - DEBUG - Open Orders requested
2018-01-19 09:53:09,377 - DEBUG - Connecting to database
2018-01-19 09:53:09,384 - DEBUG - Connected to database
2018-01-19 09:53:09,384 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,385 - DEBUG - Stop loss value is 72.10
2018-01-19 09:53:09,387 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,388 - DEBUG - Stop loss value is 84.35
2018-01-19 09:53:09,388 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,388 - DEBUG - EntryPrice value is 73.4
2018-01-19 09:53:09,391 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,391 - DEBUG - Stop quantity 1
2018-01-19 09:53:09,391 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,392 - DEBUG - Direction is Long
2018-01-19 09:53:09,394 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,394 - DEBUG - Count is 0
2018-01-19 09:53:09,395 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 09:53:09,395 - DEBUG - Stop Loss Flag is 0
2018-01-19 09:53:09,397 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 09:53:09,398 - DEBUG - Max ID Order is (114,)
2018-01-19 09:53:09,398 - DEBUG - Today is 2018-01-19
2018-01-19 09:53:09,398 - DEBUG - Day of the week 4
2018-01-19 09:53:09,398 - DEBUG - Yesterday is 01/18/2018
2018-01-19 09:53:09,398 - DEBUG - In Position is  0
2018-01-19 09:53:09,398 - DEBUG - In Position is  <class 'int'>
2018-01-19 09:53:09,398 - DEBUG - curStopLossFlag is  0
2018-01-19 09:53:09,400 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 09:53:09,400 - DEBUG - Checking if Entry has been filled
2018-01-19 09:53:09,400 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:53:09,401 - DEBUG - EntryPend is 1
2018-01-19 09:53:09,401 - DEBUG - Try to Cancel Stop
2018-01-19 09:53:09,401 - DEBUG - Stop API ID 0
2018-01-19 09:53:09,401 - DEBUG - Profit API ID 0
2018-01-19 09:53:09,401 - DEBUG - Stop API ID <class 'int'>
2018-01-19 09:53:09,403 - DEBUG - Profit API ID <class 'int'>
2018-01-19 09:53:09,403 - DEBUG - Pos is 0
2018-01-19 09:53:09,403 - DEBUG - CurCount is 0
2018-01-19 09:53:09,403 - DEBUG - In Pos 0
2018-01-19 09:53:09,403 - DEBUG - Stop ID is 0
2018-01-19 09:53:09,404 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:53:09,404 - DEBUG - EntryPend is 1
2018-01-19 09:53:09,404 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 09:53:09,405 - DEBUG - Entry Date is 10
2018-01-19 09:53:09,405 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 09:53:09,405 - DEBUG - Order Profit ID is 0
2018-01-19 09:53:09,405 - DEBUG - Order Entry ID is 113
2018-01-19 09:53:09,405 - DEBUG - API ID is  0
2018-01-19 09:53:09,407 - DEBUG - Current Position is 0
2018-01-19 09:53:09,407 - DEBUG - Current Position is <class 'str'>
2018-01-19 09:53:09,407 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 09:53:09,407 - DEBUG - Time is 9
2018-01-19 09:53:09,407 - DEBUG - Time is <class 'int'>
2018-01-19 09:53:09,407 - DEBUG - Time is 53
2018-01-19 09:53:09,407 - DEBUG - Time is <class 'int'>
2018-01-19 09:53:09,407 - DEBUG - Disconnected from IBController
2018-01-19 09:53:09,407 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 09:58:05,401 - DEBUG - ****************************************************
2018-01-19 09:58:05,401 - DEBUG - Current Time is 09:58AM
2018-01-19 09:58:05,403 - DEBUG - Starting Pos Mgmt H E
2018-01-19 09:58:05,403 - DEBUG - Connecting to database
2018-01-19 09:58:05,440 - DEBUG - Connected to database
2018-01-19 09:58:05,440 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:05,441 - DEBUG - Order Profit is 0
2018-01-19 09:58:05,441 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:05,443 - DEBUG - Stop ID is 0
2018-01-19 09:58:05,443 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:05,444 - DEBUG - Entry ID is 113
2018-01-19 09:58:05,444 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 09:58:05,447 - DEBUG - OCA ID is 1
2018-01-19 09:58:05,447 - DEBUG - Connecting to IBController
2018-01-19 09:58:06,450 - DEBUG - Connected to IBController
2018-01-19 09:58:06,450 - DEBUG - Position requested
2018-01-19 09:58:06,451 - DEBUG - Pos Mgmt 0
2018-01-19 09:58:06,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DB00>, pos=0, avgCost=0.0>
2018-01-19 09:58:06,453 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 09:58:06,453 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:58:06,453 - DEBUG - Position is 0
2018-01-19 09:58:06,453 - DEBUG - Pos Mgmt -12987
2018-01-19 09:58:06,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 09:58:06,454 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 09:58:06,454 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 09:58:06,454 - DEBUG - Position is -12987
2018-01-19 09:58:06,454 - DEBUG - Pos Mgmt 1
2018-01-19 09:58:06,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DE10>, pos=1, avgCost=48882.9>
2018-01-19 09:58:06,456 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 09:58:06,456 - DEBUG - ccy2 Currency with position is USD
2018-01-19 09:58:06,456 - DEBUG - Position is 1
2018-01-19 09:58:07,450 - DEBUG - Open Orders requested
2018-01-19 09:58:09,451 - DEBUG - Connecting to database
2018-01-19 09:58:09,459 - DEBUG - Connected to database
2018-01-19 09:58:09,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,460 - DEBUG - Stop loss value is 72.10
2018-01-19 09:58:09,461 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,461 - DEBUG - Stop loss value is 84.35
2018-01-19 09:58:09,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,463 - DEBUG - EntryPrice value is 73.4
2018-01-19 09:58:09,464 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,464 - DEBUG - Stop quantity 1
2018-01-19 09:58:09,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,467 - DEBUG - Direction is Long
2018-01-19 09:58:09,467 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,469 - DEBUG - Count is 0
2018-01-19 09:58:09,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 09:58:09,470 - DEBUG - Stop Loss Flag is 0
2018-01-19 09:58:09,471 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 09:58:09,471 - DEBUG - Max ID Order is (114,)
2018-01-19 09:58:09,471 - DEBUG - Today is 2018-01-19
2018-01-19 09:58:09,473 - DEBUG - Day of the week 4
2018-01-19 09:58:09,473 - DEBUG - Yesterday is 01/18/2018
2018-01-19 09:58:09,473 - DEBUG - In Position is  0
2018-01-19 09:58:09,473 - DEBUG - In Position is  <class 'int'>
2018-01-19 09:58:09,473 - DEBUG - curStopLossFlag is  0
2018-01-19 09:58:09,473 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 09:58:09,473 - DEBUG - Checking if Entry has been filled
2018-01-19 09:58:09,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:58:09,476 - DEBUG - EntryPend is 1
2018-01-19 09:58:09,476 - DEBUG - Try to Cancel Stop
2018-01-19 09:58:09,476 - DEBUG - Stop API ID 0
2018-01-19 09:58:09,476 - DEBUG - Profit API ID 0
2018-01-19 09:58:09,476 - DEBUG - Stop API ID <class 'int'>
2018-01-19 09:58:09,476 - DEBUG - Profit API ID <class 'int'>
2018-01-19 09:58:09,476 - DEBUG - Pos is 0
2018-01-19 09:58:09,476 - DEBUG - CurCount is 0
2018-01-19 09:58:09,476 - DEBUG - In Pos 0
2018-01-19 09:58:09,477 - DEBUG - Stop ID is 0
2018-01-19 09:58:09,477 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 09:58:09,479 - DEBUG - EntryPend is 1
2018-01-19 09:58:09,479 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 09:58:09,480 - DEBUG - Entry Date is 10
2018-01-19 09:58:09,480 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 09:58:09,480 - DEBUG - Order Profit ID is 0
2018-01-19 09:58:09,480 - DEBUG - Order Entry ID is 113
2018-01-19 09:58:09,480 - DEBUG - API ID is  0
2018-01-19 09:58:09,480 - DEBUG - Current Position is 0
2018-01-19 09:58:09,480 - DEBUG - Current Position is <class 'str'>
2018-01-19 09:58:09,480 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 09:58:09,480 - DEBUG - Time is 9
2018-01-19 09:58:09,482 - DEBUG - Time is <class 'int'>
2018-01-19 09:58:09,482 - DEBUG - Time is 58
2018-01-19 09:58:09,482 - DEBUG - Time is <class 'int'>
2018-01-19 09:58:09,482 - DEBUG - Disconnected from IBController
2018-01-19 09:58:09,483 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:03:05,391 - DEBUG - ****************************************************
2018-01-19 10:03:05,392 - DEBUG - Current Time is 10:03AM
2018-01-19 10:03:05,392 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:03:05,394 - DEBUG - Connecting to database
2018-01-19 10:03:05,414 - DEBUG - Connected to database
2018-01-19 10:03:05,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:05,415 - DEBUG - Order Profit is 0
2018-01-19 10:03:05,415 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:05,421 - DEBUG - Stop ID is 0
2018-01-19 10:03:05,423 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:05,424 - DEBUG - Entry ID is 113
2018-01-19 10:03:05,424 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:03:05,427 - DEBUG - OCA ID is 1
2018-01-19 10:03:05,427 - DEBUG - Connecting to IBController
2018-01-19 10:03:06,430 - DEBUG - Connected to IBController
2018-01-19 10:03:06,430 - DEBUG - Position requested
2018-01-19 10:03:06,431 - DEBUG - Pos Mgmt 0
2018-01-19 10:03:06,433 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DB00>, pos=0, avgCost=0.0>
2018-01-19 10:03:06,433 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:03:06,433 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:03:06,434 - DEBUG - Position is 0
2018-01-19 10:03:06,434 - DEBUG - Pos Mgmt -12987
2018-01-19 10:03:06,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:03:06,434 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:03:06,434 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:03:06,434 - DEBUG - Position is -12987
2018-01-19 10:03:06,434 - DEBUG - Pos Mgmt 1
2018-01-19 10:03:06,436 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:03:06,436 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:03:06,436 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:03:06,437 - DEBUG - Position is 1
2018-01-19 10:03:07,431 - DEBUG - Open Orders requested
2018-01-19 10:03:09,433 - DEBUG - Connecting to database
2018-01-19 10:03:09,440 - DEBUG - Connected to database
2018-01-19 10:03:09,441 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,441 - DEBUG - Stop loss value is 72.10
2018-01-19 10:03:09,443 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,444 - DEBUG - Stop loss value is 84.35
2018-01-19 10:03:09,444 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,444 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:03:09,447 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,447 - DEBUG - Stop quantity 1
2018-01-19 10:03:09,447 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,448 - DEBUG - Direction is Long
2018-01-19 10:03:09,450 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,450 - DEBUG - Count is 0
2018-01-19 10:03:09,451 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:03:09,451 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:03:09,453 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:03:09,453 - DEBUG - Max ID Order is (114,)
2018-01-19 10:03:09,453 - DEBUG - Today is 2018-01-19
2018-01-19 10:03:09,454 - DEBUG - Day of the week 4
2018-01-19 10:03:09,454 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:03:09,454 - DEBUG - In Position is  0
2018-01-19 10:03:09,454 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:03:09,456 - DEBUG - curStopLossFlag is  0
2018-01-19 10:03:09,456 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:03:09,456 - DEBUG - Checking if Entry has been filled
2018-01-19 10:03:09,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:03:09,457 - DEBUG - EntryPend is 1
2018-01-19 10:03:09,457 - DEBUG - Try to Cancel Stop
2018-01-19 10:03:09,457 - DEBUG - Stop API ID 0
2018-01-19 10:03:09,459 - DEBUG - Profit API ID 0
2018-01-19 10:03:09,459 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:03:09,459 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:03:09,459 - DEBUG - Pos is 0
2018-01-19 10:03:09,459 - DEBUG - CurCount is 0
2018-01-19 10:03:09,460 - DEBUG - In Pos 0
2018-01-19 10:03:09,460 - DEBUG - Stop ID is 0
2018-01-19 10:03:09,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:03:09,460 - DEBUG - EntryPend is 1
2018-01-19 10:03:09,461 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:03:09,461 - DEBUG - Entry Date is 10
2018-01-19 10:03:09,461 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:03:09,461 - DEBUG - Order Profit ID is 0
2018-01-19 10:03:09,463 - DEBUG - Order Entry ID is 113
2018-01-19 10:03:09,463 - DEBUG - API ID is  0
2018-01-19 10:03:09,463 - DEBUG - Current Position is 0
2018-01-19 10:03:09,463 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:03:09,463 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:03:09,463 - DEBUG - Time is 10
2018-01-19 10:03:09,463 - DEBUG - Time is <class 'int'>
2018-01-19 10:03:09,463 - DEBUG - Time is 3
2018-01-19 10:03:09,463 - DEBUG - Time is <class 'int'>
2018-01-19 10:03:09,464 - DEBUG - Disconnected from IBController
2018-01-19 10:03:09,466 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:08:05,321 - DEBUG - ****************************************************
2018-01-19 10:08:05,322 - DEBUG - Current Time is 10:08AM
2018-01-19 10:08:05,322 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:08:05,322 - DEBUG - Connecting to database
2018-01-19 10:08:05,342 - DEBUG - Connected to database
2018-01-19 10:08:05,342 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:05,344 - DEBUG - Order Profit is 0
2018-01-19 10:08:05,345 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:05,345 - DEBUG - Stop ID is 0
2018-01-19 10:08:05,345 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:05,348 - DEBUG - Entry ID is 113
2018-01-19 10:08:05,348 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:08:05,348 - DEBUG - OCA ID is 1
2018-01-19 10:08:05,349 - DEBUG - Connecting to IBController
2018-01-19 10:08:06,352 - DEBUG - Connected to IBController
2018-01-19 10:08:06,352 - DEBUG - Position requested
2018-01-19 10:08:06,355 - DEBUG - Pos Mgmt 0
2018-01-19 10:08:06,355 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DB00>, pos=0, avgCost=0.0>
2018-01-19 10:08:06,355 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:08:06,355 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:08:06,355 - DEBUG - Position is 0
2018-01-19 10:08:06,355 - DEBUG - Pos Mgmt -12987
2018-01-19 10:08:06,355 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:08:06,357 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:08:06,357 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:08:06,357 - DEBUG - Position is -12987
2018-01-19 10:08:06,357 - DEBUG - Pos Mgmt 1
2018-01-19 10:08:06,358 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:08:06,358 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:08:06,358 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:08:06,358 - DEBUG - Position is 1
2018-01-19 10:08:07,354 - DEBUG - Open Orders requested
2018-01-19 10:08:09,355 - DEBUG - Connecting to database
2018-01-19 10:08:09,361 - DEBUG - Connected to database
2018-01-19 10:08:09,362 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,364 - DEBUG - Stop loss value is 72.10
2018-01-19 10:08:09,365 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,365 - DEBUG - Stop loss value is 84.35
2018-01-19 10:08:09,367 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,367 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:08:09,368 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,368 - DEBUG - Stop quantity 1
2018-01-19 10:08:09,369 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,369 - DEBUG - Direction is Long
2018-01-19 10:08:09,371 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,371 - DEBUG - Count is 0
2018-01-19 10:08:09,372 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:08:09,372 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:08:09,375 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:08:09,375 - DEBUG - Max ID Order is (114,)
2018-01-19 10:08:09,375 - DEBUG - Today is 2018-01-19
2018-01-19 10:08:09,375 - DEBUG - Day of the week 4
2018-01-19 10:08:09,375 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:08:09,375 - DEBUG - In Position is  0
2018-01-19 10:08:09,375 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:08:09,377 - DEBUG - curStopLossFlag is  0
2018-01-19 10:08:09,377 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:08:09,377 - DEBUG - Checking if Entry has been filled
2018-01-19 10:08:09,377 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:08:09,378 - DEBUG - EntryPend is 1
2018-01-19 10:08:09,378 - DEBUG - Try to Cancel Stop
2018-01-19 10:08:09,378 - DEBUG - Stop API ID 0
2018-01-19 10:08:09,378 - DEBUG - Profit API ID 0
2018-01-19 10:08:09,380 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:08:09,380 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:08:09,380 - DEBUG - Pos is 0
2018-01-19 10:08:09,380 - DEBUG - CurCount is 0
2018-01-19 10:08:09,380 - DEBUG - In Pos 0
2018-01-19 10:08:09,381 - DEBUG - Stop ID is 0
2018-01-19 10:08:09,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:08:09,381 - DEBUG - EntryPend is 1
2018-01-19 10:08:09,381 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:08:09,382 - DEBUG - Entry Date is 10
2018-01-19 10:08:09,382 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:08:09,382 - DEBUG - Order Profit ID is 0
2018-01-19 10:08:09,382 - DEBUG - Order Entry ID is 113
2018-01-19 10:08:09,382 - DEBUG - API ID is  0
2018-01-19 10:08:09,384 - DEBUG - Current Position is 0
2018-01-19 10:08:09,384 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:08:09,384 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:08:09,384 - DEBUG - Time is 10
2018-01-19 10:08:09,384 - DEBUG - Time is <class 'int'>
2018-01-19 10:08:09,384 - DEBUG - Time is 8
2018-01-19 10:08:09,384 - DEBUG - Time is <class 'int'>
2018-01-19 10:08:09,384 - DEBUG - Disconnected from IBController
2018-01-19 10:08:09,385 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:13:05,358 - DEBUG - ****************************************************
2018-01-19 10:13:05,358 - DEBUG - Current Time is 10:13AM
2018-01-19 10:13:05,358 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:13:05,358 - DEBUG - Connecting to database
2018-01-19 10:13:05,397 - DEBUG - Connected to database
2018-01-19 10:13:05,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:05,398 - DEBUG - Order Profit is 0
2018-01-19 10:13:05,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:05,401 - DEBUG - Stop ID is 0
2018-01-19 10:13:05,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:05,403 - DEBUG - Entry ID is 113
2018-01-19 10:13:05,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:13:05,404 - DEBUG - OCA ID is 1
2018-01-19 10:13:05,404 - DEBUG - Connecting to IBController
2018-01-19 10:13:06,410 - DEBUG - Connected to IBController
2018-01-19 10:13:06,410 - DEBUG - Position requested
2018-01-19 10:13:06,411 - DEBUG - Pos Mgmt 0
2018-01-19 10:13:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA58>, pos=0, avgCost=0.0>
2018-01-19 10:13:06,411 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:13:06,411 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:13:06,413 - DEBUG - Position is 0
2018-01-19 10:13:06,413 - DEBUG - Pos Mgmt -12987
2018-01-19 10:13:06,413 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:13:06,413 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:13:06,414 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:13:06,414 - DEBUG - Position is -12987
2018-01-19 10:13:06,414 - DEBUG - Pos Mgmt 1
2018-01-19 10:13:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECD68>, pos=1, avgCost=48882.9>
2018-01-19 10:13:06,414 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:13:06,414 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:13:06,414 - DEBUG - Position is 1
2018-01-19 10:13:07,411 - DEBUG - Open Orders requested
2018-01-19 10:13:09,411 - DEBUG - Connecting to database
2018-01-19 10:13:09,418 - DEBUG - Connected to database
2018-01-19 10:13:09,420 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,420 - DEBUG - Stop loss value is 72.10
2018-01-19 10:13:09,421 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,421 - DEBUG - Stop loss value is 84.35
2018-01-19 10:13:09,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,424 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:13:09,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,426 - DEBUG - Stop quantity 1
2018-01-19 10:13:09,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,427 - DEBUG - Direction is Long
2018-01-19 10:13:09,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,428 - DEBUG - Count is 0
2018-01-19 10:13:09,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:13:09,430 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:13:09,431 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:13:09,431 - DEBUG - Max ID Order is (114,)
2018-01-19 10:13:09,431 - DEBUG - Today is 2018-01-19
2018-01-19 10:13:09,433 - DEBUG - Day of the week 4
2018-01-19 10:13:09,433 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:13:09,433 - DEBUG - In Position is  0
2018-01-19 10:13:09,434 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:13:09,434 - DEBUG - curStopLossFlag is  0
2018-01-19 10:13:09,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:13:09,434 - DEBUG - Checking if Entry has been filled
2018-01-19 10:13:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:13:09,436 - DEBUG - EntryPend is 1
2018-01-19 10:13:09,436 - DEBUG - Try to Cancel Stop
2018-01-19 10:13:09,436 - DEBUG - Stop API ID 0
2018-01-19 10:13:09,437 - DEBUG - Profit API ID 0
2018-01-19 10:13:09,437 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:13:09,437 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:13:09,437 - DEBUG - Pos is 0
2018-01-19 10:13:09,437 - DEBUG - CurCount is 0
2018-01-19 10:13:09,437 - DEBUG - In Pos 0
2018-01-19 10:13:09,437 - DEBUG - Stop ID is 0
2018-01-19 10:13:09,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:13:09,440 - DEBUG - EntryPend is 1
2018-01-19 10:13:09,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:13:09,440 - DEBUG - Entry Date is 10
2018-01-19 10:13:09,440 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:13:09,440 - DEBUG - Order Profit ID is 0
2018-01-19 10:13:09,440 - DEBUG - Order Entry ID is 113
2018-01-19 10:13:09,440 - DEBUG - API ID is  0
2018-01-19 10:13:09,440 - DEBUG - Current Position is 0
2018-01-19 10:13:09,440 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:13:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:13:09,441 - DEBUG - Time is 10
2018-01-19 10:13:09,441 - DEBUG - Time is <class 'int'>
2018-01-19 10:13:09,441 - DEBUG - Time is 13
2018-01-19 10:13:09,441 - DEBUG - Time is <class 'int'>
2018-01-19 10:13:09,443 - DEBUG - Disconnected from IBController
2018-01-19 10:13:09,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:18:05,391 - DEBUG - ****************************************************
2018-01-19 10:18:05,391 - DEBUG - Current Time is 10:18AM
2018-01-19 10:18:05,391 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:18:05,392 - DEBUG - Connecting to database
2018-01-19 10:18:05,408 - DEBUG - Connected to database
2018-01-19 10:18:05,408 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:05,410 - DEBUG - Order Profit is 0
2018-01-19 10:18:05,411 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:05,411 - DEBUG - Stop ID is 0
2018-01-19 10:18:05,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:05,414 - DEBUG - Entry ID is 113
2018-01-19 10:18:05,414 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:18:05,414 - DEBUG - OCA ID is 1
2018-01-19 10:18:05,415 - DEBUG - Connecting to IBController
2018-01-19 10:18:06,418 - DEBUG - Connected to IBController
2018-01-19 10:18:06,418 - DEBUG - Position requested
2018-01-19 10:18:06,428 - DEBUG - Pos Mgmt 0
2018-01-19 10:18:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CA58>, pos=0, avgCost=0.0>
2018-01-19 10:18:06,430 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:18:06,430 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:18:06,430 - DEBUG - Position is 0
2018-01-19 10:18:06,430 - DEBUG - Pos Mgmt -12987
2018-01-19 10:18:06,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:18:06,430 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:18:06,430 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:18:06,430 - DEBUG - Position is -12987
2018-01-19 10:18:06,431 - DEBUG - Pos Mgmt 1
2018-01-19 10:18:06,431 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CD68>, pos=1, avgCost=48882.9>
2018-01-19 10:18:06,431 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:18:06,431 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:18:06,433 - DEBUG - Position is 1
2018-01-19 10:18:07,428 - DEBUG - Open Orders requested
2018-01-19 10:18:09,430 - DEBUG - Connecting to database
2018-01-19 10:18:09,437 - DEBUG - Connected to database
2018-01-19 10:18:09,437 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,438 - DEBUG - Stop loss value is 72.10
2018-01-19 10:18:09,440 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,440 - DEBUG - Stop loss value is 84.35
2018-01-19 10:18:09,441 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,441 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:18:09,443 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,444 - DEBUG - Stop quantity 1
2018-01-19 10:18:09,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,444 - DEBUG - Direction is Long
2018-01-19 10:18:09,447 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,447 - DEBUG - Count is 0
2018-01-19 10:18:09,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:18:09,447 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:18:09,450 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:18:09,450 - DEBUG - Max ID Order is (114,)
2018-01-19 10:18:09,450 - DEBUG - Today is 2018-01-19
2018-01-19 10:18:09,450 - DEBUG - Day of the week 4
2018-01-19 10:18:09,450 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:18:09,450 - DEBUG - In Position is  0
2018-01-19 10:18:09,451 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:18:09,451 - DEBUG - curStopLossFlag is  0
2018-01-19 10:18:09,451 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:18:09,451 - DEBUG - Checking if Entry has been filled
2018-01-19 10:18:09,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:18:09,453 - DEBUG - EntryPend is 1
2018-01-19 10:18:09,453 - DEBUG - Try to Cancel Stop
2018-01-19 10:18:09,453 - DEBUG - Stop API ID 0
2018-01-19 10:18:09,454 - DEBUG - Profit API ID 0
2018-01-19 10:18:09,454 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:18:09,454 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:18:09,454 - DEBUG - Pos is 0
2018-01-19 10:18:09,454 - DEBUG - CurCount is 0
2018-01-19 10:18:09,456 - DEBUG - In Pos 0
2018-01-19 10:18:09,456 - DEBUG - Stop ID is 0
2018-01-19 10:18:09,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:18:09,457 - DEBUG - EntryPend is 1
2018-01-19 10:18:09,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:18:09,457 - DEBUG - Entry Date is 10
2018-01-19 10:18:09,457 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:18:09,457 - DEBUG - Order Profit ID is 0
2018-01-19 10:18:09,459 - DEBUG - Order Entry ID is 113
2018-01-19 10:18:09,459 - DEBUG - API ID is  0
2018-01-19 10:18:09,459 - DEBUG - Current Position is 0
2018-01-19 10:18:09,459 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:18:09,459 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:18:09,460 - DEBUG - Time is 10
2018-01-19 10:18:09,460 - DEBUG - Time is <class 'int'>
2018-01-19 10:18:09,460 - DEBUG - Time is 18
2018-01-19 10:18:09,460 - DEBUG - Time is <class 'int'>
2018-01-19 10:18:09,460 - DEBUG - Disconnected from IBController
2018-01-19 10:18:09,460 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:23:05,391 - DEBUG - ****************************************************
2018-01-19 10:23:05,391 - DEBUG - Current Time is 10:23AM
2018-01-19 10:23:05,391 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:23:05,391 - DEBUG - Connecting to database
2018-01-19 10:23:05,434 - DEBUG - Connected to database
2018-01-19 10:23:05,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:05,436 - DEBUG - Order Profit is 0
2018-01-19 10:23:05,436 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:05,438 - DEBUG - Stop ID is 0
2018-01-19 10:23:05,440 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:05,446 - DEBUG - Entry ID is 113
2018-01-19 10:23:05,446 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:23:05,448 - DEBUG - OCA ID is 1
2018-01-19 10:23:05,448 - DEBUG - Connecting to IBController
2018-01-19 10:23:06,453 - DEBUG - Connected to IBController
2018-01-19 10:23:06,453 - DEBUG - Position requested
2018-01-19 10:23:06,454 - DEBUG - Pos Mgmt 0
2018-01-19 10:23:06,456 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C9DB00>, pos=0, avgCost=0.0>
2018-01-19 10:23:06,456 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:23:06,456 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:23:06,457 - DEBUG - Position is 0
2018-01-19 10:23:06,457 - DEBUG - Pos Mgmt -12987
2018-01-19 10:23:06,457 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C9DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:23:06,457 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:23:06,457 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:23:06,457 - DEBUG - Position is -12987
2018-01-19 10:23:06,459 - DEBUG - Pos Mgmt 1
2018-01-19 10:23:06,459 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C9DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:23:06,459 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:23:06,459 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:23:06,459 - DEBUG - Position is 1
2018-01-19 10:23:07,454 - DEBUG - Open Orders requested
2018-01-19 10:23:09,454 - DEBUG - Connecting to database
2018-01-19 10:23:09,461 - DEBUG - Connected to database
2018-01-19 10:23:09,463 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,463 - DEBUG - Stop loss value is 72.10
2018-01-19 10:23:09,464 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,464 - DEBUG - Stop loss value is 84.35
2018-01-19 10:23:09,467 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,467 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:23:09,467 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,469 - DEBUG - Stop quantity 1
2018-01-19 10:23:09,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,470 - DEBUG - Direction is Long
2018-01-19 10:23:09,470 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,471 - DEBUG - Count is 0
2018-01-19 10:23:09,473 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:23:09,473 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:23:09,474 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:23:09,474 - DEBUG - Max ID Order is (114,)
2018-01-19 10:23:09,474 - DEBUG - Today is 2018-01-19
2018-01-19 10:23:09,476 - DEBUG - Day of the week 4
2018-01-19 10:23:09,476 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:23:09,476 - DEBUG - In Position is  0
2018-01-19 10:23:09,476 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:23:09,476 - DEBUG - curStopLossFlag is  0
2018-01-19 10:23:09,476 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:23:09,476 - DEBUG - Checking if Entry has been filled
2018-01-19 10:23:09,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:23:09,479 - DEBUG - EntryPend is 1
2018-01-19 10:23:09,479 - DEBUG - Try to Cancel Stop
2018-01-19 10:23:09,479 - DEBUG - Stop API ID 0
2018-01-19 10:23:09,480 - DEBUG - Profit API ID 0
2018-01-19 10:23:09,480 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:23:09,480 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:23:09,480 - DEBUG - Pos is 0
2018-01-19 10:23:09,480 - DEBUG - CurCount is 0
2018-01-19 10:23:09,480 - DEBUG - In Pos 0
2018-01-19 10:23:09,480 - DEBUG - Stop ID is 0
2018-01-19 10:23:09,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:23:09,483 - DEBUG - EntryPend is 1
2018-01-19 10:23:09,483 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:23:09,483 - DEBUG - Entry Date is 10
2018-01-19 10:23:09,483 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:23:09,483 - DEBUG - Order Profit ID is 0
2018-01-19 10:23:09,483 - DEBUG - Order Entry ID is 113
2018-01-19 10:23:09,483 - DEBUG - API ID is  0
2018-01-19 10:23:09,483 - DEBUG - Current Position is 0
2018-01-19 10:23:09,483 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:23:09,483 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:23:09,484 - DEBUG - Time is 10
2018-01-19 10:23:09,484 - DEBUG - Time is <class 'int'>
2018-01-19 10:23:09,484 - DEBUG - Time is 23
2018-01-19 10:23:09,484 - DEBUG - Time is <class 'int'>
2018-01-19 10:23:09,486 - DEBUG - Disconnected from IBController
2018-01-19 10:23:09,486 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:28:05,351 - DEBUG - ****************************************************
2018-01-19 10:28:05,352 - DEBUG - Current Time is 10:28AM
2018-01-19 10:28:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:28:05,354 - DEBUG - Connecting to database
2018-01-19 10:28:05,381 - DEBUG - Connected to database
2018-01-19 10:28:05,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:05,382 - DEBUG - Order Profit is 0
2018-01-19 10:28:05,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:05,384 - DEBUG - Stop ID is 0
2018-01-19 10:28:05,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:05,387 - DEBUG - Entry ID is 113
2018-01-19 10:28:05,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:28:05,388 - DEBUG - OCA ID is 1
2018-01-19 10:28:05,388 - DEBUG - Connecting to IBController
2018-01-19 10:28:06,394 - DEBUG - Connected to IBController
2018-01-19 10:28:06,394 - DEBUG - Position requested
2018-01-19 10:28:06,394 - DEBUG - Pos Mgmt 0
2018-01-19 10:28:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001CADB00>, pos=0, avgCost=0.0>
2018-01-19 10:28:06,395 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:28:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:28:06,397 - DEBUG - Position is 0
2018-01-19 10:28:06,397 - DEBUG - Pos Mgmt -12987
2018-01-19 10:28:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001CADC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:28:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:28:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:28:06,398 - DEBUG - Position is -12987
2018-01-19 10:28:06,398 - DEBUG - Pos Mgmt 1
2018-01-19 10:28:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001CADE10>, pos=1, avgCost=48882.9>
2018-01-19 10:28:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:28:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:28:06,400 - DEBUG - Position is 1
2018-01-19 10:28:07,394 - DEBUG - Open Orders requested
2018-01-19 10:28:09,395 - DEBUG - Connecting to database
2018-01-19 10:28:09,403 - DEBUG - Connected to database
2018-01-19 10:28:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,404 - DEBUG - Stop loss value is 72.10
2018-01-19 10:28:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,407 - DEBUG - Stop loss value is 84.35
2018-01-19 10:28:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,407 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:28:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,410 - DEBUG - Stop quantity 1
2018-01-19 10:28:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,411 - DEBUG - Direction is Long
2018-01-19 10:28:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,413 - DEBUG - Count is 0
2018-01-19 10:28:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:28:09,414 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:28:09,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:28:09,417 - DEBUG - Max ID Order is (114,)
2018-01-19 10:28:09,417 - DEBUG - Today is 2018-01-19
2018-01-19 10:28:09,417 - DEBUG - Day of the week 4
2018-01-19 10:28:09,417 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:28:09,417 - DEBUG - In Position is  0
2018-01-19 10:28:09,417 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:28:09,417 - DEBUG - curStopLossFlag is  0
2018-01-19 10:28:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:28:09,418 - DEBUG - Checking if Entry has been filled
2018-01-19 10:28:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:28:09,420 - DEBUG - EntryPend is 1
2018-01-19 10:28:09,421 - DEBUG - Try to Cancel Stop
2018-01-19 10:28:09,421 - DEBUG - Stop API ID 0
2018-01-19 10:28:09,421 - DEBUG - Profit API ID 0
2018-01-19 10:28:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:28:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:28:09,421 - DEBUG - Pos is 0
2018-01-19 10:28:09,421 - DEBUG - CurCount is 0
2018-01-19 10:28:09,421 - DEBUG - In Pos 0
2018-01-19 10:28:09,421 - DEBUG - Stop ID is 0
2018-01-19 10:28:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:28:09,424 - DEBUG - EntryPend is 1
2018-01-19 10:28:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:28:09,424 - DEBUG - Entry Date is 10
2018-01-19 10:28:09,424 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:28:09,424 - DEBUG - Order Profit ID is 0
2018-01-19 10:28:09,424 - DEBUG - Order Entry ID is 113
2018-01-19 10:28:09,424 - DEBUG - API ID is  0
2018-01-19 10:28:09,426 - DEBUG - Current Position is 0
2018-01-19 10:28:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:28:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:28:09,426 - DEBUG - Time is 10
2018-01-19 10:28:09,426 - DEBUG - Time is <class 'int'>
2018-01-19 10:28:09,427 - DEBUG - Time is 28
2018-01-19 10:28:09,427 - DEBUG - Time is <class 'int'>
2018-01-19 10:28:09,427 - DEBUG - Disconnected from IBController
2018-01-19 10:28:09,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:33:05,354 - DEBUG - ****************************************************
2018-01-19 10:33:05,354 - DEBUG - Current Time is 10:33AM
2018-01-19 10:33:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:33:05,355 - DEBUG - Connecting to database
2018-01-19 10:33:05,388 - DEBUG - Connected to database
2018-01-19 10:33:05,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:05,390 - DEBUG - Order Profit is 0
2018-01-19 10:33:05,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:05,391 - DEBUG - Stop ID is 0
2018-01-19 10:33:05,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:05,392 - DEBUG - Entry ID is 113
2018-01-19 10:33:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:33:05,394 - DEBUG - OCA ID is 1
2018-01-19 10:33:05,394 - DEBUG - Connecting to IBController
2018-01-19 10:33:06,398 - DEBUG - Connected to IBController
2018-01-19 10:33:06,398 - DEBUG - Position requested
2018-01-19 10:33:06,400 - DEBUG - Pos Mgmt 0
2018-01-19 10:33:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CB00>, pos=0, avgCost=0.0>
2018-01-19 10:33:06,401 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:33:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:33:06,401 - DEBUG - Position is 0
2018-01-19 10:33:06,401 - DEBUG - Pos Mgmt -12987
2018-01-19 10:33:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:33:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:33:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:33:06,403 - DEBUG - Position is -12987
2018-01-19 10:33:06,404 - DEBUG - Pos Mgmt 1
2018-01-19 10:33:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CE10>, pos=1, avgCost=48882.9>
2018-01-19 10:33:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:33:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:33:06,404 - DEBUG - Position is 1
2018-01-19 10:33:07,400 - DEBUG - Open Orders requested
2018-01-19 10:33:09,400 - DEBUG - Connecting to database
2018-01-19 10:33:09,407 - DEBUG - Connected to database
2018-01-19 10:33:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,408 - DEBUG - Stop loss value is 72.10
2018-01-19 10:33:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,410 - DEBUG - Stop loss value is 84.35
2018-01-19 10:33:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,411 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:33:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,414 - DEBUG - Stop quantity 1
2018-01-19 10:33:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,414 - DEBUG - Direction is Long
2018-01-19 10:33:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,417 - DEBUG - Count is 0
2018-01-19 10:33:09,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:33:09,417 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:33:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:33:09,420 - DEBUG - Max ID Order is (114,)
2018-01-19 10:33:09,420 - DEBUG - Today is 2018-01-19
2018-01-19 10:33:09,421 - DEBUG - Day of the week 4
2018-01-19 10:33:09,421 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:33:09,421 - DEBUG - In Position is  0
2018-01-19 10:33:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:33:09,421 - DEBUG - curStopLossFlag is  0
2018-01-19 10:33:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:33:09,421 - DEBUG - Checking if Entry has been filled
2018-01-19 10:33:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:33:09,424 - DEBUG - EntryPend is 1
2018-01-19 10:33:09,424 - DEBUG - Try to Cancel Stop
2018-01-19 10:33:09,424 - DEBUG - Stop API ID 0
2018-01-19 10:33:09,424 - DEBUG - Profit API ID 0
2018-01-19 10:33:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:33:09,424 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:33:09,424 - DEBUG - Pos is 0
2018-01-19 10:33:09,424 - DEBUG - CurCount is 0
2018-01-19 10:33:09,426 - DEBUG - In Pos 0
2018-01-19 10:33:09,426 - DEBUG - Stop ID is 0
2018-01-19 10:33:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:33:09,427 - DEBUG - EntryPend is 1
2018-01-19 10:33:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:33:09,427 - DEBUG - Entry Date is 10
2018-01-19 10:33:09,427 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:33:09,427 - DEBUG - Order Profit ID is 0
2018-01-19 10:33:09,428 - DEBUG - Order Entry ID is 113
2018-01-19 10:33:09,428 - DEBUG - API ID is  0
2018-01-19 10:33:09,428 - DEBUG - Current Position is 0
2018-01-19 10:33:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:33:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:33:09,430 - DEBUG - Time is 10
2018-01-19 10:33:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 10:33:09,430 - DEBUG - Time is 33
2018-01-19 10:33:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 10:33:09,430 - DEBUG - Disconnected from IBController
2018-01-19 10:33:09,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:38:05,411 - DEBUG - ****************************************************
2018-01-19 10:38:05,411 - DEBUG - Current Time is 10:38AM
2018-01-19 10:38:05,411 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:38:05,411 - DEBUG - Connecting to database
2018-01-19 10:38:05,434 - DEBUG - Connected to database
2018-01-19 10:38:05,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:05,436 - DEBUG - Order Profit is 0
2018-01-19 10:38:05,436 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:05,437 - DEBUG - Stop ID is 0
2018-01-19 10:38:05,437 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:05,438 - DEBUG - Entry ID is 113
2018-01-19 10:38:05,440 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:38:05,440 - DEBUG - OCA ID is 1
2018-01-19 10:38:05,440 - DEBUG - Connecting to IBController
2018-01-19 10:38:06,448 - DEBUG - Connected to IBController
2018-01-19 10:38:06,448 - DEBUG - Position requested
2018-01-19 10:38:06,450 - DEBUG - Pos Mgmt 0
2018-01-19 10:38:06,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDB00>, pos=0, avgCost=0.0>
2018-01-19 10:38:06,450 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:38:06,450 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:38:06,451 - DEBUG - Position is 0
2018-01-19 10:38:06,451 - DEBUG - Pos Mgmt -12987
2018-01-19 10:38:06,451 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:38:06,451 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:38:06,453 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:38:06,453 - DEBUG - Position is -12987
2018-01-19 10:38:06,453 - DEBUG - Pos Mgmt 1
2018-01-19 10:38:06,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=1, avgCost=48882.9>
2018-01-19 10:38:06,453 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:38:06,453 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:38:06,453 - DEBUG - Position is 1
2018-01-19 10:38:07,450 - DEBUG - Open Orders requested
2018-01-19 10:38:09,450 - DEBUG - Connecting to database
2018-01-19 10:38:09,457 - DEBUG - Connected to database
2018-01-19 10:38:09,459 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,460 - DEBUG - Stop loss value is 72.10
2018-01-19 10:38:09,460 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,460 - DEBUG - Stop loss value is 84.35
2018-01-19 10:38:09,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,463 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:38:09,464 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,464 - DEBUG - Stop quantity 1
2018-01-19 10:38:09,466 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,466 - DEBUG - Direction is Long
2018-01-19 10:38:09,467 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,467 - DEBUG - Count is 0
2018-01-19 10:38:09,469 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:38:09,470 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:38:09,470 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:38:09,470 - DEBUG - Max ID Order is (114,)
2018-01-19 10:38:09,471 - DEBUG - Today is 2018-01-19
2018-01-19 10:38:09,471 - DEBUG - Day of the week 4
2018-01-19 10:38:09,471 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:38:09,473 - DEBUG - In Position is  0
2018-01-19 10:38:09,473 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:38:09,473 - DEBUG - curStopLossFlag is  0
2018-01-19 10:38:09,473 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:38:09,473 - DEBUG - Checking if Entry has been filled
2018-01-19 10:38:09,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:38:09,474 - DEBUG - EntryPend is 1
2018-01-19 10:38:09,476 - DEBUG - Try to Cancel Stop
2018-01-19 10:38:09,476 - DEBUG - Stop API ID 0
2018-01-19 10:38:09,476 - DEBUG - Profit API ID 0
2018-01-19 10:38:09,476 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:38:09,476 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:38:09,476 - DEBUG - Pos is 0
2018-01-19 10:38:09,476 - DEBUG - CurCount is 0
2018-01-19 10:38:09,476 - DEBUG - In Pos 0
2018-01-19 10:38:09,476 - DEBUG - Stop ID is 0
2018-01-19 10:38:09,477 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:38:09,479 - DEBUG - EntryPend is 1
2018-01-19 10:38:09,479 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:38:09,479 - DEBUG - Entry Date is 10
2018-01-19 10:38:09,480 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:38:09,480 - DEBUG - Order Profit ID is 0
2018-01-19 10:38:09,480 - DEBUG - Order Entry ID is 113
2018-01-19 10:38:09,480 - DEBUG - API ID is  0
2018-01-19 10:38:09,480 - DEBUG - Current Position is 0
2018-01-19 10:38:09,480 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:38:09,480 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:38:09,480 - DEBUG - Time is 10
2018-01-19 10:38:09,480 - DEBUG - Time is <class 'int'>
2018-01-19 10:38:09,482 - DEBUG - Time is 38
2018-01-19 10:38:09,482 - DEBUG - Time is <class 'int'>
2018-01-19 10:38:09,482 - DEBUG - Disconnected from IBController
2018-01-19 10:38:09,482 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:43:05,367 - DEBUG - ****************************************************
2018-01-19 10:43:05,367 - DEBUG - Current Time is 10:43AM
2018-01-19 10:43:05,368 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:43:05,368 - DEBUG - Connecting to database
2018-01-19 10:43:05,387 - DEBUG - Connected to database
2018-01-19 10:43:05,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:05,388 - DEBUG - Order Profit is 0
2018-01-19 10:43:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:05,391 - DEBUG - Stop ID is 0
2018-01-19 10:43:05,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:05,391 - DEBUG - Entry ID is 113
2018-01-19 10:43:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:43:05,394 - DEBUG - OCA ID is 1
2018-01-19 10:43:05,394 - DEBUG - Connecting to IBController
2018-01-19 10:43:06,400 - DEBUG - Connected to IBController
2018-01-19 10:43:06,400 - DEBUG - Position requested
2018-01-19 10:43:06,401 - DEBUG - Pos Mgmt 0
2018-01-19 10:43:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DB00>, pos=0, avgCost=0.0>
2018-01-19 10:43:06,401 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:43:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:43:06,403 - DEBUG - Position is 0
2018-01-19 10:43:06,403 - DEBUG - Pos Mgmt -12987
2018-01-19 10:43:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:43:06,404 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:43:06,404 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:43:06,404 - DEBUG - Position is -12987
2018-01-19 10:43:06,404 - DEBUG - Pos Mgmt 1
2018-01-19 10:43:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:43:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:43:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:43:06,404 - DEBUG - Position is 1
2018-01-19 10:43:07,401 - DEBUG - Open Orders requested
2018-01-19 10:43:09,401 - DEBUG - Connecting to database
2018-01-19 10:43:09,407 - DEBUG - Connected to database
2018-01-19 10:43:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,408 - DEBUG - Stop loss value is 72.10
2018-01-19 10:43:09,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,411 - DEBUG - Stop loss value is 84.35
2018-01-19 10:43:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,413 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:43:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,414 - DEBUG - Stop quantity 1
2018-01-19 10:43:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,415 - DEBUG - Direction is Long
2018-01-19 10:43:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,417 - DEBUG - Count is 0
2018-01-19 10:43:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:43:09,418 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:43:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:43:09,421 - DEBUG - Max ID Order is (114,)
2018-01-19 10:43:09,421 - DEBUG - Today is 2018-01-19
2018-01-19 10:43:09,421 - DEBUG - Day of the week 4
2018-01-19 10:43:09,421 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:43:09,421 - DEBUG - In Position is  0
2018-01-19 10:43:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:43:09,423 - DEBUG - curStopLossFlag is  0
2018-01-19 10:43:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:43:09,423 - DEBUG - Checking if Entry has been filled
2018-01-19 10:43:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:43:09,424 - DEBUG - EntryPend is 1
2018-01-19 10:43:09,424 - DEBUG - Try to Cancel Stop
2018-01-19 10:43:09,424 - DEBUG - Stop API ID 0
2018-01-19 10:43:09,424 - DEBUG - Profit API ID 0
2018-01-19 10:43:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:43:09,426 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:43:09,426 - DEBUG - Pos is 0
2018-01-19 10:43:09,426 - DEBUG - CurCount is 0
2018-01-19 10:43:09,426 - DEBUG - In Pos 0
2018-01-19 10:43:09,426 - DEBUG - Stop ID is 0
2018-01-19 10:43:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:43:09,427 - DEBUG - EntryPend is 1
2018-01-19 10:43:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:43:09,427 - DEBUG - Entry Date is 10
2018-01-19 10:43:09,428 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:43:09,428 - DEBUG - Order Profit ID is 0
2018-01-19 10:43:09,428 - DEBUG - Order Entry ID is 113
2018-01-19 10:43:09,428 - DEBUG - API ID is  0
2018-01-19 10:43:09,430 - DEBUG - Current Position is 0
2018-01-19 10:43:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:43:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:43:09,430 - DEBUG - Time is 10
2018-01-19 10:43:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 10:43:09,430 - DEBUG - Time is 43
2018-01-19 10:43:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 10:43:09,430 - DEBUG - Disconnected from IBController
2018-01-19 10:43:09,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:48:05,375 - DEBUG - ****************************************************
2018-01-19 10:48:05,375 - DEBUG - Current Time is 10:48AM
2018-01-19 10:48:05,377 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:48:05,377 - DEBUG - Connecting to database
2018-01-19 10:48:05,405 - DEBUG - Connected to database
2018-01-19 10:48:05,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:05,407 - DEBUG - Order Profit is 0
2018-01-19 10:48:05,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:05,410 - DEBUG - Stop ID is 0
2018-01-19 10:48:05,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:05,411 - DEBUG - Entry ID is 113
2018-01-19 10:48:05,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:48:05,413 - DEBUG - OCA ID is 1
2018-01-19 10:48:05,413 - DEBUG - Connecting to IBController
2018-01-19 10:48:06,421 - DEBUG - Connected to IBController
2018-01-19 10:48:06,421 - DEBUG - Position requested
2018-01-19 10:48:06,421 - DEBUG - Pos Mgmt 0
2018-01-19 10:48:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, pos=0, avgCost=0.0>
2018-01-19 10:48:06,423 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:48:06,423 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:48:06,424 - DEBUG - Position is 0
2018-01-19 10:48:06,424 - DEBUG - Pos Mgmt -12987
2018-01-19 10:48:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:48:06,424 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:48:06,424 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:48:06,424 - DEBUG - Position is -12987
2018-01-19 10:48:06,426 - DEBUG - Pos Mgmt 1
2018-01-19 10:48:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE10>, pos=1, avgCost=48882.9>
2018-01-19 10:48:06,426 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:48:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:48:06,426 - DEBUG - Position is 1
2018-01-19 10:48:07,421 - DEBUG - Open Orders requested
2018-01-19 10:48:09,423 - DEBUG - Connecting to database
2018-01-19 10:48:09,433 - DEBUG - Connected to database
2018-01-19 10:48:09,434 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,434 - DEBUG - Stop loss value is 72.10
2018-01-19 10:48:09,437 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,437 - DEBUG - Stop loss value is 84.35
2018-01-19 10:48:09,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,438 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:48:09,440 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,440 - DEBUG - Stop quantity 1
2018-01-19 10:48:09,441 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,441 - DEBUG - Direction is Long
2018-01-19 10:48:09,443 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,444 - DEBUG - Count is 0
2018-01-19 10:48:09,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:48:09,444 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:48:09,446 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:48:09,447 - DEBUG - Max ID Order is (114,)
2018-01-19 10:48:09,447 - DEBUG - Today is 2018-01-19
2018-01-19 10:48:09,447 - DEBUG - Day of the week 4
2018-01-19 10:48:09,447 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:48:09,447 - DEBUG - In Position is  0
2018-01-19 10:48:09,447 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:48:09,447 - DEBUG - curStopLossFlag is  0
2018-01-19 10:48:09,448 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:48:09,448 - DEBUG - Checking if Entry has been filled
2018-01-19 10:48:09,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:48:09,450 - DEBUG - EntryPend is 1
2018-01-19 10:48:09,450 - DEBUG - Try to Cancel Stop
2018-01-19 10:48:09,450 - DEBUG - Stop API ID 0
2018-01-19 10:48:09,450 - DEBUG - Profit API ID 0
2018-01-19 10:48:09,451 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:48:09,451 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:48:09,451 - DEBUG - Pos is 0
2018-01-19 10:48:09,451 - DEBUG - CurCount is 0
2018-01-19 10:48:09,453 - DEBUG - In Pos 0
2018-01-19 10:48:09,453 - DEBUG - Stop ID is 0
2018-01-19 10:48:09,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:48:09,453 - DEBUG - EntryPend is 1
2018-01-19 10:48:09,454 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:48:09,454 - DEBUG - Entry Date is 10
2018-01-19 10:48:09,454 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:48:09,454 - DEBUG - Order Profit ID is 0
2018-01-19 10:48:09,454 - DEBUG - Order Entry ID is 113
2018-01-19 10:48:09,456 - DEBUG - API ID is  0
2018-01-19 10:48:09,456 - DEBUG - Current Position is 0
2018-01-19 10:48:09,456 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:48:09,456 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:48:09,457 - DEBUG - Time is 10
2018-01-19 10:48:09,457 - DEBUG - Time is <class 'int'>
2018-01-19 10:48:09,457 - DEBUG - Time is 48
2018-01-19 10:48:09,457 - DEBUG - Time is <class 'int'>
2018-01-19 10:48:09,457 - DEBUG - Disconnected from IBController
2018-01-19 10:48:09,457 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:53:05,377 - DEBUG - ****************************************************
2018-01-19 10:53:05,377 - DEBUG - Current Time is 10:53AM
2018-01-19 10:53:05,377 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:53:05,378 - DEBUG - Connecting to database
2018-01-19 10:53:05,398 - DEBUG - Connected to database
2018-01-19 10:53:05,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:05,401 - DEBUG - Order Profit is 0
2018-01-19 10:53:05,401 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:05,401 - DEBUG - Stop ID is 0
2018-01-19 10:53:05,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:05,404 - DEBUG - Entry ID is 113
2018-01-19 10:53:05,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:53:05,405 - DEBUG - OCA ID is 1
2018-01-19 10:53:05,405 - DEBUG - Connecting to IBController
2018-01-19 10:53:06,410 - DEBUG - Connected to IBController
2018-01-19 10:53:06,410 - DEBUG - Position requested
2018-01-19 10:53:06,411 - DEBUG - Pos Mgmt 0
2018-01-19 10:53:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DB00>, pos=0, avgCost=0.0>
2018-01-19 10:53:06,413 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:53:06,413 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:53:06,413 - DEBUG - Position is 0
2018-01-19 10:53:06,413 - DEBUG - Pos Mgmt -12987
2018-01-19 10:53:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:53:06,414 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:53:06,414 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:53:06,414 - DEBUG - Position is -12987
2018-01-19 10:53:06,414 - DEBUG - Pos Mgmt 1
2018-01-19 10:53:06,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:53:06,415 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:53:06,415 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:53:06,415 - DEBUG - Position is 1
2018-01-19 10:53:07,411 - DEBUG - Open Orders requested
2018-01-19 10:53:09,411 - DEBUG - Connecting to database
2018-01-19 10:53:09,417 - DEBUG - Connected to database
2018-01-19 10:53:09,420 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,420 - DEBUG - Stop loss value is 72.10
2018-01-19 10:53:09,421 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,421 - DEBUG - Stop loss value is 84.35
2018-01-19 10:53:09,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,423 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:53:09,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,424 - DEBUG - Stop quantity 1
2018-01-19 10:53:09,426 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,427 - DEBUG - Direction is Long
2018-01-19 10:53:09,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,427 - DEBUG - Count is 0
2018-01-19 10:53:09,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:53:09,430 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:53:09,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:53:09,431 - DEBUG - Max ID Order is (114,)
2018-01-19 10:53:09,431 - DEBUG - Today is 2018-01-19
2018-01-19 10:53:09,431 - DEBUG - Day of the week 4
2018-01-19 10:53:09,433 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:53:09,433 - DEBUG - In Position is  0
2018-01-19 10:53:09,433 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:53:09,434 - DEBUG - curStopLossFlag is  0
2018-01-19 10:53:09,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:53:09,434 - DEBUG - Checking if Entry has been filled
2018-01-19 10:53:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:53:09,436 - DEBUG - EntryPend is 1
2018-01-19 10:53:09,436 - DEBUG - Try to Cancel Stop
2018-01-19 10:53:09,436 - DEBUG - Stop API ID 0
2018-01-19 10:53:09,436 - DEBUG - Profit API ID 0
2018-01-19 10:53:09,437 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:53:09,437 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:53:09,437 - DEBUG - Pos is 0
2018-01-19 10:53:09,437 - DEBUG - CurCount is 0
2018-01-19 10:53:09,437 - DEBUG - In Pos 0
2018-01-19 10:53:09,437 - DEBUG - Stop ID is 0
2018-01-19 10:53:09,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:53:09,438 - DEBUG - EntryPend is 1
2018-01-19 10:53:09,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:53:09,440 - DEBUG - Entry Date is 10
2018-01-19 10:53:09,440 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:53:09,440 - DEBUG - Order Profit ID is 0
2018-01-19 10:53:09,440 - DEBUG - Order Entry ID is 113
2018-01-19 10:53:09,440 - DEBUG - API ID is  0
2018-01-19 10:53:09,440 - DEBUG - Current Position is 0
2018-01-19 10:53:09,440 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:53:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:53:09,440 - DEBUG - Time is 10
2018-01-19 10:53:09,441 - DEBUG - Time is <class 'int'>
2018-01-19 10:53:09,441 - DEBUG - Time is 53
2018-01-19 10:53:09,441 - DEBUG - Time is <class 'int'>
2018-01-19 10:53:09,441 - DEBUG - Disconnected from IBController
2018-01-19 10:53:09,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 10:58:05,351 - DEBUG - ****************************************************
2018-01-19 10:58:05,351 - DEBUG - Current Time is 10:58AM
2018-01-19 10:58:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-19 10:58:05,352 - DEBUG - Connecting to database
2018-01-19 10:58:05,401 - DEBUG - Connected to database
2018-01-19 10:58:05,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:05,403 - DEBUG - Order Profit is 0
2018-01-19 10:58:05,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:05,404 - DEBUG - Stop ID is 0
2018-01-19 10:58:05,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:05,405 - DEBUG - Entry ID is 113
2018-01-19 10:58:05,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 10:58:05,407 - DEBUG - OCA ID is 1
2018-01-19 10:58:05,407 - DEBUG - Connecting to IBController
2018-01-19 10:58:06,411 - DEBUG - Connected to IBController
2018-01-19 10:58:06,411 - DEBUG - Position requested
2018-01-19 10:58:06,414 - DEBUG - Pos Mgmt 0
2018-01-19 10:58:06,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DB00>, pos=0, avgCost=0.0>
2018-01-19 10:58:06,415 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 10:58:06,415 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:58:06,417 - DEBUG - Position is 0
2018-01-19 10:58:06,417 - DEBUG - Pos Mgmt -12987
2018-01-19 10:58:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 10:58:06,417 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 10:58:06,417 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 10:58:06,417 - DEBUG - Position is -12987
2018-01-19 10:58:06,418 - DEBUG - Pos Mgmt 1
2018-01-19 10:58:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DE10>, pos=1, avgCost=48882.9>
2018-01-19 10:58:06,418 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 10:58:06,418 - DEBUG - ccy2 Currency with position is USD
2018-01-19 10:58:06,420 - DEBUG - Position is 1
2018-01-19 10:58:07,411 - DEBUG - Open Orders requested
2018-01-19 10:58:09,413 - DEBUG - Connecting to database
2018-01-19 10:58:09,420 - DEBUG - Connected to database
2018-01-19 10:58:09,421 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,421 - DEBUG - Stop loss value is 72.10
2018-01-19 10:58:09,423 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,424 - DEBUG - Stop loss value is 84.35
2018-01-19 10:58:09,424 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,424 - DEBUG - EntryPrice value is 73.4
2018-01-19 10:58:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,427 - DEBUG - Stop quantity 1
2018-01-19 10:58:09,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,427 - DEBUG - Direction is Long
2018-01-19 10:58:09,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,430 - DEBUG - Count is 0
2018-01-19 10:58:09,431 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 10:58:09,431 - DEBUG - Stop Loss Flag is 0
2018-01-19 10:58:09,433 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 10:58:09,433 - DEBUG - Max ID Order is (114,)
2018-01-19 10:58:09,434 - DEBUG - Today is 2018-01-19
2018-01-19 10:58:09,434 - DEBUG - Day of the week 4
2018-01-19 10:58:09,434 - DEBUG - Yesterday is 01/18/2018
2018-01-19 10:58:09,434 - DEBUG - In Position is  0
2018-01-19 10:58:09,434 - DEBUG - In Position is  <class 'int'>
2018-01-19 10:58:09,434 - DEBUG - curStopLossFlag is  0
2018-01-19 10:58:09,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 10:58:09,436 - DEBUG - Checking if Entry has been filled
2018-01-19 10:58:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:58:09,437 - DEBUG - EntryPend is 1
2018-01-19 10:58:09,437 - DEBUG - Try to Cancel Stop
2018-01-19 10:58:09,437 - DEBUG - Stop API ID 0
2018-01-19 10:58:09,437 - DEBUG - Profit API ID 0
2018-01-19 10:58:09,437 - DEBUG - Stop API ID <class 'int'>
2018-01-19 10:58:09,438 - DEBUG - Profit API ID <class 'int'>
2018-01-19 10:58:09,438 - DEBUG - Pos is 0
2018-01-19 10:58:09,438 - DEBUG - CurCount is 0
2018-01-19 10:58:09,438 - DEBUG - In Pos 0
2018-01-19 10:58:09,438 - DEBUG - Stop ID is 0
2018-01-19 10:58:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 10:58:09,440 - DEBUG - EntryPend is 1
2018-01-19 10:58:09,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 10:58:09,440 - DEBUG - Entry Date is 10
2018-01-19 10:58:09,441 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 10:58:09,441 - DEBUG - Order Profit ID is 0
2018-01-19 10:58:09,441 - DEBUG - Order Entry ID is 113
2018-01-19 10:58:09,441 - DEBUG - API ID is  0
2018-01-19 10:58:09,443 - DEBUG - Current Position is 0
2018-01-19 10:58:09,443 - DEBUG - Current Position is <class 'str'>
2018-01-19 10:58:09,443 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 10:58:09,443 - DEBUG - Time is 10
2018-01-19 10:58:09,443 - DEBUG - Time is <class 'int'>
2018-01-19 10:58:09,444 - DEBUG - Time is 58
2018-01-19 10:58:09,444 - DEBUG - Time is <class 'int'>
2018-01-19 10:58:09,444 - DEBUG - Disconnected from IBController
2018-01-19 10:58:09,444 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:03:05,384 - DEBUG - ****************************************************
2018-01-19 11:03:05,385 - DEBUG - Current Time is 11:03AM
2018-01-19 11:03:05,385 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:03:05,385 - DEBUG - Connecting to database
2018-01-19 11:03:05,411 - DEBUG - Connected to database
2018-01-19 11:03:05,413 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:05,414 - DEBUG - Order Profit is 0
2018-01-19 11:03:05,414 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:05,415 - DEBUG - Stop ID is 0
2018-01-19 11:03:05,415 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:05,417 - DEBUG - Entry ID is 113
2018-01-19 11:03:05,417 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:03:05,418 - DEBUG - OCA ID is 1
2018-01-19 11:03:05,418 - DEBUG - Connecting to IBController
2018-01-19 11:03:06,423 - DEBUG - Connected to IBController
2018-01-19 11:03:06,423 - DEBUG - Position requested
2018-01-19 11:03:06,424 - DEBUG - Pos Mgmt 0
2018-01-19 11:03:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CA58>, pos=0, avgCost=0.0>
2018-01-19 11:03:06,426 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:03:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:03:06,426 - DEBUG - Position is 0
2018-01-19 11:03:06,426 - DEBUG - Pos Mgmt -12987
2018-01-19 11:03:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:03:06,427 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:03:06,427 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:03:06,427 - DEBUG - Position is -12987
2018-01-19 11:03:06,427 - DEBUG - Pos Mgmt 1
2018-01-19 11:03:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CD68>, pos=1, avgCost=48882.9>
2018-01-19 11:03:06,428 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:03:06,428 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:03:06,430 - DEBUG - Position is 1
2018-01-19 11:03:07,424 - DEBUG - Open Orders requested
2018-01-19 11:03:09,424 - DEBUG - Connecting to database
2018-01-19 11:03:09,431 - DEBUG - Connected to database
2018-01-19 11:03:09,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,434 - DEBUG - Stop loss value is 72.10
2018-01-19 11:03:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,436 - DEBUG - Stop loss value is 84.35
2018-01-19 11:03:09,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,437 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:03:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,438 - DEBUG - Stop quantity 1
2018-01-19 11:03:09,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,440 - DEBUG - Direction is Long
2018-01-19 11:03:09,441 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,441 - DEBUG - Count is 0
2018-01-19 11:03:09,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:03:09,444 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:03:09,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:03:09,444 - DEBUG - Max ID Order is (114,)
2018-01-19 11:03:09,446 - DEBUG - Today is 2018-01-19
2018-01-19 11:03:09,446 - DEBUG - Day of the week 4
2018-01-19 11:03:09,446 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:03:09,447 - DEBUG - In Position is  0
2018-01-19 11:03:09,447 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:03:09,447 - DEBUG - curStopLossFlag is  0
2018-01-19 11:03:09,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:03:09,447 - DEBUG - Checking if Entry has been filled
2018-01-19 11:03:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:03:09,448 - DEBUG - EntryPend is 1
2018-01-19 11:03:09,450 - DEBUG - Try to Cancel Stop
2018-01-19 11:03:09,450 - DEBUG - Stop API ID 0
2018-01-19 11:03:09,450 - DEBUG - Profit API ID 0
2018-01-19 11:03:09,450 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:03:09,450 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:03:09,450 - DEBUG - Pos is 0
2018-01-19 11:03:09,450 - DEBUG - CurCount is 0
2018-01-19 11:03:09,450 - DEBUG - In Pos 0
2018-01-19 11:03:09,450 - DEBUG - Stop ID is 0
2018-01-19 11:03:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:03:09,453 - DEBUG - EntryPend is 1
2018-01-19 11:03:09,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:03:09,453 - DEBUG - Entry Date is 10
2018-01-19 11:03:09,453 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:03:09,453 - DEBUG - Order Profit ID is 0
2018-01-19 11:03:09,453 - DEBUG - Order Entry ID is 113
2018-01-19 11:03:09,453 - DEBUG - API ID is  0
2018-01-19 11:03:09,453 - DEBUG - Current Position is 0
2018-01-19 11:03:09,454 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:03:09,454 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:03:09,454 - DEBUG - Time is 11
2018-01-19 11:03:09,454 - DEBUG - Time is <class 'int'>
2018-01-19 11:03:09,454 - DEBUG - Time is 3
2018-01-19 11:03:09,456 - DEBUG - Time is <class 'int'>
2018-01-19 11:03:09,456 - DEBUG - Disconnected from IBController
2018-01-19 11:03:09,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:08:05,401 - DEBUG - ****************************************************
2018-01-19 11:08:05,403 - DEBUG - Current Time is 11:08AM
2018-01-19 11:08:05,403 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:08:05,404 - DEBUG - Connecting to database
2018-01-19 11:08:05,842 - DEBUG - Connected to database
2018-01-19 11:08:05,842 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:05,845 - DEBUG - Order Profit is 0
2018-01-19 11:08:05,845 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:05,845 - DEBUG - Stop ID is 0
2018-01-19 11:08:05,845 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:05,848 - DEBUG - Entry ID is 113
2018-01-19 11:08:05,848 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:08:05,848 - DEBUG - OCA ID is 1
2018-01-19 11:08:05,849 - DEBUG - Connecting to IBController
2018-01-19 11:08:06,852 - DEBUG - Connected to IBController
2018-01-19 11:08:06,852 - DEBUG - Position requested
2018-01-19 11:08:06,854 - DEBUG - Pos Mgmt 0
2018-01-19 11:08:06,855 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, pos=0, avgCost=0.0>
2018-01-19 11:08:06,855 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:08:06,855 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:08:06,855 - DEBUG - Position is 0
2018-01-19 11:08:06,855 - DEBUG - Pos Mgmt -12987
2018-01-19 11:08:06,855 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:08:06,857 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:08:06,857 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:08:06,857 - DEBUG - Position is -12987
2018-01-19 11:08:06,857 - DEBUG - Pos Mgmt 1
2018-01-19 11:08:06,858 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCD68>, pos=1, avgCost=48882.9>
2018-01-19 11:08:06,858 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:08:06,858 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:08:06,858 - DEBUG - Position is 1
2018-01-19 11:08:07,854 - DEBUG - Open Orders requested
2018-01-19 11:08:09,855 - DEBUG - Connecting to database
2018-01-19 11:08:09,861 - DEBUG - Connected to database
2018-01-19 11:08:09,864 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,864 - DEBUG - Stop loss value is 72.10
2018-01-19 11:08:09,865 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,865 - DEBUG - Stop loss value is 84.35
2018-01-19 11:08:09,867 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,868 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:08:09,868 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,868 - DEBUG - Stop quantity 1
2018-01-19 11:08:09,869 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,871 - DEBUG - Direction is Long
2018-01-19 11:08:09,871 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,871 - DEBUG - Count is 0
2018-01-19 11:08:09,874 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:08:09,874 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:08:09,875 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:08:09,875 - DEBUG - Max ID Order is (114,)
2018-01-19 11:08:09,875 - DEBUG - Today is 2018-01-19
2018-01-19 11:08:09,875 - DEBUG - Day of the week 4
2018-01-19 11:08:09,877 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:08:09,877 - DEBUG - In Position is  0
2018-01-19 11:08:09,877 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:08:09,877 - DEBUG - curStopLossFlag is  0
2018-01-19 11:08:09,878 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:08:09,878 - DEBUG - Checking if Entry has been filled
2018-01-19 11:08:09,878 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:08:09,878 - DEBUG - EntryPend is 1
2018-01-19 11:08:09,880 - DEBUG - Try to Cancel Stop
2018-01-19 11:08:09,880 - DEBUG - Stop API ID 0
2018-01-19 11:08:09,880 - DEBUG - Profit API ID 0
2018-01-19 11:08:09,880 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:08:09,880 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:08:09,881 - DEBUG - Pos is 0
2018-01-19 11:08:09,881 - DEBUG - CurCount is 0
2018-01-19 11:08:09,881 - DEBUG - In Pos 0
2018-01-19 11:08:09,881 - DEBUG - Stop ID is 0
2018-01-19 11:08:09,881 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:08:09,882 - DEBUG - EntryPend is 1
2018-01-19 11:08:09,882 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:08:09,882 - DEBUG - Entry Date is 10
2018-01-19 11:08:09,884 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:08:09,884 - DEBUG - Order Profit ID is 0
2018-01-19 11:08:09,884 - DEBUG - Order Entry ID is 113
2018-01-19 11:08:09,884 - DEBUG - API ID is  0
2018-01-19 11:08:09,884 - DEBUG - Current Position is 0
2018-01-19 11:08:09,884 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:08:09,884 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:08:09,884 - DEBUG - Time is 11
2018-01-19 11:08:09,884 - DEBUG - Time is <class 'int'>
2018-01-19 11:08:09,885 - DEBUG - Time is 8
2018-01-19 11:08:09,885 - DEBUG - Time is <class 'int'>
2018-01-19 11:08:09,885 - DEBUG - Disconnected from IBController
2018-01-19 11:08:09,885 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:13:05,375 - DEBUG - ****************************************************
2018-01-19 11:13:05,375 - DEBUG - Current Time is 11:13AM
2018-01-19 11:13:05,375 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:13:05,375 - DEBUG - Connecting to database
2018-01-19 11:13:05,405 - DEBUG - Connected to database
2018-01-19 11:13:05,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:05,407 - DEBUG - Order Profit is 0
2018-01-19 11:13:05,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:05,410 - DEBUG - Stop ID is 0
2018-01-19 11:13:05,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:05,411 - DEBUG - Entry ID is 113
2018-01-19 11:13:05,413 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:13:05,414 - DEBUG - OCA ID is 1
2018-01-19 11:13:05,414 - DEBUG - Connecting to IBController
2018-01-19 11:13:06,417 - DEBUG - Connected to IBController
2018-01-19 11:13:06,417 - DEBUG - Position requested
2018-01-19 11:13:06,418 - DEBUG - Pos Mgmt 0
2018-01-19 11:13:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDB00>, pos=0, avgCost=0.0>
2018-01-19 11:13:06,420 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:13:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:13:06,421 - DEBUG - Position is 0
2018-01-19 11:13:06,421 - DEBUG - Pos Mgmt -12987
2018-01-19 11:13:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:13:06,421 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:13:06,421 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:13:06,421 - DEBUG - Position is -12987
2018-01-19 11:13:06,424 - DEBUG - Pos Mgmt 1
2018-01-19 11:13:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=1, avgCost=48882.9>
2018-01-19 11:13:06,424 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:13:06,424 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:13:06,424 - DEBUG - Position is 1
2018-01-19 11:13:07,420 - DEBUG - Open Orders requested
2018-01-19 11:13:09,420 - DEBUG - Connecting to database
2018-01-19 11:13:09,427 - DEBUG - Connected to database
2018-01-19 11:13:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,428 - DEBUG - Stop loss value is 72.10
2018-01-19 11:13:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,430 - DEBUG - Stop loss value is 84.35
2018-01-19 11:13:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,431 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:13:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,434 - DEBUG - Stop quantity 1
2018-01-19 11:13:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,434 - DEBUG - Direction is Long
2018-01-19 11:13:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,437 - DEBUG - Count is 0
2018-01-19 11:13:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:13:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:13:09,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:13:09,440 - DEBUG - Max ID Order is (114,)
2018-01-19 11:13:09,440 - DEBUG - Today is 2018-01-19
2018-01-19 11:13:09,440 - DEBUG - Day of the week 4
2018-01-19 11:13:09,440 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:13:09,440 - DEBUG - In Position is  0
2018-01-19 11:13:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:13:09,441 - DEBUG - curStopLossFlag is  0
2018-01-19 11:13:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:13:09,441 - DEBUG - Checking if Entry has been filled
2018-01-19 11:13:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:13:09,444 - DEBUG - EntryPend is 1
2018-01-19 11:13:09,444 - DEBUG - Try to Cancel Stop
2018-01-19 11:13:09,444 - DEBUG - Stop API ID 0
2018-01-19 11:13:09,444 - DEBUG - Profit API ID 0
2018-01-19 11:13:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:13:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:13:09,444 - DEBUG - Pos is 0
2018-01-19 11:13:09,444 - DEBUG - CurCount is 0
2018-01-19 11:13:09,444 - DEBUG - In Pos 0
2018-01-19 11:13:09,446 - DEBUG - Stop ID is 0
2018-01-19 11:13:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:13:09,447 - DEBUG - EntryPend is 1
2018-01-19 11:13:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:13:09,447 - DEBUG - Entry Date is 10
2018-01-19 11:13:09,447 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:13:09,447 - DEBUG - Order Profit ID is 0
2018-01-19 11:13:09,447 - DEBUG - Order Entry ID is 113
2018-01-19 11:13:09,448 - DEBUG - API ID is  0
2018-01-19 11:13:09,448 - DEBUG - Current Position is 0
2018-01-19 11:13:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:13:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:13:09,450 - DEBUG - Time is 11
2018-01-19 11:13:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 11:13:09,450 - DEBUG - Time is 13
2018-01-19 11:13:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 11:13:09,450 - DEBUG - Disconnected from IBController
2018-01-19 11:13:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:18:05,377 - DEBUG - ****************************************************
2018-01-19 11:18:05,378 - DEBUG - Current Time is 11:18AM
2018-01-19 11:18:05,378 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:18:05,378 - DEBUG - Connecting to database
2018-01-19 11:18:05,394 - DEBUG - Connected to database
2018-01-19 11:18:05,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:05,398 - DEBUG - Order Profit is 0
2018-01-19 11:18:05,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:05,400 - DEBUG - Stop ID is 0
2018-01-19 11:18:05,400 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:05,401 - DEBUG - Entry ID is 113
2018-01-19 11:18:05,401 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:18:05,403 - DEBUG - OCA ID is 1
2018-01-19 11:18:05,403 - DEBUG - Connecting to IBController
2018-01-19 11:18:06,405 - DEBUG - Connected to IBController
2018-01-19 11:18:06,405 - DEBUG - Position requested
2018-01-19 11:18:06,407 - DEBUG - Pos Mgmt 0
2018-01-19 11:18:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218DB00>, pos=0, avgCost=0.0>
2018-01-19 11:18:06,408 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:18:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:18:06,408 - DEBUG - Position is 0
2018-01-19 11:18:06,410 - DEBUG - Pos Mgmt -12987
2018-01-19 11:18:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:18:06,410 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:18:06,410 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:18:06,410 - DEBUG - Position is -12987
2018-01-19 11:18:06,411 - DEBUG - Pos Mgmt 1
2018-01-19 11:18:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218DE10>, pos=1, avgCost=48882.9>
2018-01-19 11:18:06,411 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:18:06,411 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:18:06,411 - DEBUG - Position is 1
2018-01-19 11:18:07,407 - DEBUG - Open Orders requested
2018-01-19 11:18:09,407 - DEBUG - Connecting to database
2018-01-19 11:18:09,414 - DEBUG - Connected to database
2018-01-19 11:18:09,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,417 - DEBUG - Stop loss value is 72.10
2018-01-19 11:18:09,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,417 - DEBUG - Stop loss value is 84.35
2018-01-19 11:18:09,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,420 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:18:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,421 - DEBUG - Stop quantity 1
2018-01-19 11:18:09,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,423 - DEBUG - Direction is Long
2018-01-19 11:18:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,424 - DEBUG - Count is 0
2018-01-19 11:18:09,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:18:09,426 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:18:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:18:09,427 - DEBUG - Max ID Order is (114,)
2018-01-19 11:18:09,427 - DEBUG - Today is 2018-01-19
2018-01-19 11:18:09,428 - DEBUG - Day of the week 4
2018-01-19 11:18:09,428 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:18:09,428 - DEBUG - In Position is  0
2018-01-19 11:18:09,428 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:18:09,430 - DEBUG - curStopLossFlag is  0
2018-01-19 11:18:09,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:18:09,430 - DEBUG - Checking if Entry has been filled
2018-01-19 11:18:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:18:09,431 - DEBUG - EntryPend is 1
2018-01-19 11:18:09,431 - DEBUG - Try to Cancel Stop
2018-01-19 11:18:09,431 - DEBUG - Stop API ID 0
2018-01-19 11:18:09,431 - DEBUG - Profit API ID 0
2018-01-19 11:18:09,433 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:18:09,433 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:18:09,433 - DEBUG - Pos is 0
2018-01-19 11:18:09,433 - DEBUG - CurCount is 0
2018-01-19 11:18:09,433 - DEBUG - In Pos 0
2018-01-19 11:18:09,434 - DEBUG - Stop ID is 0
2018-01-19 11:18:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:18:09,434 - DEBUG - EntryPend is 1
2018-01-19 11:18:09,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:18:09,436 - DEBUG - Entry Date is 10
2018-01-19 11:18:09,436 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:18:09,436 - DEBUG - Order Profit ID is 0
2018-01-19 11:18:09,436 - DEBUG - Order Entry ID is 113
2018-01-19 11:18:09,437 - DEBUG - API ID is  0
2018-01-19 11:18:09,437 - DEBUG - Current Position is 0
2018-01-19 11:18:09,437 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:18:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:18:09,437 - DEBUG - Time is 11
2018-01-19 11:18:09,437 - DEBUG - Time is <class 'int'>
2018-01-19 11:18:09,437 - DEBUG - Time is 18
2018-01-19 11:18:09,437 - DEBUG - Time is <class 'int'>
2018-01-19 11:18:09,437 - DEBUG - Disconnected from IBController
2018-01-19 11:18:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:23:05,392 - DEBUG - ****************************************************
2018-01-19 11:23:05,394 - DEBUG - Current Time is 11:23AM
2018-01-19 11:23:05,394 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:23:05,394 - DEBUG - Connecting to database
2018-01-19 11:23:05,427 - DEBUG - Connected to database
2018-01-19 11:23:05,427 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:05,427 - DEBUG - Order Profit is 0
2018-01-19 11:23:05,428 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:05,430 - DEBUG - Stop ID is 0
2018-01-19 11:23:05,430 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:05,431 - DEBUG - Entry ID is 113
2018-01-19 11:23:05,431 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:23:05,433 - DEBUG - OCA ID is 1
2018-01-19 11:23:05,434 - DEBUG - Connecting to IBController
2018-01-19 11:23:06,437 - DEBUG - Connected to IBController
2018-01-19 11:23:06,437 - DEBUG - Position requested
2018-01-19 11:23:06,438 - DEBUG - Pos Mgmt 0
2018-01-19 11:23:06,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CA58>, pos=0, avgCost=0.0>
2018-01-19 11:23:06,440 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:23:06,440 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:23:06,440 - DEBUG - Position is 0
2018-01-19 11:23:06,440 - DEBUG - Pos Mgmt -12987
2018-01-19 11:23:06,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:23:06,441 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:23:06,441 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:23:06,441 - DEBUG - Position is -12987
2018-01-19 11:23:06,443 - DEBUG - Pos Mgmt 1
2018-01-19 11:23:06,443 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CD68>, pos=1, avgCost=48882.9>
2018-01-19 11:23:06,443 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:23:06,443 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:23:06,444 - DEBUG - Position is 1
2018-01-19 11:23:07,438 - DEBUG - Open Orders requested
2018-01-19 11:23:09,438 - DEBUG - Connecting to database
2018-01-19 11:23:09,470 - DEBUG - Connected to database
2018-01-19 11:23:09,470 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,471 - DEBUG - Stop loss value is 72.10
2018-01-19 11:23:09,473 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,473 - DEBUG - Stop loss value is 84.35
2018-01-19 11:23:09,474 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,474 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:23:09,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,476 - DEBUG - Stop quantity 1
2018-01-19 11:23:09,477 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,477 - DEBUG - Direction is Long
2018-01-19 11:23:09,480 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,480 - DEBUG - Count is 0
2018-01-19 11:23:09,480 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:23:09,480 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:23:09,483 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:23:09,483 - DEBUG - Max ID Order is (114,)
2018-01-19 11:23:09,483 - DEBUG - Today is 2018-01-19
2018-01-19 11:23:09,483 - DEBUG - Day of the week 4
2018-01-19 11:23:09,483 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:23:09,483 - DEBUG - In Position is  0
2018-01-19 11:23:09,483 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:23:09,484 - DEBUG - curStopLossFlag is  0
2018-01-19 11:23:09,484 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:23:09,484 - DEBUG - Checking if Entry has been filled
2018-01-19 11:23:09,484 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:23:09,486 - DEBUG - EntryPend is 1
2018-01-19 11:23:09,486 - DEBUG - Try to Cancel Stop
2018-01-19 11:23:09,486 - DEBUG - Stop API ID 0
2018-01-19 11:23:09,487 - DEBUG - Profit API ID 0
2018-01-19 11:23:09,487 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:23:09,487 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:23:09,487 - DEBUG - Pos is 0
2018-01-19 11:23:09,487 - DEBUG - CurCount is 0
2018-01-19 11:23:09,489 - DEBUG - In Pos 0
2018-01-19 11:23:09,489 - DEBUG - Stop ID is 0
2018-01-19 11:23:09,489 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:23:09,490 - DEBUG - EntryPend is 1
2018-01-19 11:23:09,490 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:23:09,490 - DEBUG - Entry Date is 10
2018-01-19 11:23:09,490 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:23:09,490 - DEBUG - Order Profit ID is 0
2018-01-19 11:23:09,492 - DEBUG - Order Entry ID is 113
2018-01-19 11:23:09,492 - DEBUG - API ID is  0
2018-01-19 11:23:09,492 - DEBUG - Current Position is 0
2018-01-19 11:23:09,492 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:23:09,493 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:23:09,493 - DEBUG - Time is 11
2018-01-19 11:23:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 11:23:09,493 - DEBUG - Time is 23
2018-01-19 11:23:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 11:23:09,493 - DEBUG - Disconnected from IBController
2018-01-19 11:23:09,493 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:28:05,388 - DEBUG - ****************************************************
2018-01-19 11:28:05,388 - DEBUG - Current Time is 11:28AM
2018-01-19 11:28:05,388 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:28:05,388 - DEBUG - Connecting to database
2018-01-19 11:28:05,424 - DEBUG - Connected to database
2018-01-19 11:28:05,426 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:05,427 - DEBUG - Order Profit is 0
2018-01-19 11:28:05,427 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:05,428 - DEBUG - Stop ID is 0
2018-01-19 11:28:05,428 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:05,430 - DEBUG - Entry ID is 113
2018-01-19 11:28:05,430 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:28:05,431 - DEBUG - OCA ID is 1
2018-01-19 11:28:05,431 - DEBUG - Connecting to IBController
2018-01-19 11:28:06,436 - DEBUG - Connected to IBController
2018-01-19 11:28:06,436 - DEBUG - Position requested
2018-01-19 11:28:06,438 - DEBUG - Pos Mgmt 0
2018-01-19 11:28:06,438 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DB00>, pos=0, avgCost=0.0>
2018-01-19 11:28:06,438 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:28:06,440 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:28:06,440 - DEBUG - Position is 0
2018-01-19 11:28:06,440 - DEBUG - Pos Mgmt -12987
2018-01-19 11:28:06,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:28:06,440 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:28:06,440 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:28:06,440 - DEBUG - Position is -12987
2018-01-19 11:28:06,441 - DEBUG - Pos Mgmt 1
2018-01-19 11:28:06,441 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=1, avgCost=48882.9>
2018-01-19 11:28:06,441 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:28:06,441 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:28:06,441 - DEBUG - Position is 1
2018-01-19 11:28:07,437 - DEBUG - Open Orders requested
2018-01-19 11:28:09,437 - DEBUG - Connecting to database
2018-01-19 11:28:09,444 - DEBUG - Connected to database
2018-01-19 11:28:09,447 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,447 - DEBUG - Stop loss value is 72.10
2018-01-19 11:28:09,447 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,448 - DEBUG - Stop loss value is 84.35
2018-01-19 11:28:09,450 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,450 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:28:09,451 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,451 - DEBUG - Stop quantity 1
2018-01-19 11:28:09,453 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,453 - DEBUG - Direction is Long
2018-01-19 11:28:09,454 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,454 - DEBUG - Count is 0
2018-01-19 11:28:09,456 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:28:09,457 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:28:09,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:28:09,457 - DEBUG - Max ID Order is (114,)
2018-01-19 11:28:09,459 - DEBUG - Today is 2018-01-19
2018-01-19 11:28:09,459 - DEBUG - Day of the week 4
2018-01-19 11:28:09,459 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:28:09,460 - DEBUG - In Position is  0
2018-01-19 11:28:09,460 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:28:09,460 - DEBUG - curStopLossFlag is  0
2018-01-19 11:28:09,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:28:09,460 - DEBUG - Checking if Entry has been filled
2018-01-19 11:28:09,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:28:09,461 - DEBUG - EntryPend is 1
2018-01-19 11:28:09,461 - DEBUG - Try to Cancel Stop
2018-01-19 11:28:09,463 - DEBUG - Stop API ID 0
2018-01-19 11:28:09,463 - DEBUG - Profit API ID 0
2018-01-19 11:28:09,463 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:28:09,463 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:28:09,463 - DEBUG - Pos is 0
2018-01-19 11:28:09,463 - DEBUG - CurCount is 0
2018-01-19 11:28:09,463 - DEBUG - In Pos 0
2018-01-19 11:28:09,463 - DEBUG - Stop ID is 0
2018-01-19 11:28:09,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:28:09,466 - DEBUG - EntryPend is 1
2018-01-19 11:28:09,466 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:28:09,466 - DEBUG - Entry Date is 10
2018-01-19 11:28:09,467 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:28:09,467 - DEBUG - Order Profit ID is 0
2018-01-19 11:28:09,467 - DEBUG - Order Entry ID is 113
2018-01-19 11:28:09,467 - DEBUG - API ID is  0
2018-01-19 11:28:09,467 - DEBUG - Current Position is 0
2018-01-19 11:28:09,467 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:28:09,467 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:28:09,467 - DEBUG - Time is 11
2018-01-19 11:28:09,467 - DEBUG - Time is <class 'int'>
2018-01-19 11:28:09,469 - DEBUG - Time is 28
2018-01-19 11:28:09,469 - DEBUG - Time is <class 'int'>
2018-01-19 11:28:09,469 - DEBUG - Disconnected from IBController
2018-01-19 11:28:09,470 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:33:05,407 - DEBUG - ****************************************************
2018-01-19 11:33:05,407 - DEBUG - Current Time is 11:33AM
2018-01-19 11:33:05,408 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:33:05,408 - DEBUG - Connecting to database
2018-01-19 11:33:05,451 - DEBUG - Connected to database
2018-01-19 11:33:05,451 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:05,453 - DEBUG - Order Profit is 0
2018-01-19 11:33:05,453 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:05,456 - DEBUG - Stop ID is 0
2018-01-19 11:33:05,456 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:05,457 - DEBUG - Entry ID is 113
2018-01-19 11:33:05,457 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:33:05,459 - DEBUG - OCA ID is 1
2018-01-19 11:33:05,459 - DEBUG - Connecting to IBController
2018-01-19 11:33:06,461 - DEBUG - Connected to IBController
2018-01-19 11:33:06,461 - DEBUG - Position requested
2018-01-19 11:33:06,463 - DEBUG - Pos Mgmt 0
2018-01-19 11:33:06,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BB00>, pos=0, avgCost=0.0>
2018-01-19 11:33:06,463 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:33:06,464 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:33:06,464 - DEBUG - Position is 0
2018-01-19 11:33:06,464 - DEBUG - Pos Mgmt -12987
2018-01-19 11:33:06,464 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:33:06,466 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:33:06,466 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:33:06,466 - DEBUG - Position is -12987
2018-01-19 11:33:06,467 - DEBUG - Pos Mgmt 1
2018-01-19 11:33:06,467 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BE10>, pos=1, avgCost=48882.9>
2018-01-19 11:33:06,467 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:33:06,467 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:33:06,467 - DEBUG - Position is 1
2018-01-19 11:33:07,463 - DEBUG - Open Orders requested
2018-01-19 11:33:09,463 - DEBUG - Connecting to database
2018-01-19 11:33:09,470 - DEBUG - Connected to database
2018-01-19 11:33:09,471 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,473 - DEBUG - Stop loss value is 72.10
2018-01-19 11:33:09,473 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,473 - DEBUG - Stop loss value is 84.35
2018-01-19 11:33:09,476 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,476 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:33:09,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,477 - DEBUG - Stop quantity 1
2018-01-19 11:33:09,479 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,479 - DEBUG - Direction is Long
2018-01-19 11:33:09,480 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,480 - DEBUG - Count is 0
2018-01-19 11:33:09,482 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:33:09,482 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:33:09,483 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:33:09,483 - DEBUG - Max ID Order is (114,)
2018-01-19 11:33:09,483 - DEBUG - Today is 2018-01-19
2018-01-19 11:33:09,484 - DEBUG - Day of the week 4
2018-01-19 11:33:09,484 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:33:09,484 - DEBUG - In Position is  0
2018-01-19 11:33:09,484 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:33:09,486 - DEBUG - curStopLossFlag is  0
2018-01-19 11:33:09,486 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:33:09,486 - DEBUG - Checking if Entry has been filled
2018-01-19 11:33:09,486 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:33:09,487 - DEBUG - EntryPend is 1
2018-01-19 11:33:09,487 - DEBUG - Try to Cancel Stop
2018-01-19 11:33:09,487 - DEBUG - Stop API ID 0
2018-01-19 11:33:09,487 - DEBUG - Profit API ID 0
2018-01-19 11:33:09,489 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:33:09,489 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:33:09,489 - DEBUG - Pos is 0
2018-01-19 11:33:09,489 - DEBUG - CurCount is 0
2018-01-19 11:33:09,490 - DEBUG - In Pos 0
2018-01-19 11:33:09,490 - DEBUG - Stop ID is 0
2018-01-19 11:33:09,490 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:33:09,490 - DEBUG - EntryPend is 1
2018-01-19 11:33:09,492 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:33:09,492 - DEBUG - Entry Date is 10
2018-01-19 11:33:09,492 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:33:09,492 - DEBUG - Order Profit ID is 0
2018-01-19 11:33:09,492 - DEBUG - Order Entry ID is 113
2018-01-19 11:33:09,493 - DEBUG - API ID is  0
2018-01-19 11:33:09,493 - DEBUG - Current Position is 0
2018-01-19 11:33:09,493 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:33:09,493 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:33:09,493 - DEBUG - Time is 11
2018-01-19 11:33:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 11:33:09,493 - DEBUG - Time is 33
2018-01-19 11:33:09,493 - DEBUG - Time is <class 'int'>
2018-01-19 11:33:09,494 - DEBUG - Disconnected from IBController
2018-01-19 11:33:09,499 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:38:05,381 - DEBUG - ****************************************************
2018-01-19 11:38:05,381 - DEBUG - Current Time is 11:38AM
2018-01-19 11:38:05,381 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:38:05,381 - DEBUG - Connecting to database
2018-01-19 11:38:05,405 - DEBUG - Connected to database
2018-01-19 11:38:05,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:05,407 - DEBUG - Order Profit is 0
2018-01-19 11:38:05,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:05,410 - DEBUG - Stop ID is 0
2018-01-19 11:38:05,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:05,411 - DEBUG - Entry ID is 113
2018-01-19 11:38:05,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:38:05,413 - DEBUG - OCA ID is 1
2018-01-19 11:38:05,413 - DEBUG - Connecting to IBController
2018-01-19 11:38:06,417 - DEBUG - Connected to IBController
2018-01-19 11:38:06,417 - DEBUG - Position requested
2018-01-19 11:38:06,417 - DEBUG - Pos Mgmt 0
2018-01-19 11:38:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCB00>, pos=0, avgCost=0.0>
2018-01-19 11:38:06,418 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:38:06,418 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:38:06,420 - DEBUG - Position is 0
2018-01-19 11:38:06,420 - DEBUG - Pos Mgmt -12987
2018-01-19 11:38:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:38:06,421 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:38:06,421 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:38:06,421 - DEBUG - Position is -12987
2018-01-19 11:38:06,421 - DEBUG - Pos Mgmt 1
2018-01-19 11:38:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCE10>, pos=1, avgCost=48882.9>
2018-01-19 11:38:06,421 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:38:06,421 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:38:06,421 - DEBUG - Position is 1
2018-01-19 11:38:07,417 - DEBUG - Open Orders requested
2018-01-19 11:38:09,418 - DEBUG - Connecting to database
2018-01-19 11:38:09,427 - DEBUG - Connected to database
2018-01-19 11:38:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,427 - DEBUG - Stop loss value is 72.10
2018-01-19 11:38:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,430 - DEBUG - Stop loss value is 84.35
2018-01-19 11:38:09,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,431 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:38:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,433 - DEBUG - Stop quantity 1
2018-01-19 11:38:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,434 - DEBUG - Direction is Long
2018-01-19 11:38:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,437 - DEBUG - Count is 0
2018-01-19 11:38:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:38:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:38:09,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:38:09,440 - DEBUG - Max ID Order is (114,)
2018-01-19 11:38:09,440 - DEBUG - Today is 2018-01-19
2018-01-19 11:38:09,440 - DEBUG - Day of the week 4
2018-01-19 11:38:09,440 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:38:09,440 - DEBUG - In Position is  0
2018-01-19 11:38:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:38:09,441 - DEBUG - curStopLossFlag is  0
2018-01-19 11:38:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:38:09,441 - DEBUG - Checking if Entry has been filled
2018-01-19 11:38:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:38:09,444 - DEBUG - EntryPend is 1
2018-01-19 11:38:09,444 - DEBUG - Try to Cancel Stop
2018-01-19 11:38:09,444 - DEBUG - Stop API ID 0
2018-01-19 11:38:09,444 - DEBUG - Profit API ID 0
2018-01-19 11:38:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:38:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:38:09,444 - DEBUG - Pos is 0
2018-01-19 11:38:09,444 - DEBUG - CurCount is 0
2018-01-19 11:38:09,446 - DEBUG - In Pos 0
2018-01-19 11:38:09,446 - DEBUG - Stop ID is 0
2018-01-19 11:38:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:38:09,447 - DEBUG - EntryPend is 1
2018-01-19 11:38:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:38:09,447 - DEBUG - Entry Date is 10
2018-01-19 11:38:09,447 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:38:09,447 - DEBUG - Order Profit ID is 0
2018-01-19 11:38:09,447 - DEBUG - Order Entry ID is 113
2018-01-19 11:38:09,448 - DEBUG - API ID is  0
2018-01-19 11:38:09,448 - DEBUG - Current Position is 0
2018-01-19 11:38:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:38:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:38:09,450 - DEBUG - Time is 11
2018-01-19 11:38:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 11:38:09,450 - DEBUG - Time is 38
2018-01-19 11:38:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 11:38:09,450 - DEBUG - Disconnected from IBController
2018-01-19 11:38:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:43:05,403 - DEBUG - ****************************************************
2018-01-19 11:43:05,403 - DEBUG - Current Time is 11:43AM
2018-01-19 11:43:05,404 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:43:05,404 - DEBUG - Connecting to database
2018-01-19 11:43:05,430 - DEBUG - Connected to database
2018-01-19 11:43:05,430 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:05,433 - DEBUG - Order Profit is 0
2018-01-19 11:43:05,433 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:05,434 - DEBUG - Stop ID is 0
2018-01-19 11:43:05,434 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:05,436 - DEBUG - Entry ID is 113
2018-01-19 11:43:05,436 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:43:05,437 - DEBUG - OCA ID is 1
2018-01-19 11:43:05,437 - DEBUG - Connecting to IBController
2018-01-19 11:43:06,440 - DEBUG - Connected to IBController
2018-01-19 11:43:06,440 - DEBUG - Position requested
2018-01-19 11:43:06,441 - DEBUG - Pos Mgmt 0
2018-01-19 11:43:06,443 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CA58>, pos=0, avgCost=0.0>
2018-01-19 11:43:06,443 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:43:06,443 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:43:06,444 - DEBUG - Position is 0
2018-01-19 11:43:06,444 - DEBUG - Pos Mgmt -12987
2018-01-19 11:43:06,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:43:06,444 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:43:06,444 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:43:06,444 - DEBUG - Position is -12987
2018-01-19 11:43:06,444 - DEBUG - Pos Mgmt 1
2018-01-19 11:43:06,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CD68>, pos=1, avgCost=48882.9>
2018-01-19 11:43:06,446 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:43:06,446 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:43:06,446 - DEBUG - Position is 1
2018-01-19 11:43:07,441 - DEBUG - Open Orders requested
2018-01-19 11:43:09,443 - DEBUG - Connecting to database
2018-01-19 11:43:09,450 - DEBUG - Connected to database
2018-01-19 11:43:09,450 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,451 - DEBUG - Stop loss value is 72.10
2018-01-19 11:43:09,453 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,453 - DEBUG - Stop loss value is 84.35
2018-01-19 11:43:09,454 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,454 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:43:09,456 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,456 - DEBUG - Stop quantity 1
2018-01-19 11:43:09,457 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,457 - DEBUG - Direction is Long
2018-01-19 11:43:09,459 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,460 - DEBUG - Count is 0
2018-01-19 11:43:09,460 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:43:09,460 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:43:09,461 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:43:09,463 - DEBUG - Max ID Order is (114,)
2018-01-19 11:43:09,463 - DEBUG - Today is 2018-01-19
2018-01-19 11:43:09,463 - DEBUG - Day of the week 4
2018-01-19 11:43:09,463 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:43:09,463 - DEBUG - In Position is  0
2018-01-19 11:43:09,463 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:43:09,464 - DEBUG - curStopLossFlag is  0
2018-01-19 11:43:09,464 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:43:09,464 - DEBUG - Checking if Entry has been filled
2018-01-19 11:43:09,464 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:43:09,467 - DEBUG - EntryPend is 1
2018-01-19 11:43:09,467 - DEBUG - Try to Cancel Stop
2018-01-19 11:43:09,467 - DEBUG - Stop API ID 0
2018-01-19 11:43:09,467 - DEBUG - Profit API ID 0
2018-01-19 11:43:09,467 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:43:09,467 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:43:09,467 - DEBUG - Pos is 0
2018-01-19 11:43:09,467 - DEBUG - CurCount is 0
2018-01-19 11:43:09,467 - DEBUG - In Pos 0
2018-01-19 11:43:09,469 - DEBUG - Stop ID is 0
2018-01-19 11:43:09,469 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:43:09,470 - DEBUG - EntryPend is 1
2018-01-19 11:43:09,470 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:43:09,470 - DEBUG - Entry Date is 10
2018-01-19 11:43:09,470 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:43:09,470 - DEBUG - Order Profit ID is 0
2018-01-19 11:43:09,470 - DEBUG - Order Entry ID is 113
2018-01-19 11:43:09,471 - DEBUG - API ID is  0
2018-01-19 11:43:09,471 - DEBUG - Current Position is 0
2018-01-19 11:43:09,471 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:43:09,471 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:43:09,471 - DEBUG - Time is 11
2018-01-19 11:43:09,473 - DEBUG - Time is <class 'int'>
2018-01-19 11:43:09,473 - DEBUG - Time is 43
2018-01-19 11:43:09,473 - DEBUG - Time is <class 'int'>
2018-01-19 11:43:09,473 - DEBUG - Disconnected from IBController
2018-01-19 11:43:09,473 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:48:05,318 - DEBUG - ****************************************************
2018-01-19 11:48:05,318 - DEBUG - Current Time is 11:48AM
2018-01-19 11:48:05,319 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:48:05,319 - DEBUG - Connecting to database
2018-01-19 11:48:05,345 - DEBUG - Connected to database
2018-01-19 11:48:05,345 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:05,348 - DEBUG - Order Profit is 0
2018-01-19 11:48:05,348 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:05,348 - DEBUG - Stop ID is 0
2018-01-19 11:48:05,348 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:05,351 - DEBUG - Entry ID is 113
2018-01-19 11:48:05,351 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:48:05,352 - DEBUG - OCA ID is 1
2018-01-19 11:48:05,352 - DEBUG - Connecting to IBController
2018-01-19 11:48:06,357 - DEBUG - Connected to IBController
2018-01-19 11:48:06,357 - DEBUG - Position requested
2018-01-19 11:48:06,358 - DEBUG - Pos Mgmt 0
2018-01-19 11:48:06,358 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA58>, pos=0, avgCost=0.0>
2018-01-19 11:48:06,358 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:48:06,358 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:48:06,359 - DEBUG - Position is 0
2018-01-19 11:48:06,359 - DEBUG - Pos Mgmt -12987
2018-01-19 11:48:06,359 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:48:06,361 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:48:06,361 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:48:06,361 - DEBUG - Position is -12987
2018-01-19 11:48:06,361 - DEBUG - Pos Mgmt 1
2018-01-19 11:48:06,361 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CD68>, pos=1, avgCost=48882.9>
2018-01-19 11:48:06,361 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:48:06,361 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:48:06,361 - DEBUG - Position is 1
2018-01-19 11:48:07,358 - DEBUG - Open Orders requested
2018-01-19 11:48:09,358 - DEBUG - Connecting to database
2018-01-19 11:48:09,365 - DEBUG - Connected to database
2018-01-19 11:48:09,367 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,368 - DEBUG - Stop loss value is 72.10
2018-01-19 11:48:09,368 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,368 - DEBUG - Stop loss value is 84.35
2018-01-19 11:48:09,371 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,371 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:48:09,371 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,371 - DEBUG - Stop quantity 1
2018-01-19 11:48:09,374 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,374 - DEBUG - Direction is Long
2018-01-19 11:48:09,375 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,375 - DEBUG - Count is 0
2018-01-19 11:48:09,377 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:48:09,377 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:48:09,378 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:48:09,378 - DEBUG - Max ID Order is (114,)
2018-01-19 11:48:09,378 - DEBUG - Today is 2018-01-19
2018-01-19 11:48:09,380 - DEBUG - Day of the week 4
2018-01-19 11:48:09,380 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:48:09,380 - DEBUG - In Position is  0
2018-01-19 11:48:09,381 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:48:09,381 - DEBUG - curStopLossFlag is  0
2018-01-19 11:48:09,381 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:48:09,381 - DEBUG - Checking if Entry has been filled
2018-01-19 11:48:09,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:48:09,382 - DEBUG - EntryPend is 1
2018-01-19 11:48:09,382 - DEBUG - Try to Cancel Stop
2018-01-19 11:48:09,382 - DEBUG - Stop API ID 0
2018-01-19 11:48:09,384 - DEBUG - Profit API ID 0
2018-01-19 11:48:09,384 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:48:09,384 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:48:09,384 - DEBUG - Pos is 0
2018-01-19 11:48:09,384 - DEBUG - CurCount is 0
2018-01-19 11:48:09,384 - DEBUG - In Pos 0
2018-01-19 11:48:09,384 - DEBUG - Stop ID is 0
2018-01-19 11:48:09,384 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:48:09,387 - DEBUG - EntryPend is 1
2018-01-19 11:48:09,387 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:48:09,387 - DEBUG - Entry Date is 10
2018-01-19 11:48:09,387 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:48:09,388 - DEBUG - Order Profit ID is 0
2018-01-19 11:48:09,388 - DEBUG - Order Entry ID is 113
2018-01-19 11:48:09,388 - DEBUG - API ID is  0
2018-01-19 11:48:09,388 - DEBUG - Current Position is 0
2018-01-19 11:48:09,388 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:48:09,388 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:48:09,388 - DEBUG - Time is 11
2018-01-19 11:48:09,388 - DEBUG - Time is <class 'int'>
2018-01-19 11:48:09,388 - DEBUG - Time is 48
2018-01-19 11:48:09,390 - DEBUG - Time is <class 'int'>
2018-01-19 11:48:09,390 - DEBUG - Disconnected from IBController
2018-01-19 11:48:09,390 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:53:05,355 - DEBUG - ****************************************************
2018-01-19 11:53:05,355 - DEBUG - Current Time is 11:53AM
2018-01-19 11:53:05,357 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:53:05,357 - DEBUG - Connecting to database
2018-01-19 11:53:05,378 - DEBUG - Connected to database
2018-01-19 11:53:05,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:05,381 - DEBUG - Order Profit is 0
2018-01-19 11:53:05,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:05,381 - DEBUG - Stop ID is 0
2018-01-19 11:53:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:05,384 - DEBUG - Entry ID is 113
2018-01-19 11:53:05,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:53:05,385 - DEBUG - OCA ID is 1
2018-01-19 11:53:05,385 - DEBUG - Connecting to IBController
2018-01-19 11:53:06,388 - DEBUG - Connected to IBController
2018-01-19 11:53:06,388 - DEBUG - Position requested
2018-01-19 11:53:06,394 - DEBUG - Pos Mgmt 0
2018-01-19 11:53:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CA58>, pos=0, avgCost=0.0>
2018-01-19 11:53:06,395 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:53:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:53:06,395 - DEBUG - Position is 0
2018-01-19 11:53:06,397 - DEBUG - Pos Mgmt -12987
2018-01-19 11:53:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:53:06,397 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:53:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:53:06,398 - DEBUG - Position is -12987
2018-01-19 11:53:06,398 - DEBUG - Pos Mgmt 1
2018-01-19 11:53:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CD68>, pos=1, avgCost=48882.9>
2018-01-19 11:53:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:53:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:53:06,398 - DEBUG - Position is 1
2018-01-19 11:53:07,390 - DEBUG - Open Orders requested
2018-01-19 11:53:09,391 - DEBUG - Connecting to database
2018-01-19 11:53:09,398 - DEBUG - Connected to database
2018-01-19 11:53:09,398 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,400 - DEBUG - Stop loss value is 72.10
2018-01-19 11:53:09,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,401 - DEBUG - Stop loss value is 84.35
2018-01-19 11:53:09,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,403 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:53:09,404 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,404 - DEBUG - Stop quantity 1
2018-01-19 11:53:09,405 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,405 - DEBUG - Direction is Long
2018-01-19 11:53:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,407 - DEBUG - Count is 0
2018-01-19 11:53:09,408 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:53:09,410 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:53:09,411 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:53:09,411 - DEBUG - Max ID Order is (114,)
2018-01-19 11:53:09,411 - DEBUG - Today is 2018-01-19
2018-01-19 11:53:09,411 - DEBUG - Day of the week 4
2018-01-19 11:53:09,411 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:53:09,413 - DEBUG - In Position is  0
2018-01-19 11:53:09,413 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:53:09,413 - DEBUG - curStopLossFlag is  0
2018-01-19 11:53:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:53:09,414 - DEBUG - Checking if Entry has been filled
2018-01-19 11:53:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:53:09,414 - DEBUG - EntryPend is 1
2018-01-19 11:53:09,414 - DEBUG - Try to Cancel Stop
2018-01-19 11:53:09,415 - DEBUG - Stop API ID 0
2018-01-19 11:53:09,415 - DEBUG - Profit API ID 0
2018-01-19 11:53:09,415 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:53:09,415 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:53:09,417 - DEBUG - Pos is 0
2018-01-19 11:53:09,417 - DEBUG - CurCount is 0
2018-01-19 11:53:09,417 - DEBUG - In Pos 0
2018-01-19 11:53:09,417 - DEBUG - Stop ID is 0
2018-01-19 11:53:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:53:09,418 - DEBUG - EntryPend is 1
2018-01-19 11:53:09,418 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:53:09,418 - DEBUG - Entry Date is 10
2018-01-19 11:53:09,418 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:53:09,420 - DEBUG - Order Profit ID is 0
2018-01-19 11:53:09,420 - DEBUG - Order Entry ID is 113
2018-01-19 11:53:09,420 - DEBUG - API ID is  0
2018-01-19 11:53:09,420 - DEBUG - Current Position is 0
2018-01-19 11:53:09,420 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:53:09,421 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:53:09,421 - DEBUG - Time is 11
2018-01-19 11:53:09,421 - DEBUG - Time is <class 'int'>
2018-01-19 11:53:09,421 - DEBUG - Time is 53
2018-01-19 11:53:09,421 - DEBUG - Time is <class 'int'>
2018-01-19 11:53:09,421 - DEBUG - Disconnected from IBController
2018-01-19 11:53:09,421 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 11:58:05,351 - DEBUG - ****************************************************
2018-01-19 11:58:05,351 - DEBUG - Current Time is 11:58AM
2018-01-19 11:58:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-19 11:58:05,352 - DEBUG - Connecting to database
2018-01-19 11:58:05,392 - DEBUG - Connected to database
2018-01-19 11:58:05,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:05,394 - DEBUG - Order Profit is 0
2018-01-19 11:58:05,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:05,398 - DEBUG - Stop ID is 0
2018-01-19 11:58:05,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:05,400 - DEBUG - Entry ID is 113
2018-01-19 11:58:05,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 11:58:05,401 - DEBUG - OCA ID is 1
2018-01-19 11:58:05,401 - DEBUG - Connecting to IBController
2018-01-19 11:58:06,404 - DEBUG - Connected to IBController
2018-01-19 11:58:06,404 - DEBUG - Position requested
2018-01-19 11:58:06,405 - DEBUG - Pos Mgmt 0
2018-01-19 11:58:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DB00>, pos=0, avgCost=0.0>
2018-01-19 11:58:06,407 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 11:58:06,407 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:58:06,407 - DEBUG - Position is 0
2018-01-19 11:58:06,407 - DEBUG - Pos Mgmt -12987
2018-01-19 11:58:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 11:58:06,408 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 11:58:06,408 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 11:58:06,408 - DEBUG - Position is -12987
2018-01-19 11:58:06,408 - DEBUG - Pos Mgmt 1
2018-01-19 11:58:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=1, avgCost=48882.9>
2018-01-19 11:58:06,410 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 11:58:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-19 11:58:06,410 - DEBUG - Position is 1
2018-01-19 11:58:07,405 - DEBUG - Open Orders requested
2018-01-19 11:58:09,405 - DEBUG - Connecting to database
2018-01-19 11:58:09,413 - DEBUG - Connected to database
2018-01-19 11:58:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,414 - DEBUG - Stop loss value is 72.10
2018-01-19 11:58:09,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,415 - DEBUG - Stop loss value is 84.35
2018-01-19 11:58:09,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,417 - DEBUG - EntryPrice value is 73.4
2018-01-19 11:58:09,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,420 - DEBUG - Stop quantity 1
2018-01-19 11:58:09,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,421 - DEBUG - Direction is Long
2018-01-19 11:58:09,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,423 - DEBUG - Count is 0
2018-01-19 11:58:09,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 11:58:09,424 - DEBUG - Stop Loss Flag is 0
2018-01-19 11:58:09,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 11:58:09,426 - DEBUG - Max ID Order is (114,)
2018-01-19 11:58:09,426 - DEBUG - Today is 2018-01-19
2018-01-19 11:58:09,427 - DEBUG - Day of the week 4
2018-01-19 11:58:09,427 - DEBUG - Yesterday is 01/18/2018
2018-01-19 11:58:09,427 - DEBUG - In Position is  0
2018-01-19 11:58:09,427 - DEBUG - In Position is  <class 'int'>
2018-01-19 11:58:09,427 - DEBUG - curStopLossFlag is  0
2018-01-19 11:58:09,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 11:58:09,427 - DEBUG - Checking if Entry has been filled
2018-01-19 11:58:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:58:09,430 - DEBUG - EntryPend is 1
2018-01-19 11:58:09,430 - DEBUG - Try to Cancel Stop
2018-01-19 11:58:09,430 - DEBUG - Stop API ID 0
2018-01-19 11:58:09,430 - DEBUG - Profit API ID 0
2018-01-19 11:58:09,430 - DEBUG - Stop API ID <class 'int'>
2018-01-19 11:58:09,430 - DEBUG - Profit API ID <class 'int'>
2018-01-19 11:58:09,430 - DEBUG - Pos is 0
2018-01-19 11:58:09,430 - DEBUG - CurCount is 0
2018-01-19 11:58:09,431 - DEBUG - In Pos 0
2018-01-19 11:58:09,431 - DEBUG - Stop ID is 0
2018-01-19 11:58:09,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 11:58:09,433 - DEBUG - EntryPend is 1
2018-01-19 11:58:09,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 11:58:09,434 - DEBUG - Entry Date is 10
2018-01-19 11:58:09,434 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 11:58:09,434 - DEBUG - Order Profit ID is 0
2018-01-19 11:58:09,434 - DEBUG - Order Entry ID is 113
2018-01-19 11:58:09,434 - DEBUG - API ID is  0
2018-01-19 11:58:09,434 - DEBUG - Current Position is 0
2018-01-19 11:58:09,434 - DEBUG - Current Position is <class 'str'>
2018-01-19 11:58:09,434 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 11:58:09,436 - DEBUG - Time is 11
2018-01-19 11:58:09,436 - DEBUG - Time is <class 'int'>
2018-01-19 11:58:09,436 - DEBUG - Time is 58
2018-01-19 11:58:09,436 - DEBUG - Time is <class 'int'>
2018-01-19 11:58:09,437 - DEBUG - Disconnected from IBController
2018-01-19 11:58:09,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:03:05,348 - DEBUG - ****************************************************
2018-01-19 12:03:05,348 - DEBUG - Current Time is 12:03PM
2018-01-19 12:03:05,349 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:03:05,349 - DEBUG - Connecting to database
2018-01-19 12:03:05,384 - DEBUG - Connected to database
2018-01-19 12:03:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:05,384 - DEBUG - Order Profit is 0
2018-01-19 12:03:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:05,387 - DEBUG - Stop ID is 0
2018-01-19 12:03:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:05,388 - DEBUG - Entry ID is 113
2018-01-19 12:03:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:03:05,390 - DEBUG - OCA ID is 1
2018-01-19 12:03:05,390 - DEBUG - Connecting to IBController
2018-01-19 12:03:06,394 - DEBUG - Connected to IBController
2018-01-19 12:03:06,394 - DEBUG - Position requested
2018-01-19 12:03:06,397 - DEBUG - Pos Mgmt 0
2018-01-19 12:03:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDB00>, pos=0, avgCost=0.0>
2018-01-19 12:03:06,397 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:03:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:03:06,398 - DEBUG - Position is 0
2018-01-19 12:03:06,398 - DEBUG - Pos Mgmt -12987
2018-01-19 12:03:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:03:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:03:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:03:06,398 - DEBUG - Position is -12987
2018-01-19 12:03:06,400 - DEBUG - Pos Mgmt 1
2018-01-19 12:03:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDE10>, pos=1, avgCost=48882.9>
2018-01-19 12:03:06,400 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:03:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:03:06,401 - DEBUG - Position is 1
2018-01-19 12:03:07,395 - DEBUG - Open Orders requested
2018-01-19 12:03:09,397 - DEBUG - Connecting to database
2018-01-19 12:03:09,404 - DEBUG - Connected to database
2018-01-19 12:03:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,405 - DEBUG - Stop loss value is 72.10
2018-01-19 12:03:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,407 - DEBUG - Stop loss value is 84.35
2018-01-19 12:03:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,408 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:03:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,411 - DEBUG - Stop quantity 1
2018-01-19 12:03:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,411 - DEBUG - Direction is Long
2018-01-19 12:03:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,414 - DEBUG - Count is 0
2018-01-19 12:03:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:03:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:03:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:03:09,417 - DEBUG - Max ID Order is (114,)
2018-01-19 12:03:09,417 - DEBUG - Today is 2018-01-19
2018-01-19 12:03:09,417 - DEBUG - Day of the week 4
2018-01-19 12:03:09,417 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:03:09,417 - DEBUG - In Position is  0
2018-01-19 12:03:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:03:09,418 - DEBUG - curStopLossFlag is  0
2018-01-19 12:03:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:03:09,418 - DEBUG - Checking if Entry has been filled
2018-01-19 12:03:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:03:09,421 - DEBUG - EntryPend is 1
2018-01-19 12:03:09,421 - DEBUG - Try to Cancel Stop
2018-01-19 12:03:09,421 - DEBUG - Stop API ID 0
2018-01-19 12:03:09,421 - DEBUG - Profit API ID 0
2018-01-19 12:03:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:03:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:03:09,421 - DEBUG - Pos is 0
2018-01-19 12:03:09,423 - DEBUG - CurCount is 0
2018-01-19 12:03:09,423 - DEBUG - In Pos 0
2018-01-19 12:03:09,423 - DEBUG - Stop ID is 0
2018-01-19 12:03:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:03:09,424 - DEBUG - EntryPend is 1
2018-01-19 12:03:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:03:09,424 - DEBUG - Entry Date is 10
2018-01-19 12:03:09,424 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:03:09,424 - DEBUG - Order Profit ID is 0
2018-01-19 12:03:09,426 - DEBUG - Order Entry ID is 113
2018-01-19 12:03:09,426 - DEBUG - API ID is  0
2018-01-19 12:03:09,426 - DEBUG - Current Position is 0
2018-01-19 12:03:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:03:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:03:09,427 - DEBUG - Time is 12
2018-01-19 12:03:09,427 - DEBUG - Time is <class 'int'>
2018-01-19 12:03:09,427 - DEBUG - Time is 3
2018-01-19 12:03:09,427 - DEBUG - Time is <class 'int'>
2018-01-19 12:03:09,427 - DEBUG - Disconnected from IBController
2018-01-19 12:03:09,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:08:05,392 - DEBUG - ****************************************************
2018-01-19 12:08:05,392 - DEBUG - Current Time is 12:08PM
2018-01-19 12:08:05,394 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:08:05,394 - DEBUG - Connecting to database
2018-01-19 12:08:05,411 - DEBUG - Connected to database
2018-01-19 12:08:05,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:05,411 - DEBUG - Order Profit is 0
2018-01-19 12:08:05,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:05,414 - DEBUG - Stop ID is 0
2018-01-19 12:08:05,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:05,415 - DEBUG - Entry ID is 113
2018-01-19 12:08:05,415 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:08:05,417 - DEBUG - OCA ID is 1
2018-01-19 12:08:05,417 - DEBUG - Connecting to IBController
2018-01-19 12:08:06,421 - DEBUG - Connected to IBController
2018-01-19 12:08:06,421 - DEBUG - Position requested
2018-01-19 12:08:06,424 - DEBUG - Pos Mgmt 0
2018-01-19 12:08:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CA58>, pos=0, avgCost=0.0>
2018-01-19 12:08:06,424 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:08:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:08:06,426 - DEBUG - Position is 0
2018-01-19 12:08:06,426 - DEBUG - Pos Mgmt -12987
2018-01-19 12:08:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:08:06,427 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:08:06,427 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:08:06,427 - DEBUG - Position is -12987
2018-01-19 12:08:06,427 - DEBUG - Pos Mgmt 1
2018-01-19 12:08:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CD68>, pos=1, avgCost=48882.9>
2018-01-19 12:08:06,427 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:08:06,427 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:08:06,428 - DEBUG - Position is 1
2018-01-19 12:08:07,424 - DEBUG - Open Orders requested
2018-01-19 12:08:09,424 - DEBUG - Connecting to database
2018-01-19 12:08:09,430 - DEBUG - Connected to database
2018-01-19 12:08:09,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,433 - DEBUG - Stop loss value is 72.10
2018-01-19 12:08:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,434 - DEBUG - Stop loss value is 84.35
2018-01-19 12:08:09,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,436 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:08:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,437 - DEBUG - Stop quantity 1
2018-01-19 12:08:09,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,438 - DEBUG - Direction is Long
2018-01-19 12:08:09,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,440 - DEBUG - Count is 0
2018-01-19 12:08:09,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:08:09,443 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:08:09,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:08:09,444 - DEBUG - Max ID Order is (114,)
2018-01-19 12:08:09,444 - DEBUG - Today is 2018-01-19
2018-01-19 12:08:09,444 - DEBUG - Day of the week 4
2018-01-19 12:08:09,444 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:08:09,446 - DEBUG - In Position is  0
2018-01-19 12:08:09,446 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:08:09,446 - DEBUG - curStopLossFlag is  0
2018-01-19 12:08:09,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:08:09,447 - DEBUG - Checking if Entry has been filled
2018-01-19 12:08:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:08:09,447 - DEBUG - EntryPend is 1
2018-01-19 12:08:09,448 - DEBUG - Try to Cancel Stop
2018-01-19 12:08:09,448 - DEBUG - Stop API ID 0
2018-01-19 12:08:09,448 - DEBUG - Profit API ID 0
2018-01-19 12:08:09,448 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:08:09,448 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:08:09,450 - DEBUG - Pos is 0
2018-01-19 12:08:09,450 - DEBUG - CurCount is 0
2018-01-19 12:08:09,450 - DEBUG - In Pos 0
2018-01-19 12:08:09,450 - DEBUG - Stop ID is 0
2018-01-19 12:08:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:08:09,451 - DEBUG - EntryPend is 1
2018-01-19 12:08:09,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:08:09,451 - DEBUG - Entry Date is 10
2018-01-19 12:08:09,451 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:08:09,453 - DEBUG - Order Profit ID is 0
2018-01-19 12:08:09,453 - DEBUG - Order Entry ID is 113
2018-01-19 12:08:09,453 - DEBUG - API ID is  0
2018-01-19 12:08:09,453 - DEBUG - Current Position is 0
2018-01-19 12:08:09,453 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:08:09,453 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:08:09,453 - DEBUG - Time is 12
2018-01-19 12:08:09,453 - DEBUG - Time is <class 'int'>
2018-01-19 12:08:09,453 - DEBUG - Time is 8
2018-01-19 12:08:09,454 - DEBUG - Time is <class 'int'>
2018-01-19 12:08:09,454 - DEBUG - Disconnected from IBController
2018-01-19 12:08:09,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:13:05,338 - DEBUG - ****************************************************
2018-01-19 12:13:05,338 - DEBUG - Current Time is 12:13PM
2018-01-19 12:13:05,338 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:13:05,339 - DEBUG - Connecting to database
2018-01-19 12:13:05,375 - DEBUG - Connected to database
2018-01-19 12:13:05,375 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:05,377 - DEBUG - Order Profit is 0
2018-01-19 12:13:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:05,378 - DEBUG - Stop ID is 0
2018-01-19 12:13:05,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:05,381 - DEBUG - Entry ID is 113
2018-01-19 12:13:05,381 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:13:05,381 - DEBUG - OCA ID is 1
2018-01-19 12:13:05,382 - DEBUG - Connecting to IBController
2018-01-19 12:13:06,385 - DEBUG - Connected to IBController
2018-01-19 12:13:06,385 - DEBUG - Position requested
2018-01-19 12:13:06,388 - DEBUG - Pos Mgmt 0
2018-01-19 12:13:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDB00>, pos=0, avgCost=0.0>
2018-01-19 12:13:06,388 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:13:06,388 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:13:06,388 - DEBUG - Position is 0
2018-01-19 12:13:06,388 - DEBUG - Pos Mgmt -12987
2018-01-19 12:13:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:13:06,390 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:13:06,390 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:13:06,390 - DEBUG - Position is -12987
2018-01-19 12:13:06,390 - DEBUG - Pos Mgmt 1
2018-01-19 12:13:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDE10>, pos=1, avgCost=48882.9>
2018-01-19 12:13:06,391 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:13:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:13:06,391 - DEBUG - Position is 1
2018-01-19 12:13:07,387 - DEBUG - Open Orders requested
2018-01-19 12:13:09,388 - DEBUG - Connecting to database
2018-01-19 12:13:09,394 - DEBUG - Connected to database
2018-01-19 12:13:09,395 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,395 - DEBUG - Stop loss value is 72.10
2018-01-19 12:13:09,398 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,398 - DEBUG - Stop loss value is 84.35
2018-01-19 12:13:09,398 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,400 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:13:09,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,401 - DEBUG - Stop quantity 1
2018-01-19 12:13:09,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,403 - DEBUG - Direction is Long
2018-01-19 12:13:09,404 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,404 - DEBUG - Count is 0
2018-01-19 12:13:09,405 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:13:09,405 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:13:09,407 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:13:09,407 - DEBUG - Max ID Order is (114,)
2018-01-19 12:13:09,407 - DEBUG - Today is 2018-01-19
2018-01-19 12:13:09,408 - DEBUG - Day of the week 4
2018-01-19 12:13:09,408 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:13:09,408 - DEBUG - In Position is  0
2018-01-19 12:13:09,408 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:13:09,410 - DEBUG - curStopLossFlag is  0
2018-01-19 12:13:09,410 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:13:09,410 - DEBUG - Checking if Entry has been filled
2018-01-19 12:13:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:13:09,411 - DEBUG - EntryPend is 1
2018-01-19 12:13:09,411 - DEBUG - Try to Cancel Stop
2018-01-19 12:13:09,411 - DEBUG - Stop API ID 0
2018-01-19 12:13:09,413 - DEBUG - Profit API ID 0
2018-01-19 12:13:09,413 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:13:09,413 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:13:09,413 - DEBUG - Pos is 0
2018-01-19 12:13:09,413 - DEBUG - CurCount is 0
2018-01-19 12:13:09,414 - DEBUG - In Pos 0
2018-01-19 12:13:09,414 - DEBUG - Stop ID is 0
2018-01-19 12:13:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:13:09,414 - DEBUG - EntryPend is 1
2018-01-19 12:13:09,415 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:13:09,415 - DEBUG - Entry Date is 10
2018-01-19 12:13:09,415 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:13:09,415 - DEBUG - Order Profit ID is 0
2018-01-19 12:13:09,415 - DEBUG - Order Entry ID is 113
2018-01-19 12:13:09,417 - DEBUG - API ID is  0
2018-01-19 12:13:09,417 - DEBUG - Current Position is 0
2018-01-19 12:13:09,417 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:13:09,417 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:13:09,417 - DEBUG - Time is 12
2018-01-19 12:13:09,417 - DEBUG - Time is <class 'int'>
2018-01-19 12:13:09,417 - DEBUG - Time is 13
2018-01-19 12:13:09,417 - DEBUG - Time is <class 'int'>
2018-01-19 12:13:09,417 - DEBUG - Disconnected from IBController
2018-01-19 12:13:09,418 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:18:05,361 - DEBUG - ****************************************************
2018-01-19 12:18:05,362 - DEBUG - Current Time is 12:18PM
2018-01-19 12:18:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:18:05,362 - DEBUG - Connecting to database
2018-01-19 12:18:05,431 - DEBUG - Connected to database
2018-01-19 12:18:05,431 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:05,434 - DEBUG - Order Profit is 0
2018-01-19 12:18:05,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:05,436 - DEBUG - Stop ID is 0
2018-01-19 12:18:05,436 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:05,437 - DEBUG - Entry ID is 113
2018-01-19 12:18:05,437 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:18:05,438 - DEBUG - OCA ID is 1
2018-01-19 12:18:05,438 - DEBUG - Connecting to IBController
2018-01-19 12:18:06,441 - DEBUG - Connected to IBController
2018-01-19 12:18:06,441 - DEBUG - Position requested
2018-01-19 12:18:06,443 - DEBUG - Pos Mgmt 0
2018-01-19 12:18:06,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216CA58>, pos=0, avgCost=0.0>
2018-01-19 12:18:06,444 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:18:06,444 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:18:06,444 - DEBUG - Position is 0
2018-01-19 12:18:06,444 - DEBUG - Pos Mgmt -12987
2018-01-19 12:18:06,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:18:06,446 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:18:06,446 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:18:06,446 - DEBUG - Position is -12987
2018-01-19 12:18:06,447 - DEBUG - Pos Mgmt 1
2018-01-19 12:18:06,447 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216CD68>, pos=1, avgCost=48882.9>
2018-01-19 12:18:06,447 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:18:06,447 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:18:06,447 - DEBUG - Position is 1
2018-01-19 12:18:07,443 - DEBUG - Open Orders requested
2018-01-19 12:18:09,444 - DEBUG - Connecting to database
2018-01-19 12:18:09,450 - DEBUG - Connected to database
2018-01-19 12:18:09,451 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,453 - DEBUG - Stop loss value is 72.10
2018-01-19 12:18:09,453 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,453 - DEBUG - Stop loss value is 84.35
2018-01-19 12:18:09,456 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,456 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:18:09,457 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,457 - DEBUG - Stop quantity 1
2018-01-19 12:18:09,459 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,459 - DEBUG - Direction is Long
2018-01-19 12:18:09,460 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,460 - DEBUG - Count is 0
2018-01-19 12:18:09,461 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:18:09,463 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:18:09,463 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:18:09,463 - DEBUG - Max ID Order is (114,)
2018-01-19 12:18:09,464 - DEBUG - Today is 2018-01-19
2018-01-19 12:18:09,464 - DEBUG - Day of the week 4
2018-01-19 12:18:09,464 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:18:09,466 - DEBUG - In Position is  0
2018-01-19 12:18:09,466 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:18:09,466 - DEBUG - curStopLossFlag is  0
2018-01-19 12:18:09,466 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:18:09,467 - DEBUG - Checking if Entry has been filled
2018-01-19 12:18:09,467 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:18:09,467 - DEBUG - EntryPend is 1
2018-01-19 12:18:09,467 - DEBUG - Try to Cancel Stop
2018-01-19 12:18:09,469 - DEBUG - Stop API ID 0
2018-01-19 12:18:09,469 - DEBUG - Profit API ID 0
2018-01-19 12:18:09,469 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:18:09,469 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:18:09,470 - DEBUG - Pos is 0
2018-01-19 12:18:09,470 - DEBUG - CurCount is 0
2018-01-19 12:18:09,470 - DEBUG - In Pos 0
2018-01-19 12:18:09,470 - DEBUG - Stop ID is 0
2018-01-19 12:18:09,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:18:09,471 - DEBUG - EntryPend is 1
2018-01-19 12:18:09,471 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:18:09,471 - DEBUG - Entry Date is 10
2018-01-19 12:18:09,471 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:18:09,473 - DEBUG - Order Profit ID is 0
2018-01-19 12:18:09,473 - DEBUG - Order Entry ID is 113
2018-01-19 12:18:09,473 - DEBUG - API ID is  0
2018-01-19 12:18:09,473 - DEBUG - Current Position is 0
2018-01-19 12:18:09,473 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:18:09,473 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:18:09,473 - DEBUG - Time is 12
2018-01-19 12:18:09,473 - DEBUG - Time is <class 'int'>
2018-01-19 12:18:09,473 - DEBUG - Time is 18
2018-01-19 12:18:09,473 - DEBUG - Time is <class 'int'>
2018-01-19 12:18:09,474 - DEBUG - Disconnected from IBController
2018-01-19 12:18:09,476 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:23:05,381 - DEBUG - ****************************************************
2018-01-19 12:23:05,381 - DEBUG - Current Time is 12:23PM
2018-01-19 12:23:05,382 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:23:05,382 - DEBUG - Connecting to database
2018-01-19 12:23:05,410 - DEBUG - Connected to database
2018-01-19 12:23:05,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:05,411 - DEBUG - Order Profit is 0
2018-01-19 12:23:05,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:05,414 - DEBUG - Stop ID is 0
2018-01-19 12:23:05,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:05,415 - DEBUG - Entry ID is 113
2018-01-19 12:23:05,415 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:23:05,417 - DEBUG - OCA ID is 1
2018-01-19 12:23:05,417 - DEBUG - Connecting to IBController
2018-01-19 12:23:06,421 - DEBUG - Connected to IBController
2018-01-19 12:23:06,421 - DEBUG - Position requested
2018-01-19 12:23:06,424 - DEBUG - Pos Mgmt 0
2018-01-19 12:23:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DB00>, pos=0, avgCost=0.0>
2018-01-19 12:23:06,426 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:23:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:23:06,427 - DEBUG - Position is 0
2018-01-19 12:23:06,427 - DEBUG - Pos Mgmt -12987
2018-01-19 12:23:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:23:06,427 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:23:06,427 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:23:06,427 - DEBUG - Position is -12987
2018-01-19 12:23:06,427 - DEBUG - Pos Mgmt 1
2018-01-19 12:23:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DE10>, pos=1, avgCost=48882.9>
2018-01-19 12:23:06,428 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:23:06,428 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:23:06,428 - DEBUG - Position is 1
2018-01-19 12:23:07,423 - DEBUG - Open Orders requested
2018-01-19 12:23:09,424 - DEBUG - Connecting to database
2018-01-19 12:23:09,430 - DEBUG - Connected to database
2018-01-19 12:23:09,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,431 - DEBUG - Stop loss value is 72.10
2018-01-19 12:23:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,434 - DEBUG - Stop loss value is 84.35
2018-01-19 12:23:09,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,436 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:23:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,437 - DEBUG - Stop quantity 1
2018-01-19 12:23:09,437 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,438 - DEBUG - Direction is Long
2018-01-19 12:23:09,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,440 - DEBUG - Count is 0
2018-01-19 12:23:09,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:23:09,441 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:23:09,443 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:23:09,444 - DEBUG - Max ID Order is (114,)
2018-01-19 12:23:09,444 - DEBUG - Today is 2018-01-19
2018-01-19 12:23:09,444 - DEBUG - Day of the week 4
2018-01-19 12:23:09,444 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:23:09,444 - DEBUG - In Position is  0
2018-01-19 12:23:09,444 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:23:09,446 - DEBUG - curStopLossFlag is  0
2018-01-19 12:23:09,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:23:09,446 - DEBUG - Checking if Entry has been filled
2018-01-19 12:23:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:23:09,447 - DEBUG - EntryPend is 1
2018-01-19 12:23:09,447 - DEBUG - Try to Cancel Stop
2018-01-19 12:23:09,447 - DEBUG - Stop API ID 0
2018-01-19 12:23:09,447 - DEBUG - Profit API ID 0
2018-01-19 12:23:09,448 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:23:09,448 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:23:09,448 - DEBUG - Pos is 0
2018-01-19 12:23:09,448 - DEBUG - CurCount is 0
2018-01-19 12:23:09,450 - DEBUG - In Pos 0
2018-01-19 12:23:09,450 - DEBUG - Stop ID is 0
2018-01-19 12:23:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:23:09,450 - DEBUG - EntryPend is 1
2018-01-19 12:23:09,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:23:09,451 - DEBUG - Entry Date is 10
2018-01-19 12:23:09,451 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:23:09,451 - DEBUG - Order Profit ID is 0
2018-01-19 12:23:09,453 - DEBUG - Order Entry ID is 113
2018-01-19 12:23:09,453 - DEBUG - API ID is  0
2018-01-19 12:23:09,453 - DEBUG - Current Position is 0
2018-01-19 12:23:09,453 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:23:09,453 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:23:09,453 - DEBUG - Time is 12
2018-01-19 12:23:09,453 - DEBUG - Time is <class 'int'>
2018-01-19 12:23:09,453 - DEBUG - Time is 23
2018-01-19 12:23:09,453 - DEBUG - Time is <class 'int'>
2018-01-19 12:23:09,454 - DEBUG - Disconnected from IBController
2018-01-19 12:23:09,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:28:05,351 - DEBUG - ****************************************************
2018-01-19 12:28:05,351 - DEBUG - Current Time is 12:28PM
2018-01-19 12:28:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:28:05,352 - DEBUG - Connecting to database
2018-01-19 12:28:05,384 - DEBUG - Connected to database
2018-01-19 12:28:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:05,387 - DEBUG - Order Profit is 0
2018-01-19 12:28:05,387 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:05,388 - DEBUG - Stop ID is 0
2018-01-19 12:28:05,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:05,390 - DEBUG - Entry ID is 113
2018-01-19 12:28:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:28:05,391 - DEBUG - OCA ID is 1
2018-01-19 12:28:05,391 - DEBUG - Connecting to IBController
2018-01-19 12:28:06,395 - DEBUG - Connected to IBController
2018-01-19 12:28:06,395 - DEBUG - Position requested
2018-01-19 12:28:06,398 - DEBUG - Pos Mgmt 0
2018-01-19 12:28:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DB00>, pos=0, avgCost=0.0>
2018-01-19 12:28:06,401 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:28:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:28:06,401 - DEBUG - Position is 0
2018-01-19 12:28:06,401 - DEBUG - Pos Mgmt -12987
2018-01-19 12:28:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:28:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:28:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:28:06,403 - DEBUG - Position is -12987
2018-01-19 12:28:06,404 - DEBUG - Pos Mgmt 1
2018-01-19 12:28:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=1, avgCost=48882.9>
2018-01-19 12:28:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:28:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:28:06,404 - DEBUG - Position is 1
2018-01-19 12:28:07,398 - DEBUG - Open Orders requested
2018-01-19 12:28:09,398 - DEBUG - Connecting to database
2018-01-19 12:28:09,405 - DEBUG - Connected to database
2018-01-19 12:28:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,407 - DEBUG - Stop loss value is 72.10
2018-01-19 12:28:09,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,408 - DEBUG - Stop loss value is 84.35
2018-01-19 12:28:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,411 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:28:09,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,413 - DEBUG - Stop quantity 1
2018-01-19 12:28:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,414 - DEBUG - Direction is Long
2018-01-19 12:28:09,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,415 - DEBUG - Count is 0
2018-01-19 12:28:09,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:28:09,417 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:28:09,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:28:09,418 - DEBUG - Max ID Order is (114,)
2018-01-19 12:28:09,420 - DEBUG - Today is 2018-01-19
2018-01-19 12:28:09,420 - DEBUG - Day of the week 4
2018-01-19 12:28:09,420 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:28:09,421 - DEBUG - In Position is  0
2018-01-19 12:28:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:28:09,421 - DEBUG - curStopLossFlag is  0
2018-01-19 12:28:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:28:09,421 - DEBUG - Checking if Entry has been filled
2018-01-19 12:28:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:28:09,423 - DEBUG - EntryPend is 1
2018-01-19 12:28:09,424 - DEBUG - Try to Cancel Stop
2018-01-19 12:28:09,424 - DEBUG - Stop API ID 0
2018-01-19 12:28:09,424 - DEBUG - Profit API ID 0
2018-01-19 12:28:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:28:09,424 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:28:09,424 - DEBUG - Pos is 0
2018-01-19 12:28:09,424 - DEBUG - CurCount is 0
2018-01-19 12:28:09,424 - DEBUG - In Pos 0
2018-01-19 12:28:09,424 - DEBUG - Stop ID is 0
2018-01-19 12:28:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:28:09,427 - DEBUG - EntryPend is 1
2018-01-19 12:28:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:28:09,427 - DEBUG - Entry Date is 10
2018-01-19 12:28:09,427 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:28:09,427 - DEBUG - Order Profit ID is 0
2018-01-19 12:28:09,427 - DEBUG - Order Entry ID is 113
2018-01-19 12:28:09,427 - DEBUG - API ID is  0
2018-01-19 12:28:09,428 - DEBUG - Current Position is 0
2018-01-19 12:28:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:28:09,428 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:28:09,428 - DEBUG - Time is 12
2018-01-19 12:28:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 12:28:09,430 - DEBUG - Time is 28
2018-01-19 12:28:09,430 - DEBUG - Time is <class 'int'>
2018-01-19 12:28:09,430 - DEBUG - Disconnected from IBController
2018-01-19 12:28:09,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:33:05,378 - DEBUG - ****************************************************
2018-01-19 12:33:05,378 - DEBUG - Current Time is 12:33PM
2018-01-19 12:33:05,378 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:33:05,378 - DEBUG - Connecting to database
2018-01-19 12:33:05,397 - DEBUG - Connected to database
2018-01-19 12:33:05,397 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:05,398 - DEBUG - Order Profit is 0
2018-01-19 12:33:05,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:05,400 - DEBUG - Stop ID is 0
2018-01-19 12:33:05,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:05,401 - DEBUG - Entry ID is 113
2018-01-19 12:33:05,401 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:33:05,404 - DEBUG - OCA ID is 1
2018-01-19 12:33:05,404 - DEBUG - Connecting to IBController
2018-01-19 12:33:06,407 - DEBUG - Connected to IBController
2018-01-19 12:33:06,407 - DEBUG - Position requested
2018-01-19 12:33:06,408 - DEBUG - Pos Mgmt 0
2018-01-19 12:33:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CB00>, pos=0, avgCost=0.0>
2018-01-19 12:33:06,410 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:33:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:33:06,411 - DEBUG - Position is 0
2018-01-19 12:33:06,411 - DEBUG - Pos Mgmt -12987
2018-01-19 12:33:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:33:06,411 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:33:06,411 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:33:06,411 - DEBUG - Position is -12987
2018-01-19 12:33:06,413 - DEBUG - Pos Mgmt 1
2018-01-19 12:33:06,413 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CE10>, pos=1, avgCost=48882.9>
2018-01-19 12:33:06,413 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:33:06,413 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:33:06,414 - DEBUG - Position is 1
2018-01-19 12:33:07,408 - DEBUG - Open Orders requested
2018-01-19 12:33:09,408 - DEBUG - Connecting to database
2018-01-19 12:33:09,415 - DEBUG - Connected to database
2018-01-19 12:33:09,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,417 - DEBUG - Stop loss value is 72.10
2018-01-19 12:33:09,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,420 - DEBUG - Stop loss value is 84.35
2018-01-19 12:33:09,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,421 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:33:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,423 - DEBUG - Stop quantity 1
2018-01-19 12:33:09,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,424 - DEBUG - Direction is Long
2018-01-19 12:33:09,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,426 - DEBUG - Count is 0
2018-01-19 12:33:09,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:33:09,427 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:33:09,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:33:09,428 - DEBUG - Max ID Order is (114,)
2018-01-19 12:33:09,430 - DEBUG - Today is 2018-01-19
2018-01-19 12:33:09,430 - DEBUG - Day of the week 4
2018-01-19 12:33:09,430 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:33:09,430 - DEBUG - In Position is  0
2018-01-19 12:33:09,430 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:33:09,430 - DEBUG - curStopLossFlag is  0
2018-01-19 12:33:09,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:33:09,431 - DEBUG - Checking if Entry has been filled
2018-01-19 12:33:09,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:33:09,433 - DEBUG - EntryPend is 1
2018-01-19 12:33:09,433 - DEBUG - Try to Cancel Stop
2018-01-19 12:33:09,434 - DEBUG - Stop API ID 0
2018-01-19 12:33:09,434 - DEBUG - Profit API ID 0
2018-01-19 12:33:09,434 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:33:09,434 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:33:09,434 - DEBUG - Pos is 0
2018-01-19 12:33:09,434 - DEBUG - CurCount is 0
2018-01-19 12:33:09,434 - DEBUG - In Pos 0
2018-01-19 12:33:09,434 - DEBUG - Stop ID is 0
2018-01-19 12:33:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:33:09,437 - DEBUG - EntryPend is 1
2018-01-19 12:33:09,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:33:09,437 - DEBUG - Entry Date is 10
2018-01-19 12:33:09,437 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:33:09,437 - DEBUG - Order Profit ID is 0
2018-01-19 12:33:09,437 - DEBUG - Order Entry ID is 113
2018-01-19 12:33:09,437 - DEBUG - API ID is  0
2018-01-19 12:33:09,437 - DEBUG - Current Position is 0
2018-01-19 12:33:09,437 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:33:09,438 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:33:09,438 - DEBUG - Time is 12
2018-01-19 12:33:09,438 - DEBUG - Time is <class 'int'>
2018-01-19 12:33:09,438 - DEBUG - Time is 33
2018-01-19 12:33:09,440 - DEBUG - Time is <class 'int'>
2018-01-19 12:33:09,440 - DEBUG - Disconnected from IBController
2018-01-19 12:33:09,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:38:05,411 - DEBUG - ****************************************************
2018-01-19 12:38:05,413 - DEBUG - Current Time is 12:38PM
2018-01-19 12:38:05,413 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:38:05,413 - DEBUG - Connecting to database
2018-01-19 12:38:05,444 - DEBUG - Connected to database
2018-01-19 12:38:05,444 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:05,447 - DEBUG - Order Profit is 0
2018-01-19 12:38:05,447 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:05,448 - DEBUG - Stop ID is 0
2018-01-19 12:38:05,448 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:05,450 - DEBUG - Entry ID is 113
2018-01-19 12:38:05,450 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:38:05,451 - DEBUG - OCA ID is 1
2018-01-19 12:38:05,451 - DEBUG - Connecting to IBController
2018-01-19 12:38:06,454 - DEBUG - Connected to IBController
2018-01-19 12:38:06,454 - DEBUG - Position requested
2018-01-19 12:38:06,456 - DEBUG - Pos Mgmt 0
2018-01-19 12:38:06,457 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CA58>, pos=0, avgCost=0.0>
2018-01-19 12:38:06,457 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:38:06,457 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:38:06,457 - DEBUG - Position is 0
2018-01-19 12:38:06,457 - DEBUG - Pos Mgmt -12987
2018-01-19 12:38:06,457 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:38:06,457 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:38:06,459 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:38:06,459 - DEBUG - Position is -12987
2018-01-19 12:38:06,459 - DEBUG - Pos Mgmt 1
2018-01-19 12:38:06,459 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CD68>, pos=1, avgCost=48882.9>
2018-01-19 12:38:06,460 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:38:06,460 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:38:06,460 - DEBUG - Position is 1
2018-01-19 12:38:07,456 - DEBUG - Open Orders requested
2018-01-19 12:38:09,457 - DEBUG - Connecting to database
2018-01-19 12:38:09,463 - DEBUG - Connected to database
2018-01-19 12:38:09,466 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,466 - DEBUG - Stop loss value is 72.10
2018-01-19 12:38:09,467 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,467 - DEBUG - Stop loss value is 84.35
2018-01-19 12:38:09,469 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,469 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:38:09,470 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,470 - DEBUG - Stop quantity 1
2018-01-19 12:38:09,471 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,473 - DEBUG - Direction is Long
2018-01-19 12:38:09,473 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,473 - DEBUG - Count is 0
2018-01-19 12:38:09,476 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:38:09,476 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:38:09,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:38:09,476 - DEBUG - Max ID Order is (114,)
2018-01-19 12:38:09,477 - DEBUG - Today is 2018-01-19
2018-01-19 12:38:09,477 - DEBUG - Day of the week 4
2018-01-19 12:38:09,477 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:38:09,479 - DEBUG - In Position is  0
2018-01-19 12:38:09,479 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:38:09,479 - DEBUG - curStopLossFlag is  0
2018-01-19 12:38:09,480 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:38:09,480 - DEBUG - Checking if Entry has been filled
2018-01-19 12:38:09,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:38:09,480 - DEBUG - EntryPend is 1
2018-01-19 12:38:09,482 - DEBUG - Try to Cancel Stop
2018-01-19 12:38:09,482 - DEBUG - Stop API ID 0
2018-01-19 12:38:09,482 - DEBUG - Profit API ID 0
2018-01-19 12:38:09,482 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:38:09,483 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:38:09,483 - DEBUG - Pos is 0
2018-01-19 12:38:09,483 - DEBUG - CurCount is 0
2018-01-19 12:38:09,483 - DEBUG - In Pos 0
2018-01-19 12:38:09,483 - DEBUG - Stop ID is 0
2018-01-19 12:38:09,483 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:38:09,484 - DEBUG - EntryPend is 1
2018-01-19 12:38:09,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:38:09,484 - DEBUG - Entry Date is 10
2018-01-19 12:38:09,486 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:38:09,486 - DEBUG - Order Profit ID is 0
2018-01-19 12:38:09,486 - DEBUG - Order Entry ID is 113
2018-01-19 12:38:09,486 - DEBUG - API ID is  0
2018-01-19 12:38:09,486 - DEBUG - Current Position is 0
2018-01-19 12:38:09,486 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:38:09,486 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:38:09,486 - DEBUG - Time is 12
2018-01-19 12:38:09,486 - DEBUG - Time is <class 'int'>
2018-01-19 12:38:09,487 - DEBUG - Time is 38
2018-01-19 12:38:09,487 - DEBUG - Time is <class 'int'>
2018-01-19 12:38:09,487 - DEBUG - Disconnected from IBController
2018-01-19 12:38:09,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:43:05,391 - DEBUG - ****************************************************
2018-01-19 12:43:05,391 - DEBUG - Current Time is 12:43PM
2018-01-19 12:43:05,391 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:43:05,391 - DEBUG - Connecting to database
2018-01-19 12:43:05,424 - DEBUG - Connected to database
2018-01-19 12:43:05,426 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:05,427 - DEBUG - Order Profit is 0
2018-01-19 12:43:05,427 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:05,428 - DEBUG - Stop ID is 0
2018-01-19 12:43:05,428 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:05,430 - DEBUG - Entry ID is 113
2018-01-19 12:43:05,430 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:43:05,431 - DEBUG - OCA ID is 1
2018-01-19 12:43:05,433 - DEBUG - Connecting to IBController
2018-01-19 12:43:06,436 - DEBUG - Connected to IBController
2018-01-19 12:43:06,436 - DEBUG - Position requested
2018-01-19 12:43:06,437 - DEBUG - Pos Mgmt 0
2018-01-19 12:43:06,437 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DB00>, pos=0, avgCost=0.0>
2018-01-19 12:43:06,437 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:43:06,437 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:43:06,438 - DEBUG - Position is 0
2018-01-19 12:43:06,438 - DEBUG - Pos Mgmt -12987
2018-01-19 12:43:06,438 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:43:06,440 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:43:06,440 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:43:06,440 - DEBUG - Position is -12987
2018-01-19 12:43:06,440 - DEBUG - Pos Mgmt 1
2018-01-19 12:43:06,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=1, avgCost=48882.9>
2018-01-19 12:43:06,440 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:43:06,440 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:43:06,441 - DEBUG - Position is 1
2018-01-19 12:43:07,437 - DEBUG - Open Orders requested
2018-01-19 12:43:09,437 - DEBUG - Connecting to database
2018-01-19 12:43:09,444 - DEBUG - Connected to database
2018-01-19 12:43:09,446 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,447 - DEBUG - Stop loss value is 72.10
2018-01-19 12:43:09,447 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,447 - DEBUG - Stop loss value is 84.35
2018-01-19 12:43:09,450 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,450 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:43:09,450 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,451 - DEBUG - Stop quantity 1
2018-01-19 12:43:09,453 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,453 - DEBUG - Direction is Long
2018-01-19 12:43:09,454 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,454 - DEBUG - Count is 0
2018-01-19 12:43:09,456 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:43:09,457 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:43:09,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:43:09,457 - DEBUG - Max ID Order is (114,)
2018-01-19 12:43:09,459 - DEBUG - Today is 2018-01-19
2018-01-19 12:43:09,459 - DEBUG - Day of the week 4
2018-01-19 12:43:09,459 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:43:09,460 - DEBUG - In Position is  0
2018-01-19 12:43:09,460 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:43:09,460 - DEBUG - curStopLossFlag is  0
2018-01-19 12:43:09,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:43:09,460 - DEBUG - Checking if Entry has been filled
2018-01-19 12:43:09,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:43:09,461 - DEBUG - EntryPend is 1
2018-01-19 12:43:09,461 - DEBUG - Try to Cancel Stop
2018-01-19 12:43:09,463 - DEBUG - Stop API ID 0
2018-01-19 12:43:09,463 - DEBUG - Profit API ID 0
2018-01-19 12:43:09,463 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:43:09,463 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:43:09,463 - DEBUG - Pos is 0
2018-01-19 12:43:09,463 - DEBUG - CurCount is 0
2018-01-19 12:43:09,463 - DEBUG - In Pos 0
2018-01-19 12:43:09,463 - DEBUG - Stop ID is 0
2018-01-19 12:43:09,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:43:09,466 - DEBUG - EntryPend is 1
2018-01-19 12:43:09,466 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:43:09,466 - DEBUG - Entry Date is 10
2018-01-19 12:43:09,466 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:43:09,467 - DEBUG - Order Profit ID is 0
2018-01-19 12:43:09,467 - DEBUG - Order Entry ID is 113
2018-01-19 12:43:09,467 - DEBUG - API ID is  0
2018-01-19 12:43:09,467 - DEBUG - Current Position is 0
2018-01-19 12:43:09,467 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:43:09,467 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:43:09,467 - DEBUG - Time is 12
2018-01-19 12:43:09,467 - DEBUG - Time is <class 'int'>
2018-01-19 12:43:09,467 - DEBUG - Time is 43
2018-01-19 12:43:09,469 - DEBUG - Time is <class 'int'>
2018-01-19 12:43:09,469 - DEBUG - Disconnected from IBController
2018-01-19 12:43:09,469 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:48:05,394 - DEBUG - ****************************************************
2018-01-19 12:48:05,394 - DEBUG - Current Time is 12:48PM
2018-01-19 12:48:05,395 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:48:05,395 - DEBUG - Connecting to database
2018-01-19 12:48:05,450 - DEBUG - Connected to database
2018-01-19 12:48:05,450 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:05,451 - DEBUG - Order Profit is 0
2018-01-19 12:48:05,451 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:05,453 - DEBUG - Stop ID is 0
2018-01-19 12:48:05,453 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:05,454 - DEBUG - Entry ID is 113
2018-01-19 12:48:05,454 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:48:05,457 - DEBUG - OCA ID is 1
2018-01-19 12:48:05,457 - DEBUG - Connecting to IBController
2018-01-19 12:48:06,460 - DEBUG - Connected to IBController
2018-01-19 12:48:06,460 - DEBUG - Position requested
2018-01-19 12:48:06,460 - DEBUG - Pos Mgmt 0
2018-01-19 12:48:06,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DB00>, pos=0, avgCost=0.0>
2018-01-19 12:48:06,461 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:48:06,461 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:48:06,463 - DEBUG - Position is 0
2018-01-19 12:48:06,463 - DEBUG - Pos Mgmt -12987
2018-01-19 12:48:06,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:48:06,463 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:48:06,463 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:48:06,463 - DEBUG - Position is -12987
2018-01-19 12:48:06,463 - DEBUG - Pos Mgmt 1
2018-01-19 12:48:06,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DE10>, pos=1, avgCost=48882.9>
2018-01-19 12:48:06,464 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:48:06,464 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:48:06,464 - DEBUG - Position is 1
2018-01-19 12:48:07,460 - DEBUG - Open Orders requested
2018-01-19 12:48:09,461 - DEBUG - Connecting to database
2018-01-19 12:48:09,469 - DEBUG - Connected to database
2018-01-19 12:48:09,470 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,470 - DEBUG - Stop loss value is 72.10
2018-01-19 12:48:09,471 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,473 - DEBUG - Stop loss value is 84.35
2018-01-19 12:48:09,473 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,473 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:48:09,474 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,476 - DEBUG - Stop quantity 1
2018-01-19 12:48:09,476 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,476 - DEBUG - Direction is Long
2018-01-19 12:48:09,479 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,479 - DEBUG - Count is 0
2018-01-19 12:48:09,480 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:48:09,480 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:48:09,482 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:48:09,482 - DEBUG - Max ID Order is (114,)
2018-01-19 12:48:09,483 - DEBUG - Today is 2018-01-19
2018-01-19 12:48:09,483 - DEBUG - Day of the week 4
2018-01-19 12:48:09,483 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:48:09,483 - DEBUG - In Position is  0
2018-01-19 12:48:09,483 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:48:09,483 - DEBUG - curStopLossFlag is  0
2018-01-19 12:48:09,483 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:48:09,483 - DEBUG - Checking if Entry has been filled
2018-01-19 12:48:09,484 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:48:09,486 - DEBUG - EntryPend is 1
2018-01-19 12:48:09,486 - DEBUG - Try to Cancel Stop
2018-01-19 12:48:09,486 - DEBUG - Stop API ID 0
2018-01-19 12:48:09,486 - DEBUG - Profit API ID 0
2018-01-19 12:48:09,486 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:48:09,486 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:48:09,486 - DEBUG - Pos is 0
2018-01-19 12:48:09,487 - DEBUG - CurCount is 0
2018-01-19 12:48:09,487 - DEBUG - In Pos 0
2018-01-19 12:48:09,487 - DEBUG - Stop ID is 0
2018-01-19 12:48:09,487 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:48:09,490 - DEBUG - EntryPend is 1
2018-01-19 12:48:09,490 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:48:09,490 - DEBUG - Entry Date is 10
2018-01-19 12:48:09,490 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:48:09,490 - DEBUG - Order Profit ID is 0
2018-01-19 12:48:09,490 - DEBUG - Order Entry ID is 113
2018-01-19 12:48:09,490 - DEBUG - API ID is  0
2018-01-19 12:48:09,490 - DEBUG - Current Position is 0
2018-01-19 12:48:09,490 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:48:09,492 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:48:09,492 - DEBUG - Time is 12
2018-01-19 12:48:09,492 - DEBUG - Time is <class 'int'>
2018-01-19 12:48:09,492 - DEBUG - Time is 48
2018-01-19 12:48:09,492 - DEBUG - Time is <class 'int'>
2018-01-19 12:48:09,493 - DEBUG - Disconnected from IBController
2018-01-19 12:48:09,493 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:53:05,394 - DEBUG - ****************************************************
2018-01-19 12:53:05,395 - DEBUG - Current Time is 12:53PM
2018-01-19 12:53:05,395 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:53:05,395 - DEBUG - Connecting to database
2018-01-19 12:53:05,413 - DEBUG - Connected to database
2018-01-19 12:53:05,413 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:05,414 - DEBUG - Order Profit is 0
2018-01-19 12:53:05,414 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:05,417 - DEBUG - Stop ID is 0
2018-01-19 12:53:05,417 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:05,417 - DEBUG - Entry ID is 113
2018-01-19 12:53:05,417 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:53:05,420 - DEBUG - OCA ID is 1
2018-01-19 12:53:05,420 - DEBUG - Connecting to IBController
2018-01-19 12:53:06,424 - DEBUG - Connected to IBController
2018-01-19 12:53:06,424 - DEBUG - Position requested
2018-01-19 12:53:06,426 - DEBUG - Pos Mgmt 0
2018-01-19 12:53:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CB00>, pos=0, avgCost=0.0>
2018-01-19 12:53:06,426 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:53:06,427 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:53:06,427 - DEBUG - Position is 0
2018-01-19 12:53:06,427 - DEBUG - Pos Mgmt -12987
2018-01-19 12:53:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:53:06,427 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:53:06,427 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:53:06,427 - DEBUG - Position is -12987
2018-01-19 12:53:06,428 - DEBUG - Pos Mgmt 1
2018-01-19 12:53:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CE10>, pos=1, avgCost=48882.9>
2018-01-19 12:53:06,428 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:53:06,428 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:53:06,430 - DEBUG - Position is 1
2018-01-19 12:53:07,424 - DEBUG - Open Orders requested
2018-01-19 12:53:09,424 - DEBUG - Connecting to database
2018-01-19 12:53:09,431 - DEBUG - Connected to database
2018-01-19 12:53:09,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,434 - DEBUG - Stop loss value is 72.10
2018-01-19 12:53:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,436 - DEBUG - Stop loss value is 84.35
2018-01-19 12:53:09,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,437 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:53:09,438 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,438 - DEBUG - Stop quantity 1
2018-01-19 12:53:09,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,440 - DEBUG - Direction is Long
2018-01-19 12:53:09,441 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,441 - DEBUG - Count is 0
2018-01-19 12:53:09,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:53:09,444 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:53:09,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:53:09,446 - DEBUG - Max ID Order is (114,)
2018-01-19 12:53:09,446 - DEBUG - Today is 2018-01-19
2018-01-19 12:53:09,446 - DEBUG - Day of the week 4
2018-01-19 12:53:09,447 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:53:09,447 - DEBUG - In Position is  0
2018-01-19 12:53:09,447 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:53:09,447 - DEBUG - curStopLossFlag is  0
2018-01-19 12:53:09,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:53:09,447 - DEBUG - Checking if Entry has been filled
2018-01-19 12:53:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:53:09,448 - DEBUG - EntryPend is 1
2018-01-19 12:53:09,450 - DEBUG - Try to Cancel Stop
2018-01-19 12:53:09,450 - DEBUG - Stop API ID 0
2018-01-19 12:53:09,450 - DEBUG - Profit API ID 0
2018-01-19 12:53:09,450 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:53:09,450 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:53:09,450 - DEBUG - Pos is 0
2018-01-19 12:53:09,450 - DEBUG - CurCount is 0
2018-01-19 12:53:09,450 - DEBUG - In Pos 0
2018-01-19 12:53:09,450 - DEBUG - Stop ID is 0
2018-01-19 12:53:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:53:09,453 - DEBUG - EntryPend is 1
2018-01-19 12:53:09,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:53:09,453 - DEBUG - Entry Date is 10
2018-01-19 12:53:09,453 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:53:09,453 - DEBUG - Order Profit ID is 0
2018-01-19 12:53:09,453 - DEBUG - Order Entry ID is 113
2018-01-19 12:53:09,453 - DEBUG - API ID is  0
2018-01-19 12:53:09,453 - DEBUG - Current Position is 0
2018-01-19 12:53:09,454 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:53:09,454 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:53:09,454 - DEBUG - Time is 12
2018-01-19 12:53:09,454 - DEBUG - Time is <class 'int'>
2018-01-19 12:53:09,454 - DEBUG - Time is 53
2018-01-19 12:53:09,456 - DEBUG - Time is <class 'int'>
2018-01-19 12:53:09,456 - DEBUG - Disconnected from IBController
2018-01-19 12:53:09,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 12:58:05,385 - DEBUG - ****************************************************
2018-01-19 12:58:05,387 - DEBUG - Current Time is 12:58PM
2018-01-19 12:58:05,387 - DEBUG - Starting Pos Mgmt H E
2018-01-19 12:58:05,387 - DEBUG - Connecting to database
2018-01-19 12:58:05,407 - DEBUG - Connected to database
2018-01-19 12:58:05,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:05,408 - DEBUG - Order Profit is 0
2018-01-19 12:58:05,410 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:05,411 - DEBUG - Stop ID is 0
2018-01-19 12:58:05,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:05,413 - DEBUG - Entry ID is 113
2018-01-19 12:58:05,413 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 12:58:05,414 - DEBUG - OCA ID is 1
2018-01-19 12:58:05,414 - DEBUG - Connecting to IBController
2018-01-19 12:58:06,417 - DEBUG - Connected to IBController
2018-01-19 12:58:06,417 - DEBUG - Position requested
2018-01-19 12:58:06,418 - DEBUG - Pos Mgmt 0
2018-01-19 12:58:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DB00>, pos=0, avgCost=0.0>
2018-01-19 12:58:06,420 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 12:58:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:58:06,421 - DEBUG - Position is 0
2018-01-19 12:58:06,421 - DEBUG - Pos Mgmt -12987
2018-01-19 12:58:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 12:58:06,421 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 12:58:06,421 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 12:58:06,421 - DEBUG - Position is -12987
2018-01-19 12:58:06,421 - DEBUG - Pos Mgmt 1
2018-01-19 12:58:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DE10>, pos=1, avgCost=48882.9>
2018-01-19 12:58:06,423 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 12:58:06,423 - DEBUG - ccy2 Currency with position is USD
2018-01-19 12:58:06,423 - DEBUG - Position is 1
2018-01-19 12:58:07,418 - DEBUG - Open Orders requested
2018-01-19 12:58:09,420 - DEBUG - Connecting to database
2018-01-19 12:58:09,427 - DEBUG - Connected to database
2018-01-19 12:58:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,428 - DEBUG - Stop loss value is 72.10
2018-01-19 12:58:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,430 - DEBUG - Stop loss value is 84.35
2018-01-19 12:58:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,431 - DEBUG - EntryPrice value is 73.4
2018-01-19 12:58:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,434 - DEBUG - Stop quantity 1
2018-01-19 12:58:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,434 - DEBUG - Direction is Long
2018-01-19 12:58:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,437 - DEBUG - Count is 0
2018-01-19 12:58:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 12:58:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-19 12:58:09,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 12:58:09,440 - DEBUG - Max ID Order is (114,)
2018-01-19 12:58:09,440 - DEBUG - Today is 2018-01-19
2018-01-19 12:58:09,440 - DEBUG - Day of the week 4
2018-01-19 12:58:09,440 - DEBUG - Yesterday is 01/18/2018
2018-01-19 12:58:09,440 - DEBUG - In Position is  0
2018-01-19 12:58:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-19 12:58:09,441 - DEBUG - curStopLossFlag is  0
2018-01-19 12:58:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 12:58:09,441 - DEBUG - Checking if Entry has been filled
2018-01-19 12:58:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:58:09,444 - DEBUG - EntryPend is 1
2018-01-19 12:58:09,444 - DEBUG - Try to Cancel Stop
2018-01-19 12:58:09,444 - DEBUG - Stop API ID 0
2018-01-19 12:58:09,444 - DEBUG - Profit API ID 0
2018-01-19 12:58:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-19 12:58:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-19 12:58:09,444 - DEBUG - Pos is 0
2018-01-19 12:58:09,444 - DEBUG - CurCount is 0
2018-01-19 12:58:09,446 - DEBUG - In Pos 0
2018-01-19 12:58:09,446 - DEBUG - Stop ID is 0
2018-01-19 12:58:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 12:58:09,447 - DEBUG - EntryPend is 1
2018-01-19 12:58:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 12:58:09,447 - DEBUG - Entry Date is 10
2018-01-19 12:58:09,447 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 12:58:09,447 - DEBUG - Order Profit ID is 0
2018-01-19 12:58:09,447 - DEBUG - Order Entry ID is 113
2018-01-19 12:58:09,448 - DEBUG - API ID is  0
2018-01-19 12:58:09,448 - DEBUG - Current Position is 0
2018-01-19 12:58:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-19 12:58:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 12:58:09,450 - DEBUG - Time is 12
2018-01-19 12:58:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 12:58:09,450 - DEBUG - Time is 58
2018-01-19 12:58:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 12:58:09,450 - DEBUG - Disconnected from IBController
2018-01-19 12:58:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:03:05,336 - DEBUG - ****************************************************
2018-01-19 13:03:05,338 - DEBUG - Current Time is 01:03PM
2018-01-19 13:03:05,338 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:03:05,338 - DEBUG - Connecting to database
2018-01-19 13:03:05,365 - DEBUG - Connected to database
2018-01-19 13:03:05,365 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:05,368 - DEBUG - Order Profit is 0
2018-01-19 13:03:05,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:05,371 - DEBUG - Stop ID is 0
2018-01-19 13:03:05,371 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:05,371 - DEBUG - Entry ID is 113
2018-01-19 13:03:05,371 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:03:05,375 - DEBUG - OCA ID is 1
2018-01-19 13:03:05,375 - DEBUG - Connecting to IBController
2018-01-19 13:03:06,378 - DEBUG - Connected to IBController
2018-01-19 13:03:06,378 - DEBUG - Position requested
2018-01-19 13:03:06,380 - DEBUG - Pos Mgmt 0
2018-01-19 13:03:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBB00>, pos=0, avgCost=0.0>
2018-01-19 13:03:06,381 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:03:06,381 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:03:06,381 - DEBUG - Position is 0
2018-01-19 13:03:06,381 - DEBUG - Pos Mgmt -12987
2018-01-19 13:03:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:03:06,382 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:03:06,382 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:03:06,382 - DEBUG - Position is -12987
2018-01-19 13:03:06,382 - DEBUG - Pos Mgmt 1
2018-01-19 13:03:06,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBE10>, pos=1, avgCost=48882.9>
2018-01-19 13:03:06,384 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:03:06,384 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:03:06,384 - DEBUG - Position is 1
2018-01-19 13:03:07,381 - DEBUG - Open Orders requested
2018-01-19 13:03:09,385 - DEBUG - Connecting to database
2018-01-19 13:03:09,392 - DEBUG - Connected to database
2018-01-19 13:03:09,394 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,394 - DEBUG - Stop loss value is 72.10
2018-01-19 13:03:09,395 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,395 - DEBUG - Stop loss value is 84.35
2018-01-19 13:03:09,398 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,398 - DEBUG - EntryPrice value is 73.4
2018-01-19 13:03:09,398 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,400 - DEBUG - Stop quantity 1
2018-01-19 13:03:09,401 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,401 - DEBUG - Direction is Long
2018-01-19 13:03:09,403 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,403 - DEBUG - Count is 0
2018-01-19 13:03:09,404 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:03:09,404 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:03:09,405 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:03:09,405 - DEBUG - Max ID Order is (114,)
2018-01-19 13:03:09,407 - DEBUG - Today is 2018-01-19
2018-01-19 13:03:09,407 - DEBUG - Day of the week 4
2018-01-19 13:03:09,407 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:03:09,407 - DEBUG - In Position is  0
2018-01-19 13:03:09,407 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:03:09,407 - DEBUG - curStopLossFlag is  0
2018-01-19 13:03:09,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:03:09,408 - DEBUG - Checking if Entry has been filled
2018-01-19 13:03:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:03:09,410 - DEBUG - EntryPend is 1
2018-01-19 13:03:09,410 - DEBUG - Try to Cancel Stop
2018-01-19 13:03:09,411 - DEBUG - Stop API ID 0
2018-01-19 13:03:09,411 - DEBUG - Profit API ID 0
2018-01-19 13:03:09,411 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:03:09,411 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:03:09,411 - DEBUG - Pos is 0
2018-01-19 13:03:09,411 - DEBUG - CurCount is 0
2018-01-19 13:03:09,411 - DEBUG - In Pos 0
2018-01-19 13:03:09,411 - DEBUG - Stop ID is 0
2018-01-19 13:03:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:03:09,414 - DEBUG - EntryPend is 1
2018-01-19 13:03:09,414 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:03:09,414 - DEBUG - Entry Date is 10
2018-01-19 13:03:09,414 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:03:09,414 - DEBUG - Order Profit ID is 0
2018-01-19 13:03:09,414 - DEBUG - Order Entry ID is 113
2018-01-19 13:03:09,414 - DEBUG - API ID is  0
2018-01-19 13:03:09,414 - DEBUG - Current Position is 0
2018-01-19 13:03:09,414 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:03:09,415 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:03:09,415 - DEBUG - Time is 13
2018-01-19 13:03:09,415 - DEBUG - Time is <class 'int'>
2018-01-19 13:03:09,415 - DEBUG - Time is 3
2018-01-19 13:03:09,415 - DEBUG - Time is <class 'int'>
2018-01-19 13:03:09,417 - DEBUG - Disconnected from IBController
2018-01-19 13:03:09,417 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:08:05,391 - DEBUG - ****************************************************
2018-01-19 13:08:05,391 - DEBUG - Current Time is 01:08PM
2018-01-19 13:08:05,391 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:08:05,391 - DEBUG - Connecting to database
2018-01-19 13:08:05,407 - DEBUG - Connected to database
2018-01-19 13:08:05,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:05,408 - DEBUG - Order Profit is 0
2018-01-19 13:08:05,408 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:05,410 - DEBUG - Stop ID is 0
2018-01-19 13:08:05,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:05,411 - DEBUG - Entry ID is 113
2018-01-19 13:08:05,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:08:05,414 - DEBUG - OCA ID is 1
2018-01-19 13:08:05,414 - DEBUG - Connecting to IBController
2018-01-19 13:08:06,417 - DEBUG - Connected to IBController
2018-01-19 13:08:06,417 - DEBUG - Position requested
2018-01-19 13:08:06,417 - DEBUG - Pos Mgmt 0
2018-01-19 13:08:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BB00>, pos=0, avgCost=0.0>
2018-01-19 13:08:06,418 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:08:06,418 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:08:06,420 - DEBUG - Position is 0
2018-01-19 13:08:06,420 - DEBUG - Pos Mgmt -12987
2018-01-19 13:08:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:08:06,420 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:08:06,421 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:08:06,421 - DEBUG - Position is -12987
2018-01-19 13:08:06,421 - DEBUG - Pos Mgmt 1
2018-01-19 13:08:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BE10>, pos=1, avgCost=48882.9>
2018-01-19 13:08:06,421 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:08:06,421 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:08:06,421 - DEBUG - Position is 1
2018-01-19 13:08:07,417 - DEBUG - Open Orders requested
2018-01-19 13:08:09,418 - DEBUG - Connecting to database
2018-01-19 13:08:09,426 - DEBUG - Connected to database
2018-01-19 13:08:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,427 - DEBUG - Stop loss value is 72.10
2018-01-19 13:08:09,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,428 - DEBUG - Stop loss value is 84.35
2018-01-19 13:08:09,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,430 - DEBUG - EntryPrice value is 73.4
2018-01-19 13:08:09,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,433 - DEBUG - Stop quantity 1
2018-01-19 13:08:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,434 - DEBUG - Direction is Long
2018-01-19 13:08:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,436 - DEBUG - Count is 0
2018-01-19 13:08:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:08:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:08:09,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:08:09,438 - DEBUG - Max ID Order is (114,)
2018-01-19 13:08:09,440 - DEBUG - Today is 2018-01-19
2018-01-19 13:08:09,440 - DEBUG - Day of the week 4
2018-01-19 13:08:09,440 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:08:09,440 - DEBUG - In Position is  0
2018-01-19 13:08:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:08:09,440 - DEBUG - curStopLossFlag is  0
2018-01-19 13:08:09,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:08:09,441 - DEBUG - Checking if Entry has been filled
2018-01-19 13:08:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:08:09,443 - DEBUG - EntryPend is 1
2018-01-19 13:08:09,443 - DEBUG - Try to Cancel Stop
2018-01-19 13:08:09,444 - DEBUG - Stop API ID 0
2018-01-19 13:08:09,444 - DEBUG - Profit API ID 0
2018-01-19 13:08:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:08:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:08:09,444 - DEBUG - Pos is 0
2018-01-19 13:08:09,444 - DEBUG - CurCount is 0
2018-01-19 13:08:09,444 - DEBUG - In Pos 0
2018-01-19 13:08:09,444 - DEBUG - Stop ID is 0
2018-01-19 13:08:09,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:08:09,447 - DEBUG - EntryPend is 1
2018-01-19 13:08:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:08:09,447 - DEBUG - Entry Date is 10
2018-01-19 13:08:09,447 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:08:09,447 - DEBUG - Order Profit ID is 0
2018-01-19 13:08:09,447 - DEBUG - Order Entry ID is 113
2018-01-19 13:08:09,447 - DEBUG - API ID is  0
2018-01-19 13:08:09,447 - DEBUG - Current Position is 0
2018-01-19 13:08:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:08:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:08:09,448 - DEBUG - Time is 13
2018-01-19 13:08:09,448 - DEBUG - Time is <class 'int'>
2018-01-19 13:08:09,448 - DEBUG - Time is 8
2018-01-19 13:08:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 13:08:09,450 - DEBUG - Disconnected from IBController
2018-01-19 13:08:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:13:05,385 - DEBUG - ****************************************************
2018-01-19 13:13:05,387 - DEBUG - Current Time is 01:13PM
2018-01-19 13:13:05,387 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:13:05,388 - DEBUG - Connecting to database
2018-01-19 13:13:05,407 - DEBUG - Connected to database
2018-01-19 13:13:05,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:05,410 - DEBUG - Order Profit is 0
2018-01-19 13:13:05,410 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:05,411 - DEBUG - Stop ID is 0
2018-01-19 13:13:05,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:05,414 - DEBUG - Entry ID is 113
2018-01-19 13:13:05,414 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:13:05,414 - DEBUG - OCA ID is 1
2018-01-19 13:13:05,415 - DEBUG - Connecting to IBController
2018-01-19 13:13:06,418 - DEBUG - Connected to IBController
2018-01-19 13:13:06,418 - DEBUG - Position requested
2018-01-19 13:13:06,420 - DEBUG - Pos Mgmt 0
2018-01-19 13:13:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDB00>, pos=0, avgCost=0.0>
2018-01-19 13:13:06,421 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:13:06,421 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:13:06,421 - DEBUG - Position is 0
2018-01-19 13:13:06,421 - DEBUG - Pos Mgmt -12987
2018-01-19 13:13:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:13:06,421 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:13:06,423 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:13:06,423 - DEBUG - Position is -12987
2018-01-19 13:13:06,423 - DEBUG - Pos Mgmt 1
2018-01-19 13:13:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=1, avgCost=48882.9>
2018-01-19 13:13:06,424 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:13:06,424 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:13:06,424 - DEBUG - Position is 1
2018-01-19 13:13:07,420 - DEBUG - Open Orders requested
2018-01-19 13:13:09,420 - DEBUG - Connecting to database
2018-01-19 13:13:09,427 - DEBUG - Connected to database
2018-01-19 13:13:09,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,428 - DEBUG - Stop loss value is 72.10
2018-01-19 13:13:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,430 - DEBUG - Stop loss value is 84.35
2018-01-19 13:13:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,431 - DEBUG - EntryPrice value is 73.4
2018-01-19 13:13:09,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,434 - DEBUG - Stop quantity 1
2018-01-19 13:13:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,436 - DEBUG - Direction is Long
2018-01-19 13:13:09,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,437 - DEBUG - Count is 0
2018-01-19 13:13:09,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:13:09,438 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:13:09,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:13:09,440 - DEBUG - Max ID Order is (114,)
2018-01-19 13:13:09,440 - DEBUG - Today is 2018-01-19
2018-01-19 13:13:09,440 - DEBUG - Day of the week 4
2018-01-19 13:13:09,441 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:13:09,441 - DEBUG - In Position is  0
2018-01-19 13:13:09,441 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:13:09,443 - DEBUG - curStopLossFlag is  0
2018-01-19 13:13:09,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:13:09,443 - DEBUG - Checking if Entry has been filled
2018-01-19 13:13:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:13:09,444 - DEBUG - EntryPend is 1
2018-01-19 13:13:09,444 - DEBUG - Try to Cancel Stop
2018-01-19 13:13:09,444 - DEBUG - Stop API ID 0
2018-01-19 13:13:09,444 - DEBUG - Profit API ID 0
2018-01-19 13:13:09,446 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:13:09,446 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:13:09,446 - DEBUG - Pos is 0
2018-01-19 13:13:09,446 - DEBUG - CurCount is 0
2018-01-19 13:13:09,446 - DEBUG - In Pos 0
2018-01-19 13:13:09,447 - DEBUG - Stop ID is 0
2018-01-19 13:13:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:13:09,447 - DEBUG - EntryPend is 1
2018-01-19 13:13:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:13:09,448 - DEBUG - Entry Date is 10
2018-01-19 13:13:09,448 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:13:09,448 - DEBUG - Order Profit ID is 0
2018-01-19 13:13:09,448 - DEBUG - Order Entry ID is 113
2018-01-19 13:13:09,450 - DEBUG - API ID is  0
2018-01-19 13:13:09,450 - DEBUG - Current Position is 0
2018-01-19 13:13:09,450 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:13:09,450 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:13:09,450 - DEBUG - Time is 13
2018-01-19 13:13:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 13:13:09,450 - DEBUG - Time is 13
2018-01-19 13:13:09,450 - DEBUG - Time is <class 'int'>
2018-01-19 13:13:09,450 - DEBUG - Disconnected from IBController
2018-01-19 13:13:09,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:18:05,358 - DEBUG - ****************************************************
2018-01-19 13:18:05,358 - DEBUG - Current Time is 01:18PM
2018-01-19 13:18:05,358 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:18:05,358 - DEBUG - Connecting to database
2018-01-19 13:18:05,381 - DEBUG - Connected to database
2018-01-19 13:18:05,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:05,384 - DEBUG - Order Profit is 0
2018-01-19 13:18:05,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:05,384 - DEBUG - Stop ID is 0
2018-01-19 13:18:05,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:05,388 - DEBUG - Entry ID is 113
2018-01-19 13:18:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:18:05,390 - DEBUG - OCA ID is 1
2018-01-19 13:18:05,390 - DEBUG - Connecting to IBController
2018-01-19 13:18:06,392 - DEBUG - Connected to IBController
2018-01-19 13:18:06,392 - DEBUG - Position requested
2018-01-19 13:18:06,394 - DEBUG - Pos Mgmt 0
2018-01-19 13:18:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CA58>, pos=0, avgCost=0.0>
2018-01-19 13:18:06,394 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:18:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:18:06,395 - DEBUG - Position is 0
2018-01-19 13:18:06,395 - DEBUG - Pos Mgmt -12987
2018-01-19 13:18:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:18:06,397 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:18:06,397 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:18:06,397 - DEBUG - Position is -12987
2018-01-19 13:18:06,397 - DEBUG - Pos Mgmt 1
2018-01-19 13:18:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CD68>, pos=1, avgCost=48882.9>
2018-01-19 13:18:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:18:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:18:06,398 - DEBUG - Position is 1
2018-01-19 13:18:07,394 - DEBUG - Open Orders requested
2018-01-19 13:18:09,394 - DEBUG - Connecting to database
2018-01-19 13:18:09,401 - DEBUG - Connected to database
2018-01-19 13:18:09,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,404 - DEBUG - Stop loss value is 72.10
2018-01-19 13:18:09,404 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,404 - DEBUG - Stop loss value is 84.35
2018-01-19 13:18:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,407 - DEBUG - EntryPrice value is 73.4
2018-01-19 13:18:09,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,408 - DEBUG - Stop quantity 1
2018-01-19 13:18:09,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,410 - DEBUG - Direction is Long
2018-01-19 13:18:09,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,411 - DEBUG - Count is 0
2018-01-19 13:18:09,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:18:09,413 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:18:09,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:18:09,414 - DEBUG - Max ID Order is (114,)
2018-01-19 13:18:09,415 - DEBUG - Today is 2018-01-19
2018-01-19 13:18:09,415 - DEBUG - Day of the week 4
2018-01-19 13:18:09,415 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:18:09,415 - DEBUG - In Position is  0
2018-01-19 13:18:09,417 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:18:09,417 - DEBUG - curStopLossFlag is  0
2018-01-19 13:18:09,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:18:09,417 - DEBUG - Checking if Entry has been filled
2018-01-19 13:18:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:18:09,418 - DEBUG - EntryPend is 1
2018-01-19 13:18:09,418 - DEBUG - Try to Cancel Stop
2018-01-19 13:18:09,420 - DEBUG - Stop API ID 0
2018-01-19 13:18:09,420 - DEBUG - Profit API ID 0
2018-01-19 13:18:09,420 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:18:09,420 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:18:09,420 - DEBUG - Pos is 0
2018-01-19 13:18:09,421 - DEBUG - CurCount is 0
2018-01-19 13:18:09,421 - DEBUG - In Pos 0
2018-01-19 13:18:09,421 - DEBUG - Stop ID is 0
2018-01-19 13:18:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:18:09,423 - DEBUG - EntryPend is 1
2018-01-19 13:18:09,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:18:09,423 - DEBUG - Entry Date is 10
2018-01-19 13:18:09,423 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:18:09,424 - DEBUG - Order Profit ID is 0
2018-01-19 13:18:09,424 - DEBUG - Order Entry ID is 113
2018-01-19 13:18:09,424 - DEBUG - API ID is  0
2018-01-19 13:18:09,424 - DEBUG - Current Position is 0
2018-01-19 13:18:09,424 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:18:09,424 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:18:09,424 - DEBUG - Time is 13
2018-01-19 13:18:09,424 - DEBUG - Time is <class 'int'>
2018-01-19 13:18:09,424 - DEBUG - Time is 18
2018-01-19 13:18:09,424 - DEBUG - Time is <class 'int'>
2018-01-19 13:18:09,426 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-19 13:18:09,426 - ERROR - Canceled Order 113
2018-01-19 13:18:09,427 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 113;
2018-01-19 13:18:09,440 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-19 13:18:09,454 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-19 13:18:09,467 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-19 13:18:09,480 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-19 13:18:09,494 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-19 13:18:09,509 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-19 13:18:09,522 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-19 13:18:09,536 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-19 13:18:09,549 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-19 13:18:09,562 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-19 13:18:09,576 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-19 13:18:09,592 - DEBUG - Disconnected from IBController
2018-01-19 13:18:09,592 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:23:05,329 - DEBUG - ****************************************************
2018-01-19 13:23:05,331 - DEBUG - Current Time is 01:23PM
2018-01-19 13:23:05,331 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:23:05,331 - DEBUG - Connecting to database
2018-01-19 13:23:05,367 - DEBUG - Connected to database
2018-01-19 13:23:05,367 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:05,368 - DEBUG - Order Profit is 0
2018-01-19 13:23:05,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:05,371 - DEBUG - Stop ID is 0
2018-01-19 13:23:05,371 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:05,371 - DEBUG - Entry ID is 0
2018-01-19 13:23:05,372 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:23:05,374 - DEBUG - OCA ID is 1
2018-01-19 13:23:05,374 - DEBUG - Connecting to IBController
2018-01-19 13:23:06,388 - DEBUG - Connected to IBController
2018-01-19 13:23:06,388 - DEBUG - Position requested
2018-01-19 13:23:06,390 - DEBUG - Pos Mgmt 0
2018-01-19 13:23:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDAC8>, pos=0, avgCost=0.0>
2018-01-19 13:23:06,391 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:23:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:23:06,391 - DEBUG - Position is 0
2018-01-19 13:23:06,391 - DEBUG - Pos Mgmt -12987
2018-01-19 13:23:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC18>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:23:06,392 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:23:06,392 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:23:06,392 - DEBUG - Position is -12987
2018-01-19 13:23:06,392 - DEBUG - Pos Mgmt 1
2018-01-19 13:23:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDDD8>, pos=1, avgCost=48882.9>
2018-01-19 13:23:06,394 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:23:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:23:06,394 - DEBUG - Position is 1
2018-01-19 13:23:07,391 - DEBUG - Open Orders requested
2018-01-19 13:23:09,391 - DEBUG - Connecting to database
2018-01-19 13:23:09,398 - DEBUG - Connected to database
2018-01-19 13:23:09,398 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,400 - DEBUG - Stop loss value is 0
2018-01-19 13:23:09,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,401 - DEBUG - Stop loss value is 0
2018-01-19 13:23:09,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,403 - DEBUG - EntryPrice value is 0
2018-01-19 13:23:09,404 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,404 - DEBUG - Stop quantity 0
2018-01-19 13:23:09,405 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,405 - DEBUG - Direction is 0
2018-01-19 13:23:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,407 - DEBUG - Count is 0
2018-01-19 13:23:09,408 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:23:09,408 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:23:09,411 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:23:09,411 - DEBUG - Max ID Order is (114,)
2018-01-19 13:23:09,411 - DEBUG - Today is 2018-01-19
2018-01-19 13:23:09,411 - DEBUG - Day of the week 4
2018-01-19 13:23:09,411 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:23:09,411 - DEBUG - In Position is  0
2018-01-19 13:23:09,413 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:23:09,413 - DEBUG - curStopLossFlag is  0
2018-01-19 13:23:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:23:09,413 - DEBUG - Checking if Entry has been filled
2018-01-19 13:23:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:23:09,414 - DEBUG - EntryPend is 0
2018-01-19 13:23:09,414 - DEBUG - Try to Cancel Stop
2018-01-19 13:23:09,414 - DEBUG - Stop API ID 0
2018-01-19 13:23:09,415 - DEBUG - Profit API ID 0
2018-01-19 13:23:09,415 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:23:09,415 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:23:09,415 - DEBUG - Pos is 0
2018-01-19 13:23:09,417 - DEBUG - CurCount is 0
2018-01-19 13:23:09,417 - DEBUG - In Pos 0
2018-01-19 13:23:09,417 - DEBUG - Stop ID is 0
2018-01-19 13:23:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:23:09,417 - DEBUG - EntryPend is 0
2018-01-19 13:23:09,418 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:23:09,418 - DEBUG - Entry Date is 10
2018-01-19 13:23:09,418 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:23:09,418 - DEBUG - Order Profit ID is 0
2018-01-19 13:23:09,420 - DEBUG - Order Entry ID is 0
2018-01-19 13:23:09,420 - DEBUG - API ID is  0
2018-01-19 13:23:09,420 - DEBUG - Current Position is 0
2018-01-19 13:23:09,420 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:23:09,420 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:23:09,421 - DEBUG - Time is 13
2018-01-19 13:23:09,421 - DEBUG - Time is <class 'int'>
2018-01-19 13:23:09,421 - DEBUG - Time is 23
2018-01-19 13:23:09,421 - DEBUG - Time is <class 'int'>
2018-01-19 13:23:09,421 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-19 13:23:09,421 - ERROR - Canceled Order 0
2018-01-19 13:23:09,421 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-19 13:23:09,436 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-19 13:23:09,448 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-19 13:23:09,461 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-19 13:23:09,474 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-19 13:23:09,489 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-19 13:23:09,502 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-19 13:23:09,515 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-19 13:23:09,528 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-19 13:23:09,540 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-19 13:23:09,553 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-19 13:23:09,568 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-19 13:23:09,581 - DEBUG - Disconnected from IBController
2018-01-19 13:23:09,581 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:28:05,411 - DEBUG - ****************************************************
2018-01-19 13:28:05,413 - DEBUG - Current Time is 01:28PM
2018-01-19 13:28:05,413 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:28:05,413 - DEBUG - Connecting to database
2018-01-19 13:28:05,437 - DEBUG - Connected to database
2018-01-19 13:28:05,437 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:05,438 - DEBUG - Order Profit is 0
2018-01-19 13:28:05,440 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:05,440 - DEBUG - Stop ID is 0
2018-01-19 13:28:05,440 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:05,443 - DEBUG - Entry ID is 0
2018-01-19 13:28:05,443 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:28:05,444 - DEBUG - OCA ID is 1
2018-01-19 13:28:05,444 - DEBUG - Connecting to IBController
2018-01-19 13:28:06,459 - DEBUG - Connected to IBController
2018-01-19 13:28:06,459 - DEBUG - Position requested
2018-01-19 13:28:06,460 - DEBUG - Pos Mgmt 0
2018-01-19 13:28:06,460 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCAC8>, pos=0, avgCost=0.0>
2018-01-19 13:28:06,460 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:28:06,460 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:28:06,461 - DEBUG - Position is 0
2018-01-19 13:28:06,461 - DEBUG - Pos Mgmt -12987
2018-01-19 13:28:06,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC18>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:28:06,463 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:28:06,463 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:28:06,463 - DEBUG - Position is -12987
2018-01-19 13:28:06,463 - DEBUG - Pos Mgmt 1
2018-01-19 13:28:06,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCDD8>, pos=1, avgCost=48882.9>
2018-01-19 13:28:06,463 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:28:06,463 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:28:06,463 - DEBUG - Position is 1
2018-01-19 13:28:07,464 - DEBUG - Open Orders requested
2018-01-19 13:28:09,469 - DEBUG - Connecting to database
2018-01-19 13:28:09,476 - DEBUG - Connected to database
2018-01-19 13:28:09,476 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,477 - DEBUG - Stop loss value is 0
2018-01-19 13:28:09,479 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,480 - DEBUG - Stop loss value is 0
2018-01-19 13:28:09,480 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,480 - DEBUG - EntryPrice value is 0
2018-01-19 13:28:09,483 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,483 - DEBUG - Stop quantity 0
2018-01-19 13:28:09,483 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,484 - DEBUG - Direction is 0
2018-01-19 13:28:09,486 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,486 - DEBUG - Count is 0
2018-01-19 13:28:09,486 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:28:09,487 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:28:09,489 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:28:09,489 - DEBUG - Max ID Order is (114,)
2018-01-19 13:28:09,490 - DEBUG - Today is 2018-01-19
2018-01-19 13:28:09,490 - DEBUG - Day of the week 4
2018-01-19 13:28:09,490 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:28:09,490 - DEBUG - In Position is  0
2018-01-19 13:28:09,490 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:28:09,490 - DEBUG - curStopLossFlag is  0
2018-01-19 13:28:09,492 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:28:09,492 - DEBUG - Checking if Entry has been filled
2018-01-19 13:28:09,492 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:28:09,493 - DEBUG - EntryPend is 0
2018-01-19 13:28:09,493 - DEBUG - Try to Cancel Stop
2018-01-19 13:28:09,493 - DEBUG - Stop API ID 0
2018-01-19 13:28:09,493 - DEBUG - Profit API ID 0
2018-01-19 13:28:09,493 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:28:09,493 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:28:09,494 - DEBUG - Pos is 0
2018-01-19 13:28:09,494 - DEBUG - CurCount is 0
2018-01-19 13:28:09,496 - DEBUG - In Pos 0
2018-01-19 13:28:09,496 - DEBUG - Stop ID is 0
2018-01-19 13:28:09,496 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:28:09,497 - DEBUG - EntryPend is 0
2018-01-19 13:28:09,497 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:28:09,497 - DEBUG - Entry Date is 10
2018-01-19 13:28:09,497 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:28:09,499 - DEBUG - Order Profit ID is 0
2018-01-19 13:28:09,499 - DEBUG - Order Entry ID is 0
2018-01-19 13:28:09,499 - DEBUG - API ID is  0
2018-01-19 13:28:09,499 - DEBUG - Current Position is 0
2018-01-19 13:28:09,499 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:28:09,500 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:28:09,500 - DEBUG - Time is 13
2018-01-19 13:28:09,500 - DEBUG - Time is <class 'int'>
2018-01-19 13:28:09,500 - DEBUG - Time is 28
2018-01-19 13:28:09,500 - DEBUG - Time is <class 'int'>
2018-01-19 13:28:09,500 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-19 13:28:09,500 - ERROR - Canceled Order 0
2018-01-19 13:28:09,500 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-19 13:28:09,516 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-19 13:28:09,529 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-19 13:28:09,542 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-19 13:28:09,555 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-19 13:28:09,569 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-19 13:28:09,584 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-19 13:28:09,598 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-19 13:28:09,611 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-19 13:28:09,627 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-19 13:28:09,641 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-19 13:28:09,654 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-19 13:28:09,667 - DEBUG - Disconnected from IBController
2018-01-19 13:28:09,667 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:33:05,398 - DEBUG - ****************************************************
2018-01-19 13:33:05,400 - DEBUG - Current Time is 01:33PM
2018-01-19 13:33:05,400 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:33:05,400 - DEBUG - Connecting to database
2018-01-19 13:33:05,417 - DEBUG - Connected to database
2018-01-19 13:33:05,418 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:05,420 - DEBUG - Order Profit is 0
2018-01-19 13:33:05,421 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:05,421 - DEBUG - Stop ID is 0
2018-01-19 13:33:05,421 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:05,423 - DEBUG - Entry ID is 0
2018-01-19 13:33:05,424 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:33:05,424 - DEBUG - OCA ID is 1
2018-01-19 13:33:05,424 - DEBUG - Connecting to IBController
2018-01-19 13:33:06,428 - DEBUG - Connected to IBController
2018-01-19 13:33:06,428 - DEBUG - Position requested
2018-01-19 13:33:06,430 - DEBUG - Pos Mgmt 0
2018-01-19 13:33:06,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDAC8>, pos=0, avgCost=0.0>
2018-01-19 13:33:06,430 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:33:06,430 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:33:06,431 - DEBUG - Position is 0
2018-01-19 13:33:06,431 - DEBUG - Pos Mgmt -12987
2018-01-19 13:33:06,431 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC18>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:33:06,433 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:33:06,433 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:33:06,433 - DEBUG - Position is -12987
2018-01-19 13:33:06,433 - DEBUG - Pos Mgmt 1
2018-01-19 13:33:06,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDDD8>, pos=1, avgCost=48882.9>
2018-01-19 13:33:06,434 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:33:06,434 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:33:06,434 - DEBUG - Position is 1
2018-01-19 13:33:07,430 - DEBUG - Open Orders requested
2018-01-19 13:33:09,430 - DEBUG - Connecting to database
2018-01-19 13:33:09,437 - DEBUG - Connected to database
2018-01-19 13:33:09,438 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,440 - DEBUG - Stop loss value is 0
2018-01-19 13:33:09,440 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,440 - DEBUG - Stop loss value is 0
2018-01-19 13:33:09,443 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,443 - DEBUG - EntryPrice value is 0
2018-01-19 13:33:09,444 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,444 - DEBUG - Stop quantity 0
2018-01-19 13:33:09,446 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,446 - DEBUG - Direction is 0
2018-01-19 13:33:09,447 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,447 - DEBUG - Count is 0
2018-01-19 13:33:09,448 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:33:09,450 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:33:09,450 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:33:09,450 - DEBUG - Max ID Order is (114,)
2018-01-19 13:33:09,451 - DEBUG - Today is 2018-01-19
2018-01-19 13:33:09,451 - DEBUG - Day of the week 4
2018-01-19 13:33:09,451 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:33:09,453 - DEBUG - In Position is  0
2018-01-19 13:33:09,453 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:33:09,453 - DEBUG - curStopLossFlag is  0
2018-01-19 13:33:09,453 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:33:09,453 - DEBUG - Checking if Entry has been filled
2018-01-19 13:33:09,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:33:09,454 - DEBUG - EntryPend is 0
2018-01-19 13:33:09,454 - DEBUG - Try to Cancel Stop
2018-01-19 13:33:09,456 - DEBUG - Stop API ID 0
2018-01-19 13:33:09,456 - DEBUG - Profit API ID 0
2018-01-19 13:33:09,456 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:33:09,456 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:33:09,457 - DEBUG - Pos is 0
2018-01-19 13:33:09,457 - DEBUG - CurCount is 0
2018-01-19 13:33:09,457 - DEBUG - In Pos 0
2018-01-19 13:33:09,457 - DEBUG - Stop ID is 0
2018-01-19 13:33:09,457 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:33:09,459 - DEBUG - EntryPend is 0
2018-01-19 13:33:09,459 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:33:09,459 - DEBUG - Entry Date is 10
2018-01-19 13:33:09,459 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:33:09,460 - DEBUG - Order Profit ID is 0
2018-01-19 13:33:09,460 - DEBUG - Order Entry ID is 0
2018-01-19 13:33:09,460 - DEBUG - API ID is  0
2018-01-19 13:33:09,460 - DEBUG - Current Position is 0
2018-01-19 13:33:09,460 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:33:09,460 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:33:09,460 - DEBUG - Time is 13
2018-01-19 13:33:09,460 - DEBUG - Time is <class 'int'>
2018-01-19 13:33:09,460 - DEBUG - Time is 33
2018-01-19 13:33:09,461 - DEBUG - Time is <class 'int'>
2018-01-19 13:33:09,461 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-19 13:33:09,461 - ERROR - Canceled Order 0
2018-01-19 13:33:09,463 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-19 13:33:09,476 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-19 13:33:09,490 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-19 13:33:09,503 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-19 13:33:09,516 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-19 13:33:09,529 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-19 13:33:09,542 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-19 13:33:09,556 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-19 13:33:09,569 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-19 13:33:09,582 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-19 13:33:09,595 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-19 13:33:09,608 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-19 13:33:09,624 - DEBUG - Disconnected from IBController
2018-01-19 13:33:09,624 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-19 13:38:05,391 - DEBUG - ****************************************************
2018-01-19 13:38:05,392 - DEBUG - Current Time is 01:38PM
2018-01-19 13:38:05,392 - DEBUG - Starting Pos Mgmt H E
2018-01-19 13:38:05,392 - DEBUG - Connecting to database
2018-01-19 13:38:05,414 - DEBUG - Connected to database
2018-01-19 13:38:05,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:05,417 - DEBUG - Order Profit is 0
2018-01-19 13:38:05,417 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:05,417 - DEBUG - Stop ID is 0
2018-01-19 13:38:05,417 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:05,420 - DEBUG - Entry ID is 0
2018-01-19 13:38:05,420 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-19 13:38:05,421 - DEBUG - OCA ID is 1
2018-01-19 13:38:05,421 - DEBUG - Connecting to IBController
2018-01-19 13:38:06,424 - DEBUG - Connected to IBController
2018-01-19 13:38:06,424 - DEBUG - Position requested
2018-01-19 13:38:06,426 - DEBUG - Pos Mgmt 0
2018-01-19 13:38:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DAC8>, pos=0, avgCost=0.0>
2018-01-19 13:38:06,427 - DEBUG - ccy1 Symbol with position is M6E
2018-01-19 13:38:06,427 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:38:06,427 - DEBUG - Position is 0
2018-01-19 13:38:06,427 - DEBUG - Pos Mgmt -12987
2018-01-19 13:38:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DC18>, pos=-12987, avgCost=0.95368235>
2018-01-19 13:38:06,428 - DEBUG - ccy1 Symbol with position is NZD
2018-01-19 13:38:06,428 - DEBUG - ccy2 Currency with position is CAD
2018-01-19 13:38:06,428 - DEBUG - Position is -12987
2018-01-19 13:38:06,428 - DEBUG - Pos Mgmt 1
2018-01-19 13:38:06,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DDD8>, pos=1, avgCost=48882.9>
2018-01-19 13:38:06,430 - DEBUG - ccy1 Symbol with position is LE
2018-01-19 13:38:06,430 - DEBUG - ccy2 Currency with position is USD
2018-01-19 13:38:06,430 - DEBUG - Position is 1
2018-01-19 13:38:07,427 - DEBUG - Open Orders requested
2018-01-19 13:38:09,427 - DEBUG - Connecting to database
2018-01-19 13:38:09,434 - DEBUG - Connected to database
2018-01-19 13:38:09,434 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,436 - DEBUG - Stop loss value is 0
2018-01-19 13:38:09,437 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,438 - DEBUG - Stop loss value is 0
2018-01-19 13:38:09,440 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,440 - DEBUG - EntryPrice value is 0
2018-01-19 13:38:09,441 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,441 - DEBUG - Stop quantity 0
2018-01-19 13:38:09,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,444 - DEBUG - Direction is 0
2018-01-19 13:38:09,444 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,446 - DEBUG - Count is 0
2018-01-19 13:38:09,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-19 13:38:09,447 - DEBUG - Stop Loss Flag is 0
2018-01-19 13:38:09,448 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-19 13:38:09,448 - DEBUG - Max ID Order is (114,)
2018-01-19 13:38:09,448 - DEBUG - Today is 2018-01-19
2018-01-19 13:38:09,450 - DEBUG - Day of the week 4
2018-01-19 13:38:09,450 - DEBUG - Yesterday is 01/18/2018
2018-01-19 13:38:09,450 - DEBUG - In Position is  0
2018-01-19 13:38:09,450 - DEBUG - In Position is  <class 'int'>
2018-01-19 13:38:09,450 - DEBUG - curStopLossFlag is  0
2018-01-19 13:38:09,450 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-19 13:38:09,450 - DEBUG - Checking if Entry has been filled
2018-01-19 13:38:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:38:09,453 - DEBUG - EntryPend is 0
2018-01-19 13:38:09,453 - DEBUG - Try to Cancel Stop
2018-01-19 13:38:09,453 - DEBUG - Stop API ID 0
2018-01-19 13:38:09,453 - DEBUG - Profit API ID 0
2018-01-19 13:38:09,453 - DEBUG - Stop API ID <class 'int'>
2018-01-19 13:38:09,453 - DEBUG - Profit API ID <class 'int'>
2018-01-19 13:38:09,453 - DEBUG - Pos is 0
2018-01-19 13:38:09,453 - DEBUG - CurCount is 0
2018-01-19 13:38:09,453 - DEBUG - In Pos 0
2018-01-19 13:38:09,454 - DEBUG - Stop ID is 0
2018-01-19 13:38:09,454 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-19 13:38:09,456 - DEBUG - EntryPend is 0
2018-01-19 13:38:09,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-19 13:38:09,457 - DEBUG - Entry Date is 10
2018-01-19 13:38:09,457 - DEBUG - confirming yesterday is 01/18/2018
2018-01-19 13:38:09,457 - DEBUG - Order Profit ID is 0
2018-01-19 13:38:09,457 - DEBUG - Order Entry ID is 0
2018-01-19 13:38:09,457 - DEBUG - API ID is  0
2018-01-19 13:38:09,457 - DEBUG - Current Position is 0
2018-01-19 13:38:09,457 - DEBUG - Current Position is <class 'str'>
2018-01-19 13:38:09,457 - DEBUG - Checking if Positions should be close at EOD
2018-01-19 13:38:09,457 - DEBUG - Time is 13
2018-01-19 13:38:09,459 - DEBUG - Time is <class 'int'>
2018-01-19 13:38:09,459 - DEBUG - Time is 38
2018-01-19 13:38:09,459 - DEBUG - Time is <class 'int'>
2018-01-19 13:38:09,459 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-19 13:38:09,460 - ERROR - Canceled Order 0
2018-01-19 13:38:09,460 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-19 13:38:09,473 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-19 13:38:09,487 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-19 13:38:09,502 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-19 13:38:09,515 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-19 13:38:09,528 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-19 13:38:09,540 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-19 13:38:09,555 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-19 13:38:09,566 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-19 13:38:09,581 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-19 13:38:09,594 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-19 13:38:09,607 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-19 13:38:09,619 - DEBUG - Disconnected from IBController
2018-01-19 13:38:09,621 - DEBUG - END POS MGMT SCRIPT :-!
