2018-02-21 02:10:00,417 - DEBUG - ****************************************************
2018-02-21 02:10:00,418 - DEBUG - Current Time is 02:10AM
2018-02-21 02:10:00,420 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:10:00,420 - DEBUG - Connecting to database
2018-02-21 02:10:00,460 - DEBUG - Connected to database
2018-02-21 02:10:00,460 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:00,461 - DEBUG - Order Profit is 217
2018-02-21 02:10:00,461 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:00,463 - DEBUG - Stop ID is 0
2018-02-21 02:10:00,464 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:00,466 - DEBUG - Entry ID is 217
2018-02-21 02:10:00,466 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:10:00,467 - DEBUG - OCA ID is 1
2018-02-21 02:10:00,467 - DEBUG - Connecting to IBController
2018-02-21 02:10:01,496 - DEBUG - Connected to IBController
2018-02-21 02:10:01,496 - DEBUG - Position requested
2018-02-21 02:10:01,499 - DEBUG - Pos Mgmt -12987
2018-02-21 02:10:01,499 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:10:01,499 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:10:01,500 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:10:01,500 - DEBUG - Position is -12987
2018-02-21 02:10:02,499 - DEBUG - Open Orders requested
2018-02-21 02:10:02,503 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000203CDA0>, order=<ib.ext.Order.Order object at 0x000000000203CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20F0>>
2018-02-21 02:10:02,503 - DEBUG - Order OrderID 217
2018-02-21 02:10:02,503 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:10:02,503 - DEBUG - Order status PreSubmitted
2018-02-21 02:10:02,503 - DEBUG - Order Identification 217
2018-02-21 02:10:02,505 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:10:02,505 - DEBUG - Profit ID from database is 217
2018-02-21 02:10:02,505 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:10:02,505 - DEBUG - Stop ID database is 0
2018-02-21 02:10:02,506 - DEBUG - Entry ID database is 217
2018-02-21 02:10:02,506 - DEBUG - Profit API ID is 217
2018-02-21 02:10:02,506 - DEBUG - Entry API ID is 217
2018-02-21 02:10:02,506 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000203CEF0>, order=<ib.ext.Order.Order object at 0x000000000203CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-02-21 02:10:02,506 - DEBUG - Order OrderID 216
2018-02-21 02:10:02,507 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:10:02,507 - DEBUG - Order status PreSubmitted
2018-02-21 02:10:02,507 - DEBUG - Order Identification 216
2018-02-21 02:10:02,509 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:10:02,510 - DEBUG - Profit ID from database is 217
2018-02-21 02:10:02,510 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:10:02,510 - DEBUG - Stop ID database is 0
2018-02-21 02:10:02,510 - DEBUG - Entry ID database is 217
2018-02-21 02:10:04,502 - DEBUG - Connecting to database
2018-02-21 02:10:04,536 - DEBUG - Connected to database
2018-02-21 02:10:04,543 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,545 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:10:04,579 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,581 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:10:04,621 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,621 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:10:04,654 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,654 - DEBUG - Stop quantity 1
2018-02-21 02:10:04,655 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,655 - DEBUG - Direction is Short
2018-02-21 02:10:04,657 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,657 - DEBUG - Count is 0
2018-02-21 02:10:04,660 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:10:04,661 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:10:04,668 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:10:04,668 - DEBUG - Max ID Order is (217,)
2018-02-21 02:10:04,670 - DEBUG - Today is 2018-02-21
2018-02-21 02:10:04,670 - DEBUG - Day of the week 2
2018-02-21 02:10:04,670 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:10:04,671 - DEBUG - In Position is  0
2018-02-21 02:10:04,671 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:10:04,671 - DEBUG - curStopLossFlag is  0
2018-02-21 02:10:04,671 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:10:04,671 - DEBUG - Checking if Entry has been filled
2018-02-21 02:10:04,671 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:10:04,674 - DEBUG - EntryPend is 1
2018-02-21 02:10:04,674 - DEBUG - Try to Cancel Stop
2018-02-21 02:10:04,674 - DEBUG - Stop API ID 0
2018-02-21 02:10:04,674 - DEBUG - Profit API ID 217
2018-02-21 02:10:04,676 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:10:04,676 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:10:04,676 - DEBUG - Pos is 0
2018-02-21 02:10:04,676 - DEBUG - CurCount is 0
2018-02-21 02:10:04,676 - DEBUG - In Pos 0
2018-02-21 02:10:04,677 - DEBUG - Stop ID is 0
2018-02-21 02:10:04,677 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:10:04,677 - DEBUG - EntryPend is 1
2018-02-21 02:10:04,677 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:10:04,678 - DEBUG - Entry Date is 10
2018-02-21 02:10:04,678 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:10:04,678 - DEBUG - Order Profit ID is 217
2018-02-21 02:10:04,678 - DEBUG - Order Entry ID is 217
2018-02-21 02:10:04,680 - DEBUG - API ID is  0
2018-02-21 02:10:04,680 - DEBUG - Current Position is 0
2018-02-21 02:10:04,680 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:10:04,680 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:10:04,680 - DEBUG - Time is 2
2018-02-21 02:10:04,680 - DEBUG - Time is <class 'int'>
2018-02-21 02:10:04,680 - DEBUG - Disconnected from IBController
2018-02-21 02:10:04,680 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:15:00,269 - DEBUG - ****************************************************
2018-02-21 02:15:00,269 - DEBUG - Current Time is 02:15AM
2018-02-21 02:15:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:15:00,270 - DEBUG - Connecting to database
2018-02-21 02:15:00,315 - DEBUG - Connected to database
2018-02-21 02:15:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:00,318 - DEBUG - Order Profit is 217
2018-02-21 02:15:00,318 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:00,319 - DEBUG - Stop ID is 0
2018-02-21 02:15:00,319 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:00,321 - DEBUG - Entry ID is 217
2018-02-21 02:15:00,321 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:15:00,322 - DEBUG - OCA ID is 1
2018-02-21 02:15:00,322 - DEBUG - Connecting to IBController
2018-02-21 02:15:01,345 - DEBUG - Connected to IBController
2018-02-21 02:15:01,345 - DEBUG - Position requested
2018-02-21 02:15:01,346 - DEBUG - Pos Mgmt -12987
2018-02-21 02:15:01,346 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:15:01,348 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:15:01,348 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:15:01,348 - DEBUG - Position is -12987
2018-02-21 02:15:02,345 - DEBUG - Open Orders requested
2018-02-21 02:15:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-21 02:15:02,354 - DEBUG - Order OrderID 217
2018-02-21 02:15:02,358 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:15:02,358 - DEBUG - Order status PreSubmitted
2018-02-21 02:15:02,358 - DEBUG - Order Identification 217
2018-02-21 02:15:02,358 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:15:02,359 - DEBUG - Profit ID from database is 217
2018-02-21 02:15:02,359 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:15:02,359 - DEBUG - Stop ID database is 0
2018-02-21 02:15:02,359 - DEBUG - Entry ID database is 217
2018-02-21 02:15:02,359 - DEBUG - Profit API ID is 217
2018-02-21 02:15:02,361 - DEBUG - Entry API ID is 217
2018-02-21 02:15:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000208DF98>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-21 02:15:02,361 - DEBUG - Order OrderID 216
2018-02-21 02:15:02,362 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:15:02,362 - DEBUG - Order status PreSubmitted
2018-02-21 02:15:02,362 - DEBUG - Order Identification 216
2018-02-21 02:15:02,362 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:15:02,364 - DEBUG - Profit ID from database is 217
2018-02-21 02:15:02,364 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:15:02,364 - DEBUG - Stop ID database is 0
2018-02-21 02:15:02,364 - DEBUG - Entry ID database is 217
2018-02-21 02:15:04,348 - DEBUG - Connecting to database
2018-02-21 02:15:04,357 - DEBUG - Connected to database
2018-02-21 02:15:04,358 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,358 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:15:04,359 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,359 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:15:04,362 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,364 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:15:04,365 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,365 - DEBUG - Stop quantity 1
2018-02-21 02:15:04,367 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,367 - DEBUG - Direction is Short
2018-02-21 02:15:04,368 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,368 - DEBUG - Count is 0
2018-02-21 02:15:04,369 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:15:04,369 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:15:04,371 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:15:04,371 - DEBUG - Max ID Order is (217,)
2018-02-21 02:15:04,371 - DEBUG - Today is 2018-02-21
2018-02-21 02:15:04,372 - DEBUG - Day of the week 2
2018-02-21 02:15:04,372 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:15:04,372 - DEBUG - In Position is  0
2018-02-21 02:15:04,374 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:15:04,374 - DEBUG - curStopLossFlag is  0
2018-02-21 02:15:04,374 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:15:04,375 - DEBUG - Checking if Entry has been filled
2018-02-21 02:15:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:15:04,375 - DEBUG - EntryPend is 1
2018-02-21 02:15:04,377 - DEBUG - Try to Cancel Stop
2018-02-21 02:15:04,377 - DEBUG - Stop API ID 0
2018-02-21 02:15:04,377 - DEBUG - Profit API ID 217
2018-02-21 02:15:04,377 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:15:04,378 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:15:04,378 - DEBUG - Pos is 0
2018-02-21 02:15:04,378 - DEBUG - CurCount is 0
2018-02-21 02:15:04,378 - DEBUG - In Pos 0
2018-02-21 02:15:04,378 - DEBUG - Stop ID is 0
2018-02-21 02:15:04,378 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:15:04,380 - DEBUG - EntryPend is 1
2018-02-21 02:15:04,380 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:15:04,381 - DEBUG - Entry Date is 10
2018-02-21 02:15:04,381 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:15:04,381 - DEBUG - Order Profit ID is 217
2018-02-21 02:15:04,381 - DEBUG - Order Entry ID is 217
2018-02-21 02:15:04,381 - DEBUG - API ID is  0
2018-02-21 02:15:04,381 - DEBUG - Current Position is 0
2018-02-21 02:15:04,381 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:15:04,381 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:15:04,381 - DEBUG - Time is 2
2018-02-21 02:15:04,382 - DEBUG - Time is <class 'int'>
2018-02-21 02:15:04,382 - DEBUG - Disconnected from IBController
2018-02-21 02:15:04,382 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:20:00,269 - DEBUG - ****************************************************
2018-02-21 02:20:00,269 - DEBUG - Current Time is 02:20AM
2018-02-21 02:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:20:00,270 - DEBUG - Connecting to database
2018-02-21 02:20:00,299 - DEBUG - Connected to database
2018-02-21 02:20:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:00,302 - DEBUG - Order Profit is 217
2018-02-21 02:20:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:00,302 - DEBUG - Stop ID is 0
2018-02-21 02:20:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:00,305 - DEBUG - Entry ID is 217
2018-02-21 02:20:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:20:00,305 - DEBUG - OCA ID is 1
2018-02-21 02:20:00,306 - DEBUG - Connecting to IBController
2018-02-21 02:20:01,319 - DEBUG - Connected to IBController
2018-02-21 02:20:01,323 - DEBUG - Position requested
2018-02-21 02:20:01,323 - DEBUG - Pos Mgmt -12987
2018-02-21 02:20:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CE10>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:20:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:20:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:20:01,325 - DEBUG - Position is -12987
2018-02-21 02:20:02,325 - DEBUG - Open Orders requested
2018-02-21 02:20:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000209CBE0>, order=<ib.ext.Order.Order object at 0x000000000209CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021310F0>>
2018-02-21 02:20:02,328 - DEBUG - Order OrderID 217
2018-02-21 02:20:02,328 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:20:02,329 - DEBUG - Order status PreSubmitted
2018-02-21 02:20:02,329 - DEBUG - Order Identification 217
2018-02-21 02:20:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:20:02,331 - DEBUG - Profit ID from database is 217
2018-02-21 02:20:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:20:02,331 - DEBUG - Stop ID database is 0
2018-02-21 02:20:02,331 - DEBUG - Entry ID database is 217
2018-02-21 02:20:02,338 - DEBUG - Profit API ID is 217
2018-02-21 02:20:02,338 - DEBUG - Entry API ID is 217
2018-02-21 02:20:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000209CF98>, order=<ib.ext.Order.Order object at 0x000000000209CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131160>>
2018-02-21 02:20:02,339 - DEBUG - Order OrderID 216
2018-02-21 02:20:02,341 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:20:02,341 - DEBUG - Order status PreSubmitted
2018-02-21 02:20:02,341 - DEBUG - Order Identification 216
2018-02-21 02:20:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:20:02,342 - DEBUG - Profit ID from database is 217
2018-02-21 02:20:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:20:02,342 - DEBUG - Stop ID database is 0
2018-02-21 02:20:02,342 - DEBUG - Entry ID database is 217
2018-02-21 02:20:04,326 - DEBUG - Connecting to database
2018-02-21 02:20:04,334 - DEBUG - Connected to database
2018-02-21 02:20:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,336 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:20:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:20:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,339 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:20:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,342 - DEBUG - Stop quantity 1
2018-02-21 02:20:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,344 - DEBUG - Direction is Short
2018-02-21 02:20:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,345 - DEBUG - Count is 0
2018-02-21 02:20:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:20:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:20:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:20:04,348 - DEBUG - Max ID Order is (217,)
2018-02-21 02:20:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 02:20:04,349 - DEBUG - Day of the week 2
2018-02-21 02:20:04,349 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:20:04,349 - DEBUG - In Position is  0
2018-02-21 02:20:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:20:04,351 - DEBUG - curStopLossFlag is  0
2018-02-21 02:20:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:20:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 02:20:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:20:04,352 - DEBUG - EntryPend is 1
2018-02-21 02:20:04,352 - DEBUG - Try to Cancel Stop
2018-02-21 02:20:04,354 - DEBUG - Stop API ID 0
2018-02-21 02:20:04,354 - DEBUG - Profit API ID 217
2018-02-21 02:20:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:20:04,354 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:20:04,354 - DEBUG - Pos is 0
2018-02-21 02:20:04,355 - DEBUG - CurCount is 0
2018-02-21 02:20:04,355 - DEBUG - In Pos 0
2018-02-21 02:20:04,355 - DEBUG - Stop ID is 0
2018-02-21 02:20:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:20:04,357 - DEBUG - EntryPend is 1
2018-02-21 02:20:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:20:04,357 - DEBUG - Entry Date is 10
2018-02-21 02:20:04,358 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:20:04,358 - DEBUG - Order Profit ID is 217
2018-02-21 02:20:04,358 - DEBUG - Order Entry ID is 217
2018-02-21 02:20:04,358 - DEBUG - API ID is  0
2018-02-21 02:20:04,358 - DEBUG - Current Position is 0
2018-02-21 02:20:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:20:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:20:04,358 - DEBUG - Time is 2
2018-02-21 02:20:04,359 - DEBUG - Time is <class 'int'>
2018-02-21 02:20:04,359 - DEBUG - Disconnected from IBController
2018-02-21 02:20:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:25:00,263 - DEBUG - ****************************************************
2018-02-21 02:25:00,263 - DEBUG - Current Time is 02:25AM
2018-02-21 02:25:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:25:00,263 - DEBUG - Connecting to database
2018-02-21 02:25:00,293 - DEBUG - Connected to database
2018-02-21 02:25:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:00,296 - DEBUG - Order Profit is 217
2018-02-21 02:25:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:00,298 - DEBUG - Stop ID is 0
2018-02-21 02:25:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:00,301 - DEBUG - Entry ID is 217
2018-02-21 02:25:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:25:00,302 - DEBUG - OCA ID is 1
2018-02-21 02:25:00,302 - DEBUG - Connecting to IBController
2018-02-21 02:25:01,309 - DEBUG - Connected to IBController
2018-02-21 02:25:01,309 - DEBUG - Position requested
2018-02-21 02:25:01,312 - DEBUG - Pos Mgmt -12987
2018-02-21 02:25:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:25:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:25:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:25:01,313 - DEBUG - Position is -12987
2018-02-21 02:25:02,312 - DEBUG - Open Orders requested
2018-02-21 02:25:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000203DDD8>, order=<ib.ext.Order.Order object at 0x000000000203DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-21 02:25:02,322 - DEBUG - Order OrderID 217
2018-02-21 02:25:02,322 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:25:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 02:25:02,323 - DEBUG - Order Identification 217
2018-02-21 02:25:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:25:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 02:25:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:25:02,325 - DEBUG - Stop ID database is 0
2018-02-21 02:25:02,325 - DEBUG - Entry ID database is 217
2018-02-21 02:25:02,325 - DEBUG - Profit API ID is 217
2018-02-21 02:25:02,325 - DEBUG - Entry API ID is 217
2018-02-21 02:25:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000203DF98>, order=<ib.ext.Order.Order object at 0x000000000203DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-21 02:25:02,326 - DEBUG - Order OrderID 216
2018-02-21 02:25:02,328 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:25:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 02:25:02,328 - DEBUG - Order Identification 216
2018-02-21 02:25:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:25:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 02:25:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:25:02,328 - DEBUG - Stop ID database is 0
2018-02-21 02:25:02,329 - DEBUG - Entry ID database is 217
2018-02-21 02:25:04,321 - DEBUG - Connecting to database
2018-02-21 02:25:04,328 - DEBUG - Connected to database
2018-02-21 02:25:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,329 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:25:04,331 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,332 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:25:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,332 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:25:04,335 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,335 - DEBUG - Stop quantity 1
2018-02-21 02:25:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,336 - DEBUG - Direction is Short
2018-02-21 02:25:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,338 - DEBUG - Count is 0
2018-02-21 02:25:04,339 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:25:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:25:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:25:04,342 - DEBUG - Max ID Order is (217,)
2018-02-21 02:25:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 02:25:04,342 - DEBUG - Day of the week 2
2018-02-21 02:25:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:25:04,342 - DEBUG - In Position is  0
2018-02-21 02:25:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:25:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 02:25:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:25:04,344 - DEBUG - Checking if Entry has been filled
2018-02-21 02:25:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:25:04,345 - DEBUG - EntryPend is 1
2018-02-21 02:25:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 02:25:04,345 - DEBUG - Stop API ID 0
2018-02-21 02:25:04,345 - DEBUG - Profit API ID 217
2018-02-21 02:25:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:25:04,346 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:25:04,346 - DEBUG - Pos is 0
2018-02-21 02:25:04,346 - DEBUG - CurCount is 0
2018-02-21 02:25:04,346 - DEBUG - In Pos 0
2018-02-21 02:25:04,348 - DEBUG - Stop ID is 0
2018-02-21 02:25:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:25:04,348 - DEBUG - EntryPend is 1
2018-02-21 02:25:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:25:04,349 - DEBUG - Entry Date is 10
2018-02-21 02:25:04,349 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:25:04,349 - DEBUG - Order Profit ID is 217
2018-02-21 02:25:04,349 - DEBUG - Order Entry ID is 217
2018-02-21 02:25:04,349 - DEBUG - API ID is  0
2018-02-21 02:25:04,351 - DEBUG - Current Position is 0
2018-02-21 02:25:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:25:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:25:04,351 - DEBUG - Time is 2
2018-02-21 02:25:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 02:25:04,351 - DEBUG - Disconnected from IBController
2018-02-21 02:25:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:30:00,262 - DEBUG - ****************************************************
2018-02-21 02:30:00,262 - DEBUG - Current Time is 02:30AM
2018-02-21 02:30:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:30:00,263 - DEBUG - Connecting to database
2018-02-21 02:30:00,282 - DEBUG - Connected to database
2018-02-21 02:30:00,282 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:00,283 - DEBUG - Order Profit is 217
2018-02-21 02:30:00,283 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:00,285 - DEBUG - Stop ID is 0
2018-02-21 02:30:00,286 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:00,286 - DEBUG - Entry ID is 217
2018-02-21 02:30:00,286 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:30:00,288 - DEBUG - OCA ID is 1
2018-02-21 02:30:00,289 - DEBUG - Connecting to IBController
2018-02-21 02:30:01,295 - DEBUG - Connected to IBController
2018-02-21 02:30:01,295 - DEBUG - Position requested
2018-02-21 02:30:01,299 - DEBUG - Pos Mgmt -12987
2018-02-21 02:30:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:30:01,299 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:30:01,299 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:30:01,301 - DEBUG - Position is -12987
2018-02-21 02:30:02,296 - DEBUG - Open Orders requested
2018-02-21 02:30:02,299 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, order=<ib.ext.Order.Order object at 0x000000000205DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1160>>
2018-02-21 02:30:02,299 - DEBUG - Order OrderID 217
2018-02-21 02:30:02,299 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:30:02,299 - DEBUG - Order status PreSubmitted
2018-02-21 02:30:02,301 - DEBUG - Order Identification 217
2018-02-21 02:30:02,301 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:30:02,305 - DEBUG - Profit ID from database is 217
2018-02-21 02:30:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:30:02,305 - DEBUG - Stop ID database is 0
2018-02-21 02:30:02,305 - DEBUG - Entry ID database is 217
2018-02-21 02:30:02,305 - DEBUG - Profit API ID is 217
2018-02-21 02:30:02,305 - DEBUG - Entry API ID is 217
2018-02-21 02:30:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, order=<ib.ext.Order.Order object at 0x000000000205DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 02:30:02,308 - DEBUG - Order OrderID 216
2018-02-21 02:30:02,308 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:30:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 02:30:02,309 - DEBUG - Order Identification 216
2018-02-21 02:30:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:30:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 02:30:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:30:02,309 - DEBUG - Stop ID database is 0
2018-02-21 02:30:02,309 - DEBUG - Entry ID database is 217
2018-02-21 02:30:04,299 - DEBUG - Connecting to database
2018-02-21 02:30:04,306 - DEBUG - Connected to database
2018-02-21 02:30:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,309 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:30:04,309 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,311 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:30:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,312 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:30:04,313 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,313 - DEBUG - Stop quantity 1
2018-02-21 02:30:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,315 - DEBUG - Direction is Short
2018-02-21 02:30:04,316 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,318 - DEBUG - Count is 0
2018-02-21 02:30:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:30:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:30:04,321 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:30:04,321 - DEBUG - Max ID Order is (217,)
2018-02-21 02:30:04,322 - DEBUG - Today is 2018-02-21
2018-02-21 02:30:04,322 - DEBUG - Day of the week 2
2018-02-21 02:30:04,322 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:30:04,322 - DEBUG - In Position is  0
2018-02-21 02:30:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:30:04,322 - DEBUG - curStopLossFlag is  0
2018-02-21 02:30:04,322 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:30:04,323 - DEBUG - Checking if Entry has been filled
2018-02-21 02:30:04,323 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:30:04,325 - DEBUG - EntryPend is 1
2018-02-21 02:30:04,325 - DEBUG - Try to Cancel Stop
2018-02-21 02:30:04,325 - DEBUG - Stop API ID 0
2018-02-21 02:30:04,325 - DEBUG - Profit API ID 217
2018-02-21 02:30:04,326 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:30:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:30:04,326 - DEBUG - Pos is 0
2018-02-21 02:30:04,326 - DEBUG - CurCount is 0
2018-02-21 02:30:04,328 - DEBUG - In Pos 0
2018-02-21 02:30:04,328 - DEBUG - Stop ID is 0
2018-02-21 02:30:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:30:04,329 - DEBUG - EntryPend is 1
2018-02-21 02:30:04,329 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:30:04,329 - DEBUG - Entry Date is 10
2018-02-21 02:30:04,329 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:30:04,331 - DEBUG - Order Profit ID is 217
2018-02-21 02:30:04,331 - DEBUG - Order Entry ID is 217
2018-02-21 02:30:04,331 - DEBUG - API ID is  0
2018-02-21 02:30:04,331 - DEBUG - Current Position is 0
2018-02-21 02:30:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:30:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:30:04,332 - DEBUG - Time is 2
2018-02-21 02:30:04,332 - DEBUG - Time is <class 'int'>
2018-02-21 02:30:04,332 - DEBUG - Disconnected from IBController
2018-02-21 02:30:04,334 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:35:00,263 - DEBUG - ****************************************************
2018-02-21 02:35:00,263 - DEBUG - Current Time is 02:35AM
2018-02-21 02:35:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:35:00,263 - DEBUG - Connecting to database
2018-02-21 02:35:00,303 - DEBUG - Connected to database
2018-02-21 02:35:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:00,305 - DEBUG - Order Profit is 217
2018-02-21 02:35:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:00,308 - DEBUG - Stop ID is 0
2018-02-21 02:35:00,308 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:00,309 - DEBUG - Entry ID is 217
2018-02-21 02:35:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:35:00,311 - DEBUG - OCA ID is 1
2018-02-21 02:35:00,311 - DEBUG - Connecting to IBController
2018-02-21 02:35:01,319 - DEBUG - Connected to IBController
2018-02-21 02:35:01,319 - DEBUG - Position requested
2018-02-21 02:35:01,321 - DEBUG - Pos Mgmt -12987
2018-02-21 02:35:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:35:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:35:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:35:01,322 - DEBUG - Position is -12987
2018-02-21 02:35:02,321 - DEBUG - Open Orders requested
2018-02-21 02:35:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000206DC88>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-21 02:35:02,328 - DEBUG - Order OrderID 217
2018-02-21 02:35:02,332 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:35:02,334 - DEBUG - Order status PreSubmitted
2018-02-21 02:35:02,334 - DEBUG - Order Identification 217
2018-02-21 02:35:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:35:02,335 - DEBUG - Profit ID from database is 217
2018-02-21 02:35:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:35:02,335 - DEBUG - Stop ID database is 0
2018-02-21 02:35:02,335 - DEBUG - Entry ID database is 217
2018-02-21 02:35:02,335 - DEBUG - Profit API ID is 217
2018-02-21 02:35:02,335 - DEBUG - Entry API ID is 217
2018-02-21 02:35:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=216, contract=<ib.ext.Contract.Contract object at 0x000000000206DF98>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-21 02:35:02,336 - DEBUG - Order OrderID 216
2018-02-21 02:35:02,338 - DEBUG - reply handler status <orderStatus orderId=216, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351440, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:35:02,338 - DEBUG - Order status PreSubmitted
2018-02-21 02:35:02,338 - DEBUG - Order Identification 216
2018-02-21 02:35:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:35:02,338 - DEBUG - Profit ID from database is 217
2018-02-21 02:35:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:35:02,338 - DEBUG - Stop ID database is 0
2018-02-21 02:35:02,338 - DEBUG - Entry ID database is 217
2018-02-21 02:35:04,326 - DEBUG - Connecting to database
2018-02-21 02:35:04,334 - DEBUG - Connected to database
2018-02-21 02:35:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:35:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:35:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,339 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:35:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,341 - DEBUG - Stop quantity 1
2018-02-21 02:35:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,342 - DEBUG - Direction is Short
2018-02-21 02:35:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,345 - DEBUG - Count is 0
2018-02-21 02:35:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:35:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:35:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:35:04,348 - DEBUG - Max ID Order is (217,)
2018-02-21 02:35:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 02:35:04,348 - DEBUG - Day of the week 2
2018-02-21 02:35:04,349 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:35:04,349 - DEBUG - In Position is  0
2018-02-21 02:35:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:35:04,351 - DEBUG - curStopLossFlag is  0
2018-02-21 02:35:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:35:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 02:35:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:35:04,352 - DEBUG - EntryPend is 1
2018-02-21 02:35:04,352 - DEBUG - Try to Cancel Stop
2018-02-21 02:35:04,352 - DEBUG - Stop API ID 0
2018-02-21 02:35:04,352 - DEBUG - Profit API ID 217
2018-02-21 02:35:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:35:04,354 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:35:04,354 - DEBUG - Pos is 0
2018-02-21 02:35:04,354 - DEBUG - CurCount is 0
2018-02-21 02:35:04,355 - DEBUG - In Pos 0
2018-02-21 02:35:04,355 - DEBUG - Stop ID is 0
2018-02-21 02:35:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:35:04,357 - DEBUG - EntryPend is 1
2018-02-21 02:35:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:35:04,357 - DEBUG - Entry Date is 10
2018-02-21 02:35:04,357 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:35:04,358 - DEBUG - Order Profit ID is 217
2018-02-21 02:35:04,358 - DEBUG - Order Entry ID is 217
2018-02-21 02:35:04,358 - DEBUG - API ID is  0
2018-02-21 02:35:04,358 - DEBUG - Current Position is 0
2018-02-21 02:35:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:35:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:35:04,358 - DEBUG - Time is 2
2018-02-21 02:35:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 02:35:04,359 - DEBUG - Disconnected from IBController
2018-02-21 02:35:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:40:00,308 - DEBUG - ****************************************************
2018-02-21 02:40:00,308 - DEBUG - Current Time is 02:40AM
2018-02-21 02:40:00,309 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:40:00,309 - DEBUG - Connecting to database
2018-02-21 02:40:00,332 - DEBUG - Connected to database
2018-02-21 02:40:00,334 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:00,335 - DEBUG - Order Profit is 217
2018-02-21 02:40:00,335 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:00,336 - DEBUG - Stop ID is 0
2018-02-21 02:40:00,336 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:00,338 - DEBUG - Entry ID is 217
2018-02-21 02:40:00,338 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:40:00,339 - DEBUG - OCA ID is 1
2018-02-21 02:40:00,341 - DEBUG - Connecting to IBController
2018-02-21 02:40:01,352 - DEBUG - Connected to IBController
2018-02-21 02:40:01,352 - DEBUG - Position requested
2018-02-21 02:40:01,355 - DEBUG - Pos Mgmt -5
2018-02-21 02:40:01,357 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=-5, avgCost=15412.170000000004>
2018-02-21 02:40:01,357 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 02:40:01,357 - DEBUG - ccy2 Currency with position is USD
2018-02-21 02:40:01,358 - DEBUG - Position is -5
2018-02-21 02:40:01,358 - DEBUG - Pos Mgmt -12987
2018-02-21 02:40:01,358 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:40:01,358 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:40:01,358 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:40:01,358 - DEBUG - Position is -12987
2018-02-21 02:40:02,355 - DEBUG - Open Orders requested
2018-02-21 02:40:02,358 - DEBUG - Reply Handler Orders is <openOrder orderId=217, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-21 02:40:02,361 - DEBUG - Order OrderID 217
2018-02-21 02:40:02,367 - DEBUG - reply handler status <orderStatus orderId=217, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351441, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:40:02,368 - DEBUG - Order status PreSubmitted
2018-02-21 02:40:02,368 - DEBUG - Order Identification 217
2018-02-21 02:40:02,368 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:40:02,368 - DEBUG - Profit ID from database is 217
2018-02-21 02:40:02,368 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:40:02,368 - DEBUG - Stop ID database is 0
2018-02-21 02:40:02,368 - DEBUG - Entry ID database is 217
2018-02-21 02:40:02,369 - DEBUG - Profit API ID is 217
2018-02-21 02:40:02,369 - DEBUG - Entry API ID is 217
2018-02-21 02:40:04,361 - DEBUG - Connecting to database
2018-02-21 02:40:04,368 - DEBUG - Connected to database
2018-02-21 02:40:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,369 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:40:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,371 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:40:04,374 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,374 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:40:04,375 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,375 - DEBUG - Stop quantity 1
2018-02-21 02:40:04,377 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,377 - DEBUG - Direction is Short
2018-02-21 02:40:04,378 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,378 - DEBUG - Count is 0
2018-02-21 02:40:04,381 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:40:04,381 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:40:04,381 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:40:04,382 - DEBUG - Max ID Order is (217,)
2018-02-21 02:40:04,382 - DEBUG - Today is 2018-02-21
2018-02-21 02:40:04,382 - DEBUG - Day of the week 2
2018-02-21 02:40:04,384 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:40:04,384 - DEBUG - In Position is  0
2018-02-21 02:40:04,384 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:40:04,384 - DEBUG - curStopLossFlag is  0
2018-02-21 02:40:04,384 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:40:04,384 - DEBUG - Checking if Entry has been filled
2018-02-21 02:40:04,384 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:40:04,387 - DEBUG - EntryPend is 1
2018-02-21 02:40:04,387 - DEBUG - Try to Cancel Stop
2018-02-21 02:40:04,387 - DEBUG - Stop API ID 0
2018-02-21 02:40:04,387 - DEBUG - Profit API ID 217
2018-02-21 02:40:04,387 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:40:04,388 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:40:04,388 - DEBUG - Pos is 0
2018-02-21 02:40:04,388 - DEBUG - CurCount is 0
2018-02-21 02:40:04,388 - DEBUG - In Pos 0
2018-02-21 02:40:04,388 - DEBUG - Stop ID is 0
2018-02-21 02:40:04,388 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:40:04,390 - DEBUG - EntryPend is 1
2018-02-21 02:40:04,390 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:40:04,391 - DEBUG - Entry Date is 10
2018-02-21 02:40:04,391 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:40:04,391 - DEBUG - Order Profit ID is 217
2018-02-21 02:40:04,391 - DEBUG - Order Entry ID is 217
2018-02-21 02:40:04,391 - DEBUG - API ID is  0
2018-02-21 02:40:04,391 - DEBUG - Current Position is 0
2018-02-21 02:40:04,391 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:40:04,391 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:40:04,392 - DEBUG - Time is 2
2018-02-21 02:40:04,392 - DEBUG - Time is <class 'int'>
2018-02-21 02:40:04,392 - DEBUG - Disconnected from IBController
2018-02-21 02:40:04,394 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:45:00,276 - DEBUG - ****************************************************
2018-02-21 02:45:00,276 - DEBUG - Current Time is 02:45AM
2018-02-21 02:45:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:45:00,276 - DEBUG - Connecting to database
2018-02-21 02:45:00,301 - DEBUG - Connected to database
2018-02-21 02:45:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:00,302 - DEBUG - Order Profit is 217
2018-02-21 02:45:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:00,303 - DEBUG - Stop ID is 0
2018-02-21 02:45:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:00,305 - DEBUG - Entry ID is 217
2018-02-21 02:45:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:45:00,308 - DEBUG - OCA ID is 1
2018-02-21 02:45:00,308 - DEBUG - Connecting to IBController
2018-02-21 02:45:01,318 - DEBUG - Connected to IBController
2018-02-21 02:45:01,318 - DEBUG - Position requested
2018-02-21 02:45:01,321 - DEBUG - Pos Mgmt -5
2018-02-21 02:45:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202BD30>, pos=-5, avgCost=15412.17>
2018-02-21 02:45:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 02:45:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-21 02:45:01,322 - DEBUG - Position is -5
2018-02-21 02:45:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 02:45:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202BBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:45:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:45:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:45:01,323 - DEBUG - Position is -12987
2018-02-21 02:45:02,319 - DEBUG - Open Orders requested
2018-02-21 02:45:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000202BD30>, order=<ib.ext.Order.Order object at 0x000000000202BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C00B8>>
2018-02-21 02:45:02,325 - DEBUG - Order OrderID 218
2018-02-21 02:45:02,325 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:45:02,326 - DEBUG - Order status PreSubmitted
2018-02-21 02:45:02,326 - DEBUG - Order Identification 218
2018-02-21 02:45:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:45:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 02:45:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:45:02,328 - DEBUG - Stop ID database is 0
2018-02-21 02:45:02,328 - DEBUG - Entry ID database is 217
2018-02-21 02:45:04,319 - DEBUG - Connecting to database
2018-02-21 02:45:04,326 - DEBUG - Connected to database
2018-02-21 02:45:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,328 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:45:04,331 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,331 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:45:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,332 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:45:04,334 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,335 - DEBUG - Stop quantity 1
2018-02-21 02:45:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,335 - DEBUG - Direction is Short
2018-02-21 02:45:04,336 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,338 - DEBUG - Count is 0
2018-02-21 02:45:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:45:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:45:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:45:04,341 - DEBUG - Max ID Order is (218,)
2018-02-21 02:45:04,341 - DEBUG - Today is 2018-02-21
2018-02-21 02:45:04,342 - DEBUG - Day of the week 2
2018-02-21 02:45:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:45:04,342 - DEBUG - In Position is  0
2018-02-21 02:45:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:45:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 02:45:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:45:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 02:45:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:45:04,345 - DEBUG - EntryPend is 1
2018-02-21 02:45:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 02:45:04,345 - DEBUG - Stop API ID 0
2018-02-21 02:45:04,345 - DEBUG - Profit API ID 0
2018-02-21 02:45:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:45:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:45:04,345 - DEBUG - Pos is 0
2018-02-21 02:45:04,346 - DEBUG - CurCount is 0
2018-02-21 02:45:04,346 - DEBUG - In Pos 0
2018-02-21 02:45:04,346 - DEBUG - Stop ID is 0
2018-02-21 02:45:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:45:04,348 - DEBUG - EntryPend is 1
2018-02-21 02:45:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:45:04,348 - DEBUG - Entry Date is 10
2018-02-21 02:45:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:45:04,349 - DEBUG - Order Profit ID is 217
2018-02-21 02:45:04,349 - DEBUG - Order Entry ID is 217
2018-02-21 02:45:04,349 - DEBUG - API ID is  0
2018-02-21 02:45:04,349 - DEBUG - Current Position is 0
2018-02-21 02:45:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:45:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:45:04,351 - DEBUG - Time is 2
2018-02-21 02:45:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 02:45:04,351 - DEBUG - Disconnected from IBController
2018-02-21 02:45:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:50:00,267 - DEBUG - ****************************************************
2018-02-21 02:50:00,269 - DEBUG - Current Time is 02:50AM
2018-02-21 02:50:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:50:00,269 - DEBUG - Connecting to database
2018-02-21 02:50:00,303 - DEBUG - Connected to database
2018-02-21 02:50:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:00,305 - DEBUG - Order Profit is 217
2018-02-21 02:50:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:00,308 - DEBUG - Stop ID is 0
2018-02-21 02:50:00,308 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:00,309 - DEBUG - Entry ID is 217
2018-02-21 02:50:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:50:00,311 - DEBUG - OCA ID is 1
2018-02-21 02:50:00,311 - DEBUG - Connecting to IBController
2018-02-21 02:50:01,331 - DEBUG - Connected to IBController
2018-02-21 02:50:01,331 - DEBUG - Position requested
2018-02-21 02:50:01,332 - DEBUG - Pos Mgmt -5
2018-02-21 02:50:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD68>, pos=-5, avgCost=15412.17>
2018-02-21 02:50:01,334 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 02:50:01,334 - DEBUG - ccy2 Currency with position is USD
2018-02-21 02:50:01,334 - DEBUG - Position is -5
2018-02-21 02:50:01,335 - DEBUG - Pos Mgmt -12987
2018-02-21 02:50:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:50:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:50:01,335 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:50:01,335 - DEBUG - Position is -12987
2018-02-21 02:50:02,332 - DEBUG - Open Orders requested
2018-02-21 02:50:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-21 02:50:02,335 - DEBUG - Order OrderID 218
2018-02-21 02:50:02,335 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:50:02,335 - DEBUG - Order status PreSubmitted
2018-02-21 02:50:02,335 - DEBUG - Order Identification 218
2018-02-21 02:50:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:50:02,336 - DEBUG - Profit ID from database is 217
2018-02-21 02:50:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:50:02,336 - DEBUG - Stop ID database is 0
2018-02-21 02:50:02,338 - DEBUG - Entry ID database is 217
2018-02-21 02:50:04,335 - DEBUG - Connecting to database
2018-02-21 02:50:04,342 - DEBUG - Connected to database
2018-02-21 02:50:04,344 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,345 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:50:04,345 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,345 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:50:04,348 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,348 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:50:04,349 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,349 - DEBUG - Stop quantity 1
2018-02-21 02:50:04,351 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,351 - DEBUG - Direction is Short
2018-02-21 02:50:04,352 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,352 - DEBUG - Count is 0
2018-02-21 02:50:04,354 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:50:04,355 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:50:04,355 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:50:04,357 - DEBUG - Max ID Order is (218,)
2018-02-21 02:50:04,357 - DEBUG - Today is 2018-02-21
2018-02-21 02:50:04,357 - DEBUG - Day of the week 2
2018-02-21 02:50:04,358 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:50:04,358 - DEBUG - In Position is  0
2018-02-21 02:50:04,358 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:50:04,358 - DEBUG - curStopLossFlag is  0
2018-02-21 02:50:04,358 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:50:04,358 - DEBUG - Checking if Entry has been filled
2018-02-21 02:50:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:50:04,361 - DEBUG - EntryPend is 1
2018-02-21 02:50:04,361 - DEBUG - Try to Cancel Stop
2018-02-21 02:50:04,361 - DEBUG - Stop API ID 0
2018-02-21 02:50:04,361 - DEBUG - Profit API ID 0
2018-02-21 02:50:04,361 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:50:04,361 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:50:04,361 - DEBUG - Pos is 0
2018-02-21 02:50:04,361 - DEBUG - CurCount is 0
2018-02-21 02:50:04,362 - DEBUG - In Pos 0
2018-02-21 02:50:04,362 - DEBUG - Stop ID is 0
2018-02-21 02:50:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:50:04,365 - DEBUG - EntryPend is 1
2018-02-21 02:50:04,365 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:50:04,365 - DEBUG - Entry Date is 10
2018-02-21 02:50:04,365 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:50:04,365 - DEBUG - Order Profit ID is 217
2018-02-21 02:50:04,365 - DEBUG - Order Entry ID is 217
2018-02-21 02:50:04,365 - DEBUG - API ID is  0
2018-02-21 02:50:04,365 - DEBUG - Current Position is 0
2018-02-21 02:50:04,365 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:50:04,367 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:50:04,367 - DEBUG - Time is 2
2018-02-21 02:50:04,367 - DEBUG - Time is <class 'int'>
2018-02-21 02:50:04,367 - DEBUG - Disconnected from IBController
2018-02-21 02:50:04,368 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 02:55:00,283 - DEBUG - ****************************************************
2018-02-21 02:55:00,283 - DEBUG - Current Time is 02:55AM
2018-02-21 02:55:00,285 - DEBUG - Starting Pos Mgmt E S
2018-02-21 02:55:00,285 - DEBUG - Connecting to database
2018-02-21 02:55:00,309 - DEBUG - Connected to database
2018-02-21 02:55:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:00,311 - DEBUG - Order Profit is 217
2018-02-21 02:55:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:00,312 - DEBUG - Stop ID is 0
2018-02-21 02:55:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:00,313 - DEBUG - Entry ID is 217
2018-02-21 02:55:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 02:55:00,315 - DEBUG - OCA ID is 1
2018-02-21 02:55:00,315 - DEBUG - Connecting to IBController
2018-02-21 02:55:01,322 - DEBUG - Connected to IBController
2018-02-21 02:55:01,322 - DEBUG - Position requested
2018-02-21 02:55:01,323 - DEBUG - Pos Mgmt -5
2018-02-21 02:55:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-5, avgCost=15412.17>
2018-02-21 02:55:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 02:55:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 02:55:01,325 - DEBUG - Position is -5
2018-02-21 02:55:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 02:55:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 02:55:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 02:55:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 02:55:01,326 - DEBUG - Position is -12987
2018-02-21 02:55:02,323 - DEBUG - Open Orders requested
2018-02-21 02:55:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-21 02:55:02,332 - DEBUG - Order OrderID 218
2018-02-21 02:55:02,332 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 02:55:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 02:55:02,332 - DEBUG - Order Identification 218
2018-02-21 02:55:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-21 02:55:02,334 - DEBUG - Profit ID from database is 217
2018-02-21 02:55:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 02:55:02,334 - DEBUG - Stop ID database is 0
2018-02-21 02:55:02,335 - DEBUG - Entry ID database is 217
2018-02-21 02:55:04,332 - DEBUG - Connecting to database
2018-02-21 02:55:04,338 - DEBUG - Connected to database
2018-02-21 02:55:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,341 - DEBUG - Stop loss value is 2738.25
2018-02-21 02:55:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,342 - DEBUG - Stop loss value is 2695.0
2018-02-21 02:55:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,344 - DEBUG - EntryPrice value is 2704.5
2018-02-21 02:55:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,345 - DEBUG - Stop quantity 1
2018-02-21 02:55:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,348 - DEBUG - Direction is Short
2018-02-21 02:55:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,348 - DEBUG - Count is 0
2018-02-21 02:55:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 02:55:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 02:55:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 02:55:04,352 - DEBUG - Max ID Order is (218,)
2018-02-21 02:55:04,352 - DEBUG - Today is 2018-02-21
2018-02-21 02:55:04,354 - DEBUG - Day of the week 2
2018-02-21 02:55:04,354 - DEBUG - Yesterday is 02/20/2018
2018-02-21 02:55:04,354 - DEBUG - In Position is  0
2018-02-21 02:55:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-21 02:55:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 02:55:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 02:55:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 02:55:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:55:04,357 - DEBUG - EntryPend is 1
2018-02-21 02:55:04,357 - DEBUG - Try to Cancel Stop
2018-02-21 02:55:04,357 - DEBUG - Stop API ID 0
2018-02-21 02:55:04,357 - DEBUG - Profit API ID 0
2018-02-21 02:55:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 02:55:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 02:55:04,358 - DEBUG - Pos is 0
2018-02-21 02:55:04,358 - DEBUG - CurCount is 0
2018-02-21 02:55:04,358 - DEBUG - In Pos 0
2018-02-21 02:55:04,358 - DEBUG - Stop ID is 0
2018-02-21 02:55:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 02:55:04,359 - DEBUG - EntryPend is 1
2018-02-21 02:55:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 02:55:04,361 - DEBUG - Entry Date is 10
2018-02-21 02:55:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 02:55:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 02:55:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 02:55:04,361 - DEBUG - API ID is  0
2018-02-21 02:55:04,361 - DEBUG - Current Position is 0
2018-02-21 02:55:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-21 02:55:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 02:55:04,362 - DEBUG - Time is 2
2018-02-21 02:55:04,362 - DEBUG - Time is <class 'int'>
2018-02-21 02:55:04,362 - DEBUG - Disconnected from IBController
2018-02-21 02:55:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:00:00,265 - DEBUG - ****************************************************
2018-02-21 03:00:00,266 - DEBUG - Current Time is 03:00AM
2018-02-21 03:00:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:00:00,266 - DEBUG - Connecting to database
2018-02-21 03:00:00,305 - DEBUG - Connected to database
2018-02-21 03:00:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:00,308 - DEBUG - Order Profit is 217
2018-02-21 03:00:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:00,309 - DEBUG - Stop ID is 0
2018-02-21 03:00:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:00,311 - DEBUG - Entry ID is 217
2018-02-21 03:00:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:00:00,312 - DEBUG - OCA ID is 1
2018-02-21 03:00:00,312 - DEBUG - Connecting to IBController
2018-02-21 03:00:01,331 - DEBUG - Connected to IBController
2018-02-21 03:00:01,331 - DEBUG - Position requested
2018-02-21 03:00:01,334 - DEBUG - Pos Mgmt -5
2018-02-21 03:00:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDD30>, pos=-5, avgCost=15412.17>
2018-02-21 03:00:01,335 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:00:01,338 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:00:01,338 - DEBUG - Position is -5
2018-02-21 03:00:01,339 - DEBUG - Pos Mgmt -12987
2018-02-21 03:00:01,339 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:00:01,341 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:00:01,341 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:00:01,341 - DEBUG - Position is -12987
2018-02-21 03:00:02,332 - DEBUG - Open Orders requested
2018-02-21 03:00:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020BDD30>, order=<ib.ext.Order.Order object at 0x00000000020BDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021520B8>>
2018-02-21 03:00:02,335 - DEBUG - Order OrderID 218
2018-02-21 03:00:02,335 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:00:02,335 - DEBUG - Order status PreSubmitted
2018-02-21 03:00:02,335 - DEBUG - Order Identification 218
2018-02-21 03:00:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:00:02,336 - DEBUG - Profit ID from database is 217
2018-02-21 03:00:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:00:02,338 - DEBUG - Stop ID database is 0
2018-02-21 03:00:02,338 - DEBUG - Entry ID database is 217
2018-02-21 03:00:04,332 - DEBUG - Connecting to database
2018-02-21 03:00:04,339 - DEBUG - Connected to database
2018-02-21 03:00:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,342 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:00:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,344 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:00:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,345 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:00:04,346 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,348 - DEBUG - Stop quantity 1
2018-02-21 03:00:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,348 - DEBUG - Direction is Short
2018-02-21 03:00:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,351 - DEBUG - Count is 0
2018-02-21 03:00:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:00:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:00:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:00:04,354 - DEBUG - Max ID Order is (218,)
2018-02-21 03:00:04,355 - DEBUG - Today is 2018-02-21
2018-02-21 03:00:04,355 - DEBUG - Day of the week 2
2018-02-21 03:00:04,355 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:00:04,355 - DEBUG - In Position is  0
2018-02-21 03:00:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:00:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 03:00:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:00:04,357 - DEBUG - Checking if Entry has been filled
2018-02-21 03:00:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:00:04,358 - DEBUG - EntryPend is 1
2018-02-21 03:00:04,358 - DEBUG - Try to Cancel Stop
2018-02-21 03:00:04,358 - DEBUG - Stop API ID 0
2018-02-21 03:00:04,358 - DEBUG - Profit API ID 0
2018-02-21 03:00:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:00:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:00:04,359 - DEBUG - Pos is 0
2018-02-21 03:00:04,359 - DEBUG - CurCount is 0
2018-02-21 03:00:04,359 - DEBUG - In Pos 0
2018-02-21 03:00:04,359 - DEBUG - Stop ID is 0
2018-02-21 03:00:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:00:04,361 - DEBUG - EntryPend is 1
2018-02-21 03:00:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:00:04,361 - DEBUG - Entry Date is 10
2018-02-21 03:00:04,362 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:00:04,362 - DEBUG - Order Profit ID is 217
2018-02-21 03:00:04,362 - DEBUG - Order Entry ID is 217
2018-02-21 03:00:04,362 - DEBUG - API ID is  0
2018-02-21 03:00:04,362 - DEBUG - Current Position is 0
2018-02-21 03:00:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:00:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:00:04,364 - DEBUG - Time is 3
2018-02-21 03:00:04,364 - DEBUG - Time is <class 'int'>
2018-02-21 03:00:04,365 - DEBUG - Disconnected from IBController
2018-02-21 03:00:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:05:00,257 - DEBUG - ****************************************************
2018-02-21 03:05:00,259 - DEBUG - Current Time is 03:05AM
2018-02-21 03:05:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:05:00,259 - DEBUG - Connecting to database
2018-02-21 03:05:00,305 - DEBUG - Connected to database
2018-02-21 03:05:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:00,306 - DEBUG - Order Profit is 217
2018-02-21 03:05:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:00,309 - DEBUG - Stop ID is 0
2018-02-21 03:05:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:00,309 - DEBUG - Entry ID is 217
2018-02-21 03:05:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:05:00,312 - DEBUG - OCA ID is 1
2018-02-21 03:05:00,312 - DEBUG - Connecting to IBController
2018-02-21 03:05:01,325 - DEBUG - Connected to IBController
2018-02-21 03:05:01,325 - DEBUG - Position requested
2018-02-21 03:05:01,326 - DEBUG - Pos Mgmt -5
2018-02-21 03:05:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDD68>, pos=-5, avgCost=15412.17>
2018-02-21 03:05:01,328 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:05:01,328 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:05:01,328 - DEBUG - Position is -5
2018-02-21 03:05:01,328 - DEBUG - Pos Mgmt -12987
2018-02-21 03:05:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:05:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:05:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:05:01,329 - DEBUG - Position is -12987
2018-02-21 03:05:02,326 - DEBUG - Open Orders requested
2018-02-21 03:05:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020EDD68>, order=<ib.ext.Order.Order object at 0x00000000020EDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021820B8>>
2018-02-21 03:05:02,339 - DEBUG - Order OrderID 218
2018-02-21 03:05:02,339 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:05:02,339 - DEBUG - Order status PreSubmitted
2018-02-21 03:05:02,341 - DEBUG - Order Identification 218
2018-02-21 03:05:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:05:02,341 - DEBUG - Profit ID from database is 217
2018-02-21 03:05:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:05:02,342 - DEBUG - Stop ID database is 0
2018-02-21 03:05:02,342 - DEBUG - Entry ID database is 217
2018-02-21 03:05:04,329 - DEBUG - Connecting to database
2018-02-21 03:05:04,336 - DEBUG - Connected to database
2018-02-21 03:05:04,338 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,338 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:05:04,341 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,341 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:05:04,342 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,342 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:05:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,345 - DEBUG - Stop quantity 1
2018-02-21 03:05:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,348 - DEBUG - Direction is Short
2018-02-21 03:05:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,349 - DEBUG - Count is 0
2018-02-21 03:05:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:05:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:05:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:05:04,352 - DEBUG - Max ID Order is (218,)
2018-02-21 03:05:04,352 - DEBUG - Today is 2018-02-21
2018-02-21 03:05:04,354 - DEBUG - Day of the week 2
2018-02-21 03:05:04,354 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:05:04,354 - DEBUG - In Position is  0
2018-02-21 03:05:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:05:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 03:05:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:05:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 03:05:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:05:04,357 - DEBUG - EntryPend is 1
2018-02-21 03:05:04,357 - DEBUG - Try to Cancel Stop
2018-02-21 03:05:04,357 - DEBUG - Stop API ID 0
2018-02-21 03:05:04,358 - DEBUG - Profit API ID 0
2018-02-21 03:05:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:05:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:05:04,358 - DEBUG - Pos is 0
2018-02-21 03:05:04,358 - DEBUG - CurCount is 0
2018-02-21 03:05:04,358 - DEBUG - In Pos 0
2018-02-21 03:05:04,358 - DEBUG - Stop ID is 0
2018-02-21 03:05:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:05:04,361 - DEBUG - EntryPend is 1
2018-02-21 03:05:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:05:04,361 - DEBUG - Entry Date is 10
2018-02-21 03:05:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:05:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 03:05:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 03:05:04,361 - DEBUG - API ID is  0
2018-02-21 03:05:04,362 - DEBUG - Current Position is 0
2018-02-21 03:05:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:05:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:05:04,362 - DEBUG - Time is 3
2018-02-21 03:05:04,362 - DEBUG - Time is <class 'int'>
2018-02-21 03:05:04,364 - DEBUG - Disconnected from IBController
2018-02-21 03:05:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:10:00,293 - DEBUG - ****************************************************
2018-02-21 03:10:00,293 - DEBUG - Current Time is 03:10AM
2018-02-21 03:10:00,295 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:10:00,295 - DEBUG - Connecting to database
2018-02-21 03:10:00,318 - DEBUG - Connected to database
2018-02-21 03:10:00,319 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:00,319 - DEBUG - Order Profit is 217
2018-02-21 03:10:00,321 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:00,322 - DEBUG - Stop ID is 0
2018-02-21 03:10:00,322 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:00,323 - DEBUG - Entry ID is 217
2018-02-21 03:10:00,323 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:10:00,325 - DEBUG - OCA ID is 1
2018-02-21 03:10:00,325 - DEBUG - Connecting to IBController
2018-02-21 03:10:01,338 - DEBUG - Connected to IBController
2018-02-21 03:10:01,338 - DEBUG - Position requested
2018-02-21 03:10:01,341 - DEBUG - Pos Mgmt -5
2018-02-21 03:10:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=-5, avgCost=15412.17>
2018-02-21 03:10:01,342 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:10:01,342 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:10:01,342 - DEBUG - Position is -5
2018-02-21 03:10:01,342 - DEBUG - Pos Mgmt -12987
2018-02-21 03:10:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:10:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:10:01,344 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:10:01,344 - DEBUG - Position is -12987
2018-02-21 03:10:02,341 - DEBUG - Open Orders requested
2018-02-21 03:10:02,342 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 03:10:02,344 - DEBUG - Order OrderID 218
2018-02-21 03:10:02,344 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:10:02,345 - DEBUG - Order status PreSubmitted
2018-02-21 03:10:02,345 - DEBUG - Order Identification 218
2018-02-21 03:10:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:10:02,345 - DEBUG - Profit ID from database is 217
2018-02-21 03:10:02,345 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:10:02,345 - DEBUG - Stop ID database is 0
2018-02-21 03:10:02,345 - DEBUG - Entry ID database is 217
2018-02-21 03:10:04,344 - DEBUG - Connecting to database
2018-02-21 03:10:04,352 - DEBUG - Connected to database
2018-02-21 03:10:04,354 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,355 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:10:04,355 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,357 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:10:04,358 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,358 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:10:04,359 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,359 - DEBUG - Stop quantity 1
2018-02-21 03:10:04,361 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,361 - DEBUG - Direction is Short
2018-02-21 03:10:04,362 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,362 - DEBUG - Count is 0
2018-02-21 03:10:04,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:10:04,365 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:10:04,365 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:10:04,367 - DEBUG - Max ID Order is (218,)
2018-02-21 03:10:04,367 - DEBUG - Today is 2018-02-21
2018-02-21 03:10:04,367 - DEBUG - Day of the week 2
2018-02-21 03:10:04,368 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:10:04,368 - DEBUG - In Position is  0
2018-02-21 03:10:04,368 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:10:04,368 - DEBUG - curStopLossFlag is  0
2018-02-21 03:10:04,368 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:10:04,368 - DEBUG - Checking if Entry has been filled
2018-02-21 03:10:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:10:04,369 - DEBUG - EntryPend is 1
2018-02-21 03:10:04,371 - DEBUG - Try to Cancel Stop
2018-02-21 03:10:04,371 - DEBUG - Stop API ID 0
2018-02-21 03:10:04,371 - DEBUG - Profit API ID 0
2018-02-21 03:10:04,371 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:10:04,371 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:10:04,371 - DEBUG - Pos is 0
2018-02-21 03:10:04,371 - DEBUG - CurCount is 0
2018-02-21 03:10:04,371 - DEBUG - In Pos 0
2018-02-21 03:10:04,372 - DEBUG - Stop ID is 0
2018-02-21 03:10:04,372 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:10:04,374 - DEBUG - EntryPend is 1
2018-02-21 03:10:04,374 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:10:04,375 - DEBUG - Entry Date is 10
2018-02-21 03:10:04,375 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:10:04,375 - DEBUG - Order Profit ID is 217
2018-02-21 03:10:04,375 - DEBUG - Order Entry ID is 217
2018-02-21 03:10:04,375 - DEBUG - API ID is  0
2018-02-21 03:10:04,375 - DEBUG - Current Position is 0
2018-02-21 03:10:04,375 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:10:04,375 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:10:04,377 - DEBUG - Time is 3
2018-02-21 03:10:04,377 - DEBUG - Time is <class 'int'>
2018-02-21 03:10:04,377 - DEBUG - Disconnected from IBController
2018-02-21 03:10:04,377 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:15:00,316 - DEBUG - ****************************************************
2018-02-21 03:15:00,318 - DEBUG - Current Time is 03:15AM
2018-02-21 03:15:00,318 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:15:00,318 - DEBUG - Connecting to database
2018-02-21 03:15:00,338 - DEBUG - Connected to database
2018-02-21 03:15:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:00,339 - DEBUG - Order Profit is 217
2018-02-21 03:15:00,339 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:00,342 - DEBUG - Stop ID is 0
2018-02-21 03:15:00,342 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:00,342 - DEBUG - Entry ID is 217
2018-02-21 03:15:00,344 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:15:00,345 - DEBUG - OCA ID is 1
2018-02-21 03:15:00,345 - DEBUG - Connecting to IBController
2018-02-21 03:15:01,351 - DEBUG - Connected to IBController
2018-02-21 03:15:01,351 - DEBUG - Position requested
2018-02-21 03:15:01,354 - DEBUG - Pos Mgmt -5
2018-02-21 03:15:01,354 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 03:15:01,354 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:15:01,355 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:15:01,355 - DEBUG - Position is -5
2018-02-21 03:15:01,355 - DEBUG - Pos Mgmt -12987
2018-02-21 03:15:01,355 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:15:01,355 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:15:01,355 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:15:01,355 - DEBUG - Position is -12987
2018-02-21 03:15:02,351 - DEBUG - Open Orders requested
2018-02-21 03:15:02,365 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000202DDA0>, order=<ib.ext.Order.Order object at 0x000000000202DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20B8>>
2018-02-21 03:15:02,365 - DEBUG - Order OrderID 218
2018-02-21 03:15:02,365 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:15:02,365 - DEBUG - Order status PreSubmitted
2018-02-21 03:15:02,365 - DEBUG - Order Identification 218
2018-02-21 03:15:02,367 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:15:02,367 - DEBUG - Profit ID from database is 217
2018-02-21 03:15:02,367 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:15:02,368 - DEBUG - Stop ID database is 0
2018-02-21 03:15:02,368 - DEBUG - Entry ID database is 217
2018-02-21 03:15:04,352 - DEBUG - Connecting to database
2018-02-21 03:15:04,359 - DEBUG - Connected to database
2018-02-21 03:15:04,361 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,361 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:15:04,364 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,364 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:15:04,365 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,365 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:15:04,367 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,368 - DEBUG - Stop quantity 1
2018-02-21 03:15:04,368 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,368 - DEBUG - Direction is Short
2018-02-21 03:15:04,371 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,371 - DEBUG - Count is 0
2018-02-21 03:15:04,372 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:15:04,372 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:15:04,374 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:15:04,375 - DEBUG - Max ID Order is (218,)
2018-02-21 03:15:04,375 - DEBUG - Today is 2018-02-21
2018-02-21 03:15:04,375 - DEBUG - Day of the week 2
2018-02-21 03:15:04,375 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:15:04,375 - DEBUG - In Position is  0
2018-02-21 03:15:04,375 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:15:04,375 - DEBUG - curStopLossFlag is  0
2018-02-21 03:15:04,377 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:15:04,377 - DEBUG - Checking if Entry has been filled
2018-02-21 03:15:04,377 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:15:04,378 - DEBUG - EntryPend is 1
2018-02-21 03:15:04,378 - DEBUG - Try to Cancel Stop
2018-02-21 03:15:04,378 - DEBUG - Stop API ID 0
2018-02-21 03:15:04,378 - DEBUG - Profit API ID 0
2018-02-21 03:15:04,378 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:15:04,380 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:15:04,380 - DEBUG - Pos is 0
2018-02-21 03:15:04,380 - DEBUG - CurCount is 0
2018-02-21 03:15:04,380 - DEBUG - In Pos 0
2018-02-21 03:15:04,380 - DEBUG - Stop ID is 0
2018-02-21 03:15:04,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:15:04,381 - DEBUG - EntryPend is 1
2018-02-21 03:15:04,381 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:15:04,381 - DEBUG - Entry Date is 10
2018-02-21 03:15:04,382 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:15:04,382 - DEBUG - Order Profit ID is 217
2018-02-21 03:15:04,382 - DEBUG - Order Entry ID is 217
2018-02-21 03:15:04,382 - DEBUG - API ID is  0
2018-02-21 03:15:04,384 - DEBUG - Current Position is 0
2018-02-21 03:15:04,384 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:15:04,384 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:15:04,384 - DEBUG - Time is 3
2018-02-21 03:15:04,384 - DEBUG - Time is <class 'int'>
2018-02-21 03:15:04,384 - DEBUG - Disconnected from IBController
2018-02-21 03:15:04,384 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:20:00,269 - DEBUG - ****************************************************
2018-02-21 03:20:00,269 - DEBUG - Current Time is 03:20AM
2018-02-21 03:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:20:00,269 - DEBUG - Connecting to database
2018-02-21 03:20:00,298 - DEBUG - Connected to database
2018-02-21 03:20:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:00,299 - DEBUG - Order Profit is 217
2018-02-21 03:20:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:00,302 - DEBUG - Stop ID is 0
2018-02-21 03:20:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:00,302 - DEBUG - Entry ID is 217
2018-02-21 03:20:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:20:00,305 - DEBUG - OCA ID is 1
2018-02-21 03:20:00,305 - DEBUG - Connecting to IBController
2018-02-21 03:20:01,312 - DEBUG - Connected to IBController
2018-02-21 03:20:01,312 - DEBUG - Position requested
2018-02-21 03:20:01,315 - DEBUG - Pos Mgmt -5
2018-02-21 03:20:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DB00>, pos=-5, avgCost=15412.17>
2018-02-21 03:20:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:20:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:20:01,316 - DEBUG - Position is -5
2018-02-21 03:20:01,316 - DEBUG - Pos Mgmt -12987
2018-02-21 03:20:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:20:01,318 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:20:01,318 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:20:01,318 - DEBUG - Position is -12987
2018-02-21 03:20:02,315 - DEBUG - Open Orders requested
2018-02-21 03:20:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000200DE48>, order=<ib.ext.Order.Order object at 0x000000000200DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A2128>>
2018-02-21 03:20:02,325 - DEBUG - Order OrderID 218
2018-02-21 03:20:02,325 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:20:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 03:20:02,325 - DEBUG - Order Identification 218
2018-02-21 03:20:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:20:02,326 - DEBUG - Profit ID from database is 217
2018-02-21 03:20:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:20:02,326 - DEBUG - Stop ID database is 0
2018-02-21 03:20:02,328 - DEBUG - Entry ID database is 217
2018-02-21 03:20:04,325 - DEBUG - Connecting to database
2018-02-21 03:20:04,332 - DEBUG - Connected to database
2018-02-21 03:20:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,334 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:20:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,335 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:20:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,338 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:20:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,339 - DEBUG - Stop quantity 1
2018-02-21 03:20:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,341 - DEBUG - Direction is Short
2018-02-21 03:20:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,342 - DEBUG - Count is 0
2018-02-21 03:20:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:20:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:20:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:20:04,346 - DEBUG - Max ID Order is (218,)
2018-02-21 03:20:04,346 - DEBUG - Today is 2018-02-21
2018-02-21 03:20:04,346 - DEBUG - Day of the week 2
2018-02-21 03:20:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:20:04,348 - DEBUG - In Position is  0
2018-02-21 03:20:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:20:04,348 - DEBUG - curStopLossFlag is  0
2018-02-21 03:20:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:20:04,348 - DEBUG - Checking if Entry has been filled
2018-02-21 03:20:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:20:04,349 - DEBUG - EntryPend is 1
2018-02-21 03:20:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 03:20:04,351 - DEBUG - Stop API ID 0
2018-02-21 03:20:04,351 - DEBUG - Profit API ID 0
2018-02-21 03:20:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:20:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:20:04,351 - DEBUG - Pos is 0
2018-02-21 03:20:04,351 - DEBUG - CurCount is 0
2018-02-21 03:20:04,351 - DEBUG - In Pos 0
2018-02-21 03:20:04,351 - DEBUG - Stop ID is 0
2018-02-21 03:20:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:20:04,354 - DEBUG - EntryPend is 1
2018-02-21 03:20:04,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:20:04,355 - DEBUG - Entry Date is 10
2018-02-21 03:20:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:20:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 03:20:04,355 - DEBUG - Order Entry ID is 217
2018-02-21 03:20:04,355 - DEBUG - API ID is  0
2018-02-21 03:20:04,355 - DEBUG - Current Position is 0
2018-02-21 03:20:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:20:04,355 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:20:04,355 - DEBUG - Time is 3
2018-02-21 03:20:04,357 - DEBUG - Time is <class 'int'>
2018-02-21 03:20:04,357 - DEBUG - Disconnected from IBController
2018-02-21 03:20:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:25:00,259 - DEBUG - ****************************************************
2018-02-21 03:25:00,259 - DEBUG - Current Time is 03:25AM
2018-02-21 03:25:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:25:00,260 - DEBUG - Connecting to database
2018-02-21 03:25:00,292 - DEBUG - Connected to database
2018-02-21 03:25:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:00,296 - DEBUG - Order Profit is 217
2018-02-21 03:25:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:00,296 - DEBUG - Stop ID is 0
2018-02-21 03:25:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:00,299 - DEBUG - Entry ID is 217
2018-02-21 03:25:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:25:00,299 - DEBUG - OCA ID is 1
2018-02-21 03:25:00,299 - DEBUG - Connecting to IBController
2018-02-21 03:25:01,308 - DEBUG - Connected to IBController
2018-02-21 03:25:01,308 - DEBUG - Position requested
2018-02-21 03:25:01,319 - DEBUG - Pos Mgmt -5
2018-02-21 03:25:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCF8>, pos=-5, avgCost=15412.17>
2018-02-21 03:25:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:25:01,319 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:25:01,319 - DEBUG - Position is -5
2018-02-21 03:25:01,319 - DEBUG - Pos Mgmt -12987
2018-02-21 03:25:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:25:01,321 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:25:01,321 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:25:01,321 - DEBUG - Position is -12987
2018-02-21 03:25:02,313 - DEBUG - Open Orders requested
2018-02-21 03:25:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE48>, order=<ib.ext.Order.Order object at 0x00000000020ADD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 03:25:02,316 - DEBUG - Order OrderID 218
2018-02-21 03:25:02,316 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:25:02,322 - DEBUG - Order status PreSubmitted
2018-02-21 03:25:02,322 - DEBUG - Order Identification 218
2018-02-21 03:25:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:25:02,322 - DEBUG - Profit ID from database is 217
2018-02-21 03:25:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:25:02,325 - DEBUG - Stop ID database is 0
2018-02-21 03:25:02,325 - DEBUG - Entry ID database is 217
2018-02-21 03:25:04,316 - DEBUG - Connecting to database
2018-02-21 03:25:04,323 - DEBUG - Connected to database
2018-02-21 03:25:04,326 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,328 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:25:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,328 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:25:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,331 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:25:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,332 - DEBUG - Stop quantity 1
2018-02-21 03:25:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,335 - DEBUG - Direction is Short
2018-02-21 03:25:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,338 - DEBUG - Count is 0
2018-02-21 03:25:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:25:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:25:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:25:04,341 - DEBUG - Max ID Order is (218,)
2018-02-21 03:25:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 03:25:04,342 - DEBUG - Day of the week 2
2018-02-21 03:25:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:25:04,342 - DEBUG - In Position is  0
2018-02-21 03:25:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:25:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 03:25:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:25:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 03:25:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:25:04,345 - DEBUG - EntryPend is 1
2018-02-21 03:25:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 03:25:04,345 - DEBUG - Stop API ID 0
2018-02-21 03:25:04,345 - DEBUG - Profit API ID 0
2018-02-21 03:25:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:25:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:25:04,345 - DEBUG - Pos is 0
2018-02-21 03:25:04,345 - DEBUG - CurCount is 0
2018-02-21 03:25:04,346 - DEBUG - In Pos 0
2018-02-21 03:25:04,346 - DEBUG - Stop ID is 0
2018-02-21 03:25:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:25:04,348 - DEBUG - EntryPend is 1
2018-02-21 03:25:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:25:04,348 - DEBUG - Entry Date is 10
2018-02-21 03:25:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:25:04,348 - DEBUG - Order Profit ID is 217
2018-02-21 03:25:04,348 - DEBUG - Order Entry ID is 217
2018-02-21 03:25:04,348 - DEBUG - API ID is  0
2018-02-21 03:25:04,349 - DEBUG - Current Position is 0
2018-02-21 03:25:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:25:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:25:04,349 - DEBUG - Time is 3
2018-02-21 03:25:04,349 - DEBUG - Time is <class 'int'>
2018-02-21 03:25:04,351 - DEBUG - Disconnected from IBController
2018-02-21 03:25:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:30:00,262 - DEBUG - ****************************************************
2018-02-21 03:30:00,262 - DEBUG - Current Time is 03:30AM
2018-02-21 03:30:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:30:00,263 - DEBUG - Connecting to database
2018-02-21 03:30:00,290 - DEBUG - Connected to database
2018-02-21 03:30:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:00,292 - DEBUG - Order Profit is 217
2018-02-21 03:30:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:00,295 - DEBUG - Stop ID is 0
2018-02-21 03:30:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:00,302 - DEBUG - Entry ID is 217
2018-02-21 03:30:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:30:00,312 - DEBUG - OCA ID is 1
2018-02-21 03:30:00,312 - DEBUG - Connecting to IBController
2018-02-21 03:30:01,321 - DEBUG - Connected to IBController
2018-02-21 03:30:01,321 - DEBUG - Position requested
2018-02-21 03:30:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 03:30:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDA0>, pos=-5, avgCost=15412.17>
2018-02-21 03:30:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:30:01,323 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:30:01,323 - DEBUG - Position is -5
2018-02-21 03:30:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 03:30:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:30:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:30:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:30:01,325 - DEBUG - Position is -12987
2018-02-21 03:30:02,322 - DEBUG - Open Orders requested
2018-02-21 03:30:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204CDA0>, order=<ib.ext.Order.Order object at 0x000000000204CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-21 03:30:02,325 - DEBUG - Order OrderID 218
2018-02-21 03:30:02,325 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:30:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 03:30:02,325 - DEBUG - Order Identification 218
2018-02-21 03:30:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:30:02,326 - DEBUG - Profit ID from database is 217
2018-02-21 03:30:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:30:02,326 - DEBUG - Stop ID database is 0
2018-02-21 03:30:02,326 - DEBUG - Entry ID database is 217
2018-02-21 03:30:04,322 - DEBUG - Connecting to database
2018-02-21 03:30:04,329 - DEBUG - Connected to database
2018-02-21 03:30:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,332 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:30:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,334 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:30:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,335 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:30:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,336 - DEBUG - Stop quantity 1
2018-02-21 03:30:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,338 - DEBUG - Direction is Short
2018-02-21 03:30:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,341 - DEBUG - Count is 0
2018-02-21 03:30:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:30:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:30:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:30:04,344 - DEBUG - Max ID Order is (218,)
2018-02-21 03:30:04,345 - DEBUG - Today is 2018-02-21
2018-02-21 03:30:04,345 - DEBUG - Day of the week 2
2018-02-21 03:30:04,345 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:30:04,345 - DEBUG - In Position is  0
2018-02-21 03:30:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:30:04,345 - DEBUG - curStopLossFlag is  0
2018-02-21 03:30:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:30:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 03:30:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:30:04,348 - DEBUG - EntryPend is 1
2018-02-21 03:30:04,348 - DEBUG - Try to Cancel Stop
2018-02-21 03:30:04,348 - DEBUG - Stop API ID 0
2018-02-21 03:30:04,348 - DEBUG - Profit API ID 0
2018-02-21 03:30:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:30:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:30:04,348 - DEBUG - Pos is 0
2018-02-21 03:30:04,349 - DEBUG - CurCount is 0
2018-02-21 03:30:04,349 - DEBUG - In Pos 0
2018-02-21 03:30:04,349 - DEBUG - Stop ID is 0
2018-02-21 03:30:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:30:04,351 - DEBUG - EntryPend is 1
2018-02-21 03:30:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:30:04,351 - DEBUG - Entry Date is 10
2018-02-21 03:30:04,351 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:30:04,352 - DEBUG - Order Profit ID is 217
2018-02-21 03:30:04,352 - DEBUG - Order Entry ID is 217
2018-02-21 03:30:04,352 - DEBUG - API ID is  0
2018-02-21 03:30:04,352 - DEBUG - Current Position is 0
2018-02-21 03:30:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:30:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:30:04,354 - DEBUG - Time is 3
2018-02-21 03:30:04,354 - DEBUG - Time is <class 'int'>
2018-02-21 03:30:04,355 - DEBUG - Disconnected from IBController
2018-02-21 03:30:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:35:00,273 - DEBUG - ****************************************************
2018-02-21 03:35:00,273 - DEBUG - Current Time is 03:35AM
2018-02-21 03:35:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:35:00,275 - DEBUG - Connecting to database
2018-02-21 03:35:00,312 - DEBUG - Connected to database
2018-02-21 03:35:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:00,315 - DEBUG - Order Profit is 217
2018-02-21 03:35:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:00,316 - DEBUG - Stop ID is 0
2018-02-21 03:35:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:00,318 - DEBUG - Entry ID is 217
2018-02-21 03:35:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:35:00,319 - DEBUG - OCA ID is 1
2018-02-21 03:35:00,319 - DEBUG - Connecting to IBController
2018-02-21 03:35:01,328 - DEBUG - Connected to IBController
2018-02-21 03:35:01,328 - DEBUG - Position requested
2018-02-21 03:35:01,329 - DEBUG - Pos Mgmt -5
2018-02-21 03:35:01,331 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-5, avgCost=15412.17>
2018-02-21 03:35:01,332 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:35:01,332 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:35:01,332 - DEBUG - Position is -5
2018-02-21 03:35:01,332 - DEBUG - Pos Mgmt -12987
2018-02-21 03:35:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:35:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:35:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:35:01,332 - DEBUG - Position is -12987
2018-02-21 03:35:02,331 - DEBUG - Open Orders requested
2018-02-21 03:35:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205CE48>, order=<ib.ext.Order.Order object at 0x000000000205CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 03:35:02,334 - DEBUG - Order OrderID 218
2018-02-21 03:35:02,334 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:35:02,335 - DEBUG - Order status PreSubmitted
2018-02-21 03:35:02,335 - DEBUG - Order Identification 218
2018-02-21 03:35:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:35:02,335 - DEBUG - Profit ID from database is 217
2018-02-21 03:35:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:35:02,335 - DEBUG - Stop ID database is 0
2018-02-21 03:35:02,335 - DEBUG - Entry ID database is 217
2018-02-21 03:35:04,334 - DEBUG - Connecting to database
2018-02-21 03:35:04,341 - DEBUG - Connected to database
2018-02-21 03:35:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,342 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:35:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,345 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:35:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,345 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:35:04,348 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,348 - DEBUG - Stop quantity 1
2018-02-21 03:35:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,349 - DEBUG - Direction is Short
2018-02-21 03:35:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,351 - DEBUG - Count is 0
2018-02-21 03:35:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:35:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:35:04,355 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:35:04,355 - DEBUG - Max ID Order is (218,)
2018-02-21 03:35:04,355 - DEBUG - Today is 2018-02-21
2018-02-21 03:35:04,355 - DEBUG - Day of the week 2
2018-02-21 03:35:04,355 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:35:04,357 - DEBUG - In Position is  0
2018-02-21 03:35:04,357 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:35:04,357 - DEBUG - curStopLossFlag is  0
2018-02-21 03:35:04,357 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:35:04,358 - DEBUG - Checking if Entry has been filled
2018-02-21 03:35:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:35:04,358 - DEBUG - EntryPend is 1
2018-02-21 03:35:04,358 - DEBUG - Try to Cancel Stop
2018-02-21 03:35:04,359 - DEBUG - Stop API ID 0
2018-02-21 03:35:04,359 - DEBUG - Profit API ID 0
2018-02-21 03:35:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:35:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:35:04,361 - DEBUG - Pos is 0
2018-02-21 03:35:04,361 - DEBUG - CurCount is 0
2018-02-21 03:35:04,361 - DEBUG - In Pos 0
2018-02-21 03:35:04,361 - DEBUG - Stop ID is 0
2018-02-21 03:35:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:35:04,362 - DEBUG - EntryPend is 1
2018-02-21 03:35:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:35:04,364 - DEBUG - Entry Date is 10
2018-02-21 03:35:04,364 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:35:04,364 - DEBUG - Order Profit ID is 217
2018-02-21 03:35:04,364 - DEBUG - Order Entry ID is 217
2018-02-21 03:35:04,364 - DEBUG - API ID is  0
2018-02-21 03:35:04,365 - DEBUG - Current Position is 0
2018-02-21 03:35:04,365 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:35:04,365 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:35:04,365 - DEBUG - Time is 3
2018-02-21 03:35:04,365 - DEBUG - Time is <class 'int'>
2018-02-21 03:35:04,365 - DEBUG - Disconnected from IBController
2018-02-21 03:35:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:40:00,269 - DEBUG - ****************************************************
2018-02-21 03:40:00,269 - DEBUG - Current Time is 03:40AM
2018-02-21 03:40:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:40:00,269 - DEBUG - Connecting to database
2018-02-21 03:40:00,293 - DEBUG - Connected to database
2018-02-21 03:40:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:00,295 - DEBUG - Order Profit is 217
2018-02-21 03:40:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:00,296 - DEBUG - Stop ID is 0
2018-02-21 03:40:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:00,299 - DEBUG - Entry ID is 217
2018-02-21 03:40:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:40:00,299 - DEBUG - OCA ID is 1
2018-02-21 03:40:00,301 - DEBUG - Connecting to IBController
2018-02-21 03:40:01,309 - DEBUG - Connected to IBController
2018-02-21 03:40:01,309 - DEBUG - Position requested
2018-02-21 03:40:01,313 - DEBUG - Pos Mgmt -5
2018-02-21 03:40:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, pos=-5, avgCost=15412.17>
2018-02-21 03:40:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:40:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:40:01,315 - DEBUG - Position is -5
2018-02-21 03:40:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 03:40:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:40:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:40:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:40:01,316 - DEBUG - Position is -12987
2018-02-21 03:40:02,309 - DEBUG - Open Orders requested
2018-02-21 03:40:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, order=<ib.ext.Order.Order object at 0x000000000207CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-21 03:40:02,312 - DEBUG - Order OrderID 218
2018-02-21 03:40:02,313 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:40:02,313 - DEBUG - Order status PreSubmitted
2018-02-21 03:40:02,313 - DEBUG - Order Identification 218
2018-02-21 03:40:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:40:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 03:40:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:40:02,315 - DEBUG - Stop ID database is 0
2018-02-21 03:40:02,315 - DEBUG - Entry ID database is 217
2018-02-21 03:40:04,311 - DEBUG - Connecting to database
2018-02-21 03:40:04,319 - DEBUG - Connected to database
2018-02-21 03:40:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,322 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:40:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,323 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:40:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,325 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:40:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,326 - DEBUG - Stop quantity 1
2018-02-21 03:40:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,328 - DEBUG - Direction is Short
2018-02-21 03:40:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,329 - DEBUG - Count is 0
2018-02-21 03:40:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:40:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:40:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:40:04,334 - DEBUG - Max ID Order is (218,)
2018-02-21 03:40:04,334 - DEBUG - Today is 2018-02-21
2018-02-21 03:40:04,335 - DEBUG - Day of the week 2
2018-02-21 03:40:04,335 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:40:04,335 - DEBUG - In Position is  0
2018-02-21 03:40:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:40:04,335 - DEBUG - curStopLossFlag is  0
2018-02-21 03:40:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:40:04,335 - DEBUG - Checking if Entry has been filled
2018-02-21 03:40:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:40:04,338 - DEBUG - EntryPend is 1
2018-02-21 03:40:04,338 - DEBUG - Try to Cancel Stop
2018-02-21 03:40:04,338 - DEBUG - Stop API ID 0
2018-02-21 03:40:04,338 - DEBUG - Profit API ID 0
2018-02-21 03:40:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:40:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:40:04,338 - DEBUG - Pos is 0
2018-02-21 03:40:04,338 - DEBUG - CurCount is 0
2018-02-21 03:40:04,339 - DEBUG - In Pos 0
2018-02-21 03:40:04,339 - DEBUG - Stop ID is 0
2018-02-21 03:40:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:40:04,341 - DEBUG - EntryPend is 1
2018-02-21 03:40:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:40:04,342 - DEBUG - Entry Date is 10
2018-02-21 03:40:04,342 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:40:04,342 - DEBUG - Order Profit ID is 217
2018-02-21 03:40:04,342 - DEBUG - Order Entry ID is 217
2018-02-21 03:40:04,342 - DEBUG - API ID is  0
2018-02-21 03:40:04,342 - DEBUG - Current Position is 0
2018-02-21 03:40:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:40:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:40:04,344 - DEBUG - Time is 3
2018-02-21 03:40:04,344 - DEBUG - Time is <class 'int'>
2018-02-21 03:40:04,344 - DEBUG - Disconnected from IBController
2018-02-21 03:40:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:45:00,270 - DEBUG - ****************************************************
2018-02-21 03:45:00,272 - DEBUG - Current Time is 03:45AM
2018-02-21 03:45:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:45:00,272 - DEBUG - Connecting to database
2018-02-21 03:45:00,312 - DEBUG - Connected to database
2018-02-21 03:45:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:00,313 - DEBUG - Order Profit is 217
2018-02-21 03:45:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:00,315 - DEBUG - Stop ID is 0
2018-02-21 03:45:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:00,318 - DEBUG - Entry ID is 217
2018-02-21 03:45:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:45:00,319 - DEBUG - OCA ID is 1
2018-02-21 03:45:00,319 - DEBUG - Connecting to IBController
2018-02-21 03:45:01,325 - DEBUG - Connected to IBController
2018-02-21 03:45:01,325 - DEBUG - Position requested
2018-02-21 03:45:01,336 - DEBUG - Pos Mgmt -5
2018-02-21 03:45:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BDA0>, pos=-5, avgCost=15412.17>
2018-02-21 03:45:01,342 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:45:01,345 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:45:01,345 - DEBUG - Position is -5
2018-02-21 03:45:01,348 - DEBUG - Pos Mgmt -12987
2018-02-21 03:45:01,348 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:45:01,349 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:45:01,351 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:45:01,351 - DEBUG - Position is -12987
2018-02-21 03:45:02,335 - DEBUG - Open Orders requested
2018-02-21 03:45:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000201BE48>, order=<ib.ext.Order.Order object at 0x000000000201BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0128>>
2018-02-21 03:45:02,338 - DEBUG - Order OrderID 218
2018-02-21 03:45:02,338 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:45:02,339 - DEBUG - Order status PreSubmitted
2018-02-21 03:45:02,339 - DEBUG - Order Identification 218
2018-02-21 03:45:02,339 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:45:02,341 - DEBUG - Profit ID from database is 217
2018-02-21 03:45:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:45:02,345 - DEBUG - Stop ID database is 0
2018-02-21 03:45:02,345 - DEBUG - Entry ID database is 217
2018-02-21 03:45:04,338 - DEBUG - Connecting to database
2018-02-21 03:45:04,345 - DEBUG - Connected to database
2018-02-21 03:45:04,348 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,348 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:45:04,349 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,349 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:45:04,351 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,351 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:45:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,352 - DEBUG - Stop quantity 1
2018-02-21 03:45:04,355 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,355 - DEBUG - Direction is Short
2018-02-21 03:45:04,355 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,357 - DEBUG - Count is 0
2018-02-21 03:45:04,358 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:45:04,358 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:45:04,359 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:45:04,359 - DEBUG - Max ID Order is (218,)
2018-02-21 03:45:04,359 - DEBUG - Today is 2018-02-21
2018-02-21 03:45:04,361 - DEBUG - Day of the week 2
2018-02-21 03:45:04,361 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:45:04,361 - DEBUG - In Position is  0
2018-02-21 03:45:04,361 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:45:04,361 - DEBUG - curStopLossFlag is  0
2018-02-21 03:45:04,361 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:45:04,361 - DEBUG - Checking if Entry has been filled
2018-02-21 03:45:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:45:04,364 - DEBUG - EntryPend is 1
2018-02-21 03:45:04,364 - DEBUG - Try to Cancel Stop
2018-02-21 03:45:04,364 - DEBUG - Stop API ID 0
2018-02-21 03:45:04,365 - DEBUG - Profit API ID 0
2018-02-21 03:45:04,365 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:45:04,365 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:45:04,365 - DEBUG - Pos is 0
2018-02-21 03:45:04,365 - DEBUG - CurCount is 0
2018-02-21 03:45:04,365 - DEBUG - In Pos 0
2018-02-21 03:45:04,365 - DEBUG - Stop ID is 0
2018-02-21 03:45:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:45:04,367 - DEBUG - EntryPend is 1
2018-02-21 03:45:04,368 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:45:04,368 - DEBUG - Entry Date is 10
2018-02-21 03:45:04,368 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:45:04,368 - DEBUG - Order Profit ID is 217
2018-02-21 03:45:04,368 - DEBUG - Order Entry ID is 217
2018-02-21 03:45:04,368 - DEBUG - API ID is  0
2018-02-21 03:45:04,368 - DEBUG - Current Position is 0
2018-02-21 03:45:04,368 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:45:04,369 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:45:04,369 - DEBUG - Time is 3
2018-02-21 03:45:04,369 - DEBUG - Time is <class 'int'>
2018-02-21 03:45:04,369 - DEBUG - Disconnected from IBController
2018-02-21 03:45:04,371 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:50:00,259 - DEBUG - ****************************************************
2018-02-21 03:50:00,259 - DEBUG - Current Time is 03:50AM
2018-02-21 03:50:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:50:00,260 - DEBUG - Connecting to database
2018-02-21 03:50:00,279 - DEBUG - Connected to database
2018-02-21 03:50:00,279 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:00,280 - DEBUG - Order Profit is 217
2018-02-21 03:50:00,280 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:00,282 - DEBUG - Stop ID is 0
2018-02-21 03:50:00,282 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:00,283 - DEBUG - Entry ID is 217
2018-02-21 03:50:00,283 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:50:00,286 - DEBUG - OCA ID is 1
2018-02-21 03:50:00,286 - DEBUG - Connecting to IBController
2018-02-21 03:50:01,302 - DEBUG - Connected to IBController
2018-02-21 03:50:01,302 - DEBUG - Position requested
2018-02-21 03:50:01,308 - DEBUG - Pos Mgmt -5
2018-02-21 03:50:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, pos=-5, avgCost=15412.17>
2018-02-21 03:50:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:50:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:50:01,309 - DEBUG - Position is -5
2018-02-21 03:50:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 03:50:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:50:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:50:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:50:01,311 - DEBUG - Position is -12987
2018-02-21 03:50:02,303 - DEBUG - Open Orders requested
2018-02-21 03:50:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE48>, order=<ib.ext.Order.Order object at 0x00000000020ACCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 03:50:02,316 - DEBUG - Order OrderID 218
2018-02-21 03:50:02,318 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:50:02,318 - DEBUG - Order status PreSubmitted
2018-02-21 03:50:02,318 - DEBUG - Order Identification 218
2018-02-21 03:50:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:50:02,319 - DEBUG - Profit ID from database is 217
2018-02-21 03:50:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:50:02,319 - DEBUG - Stop ID database is 0
2018-02-21 03:50:02,319 - DEBUG - Entry ID database is 217
2018-02-21 03:50:04,316 - DEBUG - Connecting to database
2018-02-21 03:50:04,323 - DEBUG - Connected to database
2018-02-21 03:50:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,325 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:50:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,328 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:50:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,329 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:50:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,332 - DEBUG - Stop quantity 1
2018-02-21 03:50:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,332 - DEBUG - Direction is Short
2018-02-21 03:50:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,335 - DEBUG - Count is 0
2018-02-21 03:50:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:50:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:50:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:50:04,338 - DEBUG - Max ID Order is (218,)
2018-02-21 03:50:04,338 - DEBUG - Today is 2018-02-21
2018-02-21 03:50:04,338 - DEBUG - Day of the week 2
2018-02-21 03:50:04,339 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:50:04,339 - DEBUG - In Position is  0
2018-02-21 03:50:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:50:04,339 - DEBUG - curStopLossFlag is  0
2018-02-21 03:50:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:50:04,341 - DEBUG - Checking if Entry has been filled
2018-02-21 03:50:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:50:04,342 - DEBUG - EntryPend is 1
2018-02-21 03:50:04,342 - DEBUG - Try to Cancel Stop
2018-02-21 03:50:04,342 - DEBUG - Stop API ID 0
2018-02-21 03:50:04,342 - DEBUG - Profit API ID 0
2018-02-21 03:50:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:50:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:50:04,344 - DEBUG - Pos is 0
2018-02-21 03:50:04,344 - DEBUG - CurCount is 0
2018-02-21 03:50:04,344 - DEBUG - In Pos 0
2018-02-21 03:50:04,344 - DEBUG - Stop ID is 0
2018-02-21 03:50:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:50:04,345 - DEBUG - EntryPend is 1
2018-02-21 03:50:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:50:04,345 - DEBUG - Entry Date is 10
2018-02-21 03:50:04,346 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:50:04,346 - DEBUG - Order Profit ID is 217
2018-02-21 03:50:04,346 - DEBUG - Order Entry ID is 217
2018-02-21 03:50:04,346 - DEBUG - API ID is  0
2018-02-21 03:50:04,348 - DEBUG - Current Position is 0
2018-02-21 03:50:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:50:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:50:04,348 - DEBUG - Time is 3
2018-02-21 03:50:04,348 - DEBUG - Time is <class 'int'>
2018-02-21 03:50:04,348 - DEBUG - Disconnected from IBController
2018-02-21 03:50:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 03:55:00,266 - DEBUG - ****************************************************
2018-02-21 03:55:00,266 - DEBUG - Current Time is 03:55AM
2018-02-21 03:55:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 03:55:00,266 - DEBUG - Connecting to database
2018-02-21 03:55:00,285 - DEBUG - Connected to database
2018-02-21 03:55:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:00,286 - DEBUG - Order Profit is 217
2018-02-21 03:55:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:00,289 - DEBUG - Stop ID is 0
2018-02-21 03:55:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:00,290 - DEBUG - Entry ID is 217
2018-02-21 03:55:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 03:55:00,292 - DEBUG - OCA ID is 1
2018-02-21 03:55:00,292 - DEBUG - Connecting to IBController
2018-02-21 03:55:01,302 - DEBUG - Connected to IBController
2018-02-21 03:55:01,302 - DEBUG - Position requested
2018-02-21 03:55:01,319 - DEBUG - Pos Mgmt -5
2018-02-21 03:55:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDD68>, pos=-5, avgCost=15412.17>
2018-02-21 03:55:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 03:55:01,321 - DEBUG - ccy2 Currency with position is USD
2018-02-21 03:55:01,321 - DEBUG - Position is -5
2018-02-21 03:55:01,321 - DEBUG - Pos Mgmt -12987
2018-02-21 03:55:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 03:55:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 03:55:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 03:55:01,322 - DEBUG - Position is -12987
2018-02-21 03:55:02,312 - DEBUG - Open Orders requested
2018-02-21 03:55:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161128>>
2018-02-21 03:55:02,315 - DEBUG - Order OrderID 218
2018-02-21 03:55:02,315 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 03:55:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 03:55:02,315 - DEBUG - Order Identification 218
2018-02-21 03:55:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 03:55:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 03:55:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 03:55:02,316 - DEBUG - Stop ID database is 0
2018-02-21 03:55:02,316 - DEBUG - Entry ID database is 217
2018-02-21 03:55:04,315 - DEBUG - Connecting to database
2018-02-21 03:55:04,322 - DEBUG - Connected to database
2018-02-21 03:55:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,323 - DEBUG - Stop loss value is 2738.25
2018-02-21 03:55:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,325 - DEBUG - Stop loss value is 2695.0
2018-02-21 03:55:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,328 - DEBUG - EntryPrice value is 2704.5
2018-02-21 03:55:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,328 - DEBUG - Stop quantity 1
2018-02-21 03:55:04,331 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,331 - DEBUG - Direction is Short
2018-02-21 03:55:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,332 - DEBUG - Count is 0
2018-02-21 03:55:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 03:55:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-21 03:55:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 03:55:04,335 - DEBUG - Max ID Order is (218,)
2018-02-21 03:55:04,336 - DEBUG - Today is 2018-02-21
2018-02-21 03:55:04,336 - DEBUG - Day of the week 2
2018-02-21 03:55:04,336 - DEBUG - Yesterday is 02/20/2018
2018-02-21 03:55:04,338 - DEBUG - In Position is  0
2018-02-21 03:55:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-21 03:55:04,338 - DEBUG - curStopLossFlag is  0
2018-02-21 03:55:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 03:55:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 03:55:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:55:04,339 - DEBUG - EntryPend is 1
2018-02-21 03:55:04,341 - DEBUG - Try to Cancel Stop
2018-02-21 03:55:04,341 - DEBUG - Stop API ID 0
2018-02-21 03:55:04,341 - DEBUG - Profit API ID 0
2018-02-21 03:55:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-21 03:55:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-21 03:55:04,342 - DEBUG - Pos is 0
2018-02-21 03:55:04,342 - DEBUG - CurCount is 0
2018-02-21 03:55:04,342 - DEBUG - In Pos 0
2018-02-21 03:55:04,342 - DEBUG - Stop ID is 0
2018-02-21 03:55:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 03:55:04,344 - DEBUG - EntryPend is 1
2018-02-21 03:55:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 03:55:04,345 - DEBUG - Entry Date is 10
2018-02-21 03:55:04,345 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 03:55:04,345 - DEBUG - Order Profit ID is 217
2018-02-21 03:55:04,345 - DEBUG - Order Entry ID is 217
2018-02-21 03:55:04,345 - DEBUG - API ID is  0
2018-02-21 03:55:04,345 - DEBUG - Current Position is 0
2018-02-21 03:55:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-21 03:55:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 03:55:04,346 - DEBUG - Time is 3
2018-02-21 03:55:04,346 - DEBUG - Time is <class 'int'>
2018-02-21 03:55:04,346 - DEBUG - Disconnected from IBController
2018-02-21 03:55:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:00:00,270 - DEBUG - ****************************************************
2018-02-21 04:00:00,272 - DEBUG - Current Time is 04:00AM
2018-02-21 04:00:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:00:00,272 - DEBUG - Connecting to database
2018-02-21 04:00:00,296 - DEBUG - Connected to database
2018-02-21 04:00:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:00,299 - DEBUG - Order Profit is 217
2018-02-21 04:00:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:00,301 - DEBUG - Stop ID is 0
2018-02-21 04:00:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:00,302 - DEBUG - Entry ID is 217
2018-02-21 04:00:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:00:00,303 - DEBUG - OCA ID is 1
2018-02-21 04:00:00,305 - DEBUG - Connecting to IBController
2018-02-21 04:00:01,311 - DEBUG - Connected to IBController
2018-02-21 04:00:01,311 - DEBUG - Position requested
2018-02-21 04:00:01,312 - DEBUG - Pos Mgmt -5
2018-02-21 04:00:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 04:00:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:00:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:00:01,315 - DEBUG - Position is -5
2018-02-21 04:00:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 04:00:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:00:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:00:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:00:01,315 - DEBUG - Position is -12987
2018-02-21 04:00:02,312 - DEBUG - Open Orders requested
2018-02-21 04:00:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-21 04:00:02,326 - DEBUG - Order OrderID 218
2018-02-21 04:00:02,326 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:00:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 04:00:02,328 - DEBUG - Order Identification 218
2018-02-21 04:00:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:00:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 04:00:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:00:02,328 - DEBUG - Stop ID database is 0
2018-02-21 04:00:02,328 - DEBUG - Entry ID database is 217
2018-02-21 04:00:04,325 - DEBUG - Connecting to database
2018-02-21 04:00:04,332 - DEBUG - Connected to database
2018-02-21 04:00:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:00:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,336 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:00:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,338 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:00:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,341 - DEBUG - Stop quantity 1
2018-02-21 04:00:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,342 - DEBUG - Direction is Short
2018-02-21 04:00:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,344 - DEBUG - Count is 0
2018-02-21 04:00:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:00:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:00:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:00:04,346 - DEBUG - Max ID Order is (218,)
2018-02-21 04:00:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 04:00:04,348 - DEBUG - Day of the week 2
2018-02-21 04:00:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:00:04,348 - DEBUG - In Position is  0
2018-02-21 04:00:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:00:04,348 - DEBUG - curStopLossFlag is  0
2018-02-21 04:00:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:00:04,349 - DEBUG - Checking if Entry has been filled
2018-02-21 04:00:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:00:04,351 - DEBUG - EntryPend is 1
2018-02-21 04:00:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 04:00:04,351 - DEBUG - Stop API ID 0
2018-02-21 04:00:04,351 - DEBUG - Profit API ID 0
2018-02-21 04:00:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:00:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:00:04,352 - DEBUG - Pos is 0
2018-02-21 04:00:04,352 - DEBUG - CurCount is 0
2018-02-21 04:00:04,352 - DEBUG - In Pos 0
2018-02-21 04:00:04,352 - DEBUG - Stop ID is 0
2018-02-21 04:00:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:00:04,355 - DEBUG - EntryPend is 1
2018-02-21 04:00:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:00:04,355 - DEBUG - Entry Date is 10
2018-02-21 04:00:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:00:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 04:00:04,355 - DEBUG - Order Entry ID is 217
2018-02-21 04:00:04,355 - DEBUG - API ID is  0
2018-02-21 04:00:04,357 - DEBUG - Current Position is 0
2018-02-21 04:00:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:00:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:00:04,357 - DEBUG - Time is 4
2018-02-21 04:00:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 04:00:04,358 - DEBUG - Disconnected from IBController
2018-02-21 04:00:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:05:00,265 - DEBUG - ****************************************************
2018-02-21 04:05:00,266 - DEBUG - Current Time is 04:05AM
2018-02-21 04:05:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:05:00,266 - DEBUG - Connecting to database
2018-02-21 04:05:00,285 - DEBUG - Connected to database
2018-02-21 04:05:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:00,286 - DEBUG - Order Profit is 217
2018-02-21 04:05:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:00,288 - DEBUG - Stop ID is 0
2018-02-21 04:05:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:00,289 - DEBUG - Entry ID is 217
2018-02-21 04:05:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:05:00,290 - DEBUG - OCA ID is 1
2018-02-21 04:05:00,290 - DEBUG - Connecting to IBController
2018-02-21 04:05:01,299 - DEBUG - Connected to IBController
2018-02-21 04:05:01,299 - DEBUG - Position requested
2018-02-21 04:05:01,301 - DEBUG - Pos Mgmt -5
2018-02-21 04:05:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-5, avgCost=15412.17>
2018-02-21 04:05:01,302 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:05:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:05:01,302 - DEBUG - Position is -5
2018-02-21 04:05:01,302 - DEBUG - Pos Mgmt -12987
2018-02-21 04:05:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:05:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:05:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:05:01,303 - DEBUG - Position is -12987
2018-02-21 04:05:02,302 - DEBUG - Open Orders requested
2018-02-21 04:05:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 04:05:02,305 - DEBUG - Order OrderID 218
2018-02-21 04:05:02,305 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:05:02,306 - DEBUG - Order status PreSubmitted
2018-02-21 04:05:02,306 - DEBUG - Order Identification 218
2018-02-21 04:05:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:05:02,312 - DEBUG - Profit ID from database is 217
2018-02-21 04:05:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:05:02,316 - DEBUG - Stop ID database is 0
2018-02-21 04:05:02,316 - DEBUG - Entry ID database is 217
2018-02-21 04:05:04,305 - DEBUG - Connecting to database
2018-02-21 04:05:04,312 - DEBUG - Connected to database
2018-02-21 04:05:04,313 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,313 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:05:04,315 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,315 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:05:04,318 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,318 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:05:04,319 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,319 - DEBUG - Stop quantity 1
2018-02-21 04:05:04,321 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,321 - DEBUG - Direction is Short
2018-02-21 04:05:04,322 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,322 - DEBUG - Count is 0
2018-02-21 04:05:04,323 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:05:04,325 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:05:04,325 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:05:04,325 - DEBUG - Max ID Order is (218,)
2018-02-21 04:05:04,326 - DEBUG - Today is 2018-02-21
2018-02-21 04:05:04,326 - DEBUG - Day of the week 2
2018-02-21 04:05:04,326 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:05:04,328 - DEBUG - In Position is  0
2018-02-21 04:05:04,328 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:05:04,328 - DEBUG - curStopLossFlag is  0
2018-02-21 04:05:04,328 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:05:04,328 - DEBUG - Checking if Entry has been filled
2018-02-21 04:05:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:05:04,329 - DEBUG - EntryPend is 1
2018-02-21 04:05:04,329 - DEBUG - Try to Cancel Stop
2018-02-21 04:05:04,331 - DEBUG - Stop API ID 0
2018-02-21 04:05:04,331 - DEBUG - Profit API ID 0
2018-02-21 04:05:04,331 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:05:04,331 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:05:04,332 - DEBUG - Pos is 0
2018-02-21 04:05:04,332 - DEBUG - CurCount is 0
2018-02-21 04:05:04,332 - DEBUG - In Pos 0
2018-02-21 04:05:04,332 - DEBUG - Stop ID is 0
2018-02-21 04:05:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:05:04,334 - DEBUG - EntryPend is 1
2018-02-21 04:05:04,334 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:05:04,334 - DEBUG - Entry Date is 10
2018-02-21 04:05:04,334 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:05:04,335 - DEBUG - Order Profit ID is 217
2018-02-21 04:05:04,335 - DEBUG - Order Entry ID is 217
2018-02-21 04:05:04,335 - DEBUG - API ID is  0
2018-02-21 04:05:04,335 - DEBUG - Current Position is 0
2018-02-21 04:05:04,335 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:05:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:05:04,335 - DEBUG - Time is 4
2018-02-21 04:05:04,335 - DEBUG - Time is <class 'int'>
2018-02-21 04:05:04,336 - DEBUG - Disconnected from IBController
2018-02-21 04:05:04,336 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:10:00,269 - DEBUG - ****************************************************
2018-02-21 04:10:00,269 - DEBUG - Current Time is 04:10AM
2018-02-21 04:10:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:10:00,270 - DEBUG - Connecting to database
2018-02-21 04:10:00,289 - DEBUG - Connected to database
2018-02-21 04:10:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:00,290 - DEBUG - Order Profit is 217
2018-02-21 04:10:00,290 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:00,292 - DEBUG - Stop ID is 0
2018-02-21 04:10:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:00,293 - DEBUG - Entry ID is 217
2018-02-21 04:10:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:10:00,295 - DEBUG - OCA ID is 1
2018-02-21 04:10:00,296 - DEBUG - Connecting to IBController
2018-02-21 04:10:01,305 - DEBUG - Connected to IBController
2018-02-21 04:10:01,305 - DEBUG - Position requested
2018-02-21 04:10:01,306 - DEBUG - Pos Mgmt -5
2018-02-21 04:10:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, pos=-5, avgCost=15412.17>
2018-02-21 04:10:01,308 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:10:01,308 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:10:01,308 - DEBUG - Position is -5
2018-02-21 04:10:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 04:10:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:10:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:10:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:10:01,309 - DEBUG - Position is -12987
2018-02-21 04:10:02,305 - DEBUG - Open Orders requested
2018-02-21 04:10:02,308 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 04:10:02,309 - DEBUG - Order OrderID 218
2018-02-21 04:10:02,309 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:10:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 04:10:02,309 - DEBUG - Order Identification 218
2018-02-21 04:10:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:10:02,311 - DEBUG - Profit ID from database is 217
2018-02-21 04:10:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:10:02,311 - DEBUG - Stop ID database is 0
2018-02-21 04:10:02,311 - DEBUG - Entry ID database is 217
2018-02-21 04:10:04,309 - DEBUG - Connecting to database
2018-02-21 04:10:04,315 - DEBUG - Connected to database
2018-02-21 04:10:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,318 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:10:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:10:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,322 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:10:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,323 - DEBUG - Stop quantity 1
2018-02-21 04:10:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,325 - DEBUG - Direction is Short
2018-02-21 04:10:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,326 - DEBUG - Count is 0
2018-02-21 04:10:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:10:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:10:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:10:04,329 - DEBUG - Max ID Order is (218,)
2018-02-21 04:10:04,331 - DEBUG - Today is 2018-02-21
2018-02-21 04:10:04,331 - DEBUG - Day of the week 2
2018-02-21 04:10:04,331 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:10:04,332 - DEBUG - In Position is  0
2018-02-21 04:10:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:10:04,332 - DEBUG - curStopLossFlag is  0
2018-02-21 04:10:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:10:04,332 - DEBUG - Checking if Entry has been filled
2018-02-21 04:10:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:10:04,334 - DEBUG - EntryPend is 1
2018-02-21 04:10:04,334 - DEBUG - Try to Cancel Stop
2018-02-21 04:10:04,335 - DEBUG - Stop API ID 0
2018-02-21 04:10:04,335 - DEBUG - Profit API ID 0
2018-02-21 04:10:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:10:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:10:04,335 - DEBUG - Pos is 0
2018-02-21 04:10:04,335 - DEBUG - CurCount is 0
2018-02-21 04:10:04,335 - DEBUG - In Pos 0
2018-02-21 04:10:04,335 - DEBUG - Stop ID is 0
2018-02-21 04:10:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:10:04,338 - DEBUG - EntryPend is 1
2018-02-21 04:10:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:10:04,338 - DEBUG - Entry Date is 10
2018-02-21 04:10:04,338 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:10:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 04:10:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 04:10:04,338 - DEBUG - API ID is  0
2018-02-21 04:10:04,339 - DEBUG - Current Position is 0
2018-02-21 04:10:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:10:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:10:04,339 - DEBUG - Time is 4
2018-02-21 04:10:04,339 - DEBUG - Time is <class 'int'>
2018-02-21 04:10:04,341 - DEBUG - Disconnected from IBController
2018-02-21 04:10:04,341 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:15:00,263 - DEBUG - ****************************************************
2018-02-21 04:15:00,265 - DEBUG - Current Time is 04:15AM
2018-02-21 04:15:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:15:00,266 - DEBUG - Connecting to database
2018-02-21 04:15:00,282 - DEBUG - Connected to database
2018-02-21 04:15:00,282 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:00,283 - DEBUG - Order Profit is 217
2018-02-21 04:15:00,285 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:00,286 - DEBUG - Stop ID is 0
2018-02-21 04:15:00,286 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:00,288 - DEBUG - Entry ID is 217
2018-02-21 04:15:00,288 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:15:00,289 - DEBUG - OCA ID is 1
2018-02-21 04:15:00,289 - DEBUG - Connecting to IBController
2018-02-21 04:15:01,296 - DEBUG - Connected to IBController
2018-02-21 04:15:01,296 - DEBUG - Position requested
2018-02-21 04:15:01,299 - DEBUG - Pos Mgmt -5
2018-02-21 04:15:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204BDD8>, pos=-5, avgCost=15412.17>
2018-02-21 04:15:01,299 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:15:01,301 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:15:01,301 - DEBUG - Position is -5
2018-02-21 04:15:01,301 - DEBUG - Pos Mgmt -12987
2018-02-21 04:15:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204BBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:15:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:15:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:15:01,302 - DEBUG - Position is -12987
2018-02-21 04:15:02,298 - DEBUG - Open Orders requested
2018-02-21 04:15:02,299 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204BE48>, order=<ib.ext.Order.Order object at 0x000000000204BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0128>>
2018-02-21 04:15:02,301 - DEBUG - Order OrderID 218
2018-02-21 04:15:02,301 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:15:02,302 - DEBUG - Order status PreSubmitted
2018-02-21 04:15:02,302 - DEBUG - Order Identification 218
2018-02-21 04:15:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:15:02,302 - DEBUG - Profit ID from database is 217
2018-02-21 04:15:02,302 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:15:02,302 - DEBUG - Stop ID database is 0
2018-02-21 04:15:02,302 - DEBUG - Entry ID database is 217
2018-02-21 04:15:04,301 - DEBUG - Connecting to database
2018-02-21 04:15:04,308 - DEBUG - Connected to database
2018-02-21 04:15:04,309 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,309 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:15:04,311 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,312 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:15:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,312 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:15:04,315 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,315 - DEBUG - Stop quantity 1
2018-02-21 04:15:04,316 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,316 - DEBUG - Direction is Short
2018-02-21 04:15:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,319 - DEBUG - Count is 0
2018-02-21 04:15:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:15:04,321 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:15:04,322 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:15:04,322 - DEBUG - Max ID Order is (218,)
2018-02-21 04:15:04,322 - DEBUG - Today is 2018-02-21
2018-02-21 04:15:04,323 - DEBUG - Day of the week 2
2018-02-21 04:15:04,323 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:15:04,323 - DEBUG - In Position is  0
2018-02-21 04:15:04,323 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:15:04,323 - DEBUG - curStopLossFlag is  0
2018-02-21 04:15:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:15:04,325 - DEBUG - Checking if Entry has been filled
2018-02-21 04:15:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:15:04,326 - DEBUG - EntryPend is 1
2018-02-21 04:15:04,326 - DEBUG - Try to Cancel Stop
2018-02-21 04:15:04,326 - DEBUG - Stop API ID 0
2018-02-21 04:15:04,328 - DEBUG - Profit API ID 0
2018-02-21 04:15:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:15:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:15:04,328 - DEBUG - Pos is 0
2018-02-21 04:15:04,328 - DEBUG - CurCount is 0
2018-02-21 04:15:04,328 - DEBUG - In Pos 0
2018-02-21 04:15:04,328 - DEBUG - Stop ID is 0
2018-02-21 04:15:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:15:04,331 - DEBUG - EntryPend is 1
2018-02-21 04:15:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:15:04,331 - DEBUG - Entry Date is 10
2018-02-21 04:15:04,332 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:15:04,332 - DEBUG - Order Profit ID is 217
2018-02-21 04:15:04,332 - DEBUG - Order Entry ID is 217
2018-02-21 04:15:04,332 - DEBUG - API ID is  0
2018-02-21 04:15:04,332 - DEBUG - Current Position is 0
2018-02-21 04:15:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:15:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:15:04,332 - DEBUG - Time is 4
2018-02-21 04:15:04,334 - DEBUG - Time is <class 'int'>
2018-02-21 04:15:04,334 - DEBUG - Disconnected from IBController
2018-02-21 04:15:04,334 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:20:00,263 - DEBUG - ****************************************************
2018-02-21 04:20:00,265 - DEBUG - Current Time is 04:20AM
2018-02-21 04:20:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:20:00,265 - DEBUG - Connecting to database
2018-02-21 04:20:00,293 - DEBUG - Connected to database
2018-02-21 04:20:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:00,296 - DEBUG - Order Profit is 217
2018-02-21 04:20:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:00,296 - DEBUG - Stop ID is 0
2018-02-21 04:20:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:00,299 - DEBUG - Entry ID is 217
2018-02-21 04:20:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:20:00,299 - DEBUG - OCA ID is 1
2018-02-21 04:20:00,301 - DEBUG - Connecting to IBController
2018-02-21 04:20:01,319 - DEBUG - Connected to IBController
2018-02-21 04:20:01,319 - DEBUG - Position requested
2018-02-21 04:20:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 04:20:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 04:20:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:20:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:20:01,325 - DEBUG - Position is -5
2018-02-21 04:20:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 04:20:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:20:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:20:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:20:01,325 - DEBUG - Position is -12987
2018-02-21 04:20:02,322 - DEBUG - Open Orders requested
2018-02-21 04:20:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-21 04:20:02,325 - DEBUG - Order OrderID 218
2018-02-21 04:20:02,325 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:20:02,326 - DEBUG - Order status PreSubmitted
2018-02-21 04:20:02,326 - DEBUG - Order Identification 218
2018-02-21 04:20:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:20:02,326 - DEBUG - Profit ID from database is 217
2018-02-21 04:20:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:20:02,328 - DEBUG - Stop ID database is 0
2018-02-21 04:20:02,328 - DEBUG - Entry ID database is 217
2018-02-21 04:20:04,323 - DEBUG - Connecting to database
2018-02-21 04:20:04,331 - DEBUG - Connected to database
2018-02-21 04:20:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,334 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:20:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,335 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:20:04,336 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,336 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:20:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,338 - DEBUG - Stop quantity 1
2018-02-21 04:20:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,341 - DEBUG - Direction is Short
2018-02-21 04:20:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,342 - DEBUG - Count is 0
2018-02-21 04:20:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:20:04,344 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:20:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:20:04,345 - DEBUG - Max ID Order is (218,)
2018-02-21 04:20:04,346 - DEBUG - Today is 2018-02-21
2018-02-21 04:20:04,346 - DEBUG - Day of the week 2
2018-02-21 04:20:04,346 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:20:04,348 - DEBUG - In Position is  0
2018-02-21 04:20:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:20:04,348 - DEBUG - curStopLossFlag is  0
2018-02-21 04:20:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:20:04,348 - DEBUG - Checking if Entry has been filled
2018-02-21 04:20:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:20:04,351 - DEBUG - EntryPend is 1
2018-02-21 04:20:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 04:20:04,351 - DEBUG - Stop API ID 0
2018-02-21 04:20:04,351 - DEBUG - Profit API ID 0
2018-02-21 04:20:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:20:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:20:04,351 - DEBUG - Pos is 0
2018-02-21 04:20:04,352 - DEBUG - CurCount is 0
2018-02-21 04:20:04,352 - DEBUG - In Pos 0
2018-02-21 04:20:04,352 - DEBUG - Stop ID is 0
2018-02-21 04:20:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:20:04,355 - DEBUG - EntryPend is 1
2018-02-21 04:20:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:20:04,355 - DEBUG - Entry Date is 10
2018-02-21 04:20:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:20:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 04:20:04,355 - DEBUG - Order Entry ID is 217
2018-02-21 04:20:04,355 - DEBUG - API ID is  0
2018-02-21 04:20:04,357 - DEBUG - Current Position is 0
2018-02-21 04:20:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:20:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:20:04,357 - DEBUG - Time is 4
2018-02-21 04:20:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 04:20:04,358 - DEBUG - Disconnected from IBController
2018-02-21 04:20:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:25:00,273 - DEBUG - ****************************************************
2018-02-21 04:25:00,275 - DEBUG - Current Time is 04:25AM
2018-02-21 04:25:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:25:00,275 - DEBUG - Connecting to database
2018-02-21 04:25:00,299 - DEBUG - Connected to database
2018-02-21 04:25:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:00,302 - DEBUG - Order Profit is 217
2018-02-21 04:25:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:00,303 - DEBUG - Stop ID is 0
2018-02-21 04:25:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:00,305 - DEBUG - Entry ID is 217
2018-02-21 04:25:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:25:00,306 - DEBUG - OCA ID is 1
2018-02-21 04:25:00,306 - DEBUG - Connecting to IBController
2018-02-21 04:25:01,315 - DEBUG - Connected to IBController
2018-02-21 04:25:01,315 - DEBUG - Position requested
2018-02-21 04:25:01,318 - DEBUG - Pos Mgmt -5
2018-02-21 04:25:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BBDA0>, pos=-5, avgCost=15412.17>
2018-02-21 04:25:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:25:01,319 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:25:01,319 - DEBUG - Position is -5
2018-02-21 04:25:01,319 - DEBUG - Pos Mgmt -12987
2018-02-21 04:25:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BBC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:25:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:25:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:25:01,321 - DEBUG - Position is -12987
2018-02-21 04:25:02,316 - DEBUG - Open Orders requested
2018-02-21 04:25:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020BBE48>, order=<ib.ext.Order.Order object at 0x00000000020BBDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002150128>>
2018-02-21 04:25:02,319 - DEBUG - Order OrderID 218
2018-02-21 04:25:02,319 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:25:02,321 - DEBUG - Order status PreSubmitted
2018-02-21 04:25:02,321 - DEBUG - Order Identification 218
2018-02-21 04:25:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:25:02,321 - DEBUG - Profit ID from database is 217
2018-02-21 04:25:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:25:02,322 - DEBUG - Stop ID database is 0
2018-02-21 04:25:02,322 - DEBUG - Entry ID database is 217
2018-02-21 04:25:04,319 - DEBUG - Connecting to database
2018-02-21 04:25:04,325 - DEBUG - Connected to database
2018-02-21 04:25:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,328 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:25:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,329 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:25:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,332 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:25:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,332 - DEBUG - Stop quantity 1
2018-02-21 04:25:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,335 - DEBUG - Direction is Short
2018-02-21 04:25:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,336 - DEBUG - Count is 0
2018-02-21 04:25:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:25:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:25:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:25:04,339 - DEBUG - Max ID Order is (218,)
2018-02-21 04:25:04,339 - DEBUG - Today is 2018-02-21
2018-02-21 04:25:04,341 - DEBUG - Day of the week 2
2018-02-21 04:25:04,341 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:25:04,341 - DEBUG - In Position is  0
2018-02-21 04:25:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:25:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 04:25:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:25:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 04:25:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:25:04,344 - DEBUG - EntryPend is 1
2018-02-21 04:25:04,344 - DEBUG - Try to Cancel Stop
2018-02-21 04:25:04,344 - DEBUG - Stop API ID 0
2018-02-21 04:25:04,345 - DEBUG - Profit API ID 0
2018-02-21 04:25:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:25:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:25:04,345 - DEBUG - Pos is 0
2018-02-21 04:25:04,345 - DEBUG - CurCount is 0
2018-02-21 04:25:04,345 - DEBUG - In Pos 0
2018-02-21 04:25:04,345 - DEBUG - Stop ID is 0
2018-02-21 04:25:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:25:04,348 - DEBUG - EntryPend is 1
2018-02-21 04:25:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:25:04,348 - DEBUG - Entry Date is 10
2018-02-21 04:25:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:25:04,348 - DEBUG - Order Profit ID is 217
2018-02-21 04:25:04,348 - DEBUG - Order Entry ID is 217
2018-02-21 04:25:04,348 - DEBUG - API ID is  0
2018-02-21 04:25:04,348 - DEBUG - Current Position is 0
2018-02-21 04:25:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:25:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:25:04,349 - DEBUG - Time is 4
2018-02-21 04:25:04,349 - DEBUG - Time is <class 'int'>
2018-02-21 04:25:04,349 - DEBUG - Disconnected from IBController
2018-02-21 04:25:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:30:00,272 - DEBUG - ****************************************************
2018-02-21 04:30:00,272 - DEBUG - Current Time is 04:30AM
2018-02-21 04:30:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:30:00,273 - DEBUG - Connecting to database
2018-02-21 04:30:00,308 - DEBUG - Connected to database
2018-02-21 04:30:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:00,309 - DEBUG - Order Profit is 217
2018-02-21 04:30:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:00,312 - DEBUG - Stop ID is 0
2018-02-21 04:30:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:00,312 - DEBUG - Entry ID is 217
2018-02-21 04:30:00,313 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:30:00,315 - DEBUG - OCA ID is 1
2018-02-21 04:30:00,315 - DEBUG - Connecting to IBController
2018-02-21 04:30:01,323 - DEBUG - Connected to IBController
2018-02-21 04:30:01,323 - DEBUG - Position requested
2018-02-21 04:30:01,325 - DEBUG - Pos Mgmt -5
2018-02-21 04:30:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CD68>, pos=-5, avgCost=15412.17>
2018-02-21 04:30:01,326 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:30:01,326 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:30:01,326 - DEBUG - Position is -5
2018-02-21 04:30:01,328 - DEBUG - Pos Mgmt -12987
2018-02-21 04:30:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:30:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:30:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:30:01,328 - DEBUG - Position is -12987
2018-02-21 04:30:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000208CD68>, order=<ib.ext.Order.Order object at 0x000000000208CE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-21 04:30:02,336 - DEBUG - Open Orders requested
2018-02-21 04:30:02,338 - DEBUG - Order OrderID 218
2018-02-21 04:30:02,338 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:30:02,338 - DEBUG - Order status PreSubmitted
2018-02-21 04:30:02,338 - DEBUG - Order Identification 218
2018-02-21 04:30:02,339 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:30:02,339 - DEBUG - Profit ID from database is 217
2018-02-21 04:30:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:30:02,341 - DEBUG - Stop ID database is 0
2018-02-21 04:30:02,341 - DEBUG - Entry ID database is 217
2018-02-21 04:30:04,342 - DEBUG - Connecting to database
2018-02-21 04:30:04,348 - DEBUG - Connected to database
2018-02-21 04:30:04,351 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,351 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:30:04,352 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,352 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:30:04,354 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,355 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:30:04,355 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,355 - DEBUG - Stop quantity 1
2018-02-21 04:30:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,358 - DEBUG - Direction is Short
2018-02-21 04:30:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,359 - DEBUG - Count is 0
2018-02-21 04:30:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:30:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:30:04,362 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:30:04,362 - DEBUG - Max ID Order is (218,)
2018-02-21 04:30:04,364 - DEBUG - Today is 2018-02-21
2018-02-21 04:30:04,364 - DEBUG - Day of the week 2
2018-02-21 04:30:04,364 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:30:04,364 - DEBUG - In Position is  0
2018-02-21 04:30:04,365 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:30:04,365 - DEBUG - curStopLossFlag is  0
2018-02-21 04:30:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:30:04,365 - DEBUG - Checking if Entry has been filled
2018-02-21 04:30:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:30:04,367 - DEBUG - EntryPend is 1
2018-02-21 04:30:04,367 - DEBUG - Try to Cancel Stop
2018-02-21 04:30:04,368 - DEBUG - Stop API ID 0
2018-02-21 04:30:04,368 - DEBUG - Profit API ID 0
2018-02-21 04:30:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:30:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:30:04,368 - DEBUG - Pos is 0
2018-02-21 04:30:04,368 - DEBUG - CurCount is 0
2018-02-21 04:30:04,368 - DEBUG - In Pos 0
2018-02-21 04:30:04,368 - DEBUG - Stop ID is 0
2018-02-21 04:30:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:30:04,371 - DEBUG - EntryPend is 1
2018-02-21 04:30:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:30:04,371 - DEBUG - Entry Date is 10
2018-02-21 04:30:04,371 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:30:04,371 - DEBUG - Order Profit ID is 217
2018-02-21 04:30:04,371 - DEBUG - Order Entry ID is 217
2018-02-21 04:30:04,371 - DEBUG - API ID is  0
2018-02-21 04:30:04,372 - DEBUG - Current Position is 0
2018-02-21 04:30:04,372 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:30:04,372 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:30:04,372 - DEBUG - Time is 4
2018-02-21 04:30:04,374 - DEBUG - Time is <class 'int'>
2018-02-21 04:30:04,374 - DEBUG - Disconnected from IBController
2018-02-21 04:30:04,374 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:35:00,279 - DEBUG - ****************************************************
2018-02-21 04:35:00,279 - DEBUG - Current Time is 04:35AM
2018-02-21 04:35:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:35:00,279 - DEBUG - Connecting to database
2018-02-21 04:35:00,302 - DEBUG - Connected to database
2018-02-21 04:35:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:00,305 - DEBUG - Order Profit is 217
2018-02-21 04:35:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:00,306 - DEBUG - Stop ID is 0
2018-02-21 04:35:00,306 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:00,308 - DEBUG - Entry ID is 217
2018-02-21 04:35:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:35:00,309 - DEBUG - OCA ID is 1
2018-02-21 04:35:00,309 - DEBUG - Connecting to IBController
2018-02-21 04:35:01,316 - DEBUG - Connected to IBController
2018-02-21 04:35:01,318 - DEBUG - Position requested
2018-02-21 04:35:01,325 - DEBUG - Pos Mgmt -5
2018-02-21 04:35:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDDD8>, pos=-5, avgCost=15412.17>
2018-02-21 04:35:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:35:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:35:01,325 - DEBUG - Position is -5
2018-02-21 04:35:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 04:35:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:35:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:35:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:35:01,326 - DEBUG - Position is -12987
2018-02-21 04:35:02,321 - DEBUG - Open Orders requested
2018-02-21 04:35:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162128>>
2018-02-21 04:35:02,323 - DEBUG - Order OrderID 218
2018-02-21 04:35:02,323 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:35:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 04:35:02,325 - DEBUG - Order Identification 218
2018-02-21 04:35:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:35:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 04:35:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:35:02,325 - DEBUG - Stop ID database is 0
2018-02-21 04:35:02,325 - DEBUG - Entry ID database is 217
2018-02-21 04:35:04,322 - DEBUG - Connecting to database
2018-02-21 04:35:04,329 - DEBUG - Connected to database
2018-02-21 04:35:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,332 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:35:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,334 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:35:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,335 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:35:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,336 - DEBUG - Stop quantity 1
2018-02-21 04:35:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,338 - DEBUG - Direction is Short
2018-02-21 04:35:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,339 - DEBUG - Count is 0
2018-02-21 04:35:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:35:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:35:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:35:04,344 - DEBUG - Max ID Order is (218,)
2018-02-21 04:35:04,344 - DEBUG - Today is 2018-02-21
2018-02-21 04:35:04,345 - DEBUG - Day of the week 2
2018-02-21 04:35:04,345 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:35:04,345 - DEBUG - In Position is  0
2018-02-21 04:35:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:35:04,345 - DEBUG - curStopLossFlag is  0
2018-02-21 04:35:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:35:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 04:35:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:35:04,348 - DEBUG - EntryPend is 1
2018-02-21 04:35:04,348 - DEBUG - Try to Cancel Stop
2018-02-21 04:35:04,348 - DEBUG - Stop API ID 0
2018-02-21 04:35:04,348 - DEBUG - Profit API ID 0
2018-02-21 04:35:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:35:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:35:04,348 - DEBUG - Pos is 0
2018-02-21 04:35:04,348 - DEBUG - CurCount is 0
2018-02-21 04:35:04,349 - DEBUG - In Pos 0
2018-02-21 04:35:04,349 - DEBUG - Stop ID is 0
2018-02-21 04:35:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:35:04,351 - DEBUG - EntryPend is 1
2018-02-21 04:35:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:35:04,351 - DEBUG - Entry Date is 10
2018-02-21 04:35:04,351 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:35:04,351 - DEBUG - Order Profit ID is 217
2018-02-21 04:35:04,351 - DEBUG - Order Entry ID is 217
2018-02-21 04:35:04,352 - DEBUG - API ID is  0
2018-02-21 04:35:04,352 - DEBUG - Current Position is 0
2018-02-21 04:35:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:35:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:35:04,354 - DEBUG - Time is 4
2018-02-21 04:35:04,354 - DEBUG - Time is <class 'int'>
2018-02-21 04:35:04,354 - DEBUG - Disconnected from IBController
2018-02-21 04:35:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:40:00,276 - DEBUG - ****************************************************
2018-02-21 04:40:00,276 - DEBUG - Current Time is 04:40AM
2018-02-21 04:40:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:40:00,276 - DEBUG - Connecting to database
2018-02-21 04:40:00,295 - DEBUG - Connected to database
2018-02-21 04:40:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:00,296 - DEBUG - Order Profit is 217
2018-02-21 04:40:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:00,299 - DEBUG - Stop ID is 0
2018-02-21 04:40:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:00,301 - DEBUG - Entry ID is 217
2018-02-21 04:40:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:40:00,302 - DEBUG - OCA ID is 1
2018-02-21 04:40:00,302 - DEBUG - Connecting to IBController
2018-02-21 04:40:01,312 - DEBUG - Connected to IBController
2018-02-21 04:40:01,312 - DEBUG - Position requested
2018-02-21 04:40:01,315 - DEBUG - Pos Mgmt -5
2018-02-21 04:40:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDA0>, pos=-5, avgCost=15412.17>
2018-02-21 04:40:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:40:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:40:01,315 - DEBUG - Position is -5
2018-02-21 04:40:01,316 - DEBUG - Pos Mgmt -12987
2018-02-21 04:40:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:40:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:40:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:40:01,318 - DEBUG - Position is -12987
2018-02-21 04:40:02,313 - DEBUG - Open Orders requested
2018-02-21 04:40:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ADD68>, order=<ib.ext.Order.Order object at 0x00000000020ADE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 04:40:02,316 - DEBUG - Order OrderID 218
2018-02-21 04:40:02,316 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:40:02,316 - DEBUG - Order status PreSubmitted
2018-02-21 04:40:02,318 - DEBUG - Order Identification 218
2018-02-21 04:40:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:40:02,318 - DEBUG - Profit ID from database is 217
2018-02-21 04:40:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:40:02,319 - DEBUG - Stop ID database is 0
2018-02-21 04:40:02,319 - DEBUG - Entry ID database is 217
2018-02-21 04:40:04,315 - DEBUG - Connecting to database
2018-02-21 04:40:04,322 - DEBUG - Connected to database
2018-02-21 04:40:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,325 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:40:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,328 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:40:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,331 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:40:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,332 - DEBUG - Stop quantity 1
2018-02-21 04:40:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,335 - DEBUG - Direction is Short
2018-02-21 04:40:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,336 - DEBUG - Count is 0
2018-02-21 04:40:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:40:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:40:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:40:04,342 - DEBUG - Max ID Order is (218,)
2018-02-21 04:40:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 04:40:04,342 - DEBUG - Day of the week 2
2018-02-21 04:40:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:40:04,342 - DEBUG - In Position is  0
2018-02-21 04:40:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:40:04,344 - DEBUG - curStopLossFlag is  0
2018-02-21 04:40:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:40:04,344 - DEBUG - Checking if Entry has been filled
2018-02-21 04:40:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:40:04,345 - DEBUG - EntryPend is 1
2018-02-21 04:40:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 04:40:04,345 - DEBUG - Stop API ID 0
2018-02-21 04:40:04,345 - DEBUG - Profit API ID 0
2018-02-21 04:40:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:40:04,346 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:40:04,346 - DEBUG - Pos is 0
2018-02-21 04:40:04,346 - DEBUG - CurCount is 0
2018-02-21 04:40:04,346 - DEBUG - In Pos 0
2018-02-21 04:40:04,346 - DEBUG - Stop ID is 0
2018-02-21 04:40:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:40:04,348 - DEBUG - EntryPend is 1
2018-02-21 04:40:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:40:04,348 - DEBUG - Entry Date is 10
2018-02-21 04:40:04,349 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:40:04,349 - DEBUG - Order Profit ID is 217
2018-02-21 04:40:04,349 - DEBUG - Order Entry ID is 217
2018-02-21 04:40:04,349 - DEBUG - API ID is  0
2018-02-21 04:40:04,349 - DEBUG - Current Position is 0
2018-02-21 04:40:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:40:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:40:04,351 - DEBUG - Time is 4
2018-02-21 04:40:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 04:40:04,351 - DEBUG - Disconnected from IBController
2018-02-21 04:40:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:45:00,263 - DEBUG - ****************************************************
2018-02-21 04:45:00,263 - DEBUG - Current Time is 04:45AM
2018-02-21 04:45:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:45:00,263 - DEBUG - Connecting to database
2018-02-21 04:45:00,288 - DEBUG - Connected to database
2018-02-21 04:45:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:00,289 - DEBUG - Order Profit is 217
2018-02-21 04:45:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:00,292 - DEBUG - Stop ID is 0
2018-02-21 04:45:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:00,292 - DEBUG - Entry ID is 217
2018-02-21 04:45:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:45:00,295 - DEBUG - OCA ID is 1
2018-02-21 04:45:00,295 - DEBUG - Connecting to IBController
2018-02-21 04:45:01,302 - DEBUG - Connected to IBController
2018-02-21 04:45:01,302 - DEBUG - Position requested
2018-02-21 04:45:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 04:45:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-5, avgCost=15412.17>
2018-02-21 04:45:01,305 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:45:01,305 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:45:01,305 - DEBUG - Position is -5
2018-02-21 04:45:01,306 - DEBUG - Pos Mgmt -12987
2018-02-21 04:45:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:45:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:45:01,308 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:45:01,308 - DEBUG - Position is -12987
2018-02-21 04:45:02,305 - DEBUG - Open Orders requested
2018-02-21 04:45:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205CE48>, order=<ib.ext.Order.Order object at 0x000000000205CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 04:45:02,308 - DEBUG - Order OrderID 218
2018-02-21 04:45:02,308 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:45:02,308 - DEBUG - Order status PreSubmitted
2018-02-21 04:45:02,309 - DEBUG - Order Identification 218
2018-02-21 04:45:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:45:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 04:45:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:45:02,309 - DEBUG - Stop ID database is 0
2018-02-21 04:45:02,309 - DEBUG - Entry ID database is 217
2018-02-21 04:45:04,306 - DEBUG - Connecting to database
2018-02-21 04:45:04,313 - DEBUG - Connected to database
2018-02-21 04:45:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,315 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:45:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,318 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:45:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,319 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:45:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,321 - DEBUG - Stop quantity 1
2018-02-21 04:45:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,322 - DEBUG - Direction is Short
2018-02-21 04:45:04,323 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,325 - DEBUG - Count is 0
2018-02-21 04:45:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:45:04,325 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:45:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:45:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 04:45:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 04:45:04,328 - DEBUG - Day of the week 2
2018-02-21 04:45:04,328 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:45:04,328 - DEBUG - In Position is  0
2018-02-21 04:45:04,328 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:45:04,329 - DEBUG - curStopLossFlag is  0
2018-02-21 04:45:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:45:04,329 - DEBUG - Checking if Entry has been filled
2018-02-21 04:45:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:45:04,332 - DEBUG - EntryPend is 1
2018-02-21 04:45:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 04:45:04,332 - DEBUG - Stop API ID 0
2018-02-21 04:45:04,332 - DEBUG - Profit API ID 0
2018-02-21 04:45:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:45:04,332 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:45:04,332 - DEBUG - Pos is 0
2018-02-21 04:45:04,332 - DEBUG - CurCount is 0
2018-02-21 04:45:04,334 - DEBUG - In Pos 0
2018-02-21 04:45:04,334 - DEBUG - Stop ID is 0
2018-02-21 04:45:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:45:04,335 - DEBUG - EntryPend is 1
2018-02-21 04:45:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:45:04,335 - DEBUG - Entry Date is 10
2018-02-21 04:45:04,335 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:45:04,335 - DEBUG - Order Profit ID is 217
2018-02-21 04:45:04,336 - DEBUG - Order Entry ID is 217
2018-02-21 04:45:04,336 - DEBUG - API ID is  0
2018-02-21 04:45:04,336 - DEBUG - Current Position is 0
2018-02-21 04:45:04,336 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:45:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:45:04,338 - DEBUG - Time is 4
2018-02-21 04:45:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 04:45:04,338 - DEBUG - Disconnected from IBController
2018-02-21 04:45:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:50:00,276 - DEBUG - ****************************************************
2018-02-21 04:50:00,276 - DEBUG - Current Time is 04:50AM
2018-02-21 04:50:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:50:00,278 - DEBUG - Connecting to database
2018-02-21 04:50:00,301 - DEBUG - Connected to database
2018-02-21 04:50:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:00,302 - DEBUG - Order Profit is 217
2018-02-21 04:50:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:00,303 - DEBUG - Stop ID is 0
2018-02-21 04:50:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:00,305 - DEBUG - Entry ID is 217
2018-02-21 04:50:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:50:00,306 - DEBUG - OCA ID is 1
2018-02-21 04:50:00,308 - DEBUG - Connecting to IBController
2018-02-21 04:50:01,322 - DEBUG - Connected to IBController
2018-02-21 04:50:01,322 - DEBUG - Position requested
2018-02-21 04:50:01,323 - DEBUG - Pos Mgmt -5
2018-02-21 04:50:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDD8>, pos=-5, avgCost=15412.17>
2018-02-21 04:50:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:50:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:50:01,325 - DEBUG - Position is -5
2018-02-21 04:50:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 04:50:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:50:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:50:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:50:01,326 - DEBUG - Position is -12987
2018-02-21 04:50:02,322 - DEBUG - Open Orders requested
2018-02-21 04:50:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE48>, order=<ib.ext.Order.Order object at 0x00000000020ADAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 04:50:02,328 - DEBUG - Order OrderID 218
2018-02-21 04:50:02,328 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:50:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 04:50:02,328 - DEBUG - Order Identification 218
2018-02-21 04:50:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:50:02,329 - DEBUG - Profit ID from database is 217
2018-02-21 04:50:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:50:02,329 - DEBUG - Stop ID database is 0
2018-02-21 04:50:02,329 - DEBUG - Entry ID database is 217
2018-02-21 04:50:04,326 - DEBUG - Connecting to database
2018-02-21 04:50:04,335 - DEBUG - Connected to database
2018-02-21 04:50:04,336 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,336 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:50:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:50:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,341 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:50:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,342 - DEBUG - Stop quantity 1
2018-02-21 04:50:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,344 - DEBUG - Direction is Short
2018-02-21 04:50:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,345 - DEBUG - Count is 0
2018-02-21 04:50:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:50:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:50:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:50:04,348 - DEBUG - Max ID Order is (218,)
2018-02-21 04:50:04,349 - DEBUG - Today is 2018-02-21
2018-02-21 04:50:04,349 - DEBUG - Day of the week 2
2018-02-21 04:50:04,351 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:50:04,351 - DEBUG - In Position is  0
2018-02-21 04:50:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:50:04,351 - DEBUG - curStopLossFlag is  0
2018-02-21 04:50:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:50:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 04:50:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:50:04,352 - DEBUG - EntryPend is 1
2018-02-21 04:50:04,354 - DEBUG - Try to Cancel Stop
2018-02-21 04:50:04,354 - DEBUG - Stop API ID 0
2018-02-21 04:50:04,354 - DEBUG - Profit API ID 0
2018-02-21 04:50:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:50:04,354 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:50:04,355 - DEBUG - Pos is 0
2018-02-21 04:50:04,355 - DEBUG - CurCount is 0
2018-02-21 04:50:04,355 - DEBUG - In Pos 0
2018-02-21 04:50:04,355 - DEBUG - Stop ID is 0
2018-02-21 04:50:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:50:04,357 - DEBUG - EntryPend is 1
2018-02-21 04:50:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:50:04,358 - DEBUG - Entry Date is 10
2018-02-21 04:50:04,358 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:50:04,358 - DEBUG - Order Profit ID is 217
2018-02-21 04:50:04,358 - DEBUG - Order Entry ID is 217
2018-02-21 04:50:04,358 - DEBUG - API ID is  0
2018-02-21 04:50:04,358 - DEBUG - Current Position is 0
2018-02-21 04:50:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:50:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:50:04,358 - DEBUG - Time is 4
2018-02-21 04:50:04,359 - DEBUG - Time is <class 'int'>
2018-02-21 04:50:04,359 - DEBUG - Disconnected from IBController
2018-02-21 04:50:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 04:55:00,280 - DEBUG - ****************************************************
2018-02-21 04:55:00,282 - DEBUG - Current Time is 04:55AM
2018-02-21 04:55:00,282 - DEBUG - Starting Pos Mgmt E S
2018-02-21 04:55:00,282 - DEBUG - Connecting to database
2018-02-21 04:55:00,316 - DEBUG - Connected to database
2018-02-21 04:55:00,316 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:00,319 - DEBUG - Order Profit is 217
2018-02-21 04:55:00,319 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:00,319 - DEBUG - Stop ID is 0
2018-02-21 04:55:00,321 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:00,322 - DEBUG - Entry ID is 217
2018-02-21 04:55:00,322 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 04:55:00,322 - DEBUG - OCA ID is 1
2018-02-21 04:55:00,323 - DEBUG - Connecting to IBController
2018-02-21 04:55:01,331 - DEBUG - Connected to IBController
2018-02-21 04:55:01,331 - DEBUG - Position requested
2018-02-21 04:55:01,332 - DEBUG - Pos Mgmt -5
2018-02-21 04:55:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, pos=-5, avgCost=15412.17>
2018-02-21 04:55:01,335 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 04:55:01,335 - DEBUG - ccy2 Currency with position is USD
2018-02-21 04:55:01,335 - DEBUG - Position is -5
2018-02-21 04:55:01,335 - DEBUG - Pos Mgmt -12987
2018-02-21 04:55:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 04:55:01,336 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 04:55:01,336 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 04:55:01,336 - DEBUG - Position is -12987
2018-02-21 04:55:02,334 - DEBUG - Open Orders requested
2018-02-21 04:55:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, order=<ib.ext.Order.Order object at 0x000000000203DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-21 04:55:02,338 - DEBUG - Order OrderID 218
2018-02-21 04:55:02,338 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 04:55:02,338 - DEBUG - Order status PreSubmitted
2018-02-21 04:55:02,338 - DEBUG - Order Identification 218
2018-02-21 04:55:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-21 04:55:02,342 - DEBUG - Profit ID from database is 217
2018-02-21 04:55:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 04:55:02,342 - DEBUG - Stop ID database is 0
2018-02-21 04:55:02,342 - DEBUG - Entry ID database is 217
2018-02-21 04:55:04,334 - DEBUG - Connecting to database
2018-02-21 04:55:04,341 - DEBUG - Connected to database
2018-02-21 04:55:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,342 - DEBUG - Stop loss value is 2738.25
2018-02-21 04:55:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,345 - DEBUG - Stop loss value is 2695.0
2018-02-21 04:55:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,345 - DEBUG - EntryPrice value is 2704.5
2018-02-21 04:55:04,346 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,348 - DEBUG - Stop quantity 1
2018-02-21 04:55:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,348 - DEBUG - Direction is Short
2018-02-21 04:55:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,351 - DEBUG - Count is 0
2018-02-21 04:55:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 04:55:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-21 04:55:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 04:55:04,355 - DEBUG - Max ID Order is (218,)
2018-02-21 04:55:04,355 - DEBUG - Today is 2018-02-21
2018-02-21 04:55:04,355 - DEBUG - Day of the week 2
2018-02-21 04:55:04,355 - DEBUG - Yesterday is 02/20/2018
2018-02-21 04:55:04,355 - DEBUG - In Position is  0
2018-02-21 04:55:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 04:55:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 04:55:04,357 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 04:55:04,357 - DEBUG - Checking if Entry has been filled
2018-02-21 04:55:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:55:04,358 - DEBUG - EntryPend is 1
2018-02-21 04:55:04,358 - DEBUG - Try to Cancel Stop
2018-02-21 04:55:04,358 - DEBUG - Stop API ID 0
2018-02-21 04:55:04,358 - DEBUG - Profit API ID 0
2018-02-21 04:55:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 04:55:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-21 04:55:04,359 - DEBUG - Pos is 0
2018-02-21 04:55:04,359 - DEBUG - CurCount is 0
2018-02-21 04:55:04,359 - DEBUG - In Pos 0
2018-02-21 04:55:04,361 - DEBUG - Stop ID is 0
2018-02-21 04:55:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 04:55:04,361 - DEBUG - EntryPend is 1
2018-02-21 04:55:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 04:55:04,362 - DEBUG - Entry Date is 10
2018-02-21 04:55:04,362 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 04:55:04,362 - DEBUG - Order Profit ID is 217
2018-02-21 04:55:04,362 - DEBUG - Order Entry ID is 217
2018-02-21 04:55:04,364 - DEBUG - API ID is  0
2018-02-21 04:55:04,364 - DEBUG - Current Position is 0
2018-02-21 04:55:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-21 04:55:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 04:55:04,365 - DEBUG - Time is 4
2018-02-21 04:55:04,365 - DEBUG - Time is <class 'int'>
2018-02-21 04:55:04,365 - DEBUG - Disconnected from IBController
2018-02-21 04:55:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:00:00,260 - DEBUG - ****************************************************
2018-02-21 05:00:00,260 - DEBUG - Current Time is 05:00AM
2018-02-21 05:00:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:00:00,262 - DEBUG - Connecting to database
2018-02-21 05:00:00,306 - DEBUG - Connected to database
2018-02-21 05:00:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:00,309 - DEBUG - Order Profit is 217
2018-02-21 05:00:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:00,309 - DEBUG - Stop ID is 0
2018-02-21 05:00:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:00,312 - DEBUG - Entry ID is 217
2018-02-21 05:00:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:00:00,312 - DEBUG - OCA ID is 1
2018-02-21 05:00:00,313 - DEBUG - Connecting to IBController
2018-02-21 05:00:01,322 - DEBUG - Connected to IBController
2018-02-21 05:00:01,322 - DEBUG - Position requested
2018-02-21 05:00:01,326 - DEBUG - Pos Mgmt -5
2018-02-21 05:00:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 05:00:01,326 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:00:01,328 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:00:01,328 - DEBUG - Position is -5
2018-02-21 05:00:01,328 - DEBUG - Pos Mgmt -12987
2018-02-21 05:00:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:00:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:00:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:00:01,328 - DEBUG - Position is -12987
2018-02-21 05:00:02,325 - DEBUG - Open Orders requested
2018-02-21 05:00:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207DDA0>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-21 05:00:02,328 - DEBUG - Order OrderID 218
2018-02-21 05:00:02,328 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:00:02,329 - DEBUG - Order status PreSubmitted
2018-02-21 05:00:02,329 - DEBUG - Order Identification 218
2018-02-21 05:00:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:00:02,329 - DEBUG - Profit ID from database is 217
2018-02-21 05:00:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:00:02,331 - DEBUG - Stop ID database is 0
2018-02-21 05:00:02,331 - DEBUG - Entry ID database is 217
2018-02-21 05:00:04,326 - DEBUG - Connecting to database
2018-02-21 05:00:04,335 - DEBUG - Connected to database
2018-02-21 05:00:04,336 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,336 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:00:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,339 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:00:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,341 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:00:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,342 - DEBUG - Stop quantity 1
2018-02-21 05:00:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,345 - DEBUG - Direction is Short
2018-02-21 05:00:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,345 - DEBUG - Count is 0
2018-02-21 05:00:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:00:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:00:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:00:04,349 - DEBUG - Max ID Order is (218,)
2018-02-21 05:00:04,349 - DEBUG - Today is 2018-02-21
2018-02-21 05:00:04,351 - DEBUG - Day of the week 2
2018-02-21 05:00:04,351 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:00:04,351 - DEBUG - In Position is  0
2018-02-21 05:00:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:00:04,351 - DEBUG - curStopLossFlag is  0
2018-02-21 05:00:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:00:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 05:00:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:00:04,354 - DEBUG - EntryPend is 1
2018-02-21 05:00:04,354 - DEBUG - Try to Cancel Stop
2018-02-21 05:00:04,354 - DEBUG - Stop API ID 0
2018-02-21 05:00:04,354 - DEBUG - Profit API ID 0
2018-02-21 05:00:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:00:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:00:04,355 - DEBUG - Pos is 0
2018-02-21 05:00:04,355 - DEBUG - CurCount is 0
2018-02-21 05:00:04,355 - DEBUG - In Pos 0
2018-02-21 05:00:04,355 - DEBUG - Stop ID is 0
2018-02-21 05:00:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:00:04,357 - DEBUG - EntryPend is 1
2018-02-21 05:00:04,358 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:00:04,358 - DEBUG - Entry Date is 10
2018-02-21 05:00:04,358 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:00:04,358 - DEBUG - Order Profit ID is 217
2018-02-21 05:00:04,358 - DEBUG - Order Entry ID is 217
2018-02-21 05:00:04,358 - DEBUG - API ID is  0
2018-02-21 05:00:04,358 - DEBUG - Current Position is 0
2018-02-21 05:00:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:00:04,359 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:00:04,359 - DEBUG - Time is 5
2018-02-21 05:00:04,359 - DEBUG - Time is <class 'int'>
2018-02-21 05:00:04,359 - DEBUG - Disconnected from IBController
2018-02-21 05:00:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:05:00,259 - DEBUG - ****************************************************
2018-02-21 05:05:00,260 - DEBUG - Current Time is 05:05AM
2018-02-21 05:05:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:05:00,260 - DEBUG - Connecting to database
2018-02-21 05:05:00,288 - DEBUG - Connected to database
2018-02-21 05:05:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:00,289 - DEBUG - Order Profit is 217
2018-02-21 05:05:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:00,290 - DEBUG - Stop ID is 0
2018-02-21 05:05:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:00,292 - DEBUG - Entry ID is 217
2018-02-21 05:05:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:05:00,295 - DEBUG - OCA ID is 1
2018-02-21 05:05:00,295 - DEBUG - Connecting to IBController
2018-02-21 05:05:01,302 - DEBUG - Connected to IBController
2018-02-21 05:05:01,302 - DEBUG - Position requested
2018-02-21 05:05:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 05:05:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-5, avgCost=15412.17>
2018-02-21 05:05:01,305 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:05:01,305 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:05:01,305 - DEBUG - Position is -5
2018-02-21 05:05:01,306 - DEBUG - Pos Mgmt -12987
2018-02-21 05:05:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:05:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:05:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:05:01,306 - DEBUG - Position is -12987
2018-02-21 05:05:02,305 - DEBUG - Open Orders requested
2018-02-21 05:05:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205CE48>, order=<ib.ext.Order.Order object at 0x000000000205CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-21 05:05:02,308 - DEBUG - Order OrderID 218
2018-02-21 05:05:02,308 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:05:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 05:05:02,309 - DEBUG - Order Identification 218
2018-02-21 05:05:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:05:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 05:05:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:05:02,309 - DEBUG - Stop ID database is 0
2018-02-21 05:05:02,309 - DEBUG - Entry ID database is 217
2018-02-21 05:05:04,306 - DEBUG - Connecting to database
2018-02-21 05:05:04,313 - DEBUG - Connected to database
2018-02-21 05:05:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,315 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:05:04,316 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,318 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:05:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,319 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:05:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,321 - DEBUG - Stop quantity 1
2018-02-21 05:05:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,322 - DEBUG - Direction is Short
2018-02-21 05:05:04,323 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,325 - DEBUG - Count is 0
2018-02-21 05:05:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:05:04,325 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:05:04,326 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:05:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 05:05:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 05:05:04,328 - DEBUG - Day of the week 2
2018-02-21 05:05:04,328 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:05:04,328 - DEBUG - In Position is  0
2018-02-21 05:05:04,328 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:05:04,329 - DEBUG - curStopLossFlag is  0
2018-02-21 05:05:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:05:04,329 - DEBUG - Checking if Entry has been filled
2018-02-21 05:05:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:05:04,332 - DEBUG - EntryPend is 1
2018-02-21 05:05:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 05:05:04,332 - DEBUG - Stop API ID 0
2018-02-21 05:05:04,332 - DEBUG - Profit API ID 0
2018-02-21 05:05:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:05:04,332 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:05:04,332 - DEBUG - Pos is 0
2018-02-21 05:05:04,332 - DEBUG - CurCount is 0
2018-02-21 05:05:04,334 - DEBUG - In Pos 0
2018-02-21 05:05:04,334 - DEBUG - Stop ID is 0
2018-02-21 05:05:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:05:04,335 - DEBUG - EntryPend is 1
2018-02-21 05:05:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:05:04,335 - DEBUG - Entry Date is 10
2018-02-21 05:05:04,335 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:05:04,335 - DEBUG - Order Profit ID is 217
2018-02-21 05:05:04,336 - DEBUG - Order Entry ID is 217
2018-02-21 05:05:04,336 - DEBUG - API ID is  0
2018-02-21 05:05:04,336 - DEBUG - Current Position is 0
2018-02-21 05:05:04,336 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:05:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:05:04,338 - DEBUG - Time is 5
2018-02-21 05:05:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 05:05:04,338 - DEBUG - Disconnected from IBController
2018-02-21 05:05:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:10:00,276 - DEBUG - ****************************************************
2018-02-21 05:10:00,276 - DEBUG - Current Time is 05:10AM
2018-02-21 05:10:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:10:00,276 - DEBUG - Connecting to database
2018-02-21 05:10:00,296 - DEBUG - Connected to database
2018-02-21 05:10:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:00,298 - DEBUG - Order Profit is 217
2018-02-21 05:10:00,298 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:00,299 - DEBUG - Stop ID is 0
2018-02-21 05:10:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:00,302 - DEBUG - Entry ID is 217
2018-02-21 05:10:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:10:00,303 - DEBUG - OCA ID is 1
2018-02-21 05:10:00,303 - DEBUG - Connecting to IBController
2018-02-21 05:10:01,311 - DEBUG - Connected to IBController
2018-02-21 05:10:01,311 - DEBUG - Position requested
2018-02-21 05:10:01,312 - DEBUG - Pos Mgmt -5
2018-02-21 05:10:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CCF8>, pos=-5, avgCost=15412.17>
2018-02-21 05:10:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:10:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:10:01,313 - DEBUG - Position is -5
2018-02-21 05:10:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 05:10:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:10:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:10:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:10:01,315 - DEBUG - Position is -12987
2018-02-21 05:10:02,312 - DEBUG - Open Orders requested
2018-02-21 05:10:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207CCF8>, order=<ib.ext.Order.Order object at 0x000000000207CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-21 05:10:02,315 - DEBUG - Order OrderID 218
2018-02-21 05:10:02,315 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:10:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 05:10:02,315 - DEBUG - Order Identification 218
2018-02-21 05:10:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:10:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 05:10:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:10:02,316 - DEBUG - Stop ID database is 0
2018-02-21 05:10:02,316 - DEBUG - Entry ID database is 217
2018-02-21 05:10:04,313 - DEBUG - Connecting to database
2018-02-21 05:10:04,321 - DEBUG - Connected to database
2018-02-21 05:10:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,322 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:10:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,323 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:10:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,325 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:10:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,328 - DEBUG - Stop quantity 1
2018-02-21 05:10:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,329 - DEBUG - Direction is Short
2018-02-21 05:10:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,331 - DEBUG - Count is 0
2018-02-21 05:10:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:10:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:10:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:10:04,335 - DEBUG - Max ID Order is (218,)
2018-02-21 05:10:04,335 - DEBUG - Today is 2018-02-21
2018-02-21 05:10:04,335 - DEBUG - Day of the week 2
2018-02-21 05:10:04,335 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:10:04,335 - DEBUG - In Position is  0
2018-02-21 05:10:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:10:04,335 - DEBUG - curStopLossFlag is  0
2018-02-21 05:10:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:10:04,336 - DEBUG - Checking if Entry has been filled
2018-02-21 05:10:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:10:04,338 - DEBUG - EntryPend is 1
2018-02-21 05:10:04,338 - DEBUG - Try to Cancel Stop
2018-02-21 05:10:04,338 - DEBUG - Stop API ID 0
2018-02-21 05:10:04,338 - DEBUG - Profit API ID 0
2018-02-21 05:10:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:10:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:10:04,339 - DEBUG - Pos is 0
2018-02-21 05:10:04,339 - DEBUG - CurCount is 0
2018-02-21 05:10:04,339 - DEBUG - In Pos 0
2018-02-21 05:10:04,341 - DEBUG - Stop ID is 0
2018-02-21 05:10:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:10:04,342 - DEBUG - EntryPend is 1
2018-02-21 05:10:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:10:04,342 - DEBUG - Entry Date is 10
2018-02-21 05:10:04,342 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:10:04,342 - DEBUG - Order Profit ID is 217
2018-02-21 05:10:04,344 - DEBUG - Order Entry ID is 217
2018-02-21 05:10:04,344 - DEBUG - API ID is  0
2018-02-21 05:10:04,344 - DEBUG - Current Position is 0
2018-02-21 05:10:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:10:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:10:04,345 - DEBUG - Time is 5
2018-02-21 05:10:04,345 - DEBUG - Time is <class 'int'>
2018-02-21 05:10:04,345 - DEBUG - Disconnected from IBController
2018-02-21 05:10:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:15:00,260 - DEBUG - ****************************************************
2018-02-21 05:15:00,262 - DEBUG - Current Time is 05:15AM
2018-02-21 05:15:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:15:00,262 - DEBUG - Connecting to database
2018-02-21 05:15:00,299 - DEBUG - Connected to database
2018-02-21 05:15:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:00,301 - DEBUG - Order Profit is 217
2018-02-21 05:15:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:00,302 - DEBUG - Stop ID is 0
2018-02-21 05:15:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:00,303 - DEBUG - Entry ID is 217
2018-02-21 05:15:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:15:00,305 - DEBUG - OCA ID is 1
2018-02-21 05:15:00,305 - DEBUG - Connecting to IBController
2018-02-21 05:15:01,328 - DEBUG - Connected to IBController
2018-02-21 05:15:01,328 - DEBUG - Position requested
2018-02-21 05:15:01,334 - DEBUG - Pos Mgmt -5
2018-02-21 05:15:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DD68>, pos=-5, avgCost=15412.17>
2018-02-21 05:15:01,335 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:15:01,335 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:15:01,335 - DEBUG - Position is -5
2018-02-21 05:15:01,335 - DEBUG - Pos Mgmt -12987
2018-02-21 05:15:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:15:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:15:01,336 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:15:01,336 - DEBUG - Position is -12987
2018-02-21 05:15:02,328 - DEBUG - Open Orders requested
2018-02-21 05:15:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-21 05:15:02,332 - DEBUG - Order OrderID 218
2018-02-21 05:15:02,332 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:15:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 05:15:02,332 - DEBUG - Order Identification 218
2018-02-21 05:15:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:15:02,334 - DEBUG - Profit ID from database is 217
2018-02-21 05:15:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:15:02,334 - DEBUG - Stop ID database is 0
2018-02-21 05:15:02,334 - DEBUG - Entry ID database is 217
2018-02-21 05:15:04,332 - DEBUG - Connecting to database
2018-02-21 05:15:04,338 - DEBUG - Connected to database
2018-02-21 05:15:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,341 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:15:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,342 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:15:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,344 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:15:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,345 - DEBUG - Stop quantity 1
2018-02-21 05:15:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,348 - DEBUG - Direction is Short
2018-02-21 05:15:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,348 - DEBUG - Count is 0
2018-02-21 05:15:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:15:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:15:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:15:04,354 - DEBUG - Max ID Order is (218,)
2018-02-21 05:15:04,354 - DEBUG - Today is 2018-02-21
2018-02-21 05:15:04,355 - DEBUG - Day of the week 2
2018-02-21 05:15:04,355 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:15:04,355 - DEBUG - In Position is  0
2018-02-21 05:15:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:15:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 05:15:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:15:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 05:15:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:15:04,358 - DEBUG - EntryPend is 1
2018-02-21 05:15:04,358 - DEBUG - Try to Cancel Stop
2018-02-21 05:15:04,358 - DEBUG - Stop API ID 0
2018-02-21 05:15:04,358 - DEBUG - Profit API ID 0
2018-02-21 05:15:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:15:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:15:04,358 - DEBUG - Pos is 0
2018-02-21 05:15:04,358 - DEBUG - CurCount is 0
2018-02-21 05:15:04,358 - DEBUG - In Pos 0
2018-02-21 05:15:04,359 - DEBUG - Stop ID is 0
2018-02-21 05:15:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:15:04,361 - DEBUG - EntryPend is 1
2018-02-21 05:15:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:15:04,361 - DEBUG - Entry Date is 10
2018-02-21 05:15:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:15:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 05:15:04,362 - DEBUG - Order Entry ID is 217
2018-02-21 05:15:04,362 - DEBUG - API ID is  0
2018-02-21 05:15:04,362 - DEBUG - Current Position is 0
2018-02-21 05:15:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:15:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:15:04,364 - DEBUG - Time is 5
2018-02-21 05:15:04,364 - DEBUG - Time is <class 'int'>
2018-02-21 05:15:04,364 - DEBUG - Disconnected from IBController
2018-02-21 05:15:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:20:00,269 - DEBUG - ****************************************************
2018-02-21 05:20:00,269 - DEBUG - Current Time is 05:20AM
2018-02-21 05:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:20:00,269 - DEBUG - Connecting to database
2018-02-21 05:20:00,298 - DEBUG - Connected to database
2018-02-21 05:20:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:00,299 - DEBUG - Order Profit is 217
2018-02-21 05:20:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:00,302 - DEBUG - Stop ID is 0
2018-02-21 05:20:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:00,303 - DEBUG - Entry ID is 217
2018-02-21 05:20:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:20:00,305 - DEBUG - OCA ID is 1
2018-02-21 05:20:00,305 - DEBUG - Connecting to IBController
2018-02-21 05:20:01,311 - DEBUG - Connected to IBController
2018-02-21 05:20:01,311 - DEBUG - Position requested
2018-02-21 05:20:01,323 - DEBUG - Pos Mgmt -5
2018-02-21 05:20:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, pos=-5, avgCost=15412.17>
2018-02-21 05:20:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:20:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:20:01,325 - DEBUG - Position is -5
2018-02-21 05:20:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 05:20:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:20:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:20:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:20:01,326 - DEBUG - Position is -12987
2018-02-21 05:20:02,323 - DEBUG - Open Orders requested
2018-02-21 05:20:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, order=<ib.ext.Order.Order object at 0x000000000203CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-21 05:20:02,326 - DEBUG - Order OrderID 218
2018-02-21 05:20:02,326 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:20:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 05:20:02,328 - DEBUG - Order Identification 218
2018-02-21 05:20:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:20:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 05:20:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:20:02,335 - DEBUG - Stop ID database is 0
2018-02-21 05:20:02,335 - DEBUG - Entry ID database is 217
2018-02-21 05:20:04,325 - DEBUG - Connecting to database
2018-02-21 05:20:04,332 - DEBUG - Connected to database
2018-02-21 05:20:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,334 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:20:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,336 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:20:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,338 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:20:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,339 - DEBUG - Stop quantity 1
2018-02-21 05:20:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,342 - DEBUG - Direction is Short
2018-02-21 05:20:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,344 - DEBUG - Count is 0
2018-02-21 05:20:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:20:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:20:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:20:04,346 - DEBUG - Max ID Order is (218,)
2018-02-21 05:20:04,346 - DEBUG - Today is 2018-02-21
2018-02-21 05:20:04,348 - DEBUG - Day of the week 2
2018-02-21 05:20:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:20:04,348 - DEBUG - In Position is  0
2018-02-21 05:20:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:20:04,348 - DEBUG - curStopLossFlag is  0
2018-02-21 05:20:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:20:04,348 - DEBUG - Checking if Entry has been filled
2018-02-21 05:20:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:20:04,351 - DEBUG - EntryPend is 1
2018-02-21 05:20:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 05:20:04,351 - DEBUG - Stop API ID 0
2018-02-21 05:20:04,351 - DEBUG - Profit API ID 0
2018-02-21 05:20:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:20:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:20:04,351 - DEBUG - Pos is 0
2018-02-21 05:20:04,351 - DEBUG - CurCount is 0
2018-02-21 05:20:04,352 - DEBUG - In Pos 0
2018-02-21 05:20:04,352 - DEBUG - Stop ID is 0
2018-02-21 05:20:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:20:04,355 - DEBUG - EntryPend is 1
2018-02-21 05:20:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:20:04,355 - DEBUG - Entry Date is 10
2018-02-21 05:20:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:20:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 05:20:04,355 - DEBUG - Order Entry ID is 217
2018-02-21 05:20:04,355 - DEBUG - API ID is  0
2018-02-21 05:20:04,355 - DEBUG - Current Position is 0
2018-02-21 05:20:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:20:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:20:04,357 - DEBUG - Time is 5
2018-02-21 05:20:04,357 - DEBUG - Time is <class 'int'>
2018-02-21 05:20:04,357 - DEBUG - Disconnected from IBController
2018-02-21 05:20:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:25:00,296 - DEBUG - ****************************************************
2018-02-21 05:25:00,298 - DEBUG - Current Time is 05:25AM
2018-02-21 05:25:00,298 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:25:00,298 - DEBUG - Connecting to database
2018-02-21 05:25:00,334 - DEBUG - Connected to database
2018-02-21 05:25:00,334 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:00,335 - DEBUG - Order Profit is 217
2018-02-21 05:25:00,335 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:00,338 - DEBUG - Stop ID is 0
2018-02-21 05:25:00,338 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:00,338 - DEBUG - Entry ID is 217
2018-02-21 05:25:00,338 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:25:00,341 - DEBUG - OCA ID is 1
2018-02-21 05:25:00,341 - DEBUG - Connecting to IBController
2018-02-21 05:25:01,357 - DEBUG - Connected to IBController
2018-02-21 05:25:01,357 - DEBUG - Position requested
2018-02-21 05:25:01,358 - DEBUG - Pos Mgmt -5
2018-02-21 05:25:01,358 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 05:25:01,359 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:25:01,359 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:25:01,359 - DEBUG - Position is -5
2018-02-21 05:25:01,361 - DEBUG - Pos Mgmt -12987
2018-02-21 05:25:01,361 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:25:01,361 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:25:01,361 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:25:01,361 - DEBUG - Position is -12987
2018-02-21 05:25:02,358 - DEBUG - Open Orders requested
2018-02-21 05:25:02,375 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, order=<ib.ext.Order.Order object at 0x000000000206DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-21 05:25:02,375 - DEBUG - Order OrderID 218
2018-02-21 05:25:02,377 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:25:02,377 - DEBUG - Order status PreSubmitted
2018-02-21 05:25:02,377 - DEBUG - Order Identification 218
2018-02-21 05:25:02,378 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:25:02,378 - DEBUG - Profit ID from database is 217
2018-02-21 05:25:02,378 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:25:02,378 - DEBUG - Stop ID database is 0
2018-02-21 05:25:02,378 - DEBUG - Entry ID database is 217
2018-02-21 05:25:04,368 - DEBUG - Connecting to database
2018-02-21 05:25:04,375 - DEBUG - Connected to database
2018-02-21 05:25:04,378 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,378 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:25:04,380 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,380 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:25:04,381 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,381 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:25:04,382 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,384 - DEBUG - Stop quantity 1
2018-02-21 05:25:04,388 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,388 - DEBUG - Direction is Short
2018-02-21 05:25:04,390 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,390 - DEBUG - Count is 0
2018-02-21 05:25:04,391 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:25:04,391 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:25:04,394 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:25:04,394 - DEBUG - Max ID Order is (218,)
2018-02-21 05:25:04,394 - DEBUG - Today is 2018-02-21
2018-02-21 05:25:04,394 - DEBUG - Day of the week 2
2018-02-21 05:25:04,394 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:25:04,395 - DEBUG - In Position is  0
2018-02-21 05:25:04,395 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:25:04,397 - DEBUG - curStopLossFlag is  0
2018-02-21 05:25:04,397 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:25:04,397 - DEBUG - Checking if Entry has been filled
2018-02-21 05:25:04,397 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:25:04,404 - DEBUG - EntryPend is 1
2018-02-21 05:25:04,407 - DEBUG - Try to Cancel Stop
2018-02-21 05:25:04,411 - DEBUG - Stop API ID 0
2018-02-21 05:25:04,414 - DEBUG - Profit API ID 0
2018-02-21 05:25:04,414 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:25:04,414 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:25:04,414 - DEBUG - Pos is 0
2018-02-21 05:25:04,414 - DEBUG - CurCount is 0
2018-02-21 05:25:04,414 - DEBUG - In Pos 0
2018-02-21 05:25:04,415 - DEBUG - Stop ID is 0
2018-02-21 05:25:04,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:25:04,417 - DEBUG - EntryPend is 1
2018-02-21 05:25:04,417 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:25:04,417 - DEBUG - Entry Date is 10
2018-02-21 05:25:04,417 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:25:04,417 - DEBUG - Order Profit ID is 217
2018-02-21 05:25:04,418 - DEBUG - Order Entry ID is 217
2018-02-21 05:25:04,418 - DEBUG - API ID is  0
2018-02-21 05:25:04,418 - DEBUG - Current Position is 0
2018-02-21 05:25:04,418 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:25:04,418 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:25:04,420 - DEBUG - Time is 5
2018-02-21 05:25:04,420 - DEBUG - Time is <class 'int'>
2018-02-21 05:25:04,420 - DEBUG - Disconnected from IBController
2018-02-21 05:25:04,423 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:30:00,303 - DEBUG - ****************************************************
2018-02-21 05:30:00,303 - DEBUG - Current Time is 05:30AM
2018-02-21 05:30:00,305 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:30:00,305 - DEBUG - Connecting to database
2018-02-21 05:30:00,328 - DEBUG - Connected to database
2018-02-21 05:30:00,328 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:00,329 - DEBUG - Order Profit is 217
2018-02-21 05:30:00,329 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:00,331 - DEBUG - Stop ID is 0
2018-02-21 05:30:00,332 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:00,332 - DEBUG - Entry ID is 217
2018-02-21 05:30:00,332 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:30:00,335 - DEBUG - OCA ID is 1
2018-02-21 05:30:00,335 - DEBUG - Connecting to IBController
2018-02-21 05:30:01,342 - DEBUG - Connected to IBController
2018-02-21 05:30:01,342 - DEBUG - Position requested
2018-02-21 05:30:01,345 - DEBUG - Pos Mgmt -5
2018-02-21 05:30:01,345 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BCF8>, pos=-5, avgCost=15412.17>
2018-02-21 05:30:01,345 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:30:01,345 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:30:01,345 - DEBUG - Position is -5
2018-02-21 05:30:01,346 - DEBUG - Pos Mgmt -12987
2018-02-21 05:30:01,346 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:30:01,346 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:30:01,346 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:30:01,348 - DEBUG - Position is -12987
2018-02-21 05:30:02,342 - DEBUG - Open Orders requested
2018-02-21 05:30:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205BCF8>, order=<ib.ext.Order.Order object at 0x000000000205BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F00B8>>
2018-02-21 05:30:02,345 - DEBUG - Order OrderID 218
2018-02-21 05:30:02,346 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:30:02,346 - DEBUG - Order status PreSubmitted
2018-02-21 05:30:02,346 - DEBUG - Order Identification 218
2018-02-21 05:30:02,348 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:30:02,348 - DEBUG - Profit ID from database is 217
2018-02-21 05:30:02,348 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:30:02,348 - DEBUG - Stop ID database is 0
2018-02-21 05:30:02,348 - DEBUG - Entry ID database is 217
2018-02-21 05:30:04,342 - DEBUG - Connecting to database
2018-02-21 05:30:04,349 - DEBUG - Connected to database
2018-02-21 05:30:04,351 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,351 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:30:04,354 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,354 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:30:04,355 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,355 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:30:04,357 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,357 - DEBUG - Stop quantity 1
2018-02-21 05:30:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,358 - DEBUG - Direction is Short
2018-02-21 05:30:04,359 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,361 - DEBUG - Count is 0
2018-02-21 05:30:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:30:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:30:04,362 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:30:04,364 - DEBUG - Max ID Order is (218,)
2018-02-21 05:30:04,364 - DEBUG - Today is 2018-02-21
2018-02-21 05:30:04,365 - DEBUG - Day of the week 2
2018-02-21 05:30:04,365 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:30:04,365 - DEBUG - In Position is  0
2018-02-21 05:30:04,365 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:30:04,365 - DEBUG - curStopLossFlag is  0
2018-02-21 05:30:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:30:04,365 - DEBUG - Checking if Entry has been filled
2018-02-21 05:30:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:30:04,368 - DEBUG - EntryPend is 1
2018-02-21 05:30:04,368 - DEBUG - Try to Cancel Stop
2018-02-21 05:30:04,368 - DEBUG - Stop API ID 0
2018-02-21 05:30:04,368 - DEBUG - Profit API ID 0
2018-02-21 05:30:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:30:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:30:04,368 - DEBUG - Pos is 0
2018-02-21 05:30:04,368 - DEBUG - CurCount is 0
2018-02-21 05:30:04,369 - DEBUG - In Pos 0
2018-02-21 05:30:04,369 - DEBUG - Stop ID is 0
2018-02-21 05:30:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:30:04,371 - DEBUG - EntryPend is 1
2018-02-21 05:30:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:30:04,371 - DEBUG - Entry Date is 10
2018-02-21 05:30:04,371 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:30:04,371 - DEBUG - Order Profit ID is 217
2018-02-21 05:30:04,372 - DEBUG - Order Entry ID is 217
2018-02-21 05:30:04,372 - DEBUG - API ID is  0
2018-02-21 05:30:04,372 - DEBUG - Current Position is 0
2018-02-21 05:30:04,372 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:30:04,374 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:30:04,374 - DEBUG - Time is 5
2018-02-21 05:30:04,374 - DEBUG - Time is <class 'int'>
2018-02-21 05:30:04,374 - DEBUG - Disconnected from IBController
2018-02-21 05:30:04,375 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:35:00,292 - DEBUG - ****************************************************
2018-02-21 05:35:00,292 - DEBUG - Current Time is 05:35AM
2018-02-21 05:35:00,292 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:35:00,292 - DEBUG - Connecting to database
2018-02-21 05:35:00,329 - DEBUG - Connected to database
2018-02-21 05:35:00,329 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:00,331 - DEBUG - Order Profit is 217
2018-02-21 05:35:00,332 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:00,332 - DEBUG - Stop ID is 0
2018-02-21 05:35:00,332 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:00,335 - DEBUG - Entry ID is 217
2018-02-21 05:35:00,335 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:35:00,335 - DEBUG - OCA ID is 1
2018-02-21 05:35:00,335 - DEBUG - Connecting to IBController
2018-02-21 05:35:01,345 - DEBUG - Connected to IBController
2018-02-21 05:35:01,345 - DEBUG - Position requested
2018-02-21 05:35:01,348 - DEBUG - Pos Mgmt -5
2018-02-21 05:35:01,349 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 05:35:01,349 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:35:01,349 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:35:01,351 - DEBUG - Position is -5
2018-02-21 05:35:01,351 - DEBUG - Pos Mgmt -12987
2018-02-21 05:35:01,351 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:35:01,351 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:35:01,351 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:35:01,351 - DEBUG - Position is -12987
2018-02-21 05:35:02,345 - DEBUG - Open Orders requested
2018-02-21 05:35:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-21 05:35:02,348 - DEBUG - Order OrderID 218
2018-02-21 05:35:02,348 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:35:02,349 - DEBUG - Order status PreSubmitted
2018-02-21 05:35:02,349 - DEBUG - Order Identification 218
2018-02-21 05:35:02,349 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:35:02,351 - DEBUG - Profit ID from database is 217
2018-02-21 05:35:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:35:02,351 - DEBUG - Stop ID database is 0
2018-02-21 05:35:02,351 - DEBUG - Entry ID database is 217
2018-02-21 05:35:04,348 - DEBUG - Connecting to database
2018-02-21 05:35:04,355 - DEBUG - Connected to database
2018-02-21 05:35:04,358 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,358 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:35:04,358 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,359 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:35:04,361 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,361 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:35:04,362 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,362 - DEBUG - Stop quantity 1
2018-02-21 05:35:04,364 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,365 - DEBUG - Direction is Short
2018-02-21 05:35:04,365 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,365 - DEBUG - Count is 0
2018-02-21 05:35:04,368 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:35:04,368 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:35:04,368 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:35:04,369 - DEBUG - Max ID Order is (218,)
2018-02-21 05:35:04,369 - DEBUG - Today is 2018-02-21
2018-02-21 05:35:04,369 - DEBUG - Day of the week 2
2018-02-21 05:35:04,371 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:35:04,371 - DEBUG - In Position is  0
2018-02-21 05:35:04,371 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:35:04,371 - DEBUG - curStopLossFlag is  0
2018-02-21 05:35:04,371 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:35:04,371 - DEBUG - Checking if Entry has been filled
2018-02-21 05:35:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:35:04,374 - DEBUG - EntryPend is 1
2018-02-21 05:35:04,374 - DEBUG - Try to Cancel Stop
2018-02-21 05:35:04,374 - DEBUG - Stop API ID 0
2018-02-21 05:35:04,374 - DEBUG - Profit API ID 0
2018-02-21 05:35:04,374 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:35:04,375 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:35:04,375 - DEBUG - Pos is 0
2018-02-21 05:35:04,375 - DEBUG - CurCount is 0
2018-02-21 05:35:04,375 - DEBUG - In Pos 0
2018-02-21 05:35:04,375 - DEBUG - Stop ID is 0
2018-02-21 05:35:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:35:04,377 - DEBUG - EntryPend is 1
2018-02-21 05:35:04,377 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:35:04,378 - DEBUG - Entry Date is 10
2018-02-21 05:35:04,378 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:35:04,378 - DEBUG - Order Profit ID is 217
2018-02-21 05:35:04,378 - DEBUG - Order Entry ID is 217
2018-02-21 05:35:04,378 - DEBUG - API ID is  0
2018-02-21 05:35:04,378 - DEBUG - Current Position is 0
2018-02-21 05:35:04,378 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:35:04,378 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:35:04,378 - DEBUG - Time is 5
2018-02-21 05:35:04,380 - DEBUG - Time is <class 'int'>
2018-02-21 05:35:04,380 - DEBUG - Disconnected from IBController
2018-02-21 05:35:04,380 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:40:00,272 - DEBUG - ****************************************************
2018-02-21 05:40:00,272 - DEBUG - Current Time is 05:40AM
2018-02-21 05:40:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:40:00,273 - DEBUG - Connecting to database
2018-02-21 05:40:00,296 - DEBUG - Connected to database
2018-02-21 05:40:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:00,299 - DEBUG - Order Profit is 217
2018-02-21 05:40:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:00,301 - DEBUG - Stop ID is 0
2018-02-21 05:40:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:00,302 - DEBUG - Entry ID is 217
2018-02-21 05:40:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:40:00,303 - DEBUG - OCA ID is 1
2018-02-21 05:40:00,303 - DEBUG - Connecting to IBController
2018-02-21 05:40:01,311 - DEBUG - Connected to IBController
2018-02-21 05:40:01,311 - DEBUG - Position requested
2018-02-21 05:40:01,312 - DEBUG - Pos Mgmt -5
2018-02-21 05:40:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CB00>, pos=-5, avgCost=15412.17>
2018-02-21 05:40:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:40:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:40:01,313 - DEBUG - Position is -5
2018-02-21 05:40:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 05:40:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:40:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:40:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:40:01,315 - DEBUG - Position is -12987
2018-02-21 05:40:02,312 - DEBUG - Open Orders requested
2018-02-21 05:40:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203CE48>, order=<ib.ext.Order.Order object at 0x000000000203CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-21 05:40:02,315 - DEBUG - Order OrderID 218
2018-02-21 05:40:02,315 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:40:02,316 - DEBUG - Order status PreSubmitted
2018-02-21 05:40:02,316 - DEBUG - Order Identification 218
2018-02-21 05:40:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:40:02,316 - DEBUG - Profit ID from database is 217
2018-02-21 05:40:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:40:02,318 - DEBUG - Stop ID database is 0
2018-02-21 05:40:02,318 - DEBUG - Entry ID database is 217
2018-02-21 05:40:04,315 - DEBUG - Connecting to database
2018-02-21 05:40:04,322 - DEBUG - Connected to database
2018-02-21 05:40:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,323 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:40:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,325 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:40:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,326 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:40:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,328 - DEBUG - Stop quantity 1
2018-02-21 05:40:04,331 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,331 - DEBUG - Direction is Short
2018-02-21 05:40:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,332 - DEBUG - Count is 0
2018-02-21 05:40:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:40:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:40:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:40:04,335 - DEBUG - Max ID Order is (218,)
2018-02-21 05:40:04,336 - DEBUG - Today is 2018-02-21
2018-02-21 05:40:04,336 - DEBUG - Day of the week 2
2018-02-21 05:40:04,336 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:40:04,336 - DEBUG - In Position is  0
2018-02-21 05:40:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:40:04,338 - DEBUG - curStopLossFlag is  0
2018-02-21 05:40:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:40:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 05:40:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:40:04,339 - DEBUG - EntryPend is 1
2018-02-21 05:40:04,341 - DEBUG - Try to Cancel Stop
2018-02-21 05:40:04,341 - DEBUG - Stop API ID 0
2018-02-21 05:40:04,341 - DEBUG - Profit API ID 0
2018-02-21 05:40:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:40:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:40:04,342 - DEBUG - Pos is 0
2018-02-21 05:40:04,342 - DEBUG - CurCount is 0
2018-02-21 05:40:04,342 - DEBUG - In Pos 0
2018-02-21 05:40:04,342 - DEBUG - Stop ID is 0
2018-02-21 05:40:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:40:04,344 - DEBUG - EntryPend is 1
2018-02-21 05:40:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:40:04,344 - DEBUG - Entry Date is 10
2018-02-21 05:40:04,345 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:40:04,345 - DEBUG - Order Profit ID is 217
2018-02-21 05:40:04,345 - DEBUG - Order Entry ID is 217
2018-02-21 05:40:04,345 - DEBUG - API ID is  0
2018-02-21 05:40:04,345 - DEBUG - Current Position is 0
2018-02-21 05:40:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:40:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:40:04,345 - DEBUG - Time is 5
2018-02-21 05:40:04,345 - DEBUG - Time is <class 'int'>
2018-02-21 05:40:04,346 - DEBUG - Disconnected from IBController
2018-02-21 05:40:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:45:00,270 - DEBUG - ****************************************************
2018-02-21 05:45:00,270 - DEBUG - Current Time is 05:45AM
2018-02-21 05:45:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:45:00,272 - DEBUG - Connecting to database
2018-02-21 05:45:00,306 - DEBUG - Connected to database
2018-02-21 05:45:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:00,309 - DEBUG - Order Profit is 217
2018-02-21 05:45:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:00,309 - DEBUG - Stop ID is 0
2018-02-21 05:45:00,311 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:00,312 - DEBUG - Entry ID is 217
2018-02-21 05:45:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:45:00,312 - DEBUG - OCA ID is 1
2018-02-21 05:45:00,313 - DEBUG - Connecting to IBController
2018-02-21 05:45:01,321 - DEBUG - Connected to IBController
2018-02-21 05:45:01,321 - DEBUG - Position requested
2018-02-21 05:45:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 05:45:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, pos=-5, avgCost=15412.17>
2018-02-21 05:45:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:45:01,323 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:45:01,323 - DEBUG - Position is -5
2018-02-21 05:45:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 05:45:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:45:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:45:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:45:01,325 - DEBUG - Position is -12987
2018-02-21 05:45:02,322 - DEBUG - Open Orders requested
2018-02-21 05:45:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 05:45:02,325 - DEBUG - Order OrderID 218
2018-02-21 05:45:02,326 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:45:02,326 - DEBUG - Order status PreSubmitted
2018-02-21 05:45:02,326 - DEBUG - Order Identification 218
2018-02-21 05:45:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:45:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 05:45:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:45:02,328 - DEBUG - Stop ID database is 0
2018-02-21 05:45:02,328 - DEBUG - Entry ID database is 217
2018-02-21 05:45:04,325 - DEBUG - Connecting to database
2018-02-21 05:45:04,332 - DEBUG - Connected to database
2018-02-21 05:45:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:45:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,336 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:45:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,338 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:45:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,339 - DEBUG - Stop quantity 1
2018-02-21 05:45:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,342 - DEBUG - Direction is Short
2018-02-21 05:45:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,344 - DEBUG - Count is 0
2018-02-21 05:45:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:45:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:45:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:45:04,346 - DEBUG - Max ID Order is (218,)
2018-02-21 05:45:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 05:45:04,348 - DEBUG - Day of the week 2
2018-02-21 05:45:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:45:04,348 - DEBUG - In Position is  0
2018-02-21 05:45:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:45:04,348 - DEBUG - curStopLossFlag is  0
2018-02-21 05:45:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:45:04,348 - DEBUG - Checking if Entry has been filled
2018-02-21 05:45:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:45:04,351 - DEBUG - EntryPend is 1
2018-02-21 05:45:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 05:45:04,351 - DEBUG - Stop API ID 0
2018-02-21 05:45:04,351 - DEBUG - Profit API ID 0
2018-02-21 05:45:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:45:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:45:04,351 - DEBUG - Pos is 0
2018-02-21 05:45:04,351 - DEBUG - CurCount is 0
2018-02-21 05:45:04,352 - DEBUG - In Pos 0
2018-02-21 05:45:04,352 - DEBUG - Stop ID is 0
2018-02-21 05:45:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:45:04,354 - DEBUG - EntryPend is 1
2018-02-21 05:45:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:45:04,355 - DEBUG - Entry Date is 10
2018-02-21 05:45:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:45:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 05:45:04,355 - DEBUG - Order Entry ID is 217
2018-02-21 05:45:04,355 - DEBUG - API ID is  0
2018-02-21 05:45:04,355 - DEBUG - Current Position is 0
2018-02-21 05:45:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:45:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:45:04,357 - DEBUG - Time is 5
2018-02-21 05:45:04,357 - DEBUG - Time is <class 'int'>
2018-02-21 05:45:04,357 - DEBUG - Disconnected from IBController
2018-02-21 05:45:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:50:00,278 - DEBUG - ****************************************************
2018-02-21 05:50:00,279 - DEBUG - Current Time is 05:50AM
2018-02-21 05:50:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:50:00,279 - DEBUG - Connecting to database
2018-02-21 05:50:00,303 - DEBUG - Connected to database
2018-02-21 05:50:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:00,305 - DEBUG - Order Profit is 217
2018-02-21 05:50:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:00,308 - DEBUG - Stop ID is 0
2018-02-21 05:50:00,308 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:00,309 - DEBUG - Entry ID is 217
2018-02-21 05:50:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:50:00,311 - DEBUG - OCA ID is 1
2018-02-21 05:50:00,311 - DEBUG - Connecting to IBController
2018-02-21 05:50:01,318 - DEBUG - Connected to IBController
2018-02-21 05:50:01,318 - DEBUG - Position requested
2018-02-21 05:50:01,319 - DEBUG - Pos Mgmt -5
2018-02-21 05:50:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, pos=-5, avgCost=15412.17>
2018-02-21 05:50:01,321 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:50:01,321 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:50:01,321 - DEBUG - Position is -5
2018-02-21 05:50:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 05:50:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:50:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:50:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:50:01,322 - DEBUG - Position is -12987
2018-02-21 05:50:02,319 - DEBUG - Open Orders requested
2018-02-21 05:50:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-21 05:50:02,322 - DEBUG - Order OrderID 218
2018-02-21 05:50:02,322 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:50:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 05:50:02,323 - DEBUG - Order Identification 218
2018-02-21 05:50:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:50:02,323 - DEBUG - Profit ID from database is 217
2018-02-21 05:50:02,323 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:50:02,325 - DEBUG - Stop ID database is 0
2018-02-21 05:50:02,325 - DEBUG - Entry ID database is 217
2018-02-21 05:50:04,322 - DEBUG - Connecting to database
2018-02-21 05:50:04,328 - DEBUG - Connected to database
2018-02-21 05:50:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,331 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:50:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,332 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:50:04,334 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,335 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:50:04,335 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,335 - DEBUG - Stop quantity 1
2018-02-21 05:50:04,336 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,338 - DEBUG - Direction is Short
2018-02-21 05:50:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,338 - DEBUG - Count is 0
2018-02-21 05:50:04,341 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:50:04,341 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:50:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:50:04,342 - DEBUG - Max ID Order is (218,)
2018-02-21 05:50:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 05:50:04,342 - DEBUG - Day of the week 2
2018-02-21 05:50:04,344 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:50:04,344 - DEBUG - In Position is  0
2018-02-21 05:50:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:50:04,344 - DEBUG - curStopLossFlag is  0
2018-02-21 05:50:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:50:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 05:50:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:50:04,345 - DEBUG - EntryPend is 1
2018-02-21 05:50:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 05:50:04,346 - DEBUG - Stop API ID 0
2018-02-21 05:50:04,346 - DEBUG - Profit API ID 0
2018-02-21 05:50:04,346 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:50:04,346 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:50:04,346 - DEBUG - Pos is 0
2018-02-21 05:50:04,348 - DEBUG - CurCount is 0
2018-02-21 05:50:04,348 - DEBUG - In Pos 0
2018-02-21 05:50:04,348 - DEBUG - Stop ID is 0
2018-02-21 05:50:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:50:04,348 - DEBUG - EntryPend is 1
2018-02-21 05:50:04,349 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:50:04,349 - DEBUG - Entry Date is 10
2018-02-21 05:50:04,349 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:50:04,349 - DEBUG - Order Profit ID is 217
2018-02-21 05:50:04,351 - DEBUG - Order Entry ID is 217
2018-02-21 05:50:04,351 - DEBUG - API ID is  0
2018-02-21 05:50:04,351 - DEBUG - Current Position is 0
2018-02-21 05:50:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:50:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:50:04,351 - DEBUG - Time is 5
2018-02-21 05:50:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 05:50:04,351 - DEBUG - Disconnected from IBController
2018-02-21 05:50:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 05:55:00,279 - DEBUG - ****************************************************
2018-02-21 05:55:00,279 - DEBUG - Current Time is 05:55AM
2018-02-21 05:55:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-21 05:55:00,280 - DEBUG - Connecting to database
2018-02-21 05:55:00,309 - DEBUG - Connected to database
2018-02-21 05:55:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:00,312 - DEBUG - Order Profit is 217
2018-02-21 05:55:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:00,312 - DEBUG - Stop ID is 0
2018-02-21 05:55:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:00,315 - DEBUG - Entry ID is 217
2018-02-21 05:55:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 05:55:00,315 - DEBUG - OCA ID is 1
2018-02-21 05:55:00,316 - DEBUG - Connecting to IBController
2018-02-21 05:55:01,325 - DEBUG - Connected to IBController
2018-02-21 05:55:01,325 - DEBUG - Position requested
2018-02-21 05:55:01,328 - DEBUG - Pos Mgmt -5
2018-02-21 05:55:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CD68>, pos=-5, avgCost=15412.17>
2018-02-21 05:55:01,329 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 05:55:01,329 - DEBUG - ccy2 Currency with position is USD
2018-02-21 05:55:01,329 - DEBUG - Position is -5
2018-02-21 05:55:01,331 - DEBUG - Pos Mgmt -12987
2018-02-21 05:55:01,331 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 05:55:01,331 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 05:55:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 05:55:01,332 - DEBUG - Position is -12987
2018-02-21 05:55:02,328 - DEBUG - Open Orders requested
2018-02-21 05:55:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203CD68>, order=<ib.ext.Order.Order object at 0x000000000203CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-21 05:55:02,331 - DEBUG - Order OrderID 218
2018-02-21 05:55:02,331 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 05:55:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 05:55:02,332 - DEBUG - Order Identification 218
2018-02-21 05:55:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-21 05:55:02,332 - DEBUG - Profit ID from database is 217
2018-02-21 05:55:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 05:55:02,332 - DEBUG - Stop ID database is 0
2018-02-21 05:55:02,332 - DEBUG - Entry ID database is 217
2018-02-21 05:55:04,328 - DEBUG - Connecting to database
2018-02-21 05:55:04,335 - DEBUG - Connected to database
2018-02-21 05:55:04,336 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,338 - DEBUG - Stop loss value is 2738.25
2018-02-21 05:55:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,339 - DEBUG - Stop loss value is 2695.0
2018-02-21 05:55:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,341 - DEBUG - EntryPrice value is 2704.5
2018-02-21 05:55:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,342 - DEBUG - Stop quantity 1
2018-02-21 05:55:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,345 - DEBUG - Direction is Short
2018-02-21 05:55:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,345 - DEBUG - Count is 0
2018-02-21 05:55:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 05:55:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-21 05:55:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 05:55:04,349 - DEBUG - Max ID Order is (218,)
2018-02-21 05:55:04,349 - DEBUG - Today is 2018-02-21
2018-02-21 05:55:04,349 - DEBUG - Day of the week 2
2018-02-21 05:55:04,351 - DEBUG - Yesterday is 02/20/2018
2018-02-21 05:55:04,351 - DEBUG - In Position is  0
2018-02-21 05:55:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-21 05:55:04,351 - DEBUG - curStopLossFlag is  0
2018-02-21 05:55:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 05:55:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 05:55:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:55:04,354 - DEBUG - EntryPend is 1
2018-02-21 05:55:04,354 - DEBUG - Try to Cancel Stop
2018-02-21 05:55:04,354 - DEBUG - Stop API ID 0
2018-02-21 05:55:04,354 - DEBUG - Profit API ID 0
2018-02-21 05:55:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-21 05:55:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-21 05:55:04,355 - DEBUG - Pos is 0
2018-02-21 05:55:04,355 - DEBUG - CurCount is 0
2018-02-21 05:55:04,355 - DEBUG - In Pos 0
2018-02-21 05:55:04,355 - DEBUG - Stop ID is 0
2018-02-21 05:55:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 05:55:04,357 - DEBUG - EntryPend is 1
2018-02-21 05:55:04,358 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 05:55:04,358 - DEBUG - Entry Date is 10
2018-02-21 05:55:04,358 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 05:55:04,358 - DEBUG - Order Profit ID is 217
2018-02-21 05:55:04,358 - DEBUG - Order Entry ID is 217
2018-02-21 05:55:04,358 - DEBUG - API ID is  0
2018-02-21 05:55:04,358 - DEBUG - Current Position is 0
2018-02-21 05:55:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 05:55:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 05:55:04,359 - DEBUG - Time is 5
2018-02-21 05:55:04,359 - DEBUG - Time is <class 'int'>
2018-02-21 05:55:04,359 - DEBUG - Disconnected from IBController
2018-02-21 05:55:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:00:00,266 - DEBUG - ****************************************************
2018-02-21 06:00:00,266 - DEBUG - Current Time is 06:00AM
2018-02-21 06:00:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:00:00,267 - DEBUG - Connecting to database
2018-02-21 06:00:00,298 - DEBUG - Connected to database
2018-02-21 06:00:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:00,299 - DEBUG - Order Profit is 217
2018-02-21 06:00:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:00,302 - DEBUG - Stop ID is 0
2018-02-21 06:00:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:00,302 - DEBUG - Entry ID is 217
2018-02-21 06:00:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:00:00,305 - DEBUG - OCA ID is 1
2018-02-21 06:00:00,305 - DEBUG - Connecting to IBController
2018-02-21 06:00:01,312 - DEBUG - Connected to IBController
2018-02-21 06:00:01,312 - DEBUG - Position requested
2018-02-21 06:00:01,315 - DEBUG - Pos Mgmt -5
2018-02-21 06:00:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DB00>, pos=-5, avgCost=15412.17>
2018-02-21 06:00:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:00:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:00:01,315 - DEBUG - Position is -5
2018-02-21 06:00:01,316 - DEBUG - Pos Mgmt -12987
2018-02-21 06:00:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:00:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:00:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:00:01,316 - DEBUG - Position is -12987
2018-02-21 06:00:02,319 - DEBUG - Open Orders requested
2018-02-21 06:00:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000201DE48>, order=<ib.ext.Order.Order object at 0x000000000201DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1128>>
2018-02-21 06:00:02,323 - DEBUG - Order OrderID 218
2018-02-21 06:00:02,323 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:00:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 06:00:02,328 - DEBUG - Order Identification 218
2018-02-21 06:00:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:00:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 06:00:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:00:02,332 - DEBUG - Stop ID database is 0
2018-02-21 06:00:02,332 - DEBUG - Entry ID database is 217
2018-02-21 06:00:04,322 - DEBUG - Connecting to database
2018-02-21 06:00:04,329 - DEBUG - Connected to database
2018-02-21 06:00:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,332 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:00:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,334 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:00:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,335 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:00:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,336 - DEBUG - Stop quantity 1
2018-02-21 06:00:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,338 - DEBUG - Direction is Short
2018-02-21 06:00:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,339 - DEBUG - Count is 0
2018-02-21 06:00:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:00:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:00:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:00:04,344 - DEBUG - Max ID Order is (218,)
2018-02-21 06:00:04,344 - DEBUG - Today is 2018-02-21
2018-02-21 06:00:04,344 - DEBUG - Day of the week 2
2018-02-21 06:00:04,345 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:00:04,345 - DEBUG - In Position is  0
2018-02-21 06:00:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:00:04,345 - DEBUG - curStopLossFlag is  0
2018-02-21 06:00:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:00:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 06:00:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:00:04,348 - DEBUG - EntryPend is 1
2018-02-21 06:00:04,348 - DEBUG - Try to Cancel Stop
2018-02-21 06:00:04,348 - DEBUG - Stop API ID 0
2018-02-21 06:00:04,348 - DEBUG - Profit API ID 0
2018-02-21 06:00:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:00:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:00:04,348 - DEBUG - Pos is 0
2018-02-21 06:00:04,348 - DEBUG - CurCount is 0
2018-02-21 06:00:04,348 - DEBUG - In Pos 0
2018-02-21 06:00:04,349 - DEBUG - Stop ID is 0
2018-02-21 06:00:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:00:04,351 - DEBUG - EntryPend is 1
2018-02-21 06:00:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:00:04,351 - DEBUG - Entry Date is 10
2018-02-21 06:00:04,351 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:00:04,351 - DEBUG - Order Profit ID is 217
2018-02-21 06:00:04,352 - DEBUG - Order Entry ID is 217
2018-02-21 06:00:04,352 - DEBUG - API ID is  0
2018-02-21 06:00:04,352 - DEBUG - Current Position is 0
2018-02-21 06:00:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:00:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:00:04,354 - DEBUG - Time is 6
2018-02-21 06:00:04,354 - DEBUG - Time is <class 'int'>
2018-02-21 06:00:04,354 - DEBUG - Disconnected from IBController
2018-02-21 06:00:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:05:00,269 - DEBUG - ****************************************************
2018-02-21 06:05:00,270 - DEBUG - Current Time is 06:05AM
2018-02-21 06:05:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:05:00,270 - DEBUG - Connecting to database
2018-02-21 06:05:00,295 - DEBUG - Connected to database
2018-02-21 06:05:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:00,296 - DEBUG - Order Profit is 217
2018-02-21 06:05:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:00,299 - DEBUG - Stop ID is 0
2018-02-21 06:05:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:00,299 - DEBUG - Entry ID is 217
2018-02-21 06:05:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:05:00,302 - DEBUG - OCA ID is 1
2018-02-21 06:05:00,302 - DEBUG - Connecting to IBController
2018-02-21 06:05:01,309 - DEBUG - Connected to IBController
2018-02-21 06:05:01,309 - DEBUG - Position requested
2018-02-21 06:05:01,311 - DEBUG - Pos Mgmt -5
2018-02-21 06:05:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACCF8>, pos=-5, avgCost=15412.17>
2018-02-21 06:05:01,312 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:05:01,312 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:05:01,312 - DEBUG - Position is -5
2018-02-21 06:05:01,312 - DEBUG - Pos Mgmt -12987
2018-02-21 06:05:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:05:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:05:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:05:01,313 - DEBUG - Position is -12987
2018-02-21 06:05:02,309 - DEBUG - Open Orders requested
2018-02-21 06:05:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE48>, order=<ib.ext.Order.Order object at 0x00000000020ACD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-21 06:05:02,312 - DEBUG - Order OrderID 218
2018-02-21 06:05:02,312 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:05:02,313 - DEBUG - Order status PreSubmitted
2018-02-21 06:05:02,313 - DEBUG - Order Identification 218
2018-02-21 06:05:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:05:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 06:05:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:05:02,315 - DEBUG - Stop ID database is 0
2018-02-21 06:05:02,315 - DEBUG - Entry ID database is 217
2018-02-21 06:05:04,312 - DEBUG - Connecting to database
2018-02-21 06:05:04,319 - DEBUG - Connected to database
2018-02-21 06:05:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,322 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:05:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,323 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:05:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,325 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:05:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,328 - DEBUG - Stop quantity 1
2018-02-21 06:05:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,328 - DEBUG - Direction is Short
2018-02-21 06:05:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,331 - DEBUG - Count is 0
2018-02-21 06:05:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:05:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:05:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:05:04,334 - DEBUG - Max ID Order is (218,)
2018-02-21 06:05:04,335 - DEBUG - Today is 2018-02-21
2018-02-21 06:05:04,335 - DEBUG - Day of the week 2
2018-02-21 06:05:04,335 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:05:04,335 - DEBUG - In Position is  0
2018-02-21 06:05:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:05:04,335 - DEBUG - curStopLossFlag is  0
2018-02-21 06:05:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:05:04,336 - DEBUG - Checking if Entry has been filled
2018-02-21 06:05:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:05:04,338 - DEBUG - EntryPend is 1
2018-02-21 06:05:04,338 - DEBUG - Try to Cancel Stop
2018-02-21 06:05:04,338 - DEBUG - Stop API ID 0
2018-02-21 06:05:04,338 - DEBUG - Profit API ID 0
2018-02-21 06:05:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:05:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:05:04,339 - DEBUG - Pos is 0
2018-02-21 06:05:04,339 - DEBUG - CurCount is 0
2018-02-21 06:05:04,339 - DEBUG - In Pos 0
2018-02-21 06:05:04,339 - DEBUG - Stop ID is 0
2018-02-21 06:05:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:05:04,342 - DEBUG - EntryPend is 1
2018-02-21 06:05:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:05:04,342 - DEBUG - Entry Date is 10
2018-02-21 06:05:04,342 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:05:04,342 - DEBUG - Order Profit ID is 217
2018-02-21 06:05:04,342 - DEBUG - Order Entry ID is 217
2018-02-21 06:05:04,344 - DEBUG - API ID is  0
2018-02-21 06:05:04,344 - DEBUG - Current Position is 0
2018-02-21 06:05:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:05:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:05:04,344 - DEBUG - Time is 6
2018-02-21 06:05:04,345 - DEBUG - Time is <class 'int'>
2018-02-21 06:05:04,345 - DEBUG - Disconnected from IBController
2018-02-21 06:05:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:10:00,263 - DEBUG - ****************************************************
2018-02-21 06:10:00,263 - DEBUG - Current Time is 06:10AM
2018-02-21 06:10:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:10:00,265 - DEBUG - Connecting to database
2018-02-21 06:10:00,286 - DEBUG - Connected to database
2018-02-21 06:10:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:00,289 - DEBUG - Order Profit is 217
2018-02-21 06:10:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:00,289 - DEBUG - Stop ID is 0
2018-02-21 06:10:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:00,292 - DEBUG - Entry ID is 217
2018-02-21 06:10:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:10:00,292 - DEBUG - OCA ID is 1
2018-02-21 06:10:00,293 - DEBUG - Connecting to IBController
2018-02-21 06:10:01,301 - DEBUG - Connected to IBController
2018-02-21 06:10:01,301 - DEBUG - Position requested
2018-02-21 06:10:01,302 - DEBUG - Pos Mgmt -5
2018-02-21 06:10:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CDD8>, pos=-5, avgCost=15412.17>
2018-02-21 06:10:01,303 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:10:01,303 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:10:01,303 - DEBUG - Position is -5
2018-02-21 06:10:01,305 - DEBUG - Pos Mgmt -12987
2018-02-21 06:10:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:10:01,305 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:10:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:10:01,305 - DEBUG - Position is -12987
2018-02-21 06:10:02,302 - DEBUG - Open Orders requested
2018-02-21 06:10:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203CDD8>, order=<ib.ext.Order.Order object at 0x000000000203CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-21 06:10:02,313 - DEBUG - Order OrderID 218
2018-02-21 06:10:02,315 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:10:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 06:10:02,315 - DEBUG - Order Identification 218
2018-02-21 06:10:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:10:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 06:10:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:10:02,315 - DEBUG - Stop ID database is 0
2018-02-21 06:10:02,316 - DEBUG - Entry ID database is 217
2018-02-21 06:10:04,302 - DEBUG - Connecting to database
2018-02-21 06:10:04,309 - DEBUG - Connected to database
2018-02-21 06:10:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,312 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:10:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,312 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:10:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,315 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:10:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,316 - DEBUG - Stop quantity 1
2018-02-21 06:10:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,318 - DEBUG - Direction is Short
2018-02-21 06:10:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,319 - DEBUG - Count is 0
2018-02-21 06:10:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:10:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:10:04,322 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:10:04,322 - DEBUG - Max ID Order is (218,)
2018-02-21 06:10:04,323 - DEBUG - Today is 2018-02-21
2018-02-21 06:10:04,323 - DEBUG - Day of the week 2
2018-02-21 06:10:04,323 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:10:04,325 - DEBUG - In Position is  0
2018-02-21 06:10:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:10:04,325 - DEBUG - curStopLossFlag is  0
2018-02-21 06:10:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:10:04,325 - DEBUG - Checking if Entry has been filled
2018-02-21 06:10:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:10:04,326 - DEBUG - EntryPend is 1
2018-02-21 06:10:04,326 - DEBUG - Try to Cancel Stop
2018-02-21 06:10:04,326 - DEBUG - Stop API ID 0
2018-02-21 06:10:04,328 - DEBUG - Profit API ID 0
2018-02-21 06:10:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:10:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:10:04,328 - DEBUG - Pos is 0
2018-02-21 06:10:04,328 - DEBUG - CurCount is 0
2018-02-21 06:10:04,328 - DEBUG - In Pos 0
2018-02-21 06:10:04,328 - DEBUG - Stop ID is 0
2018-02-21 06:10:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:10:04,331 - DEBUG - EntryPend is 1
2018-02-21 06:10:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:10:04,331 - DEBUG - Entry Date is 10
2018-02-21 06:10:04,331 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:10:04,331 - DEBUG - Order Profit ID is 217
2018-02-21 06:10:04,332 - DEBUG - Order Entry ID is 217
2018-02-21 06:10:04,332 - DEBUG - API ID is  0
2018-02-21 06:10:04,332 - DEBUG - Current Position is 0
2018-02-21 06:10:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:10:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:10:04,332 - DEBUG - Time is 6
2018-02-21 06:10:04,332 - DEBUG - Time is <class 'int'>
2018-02-21 06:10:04,332 - DEBUG - Disconnected from IBController
2018-02-21 06:10:04,334 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:15:00,262 - DEBUG - ****************************************************
2018-02-21 06:15:00,262 - DEBUG - Current Time is 06:15AM
2018-02-21 06:15:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:15:00,263 - DEBUG - Connecting to database
2018-02-21 06:15:00,289 - DEBUG - Connected to database
2018-02-21 06:15:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:00,292 - DEBUG - Order Profit is 217
2018-02-21 06:15:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:00,293 - DEBUG - Stop ID is 0
2018-02-21 06:15:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:00,295 - DEBUG - Entry ID is 217
2018-02-21 06:15:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:15:00,296 - DEBUG - OCA ID is 1
2018-02-21 06:15:00,296 - DEBUG - Connecting to IBController
2018-02-21 06:15:01,305 - DEBUG - Connected to IBController
2018-02-21 06:15:01,305 - DEBUG - Position requested
2018-02-21 06:15:01,308 - DEBUG - Pos Mgmt -5
2018-02-21 06:15:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CB00>, pos=-5, avgCost=15412.17>
2018-02-21 06:15:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:15:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:15:01,309 - DEBUG - Position is -5
2018-02-21 06:15:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 06:15:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:15:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:15:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:15:01,311 - DEBUG - Position is -12987
2018-02-21 06:15:02,308 - DEBUG - Open Orders requested
2018-02-21 06:15:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204CE48>, order=<ib.ext.Order.Order object at 0x000000000204CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-21 06:15:02,311 - DEBUG - Order OrderID 218
2018-02-21 06:15:02,311 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:15:02,312 - DEBUG - Order status PreSubmitted
2018-02-21 06:15:02,312 - DEBUG - Order Identification 218
2018-02-21 06:15:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:15:02,312 - DEBUG - Profit ID from database is 217
2018-02-21 06:15:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:15:02,312 - DEBUG - Stop ID database is 0
2018-02-21 06:15:02,312 - DEBUG - Entry ID database is 217
2018-02-21 06:15:04,311 - DEBUG - Connecting to database
2018-02-21 06:15:04,318 - DEBUG - Connected to database
2018-02-21 06:15:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,319 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:15:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,322 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:15:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,323 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:15:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,325 - DEBUG - Stop quantity 1
2018-02-21 06:15:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,326 - DEBUG - Direction is Short
2018-02-21 06:15:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,328 - DEBUG - Count is 0
2018-02-21 06:15:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:15:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:15:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:15:04,332 - DEBUG - Max ID Order is (218,)
2018-02-21 06:15:04,332 - DEBUG - Today is 2018-02-21
2018-02-21 06:15:04,332 - DEBUG - Day of the week 2
2018-02-21 06:15:04,332 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:15:04,332 - DEBUG - In Position is  0
2018-02-21 06:15:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:15:04,334 - DEBUG - curStopLossFlag is  0
2018-02-21 06:15:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:15:04,334 - DEBUG - Checking if Entry has been filled
2018-02-21 06:15:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:15:04,335 - DEBUG - EntryPend is 1
2018-02-21 06:15:04,335 - DEBUG - Try to Cancel Stop
2018-02-21 06:15:04,335 - DEBUG - Stop API ID 0
2018-02-21 06:15:04,336 - DEBUG - Profit API ID 0
2018-02-21 06:15:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:15:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:15:04,336 - DEBUG - Pos is 0
2018-02-21 06:15:04,336 - DEBUG - CurCount is 0
2018-02-21 06:15:04,338 - DEBUG - In Pos 0
2018-02-21 06:15:04,338 - DEBUG - Stop ID is 0
2018-02-21 06:15:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:15:04,338 - DEBUG - EntryPend is 1
2018-02-21 06:15:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:15:04,339 - DEBUG - Entry Date is 10
2018-02-21 06:15:04,339 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:15:04,339 - DEBUG - Order Profit ID is 217
2018-02-21 06:15:04,341 - DEBUG - Order Entry ID is 217
2018-02-21 06:15:04,341 - DEBUG - API ID is  0
2018-02-21 06:15:04,341 - DEBUG - Current Position is 0
2018-02-21 06:15:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:15:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:15:04,342 - DEBUG - Time is 6
2018-02-21 06:15:04,342 - DEBUG - Time is <class 'int'>
2018-02-21 06:15:04,342 - DEBUG - Disconnected from IBController
2018-02-21 06:15:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:20:00,266 - DEBUG - ****************************************************
2018-02-21 06:20:00,267 - DEBUG - Current Time is 06:20AM
2018-02-21 06:20:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:20:00,269 - DEBUG - Connecting to database
2018-02-21 06:20:00,305 - DEBUG - Connected to database
2018-02-21 06:20:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:00,308 - DEBUG - Order Profit is 217
2018-02-21 06:20:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:00,309 - DEBUG - Stop ID is 0
2018-02-21 06:20:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:00,312 - DEBUG - Entry ID is 217
2018-02-21 06:20:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:20:00,312 - DEBUG - OCA ID is 1
2018-02-21 06:20:00,313 - DEBUG - Connecting to IBController
2018-02-21 06:20:01,322 - DEBUG - Connected to IBController
2018-02-21 06:20:01,322 - DEBUG - Position requested
2018-02-21 06:20:01,323 - DEBUG - Pos Mgmt -5
2018-02-21 06:20:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BDA0>, pos=-5, avgCost=15412.17>
2018-02-21 06:20:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:20:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:20:01,325 - DEBUG - Position is -5
2018-02-21 06:20:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 06:20:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:20:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:20:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:20:01,326 - DEBUG - Position is -12987
2018-02-21 06:20:02,322 - DEBUG - Open Orders requested
2018-02-21 06:20:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206BE48>, order=<ib.ext.Order.Order object at 0x000000000206BB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100128>>
2018-02-21 06:20:02,325 - DEBUG - Order OrderID 218
2018-02-21 06:20:02,325 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:20:02,326 - DEBUG - Order status PreSubmitted
2018-02-21 06:20:02,326 - DEBUG - Order Identification 218
2018-02-21 06:20:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:20:02,326 - DEBUG - Profit ID from database is 217
2018-02-21 06:20:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:20:02,328 - DEBUG - Stop ID database is 0
2018-02-21 06:20:02,328 - DEBUG - Entry ID database is 217
2018-02-21 06:20:04,325 - DEBUG - Connecting to database
2018-02-21 06:20:04,334 - DEBUG - Connected to database
2018-02-21 06:20:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:20:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,339 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:20:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,342 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:20:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,342 - DEBUG - Stop quantity 1
2018-02-21 06:20:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,345 - DEBUG - Direction is Short
2018-02-21 06:20:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,346 - DEBUG - Count is 0
2018-02-21 06:20:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:20:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:20:04,349 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:20:04,351 - DEBUG - Max ID Order is (218,)
2018-02-21 06:20:04,351 - DEBUG - Today is 2018-02-21
2018-02-21 06:20:04,352 - DEBUG - Day of the week 2
2018-02-21 06:20:04,352 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:20:04,352 - DEBUG - In Position is  0
2018-02-21 06:20:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:20:04,354 - DEBUG - curStopLossFlag is  0
2018-02-21 06:20:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:20:04,354 - DEBUG - Checking if Entry has been filled
2018-02-21 06:20:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:20:04,355 - DEBUG - EntryPend is 1
2018-02-21 06:20:04,355 - DEBUG - Try to Cancel Stop
2018-02-21 06:20:04,355 - DEBUG - Stop API ID 0
2018-02-21 06:20:04,357 - DEBUG - Profit API ID 0
2018-02-21 06:20:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:20:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:20:04,357 - DEBUG - Pos is 0
2018-02-21 06:20:04,358 - DEBUG - CurCount is 0
2018-02-21 06:20:04,358 - DEBUG - In Pos 0
2018-02-21 06:20:04,358 - DEBUG - Stop ID is 0
2018-02-21 06:20:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:20:04,359 - DEBUG - EntryPend is 1
2018-02-21 06:20:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:20:04,359 - DEBUG - Entry Date is 10
2018-02-21 06:20:04,359 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:20:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 06:20:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 06:20:04,361 - DEBUG - API ID is  0
2018-02-21 06:20:04,361 - DEBUG - Current Position is 0
2018-02-21 06:20:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:20:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:20:04,361 - DEBUG - Time is 6
2018-02-21 06:20:04,361 - DEBUG - Time is <class 'int'>
2018-02-21 06:20:04,361 - DEBUG - Disconnected from IBController
2018-02-21 06:20:04,362 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:25:00,266 - DEBUG - ****************************************************
2018-02-21 06:25:00,267 - DEBUG - Current Time is 06:25AM
2018-02-21 06:25:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:25:00,269 - DEBUG - Connecting to database
2018-02-21 06:25:00,302 - DEBUG - Connected to database
2018-02-21 06:25:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:00,305 - DEBUG - Order Profit is 217
2018-02-21 06:25:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:00,305 - DEBUG - Stop ID is 0
2018-02-21 06:25:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:00,308 - DEBUG - Entry ID is 217
2018-02-21 06:25:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:25:00,309 - DEBUG - OCA ID is 1
2018-02-21 06:25:00,309 - DEBUG - Connecting to IBController
2018-02-21 06:25:01,319 - DEBUG - Connected to IBController
2018-02-21 06:25:01,319 - DEBUG - Position requested
2018-02-21 06:25:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 06:25:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 06:25:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:25:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:25:01,322 - DEBUG - Position is -5
2018-02-21 06:25:01,323 - DEBUG - Pos Mgmt -12987
2018-02-21 06:25:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:25:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:25:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:25:01,325 - DEBUG - Position is -12987
2018-02-21 06:25:02,322 - DEBUG - Open Orders requested
2018-02-21 06:25:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-21 06:25:02,335 - DEBUG - Order OrderID 218
2018-02-21 06:25:02,335 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:25:02,336 - DEBUG - Order status PreSubmitted
2018-02-21 06:25:02,336 - DEBUG - Order Identification 218
2018-02-21 06:25:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:25:02,338 - DEBUG - Profit ID from database is 217
2018-02-21 06:25:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:25:02,338 - DEBUG - Stop ID database is 0
2018-02-21 06:25:02,338 - DEBUG - Entry ID database is 217
2018-02-21 06:25:04,328 - DEBUG - Connecting to database
2018-02-21 06:25:04,336 - DEBUG - Connected to database
2018-02-21 06:25:04,338 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,338 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:25:04,339 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,341 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:25:04,342 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,342 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:25:04,344 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,344 - DEBUG - Stop quantity 1
2018-02-21 06:25:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,345 - DEBUG - Direction is Short
2018-02-21 06:25:04,346 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,348 - DEBUG - Count is 0
2018-02-21 06:25:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:25:04,349 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:25:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:25:04,351 - DEBUG - Max ID Order is (218,)
2018-02-21 06:25:04,351 - DEBUG - Today is 2018-02-21
2018-02-21 06:25:04,351 - DEBUG - Day of the week 2
2018-02-21 06:25:04,351 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:25:04,352 - DEBUG - In Position is  0
2018-02-21 06:25:04,352 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:25:04,352 - DEBUG - curStopLossFlag is  0
2018-02-21 06:25:04,352 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:25:04,354 - DEBUG - Checking if Entry has been filled
2018-02-21 06:25:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:25:04,355 - DEBUG - EntryPend is 1
2018-02-21 06:25:04,355 - DEBUG - Try to Cancel Stop
2018-02-21 06:25:04,355 - DEBUG - Stop API ID 0
2018-02-21 06:25:04,355 - DEBUG - Profit API ID 0
2018-02-21 06:25:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:25:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:25:04,357 - DEBUG - Pos is 0
2018-02-21 06:25:04,357 - DEBUG - CurCount is 0
2018-02-21 06:25:04,357 - DEBUG - In Pos 0
2018-02-21 06:25:04,357 - DEBUG - Stop ID is 0
2018-02-21 06:25:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:25:04,359 - DEBUG - EntryPend is 1
2018-02-21 06:25:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:25:04,359 - DEBUG - Entry Date is 10
2018-02-21 06:25:04,359 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:25:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 06:25:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 06:25:04,361 - DEBUG - API ID is  0
2018-02-21 06:25:04,361 - DEBUG - Current Position is 0
2018-02-21 06:25:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:25:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:25:04,361 - DEBUG - Time is 6
2018-02-21 06:25:04,361 - DEBUG - Time is <class 'int'>
2018-02-21 06:25:04,361 - DEBUG - Disconnected from IBController
2018-02-21 06:25:04,367 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:30:00,269 - DEBUG - ****************************************************
2018-02-21 06:30:00,270 - DEBUG - Current Time is 06:30AM
2018-02-21 06:30:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:30:00,272 - DEBUG - Connecting to database
2018-02-21 06:30:00,303 - DEBUG - Connected to database
2018-02-21 06:30:00,303 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:00,311 - DEBUG - Order Profit is 217
2018-02-21 06:30:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:00,312 - DEBUG - Stop ID is 0
2018-02-21 06:30:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:00,325 - DEBUG - Entry ID is 217
2018-02-21 06:30:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:30:00,345 - DEBUG - OCA ID is 1
2018-02-21 06:30:00,345 - DEBUG - Connecting to IBController
2018-02-21 06:30:01,362 - DEBUG - Connected to IBController
2018-02-21 06:30:01,362 - DEBUG - Position requested
2018-02-21 06:30:01,365 - DEBUG - Pos Mgmt -5
2018-02-21 06:30:01,365 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 06:30:01,365 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:30:01,365 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:30:01,365 - DEBUG - Position is -5
2018-02-21 06:30:01,367 - DEBUG - Pos Mgmt -12987
2018-02-21 06:30:01,367 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:30:01,368 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:30:01,368 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:30:01,368 - DEBUG - Position is -12987
2018-02-21 06:30:02,365 - DEBUG - Open Orders requested
2018-02-21 06:30:02,368 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203DDA0>, order=<ib.ext.Order.Order object at 0x000000000203DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-21 06:30:02,368 - DEBUG - Order OrderID 218
2018-02-21 06:30:02,368 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:30:02,369 - DEBUG - Order status PreSubmitted
2018-02-21 06:30:02,369 - DEBUG - Order Identification 218
2018-02-21 06:30:02,369 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:30:02,371 - DEBUG - Profit ID from database is 217
2018-02-21 06:30:02,371 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:30:02,371 - DEBUG - Stop ID database is 0
2018-02-21 06:30:02,371 - DEBUG - Entry ID database is 217
2018-02-21 06:30:04,365 - DEBUG - Connecting to database
2018-02-21 06:30:04,371 - DEBUG - Connected to database
2018-02-21 06:30:04,374 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,374 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:30:04,375 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,375 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:30:04,377 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,377 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:30:04,378 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,378 - DEBUG - Stop quantity 1
2018-02-21 06:30:04,380 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,381 - DEBUG - Direction is Short
2018-02-21 06:30:04,381 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,381 - DEBUG - Count is 0
2018-02-21 06:30:04,382 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:30:04,384 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:30:04,384 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:30:04,384 - DEBUG - Max ID Order is (218,)
2018-02-21 06:30:04,385 - DEBUG - Today is 2018-02-21
2018-02-21 06:30:04,385 - DEBUG - Day of the week 2
2018-02-21 06:30:04,385 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:30:04,387 - DEBUG - In Position is  0
2018-02-21 06:30:04,387 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:30:04,387 - DEBUG - curStopLossFlag is  0
2018-02-21 06:30:04,387 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:30:04,388 - DEBUG - Checking if Entry has been filled
2018-02-21 06:30:04,388 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:30:04,388 - DEBUG - EntryPend is 1
2018-02-21 06:30:04,388 - DEBUG - Try to Cancel Stop
2018-02-21 06:30:04,390 - DEBUG - Stop API ID 0
2018-02-21 06:30:04,390 - DEBUG - Profit API ID 0
2018-02-21 06:30:04,390 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:30:04,390 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:30:04,391 - DEBUG - Pos is 0
2018-02-21 06:30:04,391 - DEBUG - CurCount is 0
2018-02-21 06:30:04,391 - DEBUG - In Pos 0
2018-02-21 06:30:04,391 - DEBUG - Stop ID is 0
2018-02-21 06:30:04,391 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:30:04,392 - DEBUG - EntryPend is 1
2018-02-21 06:30:04,394 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:30:04,394 - DEBUG - Entry Date is 10
2018-02-21 06:30:04,394 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:30:04,394 - DEBUG - Order Profit ID is 217
2018-02-21 06:30:04,394 - DEBUG - Order Entry ID is 217
2018-02-21 06:30:04,394 - DEBUG - API ID is  0
2018-02-21 06:30:04,394 - DEBUG - Current Position is 0
2018-02-21 06:30:04,394 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:30:04,395 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:30:04,395 - DEBUG - Time is 6
2018-02-21 06:30:04,395 - DEBUG - Time is <class 'int'>
2018-02-21 06:30:04,395 - DEBUG - Disconnected from IBController
2018-02-21 06:30:04,397 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:35:00,272 - DEBUG - ****************************************************
2018-02-21 06:35:00,273 - DEBUG - Current Time is 06:35AM
2018-02-21 06:35:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:35:00,273 - DEBUG - Connecting to database
2018-02-21 06:35:00,289 - DEBUG - Connected to database
2018-02-21 06:35:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:00,292 - DEBUG - Order Profit is 217
2018-02-21 06:35:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:00,293 - DEBUG - Stop ID is 0
2018-02-21 06:35:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:00,295 - DEBUG - Entry ID is 217
2018-02-21 06:35:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:35:00,296 - DEBUG - OCA ID is 1
2018-02-21 06:35:00,296 - DEBUG - Connecting to IBController
2018-02-21 06:35:01,319 - DEBUG - Connected to IBController
2018-02-21 06:35:01,319 - DEBUG - Position requested
2018-02-21 06:35:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 06:35:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 06:35:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:35:01,323 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:35:01,323 - DEBUG - Position is -5
2018-02-21 06:35:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 06:35:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:35:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:35:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:35:01,325 - DEBUG - Position is -12987
2018-02-21 06:35:02,321 - DEBUG - Open Orders requested
2018-02-21 06:35:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 06:35:02,323 - DEBUG - Order OrderID 218
2018-02-21 06:35:02,323 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:35:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 06:35:02,325 - DEBUG - Order Identification 218
2018-02-21 06:35:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:35:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 06:35:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:35:02,325 - DEBUG - Stop ID database is 0
2018-02-21 06:35:02,325 - DEBUG - Entry ID database is 217
2018-02-21 06:35:04,322 - DEBUG - Connecting to database
2018-02-21 06:35:04,329 - DEBUG - Connected to database
2018-02-21 06:35:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,332 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:35:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,334 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:35:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,335 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:35:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,336 - DEBUG - Stop quantity 1
2018-02-21 06:35:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,338 - DEBUG - Direction is Short
2018-02-21 06:35:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,339 - DEBUG - Count is 0
2018-02-21 06:35:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:35:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:35:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:35:04,344 - DEBUG - Max ID Order is (218,)
2018-02-21 06:35:04,344 - DEBUG - Today is 2018-02-21
2018-02-21 06:35:04,344 - DEBUG - Day of the week 2
2018-02-21 06:35:04,345 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:35:04,345 - DEBUG - In Position is  0
2018-02-21 06:35:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:35:04,345 - DEBUG - curStopLossFlag is  0
2018-02-21 06:35:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:35:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 06:35:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:35:04,348 - DEBUG - EntryPend is 1
2018-02-21 06:35:04,348 - DEBUG - Try to Cancel Stop
2018-02-21 06:35:04,348 - DEBUG - Stop API ID 0
2018-02-21 06:35:04,348 - DEBUG - Profit API ID 0
2018-02-21 06:35:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:35:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:35:04,348 - DEBUG - Pos is 0
2018-02-21 06:35:04,348 - DEBUG - CurCount is 0
2018-02-21 06:35:04,349 - DEBUG - In Pos 0
2018-02-21 06:35:04,349 - DEBUG - Stop ID is 0
2018-02-21 06:35:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:35:04,351 - DEBUG - EntryPend is 1
2018-02-21 06:35:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:35:04,351 - DEBUG - Entry Date is 10
2018-02-21 06:35:04,351 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:35:04,352 - DEBUG - Order Profit ID is 217
2018-02-21 06:35:04,352 - DEBUG - Order Entry ID is 217
2018-02-21 06:35:04,352 - DEBUG - API ID is  0
2018-02-21 06:35:04,352 - DEBUG - Current Position is 0
2018-02-21 06:35:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:35:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:35:04,354 - DEBUG - Time is 6
2018-02-21 06:35:04,354 - DEBUG - Time is <class 'int'>
2018-02-21 06:35:04,355 - DEBUG - Disconnected from IBController
2018-02-21 06:35:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:40:00,262 - DEBUG - ****************************************************
2018-02-21 06:40:00,262 - DEBUG - Current Time is 06:40AM
2018-02-21 06:40:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:40:00,263 - DEBUG - Connecting to database
2018-02-21 06:40:00,293 - DEBUG - Connected to database
2018-02-21 06:40:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:00,296 - DEBUG - Order Profit is 217
2018-02-21 06:40:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:00,296 - DEBUG - Stop ID is 0
2018-02-21 06:40:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:00,299 - DEBUG - Entry ID is 217
2018-02-21 06:40:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:40:00,299 - DEBUG - OCA ID is 1
2018-02-21 06:40:00,299 - DEBUG - Connecting to IBController
2018-02-21 06:40:01,306 - DEBUG - Connected to IBController
2018-02-21 06:40:01,306 - DEBUG - Position requested
2018-02-21 06:40:01,309 - DEBUG - Pos Mgmt -5
2018-02-21 06:40:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CDA0>, pos=-5, avgCost=15412.17>
2018-02-21 06:40:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:40:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:40:01,315 - DEBUG - Position is -5
2018-02-21 06:40:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 06:40:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:40:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:40:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:40:01,316 - DEBUG - Position is -12987
2018-02-21 06:40:02,306 - DEBUG - Open Orders requested
2018-02-21 06:40:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206CDA0>, order=<ib.ext.Order.Order object at 0x000000000206CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020B8>>
2018-02-21 06:40:02,309 - DEBUG - Order OrderID 218
2018-02-21 06:40:02,309 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:40:02,311 - DEBUG - Order status PreSubmitted
2018-02-21 06:40:02,311 - DEBUG - Order Identification 218
2018-02-21 06:40:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:40:02,311 - DEBUG - Profit ID from database is 217
2018-02-21 06:40:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:40:02,312 - DEBUG - Stop ID database is 0
2018-02-21 06:40:02,312 - DEBUG - Entry ID database is 217
2018-02-21 06:40:04,308 - DEBUG - Connecting to database
2018-02-21 06:40:04,315 - DEBUG - Connected to database
2018-02-21 06:40:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,316 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:40:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:40:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,319 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:40:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,322 - DEBUG - Stop quantity 1
2018-02-21 06:40:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,323 - DEBUG - Direction is Short
2018-02-21 06:40:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,325 - DEBUG - Count is 0
2018-02-21 06:40:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:40:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:40:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:40:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 06:40:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 06:40:04,329 - DEBUG - Day of the week 2
2018-02-21 06:40:04,329 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:40:04,329 - DEBUG - In Position is  0
2018-02-21 06:40:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:40:04,331 - DEBUG - curStopLossFlag is  0
2018-02-21 06:40:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:40:04,331 - DEBUG - Checking if Entry has been filled
2018-02-21 06:40:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:40:04,332 - DEBUG - EntryPend is 1
2018-02-21 06:40:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 06:40:04,332 - DEBUG - Stop API ID 0
2018-02-21 06:40:04,332 - DEBUG - Profit API ID 0
2018-02-21 06:40:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:40:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:40:04,334 - DEBUG - Pos is 0
2018-02-21 06:40:04,334 - DEBUG - CurCount is 0
2018-02-21 06:40:04,335 - DEBUG - In Pos 0
2018-02-21 06:40:04,335 - DEBUG - Stop ID is 0
2018-02-21 06:40:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:40:04,336 - DEBUG - EntryPend is 1
2018-02-21 06:40:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:40:04,336 - DEBUG - Entry Date is 10
2018-02-21 06:40:04,336 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:40:04,336 - DEBUG - Order Profit ID is 217
2018-02-21 06:40:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 06:40:04,338 - DEBUG - API ID is  0
2018-02-21 06:40:04,338 - DEBUG - Current Position is 0
2018-02-21 06:40:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:40:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:40:04,338 - DEBUG - Time is 6
2018-02-21 06:40:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 06:40:04,338 - DEBUG - Disconnected from IBController
2018-02-21 06:40:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:45:00,267 - DEBUG - ****************************************************
2018-02-21 06:45:00,269 - DEBUG - Current Time is 06:45AM
2018-02-21 06:45:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:45:00,269 - DEBUG - Connecting to database
2018-02-21 06:45:00,292 - DEBUG - Connected to database
2018-02-21 06:45:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:00,293 - DEBUG - Order Profit is 217
2018-02-21 06:45:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:00,295 - DEBUG - Stop ID is 0
2018-02-21 06:45:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:00,296 - DEBUG - Entry ID is 217
2018-02-21 06:45:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:45:00,298 - DEBUG - OCA ID is 1
2018-02-21 06:45:00,299 - DEBUG - Connecting to IBController
2018-02-21 06:45:01,309 - DEBUG - Connected to IBController
2018-02-21 06:45:01,312 - DEBUG - Position requested
2018-02-21 06:45:01,313 - DEBUG - Pos Mgmt -5
2018-02-21 06:45:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, pos=-5, avgCost=15412.17>
2018-02-21 06:45:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:45:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:45:01,315 - DEBUG - Position is -5
2018-02-21 06:45:01,316 - DEBUG - Pos Mgmt -12987
2018-02-21 06:45:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:45:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:45:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:45:01,318 - DEBUG - Position is -12987
2018-02-21 06:45:02,315 - DEBUG - Open Orders requested
2018-02-21 06:45:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, order=<ib.ext.Order.Order object at 0x000000000208CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220B8>>
2018-02-21 06:45:02,318 - DEBUG - Order OrderID 218
2018-02-21 06:45:02,319 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:45:02,319 - DEBUG - Order status PreSubmitted
2018-02-21 06:45:02,319 - DEBUG - Order Identification 218
2018-02-21 06:45:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:45:02,319 - DEBUG - Profit ID from database is 217
2018-02-21 06:45:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:45:02,319 - DEBUG - Stop ID database is 0
2018-02-21 06:45:02,319 - DEBUG - Entry ID database is 217
2018-02-21 06:45:04,315 - DEBUG - Connecting to database
2018-02-21 06:45:04,322 - DEBUG - Connected to database
2018-02-21 06:45:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,325 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:45:04,326 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,326 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:45:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,328 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:45:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,329 - DEBUG - Stop quantity 1
2018-02-21 06:45:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,332 - DEBUG - Direction is Short
2018-02-21 06:45:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,332 - DEBUG - Count is 0
2018-02-21 06:45:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:45:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:45:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:45:04,336 - DEBUG - Max ID Order is (218,)
2018-02-21 06:45:04,338 - DEBUG - Today is 2018-02-21
2018-02-21 06:45:04,338 - DEBUG - Day of the week 2
2018-02-21 06:45:04,338 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:45:04,338 - DEBUG - In Position is  0
2018-02-21 06:45:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:45:04,338 - DEBUG - curStopLossFlag is  0
2018-02-21 06:45:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:45:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 06:45:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:45:04,341 - DEBUG - EntryPend is 1
2018-02-21 06:45:04,341 - DEBUG - Try to Cancel Stop
2018-02-21 06:45:04,342 - DEBUG - Stop API ID 0
2018-02-21 06:45:04,342 - DEBUG - Profit API ID 0
2018-02-21 06:45:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:45:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:45:04,342 - DEBUG - Pos is 0
2018-02-21 06:45:04,342 - DEBUG - CurCount is 0
2018-02-21 06:45:04,342 - DEBUG - In Pos 0
2018-02-21 06:45:04,342 - DEBUG - Stop ID is 0
2018-02-21 06:45:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:45:04,345 - DEBUG - EntryPend is 1
2018-02-21 06:45:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:45:04,345 - DEBUG - Entry Date is 10
2018-02-21 06:45:04,345 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:45:04,345 - DEBUG - Order Profit ID is 217
2018-02-21 06:45:04,345 - DEBUG - Order Entry ID is 217
2018-02-21 06:45:04,345 - DEBUG - API ID is  0
2018-02-21 06:45:04,345 - DEBUG - Current Position is 0
2018-02-21 06:45:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:45:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:45:04,346 - DEBUG - Time is 6
2018-02-21 06:45:04,346 - DEBUG - Time is <class 'int'>
2018-02-21 06:45:04,348 - DEBUG - Disconnected from IBController
2018-02-21 06:45:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:50:00,273 - DEBUG - ****************************************************
2018-02-21 06:50:00,275 - DEBUG - Current Time is 06:50AM
2018-02-21 06:50:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:50:00,275 - DEBUG - Connecting to database
2018-02-21 06:50:00,301 - DEBUG - Connected to database
2018-02-21 06:50:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:00,302 - DEBUG - Order Profit is 217
2018-02-21 06:50:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:00,305 - DEBUG - Stop ID is 0
2018-02-21 06:50:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:00,306 - DEBUG - Entry ID is 217
2018-02-21 06:50:00,306 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:50:00,308 - DEBUG - OCA ID is 1
2018-02-21 06:50:00,309 - DEBUG - Connecting to IBController
2018-02-21 06:50:01,318 - DEBUG - Connected to IBController
2018-02-21 06:50:01,318 - DEBUG - Position requested
2018-02-21 06:50:01,319 - DEBUG - Pos Mgmt -5
2018-02-21 06:50:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, pos=-5, avgCost=15412.17>
2018-02-21 06:50:01,321 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:50:01,321 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:50:01,322 - DEBUG - Position is -5
2018-02-21 06:50:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 06:50:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:50:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:50:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:50:01,322 - DEBUG - Position is -12987
2018-02-21 06:50:02,319 - DEBUG - Open Orders requested
2018-02-21 06:50:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, order=<ib.ext.Order.Order object at 0x000000000204CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-21 06:50:02,322 - DEBUG - Order OrderID 218
2018-02-21 06:50:02,322 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:50:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 06:50:02,323 - DEBUG - Order Identification 218
2018-02-21 06:50:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:50:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 06:50:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:50:02,325 - DEBUG - Stop ID database is 0
2018-02-21 06:50:02,325 - DEBUG - Entry ID database is 217
2018-02-21 06:50:04,321 - DEBUG - Connecting to database
2018-02-21 06:50:04,328 - DEBUG - Connected to database
2018-02-21 06:50:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,329 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:50:04,331 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,332 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:50:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,332 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:50:04,335 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,335 - DEBUG - Stop quantity 1
2018-02-21 06:50:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,336 - DEBUG - Direction is Short
2018-02-21 06:50:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,338 - DEBUG - Count is 0
2018-02-21 06:50:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:50:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:50:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:50:04,341 - DEBUG - Max ID Order is (218,)
2018-02-21 06:50:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 06:50:04,342 - DEBUG - Day of the week 2
2018-02-21 06:50:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:50:04,342 - DEBUG - In Position is  0
2018-02-21 06:50:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:50:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 06:50:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:50:04,344 - DEBUG - Checking if Entry has been filled
2018-02-21 06:50:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:50:04,345 - DEBUG - EntryPend is 1
2018-02-21 06:50:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 06:50:04,345 - DEBUG - Stop API ID 0
2018-02-21 06:50:04,345 - DEBUG - Profit API ID 0
2018-02-21 06:50:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:50:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:50:04,346 - DEBUG - Pos is 0
2018-02-21 06:50:04,346 - DEBUG - CurCount is 0
2018-02-21 06:50:04,346 - DEBUG - In Pos 0
2018-02-21 06:50:04,346 - DEBUG - Stop ID is 0
2018-02-21 06:50:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:50:04,348 - DEBUG - EntryPend is 1
2018-02-21 06:50:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:50:04,348 - DEBUG - Entry Date is 10
2018-02-21 06:50:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:50:04,349 - DEBUG - Order Profit ID is 217
2018-02-21 06:50:04,349 - DEBUG - Order Entry ID is 217
2018-02-21 06:50:04,349 - DEBUG - API ID is  0
2018-02-21 06:50:04,349 - DEBUG - Current Position is 0
2018-02-21 06:50:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:50:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:50:04,351 - DEBUG - Time is 6
2018-02-21 06:50:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 06:50:04,351 - DEBUG - Disconnected from IBController
2018-02-21 06:50:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 06:55:00,279 - DEBUG - ****************************************************
2018-02-21 06:55:00,280 - DEBUG - Current Time is 06:55AM
2018-02-21 06:55:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-21 06:55:00,280 - DEBUG - Connecting to database
2018-02-21 06:55:00,311 - DEBUG - Connected to database
2018-02-21 06:55:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:00,312 - DEBUG - Order Profit is 217
2018-02-21 06:55:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:00,313 - DEBUG - Stop ID is 0
2018-02-21 06:55:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:00,315 - DEBUG - Entry ID is 217
2018-02-21 06:55:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 06:55:00,318 - DEBUG - OCA ID is 1
2018-02-21 06:55:00,318 - DEBUG - Connecting to IBController
2018-02-21 06:55:01,323 - DEBUG - Connected to IBController
2018-02-21 06:55:01,323 - DEBUG - Position requested
2018-02-21 06:55:01,328 - DEBUG - Pos Mgmt -5
2018-02-21 06:55:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 06:55:01,329 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 06:55:01,329 - DEBUG - ccy2 Currency with position is USD
2018-02-21 06:55:01,329 - DEBUG - Position is -5
2018-02-21 06:55:01,331 - DEBUG - Pos Mgmt -12987
2018-02-21 06:55:01,331 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 06:55:01,331 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 06:55:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 06:55:01,332 - DEBUG - Position is -12987
2018-02-21 06:55:02,325 - DEBUG - Open Orders requested
2018-02-21 06:55:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-21 06:55:02,328 - DEBUG - Order OrderID 218
2018-02-21 06:55:02,328 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 06:55:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 06:55:02,328 - DEBUG - Order Identification 218
2018-02-21 06:55:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 06:55:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 06:55:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 06:55:02,329 - DEBUG - Stop ID database is 0
2018-02-21 06:55:02,329 - DEBUG - Entry ID database is 217
2018-02-21 06:55:04,326 - DEBUG - Connecting to database
2018-02-21 06:55:04,334 - DEBUG - Connected to database
2018-02-21 06:55:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 06:55:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 06:55:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,338 - DEBUG - EntryPrice value is 2704.5
2018-02-21 06:55:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,341 - DEBUG - Stop quantity 1
2018-02-21 06:55:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,342 - DEBUG - Direction is Short
2018-02-21 06:55:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,345 - DEBUG - Count is 0
2018-02-21 06:55:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 06:55:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 06:55:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 06:55:04,348 - DEBUG - Max ID Order is (218,)
2018-02-21 06:55:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 06:55:04,348 - DEBUG - Day of the week 2
2018-02-21 06:55:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 06:55:04,348 - DEBUG - In Position is  0
2018-02-21 06:55:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 06:55:04,349 - DEBUG - curStopLossFlag is  0
2018-02-21 06:55:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 06:55:04,349 - DEBUG - Checking if Entry has been filled
2018-02-21 06:55:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:55:04,351 - DEBUG - EntryPend is 1
2018-02-21 06:55:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 06:55:04,351 - DEBUG - Stop API ID 0
2018-02-21 06:55:04,351 - DEBUG - Profit API ID 0
2018-02-21 06:55:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-21 06:55:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-21 06:55:04,352 - DEBUG - Pos is 0
2018-02-21 06:55:04,352 - DEBUG - CurCount is 0
2018-02-21 06:55:04,354 - DEBUG - In Pos 0
2018-02-21 06:55:04,354 - DEBUG - Stop ID is 0
2018-02-21 06:55:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 06:55:04,355 - DEBUG - EntryPend is 1
2018-02-21 06:55:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 06:55:04,355 - DEBUG - Entry Date is 10
2018-02-21 06:55:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 06:55:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 06:55:04,357 - DEBUG - Order Entry ID is 217
2018-02-21 06:55:04,357 - DEBUG - API ID is  0
2018-02-21 06:55:04,357 - DEBUG - Current Position is 0
2018-02-21 06:55:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-21 06:55:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 06:55:04,358 - DEBUG - Time is 6
2018-02-21 06:55:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 06:55:04,358 - DEBUG - Disconnected from IBController
2018-02-21 06:55:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:00:00,276 - DEBUG - ****************************************************
2018-02-21 07:00:00,276 - DEBUG - Current Time is 07:00AM
2018-02-21 07:00:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:00:00,276 - DEBUG - Connecting to database
2018-02-21 07:00:00,336 - DEBUG - Connected to database
2018-02-21 07:00:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:00,352 - DEBUG - Order Profit is 217
2018-02-21 07:00:00,352 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:00,358 - DEBUG - Stop ID is 0
2018-02-21 07:00:00,358 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:00,361 - DEBUG - Entry ID is 217
2018-02-21 07:00:00,361 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:00:00,364 - DEBUG - OCA ID is 1
2018-02-21 07:00:00,364 - DEBUG - Connecting to IBController
2018-02-21 07:00:01,369 - DEBUG - Connected to IBController
2018-02-21 07:00:01,369 - DEBUG - Position requested
2018-02-21 07:00:01,371 - DEBUG - Pos Mgmt -5
2018-02-21 07:00:01,371 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=-5, avgCost=15412.17>
2018-02-21 07:00:01,372 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:00:01,372 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:00:01,372 - DEBUG - Position is -5
2018-02-21 07:00:01,374 - DEBUG - Pos Mgmt -12987
2018-02-21 07:00:01,374 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:00:01,374 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:00:01,374 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:00:01,375 - DEBUG - Position is -12987
2018-02-21 07:00:02,371 - DEBUG - Open Orders requested
2018-02-21 07:00:02,374 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-21 07:00:02,374 - DEBUG - Order OrderID 218
2018-02-21 07:00:02,375 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:00:02,375 - DEBUG - Order status PreSubmitted
2018-02-21 07:00:02,375 - DEBUG - Order Identification 218
2018-02-21 07:00:02,375 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:00:02,375 - DEBUG - Profit ID from database is 217
2018-02-21 07:00:02,375 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:00:02,377 - DEBUG - Stop ID database is 0
2018-02-21 07:00:02,377 - DEBUG - Entry ID database is 217
2018-02-21 07:00:04,374 - DEBUG - Connecting to database
2018-02-21 07:00:04,381 - DEBUG - Connected to database
2018-02-21 07:00:04,382 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,384 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:00:04,384 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,385 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:00:04,387 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,387 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:00:04,388 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,388 - DEBUG - Stop quantity 1
2018-02-21 07:00:04,390 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,391 - DEBUG - Direction is Short
2018-02-21 07:00:04,391 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,391 - DEBUG - Count is 0
2018-02-21 07:00:04,392 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:00:04,394 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:00:04,394 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:00:04,394 - DEBUG - Max ID Order is (218,)
2018-02-21 07:00:04,395 - DEBUG - Today is 2018-02-21
2018-02-21 07:00:04,395 - DEBUG - Day of the week 2
2018-02-21 07:00:04,397 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:00:04,397 - DEBUG - In Position is  0
2018-02-21 07:00:04,397 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:00:04,397 - DEBUG - curStopLossFlag is  0
2018-02-21 07:00:04,397 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:00:04,398 - DEBUG - Checking if Entry has been filled
2018-02-21 07:00:04,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:00:04,400 - DEBUG - EntryPend is 1
2018-02-21 07:00:04,400 - DEBUG - Try to Cancel Stop
2018-02-21 07:00:04,400 - DEBUG - Stop API ID 0
2018-02-21 07:00:04,400 - DEBUG - Profit API ID 0
2018-02-21 07:00:04,401 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:00:04,401 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:00:04,401 - DEBUG - Pos is 0
2018-02-21 07:00:04,401 - DEBUG - CurCount is 0
2018-02-21 07:00:04,401 - DEBUG - In Pos 0
2018-02-21 07:00:04,401 - DEBUG - Stop ID is 0
2018-02-21 07:00:04,401 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:00:04,403 - DEBUG - EntryPend is 1
2018-02-21 07:00:04,404 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:00:04,404 - DEBUG - Entry Date is 10
2018-02-21 07:00:04,404 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:00:04,404 - DEBUG - Order Profit ID is 217
2018-02-21 07:00:04,404 - DEBUG - Order Entry ID is 217
2018-02-21 07:00:04,404 - DEBUG - API ID is  0
2018-02-21 07:00:04,404 - DEBUG - Current Position is 0
2018-02-21 07:00:04,404 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:00:04,405 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:00:04,405 - DEBUG - Time is 7
2018-02-21 07:00:04,405 - DEBUG - Time is <class 'int'>
2018-02-21 07:00:04,405 - DEBUG - Disconnected from IBController
2018-02-21 07:00:04,407 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:05:00,266 - DEBUG - ****************************************************
2018-02-21 07:05:00,266 - DEBUG - Current Time is 07:05AM
2018-02-21 07:05:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:05:00,267 - DEBUG - Connecting to database
2018-02-21 07:05:00,286 - DEBUG - Connected to database
2018-02-21 07:05:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:00,289 - DEBUG - Order Profit is 217
2018-02-21 07:05:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:00,289 - DEBUG - Stop ID is 0
2018-02-21 07:05:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:00,292 - DEBUG - Entry ID is 217
2018-02-21 07:05:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:05:00,292 - DEBUG - OCA ID is 1
2018-02-21 07:05:00,293 - DEBUG - Connecting to IBController
2018-02-21 07:05:01,301 - DEBUG - Connected to IBController
2018-02-21 07:05:01,301 - DEBUG - Position requested
2018-02-21 07:05:01,303 - DEBUG - Pos Mgmt -5
2018-02-21 07:05:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ABD68>, pos=-5, avgCost=15412.17>
2018-02-21 07:05:01,305 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:05:01,305 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:05:01,305 - DEBUG - Position is -5
2018-02-21 07:05:01,305 - DEBUG - Pos Mgmt -12987
2018-02-21 07:05:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ABC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:05:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:05:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:05:01,306 - DEBUG - Position is -12987
2018-02-21 07:05:02,302 - DEBUG - Open Orders requested
2018-02-21 07:05:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ABDA0>, order=<ib.ext.Order.Order object at 0x00000000020ABE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140128>>
2018-02-21 07:05:02,303 - DEBUG - Order OrderID 218
2018-02-21 07:05:02,305 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:05:02,305 - DEBUG - Order status PreSubmitted
2018-02-21 07:05:02,305 - DEBUG - Order Identification 218
2018-02-21 07:05:02,305 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:05:02,305 - DEBUG - Profit ID from database is 217
2018-02-21 07:05:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:05:02,306 - DEBUG - Stop ID database is 0
2018-02-21 07:05:02,306 - DEBUG - Entry ID database is 217
2018-02-21 07:05:04,303 - DEBUG - Connecting to database
2018-02-21 07:05:04,311 - DEBUG - Connected to database
2018-02-21 07:05:04,312 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,312 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:05:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,315 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:05:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,316 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:05:04,318 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,319 - DEBUG - Stop quantity 1
2018-02-21 07:05:04,319 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,319 - DEBUG - Direction is Short
2018-02-21 07:05:04,321 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,322 - DEBUG - Count is 0
2018-02-21 07:05:04,322 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:05:04,323 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:05:04,325 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:05:04,325 - DEBUG - Max ID Order is (218,)
2018-02-21 07:05:04,325 - DEBUG - Today is 2018-02-21
2018-02-21 07:05:04,325 - DEBUG - Day of the week 2
2018-02-21 07:05:04,325 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:05:04,326 - DEBUG - In Position is  0
2018-02-21 07:05:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:05:04,326 - DEBUG - curStopLossFlag is  0
2018-02-21 07:05:04,326 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:05:04,328 - DEBUG - Checking if Entry has been filled
2018-02-21 07:05:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:05:04,328 - DEBUG - EntryPend is 1
2018-02-21 07:05:04,328 - DEBUG - Try to Cancel Stop
2018-02-21 07:05:04,329 - DEBUG - Stop API ID 0
2018-02-21 07:05:04,329 - DEBUG - Profit API ID 0
2018-02-21 07:05:04,329 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:05:04,329 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:05:04,331 - DEBUG - Pos is 0
2018-02-21 07:05:04,331 - DEBUG - CurCount is 0
2018-02-21 07:05:04,331 - DEBUG - In Pos 0
2018-02-21 07:05:04,331 - DEBUG - Stop ID is 0
2018-02-21 07:05:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:05:04,332 - DEBUG - EntryPend is 1
2018-02-21 07:05:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:05:04,332 - DEBUG - Entry Date is 10
2018-02-21 07:05:04,332 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:05:04,334 - DEBUG - Order Profit ID is 217
2018-02-21 07:05:04,334 - DEBUG - Order Entry ID is 217
2018-02-21 07:05:04,334 - DEBUG - API ID is  0
2018-02-21 07:05:04,334 - DEBUG - Current Position is 0
2018-02-21 07:05:04,335 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:05:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:05:04,335 - DEBUG - Time is 7
2018-02-21 07:05:04,335 - DEBUG - Time is <class 'int'>
2018-02-21 07:05:04,335 - DEBUG - Disconnected from IBController
2018-02-21 07:05:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:10:00,259 - DEBUG - ****************************************************
2018-02-21 07:10:00,259 - DEBUG - Current Time is 07:10AM
2018-02-21 07:10:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:10:00,259 - DEBUG - Connecting to database
2018-02-21 07:10:00,290 - DEBUG - Connected to database
2018-02-21 07:10:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:00,292 - DEBUG - Order Profit is 217
2018-02-21 07:10:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:00,293 - DEBUG - Stop ID is 0
2018-02-21 07:10:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:00,295 - DEBUG - Entry ID is 217
2018-02-21 07:10:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:10:00,296 - DEBUG - OCA ID is 1
2018-02-21 07:10:00,296 - DEBUG - Connecting to IBController
2018-02-21 07:10:01,305 - DEBUG - Connected to IBController
2018-02-21 07:10:01,305 - DEBUG - Position requested
2018-02-21 07:10:01,306 - DEBUG - Pos Mgmt -5
2018-02-21 07:10:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, pos=-5, avgCost=15412.17>
2018-02-21 07:10:01,308 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:10:01,308 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:10:01,308 - DEBUG - Position is -5
2018-02-21 07:10:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 07:10:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:10:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:10:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:10:01,309 - DEBUG - Position is -12987
2018-02-21 07:10:02,306 - DEBUG - Open Orders requested
2018-02-21 07:10:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE48>, order=<ib.ext.Order.Order object at 0x00000000020ADC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-21 07:10:02,309 - DEBUG - Order OrderID 218
2018-02-21 07:10:02,309 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:10:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 07:10:02,311 - DEBUG - Order Identification 218
2018-02-21 07:10:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:10:02,311 - DEBUG - Profit ID from database is 217
2018-02-21 07:10:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:10:02,312 - DEBUG - Stop ID database is 0
2018-02-21 07:10:02,315 - DEBUG - Entry ID database is 217
2018-02-21 07:10:04,309 - DEBUG - Connecting to database
2018-02-21 07:10:04,315 - DEBUG - Connected to database
2018-02-21 07:10:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,318 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:10:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:10:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,322 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:10:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,322 - DEBUG - Stop quantity 1
2018-02-21 07:10:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,325 - DEBUG - Direction is Short
2018-02-21 07:10:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,325 - DEBUG - Count is 0
2018-02-21 07:10:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:10:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:10:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:10:04,329 - DEBUG - Max ID Order is (218,)
2018-02-21 07:10:04,329 - DEBUG - Today is 2018-02-21
2018-02-21 07:10:04,331 - DEBUG - Day of the week 2
2018-02-21 07:10:04,331 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:10:04,331 - DEBUG - In Position is  0
2018-02-21 07:10:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:10:04,331 - DEBUG - curStopLossFlag is  0
2018-02-21 07:10:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:10:04,332 - DEBUG - Checking if Entry has been filled
2018-02-21 07:10:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:10:04,334 - DEBUG - EntryPend is 1
2018-02-21 07:10:04,334 - DEBUG - Try to Cancel Stop
2018-02-21 07:10:04,334 - DEBUG - Stop API ID 0
2018-02-21 07:10:04,334 - DEBUG - Profit API ID 0
2018-02-21 07:10:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:10:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:10:04,335 - DEBUG - Pos is 0
2018-02-21 07:10:04,335 - DEBUG - CurCount is 0
2018-02-21 07:10:04,335 - DEBUG - In Pos 0
2018-02-21 07:10:04,335 - DEBUG - Stop ID is 0
2018-02-21 07:10:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:10:04,336 - DEBUG - EntryPend is 1
2018-02-21 07:10:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:10:04,338 - DEBUG - Entry Date is 10
2018-02-21 07:10:04,338 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:10:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 07:10:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 07:10:04,338 - DEBUG - API ID is  0
2018-02-21 07:10:04,338 - DEBUG - Current Position is 0
2018-02-21 07:10:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:10:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:10:04,339 - DEBUG - Time is 7
2018-02-21 07:10:04,339 - DEBUG - Time is <class 'int'>
2018-02-21 07:10:04,339 - DEBUG - Disconnected from IBController
2018-02-21 07:10:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:15:00,275 - DEBUG - ****************************************************
2018-02-21 07:15:00,275 - DEBUG - Current Time is 07:15AM
2018-02-21 07:15:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:15:00,276 - DEBUG - Connecting to database
2018-02-21 07:15:00,305 - DEBUG - Connected to database
2018-02-21 07:15:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:00,306 - DEBUG - Order Profit is 217
2018-02-21 07:15:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:00,309 - DEBUG - Stop ID is 0
2018-02-21 07:15:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:00,311 - DEBUG - Entry ID is 217
2018-02-21 07:15:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:15:00,312 - DEBUG - OCA ID is 1
2018-02-21 07:15:00,312 - DEBUG - Connecting to IBController
2018-02-21 07:15:01,319 - DEBUG - Connected to IBController
2018-02-21 07:15:01,319 - DEBUG - Position requested
2018-02-21 07:15:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 07:15:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-5, avgCost=15412.17>
2018-02-21 07:15:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:15:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:15:01,322 - DEBUG - Position is -5
2018-02-21 07:15:01,323 - DEBUG - Pos Mgmt -12987
2018-02-21 07:15:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:15:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:15:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:15:01,325 - DEBUG - Position is -12987
2018-02-21 07:15:02,321 - DEBUG - Open Orders requested
2018-02-21 07:15:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-21 07:15:02,323 - DEBUG - Order OrderID 218
2018-02-21 07:15:02,323 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:15:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 07:15:02,325 - DEBUG - Order Identification 218
2018-02-21 07:15:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:15:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 07:15:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:15:02,325 - DEBUG - Stop ID database is 0
2018-02-21 07:15:02,325 - DEBUG - Entry ID database is 217
2018-02-21 07:15:04,323 - DEBUG - Connecting to database
2018-02-21 07:15:04,331 - DEBUG - Connected to database
2018-02-21 07:15:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,332 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:15:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,335 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:15:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,336 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:15:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,338 - DEBUG - Stop quantity 1
2018-02-21 07:15:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,339 - DEBUG - Direction is Short
2018-02-21 07:15:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,342 - DEBUG - Count is 0
2018-02-21 07:15:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:15:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:15:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:15:04,345 - DEBUG - Max ID Order is (218,)
2018-02-21 07:15:04,345 - DEBUG - Today is 2018-02-21
2018-02-21 07:15:04,345 - DEBUG - Day of the week 2
2018-02-21 07:15:04,345 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:15:04,345 - DEBUG - In Position is  0
2018-02-21 07:15:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:15:04,346 - DEBUG - curStopLossFlag is  0
2018-02-21 07:15:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:15:04,346 - DEBUG - Checking if Entry has been filled
2018-02-21 07:15:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:15:04,348 - DEBUG - EntryPend is 1
2018-02-21 07:15:04,348 - DEBUG - Try to Cancel Stop
2018-02-21 07:15:04,348 - DEBUG - Stop API ID 0
2018-02-21 07:15:04,348 - DEBUG - Profit API ID 0
2018-02-21 07:15:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:15:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:15:04,349 - DEBUG - Pos is 0
2018-02-21 07:15:04,349 - DEBUG - CurCount is 0
2018-02-21 07:15:04,349 - DEBUG - In Pos 0
2018-02-21 07:15:04,351 - DEBUG - Stop ID is 0
2018-02-21 07:15:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:15:04,351 - DEBUG - EntryPend is 1
2018-02-21 07:15:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:15:04,352 - DEBUG - Entry Date is 10
2018-02-21 07:15:04,352 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:15:04,352 - DEBUG - Order Profit ID is 217
2018-02-21 07:15:04,352 - DEBUG - Order Entry ID is 217
2018-02-21 07:15:04,352 - DEBUG - API ID is  0
2018-02-21 07:15:04,354 - DEBUG - Current Position is 0
2018-02-21 07:15:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:15:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:15:04,354 - DEBUG - Time is 7
2018-02-21 07:15:04,355 - DEBUG - Time is <class 'int'>
2018-02-21 07:15:04,355 - DEBUG - Disconnected from IBController
2018-02-21 07:15:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:20:00,262 - DEBUG - ****************************************************
2018-02-21 07:20:00,263 - DEBUG - Current Time is 07:20AM
2018-02-21 07:20:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:20:00,263 - DEBUG - Connecting to database
2018-02-21 07:20:00,309 - DEBUG - Connected to database
2018-02-21 07:20:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:00,311 - DEBUG - Order Profit is 217
2018-02-21 07:20:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:00,312 - DEBUG - Stop ID is 0
2018-02-21 07:20:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:00,313 - DEBUG - Entry ID is 217
2018-02-21 07:20:00,313 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:20:00,315 - DEBUG - OCA ID is 1
2018-02-21 07:20:00,315 - DEBUG - Connecting to IBController
2018-02-21 07:20:01,323 - DEBUG - Connected to IBController
2018-02-21 07:20:01,323 - DEBUG - Position requested
2018-02-21 07:20:01,325 - DEBUG - Pos Mgmt -5
2018-02-21 07:20:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=-5, avgCost=15412.17>
2018-02-21 07:20:01,331 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:20:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:20:01,331 - DEBUG - Position is -5
2018-02-21 07:20:01,331 - DEBUG - Pos Mgmt -12987
2018-02-21 07:20:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:20:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:20:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:20:01,332 - DEBUG - Position is -12987
2018-02-21 07:20:02,329 - DEBUG - Open Orders requested
2018-02-21 07:20:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-21 07:20:02,332 - DEBUG - Order OrderID 218
2018-02-21 07:20:02,332 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:20:02,334 - DEBUG - Order status PreSubmitted
2018-02-21 07:20:02,334 - DEBUG - Order Identification 218
2018-02-21 07:20:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:20:02,334 - DEBUG - Profit ID from database is 217
2018-02-21 07:20:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:20:02,335 - DEBUG - Stop ID database is 0
2018-02-21 07:20:02,335 - DEBUG - Entry ID database is 217
2018-02-21 07:20:04,332 - DEBUG - Connecting to database
2018-02-21 07:20:04,338 - DEBUG - Connected to database
2018-02-21 07:20:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,341 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:20:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,342 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:20:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,345 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:20:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,345 - DEBUG - Stop quantity 1
2018-02-21 07:20:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,348 - DEBUG - Direction is Short
2018-02-21 07:20:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,349 - DEBUG - Count is 0
2018-02-21 07:20:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:20:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:20:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:20:04,352 - DEBUG - Max ID Order is (218,)
2018-02-21 07:20:04,354 - DEBUG - Today is 2018-02-21
2018-02-21 07:20:04,354 - DEBUG - Day of the week 2
2018-02-21 07:20:04,354 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:20:04,355 - DEBUG - In Position is  0
2018-02-21 07:20:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:20:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 07:20:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:20:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 07:20:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:20:04,357 - DEBUG - EntryPend is 1
2018-02-21 07:20:04,357 - DEBUG - Try to Cancel Stop
2018-02-21 07:20:04,357 - DEBUG - Stop API ID 0
2018-02-21 07:20:04,358 - DEBUG - Profit API ID 0
2018-02-21 07:20:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:20:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:20:04,358 - DEBUG - Pos is 0
2018-02-21 07:20:04,358 - DEBUG - CurCount is 0
2018-02-21 07:20:04,358 - DEBUG - In Pos 0
2018-02-21 07:20:04,358 - DEBUG - Stop ID is 0
2018-02-21 07:20:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:20:04,361 - DEBUG - EntryPend is 1
2018-02-21 07:20:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:20:04,361 - DEBUG - Entry Date is 10
2018-02-21 07:20:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:20:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 07:20:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 07:20:04,361 - DEBUG - API ID is  0
2018-02-21 07:20:04,361 - DEBUG - Current Position is 0
2018-02-21 07:20:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:20:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:20:04,362 - DEBUG - Time is 7
2018-02-21 07:20:04,362 - DEBUG - Time is <class 'int'>
2018-02-21 07:20:04,364 - DEBUG - Disconnected from IBController
2018-02-21 07:20:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:25:00,269 - DEBUG - ****************************************************
2018-02-21 07:25:00,269 - DEBUG - Current Time is 07:25AM
2018-02-21 07:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:25:00,270 - DEBUG - Connecting to database
2018-02-21 07:25:00,299 - DEBUG - Connected to database
2018-02-21 07:25:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:00,301 - DEBUG - Order Profit is 217
2018-02-21 07:25:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:00,302 - DEBUG - Stop ID is 0
2018-02-21 07:25:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:00,303 - DEBUG - Entry ID is 217
2018-02-21 07:25:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:25:00,305 - DEBUG - OCA ID is 1
2018-02-21 07:25:00,306 - DEBUG - Connecting to IBController
2018-02-21 07:25:01,313 - DEBUG - Connected to IBController
2018-02-21 07:25:01,313 - DEBUG - Position requested
2018-02-21 07:25:01,316 - DEBUG - Pos Mgmt -5
2018-02-21 07:25:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-5, avgCost=15412.17>
2018-02-21 07:25:01,318 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:25:01,318 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:25:01,318 - DEBUG - Position is -5
2018-02-21 07:25:01,319 - DEBUG - Pos Mgmt -12987
2018-02-21 07:25:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:25:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:25:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:25:01,319 - DEBUG - Position is -12987
2018-02-21 07:25:02,313 - DEBUG - Open Orders requested
2018-02-21 07:25:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, order=<ib.ext.Order.Order object at 0x000000000205DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-21 07:25:02,316 - DEBUG - Order OrderID 218
2018-02-21 07:25:02,316 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:25:02,316 - DEBUG - Order status PreSubmitted
2018-02-21 07:25:02,318 - DEBUG - Order Identification 218
2018-02-21 07:25:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:25:02,318 - DEBUG - Profit ID from database is 217
2018-02-21 07:25:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:25:02,319 - DEBUG - Stop ID database is 0
2018-02-21 07:25:02,319 - DEBUG - Entry ID database is 217
2018-02-21 07:25:04,315 - DEBUG - Connecting to database
2018-02-21 07:25:04,322 - DEBUG - Connected to database
2018-02-21 07:25:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,323 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:25:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,325 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:25:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,326 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:25:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,328 - DEBUG - Stop quantity 1
2018-02-21 07:25:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,331 - DEBUG - Direction is Short
2018-02-21 07:25:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,332 - DEBUG - Count is 0
2018-02-21 07:25:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:25:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:25:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:25:04,335 - DEBUG - Max ID Order is (218,)
2018-02-21 07:25:04,335 - DEBUG - Today is 2018-02-21
2018-02-21 07:25:04,336 - DEBUG - Day of the week 2
2018-02-21 07:25:04,336 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:25:04,336 - DEBUG - In Position is  0
2018-02-21 07:25:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:25:04,338 - DEBUG - curStopLossFlag is  0
2018-02-21 07:25:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:25:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 07:25:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:25:04,339 - DEBUG - EntryPend is 1
2018-02-21 07:25:04,339 - DEBUG - Try to Cancel Stop
2018-02-21 07:25:04,339 - DEBUG - Stop API ID 0
2018-02-21 07:25:04,339 - DEBUG - Profit API ID 0
2018-02-21 07:25:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:25:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:25:04,341 - DEBUG - Pos is 0
2018-02-21 07:25:04,341 - DEBUG - CurCount is 0
2018-02-21 07:25:04,341 - DEBUG - In Pos 0
2018-02-21 07:25:04,341 - DEBUG - Stop ID is 0
2018-02-21 07:25:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:25:04,344 - DEBUG - EntryPend is 1
2018-02-21 07:25:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:25:04,344 - DEBUG - Entry Date is 10
2018-02-21 07:25:04,344 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:25:04,345 - DEBUG - Order Profit ID is 217
2018-02-21 07:25:04,345 - DEBUG - Order Entry ID is 217
2018-02-21 07:25:04,345 - DEBUG - API ID is  0
2018-02-21 07:25:04,345 - DEBUG - Current Position is 0
2018-02-21 07:25:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:25:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:25:04,345 - DEBUG - Time is 7
2018-02-21 07:25:04,345 - DEBUG - Time is <class 'int'>
2018-02-21 07:25:04,345 - DEBUG - Disconnected from IBController
2018-02-21 07:25:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:30:00,265 - DEBUG - ****************************************************
2018-02-21 07:30:00,265 - DEBUG - Current Time is 07:30AM
2018-02-21 07:30:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:30:00,266 - DEBUG - Connecting to database
2018-02-21 07:30:00,312 - DEBUG - Connected to database
2018-02-21 07:30:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:00,315 - DEBUG - Order Profit is 217
2018-02-21 07:30:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:00,318 - DEBUG - Stop ID is 0
2018-02-21 07:30:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:00,319 - DEBUG - Entry ID is 217
2018-02-21 07:30:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:30:00,321 - DEBUG - OCA ID is 1
2018-02-21 07:30:00,322 - DEBUG - Connecting to IBController
2018-02-21 07:30:01,328 - DEBUG - Connected to IBController
2018-02-21 07:30:01,328 - DEBUG - Position requested
2018-02-21 07:30:01,329 - DEBUG - Pos Mgmt -5
2018-02-21 07:30:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-5, avgCost=15412.17>
2018-02-21 07:30:01,331 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:30:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:30:01,331 - DEBUG - Position is -5
2018-02-21 07:30:01,332 - DEBUG - Pos Mgmt -12987
2018-02-21 07:30:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:30:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:30:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:30:01,332 - DEBUG - Position is -12987
2018-02-21 07:30:02,329 - DEBUG - Open Orders requested
2018-02-21 07:30:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 07:30:02,332 - DEBUG - Order OrderID 218
2018-02-21 07:30:02,332 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:30:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 07:30:02,334 - DEBUG - Order Identification 218
2018-02-21 07:30:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:30:02,334 - DEBUG - Profit ID from database is 217
2018-02-21 07:30:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:30:02,334 - DEBUG - Stop ID database is 0
2018-02-21 07:30:02,335 - DEBUG - Entry ID database is 217
2018-02-21 07:30:04,332 - DEBUG - Connecting to database
2018-02-21 07:30:04,339 - DEBUG - Connected to database
2018-02-21 07:30:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,341 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:30:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,342 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:30:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,345 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:30:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,346 - DEBUG - Stop quantity 1
2018-02-21 07:30:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,348 - DEBUG - Direction is Short
2018-02-21 07:30:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,349 - DEBUG - Count is 0
2018-02-21 07:30:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:30:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:30:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:30:04,352 - DEBUG - Max ID Order is (218,)
2018-02-21 07:30:04,352 - DEBUG - Today is 2018-02-21
2018-02-21 07:30:04,354 - DEBUG - Day of the week 2
2018-02-21 07:30:04,354 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:30:04,354 - DEBUG - In Position is  0
2018-02-21 07:30:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:30:04,355 - DEBUG - curStopLossFlag is  0
2018-02-21 07:30:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:30:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 07:30:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:30:04,357 - DEBUG - EntryPend is 1
2018-02-21 07:30:04,357 - DEBUG - Try to Cancel Stop
2018-02-21 07:30:04,357 - DEBUG - Stop API ID 0
2018-02-21 07:30:04,358 - DEBUG - Profit API ID 0
2018-02-21 07:30:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:30:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:30:04,358 - DEBUG - Pos is 0
2018-02-21 07:30:04,358 - DEBUG - CurCount is 0
2018-02-21 07:30:04,358 - DEBUG - In Pos 0
2018-02-21 07:30:04,358 - DEBUG - Stop ID is 0
2018-02-21 07:30:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:30:04,361 - DEBUG - EntryPend is 1
2018-02-21 07:30:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:30:04,361 - DEBUG - Entry Date is 10
2018-02-21 07:30:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:30:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 07:30:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 07:30:04,361 - DEBUG - API ID is  0
2018-02-21 07:30:04,361 - DEBUG - Current Position is 0
2018-02-21 07:30:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:30:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:30:04,362 - DEBUG - Time is 7
2018-02-21 07:30:04,362 - DEBUG - Time is <class 'int'>
2018-02-21 07:30:04,362 - DEBUG - Disconnected from IBController
2018-02-21 07:30:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:35:00,262 - DEBUG - ****************************************************
2018-02-21 07:35:00,262 - DEBUG - Current Time is 07:35AM
2018-02-21 07:35:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:35:00,263 - DEBUG - Connecting to database
2018-02-21 07:35:00,302 - DEBUG - Connected to database
2018-02-21 07:35:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:00,303 - DEBUG - Order Profit is 217
2018-02-21 07:35:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:00,305 - DEBUG - Stop ID is 0
2018-02-21 07:35:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:00,306 - DEBUG - Entry ID is 217
2018-02-21 07:35:00,306 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:35:00,308 - DEBUG - OCA ID is 1
2018-02-21 07:35:00,309 - DEBUG - Connecting to IBController
2018-02-21 07:35:01,315 - DEBUG - Connected to IBController
2018-02-21 07:35:01,315 - DEBUG - Position requested
2018-02-21 07:35:01,316 - DEBUG - Pos Mgmt -5
2018-02-21 07:35:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD30>, pos=-5, avgCost=15412.17>
2018-02-21 07:35:01,318 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:35:01,318 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:35:01,318 - DEBUG - Position is -5
2018-02-21 07:35:01,319 - DEBUG - Pos Mgmt -12987
2018-02-21 07:35:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:35:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:35:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:35:01,319 - DEBUG - Position is -12987
2018-02-21 07:35:02,315 - DEBUG - Open Orders requested
2018-02-21 07:35:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 07:35:02,319 - DEBUG - Order OrderID 218
2018-02-21 07:35:02,319 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:35:02,319 - DEBUG - Order status PreSubmitted
2018-02-21 07:35:02,319 - DEBUG - Order Identification 218
2018-02-21 07:35:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:35:02,321 - DEBUG - Profit ID from database is 217
2018-02-21 07:35:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:35:02,321 - DEBUG - Stop ID database is 0
2018-02-21 07:35:02,321 - DEBUG - Entry ID database is 217
2018-02-21 07:35:04,319 - DEBUG - Connecting to database
2018-02-21 07:35:04,325 - DEBUG - Connected to database
2018-02-21 07:35:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,328 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:35:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,329 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:35:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,331 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:35:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,332 - DEBUG - Stop quantity 1
2018-02-21 07:35:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,335 - DEBUG - Direction is Short
2018-02-21 07:35:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,335 - DEBUG - Count is 0
2018-02-21 07:35:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:35:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:35:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:35:04,339 - DEBUG - Max ID Order is (218,)
2018-02-21 07:35:04,339 - DEBUG - Today is 2018-02-21
2018-02-21 07:35:04,341 - DEBUG - Day of the week 2
2018-02-21 07:35:04,341 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:35:04,341 - DEBUG - In Position is  0
2018-02-21 07:35:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:35:04,341 - DEBUG - curStopLossFlag is  0
2018-02-21 07:35:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:35:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 07:35:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:35:04,344 - DEBUG - EntryPend is 1
2018-02-21 07:35:04,344 - DEBUG - Try to Cancel Stop
2018-02-21 07:35:04,344 - DEBUG - Stop API ID 0
2018-02-21 07:35:04,344 - DEBUG - Profit API ID 0
2018-02-21 07:35:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:35:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:35:04,345 - DEBUG - Pos is 0
2018-02-21 07:35:04,345 - DEBUG - CurCount is 0
2018-02-21 07:35:04,345 - DEBUG - In Pos 0
2018-02-21 07:35:04,345 - DEBUG - Stop ID is 0
2018-02-21 07:35:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:35:04,346 - DEBUG - EntryPend is 1
2018-02-21 07:35:04,346 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:35:04,348 - DEBUG - Entry Date is 10
2018-02-21 07:35:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:35:04,348 - DEBUG - Order Profit ID is 217
2018-02-21 07:35:04,348 - DEBUG - Order Entry ID is 217
2018-02-21 07:35:04,348 - DEBUG - API ID is  0
2018-02-21 07:35:04,348 - DEBUG - Current Position is 0
2018-02-21 07:35:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:35:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:35:04,348 - DEBUG - Time is 7
2018-02-21 07:35:04,349 - DEBUG - Time is <class 'int'>
2018-02-21 07:35:04,349 - DEBUG - Disconnected from IBController
2018-02-21 07:35:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:40:00,266 - DEBUG - ****************************************************
2018-02-21 07:40:00,266 - DEBUG - Current Time is 07:40AM
2018-02-21 07:40:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:40:00,267 - DEBUG - Connecting to database
2018-02-21 07:40:00,290 - DEBUG - Connected to database
2018-02-21 07:40:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:00,292 - DEBUG - Order Profit is 217
2018-02-21 07:40:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:00,295 - DEBUG - Stop ID is 0
2018-02-21 07:40:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:00,296 - DEBUG - Entry ID is 217
2018-02-21 07:40:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:40:00,298 - DEBUG - OCA ID is 1
2018-02-21 07:40:00,298 - DEBUG - Connecting to IBController
2018-02-21 07:40:01,305 - DEBUG - Connected to IBController
2018-02-21 07:40:01,305 - DEBUG - Position requested
2018-02-21 07:40:01,308 - DEBUG - Pos Mgmt -5
2018-02-21 07:40:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=-5, avgCost=15412.17>
2018-02-21 07:40:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:40:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:40:01,309 - DEBUG - Position is -5
2018-02-21 07:40:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 07:40:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:40:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:40:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:40:01,309 - DEBUG - Position is -12987
2018-02-21 07:40:02,308 - DEBUG - Open Orders requested
2018-02-21 07:40:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 07:40:02,311 - DEBUG - Order OrderID 218
2018-02-21 07:40:02,311 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:40:02,311 - DEBUG - Order status PreSubmitted
2018-02-21 07:40:02,312 - DEBUG - Order Identification 218
2018-02-21 07:40:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:40:02,312 - DEBUG - Profit ID from database is 217
2018-02-21 07:40:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:40:02,312 - DEBUG - Stop ID database is 0
2018-02-21 07:40:02,312 - DEBUG - Entry ID database is 217
2018-02-21 07:40:04,309 - DEBUG - Connecting to database
2018-02-21 07:40:04,319 - DEBUG - Connected to database
2018-02-21 07:40:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,321 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:40:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,322 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:40:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,323 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:40:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,325 - DEBUG - Stop quantity 1
2018-02-21 07:40:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,326 - DEBUG - Direction is Short
2018-02-21 07:40:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,328 - DEBUG - Count is 0
2018-02-21 07:40:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:40:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:40:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:40:04,332 - DEBUG - Max ID Order is (218,)
2018-02-21 07:40:04,334 - DEBUG - Today is 2018-02-21
2018-02-21 07:40:04,334 - DEBUG - Day of the week 2
2018-02-21 07:40:04,334 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:40:04,335 - DEBUG - In Position is  0
2018-02-21 07:40:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:40:04,335 - DEBUG - curStopLossFlag is  0
2018-02-21 07:40:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:40:04,335 - DEBUG - Checking if Entry has been filled
2018-02-21 07:40:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:40:04,336 - DEBUG - EntryPend is 1
2018-02-21 07:40:04,336 - DEBUG - Try to Cancel Stop
2018-02-21 07:40:04,338 - DEBUG - Stop API ID 0
2018-02-21 07:40:04,338 - DEBUG - Profit API ID 0
2018-02-21 07:40:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:40:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:40:04,338 - DEBUG - Pos is 0
2018-02-21 07:40:04,338 - DEBUG - CurCount is 0
2018-02-21 07:40:04,338 - DEBUG - In Pos 0
2018-02-21 07:40:04,338 - DEBUG - Stop ID is 0
2018-02-21 07:40:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:40:04,341 - DEBUG - EntryPend is 1
2018-02-21 07:40:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:40:04,341 - DEBUG - Entry Date is 10
2018-02-21 07:40:04,342 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:40:04,342 - DEBUG - Order Profit ID is 217
2018-02-21 07:40:04,342 - DEBUG - Order Entry ID is 217
2018-02-21 07:40:04,342 - DEBUG - API ID is  0
2018-02-21 07:40:04,342 - DEBUG - Current Position is 0
2018-02-21 07:40:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:40:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:40:04,342 - DEBUG - Time is 7
2018-02-21 07:40:04,344 - DEBUG - Time is <class 'int'>
2018-02-21 07:40:04,344 - DEBUG - Disconnected from IBController
2018-02-21 07:40:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:45:00,276 - DEBUG - ****************************************************
2018-02-21 07:45:00,278 - DEBUG - Current Time is 07:45AM
2018-02-21 07:45:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:45:00,278 - DEBUG - Connecting to database
2018-02-21 07:45:00,298 - DEBUG - Connected to database
2018-02-21 07:45:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:00,299 - DEBUG - Order Profit is 217
2018-02-21 07:45:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:00,301 - DEBUG - Stop ID is 0
2018-02-21 07:45:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:00,302 - DEBUG - Entry ID is 217
2018-02-21 07:45:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:45:00,303 - DEBUG - OCA ID is 1
2018-02-21 07:45:00,305 - DEBUG - Connecting to IBController
2018-02-21 07:45:01,312 - DEBUG - Connected to IBController
2018-02-21 07:45:01,312 - DEBUG - Position requested
2018-02-21 07:45:01,313 - DEBUG - Pos Mgmt -5
2018-02-21 07:45:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DD30>, pos=-5, avgCost=15412.17>
2018-02-21 07:45:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:45:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:45:01,315 - DEBUG - Position is -5
2018-02-21 07:45:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 07:45:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:45:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:45:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:45:01,315 - DEBUG - Position is -12987
2018-02-21 07:45:02,312 - DEBUG - Open Orders requested
2018-02-21 07:45:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203DE48>, order=<ib.ext.Order.Order object at 0x000000000203DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-21 07:45:02,315 - DEBUG - Order OrderID 218
2018-02-21 07:45:02,315 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:45:02,316 - DEBUG - Order status PreSubmitted
2018-02-21 07:45:02,316 - DEBUG - Order Identification 218
2018-02-21 07:45:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:45:02,316 - DEBUG - Profit ID from database is 217
2018-02-21 07:45:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:45:02,318 - DEBUG - Stop ID database is 0
2018-02-21 07:45:02,318 - DEBUG - Entry ID database is 217
2018-02-21 07:45:04,315 - DEBUG - Connecting to database
2018-02-21 07:45:04,368 - DEBUG - Connected to database
2018-02-21 07:45:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,369 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:45:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,371 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:45:04,374 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,374 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:45:04,384 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,384 - DEBUG - Stop quantity 1
2018-02-21 07:45:04,387 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,387 - DEBUG - Direction is Short
2018-02-21 07:45:04,388 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,388 - DEBUG - Count is 0
2018-02-21 07:45:04,390 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:45:04,390 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:45:04,391 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:45:04,391 - DEBUG - Max ID Order is (218,)
2018-02-21 07:45:04,391 - DEBUG - Today is 2018-02-21
2018-02-21 07:45:04,392 - DEBUG - Day of the week 2
2018-02-21 07:45:04,392 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:45:04,392 - DEBUG - In Position is  0
2018-02-21 07:45:04,392 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:45:04,394 - DEBUG - curStopLossFlag is  0
2018-02-21 07:45:04,394 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:45:04,394 - DEBUG - Checking if Entry has been filled
2018-02-21 07:45:04,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:45:04,395 - DEBUG - EntryPend is 1
2018-02-21 07:45:04,395 - DEBUG - Try to Cancel Stop
2018-02-21 07:45:04,395 - DEBUG - Stop API ID 0
2018-02-21 07:45:04,395 - DEBUG - Profit API ID 0
2018-02-21 07:45:04,397 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:45:04,397 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:45:04,397 - DEBUG - Pos is 0
2018-02-21 07:45:04,397 - DEBUG - CurCount is 0
2018-02-21 07:45:04,398 - DEBUG - In Pos 0
2018-02-21 07:45:04,398 - DEBUG - Stop ID is 0
2018-02-21 07:45:04,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:45:04,400 - DEBUG - EntryPend is 1
2018-02-21 07:45:04,401 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:45:04,401 - DEBUG - Entry Date is 10
2018-02-21 07:45:04,401 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:45:04,401 - DEBUG - Order Profit ID is 217
2018-02-21 07:45:04,401 - DEBUG - Order Entry ID is 217
2018-02-21 07:45:04,401 - DEBUG - API ID is  0
2018-02-21 07:45:04,401 - DEBUG - Current Position is 0
2018-02-21 07:45:04,401 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:45:04,401 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:45:04,403 - DEBUG - Time is 7
2018-02-21 07:45:04,403 - DEBUG - Time is <class 'int'>
2018-02-21 07:45:04,403 - DEBUG - Disconnected from IBController
2018-02-21 07:45:04,404 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:50:00,263 - DEBUG - ****************************************************
2018-02-21 07:50:00,263 - DEBUG - Current Time is 07:50AM
2018-02-21 07:50:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:50:00,265 - DEBUG - Connecting to database
2018-02-21 07:50:00,305 - DEBUG - Connected to database
2018-02-21 07:50:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:00,308 - DEBUG - Order Profit is 217
2018-02-21 07:50:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:00,311 - DEBUG - Stop ID is 0
2018-02-21 07:50:00,311 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:00,312 - DEBUG - Entry ID is 217
2018-02-21 07:50:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:50:00,313 - DEBUG - OCA ID is 1
2018-02-21 07:50:00,315 - DEBUG - Connecting to IBController
2018-02-21 07:50:01,319 - DEBUG - Connected to IBController
2018-02-21 07:50:01,319 - DEBUG - Position requested
2018-02-21 07:50:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 07:50:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, pos=-5, avgCost=15412.17>
2018-02-21 07:50:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:50:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:50:01,322 - DEBUG - Position is -5
2018-02-21 07:50:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 07:50:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:50:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:50:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:50:01,323 - DEBUG - Position is -12987
2018-02-21 07:50:02,321 - DEBUG - Open Orders requested
2018-02-21 07:50:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, order=<ib.ext.Order.Order object at 0x000000000207CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-21 07:50:02,323 - DEBUG - Order OrderID 218
2018-02-21 07:50:02,323 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:50:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 07:50:02,325 - DEBUG - Order Identification 218
2018-02-21 07:50:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:50:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 07:50:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:50:02,325 - DEBUG - Stop ID database is 0
2018-02-21 07:50:02,325 - DEBUG - Entry ID database is 217
2018-02-21 07:50:04,322 - DEBUG - Connecting to database
2018-02-21 07:50:04,328 - DEBUG - Connected to database
2018-02-21 07:50:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,331 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:50:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,332 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:50:04,334 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,334 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:50:04,335 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,335 - DEBUG - Stop quantity 1
2018-02-21 07:50:04,336 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,338 - DEBUG - Direction is Short
2018-02-21 07:50:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,338 - DEBUG - Count is 0
2018-02-21 07:50:04,341 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:50:04,341 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:50:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:50:04,342 - DEBUG - Max ID Order is (218,)
2018-02-21 07:50:04,342 - DEBUG - Today is 2018-02-21
2018-02-21 07:50:04,344 - DEBUG - Day of the week 2
2018-02-21 07:50:04,344 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:50:04,344 - DEBUG - In Position is  0
2018-02-21 07:50:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:50:04,345 - DEBUG - curStopLossFlag is  0
2018-02-21 07:50:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:50:04,345 - DEBUG - Checking if Entry has been filled
2018-02-21 07:50:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:50:04,346 - DEBUG - EntryPend is 1
2018-02-21 07:50:04,346 - DEBUG - Try to Cancel Stop
2018-02-21 07:50:04,346 - DEBUG - Stop API ID 0
2018-02-21 07:50:04,346 - DEBUG - Profit API ID 0
2018-02-21 07:50:04,346 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:50:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:50:04,348 - DEBUG - Pos is 0
2018-02-21 07:50:04,348 - DEBUG - CurCount is 0
2018-02-21 07:50:04,348 - DEBUG - In Pos 0
2018-02-21 07:50:04,348 - DEBUG - Stop ID is 0
2018-02-21 07:50:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:50:04,349 - DEBUG - EntryPend is 1
2018-02-21 07:50:04,349 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:50:04,351 - DEBUG - Entry Date is 10
2018-02-21 07:50:04,351 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:50:04,351 - DEBUG - Order Profit ID is 217
2018-02-21 07:50:04,351 - DEBUG - Order Entry ID is 217
2018-02-21 07:50:04,351 - DEBUG - API ID is  0
2018-02-21 07:50:04,351 - DEBUG - Current Position is 0
2018-02-21 07:50:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:50:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:50:04,352 - DEBUG - Time is 7
2018-02-21 07:50:04,352 - DEBUG - Time is <class 'int'>
2018-02-21 07:50:04,352 - DEBUG - Disconnected from IBController
2018-02-21 07:50:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 07:55:00,263 - DEBUG - ****************************************************
2018-02-21 07:55:00,263 - DEBUG - Current Time is 07:55AM
2018-02-21 07:55:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 07:55:00,263 - DEBUG - Connecting to database
2018-02-21 07:55:00,286 - DEBUG - Connected to database
2018-02-21 07:55:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:00,288 - DEBUG - Order Profit is 217
2018-02-21 07:55:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:00,289 - DEBUG - Stop ID is 0
2018-02-21 07:55:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:00,290 - DEBUG - Entry ID is 217
2018-02-21 07:55:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 07:55:00,292 - DEBUG - OCA ID is 1
2018-02-21 07:55:00,292 - DEBUG - Connecting to IBController
2018-02-21 07:55:01,299 - DEBUG - Connected to IBController
2018-02-21 07:55:01,299 - DEBUG - Position requested
2018-02-21 07:55:01,302 - DEBUG - Pos Mgmt -5
2018-02-21 07:55:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACA58>, pos=-5, avgCost=15412.17>
2018-02-21 07:55:01,303 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 07:55:01,303 - DEBUG - ccy2 Currency with position is USD
2018-02-21 07:55:01,305 - DEBUG - Position is -5
2018-02-21 07:55:01,305 - DEBUG - Pos Mgmt -12987
2018-02-21 07:55:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 07:55:01,305 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 07:55:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 07:55:01,305 - DEBUG - Position is -12987
2018-02-21 07:55:02,303 - DEBUG - Open Orders requested
2018-02-21 07:55:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE48>, order=<ib.ext.Order.Order object at 0x00000000020ACDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 07:55:02,306 - DEBUG - Order OrderID 218
2018-02-21 07:55:02,306 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 07:55:02,308 - DEBUG - Order status PreSubmitted
2018-02-21 07:55:02,308 - DEBUG - Order Identification 218
2018-02-21 07:55:02,308 - DEBUG - Order Identification <class 'int'>
2018-02-21 07:55:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 07:55:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 07:55:02,309 - DEBUG - Stop ID database is 0
2018-02-21 07:55:02,309 - DEBUG - Entry ID database is 217
2018-02-21 07:55:04,306 - DEBUG - Connecting to database
2018-02-21 07:55:04,313 - DEBUG - Connected to database
2018-02-21 07:55:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,315 - DEBUG - Stop loss value is 2738.25
2018-02-21 07:55:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,318 - DEBUG - Stop loss value is 2695.0
2018-02-21 07:55:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,319 - DEBUG - EntryPrice value is 2704.5
2018-02-21 07:55:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,321 - DEBUG - Stop quantity 1
2018-02-21 07:55:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,322 - DEBUG - Direction is Short
2018-02-21 07:55:04,323 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,325 - DEBUG - Count is 0
2018-02-21 07:55:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 07:55:04,325 - DEBUG - Stop Loss Flag is 0
2018-02-21 07:55:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 07:55:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 07:55:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 07:55:04,328 - DEBUG - Day of the week 2
2018-02-21 07:55:04,328 - DEBUG - Yesterday is 02/20/2018
2018-02-21 07:55:04,328 - DEBUG - In Position is  0
2018-02-21 07:55:04,328 - DEBUG - In Position is  <class 'int'>
2018-02-21 07:55:04,329 - DEBUG - curStopLossFlag is  0
2018-02-21 07:55:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 07:55:04,329 - DEBUG - Checking if Entry has been filled
2018-02-21 07:55:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:55:04,332 - DEBUG - EntryPend is 1
2018-02-21 07:55:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 07:55:04,332 - DEBUG - Stop API ID 0
2018-02-21 07:55:04,332 - DEBUG - Profit API ID 0
2018-02-21 07:55:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-21 07:55:04,332 - DEBUG - Profit API ID <class 'int'>
2018-02-21 07:55:04,332 - DEBUG - Pos is 0
2018-02-21 07:55:04,332 - DEBUG - CurCount is 0
2018-02-21 07:55:04,334 - DEBUG - In Pos 0
2018-02-21 07:55:04,334 - DEBUG - Stop ID is 0
2018-02-21 07:55:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 07:55:04,335 - DEBUG - EntryPend is 1
2018-02-21 07:55:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 07:55:04,335 - DEBUG - Entry Date is 10
2018-02-21 07:55:04,335 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 07:55:04,335 - DEBUG - Order Profit ID is 217
2018-02-21 07:55:04,336 - DEBUG - Order Entry ID is 217
2018-02-21 07:55:04,336 - DEBUG - API ID is  0
2018-02-21 07:55:04,336 - DEBUG - Current Position is 0
2018-02-21 07:55:04,336 - DEBUG - Current Position is <class 'str'>
2018-02-21 07:55:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 07:55:04,338 - DEBUG - Time is 7
2018-02-21 07:55:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 07:55:04,338 - DEBUG - Disconnected from IBController
2018-02-21 07:55:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:00:00,267 - DEBUG - ****************************************************
2018-02-21 08:00:00,269 - DEBUG - Current Time is 08:00AM
2018-02-21 08:00:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:00:00,269 - DEBUG - Connecting to database
2018-02-21 08:00:00,302 - DEBUG - Connected to database
2018-02-21 08:00:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:00,303 - DEBUG - Order Profit is 217
2018-02-21 08:00:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:00,305 - DEBUG - Stop ID is 0
2018-02-21 08:00:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:00,308 - DEBUG - Entry ID is 217
2018-02-21 08:00:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:00:00,309 - DEBUG - OCA ID is 1
2018-02-21 08:00:00,309 - DEBUG - Connecting to IBController
2018-02-21 08:00:01,315 - DEBUG - Connected to IBController
2018-02-21 08:00:01,315 - DEBUG - Position requested
2018-02-21 08:00:01,318 - DEBUG - Pos Mgmt -5
2018-02-21 08:00:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, pos=-5, avgCost=15412.17>
2018-02-21 08:00:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:00:01,319 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:00:01,319 - DEBUG - Position is -5
2018-02-21 08:00:01,319 - DEBUG - Pos Mgmt -12987
2018-02-21 08:00:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:00:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:00:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:00:01,321 - DEBUG - Position is -12987
2018-02-21 08:00:02,316 - DEBUG - Open Orders requested
2018-02-21 08:00:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-21 08:00:02,319 - DEBUG - Order OrderID 218
2018-02-21 08:00:02,319 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:00:02,319 - DEBUG - Order status PreSubmitted
2018-02-21 08:00:02,321 - DEBUG - Order Identification 218
2018-02-21 08:00:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:00:02,321 - DEBUG - Profit ID from database is 217
2018-02-21 08:00:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:00:02,322 - DEBUG - Stop ID database is 0
2018-02-21 08:00:02,322 - DEBUG - Entry ID database is 217
2018-02-21 08:00:04,319 - DEBUG - Connecting to database
2018-02-21 08:00:04,325 - DEBUG - Connected to database
2018-02-21 08:00:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,328 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:00:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,329 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:00:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,332 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:00:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,332 - DEBUG - Stop quantity 1
2018-02-21 08:00:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,335 - DEBUG - Direction is Short
2018-02-21 08:00:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,336 - DEBUG - Count is 0
2018-02-21 08:00:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:00:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:00:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:00:04,341 - DEBUG - Max ID Order is (218,)
2018-02-21 08:00:04,341 - DEBUG - Today is 2018-02-21
2018-02-21 08:00:04,341 - DEBUG - Day of the week 2
2018-02-21 08:00:04,342 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:00:04,342 - DEBUG - In Position is  0
2018-02-21 08:00:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:00:04,342 - DEBUG - curStopLossFlag is  0
2018-02-21 08:00:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:00:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 08:00:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:00:04,344 - DEBUG - EntryPend is 1
2018-02-21 08:00:04,345 - DEBUG - Try to Cancel Stop
2018-02-21 08:00:04,345 - DEBUG - Stop API ID 0
2018-02-21 08:00:04,345 - DEBUG - Profit API ID 0
2018-02-21 08:00:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:00:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:00:04,345 - DEBUG - Pos is 0
2018-02-21 08:00:04,345 - DEBUG - CurCount is 0
2018-02-21 08:00:04,345 - DEBUG - In Pos 0
2018-02-21 08:00:04,346 - DEBUG - Stop ID is 0
2018-02-21 08:00:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:00:04,348 - DEBUG - EntryPend is 1
2018-02-21 08:00:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:00:04,348 - DEBUG - Entry Date is 10
2018-02-21 08:00:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:00:04,348 - DEBUG - Order Profit ID is 217
2018-02-21 08:00:04,348 - DEBUG - Order Entry ID is 217
2018-02-21 08:00:04,349 - DEBUG - API ID is  0
2018-02-21 08:00:04,349 - DEBUG - Current Position is 0
2018-02-21 08:00:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:00:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:00:04,351 - DEBUG - Time is 8
2018-02-21 08:00:04,351 - DEBUG - Time is <class 'int'>
2018-02-21 08:00:04,351 - DEBUG - Disconnected from IBController
2018-02-21 08:00:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:05:00,267 - DEBUG - ****************************************************
2018-02-21 08:05:00,269 - DEBUG - Current Time is 08:05AM
2018-02-21 08:05:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:05:00,269 - DEBUG - Connecting to database
2018-02-21 08:05:00,288 - DEBUG - Connected to database
2018-02-21 08:05:00,288 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:00,289 - DEBUG - Order Profit is 217
2018-02-21 08:05:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:00,290 - DEBUG - Stop ID is 0
2018-02-21 08:05:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:00,292 - DEBUG - Entry ID is 217
2018-02-21 08:05:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:05:00,295 - DEBUG - OCA ID is 1
2018-02-21 08:05:00,295 - DEBUG - Connecting to IBController
2018-02-21 08:05:01,301 - DEBUG - Connected to IBController
2018-02-21 08:05:01,301 - DEBUG - Position requested
2018-02-21 08:05:01,302 - DEBUG - Pos Mgmt -5
2018-02-21 08:05:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, pos=-5, avgCost=15412.17>
2018-02-21 08:05:01,303 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:05:01,303 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:05:01,303 - DEBUG - Position is -5
2018-02-21 08:05:01,305 - DEBUG - Pos Mgmt -12987
2018-02-21 08:05:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:05:01,305 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:05:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:05:01,305 - DEBUG - Position is -12987
2018-02-21 08:05:02,302 - DEBUG - Open Orders requested
2018-02-21 08:05:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-21 08:05:02,305 - DEBUG - Order OrderID 218
2018-02-21 08:05:02,305 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:05:02,306 - DEBUG - Order status PreSubmitted
2018-02-21 08:05:02,306 - DEBUG - Order Identification 218
2018-02-21 08:05:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:05:02,308 - DEBUG - Profit ID from database is 217
2018-02-21 08:05:02,308 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:05:02,308 - DEBUG - Stop ID database is 0
2018-02-21 08:05:02,308 - DEBUG - Entry ID database is 217
2018-02-21 08:05:04,302 - DEBUG - Connecting to database
2018-02-21 08:05:04,309 - DEBUG - Connected to database
2018-02-21 08:05:04,312 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,312 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:05:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,313 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:05:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,315 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:05:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,316 - DEBUG - Stop quantity 1
2018-02-21 08:05:04,319 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,319 - DEBUG - Direction is Short
2018-02-21 08:05:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,321 - DEBUG - Count is 0
2018-02-21 08:05:04,322 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:05:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:05:04,323 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:05:04,323 - DEBUG - Max ID Order is (218,)
2018-02-21 08:05:04,323 - DEBUG - Today is 2018-02-21
2018-02-21 08:05:04,325 - DEBUG - Day of the week 2
2018-02-21 08:05:04,325 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:05:04,325 - DEBUG - In Position is  0
2018-02-21 08:05:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:05:04,325 - DEBUG - curStopLossFlag is  0
2018-02-21 08:05:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:05:04,325 - DEBUG - Checking if Entry has been filled
2018-02-21 08:05:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:05:04,328 - DEBUG - EntryPend is 1
2018-02-21 08:05:04,328 - DEBUG - Try to Cancel Stop
2018-02-21 08:05:04,328 - DEBUG - Stop API ID 0
2018-02-21 08:05:04,328 - DEBUG - Profit API ID 0
2018-02-21 08:05:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:05:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:05:04,328 - DEBUG - Pos is 0
2018-02-21 08:05:04,329 - DEBUG - CurCount is 0
2018-02-21 08:05:04,329 - DEBUG - In Pos 0
2018-02-21 08:05:04,329 - DEBUG - Stop ID is 0
2018-02-21 08:05:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:05:04,332 - DEBUG - EntryPend is 1
2018-02-21 08:05:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:05:04,332 - DEBUG - Entry Date is 10
2018-02-21 08:05:04,332 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:05:04,332 - DEBUG - Order Profit ID is 217
2018-02-21 08:05:04,332 - DEBUG - Order Entry ID is 217
2018-02-21 08:05:04,332 - DEBUG - API ID is  0
2018-02-21 08:05:04,332 - DEBUG - Current Position is 0
2018-02-21 08:05:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:05:04,334 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:05:04,334 - DEBUG - Time is 8
2018-02-21 08:05:04,334 - DEBUG - Time is <class 'int'>
2018-02-21 08:05:04,334 - DEBUG - Disconnected from IBController
2018-02-21 08:05:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:10:00,267 - DEBUG - ****************************************************
2018-02-21 08:10:00,267 - DEBUG - Current Time is 08:10AM
2018-02-21 08:10:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:10:00,269 - DEBUG - Connecting to database
2018-02-21 08:10:00,313 - DEBUG - Connected to database
2018-02-21 08:10:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:00,315 - DEBUG - Order Profit is 217
2018-02-21 08:10:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:00,316 - DEBUG - Stop ID is 0
2018-02-21 08:10:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:00,319 - DEBUG - Entry ID is 217
2018-02-21 08:10:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:10:00,319 - DEBUG - OCA ID is 1
2018-02-21 08:10:00,321 - DEBUG - Connecting to IBController
2018-02-21 08:10:01,328 - DEBUG - Connected to IBController
2018-02-21 08:10:01,328 - DEBUG - Position requested
2018-02-21 08:10:01,329 - DEBUG - Pos Mgmt -5
2018-02-21 08:10:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CDA0>, pos=-5, avgCost=15412.17>
2018-02-21 08:10:01,331 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:10:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:10:01,331 - DEBUG - Position is -5
2018-02-21 08:10:01,331 - DEBUG - Pos Mgmt -12987
2018-02-21 08:10:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:10:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:10:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:10:01,332 - DEBUG - Position is -12987
2018-02-21 08:10:02,328 - DEBUG - Open Orders requested
2018-02-21 08:10:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000209CDD8>, order=<ib.ext.Order.Order object at 0x000000000209CE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-21 08:10:02,331 - DEBUG - Order OrderID 218
2018-02-21 08:10:02,332 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:10:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 08:10:02,332 - DEBUG - Order Identification 218
2018-02-21 08:10:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:10:02,332 - DEBUG - Profit ID from database is 217
2018-02-21 08:10:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:10:02,334 - DEBUG - Stop ID database is 0
2018-02-21 08:10:02,334 - DEBUG - Entry ID database is 217
2018-02-21 08:10:04,331 - DEBUG - Connecting to database
2018-02-21 08:10:04,338 - DEBUG - Connected to database
2018-02-21 08:10:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,341 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:10:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,342 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:10:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,344 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:10:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,345 - DEBUG - Stop quantity 1
2018-02-21 08:10:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,346 - DEBUG - Direction is Short
2018-02-21 08:10:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,348 - DEBUG - Count is 0
2018-02-21 08:10:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:10:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:10:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:10:04,352 - DEBUG - Max ID Order is (218,)
2018-02-21 08:10:04,352 - DEBUG - Today is 2018-02-21
2018-02-21 08:10:04,352 - DEBUG - Day of the week 2
2018-02-21 08:10:04,354 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:10:04,354 - DEBUG - In Position is  0
2018-02-21 08:10:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:10:04,354 - DEBUG - curStopLossFlag is  0
2018-02-21 08:10:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:10:04,355 - DEBUG - Checking if Entry has been filled
2018-02-21 08:10:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:10:04,355 - DEBUG - EntryPend is 1
2018-02-21 08:10:04,357 - DEBUG - Try to Cancel Stop
2018-02-21 08:10:04,357 - DEBUG - Stop API ID 0
2018-02-21 08:10:04,357 - DEBUG - Profit API ID 0
2018-02-21 08:10:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:10:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:10:04,358 - DEBUG - Pos is 0
2018-02-21 08:10:04,358 - DEBUG - CurCount is 0
2018-02-21 08:10:04,358 - DEBUG - In Pos 0
2018-02-21 08:10:04,358 - DEBUG - Stop ID is 0
2018-02-21 08:10:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:10:04,359 - DEBUG - EntryPend is 1
2018-02-21 08:10:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:10:04,361 - DEBUG - Entry Date is 10
2018-02-21 08:10:04,361 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:10:04,361 - DEBUG - Order Profit ID is 217
2018-02-21 08:10:04,361 - DEBUG - Order Entry ID is 217
2018-02-21 08:10:04,361 - DEBUG - API ID is  0
2018-02-21 08:10:04,361 - DEBUG - Current Position is 0
2018-02-21 08:10:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:10:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:10:04,361 - DEBUG - Time is 8
2018-02-21 08:10:04,361 - DEBUG - Time is <class 'int'>
2018-02-21 08:10:04,362 - DEBUG - Disconnected from IBController
2018-02-21 08:10:04,362 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:15:00,262 - DEBUG - ****************************************************
2018-02-21 08:15:00,262 - DEBUG - Current Time is 08:15AM
2018-02-21 08:15:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:15:00,263 - DEBUG - Connecting to database
2018-02-21 08:15:00,345 - DEBUG - Connected to database
2018-02-21 08:15:00,346 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:00,358 - DEBUG - Order Profit is 217
2018-02-21 08:15:00,358 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:00,397 - DEBUG - Stop ID is 0
2018-02-21 08:15:00,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:00,411 - DEBUG - Entry ID is 217
2018-02-21 08:15:00,413 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:15:00,414 - DEBUG - OCA ID is 1
2018-02-21 08:15:00,414 - DEBUG - Connecting to IBController
2018-02-21 08:15:01,420 - DEBUG - Connected to IBController
2018-02-21 08:15:01,420 - DEBUG - Position requested
2018-02-21 08:15:01,421 - DEBUG - Pos Mgmt -5
2018-02-21 08:15:01,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CDA0>, pos=-5, avgCost=15412.17>
2018-02-21 08:15:01,423 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:15:01,423 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:15:01,423 - DEBUG - Position is -5
2018-02-21 08:15:01,424 - DEBUG - Pos Mgmt -12987
2018-02-21 08:15:01,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:15:01,424 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:15:01,424 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:15:01,424 - DEBUG - Position is -12987
2018-02-21 08:15:02,421 - DEBUG - Open Orders requested
2018-02-21 08:15:02,423 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203CDA0>, order=<ib.ext.Order.Order object at 0x000000000203CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-21 08:15:02,424 - DEBUG - Order OrderID 218
2018-02-21 08:15:02,424 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:15:02,424 - DEBUG - Order status PreSubmitted
2018-02-21 08:15:02,424 - DEBUG - Order Identification 218
2018-02-21 08:15:02,424 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:15:02,424 - DEBUG - Profit ID from database is 217
2018-02-21 08:15:02,427 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:15:02,428 - DEBUG - Stop ID database is 0
2018-02-21 08:15:02,428 - DEBUG - Entry ID database is 217
2018-02-21 08:15:04,421 - DEBUG - Connecting to database
2018-02-21 08:15:04,427 - DEBUG - Connected to database
2018-02-21 08:15:04,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,430 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:15:04,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,431 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:15:04,433 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,433 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:15:04,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,434 - DEBUG - Stop quantity 1
2018-02-21 08:15:04,436 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,437 - DEBUG - Direction is Short
2018-02-21 08:15:04,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,437 - DEBUG - Count is 0
2018-02-21 08:15:04,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:15:04,440 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:15:04,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:15:04,441 - DEBUG - Max ID Order is (218,)
2018-02-21 08:15:04,441 - DEBUG - Today is 2018-02-21
2018-02-21 08:15:04,443 - DEBUG - Day of the week 2
2018-02-21 08:15:04,443 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:15:04,443 - DEBUG - In Position is  0
2018-02-21 08:15:04,443 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:15:04,444 - DEBUG - curStopLossFlag is  0
2018-02-21 08:15:04,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:15:04,444 - DEBUG - Checking if Entry has been filled
2018-02-21 08:15:04,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:15:04,446 - DEBUG - EntryPend is 1
2018-02-21 08:15:04,446 - DEBUG - Try to Cancel Stop
2018-02-21 08:15:04,446 - DEBUG - Stop API ID 0
2018-02-21 08:15:04,446 - DEBUG - Profit API ID 0
2018-02-21 08:15:04,447 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:15:04,447 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:15:04,447 - DEBUG - Pos is 0
2018-02-21 08:15:04,447 - DEBUG - CurCount is 0
2018-02-21 08:15:04,447 - DEBUG - In Pos 0
2018-02-21 08:15:04,447 - DEBUG - Stop ID is 0
2018-02-21 08:15:04,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:15:04,450 - DEBUG - EntryPend is 1
2018-02-21 08:15:04,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:15:04,450 - DEBUG - Entry Date is 10
2018-02-21 08:15:04,450 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:15:04,450 - DEBUG - Order Profit ID is 217
2018-02-21 08:15:04,450 - DEBUG - Order Entry ID is 217
2018-02-21 08:15:04,450 - DEBUG - API ID is  0
2018-02-21 08:15:04,450 - DEBUG - Current Position is 0
2018-02-21 08:15:04,451 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:15:04,451 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:15:04,451 - DEBUG - Time is 8
2018-02-21 08:15:04,451 - DEBUG - Time is <class 'int'>
2018-02-21 08:15:04,453 - DEBUG - Disconnected from IBController
2018-02-21 08:15:04,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:20:00,267 - DEBUG - ****************************************************
2018-02-21 08:20:00,267 - DEBUG - Current Time is 08:20AM
2018-02-21 08:20:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:20:00,269 - DEBUG - Connecting to database
2018-02-21 08:20:00,309 - DEBUG - Connected to database
2018-02-21 08:20:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:00,312 - DEBUG - Order Profit is 217
2018-02-21 08:20:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:00,313 - DEBUG - Stop ID is 0
2018-02-21 08:20:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:00,315 - DEBUG - Entry ID is 217
2018-02-21 08:20:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:20:00,316 - DEBUG - OCA ID is 1
2018-02-21 08:20:00,318 - DEBUG - Connecting to IBController
2018-02-21 08:20:01,322 - DEBUG - Connected to IBController
2018-02-21 08:20:01,322 - DEBUG - Position requested
2018-02-21 08:20:01,325 - DEBUG - Pos Mgmt -5
2018-02-21 08:20:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, pos=-5, avgCost=15412.17>
2018-02-21 08:20:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:20:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:20:01,325 - DEBUG - Position is -5
2018-02-21 08:20:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 08:20:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:20:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:20:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:20:01,326 - DEBUG - Position is -12987
2018-02-21 08:20:02,325 - DEBUG - Open Orders requested
2018-02-21 08:20:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161128>>
2018-02-21 08:20:02,328 - DEBUG - Order OrderID 218
2018-02-21 08:20:02,328 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:20:02,328 - DEBUG - Order status PreSubmitted
2018-02-21 08:20:02,328 - DEBUG - Order Identification 218
2018-02-21 08:20:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:20:02,328 - DEBUG - Profit ID from database is 217
2018-02-21 08:20:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:20:02,329 - DEBUG - Stop ID database is 0
2018-02-21 08:20:02,329 - DEBUG - Entry ID database is 217
2018-02-21 08:20:04,326 - DEBUG - Connecting to database
2018-02-21 08:20:04,334 - DEBUG - Connected to database
2018-02-21 08:20:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,335 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:20:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:20:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,339 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:20:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,341 - DEBUG - Stop quantity 1
2018-02-21 08:20:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,342 - DEBUG - Direction is Short
2018-02-21 08:20:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,345 - DEBUG - Count is 0
2018-02-21 08:20:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:20:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:20:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:20:04,348 - DEBUG - Max ID Order is (218,)
2018-02-21 08:20:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 08:20:04,348 - DEBUG - Day of the week 2
2018-02-21 08:20:04,348 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:20:04,348 - DEBUG - In Position is  0
2018-02-21 08:20:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:20:04,349 - DEBUG - curStopLossFlag is  0
2018-02-21 08:20:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:20:04,349 - DEBUG - Checking if Entry has been filled
2018-02-21 08:20:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:20:04,351 - DEBUG - EntryPend is 1
2018-02-21 08:20:04,351 - DEBUG - Try to Cancel Stop
2018-02-21 08:20:04,351 - DEBUG - Stop API ID 0
2018-02-21 08:20:04,351 - DEBUG - Profit API ID 0
2018-02-21 08:20:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:20:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:20:04,352 - DEBUG - Pos is 0
2018-02-21 08:20:04,352 - DEBUG - CurCount is 0
2018-02-21 08:20:04,354 - DEBUG - In Pos 0
2018-02-21 08:20:04,354 - DEBUG - Stop ID is 0
2018-02-21 08:20:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:20:04,355 - DEBUG - EntryPend is 1
2018-02-21 08:20:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:20:04,355 - DEBUG - Entry Date is 10
2018-02-21 08:20:04,355 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:20:04,355 - DEBUG - Order Profit ID is 217
2018-02-21 08:20:04,357 - DEBUG - Order Entry ID is 217
2018-02-21 08:20:04,357 - DEBUG - API ID is  0
2018-02-21 08:20:04,357 - DEBUG - Current Position is 0
2018-02-21 08:20:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:20:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:20:04,358 - DEBUG - Time is 8
2018-02-21 08:20:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 08:20:04,358 - DEBUG - Disconnected from IBController
2018-02-21 08:20:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:25:00,270 - DEBUG - ****************************************************
2018-02-21 08:25:00,272 - DEBUG - Current Time is 08:25AM
2018-02-21 08:25:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:25:00,273 - DEBUG - Connecting to database
2018-02-21 08:25:00,301 - DEBUG - Connected to database
2018-02-21 08:25:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:00,302 - DEBUG - Order Profit is 217
2018-02-21 08:25:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:00,303 - DEBUG - Stop ID is 0
2018-02-21 08:25:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:00,305 - DEBUG - Entry ID is 217
2018-02-21 08:25:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:25:00,308 - DEBUG - OCA ID is 1
2018-02-21 08:25:00,308 - DEBUG - Connecting to IBController
2018-02-21 08:25:01,325 - DEBUG - Connected to IBController
2018-02-21 08:25:01,325 - DEBUG - Position requested
2018-02-21 08:25:01,328 - DEBUG - Pos Mgmt -5
2018-02-21 08:25:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=-5, avgCost=15412.17>
2018-02-21 08:25:01,328 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:25:01,328 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:25:01,328 - DEBUG - Position is -5
2018-02-21 08:25:01,329 - DEBUG - Pos Mgmt -12987
2018-02-21 08:25:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:25:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:25:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:25:01,331 - DEBUG - Position is -12987
2018-02-21 08:25:02,328 - DEBUG - Open Orders requested
2018-02-21 08:25:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-21 08:25:02,331 - DEBUG - Order OrderID 218
2018-02-21 08:25:02,331 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:25:02,332 - DEBUG - Order status PreSubmitted
2018-02-21 08:25:02,332 - DEBUG - Order Identification 218
2018-02-21 08:25:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:25:02,332 - DEBUG - Profit ID from database is 217
2018-02-21 08:25:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:25:02,332 - DEBUG - Stop ID database is 0
2018-02-21 08:25:02,332 - DEBUG - Entry ID database is 217
2018-02-21 08:25:04,328 - DEBUG - Connecting to database
2018-02-21 08:25:04,335 - DEBUG - Connected to database
2018-02-21 08:25:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,336 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:25:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,338 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:25:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,339 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:25:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,342 - DEBUG - Stop quantity 1
2018-02-21 08:25:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,344 - DEBUG - Direction is Short
2018-02-21 08:25:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,345 - DEBUG - Count is 0
2018-02-21 08:25:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:25:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:25:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:25:04,348 - DEBUG - Max ID Order is (218,)
2018-02-21 08:25:04,348 - DEBUG - Today is 2018-02-21
2018-02-21 08:25:04,348 - DEBUG - Day of the week 2
2018-02-21 08:25:04,349 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:25:04,349 - DEBUG - In Position is  0
2018-02-21 08:25:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:25:04,349 - DEBUG - curStopLossFlag is  0
2018-02-21 08:25:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:25:04,351 - DEBUG - Checking if Entry has been filled
2018-02-21 08:25:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:25:04,351 - DEBUG - EntryPend is 1
2018-02-21 08:25:04,352 - DEBUG - Try to Cancel Stop
2018-02-21 08:25:04,352 - DEBUG - Stop API ID 0
2018-02-21 08:25:04,352 - DEBUG - Profit API ID 0
2018-02-21 08:25:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:25:04,354 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:25:04,354 - DEBUG - Pos is 0
2018-02-21 08:25:04,354 - DEBUG - CurCount is 0
2018-02-21 08:25:04,354 - DEBUG - In Pos 0
2018-02-21 08:25:04,355 - DEBUG - Stop ID is 0
2018-02-21 08:25:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:25:04,355 - DEBUG - EntryPend is 1
2018-02-21 08:25:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:25:04,357 - DEBUG - Entry Date is 10
2018-02-21 08:25:04,357 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:25:04,357 - DEBUG - Order Profit ID is 217
2018-02-21 08:25:04,357 - DEBUG - Order Entry ID is 217
2018-02-21 08:25:04,357 - DEBUG - API ID is  0
2018-02-21 08:25:04,358 - DEBUG - Current Position is 0
2018-02-21 08:25:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:25:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:25:04,358 - DEBUG - Time is 8
2018-02-21 08:25:04,358 - DEBUG - Time is <class 'int'>
2018-02-21 08:25:04,358 - DEBUG - Disconnected from IBController
2018-02-21 08:25:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:30:00,266 - DEBUG - ****************************************************
2018-02-21 08:30:00,266 - DEBUG - Current Time is 08:30AM
2018-02-21 08:30:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:30:00,266 - DEBUG - Connecting to database
2018-02-21 08:30:00,296 - DEBUG - Connected to database
2018-02-21 08:30:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:00,298 - DEBUG - Order Profit is 217
2018-02-21 08:30:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:00,299 - DEBUG - Stop ID is 0
2018-02-21 08:30:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:00,302 - DEBUG - Entry ID is 217
2018-02-21 08:30:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:30:00,303 - DEBUG - OCA ID is 1
2018-02-21 08:30:00,303 - DEBUG - Connecting to IBController
2018-02-21 08:30:01,312 - DEBUG - Connected to IBController
2018-02-21 08:30:01,312 - DEBUG - Position requested
2018-02-21 08:30:01,313 - DEBUG - Pos Mgmt -5
2018-02-21 08:30:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=-5, avgCost=15412.17>
2018-02-21 08:30:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:30:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:30:01,315 - DEBUG - Position is -5
2018-02-21 08:30:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 08:30:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:30:01,322 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:30:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:30:01,323 - DEBUG - Position is -12987
2018-02-21 08:30:02,313 - DEBUG - Open Orders requested
2018-02-21 08:30:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 08:30:02,316 - DEBUG - Order OrderID 218
2018-02-21 08:30:02,316 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:30:02,318 - DEBUG - Order status PreSubmitted
2018-02-21 08:30:02,318 - DEBUG - Order Identification 218
2018-02-21 08:30:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:30:02,319 - DEBUG - Profit ID from database is 217
2018-02-21 08:30:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:30:02,319 - DEBUG - Stop ID database is 0
2018-02-21 08:30:02,319 - DEBUG - Entry ID database is 217
2018-02-21 08:30:04,316 - DEBUG - Connecting to database
2018-02-21 08:30:04,325 - DEBUG - Connected to database
2018-02-21 08:30:04,326 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,326 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:30:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,328 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:30:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,331 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:30:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,332 - DEBUG - Stop quantity 1
2018-02-21 08:30:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,335 - DEBUG - Direction is Short
2018-02-21 08:30:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,335 - DEBUG - Count is 0
2018-02-21 08:30:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:30:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:30:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:30:04,339 - DEBUG - Max ID Order is (218,)
2018-02-21 08:30:04,339 - DEBUG - Today is 2018-02-21
2018-02-21 08:30:04,339 - DEBUG - Day of the week 2
2018-02-21 08:30:04,341 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:30:04,341 - DEBUG - In Position is  0
2018-02-21 08:30:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:30:04,341 - DEBUG - curStopLossFlag is  0
2018-02-21 08:30:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:30:04,342 - DEBUG - Checking if Entry has been filled
2018-02-21 08:30:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:30:04,344 - DEBUG - EntryPend is 1
2018-02-21 08:30:04,344 - DEBUG - Try to Cancel Stop
2018-02-21 08:30:04,344 - DEBUG - Stop API ID 0
2018-02-21 08:30:04,344 - DEBUG - Profit API ID 0
2018-02-21 08:30:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:30:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:30:04,345 - DEBUG - Pos is 0
2018-02-21 08:30:04,345 - DEBUG - CurCount is 0
2018-02-21 08:30:04,345 - DEBUG - In Pos 0
2018-02-21 08:30:04,345 - DEBUG - Stop ID is 0
2018-02-21 08:30:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:30:04,346 - DEBUG - EntryPend is 1
2018-02-21 08:30:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:30:04,348 - DEBUG - Entry Date is 10
2018-02-21 08:30:04,348 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:30:04,348 - DEBUG - Order Profit ID is 217
2018-02-21 08:30:04,348 - DEBUG - Order Entry ID is 217
2018-02-21 08:30:04,348 - DEBUG - API ID is  0
2018-02-21 08:30:04,348 - DEBUG - Current Position is 0
2018-02-21 08:30:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:30:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:30:04,349 - DEBUG - Time is 8
2018-02-21 08:30:04,349 - DEBUG - Time is <class 'int'>
2018-02-21 08:30:04,349 - DEBUG - Disconnected from IBController
2018-02-21 08:30:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:35:00,257 - DEBUG - ****************************************************
2018-02-21 08:35:00,259 - DEBUG - Current Time is 08:35AM
2018-02-21 08:35:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:35:00,259 - DEBUG - Connecting to database
2018-02-21 08:35:00,278 - DEBUG - Connected to database
2018-02-21 08:35:00,279 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:00,282 - DEBUG - Order Profit is 217
2018-02-21 08:35:00,282 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:00,283 - DEBUG - Stop ID is 0
2018-02-21 08:35:00,285 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:00,286 - DEBUG - Entry ID is 217
2018-02-21 08:35:00,286 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:35:00,288 - DEBUG - OCA ID is 1
2018-02-21 08:35:00,288 - DEBUG - Connecting to IBController
2018-02-21 08:35:01,296 - DEBUG - Connected to IBController
2018-02-21 08:35:01,296 - DEBUG - Position requested
2018-02-21 08:35:01,298 - DEBUG - Pos Mgmt -5
2018-02-21 08:35:01,298 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, pos=-5, avgCost=15412.17>
2018-02-21 08:35:01,299 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:35:01,299 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:35:01,299 - DEBUG - Position is -5
2018-02-21 08:35:01,299 - DEBUG - Pos Mgmt -12987
2018-02-21 08:35:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:35:01,299 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:35:01,299 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:35:01,301 - DEBUG - Position is -12987
2018-02-21 08:35:02,298 - DEBUG - Open Orders requested
2018-02-21 08:35:02,299 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 08:35:02,301 - DEBUG - Order OrderID 218
2018-02-21 08:35:02,301 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:35:02,301 - DEBUG - Order status PreSubmitted
2018-02-21 08:35:02,302 - DEBUG - Order Identification 218
2018-02-21 08:35:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:35:02,302 - DEBUG - Profit ID from database is 217
2018-02-21 08:35:02,302 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:35:02,302 - DEBUG - Stop ID database is 0
2018-02-21 08:35:02,302 - DEBUG - Entry ID database is 217
2018-02-21 08:35:04,299 - DEBUG - Connecting to database
2018-02-21 08:35:04,308 - DEBUG - Connected to database
2018-02-21 08:35:04,309 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,309 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:35:04,311 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,311 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:35:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,312 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:35:04,315 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,315 - DEBUG - Stop quantity 1
2018-02-21 08:35:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,316 - DEBUG - Direction is Short
2018-02-21 08:35:04,318 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,318 - DEBUG - Count is 0
2018-02-21 08:35:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:35:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:35:04,322 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:35:04,322 - DEBUG - Max ID Order is (218,)
2018-02-21 08:35:04,322 - DEBUG - Today is 2018-02-21
2018-02-21 08:35:04,322 - DEBUG - Day of the week 2
2018-02-21 08:35:04,322 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:35:04,322 - DEBUG - In Position is  0
2018-02-21 08:35:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:35:04,323 - DEBUG - curStopLossFlag is  0
2018-02-21 08:35:04,323 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:35:04,323 - DEBUG - Checking if Entry has been filled
2018-02-21 08:35:04,323 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:35:04,325 - DEBUG - EntryPend is 1
2018-02-21 08:35:04,325 - DEBUG - Try to Cancel Stop
2018-02-21 08:35:04,325 - DEBUG - Stop API ID 0
2018-02-21 08:35:04,326 - DEBUG - Profit API ID 0
2018-02-21 08:35:04,326 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:35:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:35:04,326 - DEBUG - Pos is 0
2018-02-21 08:35:04,328 - DEBUG - CurCount is 0
2018-02-21 08:35:04,328 - DEBUG - In Pos 0
2018-02-21 08:35:04,328 - DEBUG - Stop ID is 0
2018-02-21 08:35:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:35:04,329 - DEBUG - EntryPend is 1
2018-02-21 08:35:04,329 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:35:04,329 - DEBUG - Entry Date is 10
2018-02-21 08:35:04,331 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:35:04,331 - DEBUG - Order Profit ID is 217
2018-02-21 08:35:04,331 - DEBUG - Order Entry ID is 217
2018-02-21 08:35:04,331 - DEBUG - API ID is  0
2018-02-21 08:35:04,331 - DEBUG - Current Position is 0
2018-02-21 08:35:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:35:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:35:04,332 - DEBUG - Time is 8
2018-02-21 08:35:04,332 - DEBUG - Time is <class 'int'>
2018-02-21 08:35:04,332 - DEBUG - Disconnected from IBController
2018-02-21 08:35:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:40:00,273 - DEBUG - ****************************************************
2018-02-21 08:40:00,273 - DEBUG - Current Time is 08:40AM
2018-02-21 08:40:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:40:00,273 - DEBUG - Connecting to database
2018-02-21 08:40:00,302 - DEBUG - Connected to database
2018-02-21 08:40:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:00,303 - DEBUG - Order Profit is 217
2018-02-21 08:40:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:00,305 - DEBUG - Stop ID is 0
2018-02-21 08:40:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:00,306 - DEBUG - Entry ID is 217
2018-02-21 08:40:00,306 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:40:00,308 - DEBUG - OCA ID is 1
2018-02-21 08:40:00,309 - DEBUG - Connecting to IBController
2018-02-21 08:40:01,315 - DEBUG - Connected to IBController
2018-02-21 08:40:01,315 - DEBUG - Position requested
2018-02-21 08:40:01,322 - DEBUG - Pos Mgmt -5
2018-02-21 08:40:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 08:40:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:40:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:40:01,325 - DEBUG - Position is -5
2018-02-21 08:40:01,325 - DEBUG - Pos Mgmt -12987
2018-02-21 08:40:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:40:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:40:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:40:01,325 - DEBUG - Position is -12987
2018-02-21 08:40:02,315 - DEBUG - Open Orders requested
2018-02-21 08:40:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-21 08:40:02,318 - DEBUG - Order OrderID 218
2018-02-21 08:40:02,319 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:40:02,319 - DEBUG - Order status PreSubmitted
2018-02-21 08:40:02,319 - DEBUG - Order Identification 218
2018-02-21 08:40:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:40:02,319 - DEBUG - Profit ID from database is 217
2018-02-21 08:40:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:40:02,321 - DEBUG - Stop ID database is 0
2018-02-21 08:40:02,321 - DEBUG - Entry ID database is 217
2018-02-21 08:40:04,318 - DEBUG - Connecting to database
2018-02-21 08:40:04,325 - DEBUG - Connected to database
2018-02-21 08:40:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,326 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:40:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,328 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:40:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,329 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:40:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,332 - DEBUG - Stop quantity 1
2018-02-21 08:40:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,334 - DEBUG - Direction is Short
2018-02-21 08:40:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,335 - DEBUG - Count is 0
2018-02-21 08:40:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:40:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:40:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:40:04,338 - DEBUG - Max ID Order is (218,)
2018-02-21 08:40:04,338 - DEBUG - Today is 2018-02-21
2018-02-21 08:40:04,338 - DEBUG - Day of the week 2
2018-02-21 08:40:04,339 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:40:04,339 - DEBUG - In Position is  0
2018-02-21 08:40:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:40:04,339 - DEBUG - curStopLossFlag is  0
2018-02-21 08:40:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:40:04,341 - DEBUG - Checking if Entry has been filled
2018-02-21 08:40:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:40:04,342 - DEBUG - EntryPend is 1
2018-02-21 08:40:04,342 - DEBUG - Try to Cancel Stop
2018-02-21 08:40:04,342 - DEBUG - Stop API ID 0
2018-02-21 08:40:04,342 - DEBUG - Profit API ID 0
2018-02-21 08:40:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:40:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:40:04,344 - DEBUG - Pos is 0
2018-02-21 08:40:04,344 - DEBUG - CurCount is 0
2018-02-21 08:40:04,344 - DEBUG - In Pos 0
2018-02-21 08:40:04,344 - DEBUG - Stop ID is 0
2018-02-21 08:40:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:40:04,345 - DEBUG - EntryPend is 1
2018-02-21 08:40:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:40:04,345 - DEBUG - Entry Date is 10
2018-02-21 08:40:04,346 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:40:04,346 - DEBUG - Order Profit ID is 217
2018-02-21 08:40:04,346 - DEBUG - Order Entry ID is 217
2018-02-21 08:40:04,346 - DEBUG - API ID is  0
2018-02-21 08:40:04,348 - DEBUG - Current Position is 0
2018-02-21 08:40:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:40:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:40:04,348 - DEBUG - Time is 8
2018-02-21 08:40:04,348 - DEBUG - Time is <class 'int'>
2018-02-21 08:40:04,348 - DEBUG - Disconnected from IBController
2018-02-21 08:40:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:45:00,260 - DEBUG - ****************************************************
2018-02-21 08:45:00,262 - DEBUG - Current Time is 08:45AM
2018-02-21 08:45:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:45:00,263 - DEBUG - Connecting to database
2018-02-21 08:45:00,290 - DEBUG - Connected to database
2018-02-21 08:45:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:00,292 - DEBUG - Order Profit is 217
2018-02-21 08:45:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:00,295 - DEBUG - Stop ID is 0
2018-02-21 08:45:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:00,296 - DEBUG - Entry ID is 217
2018-02-21 08:45:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:45:00,298 - DEBUG - OCA ID is 1
2018-02-21 08:45:00,298 - DEBUG - Connecting to IBController
2018-02-21 08:45:01,305 - DEBUG - Connected to IBController
2018-02-21 08:45:01,305 - DEBUG - Position requested
2018-02-21 08:45:01,306 - DEBUG - Pos Mgmt -5
2018-02-21 08:45:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-5, avgCost=15412.17>
2018-02-21 08:45:01,308 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:45:01,308 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:45:01,308 - DEBUG - Position is -5
2018-02-21 08:45:01,308 - DEBUG - Pos Mgmt -12987
2018-02-21 08:45:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:45:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:45:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:45:01,309 - DEBUG - Position is -12987
2018-02-21 08:45:02,306 - DEBUG - Open Orders requested
2018-02-21 08:45:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-21 08:45:02,309 - DEBUG - Order OrderID 218
2018-02-21 08:45:02,309 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:45:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 08:45:02,311 - DEBUG - Order Identification 218
2018-02-21 08:45:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:45:02,311 - DEBUG - Profit ID from database is 217
2018-02-21 08:45:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:45:02,312 - DEBUG - Stop ID database is 0
2018-02-21 08:45:02,312 - DEBUG - Entry ID database is 217
2018-02-21 08:45:04,309 - DEBUG - Connecting to database
2018-02-21 08:45:04,315 - DEBUG - Connected to database
2018-02-21 08:45:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,318 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:45:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:45:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,322 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:45:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,323 - DEBUG - Stop quantity 1
2018-02-21 08:45:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,325 - DEBUG - Direction is Short
2018-02-21 08:45:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,326 - DEBUG - Count is 0
2018-02-21 08:45:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:45:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:45:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:45:04,329 - DEBUG - Max ID Order is (218,)
2018-02-21 08:45:04,331 - DEBUG - Today is 2018-02-21
2018-02-21 08:45:04,331 - DEBUG - Day of the week 2
2018-02-21 08:45:04,331 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:45:04,332 - DEBUG - In Position is  0
2018-02-21 08:45:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:45:04,332 - DEBUG - curStopLossFlag is  0
2018-02-21 08:45:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:45:04,332 - DEBUG - Checking if Entry has been filled
2018-02-21 08:45:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:45:04,334 - DEBUG - EntryPend is 1
2018-02-21 08:45:04,334 - DEBUG - Try to Cancel Stop
2018-02-21 08:45:04,335 - DEBUG - Stop API ID 0
2018-02-21 08:45:04,335 - DEBUG - Profit API ID 0
2018-02-21 08:45:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:45:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:45:04,335 - DEBUG - Pos is 0
2018-02-21 08:45:04,335 - DEBUG - CurCount is 0
2018-02-21 08:45:04,335 - DEBUG - In Pos 0
2018-02-21 08:45:04,335 - DEBUG - Stop ID is 0
2018-02-21 08:45:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:45:04,338 - DEBUG - EntryPend is 1
2018-02-21 08:45:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:45:04,338 - DEBUG - Entry Date is 10
2018-02-21 08:45:04,338 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:45:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 08:45:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 08:45:04,338 - DEBUG - API ID is  0
2018-02-21 08:45:04,338 - DEBUG - Current Position is 0
2018-02-21 08:45:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:45:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:45:04,339 - DEBUG - Time is 8
2018-02-21 08:45:04,339 - DEBUG - Time is <class 'int'>
2018-02-21 08:45:04,341 - DEBUG - Disconnected from IBController
2018-02-21 08:45:04,341 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:50:00,257 - DEBUG - ****************************************************
2018-02-21 08:50:00,259 - DEBUG - Current Time is 08:50AM
2018-02-21 08:50:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:50:00,259 - DEBUG - Connecting to database
2018-02-21 08:50:00,289 - DEBUG - Connected to database
2018-02-21 08:50:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:00,292 - DEBUG - Order Profit is 217
2018-02-21 08:50:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:00,293 - DEBUG - Stop ID is 0
2018-02-21 08:50:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:00,295 - DEBUG - Entry ID is 217
2018-02-21 08:50:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:50:00,296 - DEBUG - OCA ID is 1
2018-02-21 08:50:00,296 - DEBUG - Connecting to IBController
2018-02-21 08:50:01,303 - DEBUG - Connected to IBController
2018-02-21 08:50:01,303 - DEBUG - Position requested
2018-02-21 08:50:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 08:50:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 08:50:01,306 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:50:01,306 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:50:01,306 - DEBUG - Position is -5
2018-02-21 08:50:01,308 - DEBUG - Pos Mgmt -12987
2018-02-21 08:50:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:50:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:50:01,308 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:50:01,309 - DEBUG - Position is -12987
2018-02-21 08:50:02,305 - DEBUG - Open Orders requested
2018-02-21 08:50:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-21 08:50:02,308 - DEBUG - Order OrderID 218
2018-02-21 08:50:02,308 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:50:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 08:50:02,309 - DEBUG - Order Identification 218
2018-02-21 08:50:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:50:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 08:50:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:50:02,309 - DEBUG - Stop ID database is 0
2018-02-21 08:50:02,312 - DEBUG - Entry ID database is 217
2018-02-21 08:50:04,308 - DEBUG - Connecting to database
2018-02-21 08:50:04,315 - DEBUG - Connected to database
2018-02-21 08:50:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,316 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:50:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:50:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,321 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:50:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,322 - DEBUG - Stop quantity 1
2018-02-21 08:50:04,323 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,323 - DEBUG - Direction is Short
2018-02-21 08:50:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,325 - DEBUG - Count is 0
2018-02-21 08:50:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:50:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:50:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:50:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 08:50:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 08:50:04,329 - DEBUG - Day of the week 2
2018-02-21 08:50:04,329 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:50:04,329 - DEBUG - In Position is  0
2018-02-21 08:50:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:50:04,331 - DEBUG - curStopLossFlag is  0
2018-02-21 08:50:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:50:04,331 - DEBUG - Checking if Entry has been filled
2018-02-21 08:50:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:50:04,332 - DEBUG - EntryPend is 1
2018-02-21 08:50:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 08:50:04,332 - DEBUG - Stop API ID 0
2018-02-21 08:50:04,334 - DEBUG - Profit API ID 0
2018-02-21 08:50:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:50:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:50:04,334 - DEBUG - Pos is 0
2018-02-21 08:50:04,335 - DEBUG - CurCount is 0
2018-02-21 08:50:04,335 - DEBUG - In Pos 0
2018-02-21 08:50:04,335 - DEBUG - Stop ID is 0
2018-02-21 08:50:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:50:04,336 - DEBUG - EntryPend is 1
2018-02-21 08:50:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:50:04,336 - DEBUG - Entry Date is 10
2018-02-21 08:50:04,336 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:50:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 08:50:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 08:50:04,338 - DEBUG - API ID is  0
2018-02-21 08:50:04,338 - DEBUG - Current Position is 0
2018-02-21 08:50:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:50:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:50:04,338 - DEBUG - Time is 8
2018-02-21 08:50:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 08:50:04,339 - DEBUG - Disconnected from IBController
2018-02-21 08:50:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 08:55:00,266 - DEBUG - ****************************************************
2018-02-21 08:55:00,267 - DEBUG - Current Time is 08:55AM
2018-02-21 08:55:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 08:55:00,269 - DEBUG - Connecting to database
2018-02-21 08:55:00,293 - DEBUG - Connected to database
2018-02-21 08:55:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:00,296 - DEBUG - Order Profit is 217
2018-02-21 08:55:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:00,296 - DEBUG - Stop ID is 0
2018-02-21 08:55:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:00,299 - DEBUG - Entry ID is 217
2018-02-21 08:55:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 08:55:00,299 - DEBUG - OCA ID is 1
2018-02-21 08:55:00,301 - DEBUG - Connecting to IBController
2018-02-21 08:55:01,312 - DEBUG - Connected to IBController
2018-02-21 08:55:01,312 - DEBUG - Position requested
2018-02-21 08:55:01,313 - DEBUG - Pos Mgmt -5
2018-02-21 08:55:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DD68>, pos=-5, avgCost=15412.17>
2018-02-21 08:55:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 08:55:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-21 08:55:01,315 - DEBUG - Position is -5
2018-02-21 08:55:01,315 - DEBUG - Pos Mgmt -12987
2018-02-21 08:55:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 08:55:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 08:55:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 08:55:01,315 - DEBUG - Position is -12987
2018-02-21 08:55:02,312 - DEBUG - Open Orders requested
2018-02-21 08:55:02,321 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000201DD68>, order=<ib.ext.Order.Order object at 0x000000000201DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B10B8>>
2018-02-21 08:55:02,321 - DEBUG - Order OrderID 218
2018-02-21 08:55:02,322 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 08:55:02,322 - DEBUG - Order status PreSubmitted
2018-02-21 08:55:02,322 - DEBUG - Order Identification 218
2018-02-21 08:55:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-21 08:55:02,322 - DEBUG - Profit ID from database is 217
2018-02-21 08:55:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 08:55:02,323 - DEBUG - Stop ID database is 0
2018-02-21 08:55:02,323 - DEBUG - Entry ID database is 217
2018-02-21 08:55:04,313 - DEBUG - Connecting to database
2018-02-21 08:55:04,321 - DEBUG - Connected to database
2018-02-21 08:55:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,322 - DEBUG - Stop loss value is 2738.25
2018-02-21 08:55:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,325 - DEBUG - Stop loss value is 2695.0
2018-02-21 08:55:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,326 - DEBUG - EntryPrice value is 2704.5
2018-02-21 08:55:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,328 - DEBUG - Stop quantity 1
2018-02-21 08:55:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,329 - DEBUG - Direction is Short
2018-02-21 08:55:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,332 - DEBUG - Count is 0
2018-02-21 08:55:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 08:55:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-21 08:55:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 08:55:04,335 - DEBUG - Max ID Order is (218,)
2018-02-21 08:55:04,335 - DEBUG - Today is 2018-02-21
2018-02-21 08:55:04,335 - DEBUG - Day of the week 2
2018-02-21 08:55:04,335 - DEBUG - Yesterday is 02/20/2018
2018-02-21 08:55:04,336 - DEBUG - In Position is  0
2018-02-21 08:55:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-21 08:55:04,336 - DEBUG - curStopLossFlag is  0
2018-02-21 08:55:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 08:55:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 08:55:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:55:04,338 - DEBUG - EntryPend is 1
2018-02-21 08:55:04,338 - DEBUG - Try to Cancel Stop
2018-02-21 08:55:04,339 - DEBUG - Stop API ID 0
2018-02-21 08:55:04,339 - DEBUG - Profit API ID 0
2018-02-21 08:55:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-21 08:55:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-21 08:55:04,341 - DEBUG - Pos is 0
2018-02-21 08:55:04,341 - DEBUG - CurCount is 0
2018-02-21 08:55:04,341 - DEBUG - In Pos 0
2018-02-21 08:55:04,341 - DEBUG - Stop ID is 0
2018-02-21 08:55:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 08:55:04,342 - DEBUG - EntryPend is 1
2018-02-21 08:55:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 08:55:04,342 - DEBUG - Entry Date is 10
2018-02-21 08:55:04,342 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 08:55:04,344 - DEBUG - Order Profit ID is 217
2018-02-21 08:55:04,344 - DEBUG - Order Entry ID is 217
2018-02-21 08:55:04,344 - DEBUG - API ID is  0
2018-02-21 08:55:04,344 - DEBUG - Current Position is 0
2018-02-21 08:55:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-21 08:55:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 08:55:04,345 - DEBUG - Time is 8
2018-02-21 08:55:04,345 - DEBUG - Time is <class 'int'>
2018-02-21 08:55:04,345 - DEBUG - Disconnected from IBController
2018-02-21 08:55:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:00:00,266 - DEBUG - ****************************************************
2018-02-21 09:00:00,266 - DEBUG - Current Time is 09:00AM
2018-02-21 09:00:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:00:00,266 - DEBUG - Connecting to database
2018-02-21 09:00:00,335 - DEBUG - Connected to database
2018-02-21 09:00:00,335 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:00,342 - DEBUG - Order Profit is 217
2018-02-21 09:00:00,344 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:00,345 - DEBUG - Stop ID is 0
2018-02-21 09:00:00,345 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:00,351 - DEBUG - Entry ID is 217
2018-02-21 09:00:00,351 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:00:00,357 - DEBUG - OCA ID is 1
2018-02-21 09:00:00,357 - DEBUG - Connecting to IBController
2018-02-21 09:00:01,364 - DEBUG - Connected to IBController
2018-02-21 09:00:01,364 - DEBUG - Position requested
2018-02-21 09:00:01,365 - DEBUG - Pos Mgmt -5
2018-02-21 09:00:01,365 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, pos=-5, avgCost=15412.17>
2018-02-21 09:00:01,367 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:00:01,367 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:00:01,367 - DEBUG - Position is -5
2018-02-21 09:00:01,368 - DEBUG - Pos Mgmt -12987
2018-02-21 09:00:01,368 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:00:01,368 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:00:01,368 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:00:01,368 - DEBUG - Position is -12987
2018-02-21 09:00:02,365 - DEBUG - Open Orders requested
2018-02-21 09:00:02,367 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-21 09:00:02,368 - DEBUG - Order OrderID 218
2018-02-21 09:00:02,368 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:00:02,368 - DEBUG - Order status PreSubmitted
2018-02-21 09:00:02,368 - DEBUG - Order Identification 218
2018-02-21 09:00:02,368 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:00:02,368 - DEBUG - Profit ID from database is 217
2018-02-21 09:00:02,371 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:00:02,371 - DEBUG - Stop ID database is 0
2018-02-21 09:00:02,371 - DEBUG - Entry ID database is 217
2018-02-21 09:00:04,368 - DEBUG - Connecting to database
2018-02-21 09:00:04,375 - DEBUG - Connected to database
2018-02-21 09:00:04,375 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,377 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:00:04,378 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,378 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:00:04,380 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,380 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:00:04,381 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,381 - DEBUG - Stop quantity 1
2018-02-21 09:00:04,382 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,384 - DEBUG - Direction is Short
2018-02-21 09:00:04,384 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,384 - DEBUG - Count is 0
2018-02-21 09:00:04,385 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:00:04,387 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:00:04,388 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:00:04,388 - DEBUG - Max ID Order is (218,)
2018-02-21 09:00:04,388 - DEBUG - Today is 2018-02-21
2018-02-21 09:00:04,388 - DEBUG - Day of the week 2
2018-02-21 09:00:04,388 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:00:04,390 - DEBUG - In Position is  0
2018-02-21 09:00:04,390 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:00:04,390 - DEBUG - curStopLossFlag is  0
2018-02-21 09:00:04,390 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:00:04,391 - DEBUG - Checking if Entry has been filled
2018-02-21 09:00:04,391 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:00:04,391 - DEBUG - EntryPend is 1
2018-02-21 09:00:04,392 - DEBUG - Try to Cancel Stop
2018-02-21 09:00:04,392 - DEBUG - Stop API ID 0
2018-02-21 09:00:04,392 - DEBUG - Profit API ID 0
2018-02-21 09:00:04,392 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:00:04,392 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:00:04,394 - DEBUG - Pos is 0
2018-02-21 09:00:04,394 - DEBUG - CurCount is 0
2018-02-21 09:00:04,394 - DEBUG - In Pos 0
2018-02-21 09:00:04,394 - DEBUG - Stop ID is 0
2018-02-21 09:00:04,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:00:04,395 - DEBUG - EntryPend is 1
2018-02-21 09:00:04,395 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:00:04,395 - DEBUG - Entry Date is 10
2018-02-21 09:00:04,397 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:00:04,397 - DEBUG - Order Profit ID is 217
2018-02-21 09:00:04,397 - DEBUG - Order Entry ID is 217
2018-02-21 09:00:04,397 - DEBUG - API ID is  0
2018-02-21 09:00:04,398 - DEBUG - Current Position is 0
2018-02-21 09:00:04,398 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:00:04,398 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:00:04,398 - DEBUG - Time is 9
2018-02-21 09:00:04,398 - DEBUG - Time is <class 'int'>
2018-02-21 09:00:04,398 - DEBUG - Disconnected from IBController
2018-02-21 09:00:04,400 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:05:00,252 - DEBUG - ****************************************************
2018-02-21 09:05:00,252 - DEBUG - Current Time is 09:05AM
2018-02-21 09:05:00,253 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:05:00,253 - DEBUG - Connecting to database
2018-02-21 09:05:00,276 - DEBUG - Connected to database
2018-02-21 09:05:00,278 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:00,279 - DEBUG - Order Profit is 217
2018-02-21 09:05:00,279 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:00,280 - DEBUG - Stop ID is 0
2018-02-21 09:05:00,280 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:00,282 - DEBUG - Entry ID is 217
2018-02-21 09:05:00,282 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:05:00,283 - DEBUG - OCA ID is 1
2018-02-21 09:05:00,283 - DEBUG - Connecting to IBController
2018-02-21 09:05:01,292 - DEBUG - Connected to IBController
2018-02-21 09:05:01,292 - DEBUG - Position requested
2018-02-21 09:05:01,293 - DEBUG - Pos Mgmt -5
2018-02-21 09:05:01,293 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, pos=-5, avgCost=15412.17>
2018-02-21 09:05:01,295 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:05:01,295 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:05:01,295 - DEBUG - Position is -5
2018-02-21 09:05:01,296 - DEBUG - Pos Mgmt -12987
2018-02-21 09:05:01,296 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:05:01,296 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:05:01,296 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:05:01,296 - DEBUG - Position is -12987
2018-02-21 09:05:02,293 - DEBUG - Open Orders requested
2018-02-21 09:05:02,296 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000203DE48>, order=<ib.ext.Order.Order object at 0x000000000203DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-21 09:05:02,296 - DEBUG - Order OrderID 218
2018-02-21 09:05:02,296 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:05:02,298 - DEBUG - Order status PreSubmitted
2018-02-21 09:05:02,298 - DEBUG - Order Identification 218
2018-02-21 09:05:02,298 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:05:02,298 - DEBUG - Profit ID from database is 217
2018-02-21 09:05:02,298 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:05:02,299 - DEBUG - Stop ID database is 0
2018-02-21 09:05:02,299 - DEBUG - Entry ID database is 217
2018-02-21 09:05:04,296 - DEBUG - Connecting to database
2018-02-21 09:05:04,305 - DEBUG - Connected to database
2018-02-21 09:05:04,305 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,305 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:05:04,308 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,308 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:05:04,309 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,309 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:05:04,311 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,312 - DEBUG - Stop quantity 1
2018-02-21 09:05:04,312 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,312 - DEBUG - Direction is Short
2018-02-21 09:05:04,315 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,315 - DEBUG - Count is 0
2018-02-21 09:05:04,315 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:05:04,316 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:05:04,318 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:05:04,318 - DEBUG - Max ID Order is (218,)
2018-02-21 09:05:04,319 - DEBUG - Today is 2018-02-21
2018-02-21 09:05:04,319 - DEBUG - Day of the week 2
2018-02-21 09:05:04,319 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:05:04,319 - DEBUG - In Position is  0
2018-02-21 09:05:04,319 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:05:04,319 - DEBUG - curStopLossFlag is  0
2018-02-21 09:05:04,319 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:05:04,321 - DEBUG - Checking if Entry has been filled
2018-02-21 09:05:04,321 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:05:04,322 - DEBUG - EntryPend is 1
2018-02-21 09:05:04,322 - DEBUG - Try to Cancel Stop
2018-02-21 09:05:04,322 - DEBUG - Stop API ID 0
2018-02-21 09:05:04,322 - DEBUG - Profit API ID 0
2018-02-21 09:05:04,322 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:05:04,322 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:05:04,323 - DEBUG - Pos is 0
2018-02-21 09:05:04,323 - DEBUG - CurCount is 0
2018-02-21 09:05:04,323 - DEBUG - In Pos 0
2018-02-21 09:05:04,323 - DEBUG - Stop ID is 0
2018-02-21 09:05:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:05:04,325 - DEBUG - EntryPend is 1
2018-02-21 09:05:04,325 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:05:04,326 - DEBUG - Entry Date is 10
2018-02-21 09:05:04,326 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:05:04,326 - DEBUG - Order Profit ID is 217
2018-02-21 09:05:04,326 - DEBUG - Order Entry ID is 217
2018-02-21 09:05:04,326 - DEBUG - API ID is  0
2018-02-21 09:05:04,328 - DEBUG - Current Position is 0
2018-02-21 09:05:04,328 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:05:04,328 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:05:04,328 - DEBUG - Time is 9
2018-02-21 09:05:04,328 - DEBUG - Time is <class 'int'>
2018-02-21 09:05:04,328 - DEBUG - Disconnected from IBController
2018-02-21 09:05:04,328 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:10:00,263 - DEBUG - ****************************************************
2018-02-21 09:10:00,263 - DEBUG - Current Time is 09:10AM
2018-02-21 09:10:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:10:00,265 - DEBUG - Connecting to database
2018-02-21 09:10:00,285 - DEBUG - Connected to database
2018-02-21 09:10:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:00,286 - DEBUG - Order Profit is 217
2018-02-21 09:10:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:00,289 - DEBUG - Stop ID is 0
2018-02-21 09:10:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:00,289 - DEBUG - Entry ID is 217
2018-02-21 09:10:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:10:00,292 - DEBUG - OCA ID is 1
2018-02-21 09:10:00,292 - DEBUG - Connecting to IBController
2018-02-21 09:10:01,302 - DEBUG - Connected to IBController
2018-02-21 09:10:01,302 - DEBUG - Position requested
2018-02-21 09:10:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 09:10:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-5, avgCost=15412.17>
2018-02-21 09:10:01,306 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:10:01,306 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:10:01,306 - DEBUG - Position is -5
2018-02-21 09:10:01,308 - DEBUG - Pos Mgmt -12987
2018-02-21 09:10:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:10:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:10:01,308 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:10:01,309 - DEBUG - Position is -12987
2018-02-21 09:10:02,303 - DEBUG - Open Orders requested
2018-02-21 09:10:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-21 09:10:02,308 - DEBUG - Order OrderID 218
2018-02-21 09:10:02,309 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:10:02,309 - DEBUG - Order status PreSubmitted
2018-02-21 09:10:02,309 - DEBUG - Order Identification 218
2018-02-21 09:10:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:10:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 09:10:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:10:02,309 - DEBUG - Stop ID database is 0
2018-02-21 09:10:02,309 - DEBUG - Entry ID database is 217
2018-02-21 09:10:04,308 - DEBUG - Connecting to database
2018-02-21 09:10:04,315 - DEBUG - Connected to database
2018-02-21 09:10:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,316 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:10:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:10:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,321 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:10:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,322 - DEBUG - Stop quantity 1
2018-02-21 09:10:04,323 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,323 - DEBUG - Direction is Short
2018-02-21 09:10:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,325 - DEBUG - Count is 0
2018-02-21 09:10:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:10:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:10:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:10:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 09:10:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 09:10:04,329 - DEBUG - Day of the week 2
2018-02-21 09:10:04,329 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:10:04,329 - DEBUG - In Position is  0
2018-02-21 09:10:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:10:04,331 - DEBUG - curStopLossFlag is  0
2018-02-21 09:10:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:10:04,331 - DEBUG - Checking if Entry has been filled
2018-02-21 09:10:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:10:04,332 - DEBUG - EntryPend is 1
2018-02-21 09:10:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 09:10:04,332 - DEBUG - Stop API ID 0
2018-02-21 09:10:04,332 - DEBUG - Profit API ID 0
2018-02-21 09:10:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:10:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:10:04,334 - DEBUG - Pos is 0
2018-02-21 09:10:04,334 - DEBUG - CurCount is 0
2018-02-21 09:10:04,335 - DEBUG - In Pos 0
2018-02-21 09:10:04,335 - DEBUG - Stop ID is 0
2018-02-21 09:10:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:10:04,336 - DEBUG - EntryPend is 1
2018-02-21 09:10:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:10:04,336 - DEBUG - Entry Date is 10
2018-02-21 09:10:04,336 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:10:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 09:10:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 09:10:04,338 - DEBUG - API ID is  0
2018-02-21 09:10:04,338 - DEBUG - Current Position is 0
2018-02-21 09:10:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:10:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:10:04,338 - DEBUG - Time is 9
2018-02-21 09:10:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 09:10:04,339 - DEBUG - Disconnected from IBController
2018-02-21 09:10:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:15:00,259 - DEBUG - ****************************************************
2018-02-21 09:15:00,259 - DEBUG - Current Time is 09:15AM
2018-02-21 09:15:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:15:00,260 - DEBUG - Connecting to database
2018-02-21 09:15:00,289 - DEBUG - Connected to database
2018-02-21 09:15:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:00,290 - DEBUG - Order Profit is 217
2018-02-21 09:15:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:00,292 - DEBUG - Stop ID is 0
2018-02-21 09:15:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:00,295 - DEBUG - Entry ID is 217
2018-02-21 09:15:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:15:00,296 - DEBUG - OCA ID is 1
2018-02-21 09:15:00,296 - DEBUG - Connecting to IBController
2018-02-21 09:15:01,302 - DEBUG - Connected to IBController
2018-02-21 09:15:01,302 - DEBUG - Position requested
2018-02-21 09:15:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 09:15:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=-5, avgCost=15412.17>
2018-02-21 09:15:01,305 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:15:01,305 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:15:01,305 - DEBUG - Position is -5
2018-02-21 09:15:01,306 - DEBUG - Pos Mgmt -12987
2018-02-21 09:15:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:15:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:15:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:15:01,306 - DEBUG - Position is -12987
2018-02-21 09:15:02,305 - DEBUG - Open Orders requested
2018-02-21 09:15:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 09:15:02,306 - DEBUG - Order OrderID 218
2018-02-21 09:15:02,308 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:15:02,308 - DEBUG - Order status PreSubmitted
2018-02-21 09:15:02,309 - DEBUG - Order Identification 218
2018-02-21 09:15:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:15:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 09:15:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:15:02,309 - DEBUG - Stop ID database is 0
2018-02-21 09:15:02,309 - DEBUG - Entry ID database is 217
2018-02-21 09:15:04,306 - DEBUG - Connecting to database
2018-02-21 09:15:04,315 - DEBUG - Connected to database
2018-02-21 09:15:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,318 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:15:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,319 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:15:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,321 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:15:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,322 - DEBUG - Stop quantity 1
2018-02-21 09:15:04,323 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,323 - DEBUG - Direction is Short
2018-02-21 09:15:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,325 - DEBUG - Count is 0
2018-02-21 09:15:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:15:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:15:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:15:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 09:15:04,329 - DEBUG - Today is 2018-02-21
2018-02-21 09:15:04,329 - DEBUG - Day of the week 2
2018-02-21 09:15:04,331 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:15:04,331 - DEBUG - In Position is  0
2018-02-21 09:15:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:15:04,331 - DEBUG - curStopLossFlag is  0
2018-02-21 09:15:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:15:04,332 - DEBUG - Checking if Entry has been filled
2018-02-21 09:15:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:15:04,332 - DEBUG - EntryPend is 1
2018-02-21 09:15:04,334 - DEBUG - Try to Cancel Stop
2018-02-21 09:15:04,334 - DEBUG - Stop API ID 0
2018-02-21 09:15:04,334 - DEBUG - Profit API ID 0
2018-02-21 09:15:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:15:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:15:04,335 - DEBUG - Pos is 0
2018-02-21 09:15:04,335 - DEBUG - CurCount is 0
2018-02-21 09:15:04,335 - DEBUG - In Pos 0
2018-02-21 09:15:04,335 - DEBUG - Stop ID is 0
2018-02-21 09:15:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:15:04,336 - DEBUG - EntryPend is 1
2018-02-21 09:15:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:15:04,336 - DEBUG - Entry Date is 10
2018-02-21 09:15:04,338 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:15:04,338 - DEBUG - Order Profit ID is 217
2018-02-21 09:15:04,338 - DEBUG - Order Entry ID is 217
2018-02-21 09:15:04,338 - DEBUG - API ID is  0
2018-02-21 09:15:04,338 - DEBUG - Current Position is 0
2018-02-21 09:15:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:15:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:15:04,338 - DEBUG - Time is 9
2018-02-21 09:15:04,339 - DEBUG - Time is <class 'int'>
2018-02-21 09:15:04,339 - DEBUG - Disconnected from IBController
2018-02-21 09:15:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:20:00,269 - DEBUG - ****************************************************
2018-02-21 09:20:00,269 - DEBUG - Current Time is 09:20AM
2018-02-21 09:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:20:00,270 - DEBUG - Connecting to database
2018-02-21 09:20:00,289 - DEBUG - Connected to database
2018-02-21 09:20:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:00,292 - DEBUG - Order Profit is 217
2018-02-21 09:20:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:00,292 - DEBUG - Stop ID is 0
2018-02-21 09:20:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:00,295 - DEBUG - Entry ID is 217
2018-02-21 09:20:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:20:00,296 - DEBUG - OCA ID is 1
2018-02-21 09:20:00,296 - DEBUG - Connecting to IBController
2018-02-21 09:20:01,303 - DEBUG - Connected to IBController
2018-02-21 09:20:01,303 - DEBUG - Position requested
2018-02-21 09:20:01,305 - DEBUG - Pos Mgmt -5
2018-02-21 09:20:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, pos=-5, avgCost=15412.17>
2018-02-21 09:20:01,306 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:20:01,306 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:20:01,306 - DEBUG - Position is -5
2018-02-21 09:20:01,308 - DEBUG - Pos Mgmt -12987
2018-02-21 09:20:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:20:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:20:01,308 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:20:01,308 - DEBUG - Position is -12987
2018-02-21 09:20:02,305 - DEBUG - Open Orders requested
2018-02-21 09:20:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-21 09:20:02,306 - DEBUG - Order OrderID 218
2018-02-21 09:20:02,308 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:20:02,308 - DEBUG - Order status PreSubmitted
2018-02-21 09:20:02,308 - DEBUG - Order Identification 218
2018-02-21 09:20:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:20:02,309 - DEBUG - Profit ID from database is 217
2018-02-21 09:20:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:20:02,309 - DEBUG - Stop ID database is 0
2018-02-21 09:20:02,309 - DEBUG - Entry ID database is 217
2018-02-21 09:20:04,306 - DEBUG - Connecting to database
2018-02-21 09:20:04,313 - DEBUG - Connected to database
2018-02-21 09:20:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,315 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:20:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,318 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:20:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,319 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:20:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,322 - DEBUG - Stop quantity 1
2018-02-21 09:20:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,322 - DEBUG - Direction is Short
2018-02-21 09:20:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,325 - DEBUG - Count is 0
2018-02-21 09:20:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:20:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:20:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:20:04,328 - DEBUG - Max ID Order is (218,)
2018-02-21 09:20:04,328 - DEBUG - Today is 2018-02-21
2018-02-21 09:20:04,328 - DEBUG - Day of the week 2
2018-02-21 09:20:04,328 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:20:04,329 - DEBUG - In Position is  0
2018-02-21 09:20:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:20:04,329 - DEBUG - curStopLossFlag is  0
2018-02-21 09:20:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:20:04,331 - DEBUG - Checking if Entry has been filled
2018-02-21 09:20:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:20:04,332 - DEBUG - EntryPend is 1
2018-02-21 09:20:04,332 - DEBUG - Try to Cancel Stop
2018-02-21 09:20:04,332 - DEBUG - Stop API ID 0
2018-02-21 09:20:04,332 - DEBUG - Profit API ID 0
2018-02-21 09:20:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:20:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:20:04,334 - DEBUG - Pos is 0
2018-02-21 09:20:04,334 - DEBUG - CurCount is 0
2018-02-21 09:20:04,334 - DEBUG - In Pos 0
2018-02-21 09:20:04,335 - DEBUG - Stop ID is 0
2018-02-21 09:20:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:20:04,335 - DEBUG - EntryPend is 1
2018-02-21 09:20:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:20:04,336 - DEBUG - Entry Date is 10
2018-02-21 09:20:04,336 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:20:04,336 - DEBUG - Order Profit ID is 217
2018-02-21 09:20:04,336 - DEBUG - Order Entry ID is 217
2018-02-21 09:20:04,338 - DEBUG - API ID is  0
2018-02-21 09:20:04,338 - DEBUG - Current Position is 0
2018-02-21 09:20:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:20:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:20:04,338 - DEBUG - Time is 9
2018-02-21 09:20:04,338 - DEBUG - Time is <class 'int'>
2018-02-21 09:20:04,338 - DEBUG - Disconnected from IBController
2018-02-21 09:20:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:25:00,273 - DEBUG - ****************************************************
2018-02-21 09:25:00,273 - DEBUG - Current Time is 09:25AM
2018-02-21 09:25:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:25:00,275 - DEBUG - Connecting to database
2018-02-21 09:25:00,292 - DEBUG - Connected to database
2018-02-21 09:25:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:00,293 - DEBUG - Order Profit is 217
2018-02-21 09:25:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:00,295 - DEBUG - Stop ID is 0
2018-02-21 09:25:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:00,296 - DEBUG - Entry ID is 217
2018-02-21 09:25:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:25:00,299 - DEBUG - OCA ID is 1
2018-02-21 09:25:00,299 - DEBUG - Connecting to IBController
2018-02-21 09:25:01,305 - DEBUG - Connected to IBController
2018-02-21 09:25:01,305 - DEBUG - Position requested
2018-02-21 09:25:01,309 - DEBUG - Pos Mgmt -5
2018-02-21 09:25:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCF8>, pos=-5, avgCost=15412.17>
2018-02-21 09:25:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:25:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:25:01,309 - DEBUG - Position is -5
2018-02-21 09:25:01,311 - DEBUG - Pos Mgmt -12987
2018-02-21 09:25:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:25:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:25:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:25:01,316 - DEBUG - Position is -12987
2018-02-21 09:25:02,309 - DEBUG - Open Orders requested
2018-02-21 09:25:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=218, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-21 09:25:02,311 - DEBUG - Order OrderID 218
2018-02-21 09:25:02,312 - DEBUG - reply handler status <orderStatus orderId=218, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=443351442, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:25:02,312 - DEBUG - Order status PreSubmitted
2018-02-21 09:25:02,312 - DEBUG - Order Identification 218
2018-02-21 09:25:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:25:02,313 - DEBUG - Profit ID from database is 217
2018-02-21 09:25:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:25:02,315 - DEBUG - Stop ID database is 0
2018-02-21 09:25:02,315 - DEBUG - Entry ID database is 217
2018-02-21 09:25:04,311 - DEBUG - Connecting to database
2018-02-21 09:25:04,318 - DEBUG - Connected to database
2018-02-21 09:25:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,319 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:25:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,322 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:25:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,322 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:25:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,325 - DEBUG - Stop quantity 1
2018-02-21 09:25:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,326 - DEBUG - Direction is Short
2018-02-21 09:25:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,328 - DEBUG - Count is 0
2018-02-21 09:25:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:25:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:25:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:25:04,332 - DEBUG - Max ID Order is (218,)
2018-02-21 09:25:04,332 - DEBUG - Today is 2018-02-21
2018-02-21 09:25:04,332 - DEBUG - Day of the week 2
2018-02-21 09:25:04,332 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:25:04,332 - DEBUG - In Position is  0
2018-02-21 09:25:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:25:04,334 - DEBUG - curStopLossFlag is  0
2018-02-21 09:25:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:25:04,334 - DEBUG - Checking if Entry has been filled
2018-02-21 09:25:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:25:04,335 - DEBUG - EntryPend is 1
2018-02-21 09:25:04,335 - DEBUG - Try to Cancel Stop
2018-02-21 09:25:04,335 - DEBUG - Stop API ID 0
2018-02-21 09:25:04,336 - DEBUG - Profit API ID 0
2018-02-21 09:25:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:25:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:25:04,336 - DEBUG - Pos is 0
2018-02-21 09:25:04,338 - DEBUG - CurCount is 0
2018-02-21 09:25:04,338 - DEBUG - In Pos 0
2018-02-21 09:25:04,338 - DEBUG - Stop ID is 0
2018-02-21 09:25:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:25:04,339 - DEBUG - EntryPend is 1
2018-02-21 09:25:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:25:04,339 - DEBUG - Entry Date is 10
2018-02-21 09:25:04,339 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:25:04,341 - DEBUG - Order Profit ID is 217
2018-02-21 09:25:04,341 - DEBUG - Order Entry ID is 217
2018-02-21 09:25:04,341 - DEBUG - API ID is  0
2018-02-21 09:25:04,341 - DEBUG - Current Position is 0
2018-02-21 09:25:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:25:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:25:04,342 - DEBUG - Time is 9
2018-02-21 09:25:04,342 - DEBUG - Time is <class 'int'>
2018-02-21 09:25:04,342 - DEBUG - Disconnected from IBController
2018-02-21 09:25:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:30:00,266 - DEBUG - ****************************************************
2018-02-21 09:30:00,266 - DEBUG - Current Time is 09:30AM
2018-02-21 09:30:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:30:00,267 - DEBUG - Connecting to database
2018-02-21 09:30:00,312 - DEBUG - Connected to database
2018-02-21 09:30:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:00,316 - DEBUG - Order Profit is 217
2018-02-21 09:30:00,318 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:00,321 - DEBUG - Stop ID is 0
2018-02-21 09:30:00,321 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:00,323 - DEBUG - Entry ID is 217
2018-02-21 09:30:00,323 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:30:00,325 - DEBUG - OCA ID is 1
2018-02-21 09:30:00,325 - DEBUG - Connecting to IBController
2018-02-21 09:30:01,331 - DEBUG - Connected to IBController
2018-02-21 09:30:01,331 - DEBUG - Position requested
2018-02-21 09:30:01,332 - DEBUG - Pos Mgmt 0
2018-02-21 09:30:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, pos=0, avgCost=0.0>
2018-02-21 09:30:01,334 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:30:01,334 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:30:01,334 - DEBUG - Position is 0
2018-02-21 09:30:01,335 - DEBUG - Pos Mgmt -12987
2018-02-21 09:30:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:30:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:30:01,335 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:30:01,335 - DEBUG - Position is -12987
2018-02-21 09:30:02,332 - DEBUG - Open Orders requested
2018-02-21 09:30:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, order=<ib.ext.Order.Order object at 0x000000000206DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-21 09:30:02,339 - DEBUG - Order OrderID 219
2018-02-21 09:30:02,339 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:30:02,341 - DEBUG - Order status PreSubmitted
2018-02-21 09:30:02,341 - DEBUG - Order Identification 219
2018-02-21 09:30:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:30:02,341 - DEBUG - Profit ID from database is 217
2018-02-21 09:30:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:30:02,342 - DEBUG - Stop ID database is 0
2018-02-21 09:30:02,342 - DEBUG - Entry ID database is 217
2018-02-21 09:30:04,338 - DEBUG - Connecting to database
2018-02-21 09:30:04,345 - DEBUG - Connected to database
2018-02-21 09:30:04,346 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,346 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:30:04,348 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,348 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:30:04,349 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,351 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:30:04,351 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,351 - DEBUG - Stop quantity 1
2018-02-21 09:30:04,354 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,354 - DEBUG - Direction is Short
2018-02-21 09:30:04,355 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,355 - DEBUG - Count is 0
2018-02-21 09:30:04,357 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:30:04,358 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:30:04,358 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:30:04,358 - DEBUG - Max ID Order is (219,)
2018-02-21 09:30:04,359 - DEBUG - Today is 2018-02-21
2018-02-21 09:30:04,359 - DEBUG - Day of the week 2
2018-02-21 09:30:04,359 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:30:04,361 - DEBUG - In Position is  0
2018-02-21 09:30:04,361 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:30:04,361 - DEBUG - curStopLossFlag is  0
2018-02-21 09:30:04,361 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:30:04,361 - DEBUG - Checking if Entry has been filled
2018-02-21 09:30:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:30:04,362 - DEBUG - EntryPend is 1
2018-02-21 09:30:04,364 - DEBUG - Try to Cancel Stop
2018-02-21 09:30:04,364 - DEBUG - Stop API ID 0
2018-02-21 09:30:04,364 - DEBUG - Profit API ID 0
2018-02-21 09:30:04,364 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:30:04,365 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:30:04,365 - DEBUG - Pos is 0
2018-02-21 09:30:04,365 - DEBUG - CurCount is 0
2018-02-21 09:30:04,365 - DEBUG - In Pos 0
2018-02-21 09:30:04,365 - DEBUG - Stop ID is 0
2018-02-21 09:30:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:30:04,367 - DEBUG - EntryPend is 1
2018-02-21 09:30:04,367 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:30:04,368 - DEBUG - Entry Date is 10
2018-02-21 09:30:04,368 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:30:04,368 - DEBUG - Order Profit ID is 217
2018-02-21 09:30:04,368 - DEBUG - Order Entry ID is 217
2018-02-21 09:30:04,368 - DEBUG - API ID is  0
2018-02-21 09:30:04,368 - DEBUG - Current Position is 0
2018-02-21 09:30:04,368 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:30:04,368 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:30:04,368 - DEBUG - Time is 9
2018-02-21 09:30:04,369 - DEBUG - Time is <class 'int'>
2018-02-21 09:30:04,369 - DEBUG - Disconnected from IBController
2018-02-21 09:30:04,369 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:35:00,260 - DEBUG - ****************************************************
2018-02-21 09:35:00,262 - DEBUG - Current Time is 09:35AM
2018-02-21 09:35:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:35:00,262 - DEBUG - Connecting to database
2018-02-21 09:35:00,286 - DEBUG - Connected to database
2018-02-21 09:35:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:00,288 - DEBUG - Order Profit is 217
2018-02-21 09:35:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:00,289 - DEBUG - Stop ID is 0
2018-02-21 09:35:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:00,290 - DEBUG - Entry ID is 217
2018-02-21 09:35:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:35:00,292 - DEBUG - OCA ID is 1
2018-02-21 09:35:00,292 - DEBUG - Connecting to IBController
2018-02-21 09:35:01,298 - DEBUG - Connected to IBController
2018-02-21 09:35:01,298 - DEBUG - Position requested
2018-02-21 09:35:01,299 - DEBUG - Pos Mgmt 0
2018-02-21 09:35:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADBA8>, pos=0, avgCost=0.0>
2018-02-21 09:35:01,299 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:35:01,301 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:35:01,301 - DEBUG - Position is 0
2018-02-21 09:35:01,301 - DEBUG - Pos Mgmt -12987
2018-02-21 09:35:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDA0>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:35:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:35:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:35:01,302 - DEBUG - Position is -12987
2018-02-21 09:35:02,299 - DEBUG - Open Orders requested
2018-02-21 09:35:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x00000000020ADBA8>, order=<ib.ext.Order.Order object at 0x00000000020ADCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-21 09:35:02,312 - DEBUG - Order OrderID 220
2018-02-21 09:35:02,313 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:35:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 09:35:02,315 - DEBUG - Order Identification 220
2018-02-21 09:35:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:35:02,316 - DEBUG - Profit ID from database is 217
2018-02-21 09:35:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:35:02,321 - DEBUG - Stop ID database is 0
2018-02-21 09:35:02,322 - DEBUG - Entry ID database is 217
2018-02-21 09:35:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x00000000020ADFD0>, order=<ib.ext.Order.Order object at 0x00000000020ADCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141198>>
2018-02-21 09:35:02,322 - DEBUG - Order OrderID 219
2018-02-21 09:35:02,322 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:35:02,323 - DEBUG - Order status PreSubmitted
2018-02-21 09:35:02,323 - DEBUG - Order Identification 219
2018-02-21 09:35:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:35:02,323 - DEBUG - Profit ID from database is 217
2018-02-21 09:35:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:35:02,325 - DEBUG - Stop ID database is 0
2018-02-21 09:35:02,325 - DEBUG - Entry ID database is 217
2018-02-21 09:35:04,299 - DEBUG - Connecting to database
2018-02-21 09:35:04,305 - DEBUG - Connected to database
2018-02-21 09:35:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,308 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:35:04,309 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,309 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:35:04,311 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,312 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:35:04,312 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,312 - DEBUG - Stop quantity 1
2018-02-21 09:35:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,315 - DEBUG - Direction is Short
2018-02-21 09:35:04,316 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,316 - DEBUG - Count is 0
2018-02-21 09:35:04,318 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:35:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:35:04,319 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:35:04,319 - DEBUG - Max ID Order is (220,)
2018-02-21 09:35:04,321 - DEBUG - Today is 2018-02-21
2018-02-21 09:35:04,321 - DEBUG - Day of the week 2
2018-02-21 09:35:04,321 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:35:04,322 - DEBUG - In Position is  0
2018-02-21 09:35:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:35:04,322 - DEBUG - curStopLossFlag is  0
2018-02-21 09:35:04,322 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:35:04,322 - DEBUG - Checking if Entry has been filled
2018-02-21 09:35:04,322 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:35:04,323 - DEBUG - EntryPend is 1
2018-02-21 09:35:04,325 - DEBUG - Try to Cancel Stop
2018-02-21 09:35:04,325 - DEBUG - Stop API ID 0
2018-02-21 09:35:04,325 - DEBUG - Profit API ID 0
2018-02-21 09:35:04,325 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:35:04,325 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:35:04,325 - DEBUG - Pos is 0
2018-02-21 09:35:04,325 - DEBUG - CurCount is 0
2018-02-21 09:35:04,325 - DEBUG - In Pos 0
2018-02-21 09:35:04,325 - DEBUG - Stop ID is 0
2018-02-21 09:35:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:35:04,328 - DEBUG - EntryPend is 1
2018-02-21 09:35:04,328 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:35:04,328 - DEBUG - Entry Date is 10
2018-02-21 09:35:04,328 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:35:04,328 - DEBUG - Order Profit ID is 217
2018-02-21 09:35:04,328 - DEBUG - Order Entry ID is 217
2018-02-21 09:35:04,328 - DEBUG - API ID is  0
2018-02-21 09:35:04,329 - DEBUG - Current Position is 0
2018-02-21 09:35:04,329 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:35:04,329 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:35:04,329 - DEBUG - Time is 9
2018-02-21 09:35:04,331 - DEBUG - Time is <class 'int'>
2018-02-21 09:35:04,331 - DEBUG - Disconnected from IBController
2018-02-21 09:35:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:40:00,259 - DEBUG - ****************************************************
2018-02-21 09:40:00,259 - DEBUG - Current Time is 09:40AM
2018-02-21 09:40:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:40:00,260 - DEBUG - Connecting to database
2018-02-21 09:40:00,305 - DEBUG - Connected to database
2018-02-21 09:40:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:00,308 - DEBUG - Order Profit is 217
2018-02-21 09:40:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:00,309 - DEBUG - Stop ID is 0
2018-02-21 09:40:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:00,311 - DEBUG - Entry ID is 217
2018-02-21 09:40:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:40:00,312 - DEBUG - OCA ID is 1
2018-02-21 09:40:00,312 - DEBUG - Connecting to IBController
2018-02-21 09:40:01,319 - DEBUG - Connected to IBController
2018-02-21 09:40:01,319 - DEBUG - Position requested
2018-02-21 09:40:01,322 - DEBUG - Pos Mgmt 0
2018-02-21 09:40:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, pos=0, avgCost=0.0>
2018-02-21 09:40:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:40:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:40:01,322 - DEBUG - Position is 0
2018-02-21 09:40:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 09:40:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC50>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:40:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:40:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:40:01,323 - DEBUG - Position is -12987
2018-02-21 09:40:02,322 - DEBUG - Open Orders requested
2018-02-21 09:40:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x000000000206CF28>, order=<ib.ext.Order.Order object at 0x000000000206CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102198>>
2018-02-21 09:40:02,325 - DEBUG - Order OrderID 220
2018-02-21 09:40:02,325 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:40:02,325 - DEBUG - Order status PreSubmitted
2018-02-21 09:40:02,325 - DEBUG - Order Identification 220
2018-02-21 09:40:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:40:02,325 - DEBUG - Profit ID from database is 217
2018-02-21 09:40:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:40:02,326 - DEBUG - Stop ID database is 0
2018-02-21 09:40:02,331 - DEBUG - Entry ID database is 217
2018-02-21 09:40:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000206CF28>, order=<ib.ext.Order.Order object at 0x000000000206CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102080>>
2018-02-21 09:40:02,332 - DEBUG - Order OrderID 219
2018-02-21 09:40:02,332 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:40:02,334 - DEBUG - Order status PreSubmitted
2018-02-21 09:40:02,334 - DEBUG - Order Identification 219
2018-02-21 09:40:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:40:02,334 - DEBUG - Profit ID from database is 217
2018-02-21 09:40:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:40:02,335 - DEBUG - Stop ID database is 0
2018-02-21 09:40:02,335 - DEBUG - Entry ID database is 217
2018-02-21 09:40:04,323 - DEBUG - Connecting to database
2018-02-21 09:40:04,331 - DEBUG - Connected to database
2018-02-21 09:40:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,334 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:40:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,335 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:40:04,336 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,336 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:40:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,338 - DEBUG - Stop quantity 1
2018-02-21 09:40:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,339 - DEBUG - Direction is Short
2018-02-21 09:40:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,342 - DEBUG - Count is 0
2018-02-21 09:40:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:40:04,344 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:40:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:40:04,345 - DEBUG - Max ID Order is (220,)
2018-02-21 09:40:04,345 - DEBUG - Today is 2018-02-21
2018-02-21 09:40:04,345 - DEBUG - Day of the week 2
2018-02-21 09:40:04,346 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:40:04,346 - DEBUG - In Position is  0
2018-02-21 09:40:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:40:04,346 - DEBUG - curStopLossFlag is  0
2018-02-21 09:40:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:40:04,348 - DEBUG - Checking if Entry has been filled
2018-02-21 09:40:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:40:04,349 - DEBUG - EntryPend is 1
2018-02-21 09:40:04,349 - DEBUG - Try to Cancel Stop
2018-02-21 09:40:04,349 - DEBUG - Stop API ID 0
2018-02-21 09:40:04,349 - DEBUG - Profit API ID 0
2018-02-21 09:40:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:40:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:40:04,351 - DEBUG - Pos is 0
2018-02-21 09:40:04,351 - DEBUG - CurCount is 0
2018-02-21 09:40:04,351 - DEBUG - In Pos 0
2018-02-21 09:40:04,351 - DEBUG - Stop ID is 0
2018-02-21 09:40:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:40:04,352 - DEBUG - EntryPend is 1
2018-02-21 09:40:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:40:04,354 - DEBUG - Entry Date is 10
2018-02-21 09:40:04,354 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:40:04,354 - DEBUG - Order Profit ID is 217
2018-02-21 09:40:04,354 - DEBUG - Order Entry ID is 217
2018-02-21 09:40:04,355 - DEBUG - API ID is  0
2018-02-21 09:40:04,355 - DEBUG - Current Position is 0
2018-02-21 09:40:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:40:04,355 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:40:04,355 - DEBUG - Time is 9
2018-02-21 09:40:04,355 - DEBUG - Time is <class 'int'>
2018-02-21 09:40:04,355 - DEBUG - Disconnected from IBController
2018-02-21 09:40:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:45:00,263 - DEBUG - ****************************************************
2018-02-21 09:45:00,263 - DEBUG - Current Time is 09:45AM
2018-02-21 09:45:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:45:00,265 - DEBUG - Connecting to database
2018-02-21 09:45:00,322 - DEBUG - Connected to database
2018-02-21 09:45:00,323 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:00,325 - DEBUG - Order Profit is 217
2018-02-21 09:45:00,325 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:00,328 - DEBUG - Stop ID is 0
2018-02-21 09:45:00,328 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:00,328 - DEBUG - Entry ID is 217
2018-02-21 09:45:00,328 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:45:00,331 - DEBUG - OCA ID is 1
2018-02-21 09:45:00,331 - DEBUG - Connecting to IBController
2018-02-21 09:45:01,336 - DEBUG - Connected to IBController
2018-02-21 09:45:01,336 - DEBUG - Position requested
2018-02-21 09:45:01,338 - DEBUG - Pos Mgmt 0
2018-02-21 09:45:01,338 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=0, avgCost=0.0>
2018-02-21 09:45:01,338 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:45:01,339 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:45:01,339 - DEBUG - Position is 0
2018-02-21 09:45:01,339 - DEBUG - Pos Mgmt -12987
2018-02-21 09:45:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:45:01,341 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:45:01,341 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:45:01,341 - DEBUG - Position is -12987
2018-02-21 09:45:02,338 - DEBUG - Open Orders requested
2018-02-21 09:45:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, order=<ib.ext.Order.Order object at 0x000000000204DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-21 09:45:02,341 - DEBUG - Order OrderID 220
2018-02-21 09:45:02,341 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:45:02,342 - DEBUG - Order status PreSubmitted
2018-02-21 09:45:02,342 - DEBUG - Order Identification 220
2018-02-21 09:45:02,342 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:45:02,342 - DEBUG - Profit ID from database is 217
2018-02-21 09:45:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:45:02,342 - DEBUG - Stop ID database is 0
2018-02-21 09:45:02,342 - DEBUG - Entry ID database is 217
2018-02-21 09:45:02,344 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2198>>
2018-02-21 09:45:02,345 - DEBUG - Order OrderID 219
2018-02-21 09:45:02,345 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:45:02,345 - DEBUG - Order status PreSubmitted
2018-02-21 09:45:02,345 - DEBUG - Order Identification 219
2018-02-21 09:45:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:45:02,345 - DEBUG - Profit ID from database is 217
2018-02-21 09:45:02,345 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:45:02,346 - DEBUG - Stop ID database is 0
2018-02-21 09:45:02,346 - DEBUG - Entry ID database is 217
2018-02-21 09:45:04,338 - DEBUG - Connecting to database
2018-02-21 09:45:04,345 - DEBUG - Connected to database
2018-02-21 09:45:04,348 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,348 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:45:04,349 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,349 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:45:04,351 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,351 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:45:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,354 - DEBUG - Stop quantity 1
2018-02-21 09:45:04,355 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,355 - DEBUG - Direction is Short
2018-02-21 09:45:04,357 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,357 - DEBUG - Count is 0
2018-02-21 09:45:04,358 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:45:04,358 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:45:04,359 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:45:04,361 - DEBUG - Max ID Order is (220,)
2018-02-21 09:45:04,361 - DEBUG - Today is 2018-02-21
2018-02-21 09:45:04,361 - DEBUG - Day of the week 2
2018-02-21 09:45:04,361 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:45:04,361 - DEBUG - In Position is  0
2018-02-21 09:45:04,361 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:45:04,362 - DEBUG - curStopLossFlag is  0
2018-02-21 09:45:04,362 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:45:04,362 - DEBUG - Checking if Entry has been filled
2018-02-21 09:45:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:45:04,365 - DEBUG - EntryPend is 1
2018-02-21 09:45:04,365 - DEBUG - Try to Cancel Stop
2018-02-21 09:45:04,365 - DEBUG - Stop API ID 0
2018-02-21 09:45:04,365 - DEBUG - Profit API ID 0
2018-02-21 09:45:04,367 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:45:04,367 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:45:04,367 - DEBUG - Pos is 0
2018-02-21 09:45:04,367 - DEBUG - CurCount is 0
2018-02-21 09:45:04,367 - DEBUG - In Pos 0
2018-02-21 09:45:04,368 - DEBUG - Stop ID is 0
2018-02-21 09:45:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:45:04,368 - DEBUG - EntryPend is 1
2018-02-21 09:45:04,369 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:45:04,369 - DEBUG - Entry Date is 10
2018-02-21 09:45:04,369 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:45:04,369 - DEBUG - Order Profit ID is 217
2018-02-21 09:45:04,371 - DEBUG - Order Entry ID is 217
2018-02-21 09:45:04,371 - DEBUG - API ID is  0
2018-02-21 09:45:04,371 - DEBUG - Current Position is 0
2018-02-21 09:45:04,371 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:45:04,371 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:45:04,371 - DEBUG - Time is 9
2018-02-21 09:45:04,371 - DEBUG - Time is <class 'int'>
2018-02-21 09:45:04,371 - DEBUG - Disconnected from IBController
2018-02-21 09:45:04,372 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:50:00,265 - DEBUG - ****************************************************
2018-02-21 09:50:00,266 - DEBUG - Current Time is 09:50AM
2018-02-21 09:50:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:50:00,266 - DEBUG - Connecting to database
2018-02-21 09:50:00,295 - DEBUG - Connected to database
2018-02-21 09:50:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:00,296 - DEBUG - Order Profit is 217
2018-02-21 09:50:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:00,299 - DEBUG - Stop ID is 0
2018-02-21 09:50:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:00,301 - DEBUG - Entry ID is 217
2018-02-21 09:50:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:50:00,302 - DEBUG - OCA ID is 1
2018-02-21 09:50:00,302 - DEBUG - Connecting to IBController
2018-02-21 09:50:01,311 - DEBUG - Connected to IBController
2018-02-21 09:50:01,311 - DEBUG - Position requested
2018-02-21 09:50:01,312 - DEBUG - Pos Mgmt 0
2018-02-21 09:50:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DBA8>, pos=0, avgCost=0.0>
2018-02-21 09:50:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:50:01,316 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:50:01,321 - DEBUG - Position is 0
2018-02-21 09:50:01,322 - DEBUG - Pos Mgmt -12987
2018-02-21 09:50:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DD30>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:50:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:50:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:50:01,323 - DEBUG - Position is -12987
2018-02-21 09:50:02,312 - DEBUG - Open Orders requested
2018-02-21 09:50:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x000000000200DF28>, order=<ib.ext.Order.Order object at 0x000000000200DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A2198>>
2018-02-21 09:50:02,315 - DEBUG - Order OrderID 220
2018-02-21 09:50:02,315 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:50:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 09:50:02,315 - DEBUG - Order Identification 220
2018-02-21 09:50:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:50:02,316 - DEBUG - Profit ID from database is 217
2018-02-21 09:50:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:50:02,316 - DEBUG - Stop ID database is 0
2018-02-21 09:50:02,316 - DEBUG - Entry ID database is 217
2018-02-21 09:50:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000200DF28>, order=<ib.ext.Order.Order object at 0x000000000200DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A20B8>>
2018-02-21 09:50:02,319 - DEBUG - Order OrderID 219
2018-02-21 09:50:02,319 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:50:02,319 - DEBUG - Order status PreSubmitted
2018-02-21 09:50:02,319 - DEBUG - Order Identification 219
2018-02-21 09:50:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:50:02,319 - DEBUG - Profit ID from database is 217
2018-02-21 09:50:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:50:02,321 - DEBUG - Stop ID database is 0
2018-02-21 09:50:02,321 - DEBUG - Entry ID database is 217
2018-02-21 09:50:04,315 - DEBUG - Connecting to database
2018-02-21 09:50:04,322 - DEBUG - Connected to database
2018-02-21 09:50:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,325 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:50:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,325 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:50:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,328 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:50:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,329 - DEBUG - Stop quantity 1
2018-02-21 09:50:04,331 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,332 - DEBUG - Direction is Short
2018-02-21 09:50:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,332 - DEBUG - Count is 0
2018-02-21 09:50:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:50:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:50:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:50:04,336 - DEBUG - Max ID Order is (220,)
2018-02-21 09:50:04,336 - DEBUG - Today is 2018-02-21
2018-02-21 09:50:04,338 - DEBUG - Day of the week 2
2018-02-21 09:50:04,338 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:50:04,338 - DEBUG - In Position is  0
2018-02-21 09:50:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:50:04,338 - DEBUG - curStopLossFlag is  0
2018-02-21 09:50:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:50:04,338 - DEBUG - Checking if Entry has been filled
2018-02-21 09:50:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:50:04,341 - DEBUG - EntryPend is 1
2018-02-21 09:50:04,341 - DEBUG - Try to Cancel Stop
2018-02-21 09:50:04,341 - DEBUG - Stop API ID 0
2018-02-21 09:50:04,341 - DEBUG - Profit API ID 0
2018-02-21 09:50:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:50:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:50:04,342 - DEBUG - Pos is 0
2018-02-21 09:50:04,342 - DEBUG - CurCount is 0
2018-02-21 09:50:04,342 - DEBUG - In Pos 0
2018-02-21 09:50:04,342 - DEBUG - Stop ID is 0
2018-02-21 09:50:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:50:04,344 - DEBUG - EntryPend is 1
2018-02-21 09:50:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:50:04,345 - DEBUG - Entry Date is 10
2018-02-21 09:50:04,345 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:50:04,345 - DEBUG - Order Profit ID is 217
2018-02-21 09:50:04,345 - DEBUG - Order Entry ID is 217
2018-02-21 09:50:04,345 - DEBUG - API ID is  0
2018-02-21 09:50:04,345 - DEBUG - Current Position is 0
2018-02-21 09:50:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:50:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:50:04,346 - DEBUG - Time is 9
2018-02-21 09:50:04,346 - DEBUG - Time is <class 'int'>
2018-02-21 09:50:04,346 - DEBUG - Disconnected from IBController
2018-02-21 09:50:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 09:55:00,269 - DEBUG - ****************************************************
2018-02-21 09:55:00,269 - DEBUG - Current Time is 09:55AM
2018-02-21 09:55:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-21 09:55:00,270 - DEBUG - Connecting to database
2018-02-21 09:55:00,290 - DEBUG - Connected to database
2018-02-21 09:55:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:00,292 - DEBUG - Order Profit is 217
2018-02-21 09:55:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:00,295 - DEBUG - Stop ID is 0
2018-02-21 09:55:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:00,296 - DEBUG - Entry ID is 217
2018-02-21 09:55:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 09:55:00,298 - DEBUG - OCA ID is 1
2018-02-21 09:55:00,298 - DEBUG - Connecting to IBController
2018-02-21 09:55:01,306 - DEBUG - Connected to IBController
2018-02-21 09:55:01,306 - DEBUG - Position requested
2018-02-21 09:55:01,309 - DEBUG - Pos Mgmt 0
2018-02-21 09:55:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=0, avgCost=0.0>
2018-02-21 09:55:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 09:55:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-21 09:55:01,309 - DEBUG - Position is 0
2018-02-21 09:55:01,309 - DEBUG - Pos Mgmt -12987
2018-02-21 09:55:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-21 09:55:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 09:55:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 09:55:01,312 - DEBUG - Position is -12987
2018-02-21 09:55:02,308 - DEBUG - Open Orders requested
2018-02-21 09:55:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1198>>
2018-02-21 09:55:02,311 - DEBUG - Order OrderID 220
2018-02-21 09:55:02,311 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:55:02,312 - DEBUG - Order status PreSubmitted
2018-02-21 09:55:02,312 - DEBUG - Order Identification 220
2018-02-21 09:55:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:55:02,312 - DEBUG - Profit ID from database is 217
2018-02-21 09:55:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:55:02,312 - DEBUG - Stop ID database is 0
2018-02-21 09:55:02,312 - DEBUG - Entry ID database is 217
2018-02-21 09:55:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-21 09:55:02,315 - DEBUG - Order OrderID 219
2018-02-21 09:55:02,315 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 09:55:02,315 - DEBUG - Order status PreSubmitted
2018-02-21 09:55:02,315 - DEBUG - Order Identification 219
2018-02-21 09:55:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-21 09:55:02,315 - DEBUG - Profit ID from database is 217
2018-02-21 09:55:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 09:55:02,316 - DEBUG - Stop ID database is 0
2018-02-21 09:55:02,316 - DEBUG - Entry ID database is 217
2018-02-21 09:55:04,311 - DEBUG - Connecting to database
2018-02-21 09:55:04,318 - DEBUG - Connected to database
2018-02-21 09:55:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,319 - DEBUG - Stop loss value is 2738.25
2018-02-21 09:55:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,322 - DEBUG - Stop loss value is 2695.0
2018-02-21 09:55:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,323 - DEBUG - EntryPrice value is 2704.5
2018-02-21 09:55:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,325 - DEBUG - Stop quantity 1
2018-02-21 09:55:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,326 - DEBUG - Direction is Short
2018-02-21 09:55:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,328 - DEBUG - Count is 0
2018-02-21 09:55:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 09:55:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-21 09:55:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 09:55:04,332 - DEBUG - Max ID Order is (220,)
2018-02-21 09:55:04,332 - DEBUG - Today is 2018-02-21
2018-02-21 09:55:04,332 - DEBUG - Day of the week 2
2018-02-21 09:55:04,332 - DEBUG - Yesterday is 02/20/2018
2018-02-21 09:55:04,332 - DEBUG - In Position is  0
2018-02-21 09:55:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-21 09:55:04,334 - DEBUG - curStopLossFlag is  0
2018-02-21 09:55:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 09:55:04,334 - DEBUG - Checking if Entry has been filled
2018-02-21 09:55:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:55:04,335 - DEBUG - EntryPend is 1
2018-02-21 09:55:04,336 - DEBUG - Try to Cancel Stop
2018-02-21 09:55:04,336 - DEBUG - Stop API ID 0
2018-02-21 09:55:04,336 - DEBUG - Profit API ID 0
2018-02-21 09:55:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-21 09:55:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-21 09:55:04,338 - DEBUG - Pos is 0
2018-02-21 09:55:04,338 - DEBUG - CurCount is 0
2018-02-21 09:55:04,338 - DEBUG - In Pos 0
2018-02-21 09:55:04,338 - DEBUG - Stop ID is 0
2018-02-21 09:55:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 09:55:04,339 - DEBUG - EntryPend is 1
2018-02-21 09:55:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 09:55:04,341 - DEBUG - Entry Date is 10
2018-02-21 09:55:04,341 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 09:55:04,341 - DEBUG - Order Profit ID is 217
2018-02-21 09:55:04,341 - DEBUG - Order Entry ID is 217
2018-02-21 09:55:04,341 - DEBUG - API ID is  0
2018-02-21 09:55:04,342 - DEBUG - Current Position is 0
2018-02-21 09:55:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-21 09:55:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 09:55:04,342 - DEBUG - Time is 9
2018-02-21 09:55:04,342 - DEBUG - Time is <class 'int'>
2018-02-21 09:55:04,342 - DEBUG - Disconnected from IBController
2018-02-21 09:55:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-21 10:00:00,273 - DEBUG - ****************************************************
2018-02-21 10:00:00,273 - DEBUG - Current Time is 10:00AM
2018-02-21 10:00:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-21 10:00:00,275 - DEBUG - Connecting to database
2018-02-21 10:00:00,398 - DEBUG - Connected to database
2018-02-21 10:00:00,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:00,418 - DEBUG - Order Profit is 217
2018-02-21 10:00:00,418 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:00,421 - DEBUG - Stop ID is 0
2018-02-21 10:00:00,421 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:00,423 - DEBUG - Entry ID is 217
2018-02-21 10:00:00,423 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-21 10:00:00,424 - DEBUG - OCA ID is 1
2018-02-21 10:00:00,424 - DEBUG - Connecting to IBController
2018-02-21 10:00:01,433 - DEBUG - Connected to IBController
2018-02-21 10:00:01,433 - DEBUG - Position requested
2018-02-21 10:00:01,434 - DEBUG - Pos Mgmt 0
2018-02-21 10:00:01,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=0, avgCost=0.0>
2018-02-21 10:00:01,434 - DEBUG - ccy1 Symbol with position is M6E
2018-02-21 10:00:01,436 - DEBUG - ccy2 Currency with position is USD
2018-02-21 10:00:01,436 - DEBUG - Position is 0
2018-02-21 10:00:01,436 - DEBUG - Pos Mgmt -12987
2018-02-21 10:00:01,437 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-21 10:00:01,437 - DEBUG - ccy1 Symbol with position is NZD
2018-02-21 10:00:01,437 - DEBUG - ccy2 Currency with position is CAD
2018-02-21 10:00:01,437 - DEBUG - Position is -12987
2018-02-21 10:00:02,434 - DEBUG - Open Orders requested
2018-02-21 10:00:02,436 - DEBUG - Reply Handler Orders is <openOrder orderId=220, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111198>>
2018-02-21 10:00:02,437 - DEBUG - Order OrderID 220
2018-02-21 10:00:02,437 - DEBUG - reply handler status <orderStatus orderId=220, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351444, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 10:00:02,437 - DEBUG - Order status PreSubmitted
2018-02-21 10:00:02,437 - DEBUG - Order Identification 220
2018-02-21 10:00:02,437 - DEBUG - Order Identification <class 'int'>
2018-02-21 10:00:02,438 - DEBUG - Profit ID from database is 217
2018-02-21 10:00:02,438 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 10:00:02,438 - DEBUG - Stop ID database is 0
2018-02-21 10:00:02,440 - DEBUG - Entry ID database is 217
2018-02-21 10:00:02,440 - DEBUG - Reply Handler Orders is <openOrder orderId=219, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111080>>
2018-02-21 10:00:02,440 - DEBUG - Order OrderID 219
2018-02-21 10:00:02,440 - DEBUG - reply handler status <orderStatus orderId=219, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=443351443, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-21 10:00:02,441 - DEBUG - Order status PreSubmitted
2018-02-21 10:00:02,441 - DEBUG - Order Identification 219
2018-02-21 10:00:02,441 - DEBUG - Order Identification <class 'int'>
2018-02-21 10:00:02,443 - DEBUG - Profit ID from database is 217
2018-02-21 10:00:02,443 - DEBUG - Profit ID from database is <class 'str'>
2018-02-21 10:00:02,443 - DEBUG - Stop ID database is 0
2018-02-21 10:00:02,443 - DEBUG - Entry ID database is 217
2018-02-21 10:00:04,437 - DEBUG - Connecting to database
2018-02-21 10:00:04,446 - DEBUG - Connected to database
2018-02-21 10:00:04,447 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,447 - DEBUG - Stop loss value is 2738.25
2018-02-21 10:00:04,448 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,450 - DEBUG - Stop loss value is 2695.0
2018-02-21 10:00:04,450 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,450 - DEBUG - EntryPrice value is 2704.5
2018-02-21 10:00:04,451 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,453 - DEBUG - Stop quantity 1
2018-02-21 10:00:04,453 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,454 - DEBUG - Direction is Short
2018-02-21 10:00:04,456 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,456 - DEBUG - Count is 0
2018-02-21 10:00:04,457 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-21 10:00:04,457 - DEBUG - Stop Loss Flag is 0
2018-02-21 10:00:04,459 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-21 10:00:04,459 - DEBUG - Max ID Order is (220,)
2018-02-21 10:00:04,460 - DEBUG - Today is 2018-02-21
2018-02-21 10:00:04,460 - DEBUG - Day of the week 2
2018-02-21 10:00:04,460 - DEBUG - Yesterday is 02/20/2018
2018-02-21 10:00:04,460 - DEBUG - In Position is  0
2018-02-21 10:00:04,460 - DEBUG - In Position is  <class 'int'>
2018-02-21 10:00:04,460 - DEBUG - curStopLossFlag is  0
2018-02-21 10:00:04,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-21 10:00:04,461 - DEBUG - Checking if Entry has been filled
2018-02-21 10:00:04,461 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 10:00:04,463 - DEBUG - EntryPend is 1
2018-02-21 10:00:04,463 - DEBUG - Try to Cancel Stop
2018-02-21 10:00:04,463 - DEBUG - Stop API ID 0
2018-02-21 10:00:04,463 - DEBUG - Profit API ID 0
2018-02-21 10:00:04,463 - DEBUG - Stop API ID <class 'int'>
2018-02-21 10:00:04,463 - DEBUG - Profit API ID <class 'int'>
2018-02-21 10:00:04,464 - DEBUG - Pos is 0
2018-02-21 10:00:04,464 - DEBUG - CurCount is 0
2018-02-21 10:00:04,464 - DEBUG - In Pos 0
2018-02-21 10:00:04,464 - DEBUG - Stop ID is 0
2018-02-21 10:00:04,464 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-21 10:00:04,467 - DEBUG - EntryPend is 1
2018-02-21 10:00:04,467 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-21 10:00:04,467 - DEBUG - Entry Date is 10
2018-02-21 10:00:04,467 - DEBUG - confirming yesterday is 02/20/2018
2018-02-21 10:00:04,467 - DEBUG - Order Profit ID is 217
2018-02-21 10:00:04,467 - DEBUG - Order Entry ID is 217
2018-02-21 10:00:04,467 - DEBUG - API ID is  0
2018-02-21 10:00:04,469 - DEBUG - Current Position is 0
2018-02-21 10:00:04,469 - DEBUG - Current Position is <class 'str'>
2018-02-21 10:00:04,469 - DEBUG - Checking if Positions should be close at EOD
2018-02-21 10:00:04,469 - DEBUG - Time is 10
2018-02-21 10:00:04,470 - DEBUG - Time is <class 'int'>
2018-02-21 10:0