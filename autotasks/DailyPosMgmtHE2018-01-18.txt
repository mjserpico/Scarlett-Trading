2018-01-18 09:38:05,418 - DEBUG - ****************************************************
2018-01-18 09:38:05,419 - DEBUG - Current Time is 09:38AM
2018-01-18 09:38:05,419 - DEBUG - Starting Pos Mgmt H E
2018-01-18 09:38:05,420 - DEBUG - Connecting to database
2018-01-18 09:38:05,440 - DEBUG - Connected to database
2018-01-18 09:38:05,441 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:05,442 - DEBUG - Order Profit is 0
2018-01-18 09:38:05,443 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:05,444 - DEBUG - Stop ID is 0
2018-01-18 09:38:05,444 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:05,446 - DEBUG - Entry ID is 108
2018-01-18 09:38:05,446 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 09:38:05,447 - DEBUG - OCA ID is 1
2018-01-18 09:38:05,448 - DEBUG - Connecting to IBController
2018-01-18 09:38:06,452 - DEBUG - Connected to IBController
2018-01-18 09:38:06,452 - DEBUG - Position requested
2018-01-18 09:38:06,453 - DEBUG - Pos Mgmt -12987
2018-01-18 09:38:06,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CB70>, pos=-12987, avgCost=0.95368235>
2018-01-18 09:38:06,454 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 09:38:06,454 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 09:38:06,454 - DEBUG - Position is -12987
2018-01-18 09:38:07,453 - DEBUG - Open Orders requested
2018-01-18 09:38:07,455 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000215CD30>, order=<ib.ext.Order.Order object at 0x000000000215CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F2198>>
2018-01-18 09:38:07,456 - DEBUG - Order OrderID 106
2018-01-18 09:38:07,456 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:38:07,456 - DEBUG - Order status PreSubmitted
2018-01-18 09:38:07,457 - DEBUG - Order Identification 106
2018-01-18 09:38:07,457 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:38:07,457 - DEBUG - Profit ID from database is 0
2018-01-18 09:38:07,457 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:38:07,458 - DEBUG - Stop ID database is 0
2018-01-18 09:38:07,458 - DEBUG - Entry ID database is 108
2018-01-18 09:38:07,459 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000215CD30>, order=<ib.ext.Order.Order object at 0x000000000215CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F20F0>>
2018-01-18 09:38:07,459 - DEBUG - Order OrderID 107
2018-01-18 09:38:07,460 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:38:07,460 - DEBUG - Order status PreSubmitted
2018-01-18 09:38:07,460 - DEBUG - Order Identification 107
2018-01-18 09:38:07,460 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:38:07,461 - DEBUG - Profit ID from database is 0
2018-01-18 09:38:07,461 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:38:07,461 - DEBUG - Stop ID database is 0
2018-01-18 09:38:07,461 - DEBUG - Entry ID database is 108
2018-01-18 09:38:07,462 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000215CD30>, order=<ib.ext.Order.Order object at 0x000000000215CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F2208>>
2018-01-18 09:38:07,463 - DEBUG - Order OrderID 108
2018-01-18 09:38:07,463 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:38:07,463 - DEBUG - Order status PreSubmitted
2018-01-18 09:38:07,464 - DEBUG - Order Identification 108
2018-01-18 09:38:07,464 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:38:07,464 - DEBUG - Profit ID from database is 0
2018-01-18 09:38:07,464 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:38:07,464 - DEBUG - Stop ID database is 0
2018-01-18 09:38:07,465 - DEBUG - Entry ID database is 108
2018-01-18 09:38:07,465 - DEBUG - Entry API ID is 108
2018-01-18 09:38:09,455 - DEBUG - Connecting to database
2018-01-18 09:38:09,462 - DEBUG - Connected to database
2018-01-18 09:38:09,463 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,464 - DEBUG - Stop loss value is 72.30
2018-01-18 09:38:09,465 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,465 - DEBUG - Stop loss value is 84.7
2018-01-18 09:38:09,466 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,467 - DEBUG - EntryPrice value is 73.75
2018-01-18 09:38:09,468 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,469 - DEBUG - Stop quantity 1
2018-01-18 09:38:09,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,470 - DEBUG - Direction is Long
2018-01-18 09:38:09,471 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,472 - DEBUG - Count is 0
2018-01-18 09:38:09,473 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 09:38:09,473 - DEBUG - Stop Loss Flag is 0
2018-01-18 09:38:09,475 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 09:38:09,475 - DEBUG - Max ID Order is (108,)
2018-01-18 09:38:09,475 - DEBUG - Today is 2018-01-18
2018-01-18 09:38:09,476 - DEBUG - Day of the week 3
2018-01-18 09:38:09,476 - DEBUG - Yesterday is 01/17/2018
2018-01-18 09:38:09,476 - DEBUG - In Position is  0
2018-01-18 09:38:09,476 - DEBUG - In Position is  <class 'int'>
2018-01-18 09:38:09,477 - DEBUG - curStopLossFlag is  0
2018-01-18 09:38:09,477 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 09:38:09,477 - DEBUG - Checking if Entry has been filled
2018-01-18 09:38:09,477 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:38:09,479 - DEBUG - EntryPend is 1
2018-01-18 09:38:09,479 - DEBUG - Try to Cancel Stop
2018-01-18 09:38:09,479 - DEBUG - Stop API ID 0
2018-01-18 09:38:09,479 - DEBUG - Profit API ID 0
2018-01-18 09:38:09,479 - DEBUG - Stop API ID <class 'int'>
2018-01-18 09:38:09,480 - DEBUG - Profit API ID <class 'int'>
2018-01-18 09:38:09,480 - DEBUG - Pos is 0
2018-01-18 09:38:09,480 - DEBUG - CurCount is 0
2018-01-18 09:38:09,480 - DEBUG - In Pos 0
2018-01-18 09:38:09,481 - DEBUG - Stop ID is 0
2018-01-18 09:38:09,481 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:38:09,482 - DEBUG - EntryPend is 1
2018-01-18 09:38:09,482 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 09:38:09,483 - DEBUG - Entry Date is 10
2018-01-18 09:38:09,483 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 09:38:09,483 - DEBUG - Order Profit ID is 0
2018-01-18 09:38:09,483 - DEBUG - Order Entry ID is 108
2018-01-18 09:38:09,483 - DEBUG - API ID is  0
2018-01-18 09:38:09,484 - DEBUG - Current Position is 0
2018-01-18 09:38:09,484 - DEBUG - Current Position is <class 'str'>
2018-01-18 09:38:09,484 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 09:38:09,484 - DEBUG - Time is 9
2018-01-18 09:38:09,484 - DEBUG - Time is <class 'int'>
2018-01-18 09:38:09,485 - DEBUG - Time is 38
2018-01-18 09:38:09,485 - DEBUG - Time is <class 'int'>
2018-01-18 09:38:09,485 - DEBUG - Disconnected from IBController
2018-01-18 09:38:09,485 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 09:43:05,340 - DEBUG - ****************************************************
2018-01-18 09:43:05,341 - DEBUG - Current Time is 09:43AM
2018-01-18 09:43:05,341 - DEBUG - Starting Pos Mgmt H E
2018-01-18 09:43:05,342 - DEBUG - Connecting to database
2018-01-18 09:43:05,370 - DEBUG - Connected to database
2018-01-18 09:43:05,370 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:05,373 - DEBUG - Order Profit is 0
2018-01-18 09:43:05,373 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:05,374 - DEBUG - Stop ID is 0
2018-01-18 09:43:05,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:05,376 - DEBUG - Entry ID is 108
2018-01-18 09:43:05,376 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 09:43:05,378 - DEBUG - OCA ID is 1
2018-01-18 09:43:05,378 - DEBUG - Connecting to IBController
2018-01-18 09:43:06,382 - DEBUG - Connected to IBController
2018-01-18 09:43:06,382 - DEBUG - Position requested
2018-01-18 09:43:06,383 - DEBUG - Pos Mgmt -12987
2018-01-18 09:43:06,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCBA8>, pos=-12987, avgCost=0.95368235>
2018-01-18 09:43:06,384 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 09:43:06,384 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 09:43:06,384 - DEBUG - Position is -12987
2018-01-18 09:43:07,383 - DEBUG - Open Orders requested
2018-01-18 09:43:07,385 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020CCB70>, order=<ib.ext.Order.Order object at 0x00000000020CCD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162128>>
2018-01-18 09:43:07,385 - DEBUG - Order OrderID 106
2018-01-18 09:43:07,386 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:43:07,386 - DEBUG - Order status PreSubmitted
2018-01-18 09:43:07,386 - DEBUG - Order Identification 106
2018-01-18 09:43:07,387 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:43:07,387 - DEBUG - Profit ID from database is 0
2018-01-18 09:43:07,387 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:43:07,387 - DEBUG - Stop ID database is 0
2018-01-18 09:43:07,387 - DEBUG - Entry ID database is 108
2018-01-18 09:43:07,389 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020CCFD0>, order=<ib.ext.Order.Order object at 0x00000000020CCD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162198>>
2018-01-18 09:43:07,389 - DEBUG - Order OrderID 107
2018-01-18 09:43:07,389 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:43:07,390 - DEBUG - Order status PreSubmitted
2018-01-18 09:43:07,390 - DEBUG - Order Identification 107
2018-01-18 09:43:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:43:07,390 - DEBUG - Profit ID from database is 0
2018-01-18 09:43:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:43:07,390 - DEBUG - Stop ID database is 0
2018-01-18 09:43:07,391 - DEBUG - Entry ID database is 108
2018-01-18 09:43:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020CCFD0>, order=<ib.ext.Order.Order object at 0x00000000020CCD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162278>>
2018-01-18 09:43:07,392 - DEBUG - Order OrderID 108
2018-01-18 09:43:07,392 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:43:07,393 - DEBUG - Order status PreSubmitted
2018-01-18 09:43:07,393 - DEBUG - Order Identification 108
2018-01-18 09:43:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:43:07,393 - DEBUG - Profit ID from database is 0
2018-01-18 09:43:07,394 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:43:07,394 - DEBUG - Stop ID database is 0
2018-01-18 09:43:07,394 - DEBUG - Entry ID database is 108
2018-01-18 09:43:07,394 - DEBUG - Entry API ID is 108
2018-01-18 09:43:09,383 - DEBUG - Connecting to database
2018-01-18 09:43:09,391 - DEBUG - Connected to database
2018-01-18 09:43:09,392 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,393 - DEBUG - Stop loss value is 72.30
2018-01-18 09:43:09,394 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,395 - DEBUG - Stop loss value is 84.7
2018-01-18 09:43:09,396 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,396 - DEBUG - EntryPrice value is 73.75
2018-01-18 09:43:09,397 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,398 - DEBUG - Stop quantity 1
2018-01-18 09:43:09,399 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,399 - DEBUG - Direction is Long
2018-01-18 09:43:09,401 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,401 - DEBUG - Count is 0
2018-01-18 09:43:09,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 09:43:09,402 - DEBUG - Stop Loss Flag is 0
2018-01-18 09:43:09,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 09:43:09,404 - DEBUG - Max ID Order is (108,)
2018-01-18 09:43:09,405 - DEBUG - Today is 2018-01-18
2018-01-18 09:43:09,405 - DEBUG - Day of the week 3
2018-01-18 09:43:09,405 - DEBUG - Yesterday is 01/17/2018
2018-01-18 09:43:09,405 - DEBUG - In Position is  0
2018-01-18 09:43:09,406 - DEBUG - In Position is  <class 'int'>
2018-01-18 09:43:09,406 - DEBUG - curStopLossFlag is  0
2018-01-18 09:43:09,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 09:43:09,406 - DEBUG - Checking if Entry has been filled
2018-01-18 09:43:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:43:09,408 - DEBUG - EntryPend is 1
2018-01-18 09:43:09,408 - DEBUG - Try to Cancel Stop
2018-01-18 09:43:09,408 - DEBUG - Stop API ID 0
2018-01-18 09:43:09,409 - DEBUG - Profit API ID 0
2018-01-18 09:43:09,409 - DEBUG - Stop API ID <class 'int'>
2018-01-18 09:43:09,409 - DEBUG - Profit API ID <class 'int'>
2018-01-18 09:43:09,409 - DEBUG - Pos is 0
2018-01-18 09:43:09,409 - DEBUG - CurCount is 0
2018-01-18 09:43:09,410 - DEBUG - In Pos 0
2018-01-18 09:43:09,410 - DEBUG - Stop ID is 0
2018-01-18 09:43:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:43:09,412 - DEBUG - EntryPend is 1
2018-01-18 09:43:09,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 09:43:09,412 - DEBUG - Entry Date is 10
2018-01-18 09:43:09,412 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 09:43:09,412 - DEBUG - Order Profit ID is 0
2018-01-18 09:43:09,413 - DEBUG - Order Entry ID is 108
2018-01-18 09:43:09,413 - DEBUG - API ID is  0
2018-01-18 09:43:09,413 - DEBUG - Current Position is 0
2018-01-18 09:43:09,413 - DEBUG - Current Position is <class 'str'>
2018-01-18 09:43:09,414 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 09:43:09,414 - DEBUG - Time is 9
2018-01-18 09:43:09,414 - DEBUG - Time is <class 'int'>
2018-01-18 09:43:09,414 - DEBUG - Time is 43
2018-01-18 09:43:09,414 - DEBUG - Time is <class 'int'>
2018-01-18 09:43:09,415 - DEBUG - Disconnected from IBController
2018-01-18 09:43:09,415 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 09:48:05,357 - DEBUG - ****************************************************
2018-01-18 09:48:05,358 - DEBUG - Current Time is 09:48AM
2018-01-18 09:48:05,358 - DEBUG - Starting Pos Mgmt H E
2018-01-18 09:48:05,358 - DEBUG - Connecting to database
2018-01-18 09:48:05,438 - DEBUG - Connected to database
2018-01-18 09:48:05,438 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:05,440 - DEBUG - Order Profit is 0
2018-01-18 09:48:05,440 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:05,442 - DEBUG - Stop ID is 0
2018-01-18 09:48:05,442 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:05,443 - DEBUG - Entry ID is 108
2018-01-18 09:48:05,443 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 09:48:05,445 - DEBUG - OCA ID is 1
2018-01-18 09:48:05,445 - DEBUG - Connecting to IBController
2018-01-18 09:48:06,454 - DEBUG - Connected to IBController
2018-01-18 09:48:06,454 - DEBUG - Position requested
2018-01-18 09:48:06,455 - DEBUG - Pos Mgmt -12987
2018-01-18 09:48:06,456 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BD30>, pos=-12987, avgCost=0.95368235>
2018-01-18 09:48:06,456 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 09:48:06,456 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 09:48:06,457 - DEBUG - Position is -12987
2018-01-18 09:48:07,455 - DEBUG - Open Orders requested
2018-01-18 09:48:07,457 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000213BDD8>, order=<ib.ext.Order.Order object at 0x000000000213BBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D0198>>
2018-01-18 09:48:07,458 - DEBUG - Order OrderID 106
2018-01-18 09:48:07,458 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:48:07,458 - DEBUG - Order status PreSubmitted
2018-01-18 09:48:07,459 - DEBUG - Order Identification 106
2018-01-18 09:48:07,459 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:48:07,460 - DEBUG - Profit ID from database is 0
2018-01-18 09:48:07,460 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:48:07,460 - DEBUG - Stop ID database is 0
2018-01-18 09:48:07,460 - DEBUG - Entry ID database is 108
2018-01-18 09:48:07,461 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000213BDD8>, order=<ib.ext.Order.Order object at 0x000000000213BBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D0128>>
2018-01-18 09:48:07,462 - DEBUG - Order OrderID 107
2018-01-18 09:48:07,462 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:48:07,462 - DEBUG - Order status PreSubmitted
2018-01-18 09:48:07,462 - DEBUG - Order Identification 107
2018-01-18 09:48:07,463 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:48:07,463 - DEBUG - Profit ID from database is 0
2018-01-18 09:48:07,463 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:48:07,463 - DEBUG - Stop ID database is 0
2018-01-18 09:48:07,463 - DEBUG - Entry ID database is 108
2018-01-18 09:48:07,464 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000213BDD8>, order=<ib.ext.Order.Order object at 0x000000000213BBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D0208>>
2018-01-18 09:48:07,465 - DEBUG - Order OrderID 108
2018-01-18 09:48:07,465 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:48:07,465 - DEBUG - Order status PreSubmitted
2018-01-18 09:48:07,466 - DEBUG - Order Identification 108
2018-01-18 09:48:07,466 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:48:07,466 - DEBUG - Profit ID from database is 0
2018-01-18 09:48:07,466 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:48:07,467 - DEBUG - Stop ID database is 0
2018-01-18 09:48:07,467 - DEBUG - Entry ID database is 108
2018-01-18 09:48:07,467 - DEBUG - Entry API ID is 108
2018-01-18 09:48:09,457 - DEBUG - Connecting to database
2018-01-18 09:48:09,464 - DEBUG - Connected to database
2018-01-18 09:48:09,465 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,466 - DEBUG - Stop loss value is 72.30
2018-01-18 09:48:09,467 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,467 - DEBUG - Stop loss value is 84.7
2018-01-18 09:48:09,469 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,469 - DEBUG - EntryPrice value is 73.75
2018-01-18 09:48:09,470 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,470 - DEBUG - Stop quantity 1
2018-01-18 09:48:09,472 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,472 - DEBUG - Direction is Long
2018-01-18 09:48:09,473 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,474 - DEBUG - Count is 0
2018-01-18 09:48:09,475 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 09:48:09,475 - DEBUG - Stop Loss Flag is 0
2018-01-18 09:48:09,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 09:48:09,477 - DEBUG - Max ID Order is (108,)
2018-01-18 09:48:09,477 - DEBUG - Today is 2018-01-18
2018-01-18 09:48:09,478 - DEBUG - Day of the week 3
2018-01-18 09:48:09,478 - DEBUG - Yesterday is 01/17/2018
2018-01-18 09:48:09,478 - DEBUG - In Position is  0
2018-01-18 09:48:09,478 - DEBUG - In Position is  <class 'int'>
2018-01-18 09:48:09,478 - DEBUG - curStopLossFlag is  0
2018-01-18 09:48:09,479 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 09:48:09,479 - DEBUG - Checking if Entry has been filled
2018-01-18 09:48:09,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:48:09,480 - DEBUG - EntryPend is 1
2018-01-18 09:48:09,481 - DEBUG - Try to Cancel Stop
2018-01-18 09:48:09,481 - DEBUG - Stop API ID 0
2018-01-18 09:48:09,481 - DEBUG - Profit API ID 0
2018-01-18 09:48:09,481 - DEBUG - Stop API ID <class 'int'>
2018-01-18 09:48:09,482 - DEBUG - Profit API ID <class 'int'>
2018-01-18 09:48:09,482 - DEBUG - Pos is 0
2018-01-18 09:48:09,482 - DEBUG - CurCount is 0
2018-01-18 09:48:09,482 - DEBUG - In Pos 0
2018-01-18 09:48:09,482 - DEBUG - Stop ID is 0
2018-01-18 09:48:09,483 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:48:09,484 - DEBUG - EntryPend is 1
2018-01-18 09:48:09,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 09:48:09,484 - DEBUG - Entry Date is 10
2018-01-18 09:48:09,485 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 09:48:09,485 - DEBUG - Order Profit ID is 0
2018-01-18 09:48:09,485 - DEBUG - Order Entry ID is 108
2018-01-18 09:48:09,485 - DEBUG - API ID is  0
2018-01-18 09:48:09,485 - DEBUG - Current Position is 0
2018-01-18 09:48:09,486 - DEBUG - Current Position is <class 'str'>
2018-01-18 09:48:09,486 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 09:48:09,486 - DEBUG - Time is 9
2018-01-18 09:48:09,486 - DEBUG - Time is <class 'int'>
2018-01-18 09:48:09,486 - DEBUG - Time is 48
2018-01-18 09:48:09,487 - DEBUG - Time is <class 'int'>
2018-01-18 09:48:09,487 - DEBUG - Disconnected from IBController
2018-01-18 09:48:09,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 09:53:05,341 - DEBUG - ****************************************************
2018-01-18 09:53:05,341 - DEBUG - Current Time is 09:53AM
2018-01-18 09:53:05,342 - DEBUG - Starting Pos Mgmt H E
2018-01-18 09:53:05,342 - DEBUG - Connecting to database
2018-01-18 09:53:05,368 - DEBUG - Connected to database
2018-01-18 09:53:05,369 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:05,370 - DEBUG - Order Profit is 0
2018-01-18 09:53:05,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:05,372 - DEBUG - Stop ID is 0
2018-01-18 09:53:05,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:05,374 - DEBUG - Entry ID is 108
2018-01-18 09:53:05,374 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 09:53:05,376 - DEBUG - OCA ID is 1
2018-01-18 09:53:05,377 - DEBUG - Connecting to IBController
2018-01-18 09:53:06,381 - DEBUG - Connected to IBController
2018-01-18 09:53:06,381 - DEBUG - Position requested
2018-01-18 09:53:06,382 - DEBUG - Pos Mgmt -12987
2018-01-18 09:53:06,382 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DDA0>, pos=-12987, avgCost=0.95368235>
2018-01-18 09:53:06,383 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 09:53:06,383 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 09:53:06,383 - DEBUG - Position is -12987
2018-01-18 09:53:07,382 - DEBUG - Open Orders requested
2018-01-18 09:53:07,384 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DC50>, order=<ib.ext.Order.Order object at 0x000000000211DB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2128>>
2018-01-18 09:53:07,384 - DEBUG - Order OrderID 106
2018-01-18 09:53:07,384 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:53:07,385 - DEBUG - Order status PreSubmitted
2018-01-18 09:53:07,385 - DEBUG - Order Identification 106
2018-01-18 09:53:07,385 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:53:07,386 - DEBUG - Profit ID from database is 0
2018-01-18 09:53:07,386 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:53:07,386 - DEBUG - Stop ID database is 0
2018-01-18 09:53:07,386 - DEBUG - Entry ID database is 108
2018-01-18 09:53:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DFD0>, order=<ib.ext.Order.Order object at 0x000000000211DB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2198>>
2018-01-18 09:53:07,388 - DEBUG - Order OrderID 107
2018-01-18 09:53:07,388 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:53:07,388 - DEBUG - Order status PreSubmitted
2018-01-18 09:53:07,389 - DEBUG - Order Identification 107
2018-01-18 09:53:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:53:07,389 - DEBUG - Profit ID from database is 0
2018-01-18 09:53:07,389 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:53:07,389 - DEBUG - Stop ID database is 0
2018-01-18 09:53:07,390 - DEBUG - Entry ID database is 108
2018-01-18 09:53:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DFD0>, order=<ib.ext.Order.Order object at 0x000000000211DB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2278>>
2018-01-18 09:53:07,391 - DEBUG - Order OrderID 108
2018-01-18 09:53:07,391 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:53:07,392 - DEBUG - Order status PreSubmitted
2018-01-18 09:53:07,392 - DEBUG - Order Identification 108
2018-01-18 09:53:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:53:07,392 - DEBUG - Profit ID from database is 0
2018-01-18 09:53:07,392 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:53:07,393 - DEBUG - Stop ID database is 0
2018-01-18 09:53:07,393 - DEBUG - Entry ID database is 108
2018-01-18 09:53:07,393 - DEBUG - Entry API ID is 108
2018-01-18 09:53:09,382 - DEBUG - Connecting to database
2018-01-18 09:53:09,389 - DEBUG - Connected to database
2018-01-18 09:53:09,390 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,391 - DEBUG - Stop loss value is 72.30
2018-01-18 09:53:09,392 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,392 - DEBUG - Stop loss value is 84.7
2018-01-18 09:53:09,394 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,394 - DEBUG - EntryPrice value is 73.75
2018-01-18 09:53:09,395 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,396 - DEBUG - Stop quantity 1
2018-01-18 09:53:09,397 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,397 - DEBUG - Direction is Long
2018-01-18 09:53:09,398 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,399 - DEBUG - Count is 0
2018-01-18 09:53:09,400 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 09:53:09,400 - DEBUG - Stop Loss Flag is 0
2018-01-18 09:53:09,402 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 09:53:09,402 - DEBUG - Max ID Order is (108,)
2018-01-18 09:53:09,402 - DEBUG - Today is 2018-01-18
2018-01-18 09:53:09,403 - DEBUG - Day of the week 3
2018-01-18 09:53:09,403 - DEBUG - Yesterday is 01/17/2018
2018-01-18 09:53:09,403 - DEBUG - In Position is  0
2018-01-18 09:53:09,403 - DEBUG - In Position is  <class 'int'>
2018-01-18 09:53:09,404 - DEBUG - curStopLossFlag is  0
2018-01-18 09:53:09,404 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 09:53:09,404 - DEBUG - Checking if Entry has been filled
2018-01-18 09:53:09,404 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:53:09,406 - DEBUG - EntryPend is 1
2018-01-18 09:53:09,406 - DEBUG - Try to Cancel Stop
2018-01-18 09:53:09,406 - DEBUG - Stop API ID 0
2018-01-18 09:53:09,406 - DEBUG - Profit API ID 0
2018-01-18 09:53:09,406 - DEBUG - Stop API ID <class 'int'>
2018-01-18 09:53:09,407 - DEBUG - Profit API ID <class 'int'>
2018-01-18 09:53:09,407 - DEBUG - Pos is 0
2018-01-18 09:53:09,407 - DEBUG - CurCount is 0
2018-01-18 09:53:09,407 - DEBUG - In Pos 0
2018-01-18 09:53:09,407 - DEBUG - Stop ID is 0
2018-01-18 09:53:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:53:09,409 - DEBUG - EntryPend is 1
2018-01-18 09:53:09,409 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 09:53:09,410 - DEBUG - Entry Date is 10
2018-01-18 09:53:09,410 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 09:53:09,410 - DEBUG - Order Profit ID is 0
2018-01-18 09:53:09,410 - DEBUG - Order Entry ID is 108
2018-01-18 09:53:09,410 - DEBUG - API ID is  0
2018-01-18 09:53:09,411 - DEBUG - Current Position is 0
2018-01-18 09:53:09,411 - DEBUG - Current Position is <class 'str'>
2018-01-18 09:53:09,411 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 09:53:09,411 - DEBUG - Time is 9
2018-01-18 09:53:09,411 - DEBUG - Time is <class 'int'>
2018-01-18 09:53:09,412 - DEBUG - Time is 53
2018-01-18 09:53:09,412 - DEBUG - Time is <class 'int'>
2018-01-18 09:53:09,412 - DEBUG - Disconnected from IBController
2018-01-18 09:53:09,413 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 09:58:05,361 - DEBUG - ****************************************************
2018-01-18 09:58:05,362 - DEBUG - Current Time is 09:58AM
2018-01-18 09:58:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-18 09:58:05,362 - DEBUG - Connecting to database
2018-01-18 09:58:05,385 - DEBUG - Connected to database
2018-01-18 09:58:05,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:05,387 - DEBUG - Order Profit is 0
2018-01-18 09:58:05,387 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:05,389 - DEBUG - Stop ID is 0
2018-01-18 09:58:05,389 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:05,390 - DEBUG - Entry ID is 108
2018-01-18 09:58:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 09:58:05,392 - DEBUG - OCA ID is 1
2018-01-18 09:58:05,392 - DEBUG - Connecting to IBController
2018-01-18 09:58:06,396 - DEBUG - Connected to IBController
2018-01-18 09:58:06,396 - DEBUG - Position requested
2018-01-18 09:58:06,397 - DEBUG - Pos Mgmt -12987
2018-01-18 09:58:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 09:58:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 09:58:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 09:58:06,398 - DEBUG - Position is -12987
2018-01-18 09:58:07,397 - DEBUG - Open Orders requested
2018-01-18 09:58:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC18>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191198>>
2018-01-18 09:58:07,403 - DEBUG - Order OrderID 106
2018-01-18 09:58:07,403 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:58:07,404 - DEBUG - Order status PreSubmitted
2018-01-18 09:58:07,404 - DEBUG - Order Identification 106
2018-01-18 09:58:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:58:07,405 - DEBUG - Profit ID from database is 0
2018-01-18 09:58:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:58:07,405 - DEBUG - Stop ID database is 0
2018-01-18 09:58:07,405 - DEBUG - Entry ID database is 108
2018-01-18 09:58:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC18>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021910B8>>
2018-01-18 09:58:07,407 - DEBUG - Order OrderID 107
2018-01-18 09:58:07,407 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:58:07,407 - DEBUG - Order status PreSubmitted
2018-01-18 09:58:07,408 - DEBUG - Order Identification 107
2018-01-18 09:58:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:58:07,408 - DEBUG - Profit ID from database is 0
2018-01-18 09:58:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:58:07,408 - DEBUG - Stop ID database is 0
2018-01-18 09:58:07,409 - DEBUG - Entry ID database is 108
2018-01-18 09:58:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC18>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191208>>
2018-01-18 09:58:07,410 - DEBUG - Order OrderID 108
2018-01-18 09:58:07,411 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 09:58:07,411 - DEBUG - Order status PreSubmitted
2018-01-18 09:58:07,411 - DEBUG - Order Identification 108
2018-01-18 09:58:07,411 - DEBUG - Order Identification <class 'int'>
2018-01-18 09:58:07,411 - DEBUG - Profit ID from database is 0
2018-01-18 09:58:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 09:58:07,412 - DEBUG - Stop ID database is 0
2018-01-18 09:58:07,412 - DEBUG - Entry ID database is 108
2018-01-18 09:58:07,412 - DEBUG - Entry API ID is 108
2018-01-18 09:58:09,403 - DEBUG - Connecting to database
2018-01-18 09:58:09,410 - DEBUG - Connected to database
2018-01-18 09:58:09,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,411 - DEBUG - Stop loss value is 72.30
2018-01-18 09:58:09,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,413 - DEBUG - Stop loss value is 84.7
2018-01-18 09:58:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,415 - DEBUG - EntryPrice value is 73.75
2018-01-18 09:58:09,416 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,416 - DEBUG - Stop quantity 1
2018-01-18 09:58:09,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,418 - DEBUG - Direction is Long
2018-01-18 09:58:09,419 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,419 - DEBUG - Count is 0
2018-01-18 09:58:09,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 09:58:09,421 - DEBUG - Stop Loss Flag is 0
2018-01-18 09:58:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 09:58:09,423 - DEBUG - Max ID Order is (108,)
2018-01-18 09:58:09,423 - DEBUG - Today is 2018-01-18
2018-01-18 09:58:09,423 - DEBUG - Day of the week 3
2018-01-18 09:58:09,424 - DEBUG - Yesterday is 01/17/2018
2018-01-18 09:58:09,424 - DEBUG - In Position is  0
2018-01-18 09:58:09,424 - DEBUG - In Position is  <class 'int'>
2018-01-18 09:58:09,424 - DEBUG - curStopLossFlag is  0
2018-01-18 09:58:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 09:58:09,425 - DEBUG - Checking if Entry has been filled
2018-01-18 09:58:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:58:09,426 - DEBUG - EntryPend is 1
2018-01-18 09:58:09,427 - DEBUG - Try to Cancel Stop
2018-01-18 09:58:09,427 - DEBUG - Stop API ID 0
2018-01-18 09:58:09,427 - DEBUG - Profit API ID 0
2018-01-18 09:58:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-18 09:58:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-18 09:58:09,428 - DEBUG - Pos is 0
2018-01-18 09:58:09,428 - DEBUG - CurCount is 0
2018-01-18 09:58:09,428 - DEBUG - In Pos 0
2018-01-18 09:58:09,428 - DEBUG - Stop ID is 0
2018-01-18 09:58:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 09:58:09,430 - DEBUG - EntryPend is 1
2018-01-18 09:58:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 09:58:09,430 - DEBUG - Entry Date is 10
2018-01-18 09:58:09,430 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 09:58:09,431 - DEBUG - Order Profit ID is 0
2018-01-18 09:58:09,431 - DEBUG - Order Entry ID is 108
2018-01-18 09:58:09,431 - DEBUG - API ID is  0
2018-01-18 09:58:09,431 - DEBUG - Current Position is 0
2018-01-18 09:58:09,432 - DEBUG - Current Position is <class 'str'>
2018-01-18 09:58:09,432 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 09:58:09,432 - DEBUG - Time is 9
2018-01-18 09:58:09,432 - DEBUG - Time is <class 'int'>
2018-01-18 09:58:09,432 - DEBUG - Time is 58
2018-01-18 09:58:09,433 - DEBUG - Time is <class 'int'>
2018-01-18 09:58:09,433 - DEBUG - Disconnected from IBController
2018-01-18 09:58:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:03:05,368 - DEBUG - ****************************************************
2018-01-18 10:03:05,368 - DEBUG - Current Time is 10:03AM
2018-01-18 10:03:05,369 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:03:05,369 - DEBUG - Connecting to database
2018-01-18 10:03:05,414 - DEBUG - Connected to database
2018-01-18 10:03:05,415 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:05,416 - DEBUG - Order Profit is 0
2018-01-18 10:03:05,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:05,418 - DEBUG - Stop ID is 0
2018-01-18 10:03:05,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:05,419 - DEBUG - Entry ID is 108
2018-01-18 10:03:05,420 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:03:05,421 - DEBUG - OCA ID is 1
2018-01-18 10:03:05,421 - DEBUG - Connecting to IBController
2018-01-18 10:03:06,426 - DEBUG - Connected to IBController
2018-01-18 10:03:06,426 - DEBUG - Position requested
2018-01-18 10:03:06,427 - DEBUG - Pos Mgmt -12987
2018-01-18 10:03:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DA90>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:03:06,428 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:03:06,428 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:03:06,428 - DEBUG - Position is -12987
2018-01-18 10:03:07,427 - DEBUG - Open Orders requested
2018-01-18 10:03:07,429 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000212DC50>, order=<ib.ext.Order.Order object at 0x000000000212DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2128>>
2018-01-18 10:03:07,429 - DEBUG - Order OrderID 106
2018-01-18 10:03:07,430 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:03:07,430 - DEBUG - Order status PreSubmitted
2018-01-18 10:03:07,430 - DEBUG - Order Identification 106
2018-01-18 10:03:07,430 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:03:07,431 - DEBUG - Profit ID from database is 0
2018-01-18 10:03:07,431 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:03:07,431 - DEBUG - Stop ID database is 0
2018-01-18 10:03:07,431 - DEBUG - Entry ID database is 108
2018-01-18 10:03:07,432 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2198>>
2018-01-18 10:03:07,433 - DEBUG - Order OrderID 107
2018-01-18 10:03:07,433 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:03:07,433 - DEBUG - Order status PreSubmitted
2018-01-18 10:03:07,434 - DEBUG - Order Identification 107
2018-01-18 10:03:07,434 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:03:07,434 - DEBUG - Profit ID from database is 0
2018-01-18 10:03:07,434 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:03:07,434 - DEBUG - Stop ID database is 0
2018-01-18 10:03:07,435 - DEBUG - Entry ID database is 108
2018-01-18 10:03:07,436 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2278>>
2018-01-18 10:03:07,436 - DEBUG - Order OrderID 108
2018-01-18 10:03:07,436 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:03:07,437 - DEBUG - Order status PreSubmitted
2018-01-18 10:03:07,437 - DEBUG - Order Identification 108
2018-01-18 10:03:07,437 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:03:07,437 - DEBUG - Profit ID from database is 0
2018-01-18 10:03:07,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:03:07,438 - DEBUG - Stop ID database is 0
2018-01-18 10:03:07,438 - DEBUG - Entry ID database is 108
2018-01-18 10:03:07,438 - DEBUG - Entry API ID is 108
2018-01-18 10:03:09,428 - DEBUG - Connecting to database
2018-01-18 10:03:09,435 - DEBUG - Connected to database
2018-01-18 10:03:09,436 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,437 - DEBUG - Stop loss value is 72.30
2018-01-18 10:03:09,438 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,438 - DEBUG - Stop loss value is 84.7
2018-01-18 10:03:09,440 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,440 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:03:09,441 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,442 - DEBUG - Stop quantity 1
2018-01-18 10:03:09,443 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,443 - DEBUG - Direction is Long
2018-01-18 10:03:09,445 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,445 - DEBUG - Count is 0
2018-01-18 10:03:09,446 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:03:09,446 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:03:09,448 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:03:09,448 - DEBUG - Max ID Order is (108,)
2018-01-18 10:03:09,448 - DEBUG - Today is 2018-01-18
2018-01-18 10:03:09,449 - DEBUG - Day of the week 3
2018-01-18 10:03:09,449 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:03:09,449 - DEBUG - In Position is  0
2018-01-18 10:03:09,449 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:03:09,450 - DEBUG - curStopLossFlag is  0
2018-01-18 10:03:09,450 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:03:09,450 - DEBUG - Checking if Entry has been filled
2018-01-18 10:03:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:03:09,452 - DEBUG - EntryPend is 1
2018-01-18 10:03:09,452 - DEBUG - Try to Cancel Stop
2018-01-18 10:03:09,452 - DEBUG - Stop API ID 0
2018-01-18 10:03:09,452 - DEBUG - Profit API ID 0
2018-01-18 10:03:09,453 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:03:09,453 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:03:09,453 - DEBUG - Pos is 0
2018-01-18 10:03:09,453 - DEBUG - CurCount is 0
2018-01-18 10:03:09,453 - DEBUG - In Pos 0
2018-01-18 10:03:09,454 - DEBUG - Stop ID is 0
2018-01-18 10:03:09,454 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:03:09,455 - DEBUG - EntryPend is 1
2018-01-18 10:03:09,455 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:03:09,456 - DEBUG - Entry Date is 10
2018-01-18 10:03:09,456 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:03:09,456 - DEBUG - Order Profit ID is 0
2018-01-18 10:03:09,456 - DEBUG - Order Entry ID is 108
2018-01-18 10:03:09,456 - DEBUG - API ID is  0
2018-01-18 10:03:09,457 - DEBUG - Current Position is 0
2018-01-18 10:03:09,457 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:03:09,457 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:03:09,457 - DEBUG - Time is 10
2018-01-18 10:03:09,457 - DEBUG - Time is <class 'int'>
2018-01-18 10:03:09,458 - DEBUG - Time is 3
2018-01-18 10:03:09,458 - DEBUG - Time is <class 'int'>
2018-01-18 10:03:09,458 - DEBUG - Disconnected from IBController
2018-01-18 10:03:09,458 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:08:05,355 - DEBUG - ****************************************************
2018-01-18 10:08:05,355 - DEBUG - Current Time is 10:08AM
2018-01-18 10:08:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:08:05,356 - DEBUG - Connecting to database
2018-01-18 10:08:05,386 - DEBUG - Connected to database
2018-01-18 10:08:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:05,388 - DEBUG - Order Profit is 0
2018-01-18 10:08:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:05,390 - DEBUG - Stop ID is 0
2018-01-18 10:08:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:05,392 - DEBUG - Entry ID is 108
2018-01-18 10:08:05,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:08:05,394 - DEBUG - OCA ID is 1
2018-01-18 10:08:05,394 - DEBUG - Connecting to IBController
2018-01-18 10:08:06,402 - DEBUG - Connected to IBController
2018-01-18 10:08:06,402 - DEBUG - Position requested
2018-01-18 10:08:06,403 - DEBUG - Pos Mgmt -12987
2018-01-18 10:08:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:08:06,404 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:08:06,404 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:08:06,404 - DEBUG - Position is -12987
2018-01-18 10:08:07,404 - DEBUG - Open Orders requested
2018-01-18 10:08:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000214DBE0>, order=<ib.ext.Order.Order object at 0x000000000214DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1198>>
2018-01-18 10:08:07,408 - DEBUG - Order OrderID 106
2018-01-18 10:08:07,408 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:08:07,409 - DEBUG - Order status PreSubmitted
2018-01-18 10:08:07,409 - DEBUG - Order Identification 106
2018-01-18 10:08:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:08:07,409 - DEBUG - Profit ID from database is 0
2018-01-18 10:08:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:08:07,410 - DEBUG - Stop ID database is 0
2018-01-18 10:08:07,410 - DEBUG - Entry ID database is 108
2018-01-18 10:08:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000214DBE0>, order=<ib.ext.Order.Order object at 0x000000000214DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E10F0>>
2018-01-18 10:08:07,411 - DEBUG - Order OrderID 107
2018-01-18 10:08:07,412 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:08:07,412 - DEBUG - Order status PreSubmitted
2018-01-18 10:08:07,412 - DEBUG - Order Identification 107
2018-01-18 10:08:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:08:07,413 - DEBUG - Profit ID from database is 0
2018-01-18 10:08:07,413 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:08:07,413 - DEBUG - Stop ID database is 0
2018-01-18 10:08:07,413 - DEBUG - Entry ID database is 108
2018-01-18 10:08:07,414 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000214DBE0>, order=<ib.ext.Order.Order object at 0x000000000214DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1208>>
2018-01-18 10:08:07,415 - DEBUG - Order OrderID 108
2018-01-18 10:08:07,415 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:08:07,416 - DEBUG - Order status PreSubmitted
2018-01-18 10:08:07,416 - DEBUG - Order Identification 108
2018-01-18 10:08:07,416 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:08:07,416 - DEBUG - Profit ID from database is 0
2018-01-18 10:08:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:08:07,417 - DEBUG - Stop ID database is 0
2018-01-18 10:08:07,417 - DEBUG - Entry ID database is 108
2018-01-18 10:08:07,417 - DEBUG - Entry API ID is 108
2018-01-18 10:08:09,408 - DEBUG - Connecting to database
2018-01-18 10:08:09,415 - DEBUG - Connected to database
2018-01-18 10:08:09,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,417 - DEBUG - Stop loss value is 72.30
2018-01-18 10:08:09,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,418 - DEBUG - Stop loss value is 84.7
2018-01-18 10:08:09,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,420 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:08:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,422 - DEBUG - Stop quantity 1
2018-01-18 10:08:09,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,424 - DEBUG - Direction is Long
2018-01-18 10:08:09,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,426 - DEBUG - Count is 0
2018-01-18 10:08:09,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:08:09,427 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:08:09,429 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:08:09,429 - DEBUG - Max ID Order is (108,)
2018-01-18 10:08:09,429 - DEBUG - Today is 2018-01-18
2018-01-18 10:08:09,430 - DEBUG - Day of the week 3
2018-01-18 10:08:09,430 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:08:09,430 - DEBUG - In Position is  0
2018-01-18 10:08:09,430 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:08:09,431 - DEBUG - curStopLossFlag is  0
2018-01-18 10:08:09,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:08:09,431 - DEBUG - Checking if Entry has been filled
2018-01-18 10:08:09,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:08:09,433 - DEBUG - EntryPend is 1
2018-01-18 10:08:09,433 - DEBUG - Try to Cancel Stop
2018-01-18 10:08:09,433 - DEBUG - Stop API ID 0
2018-01-18 10:08:09,433 - DEBUG - Profit API ID 0
2018-01-18 10:08:09,434 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:08:09,434 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:08:09,434 - DEBUG - Pos is 0
2018-01-18 10:08:09,434 - DEBUG - CurCount is 0
2018-01-18 10:08:09,434 - DEBUG - In Pos 0
2018-01-18 10:08:09,435 - DEBUG - Stop ID is 0
2018-01-18 10:08:09,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:08:09,436 - DEBUG - EntryPend is 1
2018-01-18 10:08:09,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:08:09,437 - DEBUG - Entry Date is 10
2018-01-18 10:08:09,437 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:08:09,437 - DEBUG - Order Profit ID is 0
2018-01-18 10:08:09,437 - DEBUG - Order Entry ID is 108
2018-01-18 10:08:09,437 - DEBUG - API ID is  0
2018-01-18 10:08:09,438 - DEBUG - Current Position is 0
2018-01-18 10:08:09,438 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:08:09,438 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:08:09,438 - DEBUG - Time is 10
2018-01-18 10:08:09,439 - DEBUG - Time is <class 'int'>
2018-01-18 10:08:09,439 - DEBUG - Time is 8
2018-01-18 10:08:09,439 - DEBUG - Time is <class 'int'>
2018-01-18 10:08:09,439 - DEBUG - Disconnected from IBController
2018-01-18 10:08:09,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:13:05,336 - DEBUG - ****************************************************
2018-01-18 10:13:05,337 - DEBUG - Current Time is 10:13AM
2018-01-18 10:13:05,337 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:13:05,338 - DEBUG - Connecting to database
2018-01-18 10:13:05,355 - DEBUG - Connected to database
2018-01-18 10:13:05,355 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:05,357 - DEBUG - Order Profit is 0
2018-01-18 10:13:05,357 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:05,359 - DEBUG - Stop ID is 0
2018-01-18 10:13:05,359 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:05,360 - DEBUG - Entry ID is 108
2018-01-18 10:13:05,360 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:13:05,362 - DEBUG - OCA ID is 1
2018-01-18 10:13:05,362 - DEBUG - Connecting to IBController
2018-01-18 10:13:06,366 - DEBUG - Connected to IBController
2018-01-18 10:13:06,366 - DEBUG - Position requested
2018-01-18 10:13:06,367 - DEBUG - Pos Mgmt -12987
2018-01-18 10:13:06,368 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECCF8>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:13:06,368 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:13:06,368 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:13:06,368 - DEBUG - Position is -12987
2018-01-18 10:13:07,367 - DEBUG - Open Orders requested
2018-01-18 10:13:07,369 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA20>, order=<ib.ext.Order.Order object at 0x00000000020ECB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182128>>
2018-01-18 10:13:07,369 - DEBUG - Order OrderID 106
2018-01-18 10:13:07,369 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:13:07,370 - DEBUG - Order status PreSubmitted
2018-01-18 10:13:07,370 - DEBUG - Order Identification 106
2018-01-18 10:13:07,370 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:13:07,371 - DEBUG - Profit ID from database is 0
2018-01-18 10:13:07,371 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:13:07,371 - DEBUG - Stop ID database is 0
2018-01-18 10:13:07,371 - DEBUG - Entry ID database is 108
2018-01-18 10:13:07,372 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020ECFD0>, order=<ib.ext.Order.Order object at 0x00000000020ECB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182198>>
2018-01-18 10:13:07,372 - DEBUG - Order OrderID 107
2018-01-18 10:13:07,373 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:13:07,373 - DEBUG - Order status PreSubmitted
2018-01-18 10:13:07,373 - DEBUG - Order Identification 107
2018-01-18 10:13:07,374 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:13:07,374 - DEBUG - Profit ID from database is 0
2018-01-18 10:13:07,374 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:13:07,374 - DEBUG - Stop ID database is 0
2018-01-18 10:13:07,374 - DEBUG - Entry ID database is 108
2018-01-18 10:13:07,375 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020ECFD0>, order=<ib.ext.Order.Order object at 0x00000000020ECB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182278>>
2018-01-18 10:13:07,376 - DEBUG - Order OrderID 108
2018-01-18 10:13:07,376 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:13:07,376 - DEBUG - Order status PreSubmitted
2018-01-18 10:13:07,376 - DEBUG - Order Identification 108
2018-01-18 10:13:07,377 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:13:07,377 - DEBUG - Profit ID from database is 0
2018-01-18 10:13:07,377 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:13:07,377 - DEBUG - Stop ID database is 0
2018-01-18 10:13:07,377 - DEBUG - Entry ID database is 108
2018-01-18 10:13:07,378 - DEBUG - Entry API ID is 108
2018-01-18 10:13:09,367 - DEBUG - Connecting to database
2018-01-18 10:13:09,374 - DEBUG - Connected to database
2018-01-18 10:13:09,376 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,376 - DEBUG - Stop loss value is 72.30
2018-01-18 10:13:09,378 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,378 - DEBUG - Stop loss value is 84.7
2018-01-18 10:13:09,380 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,380 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:13:09,381 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,382 - DEBUG - Stop quantity 1
2018-01-18 10:13:09,383 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,383 - DEBUG - Direction is Long
2018-01-18 10:13:09,385 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,385 - DEBUG - Count is 0
2018-01-18 10:13:09,386 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:13:09,387 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:13:09,388 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:13:09,388 - DEBUG - Max ID Order is (108,)
2018-01-18 10:13:09,389 - DEBUG - Today is 2018-01-18
2018-01-18 10:13:09,389 - DEBUG - Day of the week 3
2018-01-18 10:13:09,389 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:13:09,390 - DEBUG - In Position is  0
2018-01-18 10:13:09,390 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:13:09,390 - DEBUG - curStopLossFlag is  0
2018-01-18 10:13:09,390 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:13:09,390 - DEBUG - Checking if Entry has been filled
2018-01-18 10:13:09,391 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:13:09,392 - DEBUG - EntryPend is 1
2018-01-18 10:13:09,392 - DEBUG - Try to Cancel Stop
2018-01-18 10:13:09,393 - DEBUG - Stop API ID 0
2018-01-18 10:13:09,393 - DEBUG - Profit API ID 0
2018-01-18 10:13:09,393 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:13:09,393 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:13:09,393 - DEBUG - Pos is 0
2018-01-18 10:13:09,394 - DEBUG - CurCount is 0
2018-01-18 10:13:09,394 - DEBUG - In Pos 0
2018-01-18 10:13:09,394 - DEBUG - Stop ID is 0
2018-01-18 10:13:09,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:13:09,396 - DEBUG - EntryPend is 1
2018-01-18 10:13:09,396 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:13:09,396 - DEBUG - Entry Date is 10
2018-01-18 10:13:09,396 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:13:09,397 - DEBUG - Order Profit ID is 0
2018-01-18 10:13:09,397 - DEBUG - Order Entry ID is 108
2018-01-18 10:13:09,397 - DEBUG - API ID is  0
2018-01-18 10:13:09,397 - DEBUG - Current Position is 0
2018-01-18 10:13:09,397 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:13:09,398 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:13:09,398 - DEBUG - Time is 10
2018-01-18 10:13:09,398 - DEBUG - Time is <class 'int'>
2018-01-18 10:13:09,398 - DEBUG - Time is 13
2018-01-18 10:13:09,398 - DEBUG - Time is <class 'int'>
2018-01-18 10:13:09,399 - DEBUG - Disconnected from IBController
2018-01-18 10:13:09,399 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:18:05,339 - DEBUG - ****************************************************
2018-01-18 10:18:05,339 - DEBUG - Current Time is 10:18AM
2018-01-18 10:18:05,340 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:18:05,340 - DEBUG - Connecting to database
2018-01-18 10:18:05,356 - DEBUG - Connected to database
2018-01-18 10:18:05,357 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:05,358 - DEBUG - Order Profit is 0
2018-01-18 10:18:05,358 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:05,360 - DEBUG - Stop ID is 0
2018-01-18 10:18:05,360 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:05,361 - DEBUG - Entry ID is 108
2018-01-18 10:18:05,362 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:18:05,363 - DEBUG - OCA ID is 1
2018-01-18 10:18:05,364 - DEBUG - Connecting to IBController
2018-01-18 10:18:06,368 - DEBUG - Connected to IBController
2018-01-18 10:18:06,368 - DEBUG - Position requested
2018-01-18 10:18:06,369 - DEBUG - Pos Mgmt -12987
2018-01-18 10:18:06,370 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA90>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:18:06,370 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:18:06,370 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:18:06,371 - DEBUG - Position is -12987
2018-01-18 10:18:07,369 - DEBUG - Open Orders requested
2018-01-18 10:18:07,371 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1198>>
2018-01-18 10:18:07,372 - DEBUG - Order OrderID 106
2018-01-18 10:18:07,372 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:18:07,372 - DEBUG - Order status PreSubmitted
2018-01-18 10:18:07,373 - DEBUG - Order Identification 106
2018-01-18 10:18:07,373 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:18:07,373 - DEBUG - Profit ID from database is 0
2018-01-18 10:18:07,373 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:18:07,374 - DEBUG - Stop ID database is 0
2018-01-18 10:18:07,374 - DEBUG - Entry ID database is 108
2018-01-18 10:18:07,375 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1160>>
2018-01-18 10:18:07,375 - DEBUG - Order OrderID 107
2018-01-18 10:18:07,376 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:18:07,376 - DEBUG - Order status PreSubmitted
2018-01-18 10:18:07,376 - DEBUG - Order Identification 107
2018-01-18 10:18:07,377 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:18:07,377 - DEBUG - Profit ID from database is 0
2018-01-18 10:18:07,377 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:18:07,377 - DEBUG - Stop ID database is 0
2018-01-18 10:18:07,377 - DEBUG - Entry ID database is 108
2018-01-18 10:18:07,378 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1208>>
2018-01-18 10:18:07,379 - DEBUG - Order OrderID 108
2018-01-18 10:18:07,379 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:18:07,380 - DEBUG - Order status PreSubmitted
2018-01-18 10:18:07,380 - DEBUG - Order Identification 108
2018-01-18 10:18:07,380 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:18:07,380 - DEBUG - Profit ID from database is 0
2018-01-18 10:18:07,380 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:18:07,381 - DEBUG - Stop ID database is 0
2018-01-18 10:18:07,381 - DEBUG - Entry ID database is 108
2018-01-18 10:18:07,381 - DEBUG - Entry API ID is 108
2018-01-18 10:18:09,371 - DEBUG - Connecting to database
2018-01-18 10:18:09,378 - DEBUG - Connected to database
2018-01-18 10:18:09,379 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,379 - DEBUG - Stop loss value is 72.30
2018-01-18 10:18:09,381 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,381 - DEBUG - Stop loss value is 84.7
2018-01-18 10:18:09,382 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,383 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:18:09,384 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,384 - DEBUG - Stop quantity 1
2018-01-18 10:18:09,386 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,386 - DEBUG - Direction is Long
2018-01-18 10:18:09,387 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,388 - DEBUG - Count is 0
2018-01-18 10:18:09,389 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:18:09,389 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:18:09,390 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:18:09,391 - DEBUG - Max ID Order is (108,)
2018-01-18 10:18:09,391 - DEBUG - Today is 2018-01-18
2018-01-18 10:18:09,391 - DEBUG - Day of the week 3
2018-01-18 10:18:09,392 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:18:09,392 - DEBUG - In Position is  0
2018-01-18 10:18:09,392 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:18:09,392 - DEBUG - curStopLossFlag is  0
2018-01-18 10:18:09,393 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:18:09,393 - DEBUG - Checking if Entry has been filled
2018-01-18 10:18:09,393 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:18:09,394 - DEBUG - EntryPend is 1
2018-01-18 10:18:09,395 - DEBUG - Try to Cancel Stop
2018-01-18 10:18:09,395 - DEBUG - Stop API ID 0
2018-01-18 10:18:09,395 - DEBUG - Profit API ID 0
2018-01-18 10:18:09,395 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:18:09,396 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:18:09,396 - DEBUG - Pos is 0
2018-01-18 10:18:09,396 - DEBUG - CurCount is 0
2018-01-18 10:18:09,396 - DEBUG - In Pos 0
2018-01-18 10:18:09,396 - DEBUG - Stop ID is 0
2018-01-18 10:18:09,397 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:18:09,398 - DEBUG - EntryPend is 1
2018-01-18 10:18:09,398 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:18:09,398 - DEBUG - Entry Date is 10
2018-01-18 10:18:09,399 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:18:09,399 - DEBUG - Order Profit ID is 0
2018-01-18 10:18:09,399 - DEBUG - Order Entry ID is 108
2018-01-18 10:18:09,399 - DEBUG - API ID is  0
2018-01-18 10:18:09,399 - DEBUG - Current Position is 0
2018-01-18 10:18:09,400 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:18:09,400 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:18:09,400 - DEBUG - Time is 10
2018-01-18 10:18:09,400 - DEBUG - Time is <class 'int'>
2018-01-18 10:18:09,400 - DEBUG - Time is 18
2018-01-18 10:18:09,401 - DEBUG - Time is <class 'int'>
2018-01-18 10:18:09,401 - DEBUG - Disconnected from IBController
2018-01-18 10:18:09,402 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:23:05,352 - DEBUG - ****************************************************
2018-01-18 10:23:05,352 - DEBUG - Current Time is 10:23AM
2018-01-18 10:23:05,353 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:23:05,353 - DEBUG - Connecting to database
2018-01-18 10:23:05,378 - DEBUG - Connected to database
2018-01-18 10:23:05,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:05,380 - DEBUG - Order Profit is 0
2018-01-18 10:23:05,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:05,382 - DEBUG - Stop ID is 0
2018-01-18 10:23:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:05,384 - DEBUG - Entry ID is 108
2018-01-18 10:23:05,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:23:05,385 - DEBUG - OCA ID is 1
2018-01-18 10:23:05,386 - DEBUG - Connecting to IBController
2018-01-18 10:23:06,394 - DEBUG - Connected to IBController
2018-01-18 10:23:06,394 - DEBUG - Position requested
2018-01-18 10:23:06,395 - DEBUG - Pos Mgmt -12987
2018-01-18 10:23:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217DBA8>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:23:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:23:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:23:06,397 - DEBUG - Position is -12987
2018-01-18 10:23:07,395 - DEBUG - Open Orders requested
2018-01-18 10:23:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000217DA58>, order=<ib.ext.Order.Order object at 0x000000000217DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212128>>
2018-01-18 10:23:07,402 - DEBUG - Order OrderID 106
2018-01-18 10:23:07,402 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:23:07,402 - DEBUG - Order status PreSubmitted
2018-01-18 10:23:07,403 - DEBUG - Order Identification 106
2018-01-18 10:23:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:23:07,403 - DEBUG - Profit ID from database is 0
2018-01-18 10:23:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:23:07,403 - DEBUG - Stop ID database is 0
2018-01-18 10:23:07,404 - DEBUG - Entry ID database is 108
2018-01-18 10:23:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000217DFD0>, order=<ib.ext.Order.Order object at 0x000000000217DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212198>>
2018-01-18 10:23:07,405 - DEBUG - Order OrderID 107
2018-01-18 10:23:07,406 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:23:07,406 - DEBUG - Order status PreSubmitted
2018-01-18 10:23:07,406 - DEBUG - Order Identification 107
2018-01-18 10:23:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:23:07,407 - DEBUG - Profit ID from database is 0
2018-01-18 10:23:07,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:23:07,407 - DEBUG - Stop ID database is 0
2018-01-18 10:23:07,407 - DEBUG - Entry ID database is 108
2018-01-18 10:23:07,408 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000217DFD0>, order=<ib.ext.Order.Order object at 0x000000000217DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212278>>
2018-01-18 10:23:07,408 - DEBUG - Order OrderID 108
2018-01-18 10:23:07,409 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:23:07,409 - DEBUG - Order status PreSubmitted
2018-01-18 10:23:07,409 - DEBUG - Order Identification 108
2018-01-18 10:23:07,410 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:23:07,410 - DEBUG - Profit ID from database is 0
2018-01-18 10:23:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:23:07,410 - DEBUG - Stop ID database is 0
2018-01-18 10:23:07,410 - DEBUG - Entry ID database is 108
2018-01-18 10:23:07,411 - DEBUG - Entry API ID is 108
2018-01-18 10:23:09,395 - DEBUG - Connecting to database
2018-01-18 10:23:09,402 - DEBUG - Connected to database
2018-01-18 10:23:09,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,404 - DEBUG - Stop loss value is 72.30
2018-01-18 10:23:09,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,406 - DEBUG - Stop loss value is 84.7
2018-01-18 10:23:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,407 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:23:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,409 - DEBUG - Stop quantity 1
2018-01-18 10:23:09,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,411 - DEBUG - Direction is Long
2018-01-18 10:23:09,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,412 - DEBUG - Count is 0
2018-01-18 10:23:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:23:09,414 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:23:09,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:23:09,416 - DEBUG - Max ID Order is (108,)
2018-01-18 10:23:09,416 - DEBUG - Today is 2018-01-18
2018-01-18 10:23:09,416 - DEBUG - Day of the week 3
2018-01-18 10:23:09,417 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:23:09,417 - DEBUG - In Position is  0
2018-01-18 10:23:09,417 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:23:09,417 - DEBUG - curStopLossFlag is  0
2018-01-18 10:23:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:23:09,418 - DEBUG - Checking if Entry has been filled
2018-01-18 10:23:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:23:09,419 - DEBUG - EntryPend is 1
2018-01-18 10:23:09,420 - DEBUG - Try to Cancel Stop
2018-01-18 10:23:09,420 - DEBUG - Stop API ID 0
2018-01-18 10:23:09,420 - DEBUG - Profit API ID 0
2018-01-18 10:23:09,420 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:23:09,420 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:23:09,421 - DEBUG - Pos is 0
2018-01-18 10:23:09,421 - DEBUG - CurCount is 0
2018-01-18 10:23:09,421 - DEBUG - In Pos 0
2018-01-18 10:23:09,421 - DEBUG - Stop ID is 0
2018-01-18 10:23:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:23:09,423 - DEBUG - EntryPend is 1
2018-01-18 10:23:09,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:23:09,423 - DEBUG - Entry Date is 10
2018-01-18 10:23:09,424 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:23:09,424 - DEBUG - Order Profit ID is 0
2018-01-18 10:23:09,424 - DEBUG - Order Entry ID is 108
2018-01-18 10:23:09,424 - DEBUG - API ID is  0
2018-01-18 10:23:09,424 - DEBUG - Current Position is 0
2018-01-18 10:23:09,425 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:23:09,425 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:23:09,425 - DEBUG - Time is 10
2018-01-18 10:23:09,425 - DEBUG - Time is <class 'int'>
2018-01-18 10:23:09,426 - DEBUG - Time is 23
2018-01-18 10:23:09,426 - DEBUG - Time is <class 'int'>
2018-01-18 10:23:09,426 - DEBUG - Disconnected from IBController
2018-01-18 10:23:09,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:28:05,348 - DEBUG - ****************************************************
2018-01-18 10:28:05,349 - DEBUG - Current Time is 10:28AM
2018-01-18 10:28:05,349 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:28:05,350 - DEBUG - Connecting to database
2018-01-18 10:28:05,372 - DEBUG - Connected to database
2018-01-18 10:28:05,373 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:05,374 - DEBUG - Order Profit is 0
2018-01-18 10:28:05,374 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:05,376 - DEBUG - Stop ID is 0
2018-01-18 10:28:05,376 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:05,377 - DEBUG - Entry ID is 108
2018-01-18 10:28:05,377 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:28:05,379 - DEBUG - OCA ID is 1
2018-01-18 10:28:05,379 - DEBUG - Connecting to IBController
2018-01-18 10:28:06,384 - DEBUG - Connected to IBController
2018-01-18 10:28:06,384 - DEBUG - Position requested
2018-01-18 10:28:06,385 - DEBUG - Pos Mgmt -12987
2018-01-18 10:28:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:28:06,386 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:28:06,386 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:28:06,387 - DEBUG - Position is -12987
2018-01-18 10:28:07,385 - DEBUG - Open Orders requested
2018-01-18 10:28:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000216CBA8>, order=<ib.ext.Order.Order object at 0x000000000216CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202128>>
2018-01-18 10:28:07,388 - DEBUG - Order OrderID 106
2018-01-18 10:28:07,388 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:28:07,389 - DEBUG - Order status PreSubmitted
2018-01-18 10:28:07,389 - DEBUG - Order Identification 106
2018-01-18 10:28:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:28:07,390 - DEBUG - Profit ID from database is 0
2018-01-18 10:28:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:28:07,390 - DEBUG - Stop ID database is 0
2018-01-18 10:28:07,390 - DEBUG - Entry ID database is 108
2018-01-18 10:28:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000216CFD0>, order=<ib.ext.Order.Order object at 0x000000000216CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202198>>
2018-01-18 10:28:07,392 - DEBUG - Order OrderID 107
2018-01-18 10:28:07,392 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:28:07,392 - DEBUG - Order status PreSubmitted
2018-01-18 10:28:07,392 - DEBUG - Order Identification 107
2018-01-18 10:28:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:28:07,393 - DEBUG - Profit ID from database is 0
2018-01-18 10:28:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:28:07,393 - DEBUG - Stop ID database is 0
2018-01-18 10:28:07,393 - DEBUG - Entry ID database is 108
2018-01-18 10:28:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000216CFD0>, order=<ib.ext.Order.Order object at 0x000000000216CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202278>>
2018-01-18 10:28:07,395 - DEBUG - Order OrderID 108
2018-01-18 10:28:07,395 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:28:07,396 - DEBUG - Order status PreSubmitted
2018-01-18 10:28:07,396 - DEBUG - Order Identification 108
2018-01-18 10:28:07,396 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:28:07,396 - DEBUG - Profit ID from database is 0
2018-01-18 10:28:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:28:07,397 - DEBUG - Stop ID database is 0
2018-01-18 10:28:07,397 - DEBUG - Entry ID database is 108
2018-01-18 10:28:07,397 - DEBUG - Entry API ID is 108
2018-01-18 10:28:09,385 - DEBUG - Connecting to database
2018-01-18 10:28:09,392 - DEBUG - Connected to database
2018-01-18 10:28:09,393 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,394 - DEBUG - Stop loss value is 72.30
2018-01-18 10:28:09,395 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,395 - DEBUG - Stop loss value is 84.7
2018-01-18 10:28:09,397 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,397 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:28:09,398 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,399 - DEBUG - Stop quantity 1
2018-01-18 10:28:09,400 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,401 - DEBUG - Direction is Long
2018-01-18 10:28:09,402 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,402 - DEBUG - Count is 0
2018-01-18 10:28:09,403 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:28:09,404 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:28:09,405 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:28:09,405 - DEBUG - Max ID Order is (108,)
2018-01-18 10:28:09,406 - DEBUG - Today is 2018-01-18
2018-01-18 10:28:09,406 - DEBUG - Day of the week 3
2018-01-18 10:28:09,406 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:28:09,407 - DEBUG - In Position is  0
2018-01-18 10:28:09,407 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:28:09,407 - DEBUG - curStopLossFlag is  0
2018-01-18 10:28:09,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:28:09,407 - DEBUG - Checking if Entry has been filled
2018-01-18 10:28:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:28:09,409 - DEBUG - EntryPend is 1
2018-01-18 10:28:09,409 - DEBUG - Try to Cancel Stop
2018-01-18 10:28:09,410 - DEBUG - Stop API ID 0
2018-01-18 10:28:09,410 - DEBUG - Profit API ID 0
2018-01-18 10:28:09,410 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:28:09,410 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:28:09,410 - DEBUG - Pos is 0
2018-01-18 10:28:09,411 - DEBUG - CurCount is 0
2018-01-18 10:28:09,411 - DEBUG - In Pos 0
2018-01-18 10:28:09,411 - DEBUG - Stop ID is 0
2018-01-18 10:28:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:28:09,413 - DEBUG - EntryPend is 1
2018-01-18 10:28:09,413 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:28:09,413 - DEBUG - Entry Date is 10
2018-01-18 10:28:09,413 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:28:09,414 - DEBUG - Order Profit ID is 0
2018-01-18 10:28:09,414 - DEBUG - Order Entry ID is 108
2018-01-18 10:28:09,414 - DEBUG - API ID is  0
2018-01-18 10:28:09,414 - DEBUG - Current Position is 0
2018-01-18 10:28:09,414 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:28:09,415 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:28:09,415 - DEBUG - Time is 10
2018-01-18 10:28:09,415 - DEBUG - Time is <class 'int'>
2018-01-18 10:28:09,415 - DEBUG - Time is 28
2018-01-18 10:28:09,416 - DEBUG - Time is <class 'int'>
2018-01-18 10:28:09,416 - DEBUG - Disconnected from IBController
2018-01-18 10:28:09,416 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:33:05,363 - DEBUG - ****************************************************
2018-01-18 10:33:05,364 - DEBUG - Current Time is 10:33AM
2018-01-18 10:33:05,364 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:33:05,365 - DEBUG - Connecting to database
2018-01-18 10:33:05,398 - DEBUG - Connected to database
2018-01-18 10:33:05,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:05,400 - DEBUG - Order Profit is 0
2018-01-18 10:33:05,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:05,401 - DEBUG - Stop ID is 0
2018-01-18 10:33:05,402 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:05,403 - DEBUG - Entry ID is 108
2018-01-18 10:33:05,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:33:05,405 - DEBUG - OCA ID is 1
2018-01-18 10:33:05,405 - DEBUG - Connecting to IBController
2018-01-18 10:33:06,410 - DEBUG - Connected to IBController
2018-01-18 10:33:06,410 - DEBUG - Position requested
2018-01-18 10:33:06,411 - DEBUG - Pos Mgmt -12987
2018-01-18 10:33:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:33:06,412 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:33:06,412 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:33:06,412 - DEBUG - Position is -12987
2018-01-18 10:33:07,411 - DEBUG - Open Orders requested
2018-01-18 10:33:07,413 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000210CC50>, order=<ib.ext.Order.Order object at 0x000000000210CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1198>>
2018-01-18 10:33:07,414 - DEBUG - Order OrderID 106
2018-01-18 10:33:07,415 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:33:07,415 - DEBUG - Order status PreSubmitted
2018-01-18 10:33:07,415 - DEBUG - Order Identification 106
2018-01-18 10:33:07,415 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:33:07,416 - DEBUG - Profit ID from database is 0
2018-01-18 10:33:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:33:07,416 - DEBUG - Stop ID database is 0
2018-01-18 10:33:07,416 - DEBUG - Entry ID database is 108
2018-01-18 10:33:07,417 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000210CC50>, order=<ib.ext.Order.Order object at 0x000000000210CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1080>>
2018-01-18 10:33:07,418 - DEBUG - Order OrderID 107
2018-01-18 10:33:07,418 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:33:07,418 - DEBUG - Order status PreSubmitted
2018-01-18 10:33:07,419 - DEBUG - Order Identification 107
2018-01-18 10:33:07,419 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:33:07,419 - DEBUG - Profit ID from database is 0
2018-01-18 10:33:07,419 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:33:07,419 - DEBUG - Stop ID database is 0
2018-01-18 10:33:07,420 - DEBUG - Entry ID database is 108
2018-01-18 10:33:07,421 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000210CC50>, order=<ib.ext.Order.Order object at 0x000000000210CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1208>>
2018-01-18 10:33:07,421 - DEBUG - Order OrderID 108
2018-01-18 10:33:07,421 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:33:07,422 - DEBUG - Order status PreSubmitted
2018-01-18 10:33:07,422 - DEBUG - Order Identification 108
2018-01-18 10:33:07,422 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:33:07,422 - DEBUG - Profit ID from database is 0
2018-01-18 10:33:07,423 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:33:07,423 - DEBUG - Stop ID database is 0
2018-01-18 10:33:07,423 - DEBUG - Entry ID database is 108
2018-01-18 10:33:07,423 - DEBUG - Entry API ID is 108
2018-01-18 10:33:09,414 - DEBUG - Connecting to database
2018-01-18 10:33:09,421 - DEBUG - Connected to database
2018-01-18 10:33:09,422 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,423 - DEBUG - Stop loss value is 72.30
2018-01-18 10:33:09,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,424 - DEBUG - Stop loss value is 84.7
2018-01-18 10:33:09,426 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,426 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:33:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,428 - DEBUG - Stop quantity 1
2018-01-18 10:33:09,429 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,429 - DEBUG - Direction is Long
2018-01-18 10:33:09,431 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,431 - DEBUG - Count is 0
2018-01-18 10:33:09,432 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:33:09,433 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:33:09,434 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:33:09,434 - DEBUG - Max ID Order is (108,)
2018-01-18 10:33:09,435 - DEBUG - Today is 2018-01-18
2018-01-18 10:33:09,435 - DEBUG - Day of the week 3
2018-01-18 10:33:09,435 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:33:09,435 - DEBUG - In Position is  0
2018-01-18 10:33:09,436 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:33:09,436 - DEBUG - curStopLossFlag is  0
2018-01-18 10:33:09,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:33:09,436 - DEBUG - Checking if Entry has been filled
2018-01-18 10:33:09,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:33:09,438 - DEBUG - EntryPend is 1
2018-01-18 10:33:09,438 - DEBUG - Try to Cancel Stop
2018-01-18 10:33:09,438 - DEBUG - Stop API ID 0
2018-01-18 10:33:09,439 - DEBUG - Profit API ID 0
2018-01-18 10:33:09,439 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:33:09,439 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:33:09,439 - DEBUG - Pos is 0
2018-01-18 10:33:09,440 - DEBUG - CurCount is 0
2018-01-18 10:33:09,440 - DEBUG - In Pos 0
2018-01-18 10:33:09,440 - DEBUG - Stop ID is 0
2018-01-18 10:33:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:33:09,442 - DEBUG - EntryPend is 1
2018-01-18 10:33:09,442 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:33:09,442 - DEBUG - Entry Date is 10
2018-01-18 10:33:09,442 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:33:09,442 - DEBUG - Order Profit ID is 0
2018-01-18 10:33:09,443 - DEBUG - Order Entry ID is 108
2018-01-18 10:33:09,443 - DEBUG - API ID is  0
2018-01-18 10:33:09,443 - DEBUG - Current Position is 0
2018-01-18 10:33:09,443 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:33:09,443 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:33:09,444 - DEBUG - Time is 10
2018-01-18 10:33:09,444 - DEBUG - Time is <class 'int'>
2018-01-18 10:33:09,444 - DEBUG - Time is 33
2018-01-18 10:33:09,444 - DEBUG - Time is <class 'int'>
2018-01-18 10:33:09,445 - DEBUG - Disconnected from IBController
2018-01-18 10:33:09,445 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:38:05,342 - DEBUG - ****************************************************
2018-01-18 10:38:05,343 - DEBUG - Current Time is 10:38AM
2018-01-18 10:38:05,343 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:38:05,343 - DEBUG - Connecting to database
2018-01-18 10:38:05,367 - DEBUG - Connected to database
2018-01-18 10:38:05,367 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:05,368 - DEBUG - Order Profit is 0
2018-01-18 10:38:05,369 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:05,370 - DEBUG - Stop ID is 0
2018-01-18 10:38:05,370 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:05,372 - DEBUG - Entry ID is 108
2018-01-18 10:38:05,372 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:38:05,373 - DEBUG - OCA ID is 1
2018-01-18 10:38:05,374 - DEBUG - Connecting to IBController
2018-01-18 10:38:06,379 - DEBUG - Connected to IBController
2018-01-18 10:38:06,379 - DEBUG - Position requested
2018-01-18 10:38:06,380 - DEBUG - Pos Mgmt -12987
2018-01-18 10:38:06,380 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DBE0>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:38:06,381 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:38:06,381 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:38:06,381 - DEBUG - Position is -12987
2018-01-18 10:38:07,380 - DEBUG - Open Orders requested
2018-01-18 10:38:07,390 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000215DBA8>, order=<ib.ext.Order.Order object at 0x000000000215DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F2128>>
2018-01-18 10:38:07,390 - DEBUG - Order OrderID 106
2018-01-18 10:38:07,391 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:38:07,391 - DEBUG - Order status PreSubmitted
2018-01-18 10:38:07,392 - DEBUG - Order Identification 106
2018-01-18 10:38:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:38:07,392 - DEBUG - Profit ID from database is 0
2018-01-18 10:38:07,392 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:38:07,393 - DEBUG - Stop ID database is 0
2018-01-18 10:38:07,393 - DEBUG - Entry ID database is 108
2018-01-18 10:38:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F2198>>
2018-01-18 10:38:07,394 - DEBUG - Order OrderID 107
2018-01-18 10:38:07,395 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:38:07,395 - DEBUG - Order status PreSubmitted
2018-01-18 10:38:07,395 - DEBUG - Order Identification 107
2018-01-18 10:38:07,395 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:38:07,396 - DEBUG - Profit ID from database is 0
2018-01-18 10:38:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:38:07,396 - DEBUG - Stop ID database is 0
2018-01-18 10:38:07,396 - DEBUG - Entry ID database is 108
2018-01-18 10:38:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F2278>>
2018-01-18 10:38:07,398 - DEBUG - Order OrderID 108
2018-01-18 10:38:07,398 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:38:07,398 - DEBUG - Order status PreSubmitted
2018-01-18 10:38:07,399 - DEBUG - Order Identification 108
2018-01-18 10:38:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:38:07,399 - DEBUG - Profit ID from database is 0
2018-01-18 10:38:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:38:07,400 - DEBUG - Stop ID database is 0
2018-01-18 10:38:07,400 - DEBUG - Entry ID database is 108
2018-01-18 10:38:07,400 - DEBUG - Entry API ID is 108
2018-01-18 10:38:09,380 - DEBUG - Connecting to database
2018-01-18 10:38:09,387 - DEBUG - Connected to database
2018-01-18 10:38:09,389 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,389 - DEBUG - Stop loss value is 72.30
2018-01-18 10:38:09,390 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,391 - DEBUG - Stop loss value is 84.7
2018-01-18 10:38:09,392 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,393 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:38:09,394 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,394 - DEBUG - Stop quantity 1
2018-01-18 10:38:09,395 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,396 - DEBUG - Direction is Long
2018-01-18 10:38:09,397 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,398 - DEBUG - Count is 0
2018-01-18 10:38:09,399 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:38:09,399 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:38:09,401 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:38:09,401 - DEBUG - Max ID Order is (108,)
2018-01-18 10:38:09,401 - DEBUG - Today is 2018-01-18
2018-01-18 10:38:09,402 - DEBUG - Day of the week 3
2018-01-18 10:38:09,402 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:38:09,402 - DEBUG - In Position is  0
2018-01-18 10:38:09,402 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:38:09,403 - DEBUG - curStopLossFlag is  0
2018-01-18 10:38:09,403 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:38:09,403 - DEBUG - Checking if Entry has been filled
2018-01-18 10:38:09,403 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:38:09,405 - DEBUG - EntryPend is 1
2018-01-18 10:38:09,405 - DEBUG - Try to Cancel Stop
2018-01-18 10:38:09,405 - DEBUG - Stop API ID 0
2018-01-18 10:38:09,405 - DEBUG - Profit API ID 0
2018-01-18 10:38:09,406 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:38:09,406 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:38:09,406 - DEBUG - Pos is 0
2018-01-18 10:38:09,406 - DEBUG - CurCount is 0
2018-01-18 10:38:09,406 - DEBUG - In Pos 0
2018-01-18 10:38:09,407 - DEBUG - Stop ID is 0
2018-01-18 10:38:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:38:09,408 - DEBUG - EntryPend is 1
2018-01-18 10:38:09,408 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:38:09,409 - DEBUG - Entry Date is 10
2018-01-18 10:38:09,409 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:38:09,409 - DEBUG - Order Profit ID is 0
2018-01-18 10:38:09,409 - DEBUG - Order Entry ID is 108
2018-01-18 10:38:09,410 - DEBUG - API ID is  0
2018-01-18 10:38:09,410 - DEBUG - Current Position is 0
2018-01-18 10:38:09,410 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:38:09,410 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:38:09,410 - DEBUG - Time is 10
2018-01-18 10:38:09,411 - DEBUG - Time is <class 'int'>
2018-01-18 10:38:09,411 - DEBUG - Time is 38
2018-01-18 10:38:09,411 - DEBUG - Time is <class 'int'>
2018-01-18 10:38:09,411 - DEBUG - Disconnected from IBController
2018-01-18 10:38:09,412 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:43:05,350 - DEBUG - ****************************************************
2018-01-18 10:43:05,351 - DEBUG - Current Time is 10:43AM
2018-01-18 10:43:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:43:05,351 - DEBUG - Connecting to database
2018-01-18 10:43:05,379 - DEBUG - Connected to database
2018-01-18 10:43:05,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:05,381 - DEBUG - Order Profit is 0
2018-01-18 10:43:05,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:05,383 - DEBUG - Stop ID is 0
2018-01-18 10:43:05,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:05,384 - DEBUG - Entry ID is 108
2018-01-18 10:43:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:43:05,386 - DEBUG - OCA ID is 1
2018-01-18 10:43:05,386 - DEBUG - Connecting to IBController
2018-01-18 10:43:06,393 - DEBUG - Connected to IBController
2018-01-18 10:43:06,393 - DEBUG - Position requested
2018-01-18 10:43:06,396 - DEBUG - Pos Mgmt -12987
2018-01-18 10:43:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:43:06,397 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:43:06,397 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:43:06,397 - DEBUG - Position is -12987
2018-01-18 10:43:07,397 - DEBUG - Open Orders requested
2018-01-18 10:43:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EBB70>, order=<ib.ext.Order.Order object at 0x00000000020EBA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002180198>>
2018-01-18 10:43:07,400 - DEBUG - Order OrderID 106
2018-01-18 10:43:07,400 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:43:07,401 - DEBUG - Order status PreSubmitted
2018-01-18 10:43:07,401 - DEBUG - Order Identification 106
2018-01-18 10:43:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:43:07,401 - DEBUG - Profit ID from database is 0
2018-01-18 10:43:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:43:07,402 - DEBUG - Stop ID database is 0
2018-01-18 10:43:07,402 - DEBUG - Entry ID database is 108
2018-01-18 10:43:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EBB70>, order=<ib.ext.Order.Order object at 0x00000000020EBA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002180160>>
2018-01-18 10:43:07,403 - DEBUG - Order OrderID 107
2018-01-18 10:43:07,404 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:43:07,404 - DEBUG - Order status PreSubmitted
2018-01-18 10:43:07,404 - DEBUG - Order Identification 107
2018-01-18 10:43:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:43:07,405 - DEBUG - Profit ID from database is 0
2018-01-18 10:43:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:43:07,405 - DEBUG - Stop ID database is 0
2018-01-18 10:43:07,405 - DEBUG - Entry ID database is 108
2018-01-18 10:43:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EBB70>, order=<ib.ext.Order.Order object at 0x00000000020EBA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002180208>>
2018-01-18 10:43:07,407 - DEBUG - Order OrderID 108
2018-01-18 10:43:07,407 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:43:07,408 - DEBUG - Order status PreSubmitted
2018-01-18 10:43:07,408 - DEBUG - Order Identification 108
2018-01-18 10:43:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:43:07,408 - DEBUG - Profit ID from database is 0
2018-01-18 10:43:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:43:07,409 - DEBUG - Stop ID database is 0
2018-01-18 10:43:07,409 - DEBUG - Entry ID database is 108
2018-01-18 10:43:07,409 - DEBUG - Entry API ID is 108
2018-01-18 10:43:09,400 - DEBUG - Connecting to database
2018-01-18 10:43:09,407 - DEBUG - Connected to database
2018-01-18 10:43:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,409 - DEBUG - Stop loss value is 72.30
2018-01-18 10:43:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,410 - DEBUG - Stop loss value is 84.7
2018-01-18 10:43:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,412 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:43:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,413 - DEBUG - Stop quantity 1
2018-01-18 10:43:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,415 - DEBUG - Direction is Long
2018-01-18 10:43:09,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,417 - DEBUG - Count is 0
2018-01-18 10:43:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:43:09,418 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:43:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:43:09,420 - DEBUG - Max ID Order is (108,)
2018-01-18 10:43:09,420 - DEBUG - Today is 2018-01-18
2018-01-18 10:43:09,421 - DEBUG - Day of the week 3
2018-01-18 10:43:09,421 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:43:09,421 - DEBUG - In Position is  0
2018-01-18 10:43:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:43:09,422 - DEBUG - curStopLossFlag is  0
2018-01-18 10:43:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:43:09,422 - DEBUG - Checking if Entry has been filled
2018-01-18 10:43:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:43:09,424 - DEBUG - EntryPend is 1
2018-01-18 10:43:09,424 - DEBUG - Try to Cancel Stop
2018-01-18 10:43:09,424 - DEBUG - Stop API ID 0
2018-01-18 10:43:09,424 - DEBUG - Profit API ID 0
2018-01-18 10:43:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:43:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:43:09,425 - DEBUG - Pos is 0
2018-01-18 10:43:09,425 - DEBUG - CurCount is 0
2018-01-18 10:43:09,425 - DEBUG - In Pos 0
2018-01-18 10:43:09,426 - DEBUG - Stop ID is 0
2018-01-18 10:43:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:43:09,427 - DEBUG - EntryPend is 1
2018-01-18 10:43:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:43:09,428 - DEBUG - Entry Date is 10
2018-01-18 10:43:09,428 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:43:09,428 - DEBUG - Order Profit ID is 0
2018-01-18 10:43:09,428 - DEBUG - Order Entry ID is 108
2018-01-18 10:43:09,429 - DEBUG - API ID is  0
2018-01-18 10:43:09,429 - DEBUG - Current Position is 0
2018-01-18 10:43:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:43:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:43:09,429 - DEBUG - Time is 10
2018-01-18 10:43:09,430 - DEBUG - Time is <class 'int'>
2018-01-18 10:43:09,430 - DEBUG - Time is 43
2018-01-18 10:43:09,430 - DEBUG - Time is <class 'int'>
2018-01-18 10:43:09,430 - DEBUG - Disconnected from IBController
2018-01-18 10:43:09,432 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:48:05,362 - DEBUG - ****************************************************
2018-01-18 10:48:05,363 - DEBUG - Current Time is 10:48AM
2018-01-18 10:48:05,363 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:48:05,364 - DEBUG - Connecting to database
2018-01-18 10:48:05,411 - DEBUG - Connected to database
2018-01-18 10:48:05,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:05,414 - DEBUG - Order Profit is 0
2018-01-18 10:48:05,415 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:05,416 - DEBUG - Stop ID is 0
2018-01-18 10:48:05,417 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:05,418 - DEBUG - Entry ID is 108
2018-01-18 10:48:05,418 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:48:05,420 - DEBUG - OCA ID is 1
2018-01-18 10:48:05,420 - DEBUG - Connecting to IBController
2018-01-18 10:48:06,425 - DEBUG - Connected to IBController
2018-01-18 10:48:06,425 - DEBUG - Position requested
2018-01-18 10:48:06,426 - DEBUG - Pos Mgmt -12987
2018-01-18 10:48:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC88>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:48:06,427 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:48:06,427 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:48:06,427 - DEBUG - Position is -12987
2018-01-18 10:48:07,426 - DEBUG - Open Orders requested
2018-01-18 10:48:07,428 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA90>, order=<ib.ext.Order.Order object at 0x00000000020EDBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181128>>
2018-01-18 10:48:07,428 - DEBUG - Order OrderID 106
2018-01-18 10:48:07,429 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:48:07,429 - DEBUG - Order status PreSubmitted
2018-01-18 10:48:07,429 - DEBUG - Order Identification 106
2018-01-18 10:48:07,429 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:48:07,430 - DEBUG - Profit ID from database is 0
2018-01-18 10:48:07,430 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:48:07,430 - DEBUG - Stop ID database is 0
2018-01-18 10:48:07,430 - DEBUG - Entry ID database is 108
2018-01-18 10:48:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 10:48:07,432 - DEBUG - Order OrderID 107
2018-01-18 10:48:07,432 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:48:07,432 - DEBUG - Order status PreSubmitted
2018-01-18 10:48:07,433 - DEBUG - Order Identification 107
2018-01-18 10:48:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:48:07,433 - DEBUG - Profit ID from database is 0
2018-01-18 10:48:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:48:07,433 - DEBUG - Stop ID database is 0
2018-01-18 10:48:07,434 - DEBUG - Entry ID database is 108
2018-01-18 10:48:07,435 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181278>>
2018-01-18 10:48:07,435 - DEBUG - Order OrderID 108
2018-01-18 10:48:07,435 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:48:07,436 - DEBUG - Order status PreSubmitted
2018-01-18 10:48:07,436 - DEBUG - Order Identification 108
2018-01-18 10:48:07,436 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:48:07,436 - DEBUG - Profit ID from database is 0
2018-01-18 10:48:07,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:48:07,437 - DEBUG - Stop ID database is 0
2018-01-18 10:48:07,437 - DEBUG - Entry ID database is 108
2018-01-18 10:48:07,437 - DEBUG - Entry API ID is 108
2018-01-18 10:48:09,427 - DEBUG - Connecting to database
2018-01-18 10:48:09,434 - DEBUG - Connected to database
2018-01-18 10:48:09,436 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,436 - DEBUG - Stop loss value is 72.30
2018-01-18 10:48:09,437 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,438 - DEBUG - Stop loss value is 84.7
2018-01-18 10:48:09,439 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,439 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:48:09,441 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,441 - DEBUG - Stop quantity 1
2018-01-18 10:48:09,442 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,443 - DEBUG - Direction is Long
2018-01-18 10:48:09,444 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,444 - DEBUG - Count is 0
2018-01-18 10:48:09,446 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:48:09,446 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:48:09,447 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:48:09,448 - DEBUG - Max ID Order is (108,)
2018-01-18 10:48:09,448 - DEBUG - Today is 2018-01-18
2018-01-18 10:48:09,448 - DEBUG - Day of the week 3
2018-01-18 10:48:09,449 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:48:09,449 - DEBUG - In Position is  0
2018-01-18 10:48:09,449 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:48:09,449 - DEBUG - curStopLossFlag is  0
2018-01-18 10:48:09,450 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:48:09,450 - DEBUG - Checking if Entry has been filled
2018-01-18 10:48:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:48:09,451 - DEBUG - EntryPend is 1
2018-01-18 10:48:09,452 - DEBUG - Try to Cancel Stop
2018-01-18 10:48:09,452 - DEBUG - Stop API ID 0
2018-01-18 10:48:09,452 - DEBUG - Profit API ID 0
2018-01-18 10:48:09,452 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:48:09,453 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:48:09,453 - DEBUG - Pos is 0
2018-01-18 10:48:09,453 - DEBUG - CurCount is 0
2018-01-18 10:48:09,453 - DEBUG - In Pos 0
2018-01-18 10:48:09,453 - DEBUG - Stop ID is 0
2018-01-18 10:48:09,454 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:48:09,455 - DEBUG - EntryPend is 1
2018-01-18 10:48:09,455 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:48:09,456 - DEBUG - Entry Date is 10
2018-01-18 10:48:09,456 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:48:09,456 - DEBUG - Order Profit ID is 0
2018-01-18 10:48:09,456 - DEBUG - Order Entry ID is 108
2018-01-18 10:48:09,456 - DEBUG - API ID is  0
2018-01-18 10:48:09,457 - DEBUG - Current Position is 0
2018-01-18 10:48:09,457 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:48:09,457 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:48:09,457 - DEBUG - Time is 10
2018-01-18 10:48:09,457 - DEBUG - Time is <class 'int'>
2018-01-18 10:48:09,458 - DEBUG - Time is 48
2018-01-18 10:48:09,458 - DEBUG - Time is <class 'int'>
2018-01-18 10:48:09,458 - DEBUG - Disconnected from IBController
2018-01-18 10:48:09,459 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:53:05,367 - DEBUG - ****************************************************
2018-01-18 10:53:05,367 - DEBUG - Current Time is 10:53AM
2018-01-18 10:53:05,368 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:53:05,368 - DEBUG - Connecting to database
2018-01-18 10:53:05,403 - DEBUG - Connected to database
2018-01-18 10:53:05,403 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:05,406 - DEBUG - Order Profit is 0
2018-01-18 10:53:05,406 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:05,407 - DEBUG - Stop ID is 0
2018-01-18 10:53:05,408 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:05,409 - DEBUG - Entry ID is 108
2018-01-18 10:53:05,409 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:53:05,411 - DEBUG - OCA ID is 1
2018-01-18 10:53:05,411 - DEBUG - Connecting to IBController
2018-01-18 10:53:06,416 - DEBUG - Connected to IBController
2018-01-18 10:53:06,416 - DEBUG - Position requested
2018-01-18 10:53:06,417 - DEBUG - Pos Mgmt -12987
2018-01-18 10:53:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:53:06,418 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:53:06,418 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:53:06,418 - DEBUG - Position is -12987
2018-01-18 10:53:07,417 - DEBUG - Open Orders requested
2018-01-18 10:53:07,419 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1198>>
2018-01-18 10:53:07,420 - DEBUG - Order OrderID 106
2018-01-18 10:53:07,420 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:53:07,421 - DEBUG - Order status PreSubmitted
2018-01-18 10:53:07,421 - DEBUG - Order Identification 106
2018-01-18 10:53:07,421 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:53:07,421 - DEBUG - Profit ID from database is 0
2018-01-18 10:53:07,422 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:53:07,422 - DEBUG - Stop ID database is 0
2018-01-18 10:53:07,422 - DEBUG - Entry ID database is 108
2018-01-18 10:53:07,423 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-18 10:53:07,423 - DEBUG - Order OrderID 107
2018-01-18 10:53:07,424 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:53:07,424 - DEBUG - Order status PreSubmitted
2018-01-18 10:53:07,424 - DEBUG - Order Identification 107
2018-01-18 10:53:07,424 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:53:07,425 - DEBUG - Profit ID from database is 0
2018-01-18 10:53:07,425 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:53:07,425 - DEBUG - Stop ID database is 0
2018-01-18 10:53:07,425 - DEBUG - Entry ID database is 108
2018-01-18 10:53:07,426 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1208>>
2018-01-18 10:53:07,427 - DEBUG - Order OrderID 108
2018-01-18 10:53:07,427 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:53:07,427 - DEBUG - Order status PreSubmitted
2018-01-18 10:53:07,428 - DEBUG - Order Identification 108
2018-01-18 10:53:07,428 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:53:07,428 - DEBUG - Profit ID from database is 0
2018-01-18 10:53:07,428 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:53:07,429 - DEBUG - Stop ID database is 0
2018-01-18 10:53:07,429 - DEBUG - Entry ID database is 108
2018-01-18 10:53:07,429 - DEBUG - Entry API ID is 108
2018-01-18 10:53:09,420 - DEBUG - Connecting to database
2018-01-18 10:53:09,427 - DEBUG - Connected to database
2018-01-18 10:53:09,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,429 - DEBUG - Stop loss value is 72.30
2018-01-18 10:53:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,430 - DEBUG - Stop loss value is 84.7
2018-01-18 10:53:09,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,432 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:53:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,434 - DEBUG - Stop quantity 1
2018-01-18 10:53:09,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,435 - DEBUG - Direction is Long
2018-01-18 10:53:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,437 - DEBUG - Count is 0
2018-01-18 10:53:09,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:53:09,438 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:53:09,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:53:09,440 - DEBUG - Max ID Order is (108,)
2018-01-18 10:53:09,440 - DEBUG - Today is 2018-01-18
2018-01-18 10:53:09,441 - DEBUG - Day of the week 3
2018-01-18 10:53:09,441 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:53:09,441 - DEBUG - In Position is  0
2018-01-18 10:53:09,442 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:53:09,442 - DEBUG - curStopLossFlag is  0
2018-01-18 10:53:09,442 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:53:09,442 - DEBUG - Checking if Entry has been filled
2018-01-18 10:53:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:53:09,444 - DEBUG - EntryPend is 1
2018-01-18 10:53:09,444 - DEBUG - Try to Cancel Stop
2018-01-18 10:53:09,444 - DEBUG - Stop API ID 0
2018-01-18 10:53:09,445 - DEBUG - Profit API ID 0
2018-01-18 10:53:09,445 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:53:09,445 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:53:09,445 - DEBUG - Pos is 0
2018-01-18 10:53:09,445 - DEBUG - CurCount is 0
2018-01-18 10:53:09,446 - DEBUG - In Pos 0
2018-01-18 10:53:09,446 - DEBUG - Stop ID is 0
2018-01-18 10:53:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:53:09,447 - DEBUG - EntryPend is 1
2018-01-18 10:53:09,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:53:09,448 - DEBUG - Entry Date is 10
2018-01-18 10:53:09,448 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:53:09,448 - DEBUG - Order Profit ID is 0
2018-01-18 10:53:09,449 - DEBUG - Order Entry ID is 108
2018-01-18 10:53:09,449 - DEBUG - API ID is  0
2018-01-18 10:53:09,449 - DEBUG - Current Position is 0
2018-01-18 10:53:09,449 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:53:09,449 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:53:09,450 - DEBUG - Time is 10
2018-01-18 10:53:09,450 - DEBUG - Time is <class 'int'>
2018-01-18 10:53:09,450 - DEBUG - Time is 53
2018-01-18 10:53:09,450 - DEBUG - Time is <class 'int'>
2018-01-18 10:53:09,451 - DEBUG - Disconnected from IBController
2018-01-18 10:53:09,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 10:58:05,329 - DEBUG - ****************************************************
2018-01-18 10:58:05,330 - DEBUG - Current Time is 10:58AM
2018-01-18 10:58:05,330 - DEBUG - Starting Pos Mgmt H E
2018-01-18 10:58:05,330 - DEBUG - Connecting to database
2018-01-18 10:58:05,358 - DEBUG - Connected to database
2018-01-18 10:58:05,358 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:05,360 - DEBUG - Order Profit is 0
2018-01-18 10:58:05,360 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:05,361 - DEBUG - Stop ID is 0
2018-01-18 10:58:05,362 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:05,363 - DEBUG - Entry ID is 108
2018-01-18 10:58:05,363 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 10:58:05,365 - DEBUG - OCA ID is 1
2018-01-18 10:58:05,365 - DEBUG - Connecting to IBController
2018-01-18 10:58:06,370 - DEBUG - Connected to IBController
2018-01-18 10:58:06,370 - DEBUG - Position requested
2018-01-18 10:58:06,371 - DEBUG - Pos Mgmt -12987
2018-01-18 10:58:06,371 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDD30>, pos=-12987, avgCost=0.95368235>
2018-01-18 10:58:06,372 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 10:58:06,372 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 10:58:06,372 - DEBUG - Position is -12987
2018-01-18 10:58:07,371 - DEBUG - Open Orders requested
2018-01-18 10:58:07,373 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, order=<ib.ext.Order.Order object at 0x00000000020EDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181128>>
2018-01-18 10:58:07,373 - DEBUG - Order OrderID 106
2018-01-18 10:58:07,374 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:58:07,374 - DEBUG - Order status PreSubmitted
2018-01-18 10:58:07,374 - DEBUG - Order Identification 106
2018-01-18 10:58:07,375 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:58:07,375 - DEBUG - Profit ID from database is 0
2018-01-18 10:58:07,375 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:58:07,375 - DEBUG - Stop ID database is 0
2018-01-18 10:58:07,375 - DEBUG - Entry ID database is 108
2018-01-18 10:58:07,376 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 10:58:07,377 - DEBUG - Order OrderID 107
2018-01-18 10:58:07,377 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:58:07,378 - DEBUG - Order status PreSubmitted
2018-01-18 10:58:07,378 - DEBUG - Order Identification 107
2018-01-18 10:58:07,378 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:58:07,378 - DEBUG - Profit ID from database is 0
2018-01-18 10:58:07,378 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:58:07,379 - DEBUG - Stop ID database is 0
2018-01-18 10:58:07,379 - DEBUG - Entry ID database is 108
2018-01-18 10:58:07,380 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181278>>
2018-01-18 10:58:07,380 - DEBUG - Order OrderID 108
2018-01-18 10:58:07,380 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 10:58:07,381 - DEBUG - Order status PreSubmitted
2018-01-18 10:58:07,381 - DEBUG - Order Identification 108
2018-01-18 10:58:07,381 - DEBUG - Order Identification <class 'int'>
2018-01-18 10:58:07,381 - DEBUG - Profit ID from database is 0
2018-01-18 10:58:07,382 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 10:58:07,382 - DEBUG - Stop ID database is 0
2018-01-18 10:58:07,382 - DEBUG - Entry ID database is 108
2018-01-18 10:58:07,382 - DEBUG - Entry API ID is 108
2018-01-18 10:58:09,371 - DEBUG - Connecting to database
2018-01-18 10:58:09,378 - DEBUG - Connected to database
2018-01-18 10:58:09,380 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,380 - DEBUG - Stop loss value is 72.30
2018-01-18 10:58:09,382 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,382 - DEBUG - Stop loss value is 84.7
2018-01-18 10:58:09,383 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,384 - DEBUG - EntryPrice value is 73.75
2018-01-18 10:58:09,385 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,385 - DEBUG - Stop quantity 1
2018-01-18 10:58:09,387 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,387 - DEBUG - Direction is Long
2018-01-18 10:58:09,388 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,389 - DEBUG - Count is 0
2018-01-18 10:58:09,390 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 10:58:09,390 - DEBUG - Stop Loss Flag is 0
2018-01-18 10:58:09,392 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 10:58:09,392 - DEBUG - Max ID Order is (108,)
2018-01-18 10:58:09,392 - DEBUG - Today is 2018-01-18
2018-01-18 10:58:09,393 - DEBUG - Day of the week 3
2018-01-18 10:58:09,393 - DEBUG - Yesterday is 01/17/2018
2018-01-18 10:58:09,393 - DEBUG - In Position is  0
2018-01-18 10:58:09,393 - DEBUG - In Position is  <class 'int'>
2018-01-18 10:58:09,394 - DEBUG - curStopLossFlag is  0
2018-01-18 10:58:09,394 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 10:58:09,394 - DEBUG - Checking if Entry has been filled
2018-01-18 10:58:09,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:58:09,396 - DEBUG - EntryPend is 1
2018-01-18 10:58:09,396 - DEBUG - Try to Cancel Stop
2018-01-18 10:58:09,396 - DEBUG - Stop API ID 0
2018-01-18 10:58:09,396 - DEBUG - Profit API ID 0
2018-01-18 10:58:09,397 - DEBUG - Stop API ID <class 'int'>
2018-01-18 10:58:09,397 - DEBUG - Profit API ID <class 'int'>
2018-01-18 10:58:09,397 - DEBUG - Pos is 0
2018-01-18 10:58:09,397 - DEBUG - CurCount is 0
2018-01-18 10:58:09,397 - DEBUG - In Pos 0
2018-01-18 10:58:09,398 - DEBUG - Stop ID is 0
2018-01-18 10:58:09,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 10:58:09,703 - DEBUG - EntryPend is 1
2018-01-18 10:58:09,703 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 10:58:09,704 - DEBUG - Entry Date is 10
2018-01-18 10:58:09,704 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 10:58:09,704 - DEBUG - Order Profit ID is 0
2018-01-18 10:58:09,704 - DEBUG - Order Entry ID is 108
2018-01-18 10:58:09,704 - DEBUG - API ID is  0
2018-01-18 10:58:09,705 - DEBUG - Current Position is 0
2018-01-18 10:58:09,705 - DEBUG - Current Position is <class 'str'>
2018-01-18 10:58:09,705 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 10:58:09,705 - DEBUG - Time is 10
2018-01-18 10:58:09,705 - DEBUG - Time is <class 'int'>
2018-01-18 10:58:09,706 - DEBUG - Time is 58
2018-01-18 10:58:09,706 - DEBUG - Time is <class 'int'>
2018-01-18 10:58:09,706 - DEBUG - Disconnected from IBController
2018-01-18 10:58:09,707 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:03:05,356 - DEBUG - ****************************************************
2018-01-18 11:03:05,357 - DEBUG - Current Time is 11:03AM
2018-01-18 11:03:05,357 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:03:05,357 - DEBUG - Connecting to database
2018-01-18 11:03:05,376 - DEBUG - Connected to database
2018-01-18 11:03:05,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:05,377 - DEBUG - Order Profit is 0
2018-01-18 11:03:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:05,379 - DEBUG - Stop ID is 0
2018-01-18 11:03:05,379 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:05,381 - DEBUG - Entry ID is 108
2018-01-18 11:03:05,381 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:03:05,382 - DEBUG - OCA ID is 1
2018-01-18 11:03:05,383 - DEBUG - Connecting to IBController
2018-01-18 11:03:06,390 - DEBUG - Connected to IBController
2018-01-18 11:03:06,390 - DEBUG - Position requested
2018-01-18 11:03:06,391 - DEBUG - Pos Mgmt -12987
2018-01-18 11:03:06,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA90>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:03:06,392 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:03:06,392 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:03:06,392 - DEBUG - Position is -12987
2018-01-18 11:03:07,390 - DEBUG - Open Orders requested
2018-01-18 11:03:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2198>>
2018-01-18 11:03:07,393 - DEBUG - Order OrderID 106
2018-01-18 11:03:07,393 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:03:07,394 - DEBUG - Order status PreSubmitted
2018-01-18 11:03:07,394 - DEBUG - Order Identification 106
2018-01-18 11:03:07,394 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:03:07,394 - DEBUG - Profit ID from database is 0
2018-01-18 11:03:07,395 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:03:07,395 - DEBUG - Stop ID database is 0
2018-01-18 11:03:07,395 - DEBUG - Entry ID database is 108
2018-01-18 11:03:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B20B8>>
2018-01-18 11:03:07,396 - DEBUG - Order OrderID 107
2018-01-18 11:03:07,397 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:03:07,397 - DEBUG - Order status PreSubmitted
2018-01-18 11:03:07,397 - DEBUG - Order Identification 107
2018-01-18 11:03:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:03:07,398 - DEBUG - Profit ID from database is 0
2018-01-18 11:03:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:03:07,398 - DEBUG - Stop ID database is 0
2018-01-18 11:03:07,398 - DEBUG - Entry ID database is 108
2018-01-18 11:03:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2208>>
2018-01-18 11:03:07,400 - DEBUG - Order OrderID 108
2018-01-18 11:03:07,400 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:03:07,400 - DEBUG - Order status PreSubmitted
2018-01-18 11:03:07,401 - DEBUG - Order Identification 108
2018-01-18 11:03:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:03:07,401 - DEBUG - Profit ID from database is 0
2018-01-18 11:03:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:03:07,402 - DEBUG - Stop ID database is 0
2018-01-18 11:03:07,402 - DEBUG - Entry ID database is 108
2018-01-18 11:03:07,402 - DEBUG - Entry API ID is 108
2018-01-18 11:03:09,393 - DEBUG - Connecting to database
2018-01-18 11:03:09,400 - DEBUG - Connected to database
2018-01-18 11:03:09,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,402 - DEBUG - Stop loss value is 72.30
2018-01-18 11:03:09,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,403 - DEBUG - Stop loss value is 84.7
2018-01-18 11:03:09,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,405 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:03:09,406 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,406 - DEBUG - Stop quantity 1
2018-01-18 11:03:09,408 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,408 - DEBUG - Direction is Long
2018-01-18 11:03:09,409 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,410 - DEBUG - Count is 0
2018-01-18 11:03:09,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:03:09,411 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:03:09,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:03:09,413 - DEBUG - Max ID Order is (108,)
2018-01-18 11:03:09,413 - DEBUG - Today is 2018-01-18
2018-01-18 11:03:09,414 - DEBUG - Day of the week 3
2018-01-18 11:03:09,414 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:03:09,414 - DEBUG - In Position is  0
2018-01-18 11:03:09,415 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:03:09,415 - DEBUG - curStopLossFlag is  0
2018-01-18 11:03:09,415 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:03:09,415 - DEBUG - Checking if Entry has been filled
2018-01-18 11:03:09,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:03:09,417 - DEBUG - EntryPend is 1
2018-01-18 11:03:09,417 - DEBUG - Try to Cancel Stop
2018-01-18 11:03:09,417 - DEBUG - Stop API ID 0
2018-01-18 11:03:09,417 - DEBUG - Profit API ID 0
2018-01-18 11:03:09,418 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:03:09,418 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:03:09,418 - DEBUG - Pos is 0
2018-01-18 11:03:09,418 - DEBUG - CurCount is 0
2018-01-18 11:03:09,419 - DEBUG - In Pos 0
2018-01-18 11:03:09,419 - DEBUG - Stop ID is 0
2018-01-18 11:03:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:03:09,421 - DEBUG - EntryPend is 1
2018-01-18 11:03:09,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:03:09,421 - DEBUG - Entry Date is 10
2018-01-18 11:03:09,421 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:03:09,421 - DEBUG - Order Profit ID is 0
2018-01-18 11:03:09,422 - DEBUG - Order Entry ID is 108
2018-01-18 11:03:09,422 - DEBUG - API ID is  0
2018-01-18 11:03:09,422 - DEBUG - Current Position is 0
2018-01-18 11:03:09,422 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:03:09,422 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:03:09,423 - DEBUG - Time is 11
2018-01-18 11:03:09,423 - DEBUG - Time is <class 'int'>
2018-01-18 11:03:09,423 - DEBUG - Time is 3
2018-01-18 11:03:09,423 - DEBUG - Time is <class 'int'>
2018-01-18 11:03:09,424 - DEBUG - Disconnected from IBController
2018-01-18 11:03:09,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:08:05,383 - DEBUG - ****************************************************
2018-01-18 11:08:05,383 - DEBUG - Current Time is 11:08AM
2018-01-18 11:08:05,384 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:08:05,384 - DEBUG - Connecting to database
2018-01-18 11:08:05,416 - DEBUG - Connected to database
2018-01-18 11:08:05,416 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:05,418 - DEBUG - Order Profit is 0
2018-01-18 11:08:05,418 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:05,419 - DEBUG - Stop ID is 0
2018-01-18 11:08:05,420 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:05,421 - DEBUG - Entry ID is 108
2018-01-18 11:08:05,421 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:08:05,422 - DEBUG - OCA ID is 1
2018-01-18 11:08:05,423 - DEBUG - Connecting to IBController
2018-01-18 11:08:06,426 - DEBUG - Connected to IBController
2018-01-18 11:08:06,426 - DEBUG - Position requested
2018-01-18 11:08:06,427 - DEBUG - Pos Mgmt -12987
2018-01-18 11:08:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECB70>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:08:06,428 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:08:06,428 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:08:06,428 - DEBUG - Position is -12987
2018-01-18 11:08:07,427 - DEBUG - Open Orders requested
2018-01-18 11:08:07,429 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020ECC88>, order=<ib.ext.Order.Order object at 0x00000000020ECC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182128>>
2018-01-18 11:08:07,429 - DEBUG - Order OrderID 106
2018-01-18 11:08:07,429 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:08:07,430 - DEBUG - Order status PreSubmitted
2018-01-18 11:08:07,430 - DEBUG - Order Identification 106
2018-01-18 11:08:07,430 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:08:07,431 - DEBUG - Profit ID from database is 0
2018-01-18 11:08:07,431 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:08:07,431 - DEBUG - Stop ID database is 0
2018-01-18 11:08:07,431 - DEBUG - Entry ID database is 108
2018-01-18 11:08:07,432 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020ECFD0>, order=<ib.ext.Order.Order object at 0x00000000020ECC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182198>>
2018-01-18 11:08:07,433 - DEBUG - Order OrderID 107
2018-01-18 11:08:07,433 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:08:07,433 - DEBUG - Order status PreSubmitted
2018-01-18 11:08:07,434 - DEBUG - Order Identification 107
2018-01-18 11:08:07,434 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:08:07,434 - DEBUG - Profit ID from database is 0
2018-01-18 11:08:07,434 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:08:07,434 - DEBUG - Stop ID database is 0
2018-01-18 11:08:07,435 - DEBUG - Entry ID database is 108
2018-01-18 11:08:07,436 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020ECFD0>, order=<ib.ext.Order.Order object at 0x00000000020ECC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182278>>
2018-01-18 11:08:07,436 - DEBUG - Order OrderID 108
2018-01-18 11:08:07,436 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:08:07,437 - DEBUG - Order status PreSubmitted
2018-01-18 11:08:07,437 - DEBUG - Order Identification 108
2018-01-18 11:08:07,437 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:08:07,437 - DEBUG - Profit ID from database is 0
2018-01-18 11:08:07,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:08:07,438 - DEBUG - Stop ID database is 0
2018-01-18 11:08:07,438 - DEBUG - Entry ID database is 108
2018-01-18 11:08:07,438 - DEBUG - Entry API ID is 108
2018-01-18 11:08:09,427 - DEBUG - Connecting to database
2018-01-18 11:08:09,434 - DEBUG - Connected to database
2018-01-18 11:08:09,436 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,436 - DEBUG - Stop loss value is 72.30
2018-01-18 11:08:09,438 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,438 - DEBUG - Stop loss value is 84.7
2018-01-18 11:08:09,440 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,440 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:08:09,441 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,442 - DEBUG - Stop quantity 1
2018-01-18 11:08:09,443 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,443 - DEBUG - Direction is Long
2018-01-18 11:08:09,445 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,445 - DEBUG - Count is 0
2018-01-18 11:08:09,448 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:08:09,448 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:08:09,449 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:08:09,450 - DEBUG - Max ID Order is (108,)
2018-01-18 11:08:09,450 - DEBUG - Today is 2018-01-18
2018-01-18 11:08:09,450 - DEBUG - Day of the week 3
2018-01-18 11:08:09,451 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:08:09,451 - DEBUG - In Position is  0
2018-01-18 11:08:09,451 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:08:09,451 - DEBUG - curStopLossFlag is  0
2018-01-18 11:08:09,452 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:08:09,452 - DEBUG - Checking if Entry has been filled
2018-01-18 11:08:09,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:08:09,454 - DEBUG - EntryPend is 1
2018-01-18 11:08:09,454 - DEBUG - Try to Cancel Stop
2018-01-18 11:08:09,454 - DEBUG - Stop API ID 0
2018-01-18 11:08:09,454 - DEBUG - Profit API ID 0
2018-01-18 11:08:09,454 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:08:09,455 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:08:09,455 - DEBUG - Pos is 0
2018-01-18 11:08:09,455 - DEBUG - CurCount is 0
2018-01-18 11:08:09,455 - DEBUG - In Pos 0
2018-01-18 11:08:09,456 - DEBUG - Stop ID is 0
2018-01-18 11:08:09,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:08:09,457 - DEBUG - EntryPend is 1
2018-01-18 11:08:09,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:08:09,458 - DEBUG - Entry Date is 10
2018-01-18 11:08:09,458 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:08:09,458 - DEBUG - Order Profit ID is 0
2018-01-18 11:08:09,458 - DEBUG - Order Entry ID is 108
2018-01-18 11:08:09,458 - DEBUG - API ID is  0
2018-01-18 11:08:09,459 - DEBUG - Current Position is 0
2018-01-18 11:08:09,459 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:08:09,459 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:08:09,459 - DEBUG - Time is 11
2018-01-18 11:08:09,459 - DEBUG - Time is <class 'int'>
2018-01-18 11:08:09,460 - DEBUG - Time is 8
2018-01-18 11:08:09,460 - DEBUG - Time is <class 'int'>
2018-01-18 11:08:09,460 - DEBUG - Disconnected from IBController
2018-01-18 11:08:09,461 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:13:05,358 - DEBUG - ****************************************************
2018-01-18 11:13:05,358 - DEBUG - Current Time is 11:13AM
2018-01-18 11:13:05,358 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:13:05,359 - DEBUG - Connecting to database
2018-01-18 11:13:05,386 - DEBUG - Connected to database
2018-01-18 11:13:05,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:05,388 - DEBUG - Order Profit is 0
2018-01-18 11:13:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:05,390 - DEBUG - Stop ID is 0
2018-01-18 11:13:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:05,391 - DEBUG - Entry ID is 108
2018-01-18 11:13:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:13:05,393 - DEBUG - OCA ID is 1
2018-01-18 11:13:05,393 - DEBUG - Connecting to IBController
2018-01-18 11:13:06,397 - DEBUG - Connected to IBController
2018-01-18 11:13:06,397 - DEBUG - Position requested
2018-01-18 11:13:06,398 - DEBUG - Pos Mgmt -12987
2018-01-18 11:13:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:13:06,399 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:13:06,399 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:13:06,399 - DEBUG - Position is -12987
2018-01-18 11:13:07,398 - DEBUG - Open Orders requested
2018-01-18 11:13:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC88>, order=<ib.ext.Order.Order object at 0x00000000020EDCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 11:13:07,401 - DEBUG - Order OrderID 106
2018-01-18 11:13:07,401 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:13:07,402 - DEBUG - Order status PreSubmitted
2018-01-18 11:13:07,402 - DEBUG - Order Identification 106
2018-01-18 11:13:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:13:07,402 - DEBUG - Profit ID from database is 0
2018-01-18 11:13:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:13:07,403 - DEBUG - Stop ID database is 0
2018-01-18 11:13:07,403 - DEBUG - Entry ID database is 108
2018-01-18 11:13:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC88>, order=<ib.ext.Order.Order object at 0x00000000020EDCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181160>>
2018-01-18 11:13:07,404 - DEBUG - Order OrderID 107
2018-01-18 11:13:07,405 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:13:07,405 - DEBUG - Order status PreSubmitted
2018-01-18 11:13:07,405 - DEBUG - Order Identification 107
2018-01-18 11:13:07,405 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:13:07,406 - DEBUG - Profit ID from database is 0
2018-01-18 11:13:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:13:07,406 - DEBUG - Stop ID database is 0
2018-01-18 11:13:07,406 - DEBUG - Entry ID database is 108
2018-01-18 11:13:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC88>, order=<ib.ext.Order.Order object at 0x00000000020EDCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181208>>
2018-01-18 11:13:07,408 - DEBUG - Order OrderID 108
2018-01-18 11:13:07,408 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:13:07,408 - DEBUG - Order status PreSubmitted
2018-01-18 11:13:07,409 - DEBUG - Order Identification 108
2018-01-18 11:13:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:13:07,409 - DEBUG - Profit ID from database is 0
2018-01-18 11:13:07,409 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:13:07,409 - DEBUG - Stop ID database is 0
2018-01-18 11:13:07,410 - DEBUG - Entry ID database is 108
2018-01-18 11:13:07,410 - DEBUG - Entry API ID is 108
2018-01-18 11:13:09,401 - DEBUG - Connecting to database
2018-01-18 11:13:09,408 - DEBUG - Connected to database
2018-01-18 11:13:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,409 - DEBUG - Stop loss value is 72.30
2018-01-18 11:13:09,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,411 - DEBUG - Stop loss value is 84.7
2018-01-18 11:13:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,413 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:13:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,414 - DEBUG - Stop quantity 1
2018-01-18 11:13:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,416 - DEBUG - Direction is Long
2018-01-18 11:13:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,418 - DEBUG - Count is 0
2018-01-18 11:13:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:13:09,419 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:13:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:13:09,421 - DEBUG - Max ID Order is (108,)
2018-01-18 11:13:09,421 - DEBUG - Today is 2018-01-18
2018-01-18 11:13:09,421 - DEBUG - Day of the week 3
2018-01-18 11:13:09,422 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:13:09,422 - DEBUG - In Position is  0
2018-01-18 11:13:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:13:09,422 - DEBUG - curStopLossFlag is  0
2018-01-18 11:13:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:13:09,423 - DEBUG - Checking if Entry has been filled
2018-01-18 11:13:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:13:09,424 - DEBUG - EntryPend is 1
2018-01-18 11:13:09,425 - DEBUG - Try to Cancel Stop
2018-01-18 11:13:09,425 - DEBUG - Stop API ID 0
2018-01-18 11:13:09,425 - DEBUG - Profit API ID 0
2018-01-18 11:13:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:13:09,426 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:13:09,426 - DEBUG - Pos is 0
2018-01-18 11:13:09,426 - DEBUG - CurCount is 0
2018-01-18 11:13:09,426 - DEBUG - In Pos 0
2018-01-18 11:13:09,426 - DEBUG - Stop ID is 0
2018-01-18 11:13:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:13:09,428 - DEBUG - EntryPend is 1
2018-01-18 11:13:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:13:09,428 - DEBUG - Entry Date is 10
2018-01-18 11:13:09,429 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:13:09,429 - DEBUG - Order Profit ID is 0
2018-01-18 11:13:09,429 - DEBUG - Order Entry ID is 108
2018-01-18 11:13:09,429 - DEBUG - API ID is  0
2018-01-18 11:13:09,429 - DEBUG - Current Position is 0
2018-01-18 11:13:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:13:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:13:09,430 - DEBUG - Time is 11
2018-01-18 11:13:09,430 - DEBUG - Time is <class 'int'>
2018-01-18 11:13:09,430 - DEBUG - Time is 13
2018-01-18 11:13:09,431 - DEBUG - Time is <class 'int'>
2018-01-18 11:13:09,431 - DEBUG - Disconnected from IBController
2018-01-18 11:13:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:18:05,333 - DEBUG - ****************************************************
2018-01-18 11:18:05,333 - DEBUG - Current Time is 11:18AM
2018-01-18 11:18:05,333 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:18:05,334 - DEBUG - Connecting to database
2018-01-18 11:18:05,363 - DEBUG - Connected to database
2018-01-18 11:18:05,363 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:05,365 - DEBUG - Order Profit is 0
2018-01-18 11:18:05,365 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:05,367 - DEBUG - Stop ID is 0
2018-01-18 11:18:05,367 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:05,368 - DEBUG - Entry ID is 108
2018-01-18 11:18:05,369 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:18:05,370 - DEBUG - OCA ID is 1
2018-01-18 11:18:05,370 - DEBUG - Connecting to IBController
2018-01-18 11:18:06,374 - DEBUG - Connected to IBController
2018-01-18 11:18:06,374 - DEBUG - Position requested
2018-01-18 11:18:06,375 - DEBUG - Pos Mgmt -12987
2018-01-18 11:18:06,375 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDDA0>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:18:06,376 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:18:06,376 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:18:06,376 - DEBUG - Position is -12987
2018-01-18 11:18:07,375 - DEBUG - Open Orders requested
2018-01-18 11:18:07,377 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020FDB70>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191128>>
2018-01-18 11:18:07,377 - DEBUG - Order OrderID 106
2018-01-18 11:18:07,378 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:18:07,378 - DEBUG - Order status PreSubmitted
2018-01-18 11:18:07,378 - DEBUG - Order Identification 106
2018-01-18 11:18:07,378 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:18:07,379 - DEBUG - Profit ID from database is 0
2018-01-18 11:18:07,379 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:18:07,379 - DEBUG - Stop ID database is 0
2018-01-18 11:18:07,379 - DEBUG - Entry ID database is 108
2018-01-18 11:18:07,380 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191198>>
2018-01-18 11:18:07,381 - DEBUG - Order OrderID 107
2018-01-18 11:18:07,381 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:18:07,381 - DEBUG - Order status PreSubmitted
2018-01-18 11:18:07,382 - DEBUG - Order Identification 107
2018-01-18 11:18:07,382 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:18:07,382 - DEBUG - Profit ID from database is 0
2018-01-18 11:18:07,382 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:18:07,382 - DEBUG - Stop ID database is 0
2018-01-18 11:18:07,383 - DEBUG - Entry ID database is 108
2018-01-18 11:18:07,384 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191278>>
2018-01-18 11:18:07,384 - DEBUG - Order OrderID 108
2018-01-18 11:18:07,384 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:18:07,385 - DEBUG - Order status PreSubmitted
2018-01-18 11:18:07,385 - DEBUG - Order Identification 108
2018-01-18 11:18:07,385 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:18:07,385 - DEBUG - Profit ID from database is 0
2018-01-18 11:18:07,385 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:18:07,386 - DEBUG - Stop ID database is 0
2018-01-18 11:18:07,386 - DEBUG - Entry ID database is 108
2018-01-18 11:18:07,386 - DEBUG - Entry API ID is 108
2018-01-18 11:18:09,375 - DEBUG - Connecting to database
2018-01-18 11:18:09,382 - DEBUG - Connected to database
2018-01-18 11:18:09,384 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,384 - DEBUG - Stop loss value is 72.30
2018-01-18 11:18:09,385 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,386 - DEBUG - Stop loss value is 84.7
2018-01-18 11:18:09,387 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,387 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:18:09,389 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,389 - DEBUG - Stop quantity 1
2018-01-18 11:18:09,390 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,391 - DEBUG - Direction is Long
2018-01-18 11:18:09,392 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,392 - DEBUG - Count is 0
2018-01-18 11:18:09,393 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:18:09,394 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:18:09,395 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:18:09,396 - DEBUG - Max ID Order is (108,)
2018-01-18 11:18:09,396 - DEBUG - Today is 2018-01-18
2018-01-18 11:18:09,396 - DEBUG - Day of the week 3
2018-01-18 11:18:09,397 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:18:09,397 - DEBUG - In Position is  0
2018-01-18 11:18:09,397 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:18:09,397 - DEBUG - curStopLossFlag is  0
2018-01-18 11:18:09,397 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:18:09,398 - DEBUG - Checking if Entry has been filled
2018-01-18 11:18:09,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:18:09,399 - DEBUG - EntryPend is 1
2018-01-18 11:18:09,400 - DEBUG - Try to Cancel Stop
2018-01-18 11:18:09,400 - DEBUG - Stop API ID 0
2018-01-18 11:18:09,400 - DEBUG - Profit API ID 0
2018-01-18 11:18:09,400 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:18:09,400 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:18:09,401 - DEBUG - Pos is 0
2018-01-18 11:18:09,401 - DEBUG - CurCount is 0
2018-01-18 11:18:09,401 - DEBUG - In Pos 0
2018-01-18 11:18:09,401 - DEBUG - Stop ID is 0
2018-01-18 11:18:09,402 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:18:09,403 - DEBUG - EntryPend is 1
2018-01-18 11:18:09,403 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:18:09,404 - DEBUG - Entry Date is 10
2018-01-18 11:18:09,404 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:18:09,404 - DEBUG - Order Profit ID is 0
2018-01-18 11:18:09,404 - DEBUG - Order Entry ID is 108
2018-01-18 11:18:09,404 - DEBUG - API ID is  0
2018-01-18 11:18:09,405 - DEBUG - Current Position is 0
2018-01-18 11:18:09,405 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:18:09,405 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:18:09,405 - DEBUG - Time is 11
2018-01-18 11:18:09,406 - DEBUG - Time is <class 'int'>
2018-01-18 11:18:09,406 - DEBUG - Time is 18
2018-01-18 11:18:09,406 - DEBUG - Time is <class 'int'>
2018-01-18 11:18:09,406 - DEBUG - Disconnected from IBController
2018-01-18 11:18:09,407 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:23:05,353 - DEBUG - ****************************************************
2018-01-18 11:23:05,354 - DEBUG - Current Time is 11:23AM
2018-01-18 11:23:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:23:05,354 - DEBUG - Connecting to database
2018-01-18 11:23:05,376 - DEBUG - Connected to database
2018-01-18 11:23:05,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:05,378 - DEBUG - Order Profit is 0
2018-01-18 11:23:05,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:05,380 - DEBUG - Stop ID is 0
2018-01-18 11:23:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:05,382 - DEBUG - Entry ID is 108
2018-01-18 11:23:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:23:05,383 - DEBUG - OCA ID is 1
2018-01-18 11:23:05,384 - DEBUG - Connecting to IBController
2018-01-18 11:23:06,408 - DEBUG - Connected to IBController
2018-01-18 11:23:06,408 - DEBUG - Position requested
2018-01-18 11:23:06,409 - DEBUG - Pos Mgmt -12987
2018-01-18 11:23:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:23:06,410 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:23:06,410 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:23:06,410 - DEBUG - Position is -12987
2018-01-18 11:23:07,419 - DEBUG - Open Orders requested
2018-01-18 11:23:07,422 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EDCF8>, order=<ib.ext.Order.Order object at 0x00000000020EDA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181128>>
2018-01-18 11:23:07,423 - DEBUG - Order OrderID 106
2018-01-18 11:23:07,423 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:23:07,424 - DEBUG - Order status PreSubmitted
2018-01-18 11:23:07,424 - DEBUG - Order Identification 106
2018-01-18 11:23:07,424 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:23:07,424 - DEBUG - Profit ID from database is 0
2018-01-18 11:23:07,425 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:23:07,425 - DEBUG - Stop ID database is 0
2018-01-18 11:23:07,425 - DEBUG - Entry ID database is 108
2018-01-18 11:23:07,426 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 11:23:07,426 - DEBUG - Order OrderID 107
2018-01-18 11:23:07,427 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:23:07,427 - DEBUG - Order status PreSubmitted
2018-01-18 11:23:07,427 - DEBUG - Order Identification 107
2018-01-18 11:23:07,428 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:23:07,428 - DEBUG - Profit ID from database is 0
2018-01-18 11:23:07,428 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:23:07,428 - DEBUG - Stop ID database is 0
2018-01-18 11:23:07,428 - DEBUG - Entry ID database is 108
2018-01-18 11:23:07,429 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181278>>
2018-01-18 11:23:07,430 - DEBUG - Order OrderID 108
2018-01-18 11:23:07,430 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:23:07,430 - DEBUG - Order status PreSubmitted
2018-01-18 11:23:07,431 - DEBUG - Order Identification 108
2018-01-18 11:23:07,431 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:23:07,431 - DEBUG - Profit ID from database is 0
2018-01-18 11:23:07,431 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:23:07,431 - DEBUG - Stop ID database is 0
2018-01-18 11:23:07,432 - DEBUG - Entry ID database is 108
2018-01-18 11:23:07,432 - DEBUG - Entry API ID is 108
2018-01-18 11:23:09,420 - DEBUG - Connecting to database
2018-01-18 11:23:09,427 - DEBUG - Connected to database
2018-01-18 11:23:09,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,429 - DEBUG - Stop loss value is 72.30
2018-01-18 11:23:09,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,431 - DEBUG - Stop loss value is 84.7
2018-01-18 11:23:09,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,432 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:23:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,434 - DEBUG - Stop quantity 1
2018-01-18 11:23:09,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,435 - DEBUG - Direction is Long
2018-01-18 11:23:09,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,438 - DEBUG - Count is 0
2018-01-18 11:23:09,439 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:23:09,439 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:23:09,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:23:09,441 - DEBUG - Max ID Order is (108,)
2018-01-18 11:23:09,441 - DEBUG - Today is 2018-01-18
2018-01-18 11:23:09,442 - DEBUG - Day of the week 3
2018-01-18 11:23:09,442 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:23:09,442 - DEBUG - In Position is  0
2018-01-18 11:23:09,442 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:23:09,443 - DEBUG - curStopLossFlag is  0
2018-01-18 11:23:09,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:23:09,443 - DEBUG - Checking if Entry has been filled
2018-01-18 11:23:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:23:09,445 - DEBUG - EntryPend is 1
2018-01-18 11:23:09,445 - DEBUG - Try to Cancel Stop
2018-01-18 11:23:09,445 - DEBUG - Stop API ID 0
2018-01-18 11:23:09,445 - DEBUG - Profit API ID 0
2018-01-18 11:23:09,446 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:23:09,446 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:23:09,446 - DEBUG - Pos is 0
2018-01-18 11:23:09,446 - DEBUG - CurCount is 0
2018-01-18 11:23:09,446 - DEBUG - In Pos 0
2018-01-18 11:23:09,447 - DEBUG - Stop ID is 0
2018-01-18 11:23:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:23:09,448 - DEBUG - EntryPend is 1
2018-01-18 11:23:09,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:23:09,449 - DEBUG - Entry Date is 10
2018-01-18 11:23:09,449 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:23:09,449 - DEBUG - Order Profit ID is 0
2018-01-18 11:23:09,449 - DEBUG - Order Entry ID is 108
2018-01-18 11:23:09,449 - DEBUG - API ID is  0
2018-01-18 11:23:09,450 - DEBUG - Current Position is 0
2018-01-18 11:23:09,450 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:23:09,450 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:23:09,450 - DEBUG - Time is 11
2018-01-18 11:23:09,451 - DEBUG - Time is <class 'int'>
2018-01-18 11:23:09,451 - DEBUG - Time is 23
2018-01-18 11:23:09,451 - DEBUG - Time is <class 'int'>
2018-01-18 11:23:09,451 - DEBUG - Disconnected from IBController
2018-01-18 11:23:09,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:28:05,355 - DEBUG - ****************************************************
2018-01-18 11:28:05,356 - DEBUG - Current Time is 11:28AM
2018-01-18 11:28:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:28:05,357 - DEBUG - Connecting to database
2018-01-18 11:28:05,388 - DEBUG - Connected to database
2018-01-18 11:28:05,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:05,391 - DEBUG - Order Profit is 0
2018-01-18 11:28:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:05,393 - DEBUG - Stop ID is 0
2018-01-18 11:28:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:05,395 - DEBUG - Entry ID is 108
2018-01-18 11:28:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:28:05,396 - DEBUG - OCA ID is 1
2018-01-18 11:28:05,397 - DEBUG - Connecting to IBController
2018-01-18 11:28:06,401 - DEBUG - Connected to IBController
2018-01-18 11:28:06,401 - DEBUG - Position requested
2018-01-18 11:28:06,402 - DEBUG - Pos Mgmt -12987
2018-01-18 11:28:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216BBE0>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:28:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:28:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:28:06,403 - DEBUG - Position is -12987
2018-01-18 11:28:07,402 - DEBUG - Open Orders requested
2018-01-18 11:28:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000216BDD8>, order=<ib.ext.Order.Order object at 0x000000000216BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002200198>>
2018-01-18 11:28:07,405 - DEBUG - Order OrderID 106
2018-01-18 11:28:07,405 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:28:07,405 - DEBUG - Order status PreSubmitted
2018-01-18 11:28:07,406 - DEBUG - Order Identification 106
2018-01-18 11:28:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:28:07,406 - DEBUG - Profit ID from database is 0
2018-01-18 11:28:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:28:07,407 - DEBUG - Stop ID database is 0
2018-01-18 11:28:07,407 - DEBUG - Entry ID database is 108
2018-01-18 11:28:07,408 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000216BDD8>, order=<ib.ext.Order.Order object at 0x000000000216BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002200160>>
2018-01-18 11:28:07,408 - DEBUG - Order OrderID 107
2018-01-18 11:28:07,409 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:28:07,409 - DEBUG - Order status PreSubmitted
2018-01-18 11:28:07,409 - DEBUG - Order Identification 107
2018-01-18 11:28:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:28:07,410 - DEBUG - Profit ID from database is 0
2018-01-18 11:28:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:28:07,410 - DEBUG - Stop ID database is 0
2018-01-18 11:28:07,410 - DEBUG - Entry ID database is 108
2018-01-18 11:28:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000216BDD8>, order=<ib.ext.Order.Order object at 0x000000000216BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002200208>>
2018-01-18 11:28:07,412 - DEBUG - Order OrderID 108
2018-01-18 11:28:07,412 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:28:07,412 - DEBUG - Order status PreSubmitted
2018-01-18 11:28:07,413 - DEBUG - Order Identification 108
2018-01-18 11:28:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:28:07,413 - DEBUG - Profit ID from database is 0
2018-01-18 11:28:07,413 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:28:07,413 - DEBUG - Stop ID database is 0
2018-01-18 11:28:07,414 - DEBUG - Entry ID database is 108
2018-01-18 11:28:07,414 - DEBUG - Entry API ID is 108
2018-01-18 11:28:09,404 - DEBUG - Connecting to database
2018-01-18 11:28:09,411 - DEBUG - Connected to database
2018-01-18 11:28:09,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,413 - DEBUG - Stop loss value is 72.30
2018-01-18 11:28:09,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,415 - DEBUG - Stop loss value is 84.7
2018-01-18 11:28:09,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,417 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:28:09,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,418 - DEBUG - Stop quantity 1
2018-01-18 11:28:09,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,420 - DEBUG - Direction is Long
2018-01-18 11:28:09,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,422 - DEBUG - Count is 0
2018-01-18 11:28:09,423 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:28:09,423 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:28:09,425 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:28:09,425 - DEBUG - Max ID Order is (108,)
2018-01-18 11:28:09,425 - DEBUG - Today is 2018-01-18
2018-01-18 11:28:09,426 - DEBUG - Day of the week 3
2018-01-18 11:28:09,426 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:28:09,426 - DEBUG - In Position is  0
2018-01-18 11:28:09,427 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:28:09,427 - DEBUG - curStopLossFlag is  0
2018-01-18 11:28:09,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:28:09,427 - DEBUG - Checking if Entry has been filled
2018-01-18 11:28:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:28:09,429 - DEBUG - EntryPend is 1
2018-01-18 11:28:09,429 - DEBUG - Try to Cancel Stop
2018-01-18 11:28:09,429 - DEBUG - Stop API ID 0
2018-01-18 11:28:09,430 - DEBUG - Profit API ID 0
2018-01-18 11:28:09,430 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:28:09,430 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:28:09,430 - DEBUG - Pos is 0
2018-01-18 11:28:09,431 - DEBUG - CurCount is 0
2018-01-18 11:28:09,431 - DEBUG - In Pos 0
2018-01-18 11:28:09,431 - DEBUG - Stop ID is 0
2018-01-18 11:28:09,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:28:09,433 - DEBUG - EntryPend is 1
2018-01-18 11:28:09,433 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:28:09,433 - DEBUG - Entry Date is 10
2018-01-18 11:28:09,433 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:28:09,433 - DEBUG - Order Profit ID is 0
2018-01-18 11:28:09,434 - DEBUG - Order Entry ID is 108
2018-01-18 11:28:09,434 - DEBUG - API ID is  0
2018-01-18 11:28:09,434 - DEBUG - Current Position is 0
2018-01-18 11:28:09,434 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:28:09,435 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:28:09,435 - DEBUG - Time is 11
2018-01-18 11:28:09,435 - DEBUG - Time is <class 'int'>
2018-01-18 11:28:09,435 - DEBUG - Time is 28
2018-01-18 11:28:09,435 - DEBUG - Time is <class 'int'>
2018-01-18 11:28:09,436 - DEBUG - Disconnected from IBController
2018-01-18 11:28:09,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:33:05,346 - DEBUG - ****************************************************
2018-01-18 11:33:05,346 - DEBUG - Current Time is 11:33AM
2018-01-18 11:33:05,347 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:33:05,347 - DEBUG - Connecting to database
2018-01-18 11:33:05,377 - DEBUG - Connected to database
2018-01-18 11:33:05,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:05,378 - DEBUG - Order Profit is 0
2018-01-18 11:33:05,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:05,380 - DEBUG - Stop ID is 0
2018-01-18 11:33:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:05,382 - DEBUG - Entry ID is 108
2018-01-18 11:33:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:33:05,383 - DEBUG - OCA ID is 1
2018-01-18 11:33:05,384 - DEBUG - Connecting to IBController
2018-01-18 11:33:06,388 - DEBUG - Connected to IBController
2018-01-18 11:33:06,388 - DEBUG - Position requested
2018-01-18 11:33:06,389 - DEBUG - Pos Mgmt -12987
2018-01-18 11:33:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDCF8>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:33:06,390 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:33:06,390 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:33:06,390 - DEBUG - Position is -12987
2018-01-18 11:33:07,389 - DEBUG - Open Orders requested
2018-01-18 11:33:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC50>, order=<ib.ext.Order.Order object at 0x00000000020DDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172128>>
2018-01-18 11:33:07,391 - DEBUG - Order OrderID 106
2018-01-18 11:33:07,391 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:33:07,392 - DEBUG - Order status PreSubmitted
2018-01-18 11:33:07,392 - DEBUG - Order Identification 106
2018-01-18 11:33:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:33:07,393 - DEBUG - Profit ID from database is 0
2018-01-18 11:33:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:33:07,393 - DEBUG - Stop ID database is 0
2018-01-18 11:33:07,393 - DEBUG - Entry ID database is 108
2018-01-18 11:33:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020DDFD0>, order=<ib.ext.Order.Order object at 0x00000000020DDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172198>>
2018-01-18 11:33:07,395 - DEBUG - Order OrderID 107
2018-01-18 11:33:07,395 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:33:07,395 - DEBUG - Order status PreSubmitted
2018-01-18 11:33:07,396 - DEBUG - Order Identification 107
2018-01-18 11:33:07,396 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:33:07,396 - DEBUG - Profit ID from database is 0
2018-01-18 11:33:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:33:07,396 - DEBUG - Stop ID database is 0
2018-01-18 11:33:07,397 - DEBUG - Entry ID database is 108
2018-01-18 11:33:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020DDFD0>, order=<ib.ext.Order.Order object at 0x00000000020DDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172278>>
2018-01-18 11:33:07,398 - DEBUG - Order OrderID 108
2018-01-18 11:33:07,398 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:33:07,399 - DEBUG - Order status PreSubmitted
2018-01-18 11:33:07,399 - DEBUG - Order Identification 108
2018-01-18 11:33:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:33:07,399 - DEBUG - Profit ID from database is 0
2018-01-18 11:33:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:33:07,400 - DEBUG - Stop ID database is 0
2018-01-18 11:33:07,400 - DEBUG - Entry ID database is 108
2018-01-18 11:33:07,400 - DEBUG - Entry API ID is 108
2018-01-18 11:33:09,389 - DEBUG - Connecting to database
2018-01-18 11:33:09,396 - DEBUG - Connected to database
2018-01-18 11:33:09,398 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,398 - DEBUG - Stop loss value is 72.30
2018-01-18 11:33:09,399 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,400 - DEBUG - Stop loss value is 84.7
2018-01-18 11:33:09,401 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,401 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:33:09,403 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,403 - DEBUG - Stop quantity 1
2018-01-18 11:33:09,404 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,405 - DEBUG - Direction is Long
2018-01-18 11:33:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,407 - DEBUG - Count is 0
2018-01-18 11:33:09,409 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:33:09,409 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:33:09,410 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:33:09,411 - DEBUG - Max ID Order is (108,)
2018-01-18 11:33:09,411 - DEBUG - Today is 2018-01-18
2018-01-18 11:33:09,412 - DEBUG - Day of the week 3
2018-01-18 11:33:09,412 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:33:09,412 - DEBUG - In Position is  0
2018-01-18 11:33:09,412 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:33:09,412 - DEBUG - curStopLossFlag is  0
2018-01-18 11:33:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:33:09,413 - DEBUG - Checking if Entry has been filled
2018-01-18 11:33:09,413 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:33:09,414 - DEBUG - EntryPend is 1
2018-01-18 11:33:09,415 - DEBUG - Try to Cancel Stop
2018-01-18 11:33:09,415 - DEBUG - Stop API ID 0
2018-01-18 11:33:09,415 - DEBUG - Profit API ID 0
2018-01-18 11:33:09,415 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:33:09,416 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:33:09,416 - DEBUG - Pos is 0
2018-01-18 11:33:09,416 - DEBUG - CurCount is 0
2018-01-18 11:33:09,416 - DEBUG - In Pos 0
2018-01-18 11:33:09,416 - DEBUG - Stop ID is 0
2018-01-18 11:33:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:33:09,418 - DEBUG - EntryPend is 1
2018-01-18 11:33:09,418 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:33:09,419 - DEBUG - Entry Date is 10
2018-01-18 11:33:09,419 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:33:09,419 - DEBUG - Order Profit ID is 0
2018-01-18 11:33:09,419 - DEBUG - Order Entry ID is 108
2018-01-18 11:33:09,419 - DEBUG - API ID is  0
2018-01-18 11:33:09,420 - DEBUG - Current Position is 0
2018-01-18 11:33:09,420 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:33:09,420 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:33:09,420 - DEBUG - Time is 11
2018-01-18 11:33:09,420 - DEBUG - Time is <class 'int'>
2018-01-18 11:33:09,421 - DEBUG - Time is 33
2018-01-18 11:33:09,421 - DEBUG - Time is <class 'int'>
2018-01-18 11:33:09,421 - DEBUG - Disconnected from IBController
2018-01-18 11:33:09,422 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:38:05,343 - DEBUG - ****************************************************
2018-01-18 11:38:05,344 - DEBUG - Current Time is 11:38AM
2018-01-18 11:38:05,344 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:38:05,344 - DEBUG - Connecting to database
2018-01-18 11:38:05,376 - DEBUG - Connected to database
2018-01-18 11:38:05,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:05,378 - DEBUG - Order Profit is 0
2018-01-18 11:38:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:05,380 - DEBUG - Stop ID is 0
2018-01-18 11:38:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:05,381 - DEBUG - Entry ID is 108
2018-01-18 11:38:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:38:05,383 - DEBUG - OCA ID is 1
2018-01-18 11:38:05,384 - DEBUG - Connecting to IBController
2018-01-18 11:38:06,388 - DEBUG - Connected to IBController
2018-01-18 11:38:06,388 - DEBUG - Position requested
2018-01-18 11:38:06,389 - DEBUG - Pos Mgmt -12987
2018-01-18 11:38:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:38:06,390 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:38:06,390 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:38:06,390 - DEBUG - Position is -12987
2018-01-18 11:38:07,389 - DEBUG - Open Orders requested
2018-01-18 11:38:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DC18>, order=<ib.ext.Order.Order object at 0x000000000211DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2198>>
2018-01-18 11:38:07,392 - DEBUG - Order OrderID 106
2018-01-18 11:38:07,392 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:38:07,393 - DEBUG - Order status PreSubmitted
2018-01-18 11:38:07,393 - DEBUG - Order Identification 106
2018-01-18 11:38:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:38:07,393 - DEBUG - Profit ID from database is 0
2018-01-18 11:38:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:38:07,394 - DEBUG - Stop ID database is 0
2018-01-18 11:38:07,394 - DEBUG - Entry ID database is 108
2018-01-18 11:38:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DC18>, order=<ib.ext.Order.Order object at 0x000000000211DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B20F0>>
2018-01-18 11:38:07,395 - DEBUG - Order OrderID 107
2018-01-18 11:38:07,396 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:38:07,396 - DEBUG - Order status PreSubmitted
2018-01-18 11:38:07,396 - DEBUG - Order Identification 107
2018-01-18 11:38:07,396 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:38:07,397 - DEBUG - Profit ID from database is 0
2018-01-18 11:38:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:38:07,397 - DEBUG - Stop ID database is 0
2018-01-18 11:38:07,397 - DEBUG - Entry ID database is 108
2018-01-18 11:38:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DC18>, order=<ib.ext.Order.Order object at 0x000000000211DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2208>>
2018-01-18 11:38:07,399 - DEBUG - Order OrderID 108
2018-01-18 11:38:07,399 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:38:07,399 - DEBUG - Order status PreSubmitted
2018-01-18 11:38:07,400 - DEBUG - Order Identification 108
2018-01-18 11:38:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:38:07,400 - DEBUG - Profit ID from database is 0
2018-01-18 11:38:07,400 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:38:07,400 - DEBUG - Stop ID database is 0
2018-01-18 11:38:07,401 - DEBUG - Entry ID database is 108
2018-01-18 11:38:07,401 - DEBUG - Entry API ID is 108
2018-01-18 11:38:09,392 - DEBUG - Connecting to database
2018-01-18 11:38:09,400 - DEBUG - Connected to database
2018-01-18 11:38:09,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,402 - DEBUG - Stop loss value is 72.30
2018-01-18 11:38:09,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,404 - DEBUG - Stop loss value is 84.7
2018-01-18 11:38:09,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,405 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:38:09,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,407 - DEBUG - Stop quantity 1
2018-01-18 11:38:09,408 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,409 - DEBUG - Direction is Long
2018-01-18 11:38:09,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,410 - DEBUG - Count is 0
2018-01-18 11:38:09,412 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:38:09,412 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:38:09,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:38:09,414 - DEBUG - Max ID Order is (108,)
2018-01-18 11:38:09,414 - DEBUG - Today is 2018-01-18
2018-01-18 11:38:09,414 - DEBUG - Day of the week 3
2018-01-18 11:38:09,415 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:38:09,415 - DEBUG - In Position is  0
2018-01-18 11:38:09,415 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:38:09,415 - DEBUG - curStopLossFlag is  0
2018-01-18 11:38:09,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:38:09,416 - DEBUG - Checking if Entry has been filled
2018-01-18 11:38:09,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:38:09,418 - DEBUG - EntryPend is 1
2018-01-18 11:38:09,418 - DEBUG - Try to Cancel Stop
2018-01-18 11:38:09,418 - DEBUG - Stop API ID 0
2018-01-18 11:38:09,418 - DEBUG - Profit API ID 0
2018-01-18 11:38:09,419 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:38:09,419 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:38:09,419 - DEBUG - Pos is 0
2018-01-18 11:38:09,419 - DEBUG - CurCount is 0
2018-01-18 11:38:09,419 - DEBUG - In Pos 0
2018-01-18 11:38:09,420 - DEBUG - Stop ID is 0
2018-01-18 11:38:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:38:09,421 - DEBUG - EntryPend is 1
2018-01-18 11:38:09,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:38:09,422 - DEBUG - Entry Date is 10
2018-01-18 11:38:09,422 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:38:09,422 - DEBUG - Order Profit ID is 0
2018-01-18 11:38:09,422 - DEBUG - Order Entry ID is 108
2018-01-18 11:38:09,423 - DEBUG - API ID is  0
2018-01-18 11:38:09,423 - DEBUG - Current Position is 0
2018-01-18 11:38:09,423 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:38:09,423 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:38:09,423 - DEBUG - Time is 11
2018-01-18 11:38:09,424 - DEBUG - Time is <class 'int'>
2018-01-18 11:38:09,424 - DEBUG - Time is 38
2018-01-18 11:38:09,424 - DEBUG - Time is <class 'int'>
2018-01-18 11:38:09,424 - DEBUG - Disconnected from IBController
2018-01-18 11:38:09,425 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:43:05,337 - DEBUG - ****************************************************
2018-01-18 11:43:05,338 - DEBUG - Current Time is 11:43AM
2018-01-18 11:43:05,338 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:43:05,338 - DEBUG - Connecting to database
2018-01-18 11:43:05,355 - DEBUG - Connected to database
2018-01-18 11:43:05,356 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:05,357 - DEBUG - Order Profit is 0
2018-01-18 11:43:05,358 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:05,359 - DEBUG - Stop ID is 0
2018-01-18 11:43:05,359 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:05,361 - DEBUG - Entry ID is 108
2018-01-18 11:43:05,361 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:43:05,363 - DEBUG - OCA ID is 1
2018-01-18 11:43:05,364 - DEBUG - Connecting to IBController
2018-01-18 11:43:06,368 - DEBUG - Connected to IBController
2018-01-18 11:43:06,368 - DEBUG - Position requested
2018-01-18 11:43:06,369 - DEBUG - Pos Mgmt -12987
2018-01-18 11:43:06,370 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:43:06,370 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:43:06,370 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:43:06,370 - DEBUG - Position is -12987
2018-01-18 11:43:07,369 - DEBUG - Open Orders requested
2018-01-18 11:43:07,371 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000216DBA8>, order=<ib.ext.Order.Order object at 0x000000000216DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202128>>
2018-01-18 11:43:07,371 - DEBUG - Order OrderID 106
2018-01-18 11:43:07,372 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:43:07,372 - DEBUG - Order status PreSubmitted
2018-01-18 11:43:07,372 - DEBUG - Order Identification 106
2018-01-18 11:43:07,372 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:43:07,373 - DEBUG - Profit ID from database is 0
2018-01-18 11:43:07,373 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:43:07,373 - DEBUG - Stop ID database is 0
2018-01-18 11:43:07,373 - DEBUG - Entry ID database is 108
2018-01-18 11:43:07,374 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000216DFD0>, order=<ib.ext.Order.Order object at 0x000000000216DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202198>>
2018-01-18 11:43:07,375 - DEBUG - Order OrderID 107
2018-01-18 11:43:07,375 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:43:07,375 - DEBUG - Order status PreSubmitted
2018-01-18 11:43:07,376 - DEBUG - Order Identification 107
2018-01-18 11:43:07,376 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:43:07,376 - DEBUG - Profit ID from database is 0
2018-01-18 11:43:07,376 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:43:07,377 - DEBUG - Stop ID database is 0
2018-01-18 11:43:07,377 - DEBUG - Entry ID database is 108
2018-01-18 11:43:07,378 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000216DFD0>, order=<ib.ext.Order.Order object at 0x000000000216DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002202278>>
2018-01-18 11:43:07,378 - DEBUG - Order OrderID 108
2018-01-18 11:43:07,379 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:43:07,379 - DEBUG - Order status PreSubmitted
2018-01-18 11:43:07,379 - DEBUG - Order Identification 108
2018-01-18 11:43:07,379 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:43:07,379 - DEBUG - Profit ID from database is 0
2018-01-18 11:43:07,380 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:43:07,380 - DEBUG - Stop ID database is 0
2018-01-18 11:43:07,380 - DEBUG - Entry ID database is 108
2018-01-18 11:43:07,380 - DEBUG - Entry API ID is 108
2018-01-18 11:43:09,369 - DEBUG - Connecting to database
2018-01-18 11:43:09,376 - DEBUG - Connected to database
2018-01-18 11:43:09,378 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,378 - DEBUG - Stop loss value is 72.30
2018-01-18 11:43:09,379 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,380 - DEBUG - Stop loss value is 84.7
2018-01-18 11:43:09,381 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,381 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:43:09,383 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,383 - DEBUG - Stop quantity 1
2018-01-18 11:43:09,384 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,385 - DEBUG - Direction is Long
2018-01-18 11:43:09,386 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,386 - DEBUG - Count is 0
2018-01-18 11:43:09,388 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:43:09,388 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:43:09,390 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:43:09,390 - DEBUG - Max ID Order is (108,)
2018-01-18 11:43:09,390 - DEBUG - Today is 2018-01-18
2018-01-18 11:43:09,391 - DEBUG - Day of the week 3
2018-01-18 11:43:09,391 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:43:09,391 - DEBUG - In Position is  0
2018-01-18 11:43:09,391 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:43:09,391 - DEBUG - curStopLossFlag is  0
2018-01-18 11:43:09,392 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:43:09,392 - DEBUG - Checking if Entry has been filled
2018-01-18 11:43:09,392 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:43:09,394 - DEBUG - EntryPend is 1
2018-01-18 11:43:09,394 - DEBUG - Try to Cancel Stop
2018-01-18 11:43:09,394 - DEBUG - Stop API ID 0
2018-01-18 11:43:09,395 - DEBUG - Profit API ID 0
2018-01-18 11:43:09,395 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:43:09,395 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:43:09,395 - DEBUG - Pos is 0
2018-01-18 11:43:09,396 - DEBUG - CurCount is 0
2018-01-18 11:43:09,396 - DEBUG - In Pos 0
2018-01-18 11:43:09,396 - DEBUG - Stop ID is 0
2018-01-18 11:43:09,396 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:43:09,398 - DEBUG - EntryPend is 1
2018-01-18 11:43:09,398 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:43:09,398 - DEBUG - Entry Date is 10
2018-01-18 11:43:09,398 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:43:09,398 - DEBUG - Order Profit ID is 0
2018-01-18 11:43:09,399 - DEBUG - Order Entry ID is 108
2018-01-18 11:43:09,399 - DEBUG - API ID is  0
2018-01-18 11:43:09,399 - DEBUG - Current Position is 0
2018-01-18 11:43:09,399 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:43:09,400 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:43:09,400 - DEBUG - Time is 11
2018-01-18 11:43:09,400 - DEBUG - Time is <class 'int'>
2018-01-18 11:43:09,400 - DEBUG - Time is 43
2018-01-18 11:43:09,400 - DEBUG - Time is <class 'int'>
2018-01-18 11:43:09,401 - DEBUG - Disconnected from IBController
2018-01-18 11:43:09,401 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:48:05,350 - DEBUG - ****************************************************
2018-01-18 11:48:05,351 - DEBUG - Current Time is 11:48AM
2018-01-18 11:48:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:48:05,351 - DEBUG - Connecting to database
2018-01-18 11:48:05,380 - DEBUG - Connected to database
2018-01-18 11:48:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:05,382 - DEBUG - Order Profit is 0
2018-01-18 11:48:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:05,383 - DEBUG - Stop ID is 0
2018-01-18 11:48:05,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:05,385 - DEBUG - Entry ID is 108
2018-01-18 11:48:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:48:05,386 - DEBUG - OCA ID is 1
2018-01-18 11:48:05,387 - DEBUG - Connecting to IBController
2018-01-18 11:48:06,394 - DEBUG - Connected to IBController
2018-01-18 11:48:06,394 - DEBUG - Position requested
2018-01-18 11:48:06,395 - DEBUG - Pos Mgmt -12987
2018-01-18 11:48:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:48:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:48:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:48:06,396 - DEBUG - Position is -12987
2018-01-18 11:48:07,395 - DEBUG - Open Orders requested
2018-01-18 11:48:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1198>>
2018-01-18 11:48:07,398 - DEBUG - Order OrderID 106
2018-01-18 11:48:07,398 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:48:07,398 - DEBUG - Order status PreSubmitted
2018-01-18 11:48:07,399 - DEBUG - Order Identification 106
2018-01-18 11:48:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:48:07,399 - DEBUG - Profit ID from database is 0
2018-01-18 11:48:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:48:07,400 - DEBUG - Stop ID database is 0
2018-01-18 11:48:07,400 - DEBUG - Entry ID database is 108
2018-01-18 11:48:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B10F0>>
2018-01-18 11:48:07,401 - DEBUG - Order OrderID 107
2018-01-18 11:48:07,402 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:48:07,402 - DEBUG - Order status PreSubmitted
2018-01-18 11:48:07,402 - DEBUG - Order Identification 107
2018-01-18 11:48:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:48:07,403 - DEBUG - Profit ID from database is 0
2018-01-18 11:48:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:48:07,403 - DEBUG - Stop ID database is 0
2018-01-18 11:48:07,403 - DEBUG - Entry ID database is 108
2018-01-18 11:48:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DC88>, order=<ib.ext.Order.Order object at 0x000000000211DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1208>>
2018-01-18 11:48:07,405 - DEBUG - Order OrderID 108
2018-01-18 11:48:07,405 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:48:07,406 - DEBUG - Order status PreSubmitted
2018-01-18 11:48:07,406 - DEBUG - Order Identification 108
2018-01-18 11:48:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:48:07,406 - DEBUG - Profit ID from database is 0
2018-01-18 11:48:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:48:07,407 - DEBUG - Stop ID database is 0
2018-01-18 11:48:07,407 - DEBUG - Entry ID database is 108
2018-01-18 11:48:07,407 - DEBUG - Entry API ID is 108
2018-01-18 11:48:09,398 - DEBUG - Connecting to database
2018-01-18 11:48:09,405 - DEBUG - Connected to database
2018-01-18 11:48:09,406 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,407 - DEBUG - Stop loss value is 72.30
2018-01-18 11:48:09,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,408 - DEBUG - Stop loss value is 84.7
2018-01-18 11:48:09,409 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,410 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:48:09,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,411 - DEBUG - Stop quantity 1
2018-01-18 11:48:09,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,413 - DEBUG - Direction is Long
2018-01-18 11:48:09,414 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,415 - DEBUG - Count is 0
2018-01-18 11:48:09,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:48:09,416 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:48:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:48:09,418 - DEBUG - Max ID Order is (108,)
2018-01-18 11:48:09,418 - DEBUG - Today is 2018-01-18
2018-01-18 11:48:09,418 - DEBUG - Day of the week 3
2018-01-18 11:48:09,419 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:48:09,419 - DEBUG - In Position is  0
2018-01-18 11:48:09,419 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:48:09,419 - DEBUG - curStopLossFlag is  0
2018-01-18 11:48:09,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:48:09,420 - DEBUG - Checking if Entry has been filled
2018-01-18 11:48:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:48:09,421 - DEBUG - EntryPend is 1
2018-01-18 11:48:09,422 - DEBUG - Try to Cancel Stop
2018-01-18 11:48:09,422 - DEBUG - Stop API ID 0
2018-01-18 11:48:09,422 - DEBUG - Profit API ID 0
2018-01-18 11:48:09,422 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:48:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:48:09,423 - DEBUG - Pos is 0
2018-01-18 11:48:09,423 - DEBUG - CurCount is 0
2018-01-18 11:48:09,423 - DEBUG - In Pos 0
2018-01-18 11:48:09,423 - DEBUG - Stop ID is 0
2018-01-18 11:48:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:48:09,425 - DEBUG - EntryPend is 1
2018-01-18 11:48:09,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:48:09,425 - DEBUG - Entry Date is 10
2018-01-18 11:48:09,426 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:48:09,426 - DEBUG - Order Profit ID is 0
2018-01-18 11:48:09,426 - DEBUG - Order Entry ID is 108
2018-01-18 11:48:09,426 - DEBUG - API ID is  0
2018-01-18 11:48:09,426 - DEBUG - Current Position is 0
2018-01-18 11:48:09,427 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:48:09,427 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:48:09,427 - DEBUG - Time is 11
2018-01-18 11:48:09,427 - DEBUG - Time is <class 'int'>
2018-01-18 11:48:09,427 - DEBUG - Time is 48
2018-01-18 11:48:09,428 - DEBUG - Time is <class 'int'>
2018-01-18 11:48:09,428 - DEBUG - Disconnected from IBController
2018-01-18 11:48:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:53:05,366 - DEBUG - ****************************************************
2018-01-18 11:53:05,366 - DEBUG - Current Time is 11:53AM
2018-01-18 11:53:05,367 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:53:05,367 - DEBUG - Connecting to database
2018-01-18 11:53:05,390 - DEBUG - Connected to database
2018-01-18 11:53:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:05,392 - DEBUG - Order Profit is 0
2018-01-18 11:53:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:05,393 - DEBUG - Stop ID is 0
2018-01-18 11:53:05,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:05,395 - DEBUG - Entry ID is 108
2018-01-18 11:53:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:53:05,397 - DEBUG - OCA ID is 1
2018-01-18 11:53:05,397 - DEBUG - Connecting to IBController
2018-01-18 11:53:06,401 - DEBUG - Connected to IBController
2018-01-18 11:53:06,401 - DEBUG - Position requested
2018-01-18 11:53:06,402 - DEBUG - Pos Mgmt -12987
2018-01-18 11:53:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:53:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:53:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:53:06,403 - DEBUG - Position is -12987
2018-01-18 11:53:07,402 - DEBUG - Open Orders requested
2018-01-18 11:53:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC88>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191128>>
2018-01-18 11:53:07,404 - DEBUG - Order OrderID 106
2018-01-18 11:53:07,405 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:53:07,405 - DEBUG - Order status PreSubmitted
2018-01-18 11:53:07,405 - DEBUG - Order Identification 106
2018-01-18 11:53:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:53:07,406 - DEBUG - Profit ID from database is 0
2018-01-18 11:53:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:53:07,406 - DEBUG - Stop ID database is 0
2018-01-18 11:53:07,406 - DEBUG - Entry ID database is 108
2018-01-18 11:53:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020FCFD0>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191198>>
2018-01-18 11:53:07,408 - DEBUG - Order OrderID 107
2018-01-18 11:53:07,408 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:53:07,409 - DEBUG - Order status PreSubmitted
2018-01-18 11:53:07,409 - DEBUG - Order Identification 107
2018-01-18 11:53:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:53:07,409 - DEBUG - Profit ID from database is 0
2018-01-18 11:53:07,409 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:53:07,410 - DEBUG - Stop ID database is 0
2018-01-18 11:53:07,410 - DEBUG - Entry ID database is 108
2018-01-18 11:53:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020FCFD0>, order=<ib.ext.Order.Order object at 0x00000000020FCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191278>>
2018-01-18 11:53:07,411 - DEBUG - Order OrderID 108
2018-01-18 11:53:07,411 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:53:07,412 - DEBUG - Order status PreSubmitted
2018-01-18 11:53:07,412 - DEBUG - Order Identification 108
2018-01-18 11:53:07,412 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:53:07,412 - DEBUG - Profit ID from database is 0
2018-01-18 11:53:07,413 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:53:07,413 - DEBUG - Stop ID database is 0
2018-01-18 11:53:07,413 - DEBUG - Entry ID database is 108
2018-01-18 11:53:07,413 - DEBUG - Entry API ID is 108
2018-01-18 11:53:09,402 - DEBUG - Connecting to database
2018-01-18 11:53:09,409 - DEBUG - Connected to database
2018-01-18 11:53:09,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,411 - DEBUG - Stop loss value is 72.30
2018-01-18 11:53:09,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,413 - DEBUG - Stop loss value is 84.7
2018-01-18 11:53:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,414 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:53:09,416 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,416 - DEBUG - Stop quantity 1
2018-01-18 11:53:09,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,418 - DEBUG - Direction is Long
2018-01-18 11:53:09,419 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,419 - DEBUG - Count is 0
2018-01-18 11:53:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:53:09,421 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:53:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:53:09,422 - DEBUG - Max ID Order is (108,)
2018-01-18 11:53:09,423 - DEBUG - Today is 2018-01-18
2018-01-18 11:53:09,423 - DEBUG - Day of the week 3
2018-01-18 11:53:09,423 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:53:09,424 - DEBUG - In Position is  0
2018-01-18 11:53:09,424 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:53:09,424 - DEBUG - curStopLossFlag is  0
2018-01-18 11:53:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:53:09,425 - DEBUG - Checking if Entry has been filled
2018-01-18 11:53:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:53:09,426 - DEBUG - EntryPend is 1
2018-01-18 11:53:09,426 - DEBUG - Try to Cancel Stop
2018-01-18 11:53:09,427 - DEBUG - Stop API ID 0
2018-01-18 11:53:09,427 - DEBUG - Profit API ID 0
2018-01-18 11:53:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:53:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:53:09,427 - DEBUG - Pos is 0
2018-01-18 11:53:09,428 - DEBUG - CurCount is 0
2018-01-18 11:53:09,428 - DEBUG - In Pos 0
2018-01-18 11:53:09,428 - DEBUG - Stop ID is 0
2018-01-18 11:53:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:53:09,430 - DEBUG - EntryPend is 1
2018-01-18 11:53:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:53:09,430 - DEBUG - Entry Date is 10
2018-01-18 11:53:09,430 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:53:09,431 - DEBUG - Order Profit ID is 0
2018-01-18 11:53:09,431 - DEBUG - Order Entry ID is 108
2018-01-18 11:53:09,431 - DEBUG - API ID is  0
2018-01-18 11:53:09,431 - DEBUG - Current Position is 0
2018-01-18 11:53:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:53:09,432 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:53:09,432 - DEBUG - Time is 11
2018-01-18 11:53:09,432 - DEBUG - Time is <class 'int'>
2018-01-18 11:53:09,432 - DEBUG - Time is 53
2018-01-18 11:53:09,433 - DEBUG - Time is <class 'int'>
2018-01-18 11:53:09,433 - DEBUG - Disconnected from IBController
2018-01-18 11:53:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 11:58:05,339 - DEBUG - ****************************************************
2018-01-18 11:58:05,340 - DEBUG - Current Time is 11:58AM
2018-01-18 11:58:05,340 - DEBUG - Starting Pos Mgmt H E
2018-01-18 11:58:05,340 - DEBUG - Connecting to database
2018-01-18 11:58:05,371 - DEBUG - Connected to database
2018-01-18 11:58:05,371 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:05,372 - DEBUG - Order Profit is 0
2018-01-18 11:58:05,373 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:05,374 - DEBUG - Stop ID is 0
2018-01-18 11:58:05,374 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:05,377 - DEBUG - Entry ID is 108
2018-01-18 11:58:05,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 11:58:05,379 - DEBUG - OCA ID is 1
2018-01-18 11:58:05,380 - DEBUG - Connecting to IBController
2018-01-18 11:58:06,387 - DEBUG - Connected to IBController
2018-01-18 11:58:06,387 - DEBUG - Position requested
2018-01-18 11:58:06,388 - DEBUG - Pos Mgmt -12987
2018-01-18 11:58:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCD30>, pos=-12987, avgCost=0.95368235>
2018-01-18 11:58:06,389 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 11:58:06,389 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 11:58:06,389 - DEBUG - Position is -12987
2018-01-18 11:58:07,388 - DEBUG - Open Orders requested
2018-01-18 11:58:07,390 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020DCDD8>, order=<ib.ext.Order.Order object at 0x00000000020DCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172198>>
2018-01-18 11:58:07,391 - DEBUG - Order OrderID 106
2018-01-18 11:58:07,391 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:58:07,392 - DEBUG - Order status PreSubmitted
2018-01-18 11:58:07,392 - DEBUG - Order Identification 106
2018-01-18 11:58:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:58:07,392 - DEBUG - Profit ID from database is 0
2018-01-18 11:58:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:58:07,393 - DEBUG - Stop ID database is 0
2018-01-18 11:58:07,393 - DEBUG - Entry ID database is 108
2018-01-18 11:58:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020DCDD8>, order=<ib.ext.Order.Order object at 0x00000000020DCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172080>>
2018-01-18 11:58:07,394 - DEBUG - Order OrderID 107
2018-01-18 11:58:07,395 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:58:07,395 - DEBUG - Order status PreSubmitted
2018-01-18 11:58:07,395 - DEBUG - Order Identification 107
2018-01-18 11:58:07,396 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:58:07,396 - DEBUG - Profit ID from database is 0
2018-01-18 11:58:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:58:07,396 - DEBUG - Stop ID database is 0
2018-01-18 11:58:07,396 - DEBUG - Entry ID database is 108
2018-01-18 11:58:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020DCDD8>, order=<ib.ext.Order.Order object at 0x00000000020DCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172208>>
2018-01-18 11:58:07,398 - DEBUG - Order OrderID 108
2018-01-18 11:58:07,398 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 11:58:07,399 - DEBUG - Order status PreSubmitted
2018-01-18 11:58:07,399 - DEBUG - Order Identification 108
2018-01-18 11:58:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-18 11:58:07,399 - DEBUG - Profit ID from database is 0
2018-01-18 11:58:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 11:58:07,400 - DEBUG - Stop ID database is 0
2018-01-18 11:58:07,400 - DEBUG - Entry ID database is 108
2018-01-18 11:58:07,400 - DEBUG - Entry API ID is 108
2018-01-18 11:58:09,391 - DEBUG - Connecting to database
2018-01-18 11:58:09,398 - DEBUG - Connected to database
2018-01-18 11:58:09,400 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,400 - DEBUG - Stop loss value is 72.30
2018-01-18 11:58:09,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,402 - DEBUG - Stop loss value is 84.7
2018-01-18 11:58:09,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,403 - DEBUG - EntryPrice value is 73.75
2018-01-18 11:58:09,405 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,405 - DEBUG - Stop quantity 1
2018-01-18 11:58:09,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,407 - DEBUG - Direction is Long
2018-01-18 11:58:09,408 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,408 - DEBUG - Count is 0
2018-01-18 11:58:09,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 11:58:09,412 - DEBUG - Stop Loss Flag is 0
2018-01-18 11:58:09,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 11:58:09,414 - DEBUG - Max ID Order is (108,)
2018-01-18 11:58:09,414 - DEBUG - Today is 2018-01-18
2018-01-18 11:58:09,415 - DEBUG - Day of the week 3
2018-01-18 11:58:09,415 - DEBUG - Yesterday is 01/17/2018
2018-01-18 11:58:09,415 - DEBUG - In Position is  0
2018-01-18 11:58:09,415 - DEBUG - In Position is  <class 'int'>
2018-01-18 11:58:09,416 - DEBUG - curStopLossFlag is  0
2018-01-18 11:58:09,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 11:58:09,416 - DEBUG - Checking if Entry has been filled
2018-01-18 11:58:09,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:58:09,418 - DEBUG - EntryPend is 1
2018-01-18 11:58:09,418 - DEBUG - Try to Cancel Stop
2018-01-18 11:58:09,418 - DEBUG - Stop API ID 0
2018-01-18 11:58:09,418 - DEBUG - Profit API ID 0
2018-01-18 11:58:09,418 - DEBUG - Stop API ID <class 'int'>
2018-01-18 11:58:09,419 - DEBUG - Profit API ID <class 'int'>
2018-01-18 11:58:09,419 - DEBUG - Pos is 0
2018-01-18 11:58:09,419 - DEBUG - CurCount is 0
2018-01-18 11:58:09,419 - DEBUG - In Pos 0
2018-01-18 11:58:09,419 - DEBUG - Stop ID is 0
2018-01-18 11:58:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 11:58:09,421 - DEBUG - EntryPend is 1
2018-01-18 11:58:09,422 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 11:58:09,422 - DEBUG - Entry Date is 10
2018-01-18 11:58:09,422 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 11:58:09,422 - DEBUG - Order Profit ID is 0
2018-01-18 11:58:09,422 - DEBUG - Order Entry ID is 108
2018-01-18 11:58:09,423 - DEBUG - API ID is  0
2018-01-18 11:58:09,423 - DEBUG - Current Position is 0
2018-01-18 11:58:09,423 - DEBUG - Current Position is <class 'str'>
2018-01-18 11:58:09,423 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 11:58:09,424 - DEBUG - Time is 11
2018-01-18 11:58:09,424 - DEBUG - Time is <class 'int'>
2018-01-18 11:58:09,424 - DEBUG - Time is 58
2018-01-18 11:58:09,424 - DEBUG - Time is <class 'int'>
2018-01-18 11:58:09,424 - DEBUG - Disconnected from IBController
2018-01-18 11:58:09,425 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:03:05,346 - DEBUG - ****************************************************
2018-01-18 12:03:05,346 - DEBUG - Current Time is 12:03PM
2018-01-18 12:03:05,347 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:03:05,347 - DEBUG - Connecting to database
2018-01-18 12:03:05,386 - DEBUG - Connected to database
2018-01-18 12:03:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:05,388 - DEBUG - Order Profit is 0
2018-01-18 12:03:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:05,389 - DEBUG - Stop ID is 0
2018-01-18 12:03:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:05,391 - DEBUG - Entry ID is 108
2018-01-18 12:03:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:03:05,393 - DEBUG - OCA ID is 1
2018-01-18 12:03:05,393 - DEBUG - Connecting to IBController
2018-01-18 12:03:06,397 - DEBUG - Connected to IBController
2018-01-18 12:03:06,397 - DEBUG - Position requested
2018-01-18 12:03:06,398 - DEBUG - Pos Mgmt -12987
2018-01-18 12:03:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA90>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:03:06,399 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:03:06,399 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:03:06,399 - DEBUG - Position is -12987
2018-01-18 12:03:07,398 - DEBUG - Open Orders requested
2018-01-18 12:03:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DC50>, order=<ib.ext.Order.Order object at 0x000000000211DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1128>>
2018-01-18 12:03:07,400 - DEBUG - Order OrderID 106
2018-01-18 12:03:07,401 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:03:07,401 - DEBUG - Order status PreSubmitted
2018-01-18 12:03:07,401 - DEBUG - Order Identification 106
2018-01-18 12:03:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:03:07,402 - DEBUG - Profit ID from database is 0
2018-01-18 12:03:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:03:07,402 - DEBUG - Stop ID database is 0
2018-01-18 12:03:07,402 - DEBUG - Entry ID database is 108
2018-01-18 12:03:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DFD0>, order=<ib.ext.Order.Order object at 0x000000000211DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1198>>
2018-01-18 12:03:07,404 - DEBUG - Order OrderID 107
2018-01-18 12:03:07,404 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:03:07,404 - DEBUG - Order status PreSubmitted
2018-01-18 12:03:07,405 - DEBUG - Order Identification 107
2018-01-18 12:03:07,405 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:03:07,405 - DEBUG - Profit ID from database is 0
2018-01-18 12:03:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:03:07,405 - DEBUG - Stop ID database is 0
2018-01-18 12:03:07,406 - DEBUG - Entry ID database is 108
2018-01-18 12:03:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DFD0>, order=<ib.ext.Order.Order object at 0x000000000211DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1278>>
2018-01-18 12:03:07,407 - DEBUG - Order OrderID 108
2018-01-18 12:03:07,407 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:03:07,408 - DEBUG - Order status PreSubmitted
2018-01-18 12:03:07,408 - DEBUG - Order Identification 108
2018-01-18 12:03:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:03:07,408 - DEBUG - Profit ID from database is 0
2018-01-18 12:03:07,409 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:03:07,409 - DEBUG - Stop ID database is 0
2018-01-18 12:03:07,409 - DEBUG - Entry ID database is 108
2018-01-18 12:03:07,409 - DEBUG - Entry API ID is 108
2018-01-18 12:03:09,398 - DEBUG - Connecting to database
2018-01-18 12:03:09,405 - DEBUG - Connected to database
2018-01-18 12:03:09,406 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,407 - DEBUG - Stop loss value is 72.30
2018-01-18 12:03:09,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,408 - DEBUG - Stop loss value is 84.7
2018-01-18 12:03:09,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,410 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:03:09,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,412 - DEBUG - Stop quantity 1
2018-01-18 12:03:09,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,413 - DEBUG - Direction is Long
2018-01-18 12:03:09,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,415 - DEBUG - Count is 0
2018-01-18 12:03:09,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:03:09,417 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:03:09,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:03:09,418 - DEBUG - Max ID Order is (108,)
2018-01-18 12:03:09,419 - DEBUG - Today is 2018-01-18
2018-01-18 12:03:09,419 - DEBUG - Day of the week 3
2018-01-18 12:03:09,419 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:03:09,420 - DEBUG - In Position is  0
2018-01-18 12:03:09,420 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:03:09,420 - DEBUG - curStopLossFlag is  0
2018-01-18 12:03:09,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:03:09,421 - DEBUG - Checking if Entry has been filled
2018-01-18 12:03:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:03:09,422 - DEBUG - EntryPend is 1
2018-01-18 12:03:09,422 - DEBUG - Try to Cancel Stop
2018-01-18 12:03:09,423 - DEBUG - Stop API ID 0
2018-01-18 12:03:09,423 - DEBUG - Profit API ID 0
2018-01-18 12:03:09,423 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:03:09,423 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:03:09,423 - DEBUG - Pos is 0
2018-01-18 12:03:09,424 - DEBUG - CurCount is 0
2018-01-18 12:03:09,424 - DEBUG - In Pos 0
2018-01-18 12:03:09,424 - DEBUG - Stop ID is 0
2018-01-18 12:03:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:03:09,426 - DEBUG - EntryPend is 1
2018-01-18 12:03:09,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:03:09,426 - DEBUG - Entry Date is 10
2018-01-18 12:03:09,426 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:03:09,427 - DEBUG - Order Profit ID is 0
2018-01-18 12:03:09,427 - DEBUG - Order Entry ID is 108
2018-01-18 12:03:09,427 - DEBUG - API ID is  0
2018-01-18 12:03:09,427 - DEBUG - Current Position is 0
2018-01-18 12:03:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:03:09,428 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:03:09,428 - DEBUG - Time is 12
2018-01-18 12:03:09,428 - DEBUG - Time is <class 'int'>
2018-01-18 12:03:09,428 - DEBUG - Time is 3
2018-01-18 12:03:09,429 - DEBUG - Time is <class 'int'>
2018-01-18 12:03:09,429 - DEBUG - Disconnected from IBController
2018-01-18 12:03:09,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:08:05,366 - DEBUG - ****************************************************
2018-01-18 12:08:05,366 - DEBUG - Current Time is 12:08PM
2018-01-18 12:08:05,367 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:08:05,367 - DEBUG - Connecting to database
2018-01-18 12:08:05,386 - DEBUG - Connected to database
2018-01-18 12:08:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:05,388 - DEBUG - Order Profit is 0
2018-01-18 12:08:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:05,390 - DEBUG - Stop ID is 0
2018-01-18 12:08:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:05,392 - DEBUG - Entry ID is 108
2018-01-18 12:08:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:08:05,394 - DEBUG - OCA ID is 1
2018-01-18 12:08:05,394 - DEBUG - Connecting to IBController
2018-01-18 12:08:06,401 - DEBUG - Connected to IBController
2018-01-18 12:08:06,401 - DEBUG - Position requested
2018-01-18 12:08:06,405 - DEBUG - Pos Mgmt -12987
2018-01-18 12:08:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:08:06,405 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:08:06,406 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:08:06,406 - DEBUG - Position is -12987
2018-01-18 12:08:07,405 - DEBUG - Open Orders requested
2018-01-18 12:08:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000213CC50>, order=<ib.ext.Order.Order object at 0x000000000213CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2198>>
2018-01-18 12:08:07,408 - DEBUG - Order OrderID 106
2018-01-18 12:08:07,408 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:08:07,408 - DEBUG - Order status PreSubmitted
2018-01-18 12:08:07,409 - DEBUG - Order Identification 106
2018-01-18 12:08:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:08:07,409 - DEBUG - Profit ID from database is 0
2018-01-18 12:08:07,409 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:08:07,409 - DEBUG - Stop ID database is 0
2018-01-18 12:08:07,410 - DEBUG - Entry ID database is 108
2018-01-18 12:08:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000213CC50>, order=<ib.ext.Order.Order object at 0x000000000213CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D20F0>>
2018-01-18 12:08:07,411 - DEBUG - Order OrderID 107
2018-01-18 12:08:07,411 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:08:07,412 - DEBUG - Order status PreSubmitted
2018-01-18 12:08:07,412 - DEBUG - Order Identification 107
2018-01-18 12:08:07,412 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:08:07,412 - DEBUG - Profit ID from database is 0
2018-01-18 12:08:07,413 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:08:07,413 - DEBUG - Stop ID database is 0
2018-01-18 12:08:07,413 - DEBUG - Entry ID database is 108
2018-01-18 12:08:07,414 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000213CC50>, order=<ib.ext.Order.Order object at 0x000000000213CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2208>>
2018-01-18 12:08:07,415 - DEBUG - Order OrderID 108
2018-01-18 12:08:07,415 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:08:07,415 - DEBUG - Order status PreSubmitted
2018-01-18 12:08:07,415 - DEBUG - Order Identification 108
2018-01-18 12:08:07,416 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:08:07,416 - DEBUG - Profit ID from database is 0
2018-01-18 12:08:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:08:07,416 - DEBUG - Stop ID database is 0
2018-01-18 12:08:07,416 - DEBUG - Entry ID database is 108
2018-01-18 12:08:07,417 - DEBUG - Entry API ID is 108
2018-01-18 12:08:09,407 - DEBUG - Connecting to database
2018-01-18 12:08:09,414 - DEBUG - Connected to database
2018-01-18 12:08:09,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,416 - DEBUG - Stop loss value is 72.30
2018-01-18 12:08:09,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,418 - DEBUG - Stop loss value is 84.7
2018-01-18 12:08:09,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,420 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:08:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,421 - DEBUG - Stop quantity 1
2018-01-18 12:08:09,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,423 - DEBUG - Direction is Long
2018-01-18 12:08:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,425 - DEBUG - Count is 0
2018-01-18 12:08:09,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:08:09,426 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:08:09,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:08:09,428 - DEBUG - Max ID Order is (108,)
2018-01-18 12:08:09,428 - DEBUG - Today is 2018-01-18
2018-01-18 12:08:09,429 - DEBUG - Day of the week 3
2018-01-18 12:08:09,429 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:08:09,429 - DEBUG - In Position is  0
2018-01-18 12:08:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:08:09,430 - DEBUG - curStopLossFlag is  0
2018-01-18 12:08:09,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:08:09,430 - DEBUG - Checking if Entry has been filled
2018-01-18 12:08:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:08:09,432 - DEBUG - EntryPend is 1
2018-01-18 12:08:09,432 - DEBUG - Try to Cancel Stop
2018-01-18 12:08:09,432 - DEBUG - Stop API ID 0
2018-01-18 12:08:09,432 - DEBUG - Profit API ID 0
2018-01-18 12:08:09,433 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:08:09,433 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:08:09,433 - DEBUG - Pos is 0
2018-01-18 12:08:09,433 - DEBUG - CurCount is 0
2018-01-18 12:08:09,433 - DEBUG - In Pos 0
2018-01-18 12:08:09,434 - DEBUG - Stop ID is 0
2018-01-18 12:08:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:08:09,435 - DEBUG - EntryPend is 1
2018-01-18 12:08:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:08:09,436 - DEBUG - Entry Date is 10
2018-01-18 12:08:09,436 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:08:09,436 - DEBUG - Order Profit ID is 0
2018-01-18 12:08:09,437 - DEBUG - Order Entry ID is 108
2018-01-18 12:08:09,437 - DEBUG - API ID is  0
2018-01-18 12:08:09,437 - DEBUG - Current Position is 0
2018-01-18 12:08:09,437 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:08:09,438 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:08:09,438 - DEBUG - Time is 12
2018-01-18 12:08:09,438 - DEBUG - Time is <class 'int'>
2018-01-18 12:08:09,438 - DEBUG - Time is 8
2018-01-18 12:08:09,438 - DEBUG - Time is <class 'int'>
2018-01-18 12:08:09,439 - DEBUG - Disconnected from IBController
2018-01-18 12:08:09,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:13:05,349 - DEBUG - ****************************************************
2018-01-18 12:13:05,350 - DEBUG - Current Time is 12:13PM
2018-01-18 12:13:05,350 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:13:05,351 - DEBUG - Connecting to database
2018-01-18 12:13:05,382 - DEBUG - Connected to database
2018-01-18 12:13:05,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:05,384 - DEBUG - Order Profit is 0
2018-01-18 12:13:05,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:05,385 - DEBUG - Stop ID is 0
2018-01-18 12:13:05,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:05,387 - DEBUG - Entry ID is 108
2018-01-18 12:13:05,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:13:05,389 - DEBUG - OCA ID is 1
2018-01-18 12:13:05,389 - DEBUG - Connecting to IBController
2018-01-18 12:13:06,393 - DEBUG - Connected to IBController
2018-01-18 12:13:06,393 - DEBUG - Position requested
2018-01-18 12:13:06,394 - DEBUG - Pos Mgmt -12987
2018-01-18 12:13:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DB70>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:13:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:13:06,395 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:13:06,395 - DEBUG - Position is -12987
2018-01-18 12:13:07,394 - DEBUG - Open Orders requested
2018-01-18 12:13:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000214DA58>, order=<ib.ext.Order.Order object at 0x000000000214DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E2128>>
2018-01-18 12:13:07,396 - DEBUG - Order OrderID 106
2018-01-18 12:13:07,396 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:13:07,397 - DEBUG - Order status PreSubmitted
2018-01-18 12:13:07,397 - DEBUG - Order Identification 106
2018-01-18 12:13:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:13:07,398 - DEBUG - Profit ID from database is 0
2018-01-18 12:13:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:13:07,398 - DEBUG - Stop ID database is 0
2018-01-18 12:13:07,398 - DEBUG - Entry ID database is 108
2018-01-18 12:13:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000214DFD0>, order=<ib.ext.Order.Order object at 0x000000000214DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E2198>>
2018-01-18 12:13:07,399 - DEBUG - Order OrderID 107
2018-01-18 12:13:07,400 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:13:07,400 - DEBUG - Order status PreSubmitted
2018-01-18 12:13:07,400 - DEBUG - Order Identification 107
2018-01-18 12:13:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:13:07,401 - DEBUG - Profit ID from database is 0
2018-01-18 12:13:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:13:07,401 - DEBUG - Stop ID database is 0
2018-01-18 12:13:07,402 - DEBUG - Entry ID database is 108
2018-01-18 12:13:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000214DFD0>, order=<ib.ext.Order.Order object at 0x000000000214DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E2278>>
2018-01-18 12:13:07,403 - DEBUG - Order OrderID 108
2018-01-18 12:13:07,403 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:13:07,404 - DEBUG - Order status PreSubmitted
2018-01-18 12:13:07,404 - DEBUG - Order Identification 108
2018-01-18 12:13:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:13:07,404 - DEBUG - Profit ID from database is 0
2018-01-18 12:13:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:13:07,405 - DEBUG - Stop ID database is 0
2018-01-18 12:13:07,405 - DEBUG - Entry ID database is 108
2018-01-18 12:13:07,405 - DEBUG - Entry API ID is 108
2018-01-18 12:13:09,395 - DEBUG - Connecting to database
2018-01-18 12:13:09,402 - DEBUG - Connected to database
2018-01-18 12:13:09,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,404 - DEBUG - Stop loss value is 72.30
2018-01-18 12:13:09,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,405 - DEBUG - Stop loss value is 84.7
2018-01-18 12:13:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,407 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:13:09,408 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,409 - DEBUG - Stop quantity 1
2018-01-18 12:13:09,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,410 - DEBUG - Direction is Long
2018-01-18 12:13:09,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,412 - DEBUG - Count is 0
2018-01-18 12:13:09,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:13:09,413 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:13:09,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:13:09,415 - DEBUG - Max ID Order is (108,)
2018-01-18 12:13:09,415 - DEBUG - Today is 2018-01-18
2018-01-18 12:13:09,416 - DEBUG - Day of the week 3
2018-01-18 12:13:09,416 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:13:09,416 - DEBUG - In Position is  0
2018-01-18 12:13:09,417 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:13:09,417 - DEBUG - curStopLossFlag is  0
2018-01-18 12:13:09,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:13:09,417 - DEBUG - Checking if Entry has been filled
2018-01-18 12:13:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:13:09,419 - DEBUG - EntryPend is 1
2018-01-18 12:13:09,419 - DEBUG - Try to Cancel Stop
2018-01-18 12:13:09,419 - DEBUG - Stop API ID 0
2018-01-18 12:13:09,419 - DEBUG - Profit API ID 0
2018-01-18 12:13:09,420 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:13:09,420 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:13:09,420 - DEBUG - Pos is 0
2018-01-18 12:13:09,420 - DEBUG - CurCount is 0
2018-01-18 12:13:09,421 - DEBUG - In Pos 0
2018-01-18 12:13:09,421 - DEBUG - Stop ID is 0
2018-01-18 12:13:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:13:09,422 - DEBUG - EntryPend is 1
2018-01-18 12:13:09,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:13:09,423 - DEBUG - Entry Date is 10
2018-01-18 12:13:09,423 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:13:09,423 - DEBUG - Order Profit ID is 0
2018-01-18 12:13:09,424 - DEBUG - Order Entry ID is 108
2018-01-18 12:13:09,424 - DEBUG - API ID is  0
2018-01-18 12:13:09,424 - DEBUG - Current Position is 0
2018-01-18 12:13:09,424 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:13:09,425 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:13:09,425 - DEBUG - Time is 12
2018-01-18 12:13:09,425 - DEBUG - Time is <class 'int'>
2018-01-18 12:13:09,425 - DEBUG - Time is 13
2018-01-18 12:13:09,425 - DEBUG - Time is <class 'int'>
2018-01-18 12:13:09,426 - DEBUG - Disconnected from IBController
2018-01-18 12:13:09,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:18:05,350 - DEBUG - ****************************************************
2018-01-18 12:18:05,350 - DEBUG - Current Time is 12:18PM
2018-01-18 12:18:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:18:05,351 - DEBUG - Connecting to database
2018-01-18 12:18:05,393 - DEBUG - Connected to database
2018-01-18 12:18:05,393 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:05,395 - DEBUG - Order Profit is 0
2018-01-18 12:18:05,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:05,397 - DEBUG - Stop ID is 0
2018-01-18 12:18:05,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:05,398 - DEBUG - Entry ID is 108
2018-01-18 12:18:05,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:18:05,400 - DEBUG - OCA ID is 1
2018-01-18 12:18:05,400 - DEBUG - Connecting to IBController
2018-01-18 12:18:06,407 - DEBUG - Connected to IBController
2018-01-18 12:18:06,407 - DEBUG - Position requested
2018-01-18 12:18:06,408 - DEBUG - Pos Mgmt -12987
2018-01-18 12:18:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:18:06,409 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:18:06,409 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:18:06,409 - DEBUG - Position is -12987
2018-01-18 12:18:07,408 - DEBUG - Open Orders requested
2018-01-18 12:18:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, order=<ib.ext.Order.Order object at 0x000000000211DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2198>>
2018-01-18 12:18:07,411 - DEBUG - Order OrderID 106
2018-01-18 12:18:07,411 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:18:07,411 - DEBUG - Order status PreSubmitted
2018-01-18 12:18:07,412 - DEBUG - Order Identification 106
2018-01-18 12:18:07,412 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:18:07,412 - DEBUG - Profit ID from database is 0
2018-01-18 12:18:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:18:07,413 - DEBUG - Stop ID database is 0
2018-01-18 12:18:07,413 - DEBUG - Entry ID database is 108
2018-01-18 12:18:07,414 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, order=<ib.ext.Order.Order object at 0x000000000211DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2128>>
2018-01-18 12:18:07,414 - DEBUG - Order OrderID 107
2018-01-18 12:18:07,415 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:18:07,415 - DEBUG - Order status PreSubmitted
2018-01-18 12:18:07,415 - DEBUG - Order Identification 107
2018-01-18 12:18:07,415 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:18:07,416 - DEBUG - Profit ID from database is 0
2018-01-18 12:18:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:18:07,416 - DEBUG - Stop ID database is 0
2018-01-18 12:18:07,416 - DEBUG - Entry ID database is 108
2018-01-18 12:18:07,417 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, order=<ib.ext.Order.Order object at 0x000000000211DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2208>>
2018-01-18 12:18:07,418 - DEBUG - Order OrderID 108
2018-01-18 12:18:07,418 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:18:07,419 - DEBUG - Order status PreSubmitted
2018-01-18 12:18:07,419 - DEBUG - Order Identification 108
2018-01-18 12:18:07,419 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:18:07,419 - DEBUG - Profit ID from database is 0
2018-01-18 12:18:07,419 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:18:07,420 - DEBUG - Stop ID database is 0
2018-01-18 12:18:07,420 - DEBUG - Entry ID database is 108
2018-01-18 12:18:07,420 - DEBUG - Entry API ID is 108
2018-01-18 12:18:09,410 - DEBUG - Connecting to database
2018-01-18 12:18:09,418 - DEBUG - Connected to database
2018-01-18 12:18:09,420 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,420 - DEBUG - Stop loss value is 72.30
2018-01-18 12:18:09,422 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,422 - DEBUG - Stop loss value is 84.7
2018-01-18 12:18:09,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,424 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:18:09,425 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,425 - DEBUG - Stop quantity 1
2018-01-18 12:18:09,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,427 - DEBUG - Direction is Long
2018-01-18 12:18:09,428 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,429 - DEBUG - Count is 0
2018-01-18 12:18:09,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:18:09,430 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:18:09,432 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:18:09,432 - DEBUG - Max ID Order is (108,)
2018-01-18 12:18:09,432 - DEBUG - Today is 2018-01-18
2018-01-18 12:18:09,433 - DEBUG - Day of the week 3
2018-01-18 12:18:09,433 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:18:09,433 - DEBUG - In Position is  0
2018-01-18 12:18:09,433 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:18:09,433 - DEBUG - curStopLossFlag is  0
2018-01-18 12:18:09,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:18:09,434 - DEBUG - Checking if Entry has been filled
2018-01-18 12:18:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:18:09,436 - DEBUG - EntryPend is 1
2018-01-18 12:18:09,436 - DEBUG - Try to Cancel Stop
2018-01-18 12:18:09,436 - DEBUG - Stop API ID 0
2018-01-18 12:18:09,436 - DEBUG - Profit API ID 0
2018-01-18 12:18:09,436 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:18:09,437 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:18:09,437 - DEBUG - Pos is 0
2018-01-18 12:18:09,437 - DEBUG - CurCount is 0
2018-01-18 12:18:09,437 - DEBUG - In Pos 0
2018-01-18 12:18:09,438 - DEBUG - Stop ID is 0
2018-01-18 12:18:09,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:18:09,439 - DEBUG - EntryPend is 1
2018-01-18 12:18:09,439 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:18:09,440 - DEBUG - Entry Date is 10
2018-01-18 12:18:09,440 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:18:09,440 - DEBUG - Order Profit ID is 0
2018-01-18 12:18:09,440 - DEBUG - Order Entry ID is 108
2018-01-18 12:18:09,440 - DEBUG - API ID is  0
2018-01-18 12:18:09,441 - DEBUG - Current Position is 0
2018-01-18 12:18:09,441 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:18:09,441 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:18:09,441 - DEBUG - Time is 12
2018-01-18 12:18:09,442 - DEBUG - Time is <class 'int'>
2018-01-18 12:18:09,442 - DEBUG - Time is 18
2018-01-18 12:18:09,442 - DEBUG - Time is <class 'int'>
2018-01-18 12:18:09,442 - DEBUG - Disconnected from IBController
2018-01-18 12:18:09,448 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:23:05,350 - DEBUG - ****************************************************
2018-01-18 12:23:05,350 - DEBUG - Current Time is 12:23PM
2018-01-18 12:23:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:23:05,351 - DEBUG - Connecting to database
2018-01-18 12:23:05,367 - DEBUG - Connected to database
2018-01-18 12:23:05,368 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:05,369 - DEBUG - Order Profit is 0
2018-01-18 12:23:05,369 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:05,371 - DEBUG - Stop ID is 0
2018-01-18 12:23:05,371 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:05,373 - DEBUG - Entry ID is 108
2018-01-18 12:23:05,373 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:23:05,374 - DEBUG - OCA ID is 1
2018-01-18 12:23:05,375 - DEBUG - Connecting to IBController
2018-01-18 12:23:06,379 - DEBUG - Connected to IBController
2018-01-18 12:23:06,379 - DEBUG - Position requested
2018-01-18 12:23:06,380 - DEBUG - Pos Mgmt -12987
2018-01-18 12:23:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CB00>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:23:06,381 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:23:06,381 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:23:06,381 - DEBUG - Position is -12987
2018-01-18 12:23:07,380 - DEBUG - Open Orders requested
2018-01-18 12:23:07,382 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000211CC88>, order=<ib.ext.Order.Order object at 0x000000000211CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2128>>
2018-01-18 12:23:07,382 - DEBUG - Order OrderID 106
2018-01-18 12:23:07,382 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:23:07,383 - DEBUG - Order status PreSubmitted
2018-01-18 12:23:07,383 - DEBUG - Order Identification 106
2018-01-18 12:23:07,383 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:23:07,384 - DEBUG - Profit ID from database is 0
2018-01-18 12:23:07,384 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:23:07,384 - DEBUG - Stop ID database is 0
2018-01-18 12:23:07,384 - DEBUG - Entry ID database is 108
2018-01-18 12:23:07,385 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2198>>
2018-01-18 12:23:07,386 - DEBUG - Order OrderID 107
2018-01-18 12:23:07,386 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:23:07,386 - DEBUG - Order status PreSubmitted
2018-01-18 12:23:07,386 - DEBUG - Order Identification 107
2018-01-18 12:23:07,387 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:23:07,387 - DEBUG - Profit ID from database is 0
2018-01-18 12:23:07,387 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:23:07,387 - DEBUG - Stop ID database is 0
2018-01-18 12:23:07,387 - DEBUG - Entry ID database is 108
2018-01-18 12:23:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2278>>
2018-01-18 12:23:07,389 - DEBUG - Order OrderID 108
2018-01-18 12:23:07,389 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:23:07,389 - DEBUG - Order status PreSubmitted
2018-01-18 12:23:07,390 - DEBUG - Order Identification 108
2018-01-18 12:23:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:23:07,390 - DEBUG - Profit ID from database is 0
2018-01-18 12:23:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:23:07,390 - DEBUG - Stop ID database is 0
2018-01-18 12:23:07,391 - DEBUG - Entry ID database is 108
2018-01-18 12:23:07,391 - DEBUG - Entry API ID is 108
2018-01-18 12:23:09,380 - DEBUG - Connecting to database
2018-01-18 12:23:09,387 - DEBUG - Connected to database
2018-01-18 12:23:09,389 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,389 - DEBUG - Stop loss value is 72.30
2018-01-18 12:23:09,391 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,391 - DEBUG - Stop loss value is 84.7
2018-01-18 12:23:09,392 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,393 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:23:09,394 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,394 - DEBUG - Stop quantity 1
2018-01-18 12:23:09,396 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,396 - DEBUG - Direction is Long
2018-01-18 12:23:09,397 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,398 - DEBUG - Count is 0
2018-01-18 12:23:09,399 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:23:09,400 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:23:09,401 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:23:09,401 - DEBUG - Max ID Order is (108,)
2018-01-18 12:23:09,402 - DEBUG - Today is 2018-01-18
2018-01-18 12:23:09,402 - DEBUG - Day of the week 3
2018-01-18 12:23:09,402 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:23:09,402 - DEBUG - In Position is  0
2018-01-18 12:23:09,403 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:23:09,403 - DEBUG - curStopLossFlag is  0
2018-01-18 12:23:09,403 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:23:09,403 - DEBUG - Checking if Entry has been filled
2018-01-18 12:23:09,404 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:23:09,405 - DEBUG - EntryPend is 1
2018-01-18 12:23:09,405 - DEBUG - Try to Cancel Stop
2018-01-18 12:23:09,405 - DEBUG - Stop API ID 0
2018-01-18 12:23:09,406 - DEBUG - Profit API ID 0
2018-01-18 12:23:09,406 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:23:09,406 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:23:09,406 - DEBUG - Pos is 0
2018-01-18 12:23:09,407 - DEBUG - CurCount is 0
2018-01-18 12:23:09,407 - DEBUG - In Pos 0
2018-01-18 12:23:09,407 - DEBUG - Stop ID is 0
2018-01-18 12:23:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:23:09,409 - DEBUG - EntryPend is 1
2018-01-18 12:23:09,409 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:23:09,409 - DEBUG - Entry Date is 10
2018-01-18 12:23:09,409 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:23:09,410 - DEBUG - Order Profit ID is 0
2018-01-18 12:23:09,410 - DEBUG - Order Entry ID is 108
2018-01-18 12:23:09,410 - DEBUG - API ID is  0
2018-01-18 12:23:09,410 - DEBUG - Current Position is 0
2018-01-18 12:23:09,410 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:23:09,411 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:23:09,411 - DEBUG - Time is 12
2018-01-18 12:23:09,411 - DEBUG - Time is <class 'int'>
2018-01-18 12:23:09,411 - DEBUG - Time is 23
2018-01-18 12:23:09,412 - DEBUG - Time is <class 'int'>
2018-01-18 12:23:09,412 - DEBUG - Disconnected from IBController
2018-01-18 12:23:09,412 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:28:05,365 - DEBUG - ****************************************************
2018-01-18 12:28:05,366 - DEBUG - Current Time is 12:28PM
2018-01-18 12:28:05,366 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:28:05,366 - DEBUG - Connecting to database
2018-01-18 12:28:05,382 - DEBUG - Connected to database
2018-01-18 12:28:05,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:05,384 - DEBUG - Order Profit is 0
2018-01-18 12:28:05,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:05,386 - DEBUG - Stop ID is 0
2018-01-18 12:28:05,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:05,387 - DEBUG - Entry ID is 108
2018-01-18 12:28:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:28:05,389 - DEBUG - OCA ID is 1
2018-01-18 12:28:05,389 - DEBUG - Connecting to IBController
2018-01-18 12:28:06,394 - DEBUG - Connected to IBController
2018-01-18 12:28:06,394 - DEBUG - Position requested
2018-01-18 12:28:06,395 - DEBUG - Pos Mgmt -12987
2018-01-18 12:28:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CCC0>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:28:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:28:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:28:06,396 - DEBUG - Position is -12987
2018-01-18 12:28:07,395 - DEBUG - Open Orders requested
2018-01-18 12:28:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000212CC88>, order=<ib.ext.Order.Order object at 0x000000000212CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2128>>
2018-01-18 12:28:07,398 - DEBUG - Order OrderID 106
2018-01-18 12:28:07,399 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:28:07,399 - DEBUG - Order status PreSubmitted
2018-01-18 12:28:07,399 - DEBUG - Order Identification 106
2018-01-18 12:28:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:28:07,400 - DEBUG - Profit ID from database is 0
2018-01-18 12:28:07,400 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:28:07,400 - DEBUG - Stop ID database is 0
2018-01-18 12:28:07,400 - DEBUG - Entry ID database is 108
2018-01-18 12:28:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000212CFD0>, order=<ib.ext.Order.Order object at 0x000000000212CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2198>>
2018-01-18 12:28:07,402 - DEBUG - Order OrderID 107
2018-01-18 12:28:07,402 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:28:07,402 - DEBUG - Order status PreSubmitted
2018-01-18 12:28:07,403 - DEBUG - Order Identification 107
2018-01-18 12:28:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:28:07,403 - DEBUG - Profit ID from database is 0
2018-01-18 12:28:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:28:07,403 - DEBUG - Stop ID database is 0
2018-01-18 12:28:07,404 - DEBUG - Entry ID database is 108
2018-01-18 12:28:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000212CFD0>, order=<ib.ext.Order.Order object at 0x000000000212CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2278>>
2018-01-18 12:28:07,405 - DEBUG - Order OrderID 108
2018-01-18 12:28:07,405 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:28:07,406 - DEBUG - Order status PreSubmitted
2018-01-18 12:28:07,406 - DEBUG - Order Identification 108
2018-01-18 12:28:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:28:07,406 - DEBUG - Profit ID from database is 0
2018-01-18 12:28:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:28:07,407 - DEBUG - Stop ID database is 0
2018-01-18 12:28:07,407 - DEBUG - Entry ID database is 108
2018-01-18 12:28:07,407 - DEBUG - Entry API ID is 108
2018-01-18 12:28:09,397 - DEBUG - Connecting to database
2018-01-18 12:28:09,404 - DEBUG - Connected to database
2018-01-18 12:28:09,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,405 - DEBUG - Stop loss value is 72.30
2018-01-18 12:28:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,407 - DEBUG - Stop loss value is 84.7
2018-01-18 12:28:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,409 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:28:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,410 - DEBUG - Stop quantity 1
2018-01-18 12:28:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,412 - DEBUG - Direction is Long
2018-01-18 12:28:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,413 - DEBUG - Count is 0
2018-01-18 12:28:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:28:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:28:09,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:28:09,416 - DEBUG - Max ID Order is (108,)
2018-01-18 12:28:09,417 - DEBUG - Today is 2018-01-18
2018-01-18 12:28:09,417 - DEBUG - Day of the week 3
2018-01-18 12:28:09,417 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:28:09,418 - DEBUG - In Position is  0
2018-01-18 12:28:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:28:09,418 - DEBUG - curStopLossFlag is  0
2018-01-18 12:28:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:28:09,419 - DEBUG - Checking if Entry has been filled
2018-01-18 12:28:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:28:09,420 - DEBUG - EntryPend is 1
2018-01-18 12:28:09,420 - DEBUG - Try to Cancel Stop
2018-01-18 12:28:09,421 - DEBUG - Stop API ID 0
2018-01-18 12:28:09,421 - DEBUG - Profit API ID 0
2018-01-18 12:28:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:28:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:28:09,421 - DEBUG - Pos is 0
2018-01-18 12:28:09,422 - DEBUG - CurCount is 0
2018-01-18 12:28:09,422 - DEBUG - In Pos 0
2018-01-18 12:28:09,422 - DEBUG - Stop ID is 0
2018-01-18 12:28:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:28:09,424 - DEBUG - EntryPend is 1
2018-01-18 12:28:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:28:09,424 - DEBUG - Entry Date is 10
2018-01-18 12:28:09,424 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:28:09,425 - DEBUG - Order Profit ID is 0
2018-01-18 12:28:09,425 - DEBUG - Order Entry ID is 108
2018-01-18 12:28:09,425 - DEBUG - API ID is  0
2018-01-18 12:28:09,425 - DEBUG - Current Position is 0
2018-01-18 12:28:09,425 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:28:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:28:09,426 - DEBUG - Time is 12
2018-01-18 12:28:09,426 - DEBUG - Time is <class 'int'>
2018-01-18 12:28:09,426 - DEBUG - Time is 28
2018-01-18 12:28:09,426 - DEBUG - Time is <class 'int'>
2018-01-18 12:28:09,427 - DEBUG - Disconnected from IBController
2018-01-18 12:28:09,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:33:05,372 - DEBUG - ****************************************************
2018-01-18 12:33:05,372 - DEBUG - Current Time is 12:33PM
2018-01-18 12:33:05,373 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:33:05,373 - DEBUG - Connecting to database
2018-01-18 12:33:05,389 - DEBUG - Connected to database
2018-01-18 12:33:05,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:05,391 - DEBUG - Order Profit is 0
2018-01-18 12:33:05,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:05,393 - DEBUG - Stop ID is 0
2018-01-18 12:33:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:05,394 - DEBUG - Entry ID is 108
2018-01-18 12:33:05,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:33:05,396 - DEBUG - OCA ID is 1
2018-01-18 12:33:05,396 - DEBUG - Connecting to IBController
2018-01-18 12:33:06,401 - DEBUG - Connected to IBController
2018-01-18 12:33:06,401 - DEBUG - Position requested
2018-01-18 12:33:06,402 - DEBUG - Pos Mgmt -12987
2018-01-18 12:33:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:33:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:33:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:33:06,403 - DEBUG - Position is -12987
2018-01-18 12:33:07,403 - DEBUG - Open Orders requested
2018-01-18 12:33:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020ECC50>, order=<ib.ext.Order.Order object at 0x00000000020ECDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 12:33:07,406 - DEBUG - Order OrderID 106
2018-01-18 12:33:07,406 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:33:07,406 - DEBUG - Order status PreSubmitted
2018-01-18 12:33:07,407 - DEBUG - Order Identification 106
2018-01-18 12:33:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:33:07,407 - DEBUG - Profit ID from database is 0
2018-01-18 12:33:07,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:33:07,408 - DEBUG - Stop ID database is 0
2018-01-18 12:33:07,408 - DEBUG - Entry ID database is 108
2018-01-18 12:33:07,409 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020ECC50>, order=<ib.ext.Order.Order object at 0x00000000020ECDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181128>>
2018-01-18 12:33:07,409 - DEBUG - Order OrderID 107
2018-01-18 12:33:07,410 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:33:07,410 - DEBUG - Order status PreSubmitted
2018-01-18 12:33:07,410 - DEBUG - Order Identification 107
2018-01-18 12:33:07,410 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:33:07,411 - DEBUG - Profit ID from database is 0
2018-01-18 12:33:07,411 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:33:07,411 - DEBUG - Stop ID database is 0
2018-01-18 12:33:07,411 - DEBUG - Entry ID database is 108
2018-01-18 12:33:07,412 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020ECC50>, order=<ib.ext.Order.Order object at 0x00000000020ECDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181208>>
2018-01-18 12:33:07,413 - DEBUG - Order OrderID 108
2018-01-18 12:33:07,413 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:33:07,414 - DEBUG - Order status PreSubmitted
2018-01-18 12:33:07,414 - DEBUG - Order Identification 108
2018-01-18 12:33:07,414 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:33:07,414 - DEBUG - Profit ID from database is 0
2018-01-18 12:33:07,414 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:33:07,415 - DEBUG - Stop ID database is 0
2018-01-18 12:33:07,415 - DEBUG - Entry ID database is 108
2018-01-18 12:33:07,415 - DEBUG - Entry API ID is 108
2018-01-18 12:33:09,406 - DEBUG - Connecting to database
2018-01-18 12:33:09,413 - DEBUG - Connected to database
2018-01-18 12:33:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,415 - DEBUG - Stop loss value is 72.30
2018-01-18 12:33:09,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,418 - DEBUG - Stop loss value is 84.7
2018-01-18 12:33:09,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,419 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:33:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,421 - DEBUG - Stop quantity 1
2018-01-18 12:33:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,423 - DEBUG - Direction is Long
2018-01-18 12:33:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,424 - DEBUG - Count is 0
2018-01-18 12:33:09,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:33:09,426 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:33:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:33:09,428 - DEBUG - Max ID Order is (108,)
2018-01-18 12:33:09,428 - DEBUG - Today is 2018-01-18
2018-01-18 12:33:09,428 - DEBUG - Day of the week 3
2018-01-18 12:33:09,429 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:33:09,429 - DEBUG - In Position is  0
2018-01-18 12:33:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:33:09,429 - DEBUG - curStopLossFlag is  0
2018-01-18 12:33:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:33:09,430 - DEBUG - Checking if Entry has been filled
2018-01-18 12:33:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:33:09,431 - DEBUG - EntryPend is 1
2018-01-18 12:33:09,432 - DEBUG - Try to Cancel Stop
2018-01-18 12:33:09,432 - DEBUG - Stop API ID 0
2018-01-18 12:33:09,432 - DEBUG - Profit API ID 0
2018-01-18 12:33:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:33:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:33:09,433 - DEBUG - Pos is 0
2018-01-18 12:33:09,433 - DEBUG - CurCount is 0
2018-01-18 12:33:09,433 - DEBUG - In Pos 0
2018-01-18 12:33:09,433 - DEBUG - Stop ID is 0
2018-01-18 12:33:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:33:09,435 - DEBUG - EntryPend is 1
2018-01-18 12:33:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:33:09,435 - DEBUG - Entry Date is 10
2018-01-18 12:33:09,435 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:33:09,436 - DEBUG - Order Profit ID is 0
2018-01-18 12:33:09,436 - DEBUG - Order Entry ID is 108
2018-01-18 12:33:09,436 - DEBUG - API ID is  0
2018-01-18 12:33:09,436 - DEBUG - Current Position is 0
2018-01-18 12:33:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:33:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:33:09,437 - DEBUG - Time is 12
2018-01-18 12:33:09,437 - DEBUG - Time is <class 'int'>
2018-01-18 12:33:09,437 - DEBUG - Time is 33
2018-01-18 12:33:09,438 - DEBUG - Time is <class 'int'>
2018-01-18 12:33:09,438 - DEBUG - Disconnected from IBController
2018-01-18 12:33:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:38:05,355 - DEBUG - ****************************************************
2018-01-18 12:38:05,355 - DEBUG - Current Time is 12:38PM
2018-01-18 12:38:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:38:05,356 - DEBUG - Connecting to database
2018-01-18 12:38:05,370 - DEBUG - Connected to database
2018-01-18 12:38:05,371 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:05,372 - DEBUG - Order Profit is 0
2018-01-18 12:38:05,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:05,374 - DEBUG - Stop ID is 0
2018-01-18 12:38:05,374 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:05,375 - DEBUG - Entry ID is 108
2018-01-18 12:38:05,375 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:38:05,377 - DEBUG - OCA ID is 1
2018-01-18 12:38:05,377 - DEBUG - Connecting to IBController
2018-01-18 12:38:06,384 - DEBUG - Connected to IBController
2018-01-18 12:38:06,384 - DEBUG - Position requested
2018-01-18 12:38:06,385 - DEBUG - Pos Mgmt -12987
2018-01-18 12:38:06,385 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:38:06,386 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:38:06,386 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:38:06,386 - DEBUG - Position is -12987
2018-01-18 12:38:07,385 - DEBUG - Open Orders requested
2018-01-18 12:38:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000216DDD8>, order=<ib.ext.Order.Order object at 0x000000000216DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002201198>>
2018-01-18 12:38:07,388 - DEBUG - Order OrderID 106
2018-01-18 12:38:07,388 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:38:07,388 - DEBUG - Order status PreSubmitted
2018-01-18 12:38:07,389 - DEBUG - Order Identification 106
2018-01-18 12:38:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:38:07,389 - DEBUG - Profit ID from database is 0
2018-01-18 12:38:07,389 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:38:07,390 - DEBUG - Stop ID database is 0
2018-01-18 12:38:07,390 - DEBUG - Entry ID database is 108
2018-01-18 12:38:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000216DDD8>, order=<ib.ext.Order.Order object at 0x000000000216DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002201160>>
2018-01-18 12:38:07,391 - DEBUG - Order OrderID 107
2018-01-18 12:38:07,391 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:38:07,392 - DEBUG - Order status PreSubmitted
2018-01-18 12:38:07,392 - DEBUG - Order Identification 107
2018-01-18 12:38:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:38:07,392 - DEBUG - Profit ID from database is 0
2018-01-18 12:38:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:38:07,393 - DEBUG - Stop ID database is 0
2018-01-18 12:38:07,393 - DEBUG - Entry ID database is 108
2018-01-18 12:38:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000216DDD8>, order=<ib.ext.Order.Order object at 0x000000000216DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002201208>>
2018-01-18 12:38:07,395 - DEBUG - Order OrderID 108
2018-01-18 12:38:07,395 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:38:07,395 - DEBUG - Order status PreSubmitted
2018-01-18 12:38:07,396 - DEBUG - Order Identification 108
2018-01-18 12:38:07,396 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:38:07,396 - DEBUG - Profit ID from database is 0
2018-01-18 12:38:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:38:07,396 - DEBUG - Stop ID database is 0
2018-01-18 12:38:07,397 - DEBUG - Entry ID database is 108
2018-01-18 12:38:07,397 - DEBUG - Entry API ID is 108
2018-01-18 12:38:09,387 - DEBUG - Connecting to database
2018-01-18 12:38:09,394 - DEBUG - Connected to database
2018-01-18 12:38:09,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,396 - DEBUG - Stop loss value is 72.30
2018-01-18 12:38:09,397 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,398 - DEBUG - Stop loss value is 84.7
2018-01-18 12:38:09,399 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,399 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:38:09,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,401 - DEBUG - Stop quantity 1
2018-01-18 12:38:09,402 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,403 - DEBUG - Direction is Long
2018-01-18 12:38:09,404 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,404 - DEBUG - Count is 0
2018-01-18 12:38:09,406 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:38:09,406 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:38:09,407 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:38:09,408 - DEBUG - Max ID Order is (108,)
2018-01-18 12:38:09,408 - DEBUG - Today is 2018-01-18
2018-01-18 12:38:09,408 - DEBUG - Day of the week 3
2018-01-18 12:38:09,409 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:38:09,409 - DEBUG - In Position is  0
2018-01-18 12:38:09,409 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:38:09,409 - DEBUG - curStopLossFlag is  0
2018-01-18 12:38:09,409 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:38:09,410 - DEBUG - Checking if Entry has been filled
2018-01-18 12:38:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:38:09,411 - DEBUG - EntryPend is 1
2018-01-18 12:38:09,412 - DEBUG - Try to Cancel Stop
2018-01-18 12:38:09,412 - DEBUG - Stop API ID 0
2018-01-18 12:38:09,412 - DEBUG - Profit API ID 0
2018-01-18 12:38:09,412 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:38:09,412 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:38:09,413 - DEBUG - Pos is 0
2018-01-18 12:38:09,413 - DEBUG - CurCount is 0
2018-01-18 12:38:09,413 - DEBUG - In Pos 0
2018-01-18 12:38:09,413 - DEBUG - Stop ID is 0
2018-01-18 12:38:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:38:09,415 - DEBUG - EntryPend is 1
2018-01-18 12:38:09,415 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:38:09,415 - DEBUG - Entry Date is 10
2018-01-18 12:38:09,416 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:38:09,416 - DEBUG - Order Profit ID is 0
2018-01-18 12:38:09,416 - DEBUG - Order Entry ID is 108
2018-01-18 12:38:09,416 - DEBUG - API ID is  0
2018-01-18 12:38:09,416 - DEBUG - Current Position is 0
2018-01-18 12:38:09,417 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:38:09,417 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:38:09,417 - DEBUG - Time is 12
2018-01-18 12:38:09,417 - DEBUG - Time is <class 'int'>
2018-01-18 12:38:09,418 - DEBUG - Time is 38
2018-01-18 12:38:09,418 - DEBUG - Time is <class 'int'>
2018-01-18 12:38:09,418 - DEBUG - Disconnected from IBController
2018-01-18 12:38:09,418 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:43:05,350 - DEBUG - ****************************************************
2018-01-18 12:43:05,351 - DEBUG - Current Time is 12:43PM
2018-01-18 12:43:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:43:05,351 - DEBUG - Connecting to database
2018-01-18 12:43:05,369 - DEBUG - Connected to database
2018-01-18 12:43:05,369 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:05,371 - DEBUG - Order Profit is 0
2018-01-18 12:43:05,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:05,372 - DEBUG - Stop ID is 0
2018-01-18 12:43:05,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:05,374 - DEBUG - Entry ID is 108
2018-01-18 12:43:05,374 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:43:05,375 - DEBUG - OCA ID is 1
2018-01-18 12:43:05,376 - DEBUG - Connecting to IBController
2018-01-18 12:43:06,380 - DEBUG - Connected to IBController
2018-01-18 12:43:06,380 - DEBUG - Position requested
2018-01-18 12:43:06,381 - DEBUG - Pos Mgmt -12987
2018-01-18 12:43:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:43:06,382 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:43:06,382 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:43:06,382 - DEBUG - Position is -12987
2018-01-18 12:43:07,381 - DEBUG - Open Orders requested
2018-01-18 12:43:07,383 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000210BC50>, order=<ib.ext.Order.Order object at 0x000000000210BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A0128>>
2018-01-18 12:43:07,383 - DEBUG - Order OrderID 106
2018-01-18 12:43:07,384 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:43:07,384 - DEBUG - Order status PreSubmitted
2018-01-18 12:43:07,384 - DEBUG - Order Identification 106
2018-01-18 12:43:07,384 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:43:07,385 - DEBUG - Profit ID from database is 0
2018-01-18 12:43:07,385 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:43:07,385 - DEBUG - Stop ID database is 0
2018-01-18 12:43:07,385 - DEBUG - Entry ID database is 108
2018-01-18 12:43:07,386 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000210BFD0>, order=<ib.ext.Order.Order object at 0x000000000210BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A0198>>
2018-01-18 12:43:07,387 - DEBUG - Order OrderID 107
2018-01-18 12:43:07,387 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:43:07,387 - DEBUG - Order status PreSubmitted
2018-01-18 12:43:07,388 - DEBUG - Order Identification 107
2018-01-18 12:43:07,388 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:43:07,388 - DEBUG - Profit ID from database is 0
2018-01-18 12:43:07,388 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:43:07,388 - DEBUG - Stop ID database is 0
2018-01-18 12:43:07,388 - DEBUG - Entry ID database is 108
2018-01-18 12:43:07,390 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000210BFD0>, order=<ib.ext.Order.Order object at 0x000000000210BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A0278>>
2018-01-18 12:43:07,390 - DEBUG - Order OrderID 108
2018-01-18 12:43:07,390 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:43:07,391 - DEBUG - Order status PreSubmitted
2018-01-18 12:43:07,391 - DEBUG - Order Identification 108
2018-01-18 12:43:07,391 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:43:07,391 - DEBUG - Profit ID from database is 0
2018-01-18 12:43:07,391 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:43:07,392 - DEBUG - Stop ID database is 0
2018-01-18 12:43:07,392 - DEBUG - Entry ID database is 108
2018-01-18 12:43:07,392 - DEBUG - Entry API ID is 108
2018-01-18 12:43:09,381 - DEBUG - Connecting to database
2018-01-18 12:43:09,390 - DEBUG - Connected to database
2018-01-18 12:43:09,392 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,392 - DEBUG - Stop loss value is 72.30
2018-01-18 12:43:09,393 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,394 - DEBUG - Stop loss value is 84.7
2018-01-18 12:43:09,395 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,395 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:43:09,397 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,397 - DEBUG - Stop quantity 1
2018-01-18 12:43:09,399 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,399 - DEBUG - Direction is Long
2018-01-18 12:43:09,400 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,401 - DEBUG - Count is 0
2018-01-18 12:43:09,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:43:09,402 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:43:09,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:43:09,404 - DEBUG - Max ID Order is (108,)
2018-01-18 12:43:09,404 - DEBUG - Today is 2018-01-18
2018-01-18 12:43:09,405 - DEBUG - Day of the week 3
2018-01-18 12:43:09,405 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:43:09,405 - DEBUG - In Position is  0
2018-01-18 12:43:09,405 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:43:09,405 - DEBUG - curStopLossFlag is  0
2018-01-18 12:43:09,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:43:09,406 - DEBUG - Checking if Entry has been filled
2018-01-18 12:43:09,406 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:43:09,408 - DEBUG - EntryPend is 1
2018-01-18 12:43:09,408 - DEBUG - Try to Cancel Stop
2018-01-18 12:43:09,408 - DEBUG - Stop API ID 0
2018-01-18 12:43:09,408 - DEBUG - Profit API ID 0
2018-01-18 12:43:09,408 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:43:09,409 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:43:09,409 - DEBUG - Pos is 0
2018-01-18 12:43:09,409 - DEBUG - CurCount is 0
2018-01-18 12:43:09,409 - DEBUG - In Pos 0
2018-01-18 12:43:09,409 - DEBUG - Stop ID is 0
2018-01-18 12:43:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:43:09,411 - DEBUG - EntryPend is 1
2018-01-18 12:43:09,411 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:43:09,412 - DEBUG - Entry Date is 10
2018-01-18 12:43:09,412 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:43:09,412 - DEBUG - Order Profit ID is 0
2018-01-18 12:43:09,412 - DEBUG - Order Entry ID is 108
2018-01-18 12:43:09,412 - DEBUG - API ID is  0
2018-01-18 12:43:09,413 - DEBUG - Current Position is 0
2018-01-18 12:43:09,413 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:43:09,413 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:43:09,413 - DEBUG - Time is 12
2018-01-18 12:43:09,413 - DEBUG - Time is <class 'int'>
2018-01-18 12:43:09,414 - DEBUG - Time is 43
2018-01-18 12:43:09,414 - DEBUG - Time is <class 'int'>
2018-01-18 12:43:09,414 - DEBUG - Disconnected from IBController
2018-01-18 12:43:09,414 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:48:05,378 - DEBUG - ****************************************************
2018-01-18 12:48:05,379 - DEBUG - Current Time is 12:48PM
2018-01-18 12:48:05,379 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:48:05,380 - DEBUG - Connecting to database
2018-01-18 12:48:05,452 - DEBUG - Connected to database
2018-01-18 12:48:05,453 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:05,454 - DEBUG - Order Profit is 0
2018-01-18 12:48:05,455 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:05,456 - DEBUG - Stop ID is 0
2018-01-18 12:48:05,456 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:05,458 - DEBUG - Entry ID is 108
2018-01-18 12:48:05,458 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:48:05,460 - DEBUG - OCA ID is 1
2018-01-18 12:48:05,460 - DEBUG - Connecting to IBController
2018-01-18 12:48:06,467 - DEBUG - Connected to IBController
2018-01-18 12:48:06,467 - DEBUG - Position requested
2018-01-18 12:48:06,468 - DEBUG - Pos Mgmt -12987
2018-01-18 12:48:06,469 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:48:06,469 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:48:06,469 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:48:06,469 - DEBUG - Position is -12987
2018-01-18 12:48:07,468 - DEBUG - Open Orders requested
2018-01-18 12:48:07,470 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000214DBA8>, order=<ib.ext.Order.Order object at 0x000000000214DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1198>>
2018-01-18 12:48:07,471 - DEBUG - Order OrderID 106
2018-01-18 12:48:07,471 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:48:07,472 - DEBUG - Order status PreSubmitted
2018-01-18 12:48:07,472 - DEBUG - Order Identification 106
2018-01-18 12:48:07,472 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:48:07,472 - DEBUG - Profit ID from database is 0
2018-01-18 12:48:07,472 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:48:07,473 - DEBUG - Stop ID database is 0
2018-01-18 12:48:07,473 - DEBUG - Entry ID database is 108
2018-01-18 12:48:07,474 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000214DBA8>, order=<ib.ext.Order.Order object at 0x000000000214DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1160>>
2018-01-18 12:48:07,474 - DEBUG - Order OrderID 107
2018-01-18 12:48:07,475 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:48:07,475 - DEBUG - Order status PreSubmitted
2018-01-18 12:48:07,475 - DEBUG - Order Identification 107
2018-01-18 12:48:07,475 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:48:07,476 - DEBUG - Profit ID from database is 0
2018-01-18 12:48:07,476 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:48:07,476 - DEBUG - Stop ID database is 0
2018-01-18 12:48:07,476 - DEBUG - Entry ID database is 108
2018-01-18 12:48:07,477 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000214DBA8>, order=<ib.ext.Order.Order object at 0x000000000214DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1208>>
2018-01-18 12:48:07,478 - DEBUG - Order OrderID 108
2018-01-18 12:48:07,478 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:48:07,478 - DEBUG - Order status PreSubmitted
2018-01-18 12:48:07,479 - DEBUG - Order Identification 108
2018-01-18 12:48:07,479 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:48:07,479 - DEBUG - Profit ID from database is 0
2018-01-18 12:48:07,479 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:48:07,480 - DEBUG - Stop ID database is 0
2018-01-18 12:48:07,480 - DEBUG - Entry ID database is 108
2018-01-18 12:48:07,480 - DEBUG - Entry API ID is 108
2018-01-18 12:48:09,471 - DEBUG - Connecting to database
2018-01-18 12:48:09,478 - DEBUG - Connected to database
2018-01-18 12:48:09,480 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,480 - DEBUG - Stop loss value is 72.30
2018-01-18 12:48:09,482 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,482 - DEBUG - Stop loss value is 84.7
2018-01-18 12:48:09,483 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,484 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:48:09,486 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,487 - DEBUG - Stop quantity 1
2018-01-18 12:48:09,488 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,488 - DEBUG - Direction is Long
2018-01-18 12:48:09,490 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,490 - DEBUG - Count is 0
2018-01-18 12:48:09,491 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:48:09,492 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:48:09,493 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:48:09,493 - DEBUG - Max ID Order is (108,)
2018-01-18 12:48:09,494 - DEBUG - Today is 2018-01-18
2018-01-18 12:48:09,494 - DEBUG - Day of the week 3
2018-01-18 12:48:09,494 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:48:09,494 - DEBUG - In Position is  0
2018-01-18 12:48:09,495 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:48:09,495 - DEBUG - curStopLossFlag is  0
2018-01-18 12:48:09,495 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:48:09,495 - DEBUG - Checking if Entry has been filled
2018-01-18 12:48:09,495 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:48:09,497 - DEBUG - EntryPend is 1
2018-01-18 12:48:09,497 - DEBUG - Try to Cancel Stop
2018-01-18 12:48:09,497 - DEBUG - Stop API ID 0
2018-01-18 12:48:09,497 - DEBUG - Profit API ID 0
2018-01-18 12:48:09,498 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:48:09,498 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:48:09,498 - DEBUG - Pos is 0
2018-01-18 12:48:09,498 - DEBUG - CurCount is 0
2018-01-18 12:48:09,499 - DEBUG - In Pos 0
2018-01-18 12:48:09,499 - DEBUG - Stop ID is 0
2018-01-18 12:48:09,499 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:48:09,500 - DEBUG - EntryPend is 1
2018-01-18 12:48:09,501 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:48:09,501 - DEBUG - Entry Date is 10
2018-01-18 12:48:09,501 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:48:09,501 - DEBUG - Order Profit ID is 0
2018-01-18 12:48:09,501 - DEBUG - Order Entry ID is 108
2018-01-18 12:48:09,502 - DEBUG - API ID is  0
2018-01-18 12:48:09,502 - DEBUG - Current Position is 0
2018-01-18 12:48:09,502 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:48:09,502 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:48:09,502 - DEBUG - Time is 12
2018-01-18 12:48:09,503 - DEBUG - Time is <class 'int'>
2018-01-18 12:48:09,503 - DEBUG - Time is 48
2018-01-18 12:48:09,503 - DEBUG - Time is <class 'int'>
2018-01-18 12:48:09,503 - DEBUG - Disconnected from IBController
2018-01-18 12:48:09,504 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:53:05,330 - DEBUG - ****************************************************
2018-01-18 12:53:05,330 - DEBUG - Current Time is 12:53PM
2018-01-18 12:53:05,331 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:53:05,331 - DEBUG - Connecting to database
2018-01-18 12:53:05,359 - DEBUG - Connected to database
2018-01-18 12:53:05,359 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:05,360 - DEBUG - Order Profit is 0
2018-01-18 12:53:05,361 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:05,362 - DEBUG - Stop ID is 0
2018-01-18 12:53:05,362 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:05,364 - DEBUG - Entry ID is 108
2018-01-18 12:53:05,364 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:53:05,365 - DEBUG - OCA ID is 1
2018-01-18 12:53:05,366 - DEBUG - Connecting to IBController
2018-01-18 12:53:06,376 - DEBUG - Connected to IBController
2018-01-18 12:53:06,376 - DEBUG - Position requested
2018-01-18 12:53:06,377 - DEBUG - Pos Mgmt -12987
2018-01-18 12:53:06,377 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA90>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:53:06,378 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:53:06,378 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:53:06,378 - DEBUG - Position is -12987
2018-01-18 12:53:07,377 - DEBUG - Open Orders requested
2018-01-18 12:53:07,379 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000210DBE0>, order=<ib.ext.Order.Order object at 0x000000000210DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1128>>
2018-01-18 12:53:07,379 - DEBUG - Order OrderID 106
2018-01-18 12:53:07,380 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:53:07,380 - DEBUG - Order status PreSubmitted
2018-01-18 12:53:07,380 - DEBUG - Order Identification 106
2018-01-18 12:53:07,380 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:53:07,381 - DEBUG - Profit ID from database is 0
2018-01-18 12:53:07,381 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:53:07,381 - DEBUG - Stop ID database is 0
2018-01-18 12:53:07,381 - DEBUG - Entry ID database is 108
2018-01-18 12:53:07,382 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1198>>
2018-01-18 12:53:07,383 - DEBUG - Order OrderID 107
2018-01-18 12:53:07,383 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:53:07,383 - DEBUG - Order status PreSubmitted
2018-01-18 12:53:07,384 - DEBUG - Order Identification 107
2018-01-18 12:53:07,384 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:53:07,384 - DEBUG - Profit ID from database is 0
2018-01-18 12:53:07,384 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:53:07,384 - DEBUG - Stop ID database is 0
2018-01-18 12:53:07,385 - DEBUG - Entry ID database is 108
2018-01-18 12:53:07,386 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1278>>
2018-01-18 12:53:07,386 - DEBUG - Order OrderID 108
2018-01-18 12:53:07,386 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:53:07,387 - DEBUG - Order status PreSubmitted
2018-01-18 12:53:07,387 - DEBUG - Order Identification 108
2018-01-18 12:53:07,387 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:53:07,387 - DEBUG - Profit ID from database is 0
2018-01-18 12:53:07,388 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:53:07,388 - DEBUG - Stop ID database is 0
2018-01-18 12:53:07,388 - DEBUG - Entry ID database is 108
2018-01-18 12:53:07,388 - DEBUG - Entry API ID is 108
2018-01-18 12:53:09,377 - DEBUG - Connecting to database
2018-01-18 12:53:09,384 - DEBUG - Connected to database
2018-01-18 12:53:09,385 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,386 - DEBUG - Stop loss value is 72.30
2018-01-18 12:53:09,387 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,387 - DEBUG - Stop loss value is 84.7
2018-01-18 12:53:09,389 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,389 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:53:09,390 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,391 - DEBUG - Stop quantity 1
2018-01-18 12:53:09,392 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,392 - DEBUG - Direction is Long
2018-01-18 12:53:09,394 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,394 - DEBUG - Count is 0
2018-01-18 12:53:09,395 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:53:09,396 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:53:09,397 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:53:09,397 - DEBUG - Max ID Order is (108,)
2018-01-18 12:53:09,398 - DEBUG - Today is 2018-01-18
2018-01-18 12:53:09,398 - DEBUG - Day of the week 3
2018-01-18 12:53:09,398 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:53:09,399 - DEBUG - In Position is  0
2018-01-18 12:53:09,399 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:53:09,399 - DEBUG - curStopLossFlag is  0
2018-01-18 12:53:09,399 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:53:09,399 - DEBUG - Checking if Entry has been filled
2018-01-18 12:53:09,400 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:53:09,401 - DEBUG - EntryPend is 1
2018-01-18 12:53:09,401 - DEBUG - Try to Cancel Stop
2018-01-18 12:53:09,401 - DEBUG - Stop API ID 0
2018-01-18 12:53:09,402 - DEBUG - Profit API ID 0
2018-01-18 12:53:09,402 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:53:09,402 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:53:09,402 - DEBUG - Pos is 0
2018-01-18 12:53:09,403 - DEBUG - CurCount is 0
2018-01-18 12:53:09,403 - DEBUG - In Pos 0
2018-01-18 12:53:09,403 - DEBUG - Stop ID is 0
2018-01-18 12:53:09,403 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:53:09,405 - DEBUG - EntryPend is 1
2018-01-18 12:53:09,405 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:53:09,405 - DEBUG - Entry Date is 10
2018-01-18 12:53:09,405 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:53:09,406 - DEBUG - Order Profit ID is 0
2018-01-18 12:53:09,406 - DEBUG - Order Entry ID is 108
2018-01-18 12:53:09,406 - DEBUG - API ID is  0
2018-01-18 12:53:09,406 - DEBUG - Current Position is 0
2018-01-18 12:53:09,407 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:53:09,407 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:53:09,407 - DEBUG - Time is 12
2018-01-18 12:53:09,407 - DEBUG - Time is <class 'int'>
2018-01-18 12:53:09,407 - DEBUG - Time is 53
2018-01-18 12:53:09,408 - DEBUG - Time is <class 'int'>
2018-01-18 12:53:09,408 - DEBUG - Disconnected from IBController
2018-01-18 12:53:09,408 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 12:58:05,349 - DEBUG - ****************************************************
2018-01-18 12:58:05,349 - DEBUG - Current Time is 12:58PM
2018-01-18 12:58:05,350 - DEBUG - Starting Pos Mgmt H E
2018-01-18 12:58:05,350 - DEBUG - Connecting to database
2018-01-18 12:58:05,381 - DEBUG - Connected to database
2018-01-18 12:58:05,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:05,383 - DEBUG - Order Profit is 0
2018-01-18 12:58:05,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:05,385 - DEBUG - Stop ID is 0
2018-01-18 12:58:05,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:05,387 - DEBUG - Entry ID is 108
2018-01-18 12:58:05,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 12:58:05,389 - DEBUG - OCA ID is 1
2018-01-18 12:58:05,389 - DEBUG - Connecting to IBController
2018-01-18 12:58:06,393 - DEBUG - Connected to IBController
2018-01-18 12:58:06,393 - DEBUG - Position requested
2018-01-18 12:58:06,394 - DEBUG - Pos Mgmt -12987
2018-01-18 12:58:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECD68>, pos=-12987, avgCost=0.95368235>
2018-01-18 12:58:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 12:58:06,395 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 12:58:06,395 - DEBUG - Position is -12987
2018-01-18 12:58:07,394 - DEBUG - Open Orders requested
2018-01-18 12:58:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA20>, order=<ib.ext.Order.Order object at 0x00000000020ECC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181198>>
2018-01-18 12:58:07,397 - DEBUG - Order OrderID 106
2018-01-18 12:58:07,397 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:58:07,397 - DEBUG - Order status PreSubmitted
2018-01-18 12:58:07,398 - DEBUG - Order Identification 106
2018-01-18 12:58:07,398 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:58:07,398 - DEBUG - Profit ID from database is 0
2018-01-18 12:58:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:58:07,399 - DEBUG - Stop ID database is 0
2018-01-18 12:58:07,399 - DEBUG - Entry ID database is 108
2018-01-18 12:58:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA20>, order=<ib.ext.Order.Order object at 0x00000000020ECC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181160>>
2018-01-18 12:58:07,400 - DEBUG - Order OrderID 107
2018-01-18 12:58:07,401 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:58:07,401 - DEBUG - Order status PreSubmitted
2018-01-18 12:58:07,401 - DEBUG - Order Identification 107
2018-01-18 12:58:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:58:07,401 - DEBUG - Profit ID from database is 0
2018-01-18 12:58:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:58:07,402 - DEBUG - Stop ID database is 0
2018-01-18 12:58:07,402 - DEBUG - Entry ID database is 108
2018-01-18 12:58:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA20>, order=<ib.ext.Order.Order object at 0x00000000020ECC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181208>>
2018-01-18 12:58:07,403 - DEBUG - Order OrderID 108
2018-01-18 12:58:07,404 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 12:58:07,404 - DEBUG - Order status PreSubmitted
2018-01-18 12:58:07,404 - DEBUG - Order Identification 108
2018-01-18 12:58:07,405 - DEBUG - Order Identification <class 'int'>
2018-01-18 12:58:07,405 - DEBUG - Profit ID from database is 0
2018-01-18 12:58:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 12:58:07,405 - DEBUG - Stop ID database is 0
2018-01-18 12:58:07,405 - DEBUG - Entry ID database is 108
2018-01-18 12:58:07,406 - DEBUG - Entry API ID is 108
2018-01-18 12:58:09,396 - DEBUG - Connecting to database
2018-01-18 12:58:09,403 - DEBUG - Connected to database
2018-01-18 12:58:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,405 - DEBUG - Stop loss value is 72.30
2018-01-18 12:58:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,406 - DEBUG - Stop loss value is 84.7
2018-01-18 12:58:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,408 - DEBUG - EntryPrice value is 73.75
2018-01-18 12:58:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,410 - DEBUG - Stop quantity 1
2018-01-18 12:58:09,412 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,412 - DEBUG - Direction is Long
2018-01-18 12:58:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,414 - DEBUG - Count is 0
2018-01-18 12:58:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 12:58:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-18 12:58:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 12:58:09,417 - DEBUG - Max ID Order is (108,)
2018-01-18 12:58:09,417 - DEBUG - Today is 2018-01-18
2018-01-18 12:58:09,418 - DEBUG - Day of the week 3
2018-01-18 12:58:09,418 - DEBUG - Yesterday is 01/17/2018
2018-01-18 12:58:09,418 - DEBUG - In Position is  0
2018-01-18 12:58:09,419 - DEBUG - In Position is  <class 'int'>
2018-01-18 12:58:09,419 - DEBUG - curStopLossFlag is  0
2018-01-18 12:58:09,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 12:58:09,419 - DEBUG - Checking if Entry has been filled
2018-01-18 12:58:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:58:09,421 - DEBUG - EntryPend is 1
2018-01-18 12:58:09,421 - DEBUG - Try to Cancel Stop
2018-01-18 12:58:09,421 - DEBUG - Stop API ID 0
2018-01-18 12:58:09,422 - DEBUG - Profit API ID 0
2018-01-18 12:58:09,422 - DEBUG - Stop API ID <class 'int'>
2018-01-18 12:58:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-18 12:58:09,422 - DEBUG - Pos is 0
2018-01-18 12:58:09,423 - DEBUG - CurCount is 0
2018-01-18 12:58:09,423 - DEBUG - In Pos 0
2018-01-18 12:58:09,423 - DEBUG - Stop ID is 0
2018-01-18 12:58:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 12:58:09,425 - DEBUG - EntryPend is 1
2018-01-18 12:58:09,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 12:58:09,425 - DEBUG - Entry Date is 10
2018-01-18 12:58:09,425 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 12:58:09,425 - DEBUG - Order Profit ID is 0
2018-01-18 12:58:09,426 - DEBUG - Order Entry ID is 108
2018-01-18 12:58:09,426 - DEBUG - API ID is  0
2018-01-18 12:58:09,426 - DEBUG - Current Position is 0
2018-01-18 12:58:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-18 12:58:09,427 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 12:58:09,427 - DEBUG - Time is 12
2018-01-18 12:58:09,427 - DEBUG - Time is <class 'int'>
2018-01-18 12:58:09,427 - DEBUG - Time is 58
2018-01-18 12:58:09,427 - DEBUG - Time is <class 'int'>
2018-01-18 12:58:09,428 - DEBUG - Disconnected from IBController
2018-01-18 12:58:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:03:05,375 - DEBUG - ****************************************************
2018-01-18 13:03:05,375 - DEBUG - Current Time is 01:03PM
2018-01-18 13:03:05,376 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:03:05,376 - DEBUG - Connecting to database
2018-01-18 13:03:05,406 - DEBUG - Connected to database
2018-01-18 13:03:05,406 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:05,408 - DEBUG - Order Profit is 0
2018-01-18 13:03:05,408 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:05,409 - DEBUG - Stop ID is 0
2018-01-18 13:03:05,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:05,411 - DEBUG - Entry ID is 108
2018-01-18 13:03:05,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:03:05,413 - DEBUG - OCA ID is 1
2018-01-18 13:03:05,413 - DEBUG - Connecting to IBController
2018-01-18 13:03:06,421 - DEBUG - Connected to IBController
2018-01-18 13:03:06,421 - DEBUG - Position requested
2018-01-18 13:03:06,422 - DEBUG - Pos Mgmt -12987
2018-01-18 13:03:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:03:06,423 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:03:06,423 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:03:06,423 - DEBUG - Position is -12987
2018-01-18 13:03:07,422 - DEBUG - Open Orders requested
2018-01-18 13:03:07,424 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA58>, order=<ib.ext.Order.Order object at 0x00000000020EDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182198>>
2018-01-18 13:03:07,425 - DEBUG - Order OrderID 106
2018-01-18 13:03:07,425 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:03:07,426 - DEBUG - Order status PreSubmitted
2018-01-18 13:03:07,426 - DEBUG - Order Identification 106
2018-01-18 13:03:07,426 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:03:07,426 - DEBUG - Profit ID from database is 0
2018-01-18 13:03:07,427 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:03:07,427 - DEBUG - Stop ID database is 0
2018-01-18 13:03:07,427 - DEBUG - Entry ID database is 108
2018-01-18 13:03:07,428 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA58>, order=<ib.ext.Order.Order object at 0x00000000020EDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182160>>
2018-01-18 13:03:07,428 - DEBUG - Order OrderID 107
2018-01-18 13:03:07,429 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:03:07,429 - DEBUG - Order status PreSubmitted
2018-01-18 13:03:07,429 - DEBUG - Order Identification 107
2018-01-18 13:03:07,429 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:03:07,430 - DEBUG - Profit ID from database is 0
2018-01-18 13:03:07,430 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:03:07,430 - DEBUG - Stop ID database is 0
2018-01-18 13:03:07,430 - DEBUG - Entry ID database is 108
2018-01-18 13:03:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA58>, order=<ib.ext.Order.Order object at 0x00000000020EDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182208>>
2018-01-18 13:03:07,432 - DEBUG - Order OrderID 108
2018-01-18 13:03:07,432 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:03:07,432 - DEBUG - Order status PreSubmitted
2018-01-18 13:03:07,432 - DEBUG - Order Identification 108
2018-01-18 13:03:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:03:07,433 - DEBUG - Profit ID from database is 0
2018-01-18 13:03:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:03:07,433 - DEBUG - Stop ID database is 0
2018-01-18 13:03:07,434 - DEBUG - Entry ID database is 108
2018-01-18 13:03:07,434 - DEBUG - Entry API ID is 108
2018-01-18 13:03:09,425 - DEBUG - Connecting to database
2018-01-18 13:03:09,432 - DEBUG - Connected to database
2018-01-18 13:03:09,434 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,434 - DEBUG - Stop loss value is 72.30
2018-01-18 13:03:09,436 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,436 - DEBUG - Stop loss value is 84.7
2018-01-18 13:03:09,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,438 - DEBUG - EntryPrice value is 73.75
2018-01-18 13:03:09,439 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,439 - DEBUG - Stop quantity 1
2018-01-18 13:03:09,441 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,441 - DEBUG - Direction is Long
2018-01-18 13:03:09,442 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,443 - DEBUG - Count is 0
2018-01-18 13:03:09,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:03:09,444 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:03:09,446 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:03:09,446 - DEBUG - Max ID Order is (108,)
2018-01-18 13:03:09,446 - DEBUG - Today is 2018-01-18
2018-01-18 13:03:09,447 - DEBUG - Day of the week 3
2018-01-18 13:03:09,447 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:03:09,447 - DEBUG - In Position is  0
2018-01-18 13:03:09,448 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:03:09,448 - DEBUG - curStopLossFlag is  0
2018-01-18 13:03:09,448 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:03:09,448 - DEBUG - Checking if Entry has been filled
2018-01-18 13:03:09,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:03:09,450 - DEBUG - EntryPend is 1
2018-01-18 13:03:09,450 - DEBUG - Try to Cancel Stop
2018-01-18 13:03:09,450 - DEBUG - Stop API ID 0
2018-01-18 13:03:09,450 - DEBUG - Profit API ID 0
2018-01-18 13:03:09,451 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:03:09,451 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:03:09,451 - DEBUG - Pos is 0
2018-01-18 13:03:09,451 - DEBUG - CurCount is 0
2018-01-18 13:03:09,451 - DEBUG - In Pos 0
2018-01-18 13:03:09,452 - DEBUG - Stop ID is 0
2018-01-18 13:03:09,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:03:09,453 - DEBUG - EntryPend is 1
2018-01-18 13:03:09,454 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:03:09,454 - DEBUG - Entry Date is 10
2018-01-18 13:03:09,454 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:03:09,454 - DEBUG - Order Profit ID is 0
2018-01-18 13:03:09,454 - DEBUG - Order Entry ID is 108
2018-01-18 13:03:09,455 - DEBUG - API ID is  0
2018-01-18 13:03:09,455 - DEBUG - Current Position is 0
2018-01-18 13:03:09,455 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:03:09,455 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:03:09,455 - DEBUG - Time is 13
2018-01-18 13:03:09,456 - DEBUG - Time is <class 'int'>
2018-01-18 13:03:09,456 - DEBUG - Time is 3
2018-01-18 13:03:09,456 - DEBUG - Time is <class 'int'>
2018-01-18 13:03:09,456 - DEBUG - Disconnected from IBController
2018-01-18 13:03:09,457 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:08:05,363 - DEBUG - ****************************************************
2018-01-18 13:08:05,363 - DEBUG - Current Time is 01:08PM
2018-01-18 13:08:05,364 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:08:05,364 - DEBUG - Connecting to database
2018-01-18 13:08:05,387 - DEBUG - Connected to database
2018-01-18 13:08:05,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:05,388 - DEBUG - Order Profit is 0
2018-01-18 13:08:05,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:05,390 - DEBUG - Stop ID is 0
2018-01-18 13:08:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:05,392 - DEBUG - Entry ID is 108
2018-01-18 13:08:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:08:05,393 - DEBUG - OCA ID is 1
2018-01-18 13:08:05,394 - DEBUG - Connecting to IBController
2018-01-18 13:08:06,398 - DEBUG - Connected to IBController
2018-01-18 13:08:06,398 - DEBUG - Position requested
2018-01-18 13:08:06,399 - DEBUG - Pos Mgmt -12987
2018-01-18 13:08:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:08:06,400 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:08:06,400 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:08:06,400 - DEBUG - Position is -12987
2018-01-18 13:08:07,399 - DEBUG - Open Orders requested
2018-01-18 13:08:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, order=<ib.ext.Order.Order object at 0x000000000210DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1128>>
2018-01-18 13:08:07,402 - DEBUG - Order OrderID 106
2018-01-18 13:08:07,403 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:08:07,403 - DEBUG - Order status PreSubmitted
2018-01-18 13:08:07,404 - DEBUG - Order Identification 106
2018-01-18 13:08:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:08:07,404 - DEBUG - Profit ID from database is 0
2018-01-18 13:08:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:08:07,404 - DEBUG - Stop ID database is 0
2018-01-18 13:08:07,405 - DEBUG - Entry ID database is 108
2018-01-18 13:08:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1198>>
2018-01-18 13:08:07,406 - DEBUG - Order OrderID 107
2018-01-18 13:08:07,406 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:08:07,407 - DEBUG - Order status PreSubmitted
2018-01-18 13:08:07,407 - DEBUG - Order Identification 107
2018-01-18 13:08:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:08:07,407 - DEBUG - Profit ID from database is 0
2018-01-18 13:08:07,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:08:07,408 - DEBUG - Stop ID database is 0
2018-01-18 13:08:07,408 - DEBUG - Entry ID database is 108
2018-01-18 13:08:07,409 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1278>>
2018-01-18 13:08:07,409 - DEBUG - Order OrderID 108
2018-01-18 13:08:07,409 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:08:07,410 - DEBUG - Order status PreSubmitted
2018-01-18 13:08:07,410 - DEBUG - Order Identification 108
2018-01-18 13:08:07,410 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:08:07,410 - DEBUG - Profit ID from database is 0
2018-01-18 13:08:07,411 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:08:07,411 - DEBUG - Stop ID database is 0
2018-01-18 13:08:07,411 - DEBUG - Entry ID database is 108
2018-01-18 13:08:07,411 - DEBUG - Entry API ID is 108
2018-01-18 13:08:09,399 - DEBUG - Connecting to database
2018-01-18 13:08:09,407 - DEBUG - Connected to database
2018-01-18 13:08:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,409 - DEBUG - Stop loss value is 72.30
2018-01-18 13:08:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,411 - DEBUG - Stop loss value is 84.7
2018-01-18 13:08:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,412 - DEBUG - EntryPrice value is 73.75
2018-01-18 13:08:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,414 - DEBUG - Stop quantity 1
2018-01-18 13:08:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,416 - DEBUG - Direction is Long
2018-01-18 13:08:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,417 - DEBUG - Count is 0
2018-01-18 13:08:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:08:09,419 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:08:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:08:09,421 - DEBUG - Max ID Order is (108,)
2018-01-18 13:08:09,421 - DEBUG - Today is 2018-01-18
2018-01-18 13:08:09,421 - DEBUG - Day of the week 3
2018-01-18 13:08:09,422 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:08:09,422 - DEBUG - In Position is  0
2018-01-18 13:08:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:08:09,422 - DEBUG - curStopLossFlag is  0
2018-01-18 13:08:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:08:09,423 - DEBUG - Checking if Entry has been filled
2018-01-18 13:08:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:08:09,424 - DEBUG - EntryPend is 1
2018-01-18 13:08:09,424 - DEBUG - Try to Cancel Stop
2018-01-18 13:08:09,425 - DEBUG - Stop API ID 0
2018-01-18 13:08:09,425 - DEBUG - Profit API ID 0
2018-01-18 13:08:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:08:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:08:09,426 - DEBUG - Pos is 0
2018-01-18 13:08:09,426 - DEBUG - CurCount is 0
2018-01-18 13:08:09,426 - DEBUG - In Pos 0
2018-01-18 13:08:09,426 - DEBUG - Stop ID is 0
2018-01-18 13:08:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:08:09,428 - DEBUG - EntryPend is 1
2018-01-18 13:08:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:08:09,428 - DEBUG - Entry Date is 10
2018-01-18 13:08:09,428 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:08:09,429 - DEBUG - Order Profit ID is 0
2018-01-18 13:08:09,429 - DEBUG - Order Entry ID is 108
2018-01-18 13:08:09,429 - DEBUG - API ID is  0
2018-01-18 13:08:09,429 - DEBUG - Current Position is 0
2018-01-18 13:08:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:08:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:08:09,430 - DEBUG - Time is 13
2018-01-18 13:08:09,430 - DEBUG - Time is <class 'int'>
2018-01-18 13:08:09,431 - DEBUG - Time is 8
2018-01-18 13:08:09,431 - DEBUG - Time is <class 'int'>
2018-01-18 13:08:09,431 - DEBUG - Disconnected from IBController
2018-01-18 13:08:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:13:05,351 - DEBUG - ****************************************************
2018-01-18 13:13:05,351 - DEBUG - Current Time is 01:13PM
2018-01-18 13:13:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:13:05,352 - DEBUG - Connecting to database
2018-01-18 13:13:05,376 - DEBUG - Connected to database
2018-01-18 13:13:05,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:05,377 - DEBUG - Order Profit is 0
2018-01-18 13:13:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:05,379 - DEBUG - Stop ID is 0
2018-01-18 13:13:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:05,381 - DEBUG - Entry ID is 108
2018-01-18 13:13:05,381 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:13:05,383 - DEBUG - OCA ID is 1
2018-01-18 13:13:05,383 - DEBUG - Connecting to IBController
2018-01-18 13:13:06,387 - DEBUG - Connected to IBController
2018-01-18 13:13:06,387 - DEBUG - Position requested
2018-01-18 13:13:06,388 - DEBUG - Pos Mgmt -12987
2018-01-18 13:13:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:13:06,389 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:13:06,389 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:13:06,389 - DEBUG - Position is -12987
2018-01-18 13:13:07,388 - DEBUG - Open Orders requested
2018-01-18 13:13:07,390 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, order=<ib.ext.Order.Order object at 0x000000000210DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1198>>
2018-01-18 13:13:07,391 - DEBUG - Order OrderID 106
2018-01-18 13:13:07,391 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:13:07,391 - DEBUG - Order status PreSubmitted
2018-01-18 13:13:07,392 - DEBUG - Order Identification 106
2018-01-18 13:13:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:13:07,392 - DEBUG - Profit ID from database is 0
2018-01-18 13:13:07,392 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:13:07,393 - DEBUG - Stop ID database is 0
2018-01-18 13:13:07,393 - DEBUG - Entry ID database is 108
2018-01-18 13:13:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, order=<ib.ext.Order.Order object at 0x000000000210DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1080>>
2018-01-18 13:13:07,394 - DEBUG - Order OrderID 107
2018-01-18 13:13:07,395 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:13:07,395 - DEBUG - Order status PreSubmitted
2018-01-18 13:13:07,395 - DEBUG - Order Identification 107
2018-01-18 13:13:07,395 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:13:07,395 - DEBUG - Profit ID from database is 0
2018-01-18 13:13:07,396 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:13:07,396 - DEBUG - Stop ID database is 0
2018-01-18 13:13:07,396 - DEBUG - Entry ID database is 108
2018-01-18 13:13:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, order=<ib.ext.Order.Order object at 0x000000000210DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1208>>
2018-01-18 13:13:07,398 - DEBUG - Order OrderID 108
2018-01-18 13:13:07,398 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:13:07,398 - DEBUG - Order status PreSubmitted
2018-01-18 13:13:07,399 - DEBUG - Order Identification 108
2018-01-18 13:13:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:13:07,399 - DEBUG - Profit ID from database is 0
2018-01-18 13:13:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:13:07,399 - DEBUG - Stop ID database is 0
2018-01-18 13:13:07,400 - DEBUG - Entry ID database is 108
2018-01-18 13:13:07,400 - DEBUG - Entry API ID is 108
2018-01-18 13:13:09,390 - DEBUG - Connecting to database
2018-01-18 13:13:09,400 - DEBUG - Connected to database
2018-01-18 13:13:09,402 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,402 - DEBUG - Stop loss value is 72.30
2018-01-18 13:13:09,404 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,404 - DEBUG - Stop loss value is 84.7
2018-01-18 13:13:09,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,406 - DEBUG - EntryPrice value is 73.75
2018-01-18 13:13:09,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,407 - DEBUG - Stop quantity 1
2018-01-18 13:13:09,409 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,409 - DEBUG - Direction is Long
2018-01-18 13:13:09,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,411 - DEBUG - Count is 0
2018-01-18 13:13:09,412 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:13:09,412 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:13:09,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:13:09,414 - DEBUG - Max ID Order is (108,)
2018-01-18 13:13:09,414 - DEBUG - Today is 2018-01-18
2018-01-18 13:13:09,415 - DEBUG - Day of the week 3
2018-01-18 13:13:09,415 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:13:09,415 - DEBUG - In Position is  0
2018-01-18 13:13:09,415 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:13:09,416 - DEBUG - curStopLossFlag is  0
2018-01-18 13:13:09,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:13:09,416 - DEBUG - Checking if Entry has been filled
2018-01-18 13:13:09,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:13:09,417 - DEBUG - EntryPend is 1
2018-01-18 13:13:09,418 - DEBUG - Try to Cancel Stop
2018-01-18 13:13:09,418 - DEBUG - Stop API ID 0
2018-01-18 13:13:09,418 - DEBUG - Profit API ID 0
2018-01-18 13:13:09,418 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:13:09,419 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:13:09,419 - DEBUG - Pos is 0
2018-01-18 13:13:09,419 - DEBUG - CurCount is 0
2018-01-18 13:13:09,419 - DEBUG - In Pos 0
2018-01-18 13:13:09,419 - DEBUG - Stop ID is 0
2018-01-18 13:13:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:13:09,421 - DEBUG - EntryPend is 1
2018-01-18 13:13:09,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:13:09,421 - DEBUG - Entry Date is 10
2018-01-18 13:13:09,422 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:13:09,422 - DEBUG - Order Profit ID is 0
2018-01-18 13:13:09,422 - DEBUG - Order Entry ID is 108
2018-01-18 13:13:09,422 - DEBUG - API ID is  0
2018-01-18 13:13:09,422 - DEBUG - Current Position is 0
2018-01-18 13:13:09,423 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:13:09,423 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:13:09,423 - DEBUG - Time is 13
2018-01-18 13:13:09,423 - DEBUG - Time is <class 'int'>
2018-01-18 13:13:09,423 - DEBUG - Time is 13
2018-01-18 13:13:09,424 - DEBUG - Time is <class 'int'>
2018-01-18 13:13:09,424 - DEBUG - Disconnected from IBController
2018-01-18 13:13:09,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:18:05,317 - DEBUG - ****************************************************
2018-01-18 13:18:05,317 - DEBUG - Current Time is 01:18PM
2018-01-18 13:18:05,318 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:18:05,318 - DEBUG - Connecting to database
2018-01-18 13:18:05,351 - DEBUG - Connected to database
2018-01-18 13:18:05,352 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:05,353 - DEBUG - Order Profit is 0
2018-01-18 13:18:05,353 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:05,355 - DEBUG - Stop ID is 0
2018-01-18 13:18:05,355 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:05,356 - DEBUG - Entry ID is 108
2018-01-18 13:18:05,357 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:18:05,358 - DEBUG - OCA ID is 1
2018-01-18 13:18:05,359 - DEBUG - Connecting to IBController
2018-01-18 13:18:06,365 - DEBUG - Connected to IBController
2018-01-18 13:18:06,365 - DEBUG - Position requested
2018-01-18 13:18:06,366 - DEBUG - Pos Mgmt -12987
2018-01-18 13:18:06,366 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DBA8>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:18:06,367 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:18:06,367 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:18:06,367 - DEBUG - Position is -12987
2018-01-18 13:18:07,366 - DEBUG - Open Orders requested
2018-01-18 13:18:07,368 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000212DC18>, order=<ib.ext.Order.Order object at 0x000000000212DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2128>>
2018-01-18 13:18:07,368 - DEBUG - Order OrderID 106
2018-01-18 13:18:07,369 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:18:07,369 - DEBUG - Order status PreSubmitted
2018-01-18 13:18:07,369 - DEBUG - Order Identification 106
2018-01-18 13:18:07,369 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:18:07,370 - DEBUG - Profit ID from database is 0
2018-01-18 13:18:07,370 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:18:07,370 - DEBUG - Stop ID database is 0
2018-01-18 13:18:07,370 - DEBUG - Entry ID database is 108
2018-01-18 13:18:07,371 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2198>>
2018-01-18 13:18:07,372 - DEBUG - Order OrderID 107
2018-01-18 13:18:07,372 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:18:07,372 - DEBUG - Order status PreSubmitted
2018-01-18 13:18:07,372 - DEBUG - Order Identification 107
2018-01-18 13:18:07,373 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:18:07,373 - DEBUG - Profit ID from database is 0
2018-01-18 13:18:07,373 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:18:07,373 - DEBUG - Stop ID database is 0
2018-01-18 13:18:07,374 - DEBUG - Entry ID database is 108
2018-01-18 13:18:07,375 - DEBUG - Reply Handler Orders is <openOrder orderId=108, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2278>>
2018-01-18 13:18:07,375 - DEBUG - Order OrderID 108
2018-01-18 13:18:07,375 - DEBUG - reply handler status <orderStatus orderId=108, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:18:07,376 - DEBUG - Order status PreSubmitted
2018-01-18 13:18:07,376 - DEBUG - Order Identification 108
2018-01-18 13:18:07,376 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:18:07,376 - DEBUG - Profit ID from database is 0
2018-01-18 13:18:07,377 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:18:07,377 - DEBUG - Stop ID database is 0
2018-01-18 13:18:07,377 - DEBUG - Entry ID database is 108
2018-01-18 13:18:07,377 - DEBUG - Entry API ID is 108
2018-01-18 13:18:09,366 - DEBUG - Connecting to database
2018-01-18 13:18:09,373 - DEBUG - Connected to database
2018-01-18 13:18:09,375 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,375 - DEBUG - Stop loss value is 72.30
2018-01-18 13:18:09,376 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,377 - DEBUG - Stop loss value is 84.7
2018-01-18 13:18:09,378 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,378 - DEBUG - EntryPrice value is 73.75
2018-01-18 13:18:09,380 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,380 - DEBUG - Stop quantity 1
2018-01-18 13:18:09,382 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,382 - DEBUG - Direction is Long
2018-01-18 13:18:09,384 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,384 - DEBUG - Count is 0
2018-01-18 13:18:09,385 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:18:09,386 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:18:09,387 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:18:09,387 - DEBUG - Max ID Order is (108,)
2018-01-18 13:18:09,388 - DEBUG - Today is 2018-01-18
2018-01-18 13:18:09,388 - DEBUG - Day of the week 3
2018-01-18 13:18:09,388 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:18:09,388 - DEBUG - In Position is  0
2018-01-18 13:18:09,389 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:18:09,389 - DEBUG - curStopLossFlag is  0
2018-01-18 13:18:09,389 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:18:09,389 - DEBUG - Checking if Entry has been filled
2018-01-18 13:18:09,390 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:18:09,391 - DEBUG - EntryPend is 1
2018-01-18 13:18:09,391 - DEBUG - Try to Cancel Stop
2018-01-18 13:18:09,391 - DEBUG - Stop API ID 0
2018-01-18 13:18:09,391 - DEBUG - Profit API ID 0
2018-01-18 13:18:09,392 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:18:09,392 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:18:09,392 - DEBUG - Pos is 0
2018-01-18 13:18:09,392 - DEBUG - CurCount is 0
2018-01-18 13:18:09,393 - DEBUG - In Pos 0
2018-01-18 13:18:09,393 - DEBUG - Stop ID is 0
2018-01-18 13:18:09,393 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:18:09,394 - DEBUG - EntryPend is 1
2018-01-18 13:18:09,395 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:18:09,395 - DEBUG - Entry Date is 10
2018-01-18 13:18:09,395 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:18:09,395 - DEBUG - Order Profit ID is 0
2018-01-18 13:18:09,396 - DEBUG - Order Entry ID is 108
2018-01-18 13:18:09,396 - DEBUG - API ID is  0
2018-01-18 13:18:09,396 - DEBUG - Current Position is 0
2018-01-18 13:18:09,396 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:18:09,396 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:18:09,397 - DEBUG - Time is 13
2018-01-18 13:18:09,397 - DEBUG - Time is <class 'int'>
2018-01-18 13:18:09,397 - DEBUG - Time is 18
2018-01-18 13:18:09,397 - DEBUG - Time is <class 'int'>
2018-01-18 13:18:09,397 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-18 13:18:09,398 - ERROR - Canceled Order 108
2018-01-18 13:18:09,398 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 108;
2018-01-18 13:18:09,428 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-18 13:18:09,436 - DEBUG - reply handler status <orderStatus orderId=108, status=Cancelled, filled=0, remaining=1, avgFillPrice=0.0, permId=830484111, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2018-01-18 13:18:09,436 - DEBUG - Order status Cancelled
2018-01-18 13:18:09,436 - DEBUG - Order Identification 108
2018-01-18 13:18:09,436 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:18:09,437 - DEBUG - Profit ID from database is 0
2018-01-18 13:18:09,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:18:09,437 - DEBUG - Stop ID database is 0
2018-01-18 13:18:09,437 - DEBUG - Entry ID database is 108
2018-01-18 13:18:09,437 - DEBUG - Entry API ID is 108
2018-01-18 13:18:09,445 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-18 13:18:09,461 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-18 13:18:09,480 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-18 13:18:09,494 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-18 13:18:09,507 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-18 13:18:09,520 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-18 13:18:09,537 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-18 13:18:09,551 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-18 13:18:09,567 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-18 13:18:09,580 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-18 13:18:09,599 - DEBUG - Disconnected from IBController
2018-01-18 13:18:09,599 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:23:05,360 - DEBUG - ****************************************************
2018-01-18 13:23:05,360 - DEBUG - Current Time is 01:23PM
2018-01-18 13:23:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:23:05,361 - DEBUG - Connecting to database
2018-01-18 13:23:05,386 - DEBUG - Connected to database
2018-01-18 13:23:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:05,388 - DEBUG - Order Profit is 0
2018-01-18 13:23:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:05,390 - DEBUG - Stop ID is 0
2018-01-18 13:23:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:05,391 - DEBUG - Entry ID is 0
2018-01-18 13:23:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:23:05,393 - DEBUG - OCA ID is 1
2018-01-18 13:23:05,393 - DEBUG - Connecting to IBController
2018-01-18 13:23:06,399 - DEBUG - Connected to IBController
2018-01-18 13:23:06,399 - DEBUG - Position requested
2018-01-18 13:23:06,400 - DEBUG - Pos Mgmt -12987
2018-01-18 13:23:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:23:06,401 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:23:06,401 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:23:06,401 - DEBUG - Position is -12987
2018-01-18 13:23:07,400 - DEBUG - Open Orders requested
2018-01-18 13:23:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x000000000212CBE0>, order=<ib.ext.Order.Order object at 0x000000000212CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C10F0>>
2018-01-18 13:23:07,402 - DEBUG - Order OrderID 106
2018-01-18 13:23:07,403 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:23:07,403 - DEBUG - Order status PreSubmitted
2018-01-18 13:23:07,403 - DEBUG - Order Identification 106
2018-01-18 13:23:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:23:07,404 - DEBUG - Profit ID from database is 0
2018-01-18 13:23:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:23:07,404 - DEBUG - Stop ID database is 0
2018-01-18 13:23:07,405 - DEBUG - Entry ID database is 0
2018-01-18 13:23:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x000000000212CFD0>, order=<ib.ext.Order.Order object at 0x000000000212CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1048>>
2018-01-18 13:23:07,406 - DEBUG - Order OrderID 107
2018-01-18 13:23:07,406 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:23:07,407 - DEBUG - Order status PreSubmitted
2018-01-18 13:23:07,407 - DEBUG - Order Identification 107
2018-01-18 13:23:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:23:07,407 - DEBUG - Profit ID from database is 0
2018-01-18 13:23:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:23:07,408 - DEBUG - Stop ID database is 0
2018-01-18 13:23:07,408 - DEBUG - Entry ID database is 0
2018-01-18 13:23:09,402 - DEBUG - Connecting to database
2018-01-18 13:23:09,409 - DEBUG - Connected to database
2018-01-18 13:23:09,714 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,715 - DEBUG - Stop loss value is 0
2018-01-18 13:23:09,716 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,716 - DEBUG - Stop loss value is 0
2018-01-18 13:23:09,718 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,718 - DEBUG - EntryPrice value is 0
2018-01-18 13:23:09,720 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,720 - DEBUG - Stop quantity 0
2018-01-18 13:23:09,721 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,721 - DEBUG - Direction is 0
2018-01-18 13:23:09,723 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,723 - DEBUG - Count is 0
2018-01-18 13:23:09,725 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:23:09,725 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:23:09,726 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:23:09,727 - DEBUG - Max ID Order is (108,)
2018-01-18 13:23:09,727 - DEBUG - Today is 2018-01-18
2018-01-18 13:23:09,727 - DEBUG - Day of the week 3
2018-01-18 13:23:09,728 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:23:09,728 - DEBUG - In Position is  0
2018-01-18 13:23:09,728 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:23:09,728 - DEBUG - curStopLossFlag is  0
2018-01-18 13:23:09,728 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:23:09,729 - DEBUG - Checking if Entry has been filled
2018-01-18 13:23:09,729 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:23:09,730 - DEBUG - EntryPend is 0
2018-01-18 13:23:09,730 - DEBUG - Try to Cancel Stop
2018-01-18 13:23:09,731 - DEBUG - Stop API ID 0
2018-01-18 13:23:09,731 - DEBUG - Profit API ID 0
2018-01-18 13:23:09,731 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:23:09,731 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:23:09,732 - DEBUG - Pos is 0
2018-01-18 13:23:09,732 - DEBUG - CurCount is 0
2018-01-18 13:23:09,732 - DEBUG - In Pos 0
2018-01-18 13:23:09,732 - DEBUG - Stop ID is 0
2018-01-18 13:23:09,732 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:23:09,734 - DEBUG - EntryPend is 0
2018-01-18 13:23:09,734 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:23:09,734 - DEBUG - Entry Date is 10
2018-01-18 13:23:09,734 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:23:09,735 - DEBUG - Order Profit ID is 0
2018-01-18 13:23:09,735 - DEBUG - Order Entry ID is 0
2018-01-18 13:23:09,735 - DEBUG - API ID is  0
2018-01-18 13:23:09,735 - DEBUG - Current Position is 0
2018-01-18 13:23:09,735 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:23:09,736 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:23:09,736 - DEBUG - Time is 13
2018-01-18 13:23:09,736 - DEBUG - Time is <class 'int'>
2018-01-18 13:23:09,736 - DEBUG - Time is 23
2018-01-18 13:23:09,737 - DEBUG - Time is <class 'int'>
2018-01-18 13:23:09,737 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-18 13:23:09,737 - ERROR - Canceled Order 0
2018-01-18 13:23:09,738 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-18 13:23:09,753 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-18 13:23:09,771 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-18 13:23:09,786 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-18 13:23:09,801 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-18 13:23:09,815 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-18 13:23:09,840 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-18 13:23:09,854 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-18 13:23:09,867 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-18 13:23:09,881 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-18 13:23:09,896 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-18 13:23:09,909 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-18 13:23:09,925 - DEBUG - Disconnected from IBController
2018-01-18 13:23:09,926 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:28:05,325 - DEBUG - ****************************************************
2018-01-18 13:28:05,326 - DEBUG - Current Time is 01:28PM
2018-01-18 13:28:05,326 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:28:05,326 - DEBUG - Connecting to database
2018-01-18 13:28:05,346 - DEBUG - Connected to database
2018-01-18 13:28:05,346 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:05,348 - DEBUG - Order Profit is 0
2018-01-18 13:28:05,348 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:05,355 - DEBUG - Stop ID is 0
2018-01-18 13:28:05,356 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:05,357 - DEBUG - Entry ID is 0
2018-01-18 13:28:05,357 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:28:05,359 - DEBUG - OCA ID is 1
2018-01-18 13:28:05,359 - DEBUG - Connecting to IBController
2018-01-18 13:28:06,367 - DEBUG - Connected to IBController
2018-01-18 13:28:06,367 - DEBUG - Position requested
2018-01-18 13:28:06,368 - DEBUG - Pos Mgmt -12987
2018-01-18 13:28:06,368 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDC50>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:28:06,369 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:28:06,369 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:28:06,369 - DEBUG - Position is -12987
2018-01-18 13:28:07,368 - DEBUG - Open Orders requested
2018-01-18 13:28:07,370 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020FDC88>, order=<ib.ext.Order.Order object at 0x00000000020FDB38>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191080>>
2018-01-18 13:28:07,370 - DEBUG - Order OrderID 106
2018-01-18 13:28:07,371 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:28:07,371 - DEBUG - Order status PreSubmitted
2018-01-18 13:28:07,371 - DEBUG - Order Identification 106
2018-01-18 13:28:07,371 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:28:07,372 - DEBUG - Profit ID from database is 0
2018-01-18 13:28:07,372 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:28:07,372 - DEBUG - Stop ID database is 0
2018-01-18 13:28:07,372 - DEBUG - Entry ID database is 0
2018-01-18 13:28:07,373 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, order=<ib.ext.Order.Order object at 0x00000000020FDB38>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021910F0>>
2018-01-18 13:28:07,374 - DEBUG - Order OrderID 107
2018-01-18 13:28:07,374 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:28:07,374 - DEBUG - Order status PreSubmitted
2018-01-18 13:28:07,375 - DEBUG - Order Identification 107
2018-01-18 13:28:07,375 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:28:07,375 - DEBUG - Profit ID from database is 0
2018-01-18 13:28:07,375 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:28:07,375 - DEBUG - Stop ID database is 0
2018-01-18 13:28:07,376 - DEBUG - Entry ID database is 0
2018-01-18 13:28:09,368 - DEBUG - Connecting to database
2018-01-18 13:28:09,376 - DEBUG - Connected to database
2018-01-18 13:28:09,377 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,378 - DEBUG - Stop loss value is 0
2018-01-18 13:28:09,379 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,379 - DEBUG - Stop loss value is 0
2018-01-18 13:28:09,380 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,381 - DEBUG - EntryPrice value is 0
2018-01-18 13:28:09,382 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,383 - DEBUG - Stop quantity 0
2018-01-18 13:28:09,384 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,385 - DEBUG - Direction is 0
2018-01-18 13:28:09,386 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,386 - DEBUG - Count is 0
2018-01-18 13:28:09,388 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:28:09,388 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:28:09,389 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:28:09,389 - DEBUG - Max ID Order is (108,)
2018-01-18 13:28:09,390 - DEBUG - Today is 2018-01-18
2018-01-18 13:28:09,390 - DEBUG - Day of the week 3
2018-01-18 13:28:09,390 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:28:09,391 - DEBUG - In Position is  0
2018-01-18 13:28:09,391 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:28:09,391 - DEBUG - curStopLossFlag is  0
2018-01-18 13:28:09,391 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:28:09,392 - DEBUG - Checking if Entry has been filled
2018-01-18 13:28:09,392 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:28:09,393 - DEBUG - EntryPend is 0
2018-01-18 13:28:09,393 - DEBUG - Try to Cancel Stop
2018-01-18 13:28:09,394 - DEBUG - Stop API ID 0
2018-01-18 13:28:09,394 - DEBUG - Profit API ID 0
2018-01-18 13:28:09,394 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:28:09,394 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:28:09,395 - DEBUG - Pos is 0
2018-01-18 13:28:09,395 - DEBUG - CurCount is 0
2018-01-18 13:28:09,395 - DEBUG - In Pos 0
2018-01-18 13:28:09,395 - DEBUG - Stop ID is 0
2018-01-18 13:28:09,395 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:28:09,397 - DEBUG - EntryPend is 0
2018-01-18 13:28:09,397 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:28:09,397 - DEBUG - Entry Date is 10
2018-01-18 13:28:09,398 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:28:09,398 - DEBUG - Order Profit ID is 0
2018-01-18 13:28:09,398 - DEBUG - Order Entry ID is 0
2018-01-18 13:28:09,398 - DEBUG - API ID is  0
2018-01-18 13:28:09,398 - DEBUG - Current Position is 0
2018-01-18 13:28:09,399 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:28:09,399 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:28:09,399 - DEBUG - Time is 13
2018-01-18 13:28:09,399 - DEBUG - Time is <class 'int'>
2018-01-18 13:28:09,400 - DEBUG - Time is 28
2018-01-18 13:28:09,400 - DEBUG - Time is <class 'int'>
2018-01-18 13:28:09,400 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-18 13:28:09,400 - ERROR - Canceled Order 0
2018-01-18 13:28:09,401 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-18 13:28:09,415 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-18 13:28:09,430 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-18 13:28:09,443 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-18 13:28:09,457 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-18 13:28:09,470 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-18 13:28:09,483 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-18 13:28:09,497 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-18 13:28:09,511 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-18 13:28:09,525 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-18 13:28:09,538 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-18 13:28:09,552 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-18 13:28:09,572 - DEBUG - Disconnected from IBController
2018-01-18 13:28:09,572 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:33:05,326 - DEBUG - ****************************************************
2018-01-18 13:33:05,327 - DEBUG - Current Time is 01:33PM
2018-01-18 13:33:05,327 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:33:05,328 - DEBUG - Connecting to database
2018-01-18 13:33:05,358 - DEBUG - Connected to database
2018-01-18 13:33:05,358 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:05,360 - DEBUG - Order Profit is 0
2018-01-18 13:33:05,360 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:05,362 - DEBUG - Stop ID is 0
2018-01-18 13:33:05,362 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:05,363 - DEBUG - Entry ID is 0
2018-01-18 13:33:05,364 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:33:05,365 - DEBUG - OCA ID is 1
2018-01-18 13:33:05,365 - DEBUG - Connecting to IBController
2018-01-18 13:33:06,368 - DEBUG - Connected to IBController
2018-01-18 13:33:06,368 - DEBUG - Position requested
2018-01-18 13:33:06,369 - DEBUG - Pos Mgmt -12987
2018-01-18 13:33:06,369 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBA20>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:33:06,370 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:33:06,370 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:33:06,370 - DEBUG - Position is -12987
2018-01-18 13:33:07,369 - DEBUG - Open Orders requested
2018-01-18 13:33:07,371 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x00000000020EBA90>, order=<ib.ext.Order.Order object at 0x00000000020EBCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021800F0>>
2018-01-18 13:33:07,371 - DEBUG - Order OrderID 106
2018-01-18 13:33:07,372 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:33:07,372 - DEBUG - Order status PreSubmitted
2018-01-18 13:33:07,372 - DEBUG - Order Identification 106
2018-01-18 13:33:07,373 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:33:07,373 - DEBUG - Profit ID from database is 0
2018-01-18 13:33:07,373 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:33:07,373 - DEBUG - Stop ID database is 0
2018-01-18 13:33:07,374 - DEBUG - Entry ID database is 0
2018-01-18 13:33:07,375 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x00000000020EBF98>, order=<ib.ext.Order.Order object at 0x00000000020EBCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002180080>>
2018-01-18 13:33:07,375 - DEBUG - Order OrderID 107
2018-01-18 13:33:07,376 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:33:07,376 - DEBUG - Order status PreSubmitted
2018-01-18 13:33:07,376 - DEBUG - Order Identification 107
2018-01-18 13:33:07,376 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:33:07,377 - DEBUG - Profit ID from database is 0
2018-01-18 13:33:07,377 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:33:07,377 - DEBUG - Stop ID database is 0
2018-01-18 13:33:07,377 - DEBUG - Entry ID database is 0
2018-01-18 13:33:09,371 - DEBUG - Connecting to database
2018-01-18 13:33:09,378 - DEBUG - Connected to database
2018-01-18 13:33:09,379 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,380 - DEBUG - Stop loss value is 0
2018-01-18 13:33:09,381 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,381 - DEBUG - Stop loss value is 0
2018-01-18 13:33:09,382 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,383 - DEBUG - EntryPrice value is 0
2018-01-18 13:33:09,384 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,384 - DEBUG - Stop quantity 0
2018-01-18 13:33:09,386 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,386 - DEBUG - Direction is 0
2018-01-18 13:33:09,387 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,387 - DEBUG - Count is 0
2018-01-18 13:33:09,389 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:33:09,389 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:33:09,390 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:33:09,391 - DEBUG - Max ID Order is (108,)
2018-01-18 13:33:09,391 - DEBUG - Today is 2018-01-18
2018-01-18 13:33:09,391 - DEBUG - Day of the week 3
2018-01-18 13:33:09,392 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:33:09,392 - DEBUG - In Position is  0
2018-01-18 13:33:09,392 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:33:09,392 - DEBUG - curStopLossFlag is  0
2018-01-18 13:33:09,393 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:33:09,393 - DEBUG - Checking if Entry has been filled
2018-01-18 13:33:09,393 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:33:09,394 - DEBUG - EntryPend is 0
2018-01-18 13:33:09,395 - DEBUG - Try to Cancel Stop
2018-01-18 13:33:09,395 - DEBUG - Stop API ID 0
2018-01-18 13:33:09,395 - DEBUG - Profit API ID 0
2018-01-18 13:33:09,395 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:33:09,395 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:33:09,396 - DEBUG - Pos is 0
2018-01-18 13:33:09,396 - DEBUG - CurCount is 0
2018-01-18 13:33:09,396 - DEBUG - In Pos 0
2018-01-18 13:33:09,396 - DEBUG - Stop ID is 0
2018-01-18 13:33:09,397 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:33:09,398 - DEBUG - EntryPend is 0
2018-01-18 13:33:09,398 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:33:09,398 - DEBUG - Entry Date is 10
2018-01-18 13:33:09,399 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:33:09,399 - DEBUG - Order Profit ID is 0
2018-01-18 13:33:09,399 - DEBUG - Order Entry ID is 0
2018-01-18 13:33:09,399 - DEBUG - API ID is  0
2018-01-18 13:33:09,399 - DEBUG - Current Position is 0
2018-01-18 13:33:09,400 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:33:09,400 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:33:09,400 - DEBUG - Time is 13
2018-01-18 13:33:09,400 - DEBUG - Time is <class 'int'>
2018-01-18 13:33:09,401 - DEBUG - Time is 33
2018-01-18 13:33:09,401 - DEBUG - Time is <class 'int'>
2018-01-18 13:33:09,401 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-18 13:33:09,401 - ERROR - Canceled Order 0
2018-01-18 13:33:09,402 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-18 13:33:09,416 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-18 13:33:09,429 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-18 13:33:09,442 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-18 13:33:09,455 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-18 13:33:09,469 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-18 13:33:09,482 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-18 13:33:09,495 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-18 13:33:09,508 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-18 13:33:09,521 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-18 13:33:09,534 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-18 13:33:09,548 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-18 13:33:09,561 - DEBUG - Disconnected from IBController
2018-01-18 13:33:09,561 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-18 13:38:05,365 - DEBUG - ****************************************************
2018-01-18 13:38:05,366 - DEBUG - Current Time is 01:38PM
2018-01-18 13:38:05,366 - DEBUG - Starting Pos Mgmt H E
2018-01-18 13:38:05,367 - DEBUG - Connecting to database
2018-01-18 13:38:05,385 - DEBUG - Connected to database
2018-01-18 13:38:05,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:05,387 - DEBUG - Order Profit is 0
2018-01-18 13:38:05,387 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:05,388 - DEBUG - Stop ID is 0
2018-01-18 13:38:05,389 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:05,390 - DEBUG - Entry ID is 0
2018-01-18 13:38:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-18 13:38:05,391 - DEBUG - OCA ID is 1
2018-01-18 13:38:05,392 - DEBUG - Connecting to IBController
2018-01-18 13:38:06,395 - DEBUG - Connected to IBController
2018-01-18 13:38:06,395 - DEBUG - Position requested
2018-01-18 13:38:06,398 - DEBUG - Pos Mgmt -12987
2018-01-18 13:38:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C6CE10>, pos=-12987, avgCost=0.95368235>
2018-01-18 13:38:06,399 - DEBUG - ccy1 Symbol with position is NZD
2018-01-18 13:38:06,399 - DEBUG - ccy2 Currency with position is CAD
2018-01-18 13:38:06,399 - DEBUG - Position is -12987
2018-01-18 13:38:07,399 - DEBUG - Open Orders requested
2018-01-18 13:38:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=106, contract=<ib.ext.Contract.Contract object at 0x0000000001C6CCF8>, order=<ib.ext.Order.Order object at 0x0000000001C6CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-18 13:38:07,401 - DEBUG - Order OrderID 106
2018-01-18 13:38:07,402 - DEBUG - reply handler status <orderStatus orderId=106, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=830484109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:38:07,402 - DEBUG - Order status PreSubmitted
2018-01-18 13:38:07,403 - DEBUG - Order Identification 106
2018-01-18 13:38:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:38:07,403 - DEBUG - Profit ID from database is 0
2018-01-18 13:38:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:38:07,404 - DEBUG - Stop ID database is 0
2018-01-18 13:38:07,404 - DEBUG - Entry ID database is 0
2018-01-18 13:38:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=107, contract=<ib.ext.Contract.Contract object at 0x0000000001C6CEB8>, order=<ib.ext.Order.Order object at 0x0000000001C6CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A20F0>>
2018-01-18 13:38:07,405 - DEBUG - Order OrderID 107
2018-01-18 13:38:07,406 - DEBUG - reply handler status <orderStatus orderId=107, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=830484110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-18 13:38:07,407 - DEBUG - Order status PreSubmitted
2018-01-18 13:38:07,407 - DEBUG - Order Identification 107
2018-01-18 13:38:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-18 13:38:07,407 - DEBUG - Profit ID from database is 0
2018-01-18 13:38:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-18 13:38:07,408 - DEBUG - Stop ID database is 0
2018-01-18 13:38:07,408 - DEBUG - Entry ID database is 0
2018-01-18 13:38:09,399 - DEBUG - Connecting to database
2018-01-18 13:38:09,406 - DEBUG - Connected to database
2018-01-18 13:38:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,408 - DEBUG - Stop loss value is 0
2018-01-18 13:38:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,409 - DEBUG - Stop loss value is 0
2018-01-18 13:38:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,411 - DEBUG - EntryPrice value is 0
2018-01-18 13:38:09,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,413 - DEBUG - Stop quantity 0
2018-01-18 13:38:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,414 - DEBUG - Direction is 0
2018-01-18 13:38:09,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,416 - DEBUG - Count is 0
2018-01-18 13:38:09,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-18 13:38:09,418 - DEBUG - Stop Loss Flag is 0
2018-01-18 13:38:09,419 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-18 13:38:09,419 - DEBUG - Max ID Order is (108,)
2018-01-18 13:38:09,420 - DEBUG - Today is 2018-01-18
2018-01-18 13:38:09,420 - DEBUG - Day of the week 3
2018-01-18 13:38:09,420 - DEBUG - Yesterday is 01/17/2018
2018-01-18 13:38:09,421 - DEBUG - In Position is  0
2018-01-18 13:38:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-18 13:38:09,421 - DEBUG - curStopLossFlag is  0
2018-01-18 13:38:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-18 13:38:09,421 - DEBUG - Checking if Entry has been filled
2018-01-18 13:38:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:38:09,423 - DEBUG - EntryPend is 0
2018-01-18 13:38:09,423 - DEBUG - Try to Cancel Stop
2018-01-18 13:38:09,423 - DEBUG - Stop API ID 0
2018-01-18 13:38:09,424 - DEBUG - Profit API ID 0
2018-01-18 13:38:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-18 13:38:09,424 - DEBUG - Profit API ID <class 'int'>
2018-01-18 13:38:09,424 - DEBUG - Pos is 0
2018-01-18 13:38:09,425 - DEBUG - CurCount is 0
2018-01-18 13:38:09,425 - DEBUG - In Pos 0
2018-01-18 13:38:09,425 - DEBUG - Stop ID is 0
2018-01-18 13:38:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-18 13:38:09,427 - DEBUG - EntryPend is 0
2018-01-18 13:38:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-18 13:38:09,427 - DEBUG - Entry Date is 10
2018-01-18 13:38:09,427 - DEBUG - confirming yesterday is 01/17/2018
2018-01-18 13:38:09,427 - DEBUG - Order Profit ID is 0
2018-01-18 13:38:09,428 - DEBUG - Order Entry ID is 0
2018-01-18 13:38:09,428 - DEBUG - API ID is  0
2018-01-18 13:38:09,428 - DEBUG - Current Position is 0
2018-01-18 13:38:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-18 13:38:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-18 13:38:09,429 - DEBUG - Time is 13
2018-01-18 13:38:09,429 - DEBUG - Time is <class 'int'>
2018-01-18 13:38:09,429 - DEBUG - Time is 38
2018-01-18 13:38:09,429 - DEBUG - Time is <class 'int'>
2018-01-18 13:38:09,430 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-18 13:38:09,430 - ERROR - Canceled Order 0
2018-01-18 13:38:09,431 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-18 13:38:09,445 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-18 13:38:09,458 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-18 13:38:09,471 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-18 13:38:09,484 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-18 13:38:09,499 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-18 13:38:09,511 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-18 13:38:09,525 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-18 13:38:09,538 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-18 13:38:09,550 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-18 13:38:09,563 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-18 13:38:09,576 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-18 13:38:09,590 - DEBUG - Disconnected from IBController
2018-01-18 13:38:09,590 - DEBUG - END POS MGMT SCRIPT :-!
