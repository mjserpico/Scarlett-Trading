2018-02-26 02:10:00,409 - DEBUG - ****************************************************
2018-02-26 02:10:00,409 - DEBUG - Current Time is 02:10AM
2018-02-26 02:10:00,410 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:10:00,410 - DEBUG - Connecting to database
2018-02-26 02:10:00,433 - DEBUG - Connected to database
2018-02-26 02:10:00,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:00,435 - DEBUG - Order Profit is 228
2018-02-26 02:10:00,435 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:00,437 - DEBUG - Stop ID is 0
2018-02-26 02:10:00,437 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:00,438 - DEBUG - Entry ID is 228
2018-02-26 02:10:00,439 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:10:00,440 - DEBUG - OCA ID is 1
2018-02-26 02:10:00,440 - DEBUG - Connecting to IBController
2018-02-26 02:10:01,449 - DEBUG - Connected to IBController
2018-02-26 02:10:01,449 - DEBUG - Position requested
2018-02-26 02:10:01,451 - DEBUG - Pos Mgmt -12987
2018-02-26 02:10:01,451 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:10:01,452 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:10:01,452 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:10:01,452 - DEBUG - Position is -12987
2018-02-26 02:10:02,451 - DEBUG - Open Orders requested
2018-02-26 02:10:02,455 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122160>>
2018-02-26 02:10:02,457 - DEBUG - Order OrderID 225
2018-02-26 02:10:02,458 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:10:02,458 - DEBUG - Order status PreSubmitted
2018-02-26 02:10:02,458 - DEBUG - Order Identification 225
2018-02-26 02:10:02,459 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:10:02,459 - DEBUG - Profit ID from database is 228
2018-02-26 02:10:02,459 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:10:02,459 - DEBUG - Stop ID database is 0
2018-02-26 02:10:02,459 - DEBUG - Entry ID database is 228
2018-02-26 02:10:02,461 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122080>>
2018-02-26 02:10:02,461 - DEBUG - Order OrderID 227
2018-02-26 02:10:02,461 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:10:02,462 - DEBUG - Order status PreSubmitted
2018-02-26 02:10:02,462 - DEBUG - Order Identification 227
2018-02-26 02:10:02,462 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:10:02,462 - DEBUG - Profit ID from database is 228
2018-02-26 02:10:02,463 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:10:02,463 - DEBUG - Stop ID database is 0
2018-02-26 02:10:02,463 - DEBUG - Entry ID database is 228
2018-02-26 02:10:04,457 - DEBUG - Connecting to database
2018-02-26 02:10:04,464 - DEBUG - Connected to database
2018-02-26 02:10:04,466 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,466 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:10:04,468 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,468 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:10:04,469 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,470 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:10:04,471 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,471 - DEBUG - Stop quantity 1
2018-02-26 02:10:04,473 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,473 - DEBUG - Direction is Short
2018-02-26 02:10:04,474 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,475 - DEBUG - Count is 0
2018-02-26 02:10:04,476 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:10:04,476 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:10:04,478 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:10:04,478 - DEBUG - Max ID Order is (228,)
2018-02-26 02:10:04,479 - DEBUG - Today is 2018-02-26
2018-02-26 02:10:04,479 - DEBUG - Day of the week 0
2018-02-26 02:10:04,479 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:10:04,479 - DEBUG - In Position is  0
2018-02-26 02:10:04,480 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:10:04,480 - DEBUG - curStopLossFlag is  0
2018-02-26 02:10:04,480 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:10:04,480 - DEBUG - Checking if Entry has been filled
2018-02-26 02:10:04,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:10:04,482 - DEBUG - EntryPend is 1
2018-02-26 02:10:04,482 - DEBUG - Try to Cancel Stop
2018-02-26 02:10:04,482 - DEBUG - Stop API ID 0
2018-02-26 02:10:04,483 - DEBUG - Profit API ID 0
2018-02-26 02:10:04,483 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:10:04,483 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:10:04,483 - DEBUG - Pos is 0
2018-02-26 02:10:04,484 - DEBUG - CurCount is 0
2018-02-26 02:10:04,484 - DEBUG - In Pos 0
2018-02-26 02:10:04,484 - DEBUG - Stop ID is 0
2018-02-26 02:10:04,484 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:10:04,486 - DEBUG - EntryPend is 1
2018-02-26 02:10:04,486 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:10:04,486 - DEBUG - Entry Date is 10
2018-02-26 02:10:04,486 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:10:04,486 - DEBUG - Order Profit ID is 228
2018-02-26 02:10:04,487 - DEBUG - Order Entry ID is 228
2018-02-26 02:10:04,487 - DEBUG - API ID is  0
2018-02-26 02:10:04,487 - DEBUG - Current Position is 0
2018-02-26 02:10:04,487 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:10:04,488 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:10:04,488 - DEBUG - Time is 2
2018-02-26 02:10:04,488 - DEBUG - Time is <class 'int'>
2018-02-26 02:10:04,488 - DEBUG - Disconnected from IBController
2018-02-26 02:10:04,489 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:15:00,267 - DEBUG - ****************************************************
2018-02-26 02:15:00,267 - DEBUG - Current Time is 02:15AM
2018-02-26 02:15:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:15:00,268 - DEBUG - Connecting to database
2018-02-26 02:15:00,346 - DEBUG - Connected to database
2018-02-26 02:15:00,347 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:00,349 - DEBUG - Order Profit is 228
2018-02-26 02:15:00,349 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:00,350 - DEBUG - Stop ID is 0
2018-02-26 02:15:00,351 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:00,352 - DEBUG - Entry ID is 228
2018-02-26 02:15:00,352 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:15:00,354 - DEBUG - OCA ID is 1
2018-02-26 02:15:00,354 - DEBUG - Connecting to IBController
2018-02-26 02:15:01,372 - DEBUG - Connected to IBController
2018-02-26 02:15:01,372 - DEBUG - Position requested
2018-02-26 02:15:01,374 - DEBUG - Pos Mgmt -12987
2018-02-26 02:15:01,374 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:15:01,375 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:15:01,375 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:15:01,375 - DEBUG - Position is -12987
2018-02-26 02:15:02,373 - DEBUG - Open Orders requested
2018-02-26 02:15:02,378 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, order=<ib.ext.Order.Order object at 0x000000000207CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 02:15:02,378 - DEBUG - Order OrderID 225
2018-02-26 02:15:02,379 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:15:02,379 - DEBUG - Order status PreSubmitted
2018-02-26 02:15:02,379 - DEBUG - Order Identification 225
2018-02-26 02:15:02,380 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:15:02,380 - DEBUG - Profit ID from database is 228
2018-02-26 02:15:02,380 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:15:02,380 - DEBUG - Stop ID database is 0
2018-02-26 02:15:02,381 - DEBUG - Entry ID database is 228
2018-02-26 02:15:02,382 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, order=<ib.ext.Order.Order object at 0x000000000207CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 02:15:02,382 - DEBUG - Order OrderID 227
2018-02-26 02:15:02,383 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:15:02,383 - DEBUG - Order status PreSubmitted
2018-02-26 02:15:02,383 - DEBUG - Order Identification 227
2018-02-26 02:15:02,383 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:15:02,384 - DEBUG - Profit ID from database is 228
2018-02-26 02:15:02,384 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:15:02,384 - DEBUG - Stop ID database is 0
2018-02-26 02:15:02,384 - DEBUG - Entry ID database is 228
2018-02-26 02:15:04,378 - DEBUG - Connecting to database
2018-02-26 02:15:04,385 - DEBUG - Connected to database
2018-02-26 02:15:04,387 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,387 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:15:04,389 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,389 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:15:04,390 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,391 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:15:04,392 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,392 - DEBUG - Stop quantity 1
2018-02-26 02:15:04,394 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,394 - DEBUG - Direction is Short
2018-02-26 02:15:04,396 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,396 - DEBUG - Count is 0
2018-02-26 02:15:04,397 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:15:04,398 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:15:04,399 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:15:04,399 - DEBUG - Max ID Order is (228,)
2018-02-26 02:15:04,400 - DEBUG - Today is 2018-02-26
2018-02-26 02:15:04,400 - DEBUG - Day of the week 0
2018-02-26 02:15:04,400 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:15:04,401 - DEBUG - In Position is  0
2018-02-26 02:15:04,401 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:15:04,401 - DEBUG - curStopLossFlag is  0
2018-02-26 02:15:04,401 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:15:04,402 - DEBUG - Checking if Entry has been filled
2018-02-26 02:15:04,402 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:15:04,403 - DEBUG - EntryPend is 1
2018-02-26 02:15:04,404 - DEBUG - Try to Cancel Stop
2018-02-26 02:15:04,404 - DEBUG - Stop API ID 0
2018-02-26 02:15:04,404 - DEBUG - Profit API ID 0
2018-02-26 02:15:04,404 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:15:04,404 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:15:04,405 - DEBUG - Pos is 0
2018-02-26 02:15:04,405 - DEBUG - CurCount is 0
2018-02-26 02:15:04,405 - DEBUG - In Pos 0
2018-02-26 02:15:04,405 - DEBUG - Stop ID is 0
2018-02-26 02:15:04,405 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:15:04,407 - DEBUG - EntryPend is 1
2018-02-26 02:15:04,407 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:15:04,407 - DEBUG - Entry Date is 10
2018-02-26 02:15:04,408 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:15:04,408 - DEBUG - Order Profit ID is 228
2018-02-26 02:15:04,408 - DEBUG - Order Entry ID is 228
2018-02-26 02:15:04,408 - DEBUG - API ID is  0
2018-02-26 02:15:04,408 - DEBUG - Current Position is 0
2018-02-26 02:15:04,409 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:15:04,409 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:15:04,409 - DEBUG - Time is 2
2018-02-26 02:15:04,409 - DEBUG - Time is <class 'int'>
2018-02-26 02:15:04,410 - DEBUG - Disconnected from IBController
2018-02-26 02:15:04,410 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:20:00,268 - DEBUG - ****************************************************
2018-02-26 02:20:00,268 - DEBUG - Current Time is 02:20AM
2018-02-26 02:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:20:00,269 - DEBUG - Connecting to database
2018-02-26 02:20:00,331 - DEBUG - Connected to database
2018-02-26 02:20:00,331 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:00,333 - DEBUG - Order Profit is 228
2018-02-26 02:20:00,333 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:00,335 - DEBUG - Stop ID is 0
2018-02-26 02:20:00,335 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:00,348 - DEBUG - Entry ID is 228
2018-02-26 02:20:00,348 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:20:00,350 - DEBUG - OCA ID is 1
2018-02-26 02:20:00,350 - DEBUG - Connecting to IBController
2018-02-26 02:20:01,357 - DEBUG - Connected to IBController
2018-02-26 02:20:01,357 - DEBUG - Position requested
2018-02-26 02:20:01,363 - DEBUG - Pos Mgmt -12987
2018-02-26 02:20:01,363 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:20:01,367 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:20:01,367 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:20:01,368 - DEBUG - Position is -12987
2018-02-26 02:20:02,358 - DEBUG - Open Orders requested
2018-02-26 02:20:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203BBA8>, order=<ib.ext.Order.Order object at 0x000000000203BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D00F0>>
2018-02-26 02:20:02,362 - DEBUG - Order OrderID 225
2018-02-26 02:20:02,362 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:20:02,363 - DEBUG - Order status PreSubmitted
2018-02-26 02:20:02,363 - DEBUG - Order Identification 225
2018-02-26 02:20:02,363 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:20:02,363 - DEBUG - Profit ID from database is 228
2018-02-26 02:20:02,363 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:20:02,364 - DEBUG - Stop ID database is 0
2018-02-26 02:20:02,364 - DEBUG - Entry ID database is 228
2018-02-26 02:20:02,365 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203BFD0>, order=<ib.ext.Order.Order object at 0x000000000203BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0160>>
2018-02-26 02:20:02,365 - DEBUG - Order OrderID 227
2018-02-26 02:20:02,366 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:20:02,366 - DEBUG - Order status PreSubmitted
2018-02-26 02:20:02,366 - DEBUG - Order Identification 227
2018-02-26 02:20:02,367 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:20:02,367 - DEBUG - Profit ID from database is 228
2018-02-26 02:20:02,367 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:20:02,367 - DEBUG - Stop ID database is 0
2018-02-26 02:20:02,368 - DEBUG - Entry ID database is 228
2018-02-26 02:20:04,360 - DEBUG - Connecting to database
2018-02-26 02:20:04,367 - DEBUG - Connected to database
2018-02-26 02:20:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,369 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:20:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,371 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:20:04,372 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,373 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:20:04,374 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,375 - DEBUG - Stop quantity 1
2018-02-26 02:20:04,378 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,378 - DEBUG - Direction is Short
2018-02-26 02:20:04,379 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,380 - DEBUG - Count is 0
2018-02-26 02:20:04,381 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:20:04,382 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:20:04,388 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:20:04,388 - DEBUG - Max ID Order is (228,)
2018-02-26 02:20:04,389 - DEBUG - Today is 2018-02-26
2018-02-26 02:20:04,389 - DEBUG - Day of the week 0
2018-02-26 02:20:04,389 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:20:04,389 - DEBUG - In Position is  0
2018-02-26 02:20:04,390 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:20:04,390 - DEBUG - curStopLossFlag is  0
2018-02-26 02:20:04,390 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:20:04,390 - DEBUG - Checking if Entry has been filled
2018-02-26 02:20:04,390 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:20:04,392 - DEBUG - EntryPend is 1
2018-02-26 02:20:04,392 - DEBUG - Try to Cancel Stop
2018-02-26 02:20:04,392 - DEBUG - Stop API ID 0
2018-02-26 02:20:04,393 - DEBUG - Profit API ID 0
2018-02-26 02:20:04,393 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:20:04,393 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:20:04,393 - DEBUG - Pos is 0
2018-02-26 02:20:04,394 - DEBUG - CurCount is 0
2018-02-26 02:20:04,394 - DEBUG - In Pos 0
2018-02-26 02:20:04,394 - DEBUG - Stop ID is 0
2018-02-26 02:20:04,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:20:04,396 - DEBUG - EntryPend is 1
2018-02-26 02:20:04,396 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:20:04,396 - DEBUG - Entry Date is 10
2018-02-26 02:20:04,397 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:20:04,397 - DEBUG - Order Profit ID is 228
2018-02-26 02:20:04,397 - DEBUG - Order Entry ID is 228
2018-02-26 02:20:04,397 - DEBUG - API ID is  0
2018-02-26 02:20:04,398 - DEBUG - Current Position is 0
2018-02-26 02:20:04,398 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:20:04,398 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:20:04,398 - DEBUG - Time is 2
2018-02-26 02:20:04,399 - DEBUG - Time is <class 'int'>
2018-02-26 02:20:04,399 - DEBUG - Disconnected from IBController
2018-02-26 02:20:04,399 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:25:00,262 - DEBUG - ****************************************************
2018-02-26 02:25:00,263 - DEBUG - Current Time is 02:25AM
2018-02-26 02:25:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:25:00,263 - DEBUG - Connecting to database
2018-02-26 02:25:00,302 - DEBUG - Connected to database
2018-02-26 02:25:00,303 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:00,304 - DEBUG - Order Profit is 228
2018-02-26 02:25:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:00,306 - DEBUG - Stop ID is 0
2018-02-26 02:25:00,306 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:00,307 - DEBUG - Entry ID is 228
2018-02-26 02:25:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:25:00,309 - DEBUG - OCA ID is 1
2018-02-26 02:25:00,309 - DEBUG - Connecting to IBController
2018-02-26 02:25:01,320 - DEBUG - Connected to IBController
2018-02-26 02:25:01,320 - DEBUG - Position requested
2018-02-26 02:25:01,324 - DEBUG - Pos Mgmt -12987
2018-02-26 02:25:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:25:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:25:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:25:01,326 - DEBUG - Position is -12987
2018-02-26 02:25:02,322 - DEBUG - Open Orders requested
2018-02-26 02:25:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 02:25:02,326 - DEBUG - Order OrderID 225
2018-02-26 02:25:02,326 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:25:02,326 - DEBUG - Order status PreSubmitted
2018-02-26 02:25:02,334 - DEBUG - Order Identification 225
2018-02-26 02:25:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:25:02,334 - DEBUG - Profit ID from database is 228
2018-02-26 02:25:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:25:02,335 - DEBUG - Stop ID database is 0
2018-02-26 02:25:02,335 - DEBUG - Entry ID database is 228
2018-02-26 02:25:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121048>>
2018-02-26 02:25:02,336 - DEBUG - Order OrderID 227
2018-02-26 02:25:02,337 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:25:02,337 - DEBUG - Order status PreSubmitted
2018-02-26 02:25:02,337 - DEBUG - Order Identification 227
2018-02-26 02:25:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:25:02,338 - DEBUG - Profit ID from database is 228
2018-02-26 02:25:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:25:02,338 - DEBUG - Stop ID database is 0
2018-02-26 02:25:02,338 - DEBUG - Entry ID database is 228
2018-02-26 02:25:04,325 - DEBUG - Connecting to database
2018-02-26 02:25:04,332 - DEBUG - Connected to database
2018-02-26 02:25:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,334 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:25:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,336 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:25:04,337 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,338 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:25:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,339 - DEBUG - Stop quantity 1
2018-02-26 02:25:04,340 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,341 - DEBUG - Direction is Short
2018-02-26 02:25:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,342 - DEBUG - Count is 0
2018-02-26 02:25:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:25:04,344 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:25:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:25:04,346 - DEBUG - Max ID Order is (228,)
2018-02-26 02:25:04,346 - DEBUG - Today is 2018-02-26
2018-02-26 02:25:04,347 - DEBUG - Day of the week 0
2018-02-26 02:25:04,347 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:25:04,347 - DEBUG - In Position is  0
2018-02-26 02:25:04,347 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:25:04,348 - DEBUG - curStopLossFlag is  0
2018-02-26 02:25:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:25:04,348 - DEBUG - Checking if Entry has been filled
2018-02-26 02:25:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:25:04,350 - DEBUG - EntryPend is 1
2018-02-26 02:25:04,350 - DEBUG - Try to Cancel Stop
2018-02-26 02:25:04,350 - DEBUG - Stop API ID 0
2018-02-26 02:25:04,350 - DEBUG - Profit API ID 0
2018-02-26 02:25:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:25:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:25:04,351 - DEBUG - Pos is 0
2018-02-26 02:25:04,351 - DEBUG - CurCount is 0
2018-02-26 02:25:04,351 - DEBUG - In Pos 0
2018-02-26 02:25:04,352 - DEBUG - Stop ID is 0
2018-02-26 02:25:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:25:04,354 - DEBUG - EntryPend is 1
2018-02-26 02:25:04,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:25:04,354 - DEBUG - Entry Date is 10
2018-02-26 02:25:04,354 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:25:04,354 - DEBUG - Order Profit ID is 228
2018-02-26 02:25:04,355 - DEBUG - Order Entry ID is 228
2018-02-26 02:25:04,355 - DEBUG - API ID is  0
2018-02-26 02:25:04,355 - DEBUG - Current Position is 0
2018-02-26 02:25:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:25:04,356 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:25:04,356 - DEBUG - Time is 2
2018-02-26 02:25:04,356 - DEBUG - Time is <class 'int'>
2018-02-26 02:25:04,356 - DEBUG - Disconnected from IBController
2018-02-26 02:25:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:30:00,268 - DEBUG - ****************************************************
2018-02-26 02:30:00,269 - DEBUG - Current Time is 02:30AM
2018-02-26 02:30:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:30:00,269 - DEBUG - Connecting to database
2018-02-26 02:30:00,431 - DEBUG - Connected to database
2018-02-26 02:30:00,431 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:00,447 - DEBUG - Order Profit is 228
2018-02-26 02:30:00,448 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:00,466 - DEBUG - Stop ID is 0
2018-02-26 02:30:00,466 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:00,472 - DEBUG - Entry ID is 228
2018-02-26 02:30:00,472 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:30:00,475 - DEBUG - OCA ID is 1
2018-02-26 02:30:00,475 - DEBUG - Connecting to IBController
2018-02-26 02:30:01,491 - DEBUG - Connected to IBController
2018-02-26 02:30:01,491 - DEBUG - Position requested
2018-02-26 02:30:01,493 - DEBUG - Pos Mgmt -12987
2018-02-26 02:30:01,498 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:30:01,499 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:30:01,499 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:30:01,499 - DEBUG - Position is -12987
2018-02-26 02:30:02,498 - DEBUG - Open Orders requested
2018-02-26 02:30:02,501 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, order=<ib.ext.Order.Order object at 0x000000000202DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2160>>
2018-02-26 02:30:02,502 - DEBUG - Order OrderID 225
2018-02-26 02:30:02,502 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:30:02,502 - DEBUG - Order status PreSubmitted
2018-02-26 02:30:02,503 - DEBUG - Order Identification 225
2018-02-26 02:30:02,503 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:30:02,503 - DEBUG - Profit ID from database is 228
2018-02-26 02:30:02,503 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:30:02,504 - DEBUG - Stop ID database is 0
2018-02-26 02:30:02,504 - DEBUG - Entry ID database is 228
2018-02-26 02:30:02,512 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, order=<ib.ext.Order.Order object at 0x000000000202DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2128>>
2018-02-26 02:30:02,513 - DEBUG - Order OrderID 227
2018-02-26 02:30:02,513 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:30:02,513 - DEBUG - Order status PreSubmitted
2018-02-26 02:30:02,514 - DEBUG - Order Identification 227
2018-02-26 02:30:02,514 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:30:02,514 - DEBUG - Profit ID from database is 228
2018-02-26 02:30:02,514 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:30:02,515 - DEBUG - Stop ID database is 0
2018-02-26 02:30:02,515 - DEBUG - Entry ID database is 228
2018-02-26 02:30:04,501 - DEBUG - Connecting to database
2018-02-26 02:30:04,508 - DEBUG - Connected to database
2018-02-26 02:30:04,509 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,510 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:30:04,511 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,511 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:30:04,513 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,513 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:30:04,515 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,515 - DEBUG - Stop quantity 1
2018-02-26 02:30:04,516 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,516 - DEBUG - Direction is Short
2018-02-26 02:30:04,518 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,518 - DEBUG - Count is 0
2018-02-26 02:30:04,519 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:30:04,520 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:30:04,521 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:30:04,521 - DEBUG - Max ID Order is (228,)
2018-02-26 02:30:04,522 - DEBUG - Today is 2018-02-26
2018-02-26 02:30:04,522 - DEBUG - Day of the week 0
2018-02-26 02:30:04,522 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:30:04,523 - DEBUG - In Position is  0
2018-02-26 02:30:04,523 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:30:04,523 - DEBUG - curStopLossFlag is  0
2018-02-26 02:30:04,524 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:30:04,524 - DEBUG - Checking if Entry has been filled
2018-02-26 02:30:04,524 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:30:04,525 - DEBUG - EntryPend is 1
2018-02-26 02:30:04,526 - DEBUG - Try to Cancel Stop
2018-02-26 02:30:04,526 - DEBUG - Stop API ID 0
2018-02-26 02:30:04,526 - DEBUG - Profit API ID 0
2018-02-26 02:30:04,526 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:30:04,526 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:30:04,527 - DEBUG - Pos is 0
2018-02-26 02:30:04,527 - DEBUG - CurCount is 0
2018-02-26 02:30:04,527 - DEBUG - In Pos 0
2018-02-26 02:30:04,527 - DEBUG - Stop ID is 0
2018-02-26 02:30:04,528 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:30:04,529 - DEBUG - EntryPend is 1
2018-02-26 02:30:04,529 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:30:04,529 - DEBUG - Entry Date is 10
2018-02-26 02:30:04,530 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:30:04,530 - DEBUG - Order Profit ID is 228
2018-02-26 02:30:04,530 - DEBUG - Order Entry ID is 228
2018-02-26 02:30:04,530 - DEBUG - API ID is  0
2018-02-26 02:30:04,531 - DEBUG - Current Position is 0
2018-02-26 02:30:04,531 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:30:04,531 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:30:04,531 - DEBUG - Time is 2
2018-02-26 02:30:04,532 - DEBUG - Time is <class 'int'>
2018-02-26 02:30:04,532 - DEBUG - Disconnected from IBController
2018-02-26 02:30:04,532 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:35:00,279 - DEBUG - ****************************************************
2018-02-26 02:35:00,280 - DEBUG - Current Time is 02:35AM
2018-02-26 02:35:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:35:00,281 - DEBUG - Connecting to database
2018-02-26 02:35:00,311 - DEBUG - Connected to database
2018-02-26 02:35:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:00,313 - DEBUG - Order Profit is 228
2018-02-26 02:35:00,314 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:00,315 - DEBUG - Stop ID is 0
2018-02-26 02:35:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:00,317 - DEBUG - Entry ID is 228
2018-02-26 02:35:00,317 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:35:00,323 - DEBUG - OCA ID is 1
2018-02-26 02:35:00,324 - DEBUG - Connecting to IBController
2018-02-26 02:35:01,339 - DEBUG - Connected to IBController
2018-02-26 02:35:01,339 - DEBUG - Position requested
2018-02-26 02:35:01,341 - DEBUG - Pos Mgmt -12987
2018-02-26 02:35:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:35:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:35:01,342 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:35:01,342 - DEBUG - Position is -12987
2018-02-26 02:35:02,339 - DEBUG - Open Orders requested
2018-02-26 02:35:02,342 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DD30>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B10F0>>
2018-02-26 02:35:02,342 - DEBUG - Order OrderID 225
2018-02-26 02:35:02,343 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:35:02,343 - DEBUG - Order status PreSubmitted
2018-02-26 02:35:02,343 - DEBUG - Order Identification 225
2018-02-26 02:35:02,344 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:35:02,344 - DEBUG - Profit ID from database is 228
2018-02-26 02:35:02,344 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:35:02,344 - DEBUG - Stop ID database is 0
2018-02-26 02:35:02,345 - DEBUG - Entry ID database is 228
2018-02-26 02:35:02,346 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000201DF98>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1160>>
2018-02-26 02:35:02,346 - DEBUG - Order OrderID 227
2018-02-26 02:35:02,346 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:35:02,347 - DEBUG - Order status PreSubmitted
2018-02-26 02:35:02,347 - DEBUG - Order Identification 227
2018-02-26 02:35:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:35:02,347 - DEBUG - Profit ID from database is 228
2018-02-26 02:35:02,348 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:35:02,348 - DEBUG - Stop ID database is 0
2018-02-26 02:35:02,348 - DEBUG - Entry ID database is 228
2018-02-26 02:35:04,339 - DEBUG - Connecting to database
2018-02-26 02:35:04,348 - DEBUG - Connected to database
2018-02-26 02:35:04,350 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,350 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:35:04,352 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,352 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:35:04,354 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,355 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:35:04,356 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,356 - DEBUG - Stop quantity 1
2018-02-26 02:35:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,358 - DEBUG - Direction is Short
2018-02-26 02:35:04,359 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,360 - DEBUG - Count is 0
2018-02-26 02:35:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:35:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:35:04,363 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:35:04,363 - DEBUG - Max ID Order is (228,)
2018-02-26 02:35:04,363 - DEBUG - Today is 2018-02-26
2018-02-26 02:35:04,364 - DEBUG - Day of the week 0
2018-02-26 02:35:04,364 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:35:04,364 - DEBUG - In Position is  0
2018-02-26 02:35:04,365 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:35:04,365 - DEBUG - curStopLossFlag is  0
2018-02-26 02:35:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:35:04,365 - DEBUG - Checking if Entry has been filled
2018-02-26 02:35:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:35:04,367 - DEBUG - EntryPend is 1
2018-02-26 02:35:04,367 - DEBUG - Try to Cancel Stop
2018-02-26 02:35:04,367 - DEBUG - Stop API ID 0
2018-02-26 02:35:04,368 - DEBUG - Profit API ID 0
2018-02-26 02:35:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:35:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:35:04,368 - DEBUG - Pos is 0
2018-02-26 02:35:04,368 - DEBUG - CurCount is 0
2018-02-26 02:35:04,369 - DEBUG - In Pos 0
2018-02-26 02:35:04,369 - DEBUG - Stop ID is 0
2018-02-26 02:35:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:35:04,371 - DEBUG - EntryPend is 1
2018-02-26 02:35:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:35:04,371 - DEBUG - Entry Date is 10
2018-02-26 02:35:04,371 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:35:04,372 - DEBUG - Order Profit ID is 228
2018-02-26 02:35:04,372 - DEBUG - Order Entry ID is 228
2018-02-26 02:35:04,372 - DEBUG - API ID is  0
2018-02-26 02:35:04,372 - DEBUG - Current Position is 0
2018-02-26 02:35:04,373 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:35:04,373 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:35:04,373 - DEBUG - Time is 2
2018-02-26 02:35:04,373 - DEBUG - Time is <class 'int'>
2018-02-26 02:35:04,374 - DEBUG - Disconnected from IBController
2018-02-26 02:35:04,374 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:40:00,256 - DEBUG - ****************************************************
2018-02-26 02:40:00,257 - DEBUG - Current Time is 02:40AM
2018-02-26 02:40:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:40:00,257 - DEBUG - Connecting to database
2018-02-26 02:40:00,308 - DEBUG - Connected to database
2018-02-26 02:40:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:00,319 - DEBUG - Order Profit is 228
2018-02-26 02:40:00,319 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:00,322 - DEBUG - Stop ID is 0
2018-02-26 02:40:00,322 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:00,324 - DEBUG - Entry ID is 228
2018-02-26 02:40:00,324 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:40:00,328 - DEBUG - OCA ID is 1
2018-02-26 02:40:00,329 - DEBUG - Connecting to IBController
2018-02-26 02:40:01,335 - DEBUG - Connected to IBController
2018-02-26 02:40:01,335 - DEBUG - Position requested
2018-02-26 02:40:01,338 - DEBUG - Pos Mgmt -12987
2018-02-26 02:40:01,338 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:40:01,338 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:40:01,339 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:40:01,339 - DEBUG - Position is -12987
2018-02-26 02:40:02,337 - DEBUG - Open Orders requested
2018-02-26 02:40:02,340 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DDA0>, order=<ib.ext.Order.Order object at 0x000000000203DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-26 02:40:02,340 - DEBUG - Order OrderID 225
2018-02-26 02:40:02,341 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:40:02,341 - DEBUG - Order status PreSubmitted
2018-02-26 02:40:02,341 - DEBUG - Order Identification 225
2018-02-26 02:40:02,342 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:40:02,342 - DEBUG - Profit ID from database is 228
2018-02-26 02:40:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:40:02,342 - DEBUG - Stop ID database is 0
2018-02-26 02:40:02,343 - DEBUG - Entry ID database is 228
2018-02-26 02:40:02,344 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-26 02:40:02,344 - DEBUG - Order OrderID 227
2018-02-26 02:40:02,344 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:40:02,345 - DEBUG - Order status PreSubmitted
2018-02-26 02:40:02,345 - DEBUG - Order Identification 227
2018-02-26 02:40:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:40:02,345 - DEBUG - Profit ID from database is 228
2018-02-26 02:40:02,346 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:40:02,346 - DEBUG - Stop ID database is 0
2018-02-26 02:40:02,346 - DEBUG - Entry ID database is 228
2018-02-26 02:40:04,338 - DEBUG - Connecting to database
2018-02-26 02:40:04,345 - DEBUG - Connected to database
2018-02-26 02:40:04,346 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,347 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:40:04,348 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,349 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:40:04,350 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,350 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:40:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,352 - DEBUG - Stop quantity 1
2018-02-26 02:40:04,354 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,354 - DEBUG - Direction is Short
2018-02-26 02:40:04,355 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,356 - DEBUG - Count is 0
2018-02-26 02:40:04,357 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:40:04,357 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:40:04,359 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:40:04,359 - DEBUG - Max ID Order is (228,)
2018-02-26 02:40:04,359 - DEBUG - Today is 2018-02-26
2018-02-26 02:40:04,360 - DEBUG - Day of the week 0
2018-02-26 02:40:04,360 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:40:04,360 - DEBUG - In Position is  0
2018-02-26 02:40:04,360 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:40:04,361 - DEBUG - curStopLossFlag is  0
2018-02-26 02:40:04,361 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:40:04,361 - DEBUG - Checking if Entry has been filled
2018-02-26 02:40:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:40:04,363 - DEBUG - EntryPend is 1
2018-02-26 02:40:04,363 - DEBUG - Try to Cancel Stop
2018-02-26 02:40:04,363 - DEBUG - Stop API ID 0
2018-02-26 02:40:04,364 - DEBUG - Profit API ID 0
2018-02-26 02:40:04,364 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:40:04,364 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:40:04,364 - DEBUG - Pos is 0
2018-02-26 02:40:04,364 - DEBUG - CurCount is 0
2018-02-26 02:40:04,365 - DEBUG - In Pos 0
2018-02-26 02:40:04,365 - DEBUG - Stop ID is 0
2018-02-26 02:40:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:40:04,366 - DEBUG - EntryPend is 1
2018-02-26 02:40:04,367 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:40:04,367 - DEBUG - Entry Date is 10
2018-02-26 02:40:04,367 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:40:04,367 - DEBUG - Order Profit ID is 228
2018-02-26 02:40:04,368 - DEBUG - Order Entry ID is 228
2018-02-26 02:40:04,368 - DEBUG - API ID is  0
2018-02-26 02:40:04,368 - DEBUG - Current Position is 0
2018-02-26 02:40:04,368 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:40:04,369 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:40:04,369 - DEBUG - Time is 2
2018-02-26 02:40:04,369 - DEBUG - Time is <class 'int'>
2018-02-26 02:40:04,369 - DEBUG - Disconnected from IBController
2018-02-26 02:40:04,371 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:45:00,263 - DEBUG - ****************************************************
2018-02-26 02:45:00,264 - DEBUG - Current Time is 02:45AM
2018-02-26 02:45:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:45:00,264 - DEBUG - Connecting to database
2018-02-26 02:45:00,303 - DEBUG - Connected to database
2018-02-26 02:45:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:00,308 - DEBUG - Order Profit is 228
2018-02-26 02:45:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:00,312 - DEBUG - Stop ID is 0
2018-02-26 02:45:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:00,316 - DEBUG - Entry ID is 228
2018-02-26 02:45:00,316 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:45:00,319 - DEBUG - OCA ID is 1
2018-02-26 02:45:00,320 - DEBUG - Connecting to IBController
2018-02-26 02:45:01,334 - DEBUG - Connected to IBController
2018-02-26 02:45:01,334 - DEBUG - Position requested
2018-02-26 02:45:01,336 - DEBUG - Pos Mgmt -12987
2018-02-26 02:45:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:45:01,337 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:45:01,337 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:45:01,337 - DEBUG - Position is -12987
2018-02-26 02:45:02,336 - DEBUG - Open Orders requested
2018-02-26 02:45:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CCF8>, order=<ib.ext.Order.Order object at 0x000000000204CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-26 02:45:02,349 - DEBUG - Order OrderID 225
2018-02-26 02:45:02,349 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:45:02,350 - DEBUG - Order status PreSubmitted
2018-02-26 02:45:02,350 - DEBUG - Order Identification 225
2018-02-26 02:45:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:45:02,351 - DEBUG - Profit ID from database is 228
2018-02-26 02:45:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:45:02,351 - DEBUG - Stop ID database is 0
2018-02-26 02:45:02,351 - DEBUG - Entry ID database is 228
2018-02-26 02:45:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204CFD0>, order=<ib.ext.Order.Order object at 0x000000000204CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-02-26 02:45:02,353 - DEBUG - Order OrderID 227
2018-02-26 02:45:02,353 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:45:02,354 - DEBUG - Order status PreSubmitted
2018-02-26 02:45:02,354 - DEBUG - Order Identification 227
2018-02-26 02:45:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:45:02,355 - DEBUG - Profit ID from database is 228
2018-02-26 02:45:02,355 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:45:02,355 - DEBUG - Stop ID database is 0
2018-02-26 02:45:02,355 - DEBUG - Entry ID database is 228
2018-02-26 02:45:04,347 - DEBUG - Connecting to database
2018-02-26 02:45:04,354 - DEBUG - Connected to database
2018-02-26 02:45:04,356 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,356 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:45:04,358 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,358 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:45:04,359 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,360 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:45:04,361 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,361 - DEBUG - Stop quantity 1
2018-02-26 02:45:04,363 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,363 - DEBUG - Direction is Short
2018-02-26 02:45:04,364 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,365 - DEBUG - Count is 0
2018-02-26 02:45:04,366 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:45:04,366 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:45:04,368 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:45:04,368 - DEBUG - Max ID Order is (228,)
2018-02-26 02:45:04,369 - DEBUG - Today is 2018-02-26
2018-02-26 02:45:04,369 - DEBUG - Day of the week 0
2018-02-26 02:45:04,369 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:45:04,370 - DEBUG - In Position is  0
2018-02-26 02:45:04,370 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:45:04,370 - DEBUG - curStopLossFlag is  0
2018-02-26 02:45:04,370 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:45:04,371 - DEBUG - Checking if Entry has been filled
2018-02-26 02:45:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:45:04,372 - DEBUG - EntryPend is 1
2018-02-26 02:45:04,373 - DEBUG - Try to Cancel Stop
2018-02-26 02:45:04,373 - DEBUG - Stop API ID 0
2018-02-26 02:45:04,373 - DEBUG - Profit API ID 0
2018-02-26 02:45:04,373 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:45:04,374 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:45:04,374 - DEBUG - Pos is 0
2018-02-26 02:45:04,374 - DEBUG - CurCount is 0
2018-02-26 02:45:04,374 - DEBUG - In Pos 0
2018-02-26 02:45:04,374 - DEBUG - Stop ID is 0
2018-02-26 02:45:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:45:04,376 - DEBUG - EntryPend is 1
2018-02-26 02:45:04,376 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:45:04,376 - DEBUG - Entry Date is 10
2018-02-26 02:45:04,377 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:45:04,377 - DEBUG - Order Profit ID is 228
2018-02-26 02:45:04,377 - DEBUG - Order Entry ID is 228
2018-02-26 02:45:04,377 - DEBUG - API ID is  0
2018-02-26 02:45:04,378 - DEBUG - Current Position is 0
2018-02-26 02:45:04,378 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:45:04,378 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:45:04,378 - DEBUG - Time is 2
2018-02-26 02:45:04,379 - DEBUG - Time is <class 'int'>
2018-02-26 02:45:04,379 - DEBUG - Disconnected from IBController
2018-02-26 02:45:04,380 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:50:00,255 - DEBUG - ****************************************************
2018-02-26 02:50:00,256 - DEBUG - Current Time is 02:50AM
2018-02-26 02:50:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:50:00,256 - DEBUG - Connecting to database
2018-02-26 02:50:00,294 - DEBUG - Connected to database
2018-02-26 02:50:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:00,296 - DEBUG - Order Profit is 228
2018-02-26 02:50:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:00,304 - DEBUG - Stop ID is 0
2018-02-26 02:50:00,304 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:00,307 - DEBUG - Entry ID is 228
2018-02-26 02:50:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:50:00,310 - DEBUG - OCA ID is 1
2018-02-26 02:50:00,311 - DEBUG - Connecting to IBController
2018-02-26 02:50:01,336 - DEBUG - Connected to IBController
2018-02-26 02:50:01,336 - DEBUG - Position requested
2018-02-26 02:50:01,352 - DEBUG - Pos Mgmt -12987
2018-02-26 02:50:01,352 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:50:01,352 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:50:01,353 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:50:01,353 - DEBUG - Position is -12987
2018-02-26 02:50:02,343 - DEBUG - Open Orders requested
2018-02-26 02:50:02,346 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, order=<ib.ext.Order.Order object at 0x000000000204DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-02-26 02:50:02,347 - DEBUG - Order OrderID 225
2018-02-26 02:50:02,347 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:50:02,348 - DEBUG - Order status PreSubmitted
2018-02-26 02:50:02,348 - DEBUG - Order Identification 225
2018-02-26 02:50:02,348 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:50:02,349 - DEBUG - Profit ID from database is 228
2018-02-26 02:50:02,349 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:50:02,349 - DEBUG - Stop ID database is 0
2018-02-26 02:50:02,349 - DEBUG - Entry ID database is 228
2018-02-26 02:50:02,350 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, order=<ib.ext.Order.Order object at 0x000000000204DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-26 02:50:02,351 - DEBUG - Order OrderID 227
2018-02-26 02:50:02,351 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:50:02,352 - DEBUG - Order status PreSubmitted
2018-02-26 02:50:02,352 - DEBUG - Order Identification 227
2018-02-26 02:50:02,352 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:50:02,352 - DEBUG - Profit ID from database is 228
2018-02-26 02:50:02,353 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:50:02,353 - DEBUG - Stop ID database is 0
2018-02-26 02:50:02,353 - DEBUG - Entry ID database is 228
2018-02-26 02:50:04,347 - DEBUG - Connecting to database
2018-02-26 02:50:04,354 - DEBUG - Connected to database
2018-02-26 02:50:04,356 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,356 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:50:04,358 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,358 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:50:04,359 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,360 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:50:04,361 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,361 - DEBUG - Stop quantity 1
2018-02-26 02:50:04,363 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,363 - DEBUG - Direction is Short
2018-02-26 02:50:04,365 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,365 - DEBUG - Count is 0
2018-02-26 02:50:04,366 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:50:04,367 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:50:04,368 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:50:04,368 - DEBUG - Max ID Order is (228,)
2018-02-26 02:50:04,369 - DEBUG - Today is 2018-02-26
2018-02-26 02:50:04,369 - DEBUG - Day of the week 0
2018-02-26 02:50:04,369 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:50:04,370 - DEBUG - In Position is  0
2018-02-26 02:50:04,370 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:50:04,370 - DEBUG - curStopLossFlag is  0
2018-02-26 02:50:04,370 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:50:04,371 - DEBUG - Checking if Entry has been filled
2018-02-26 02:50:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:50:04,372 - DEBUG - EntryPend is 1
2018-02-26 02:50:04,372 - DEBUG - Try to Cancel Stop
2018-02-26 02:50:04,373 - DEBUG - Stop API ID 0
2018-02-26 02:50:04,373 - DEBUG - Profit API ID 0
2018-02-26 02:50:04,373 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:50:04,373 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:50:04,374 - DEBUG - Pos is 0
2018-02-26 02:50:04,374 - DEBUG - CurCount is 0
2018-02-26 02:50:04,374 - DEBUG - In Pos 0
2018-02-26 02:50:04,374 - DEBUG - Stop ID is 0
2018-02-26 02:50:04,374 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:50:04,376 - DEBUG - EntryPend is 1
2018-02-26 02:50:04,376 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:50:04,377 - DEBUG - Entry Date is 10
2018-02-26 02:50:04,377 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:50:04,377 - DEBUG - Order Profit ID is 228
2018-02-26 02:50:04,377 - DEBUG - Order Entry ID is 228
2018-02-26 02:50:04,378 - DEBUG - API ID is  0
2018-02-26 02:50:04,378 - DEBUG - Current Position is 0
2018-02-26 02:50:04,378 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:50:04,378 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:50:04,378 - DEBUG - Time is 2
2018-02-26 02:50:04,379 - DEBUG - Time is <class 'int'>
2018-02-26 02:50:04,379 - DEBUG - Disconnected from IBController
2018-02-26 02:50:04,380 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 02:55:00,260 - DEBUG - ****************************************************
2018-02-26 02:55:00,261 - DEBUG - Current Time is 02:55AM
2018-02-26 02:55:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 02:55:00,261 - DEBUG - Connecting to database
2018-02-26 02:55:00,303 - DEBUG - Connected to database
2018-02-26 02:55:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:00,305 - DEBUG - Order Profit is 228
2018-02-26 02:55:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:00,307 - DEBUG - Stop ID is 0
2018-02-26 02:55:00,307 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:00,309 - DEBUG - Entry ID is 228
2018-02-26 02:55:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 02:55:00,310 - DEBUG - OCA ID is 1
2018-02-26 02:55:00,311 - DEBUG - Connecting to IBController
2018-02-26 02:55:01,326 - DEBUG - Connected to IBController
2018-02-26 02:55:01,326 - DEBUG - Position requested
2018-02-26 02:55:01,328 - DEBUG - Pos Mgmt -12987
2018-02-26 02:55:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 02:55:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 02:55:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 02:55:01,329 - DEBUG - Position is -12987
2018-02-26 02:55:02,328 - DEBUG - Open Orders requested
2018-02-26 02:55:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CA58>, order=<ib.ext.Order.Order object at 0x000000000208CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122160>>
2018-02-26 02:55:02,333 - DEBUG - Order OrderID 225
2018-02-26 02:55:02,334 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:55:02,334 - DEBUG - Order status PreSubmitted
2018-02-26 02:55:02,335 - DEBUG - Order Identification 225
2018-02-26 02:55:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:55:02,335 - DEBUG - Profit ID from database is 228
2018-02-26 02:55:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:55:02,335 - DEBUG - Stop ID database is 0
2018-02-26 02:55:02,336 - DEBUG - Entry ID database is 228
2018-02-26 02:55:02,337 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208CA58>, order=<ib.ext.Order.Order object at 0x000000000208CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122048>>
2018-02-26 02:55:02,337 - DEBUG - Order OrderID 227
2018-02-26 02:55:02,337 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 02:55:02,338 - DEBUG - Order status PreSubmitted
2018-02-26 02:55:02,338 - DEBUG - Order Identification 227
2018-02-26 02:55:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-26 02:55:02,339 - DEBUG - Profit ID from database is 228
2018-02-26 02:55:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 02:55:02,339 - DEBUG - Stop ID database is 0
2018-02-26 02:55:02,339 - DEBUG - Entry ID database is 228
2018-02-26 02:55:04,333 - DEBUG - Connecting to database
2018-02-26 02:55:04,340 - DEBUG - Connected to database
2018-02-26 02:55:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,342 - DEBUG - Stop loss value is 2731.25
2018-02-26 02:55:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,344 - DEBUG - Stop loss value is 2671.5
2018-02-26 02:55:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,345 - DEBUG - EntryPrice value is 2681.0
2018-02-26 02:55:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,347 - DEBUG - Stop quantity 1
2018-02-26 02:55:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,349 - DEBUG - Direction is Short
2018-02-26 02:55:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,350 - DEBUG - Count is 0
2018-02-26 02:55:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 02:55:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-26 02:55:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 02:55:04,354 - DEBUG - Max ID Order is (228,)
2018-02-26 02:55:04,354 - DEBUG - Today is 2018-02-26
2018-02-26 02:55:04,355 - DEBUG - Day of the week 0
2018-02-26 02:55:04,355 - DEBUG - Yesterday is 02/23/2018
2018-02-26 02:55:04,355 - DEBUG - In Position is  0
2018-02-26 02:55:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-26 02:55:04,356 - DEBUG - curStopLossFlag is  0
2018-02-26 02:55:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 02:55:04,356 - DEBUG - Checking if Entry has been filled
2018-02-26 02:55:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:55:04,358 - DEBUG - EntryPend is 1
2018-02-26 02:55:04,358 - DEBUG - Try to Cancel Stop
2018-02-26 02:55:04,358 - DEBUG - Stop API ID 0
2018-02-26 02:55:04,358 - DEBUG - Profit API ID 0
2018-02-26 02:55:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-26 02:55:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-26 02:55:04,359 - DEBUG - Pos is 0
2018-02-26 02:55:04,359 - DEBUG - CurCount is 0
2018-02-26 02:55:04,360 - DEBUG - In Pos 0
2018-02-26 02:55:04,360 - DEBUG - Stop ID is 0
2018-02-26 02:55:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 02:55:04,361 - DEBUG - EntryPend is 1
2018-02-26 02:55:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 02:55:04,362 - DEBUG - Entry Date is 10
2018-02-26 02:55:04,362 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 02:55:04,362 - DEBUG - Order Profit ID is 228
2018-02-26 02:55:04,363 - DEBUG - Order Entry ID is 228
2018-02-26 02:55:04,363 - DEBUG - API ID is  0
2018-02-26 02:55:04,363 - DEBUG - Current Position is 0
2018-02-26 02:55:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-26 02:55:04,363 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 02:55:04,364 - DEBUG - Time is 2
2018-02-26 02:55:04,364 - DEBUG - Time is <class 'int'>
2018-02-26 02:55:04,364 - DEBUG - Disconnected from IBController
2018-02-26 02:55:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:00:00,259 - DEBUG - ****************************************************
2018-02-26 03:00:00,260 - DEBUG - Current Time is 03:00AM
2018-02-26 03:00:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:00:00,260 - DEBUG - Connecting to database
2018-02-26 03:00:00,486 - DEBUG - Connected to database
2018-02-26 03:00:00,486 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:00,500 - DEBUG - Order Profit is 228
2018-02-26 03:00:00,500 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:00,535 - DEBUG - Stop ID is 0
2018-02-26 03:00:00,536 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:00,554 - DEBUG - Entry ID is 228
2018-02-26 03:00:00,555 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:00:00,567 - DEBUG - OCA ID is 1
2018-02-26 03:00:00,567 - DEBUG - Connecting to IBController
2018-02-26 03:00:01,583 - DEBUG - Connected to IBController
2018-02-26 03:00:01,583 - DEBUG - Position requested
2018-02-26 03:00:01,585 - DEBUG - Pos Mgmt -12987
2018-02-26 03:00:01,585 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:00:01,586 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:00:01,586 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:00:01,586 - DEBUG - Position is -12987
2018-02-26 03:00:02,585 - DEBUG - Open Orders requested
2018-02-26 03:00:02,587 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BC18>, order=<ib.ext.Order.Order object at 0x000000000205BBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0160>>
2018-02-26 03:00:02,588 - DEBUG - Order OrderID 225
2018-02-26 03:00:02,588 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:00:02,589 - DEBUG - Order status PreSubmitted
2018-02-26 03:00:02,589 - DEBUG - Order Identification 225
2018-02-26 03:00:02,589 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:00:02,590 - DEBUG - Profit ID from database is 228
2018-02-26 03:00:02,590 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:00:02,590 - DEBUG - Stop ID database is 0
2018-02-26 03:00:02,590 - DEBUG - Entry ID database is 228
2018-02-26 03:00:02,591 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205BC18>, order=<ib.ext.Order.Order object at 0x000000000205BBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F00F0>>
2018-02-26 03:00:02,592 - DEBUG - Order OrderID 227
2018-02-26 03:00:02,592 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:00:02,592 - DEBUG - Order status PreSubmitted
2018-02-26 03:00:02,593 - DEBUG - Order Identification 227
2018-02-26 03:00:02,593 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:00:02,593 - DEBUG - Profit ID from database is 228
2018-02-26 03:00:02,593 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:00:02,593 - DEBUG - Stop ID database is 0
2018-02-26 03:00:02,593 - DEBUG - Entry ID database is 228
2018-02-26 03:00:04,588 - DEBUG - Connecting to database
2018-02-26 03:00:04,595 - DEBUG - Connected to database
2018-02-26 03:00:04,597 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,598 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:00:04,599 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,599 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:00:04,601 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,601 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:00:04,602 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,603 - DEBUG - Stop quantity 1
2018-02-26 03:00:04,604 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,604 - DEBUG - Direction is Short
2018-02-26 03:00:04,606 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,606 - DEBUG - Count is 0
2018-02-26 03:00:04,608 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:00:04,608 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:00:04,609 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:00:04,610 - DEBUG - Max ID Order is (228,)
2018-02-26 03:00:04,610 - DEBUG - Today is 2018-02-26
2018-02-26 03:00:04,610 - DEBUG - Day of the week 0
2018-02-26 03:00:04,611 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:00:04,611 - DEBUG - In Position is  0
2018-02-26 03:00:04,611 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:00:04,611 - DEBUG - curStopLossFlag is  0
2018-02-26 03:00:04,612 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:00:04,612 - DEBUG - Checking if Entry has been filled
2018-02-26 03:00:04,612 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:00:04,614 - DEBUG - EntryPend is 1
2018-02-26 03:00:04,614 - DEBUG - Try to Cancel Stop
2018-02-26 03:00:04,614 - DEBUG - Stop API ID 0
2018-02-26 03:00:04,614 - DEBUG - Profit API ID 0
2018-02-26 03:00:04,614 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:00:04,615 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:00:04,615 - DEBUG - Pos is 0
2018-02-26 03:00:04,615 - DEBUG - CurCount is 0
2018-02-26 03:00:04,615 - DEBUG - In Pos 0
2018-02-26 03:00:04,616 - DEBUG - Stop ID is 0
2018-02-26 03:00:04,616 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:00:04,617 - DEBUG - EntryPend is 1
2018-02-26 03:00:04,618 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:00:04,618 - DEBUG - Entry Date is 10
2018-02-26 03:00:04,618 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:00:04,618 - DEBUG - Order Profit ID is 228
2018-02-26 03:00:04,618 - DEBUG - Order Entry ID is 228
2018-02-26 03:00:04,619 - DEBUG - API ID is  0
2018-02-26 03:00:04,619 - DEBUG - Current Position is 0
2018-02-26 03:00:04,619 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:00:04,619 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:00:04,620 - DEBUG - Time is 3
2018-02-26 03:00:04,620 - DEBUG - Time is <class 'int'>
2018-02-26 03:00:04,620 - DEBUG - Disconnected from IBController
2018-02-26 03:00:04,620 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:05:00,263 - DEBUG - ****************************************************
2018-02-26 03:05:00,263 - DEBUG - Current Time is 03:05AM
2018-02-26 03:05:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:05:00,264 - DEBUG - Connecting to database
2018-02-26 03:05:00,336 - DEBUG - Connected to database
2018-02-26 03:05:00,336 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:00,344 - DEBUG - Order Profit is 228
2018-02-26 03:05:00,344 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:00,360 - DEBUG - Stop ID is 0
2018-02-26 03:05:00,360 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:00,378 - DEBUG - Entry ID is 228
2018-02-26 03:05:00,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:05:00,379 - DEBUG - OCA ID is 1
2018-02-26 03:05:00,380 - DEBUG - Connecting to IBController
2018-02-26 03:05:01,397 - DEBUG - Connected to IBController
2018-02-26 03:05:01,397 - DEBUG - Position requested
2018-02-26 03:05:01,399 - DEBUG - Pos Mgmt -12987
2018-02-26 03:05:01,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CB00>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:05:01,400 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:05:01,400 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:05:01,400 - DEBUG - Position is -12987
2018-02-26 03:05:02,398 - DEBUG - Open Orders requested
2018-02-26 03:05:02,409 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202CA58>, order=<ib.ext.Order.Order object at 0x000000000202CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1160>>
2018-02-26 03:05:02,410 - DEBUG - Order OrderID 225
2018-02-26 03:05:02,410 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:05:02,410 - DEBUG - Order status PreSubmitted
2018-02-26 03:05:02,411 - DEBUG - Order Identification 225
2018-02-26 03:05:02,411 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:05:02,412 - DEBUG - Profit ID from database is 228
2018-02-26 03:05:02,412 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:05:02,412 - DEBUG - Stop ID database is 0
2018-02-26 03:05:02,413 - DEBUG - Entry ID database is 228
2018-02-26 03:05:02,414 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202CA58>, order=<ib.ext.Order.Order object at 0x000000000202CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1080>>
2018-02-26 03:05:02,414 - DEBUG - Order OrderID 227
2018-02-26 03:05:02,414 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:05:02,415 - DEBUG - Order status PreSubmitted
2018-02-26 03:05:02,415 - DEBUG - Order Identification 227
2018-02-26 03:05:02,415 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:05:02,416 - DEBUG - Profit ID from database is 228
2018-02-26 03:05:02,416 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:05:02,416 - DEBUG - Stop ID database is 0
2018-02-26 03:05:02,417 - DEBUG - Entry ID database is 228
2018-02-26 03:05:04,409 - DEBUG - Connecting to database
2018-02-26 03:05:04,416 - DEBUG - Connected to database
2018-02-26 03:05:04,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,418 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:05:04,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,420 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:05:04,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,421 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:05:04,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,423 - DEBUG - Stop quantity 1
2018-02-26 03:05:04,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,425 - DEBUG - Direction is Short
2018-02-26 03:05:04,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,426 - DEBUG - Count is 0
2018-02-26 03:05:04,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:05:04,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:05:04,429 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:05:04,430 - DEBUG - Max ID Order is (228,)
2018-02-26 03:05:04,430 - DEBUG - Today is 2018-02-26
2018-02-26 03:05:04,431 - DEBUG - Day of the week 0
2018-02-26 03:05:04,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:05:04,431 - DEBUG - In Position is  0
2018-02-26 03:05:04,431 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:05:04,431 - DEBUG - curStopLossFlag is  0
2018-02-26 03:05:04,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:05:04,432 - DEBUG - Checking if Entry has been filled
2018-02-26 03:05:04,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:05:04,434 - DEBUG - EntryPend is 1
2018-02-26 03:05:04,434 - DEBUG - Try to Cancel Stop
2018-02-26 03:05:04,434 - DEBUG - Stop API ID 0
2018-02-26 03:05:04,434 - DEBUG - Profit API ID 0
2018-02-26 03:05:04,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:05:04,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:05:04,435 - DEBUG - Pos is 0
2018-02-26 03:05:04,435 - DEBUG - CurCount is 0
2018-02-26 03:05:04,436 - DEBUG - In Pos 0
2018-02-26 03:05:04,436 - DEBUG - Stop ID is 0
2018-02-26 03:05:04,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:05:04,437 - DEBUG - EntryPend is 1
2018-02-26 03:05:04,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:05:04,438 - DEBUG - Entry Date is 10
2018-02-26 03:05:04,438 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:05:04,438 - DEBUG - Order Profit ID is 228
2018-02-26 03:05:04,439 - DEBUG - Order Entry ID is 228
2018-02-26 03:05:04,439 - DEBUG - API ID is  0
2018-02-26 03:05:04,439 - DEBUG - Current Position is 0
2018-02-26 03:05:04,439 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:05:04,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:05:04,440 - DEBUG - Time is 3
2018-02-26 03:05:04,440 - DEBUG - Time is <class 'int'>
2018-02-26 03:05:04,440 - DEBUG - Disconnected from IBController
2018-02-26 03:05:04,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:10:00,257 - DEBUG - ****************************************************
2018-02-26 03:10:00,257 - DEBUG - Current Time is 03:10AM
2018-02-26 03:10:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:10:00,258 - DEBUG - Connecting to database
2018-02-26 03:10:00,299 - DEBUG - Connected to database
2018-02-26 03:10:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:00,302 - DEBUG - Order Profit is 228
2018-02-26 03:10:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:00,314 - DEBUG - Stop ID is 0
2018-02-26 03:10:00,314 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:00,319 - DEBUG - Entry ID is 228
2018-02-26 03:10:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:10:00,321 - DEBUG - OCA ID is 1
2018-02-26 03:10:00,321 - DEBUG - Connecting to IBController
2018-02-26 03:10:01,331 - DEBUG - Connected to IBController
2018-02-26 03:10:01,331 - DEBUG - Position requested
2018-02-26 03:10:01,333 - DEBUG - Pos Mgmt -12987
2018-02-26 03:10:01,333 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:10:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:10:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:10:01,334 - DEBUG - Position is -12987
2018-02-26 03:10:02,333 - DEBUG - Open Orders requested
2018-02-26 03:10:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020CCE10>, order=<ib.ext.Order.Order object at 0x00000000020CCB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161160>>
2018-02-26 03:10:02,336 - DEBUG - Order OrderID 225
2018-02-26 03:10:02,337 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:10:02,337 - DEBUG - Order status PreSubmitted
2018-02-26 03:10:02,337 - DEBUG - Order Identification 225
2018-02-26 03:10:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:10:02,338 - DEBUG - Profit ID from database is 228
2018-02-26 03:10:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:10:02,338 - DEBUG - Stop ID database is 0
2018-02-26 03:10:02,338 - DEBUG - Entry ID database is 228
2018-02-26 03:10:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020CCE10>, order=<ib.ext.Order.Order object at 0x00000000020CCB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161080>>
2018-02-26 03:10:02,340 - DEBUG - Order OrderID 227
2018-02-26 03:10:02,340 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:10:02,341 - DEBUG - Order status PreSubmitted
2018-02-26 03:10:02,341 - DEBUG - Order Identification 227
2018-02-26 03:10:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:10:02,341 - DEBUG - Profit ID from database is 228
2018-02-26 03:10:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:10:02,342 - DEBUG - Stop ID database is 0
2018-02-26 03:10:02,342 - DEBUG - Entry ID database is 228
2018-02-26 03:10:04,336 - DEBUG - Connecting to database
2018-02-26 03:10:04,343 - DEBUG - Connected to database
2018-02-26 03:10:04,345 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,345 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:10:04,347 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,347 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:10:04,348 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,349 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:10:04,350 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,351 - DEBUG - Stop quantity 1
2018-02-26 03:10:04,352 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,352 - DEBUG - Direction is Short
2018-02-26 03:10:04,354 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,354 - DEBUG - Count is 0
2018-02-26 03:10:04,355 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:10:04,356 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:10:04,358 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:10:04,358 - DEBUG - Max ID Order is (228,)
2018-02-26 03:10:04,359 - DEBUG - Today is 2018-02-26
2018-02-26 03:10:04,359 - DEBUG - Day of the week 0
2018-02-26 03:10:04,360 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:10:04,360 - DEBUG - In Position is  0
2018-02-26 03:10:04,360 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:10:04,360 - DEBUG - curStopLossFlag is  0
2018-02-26 03:10:04,360 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:10:04,361 - DEBUG - Checking if Entry has been filled
2018-02-26 03:10:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:10:04,362 - DEBUG - EntryPend is 1
2018-02-26 03:10:04,363 - DEBUG - Try to Cancel Stop
2018-02-26 03:10:04,363 - DEBUG - Stop API ID 0
2018-02-26 03:10:04,363 - DEBUG - Profit API ID 0
2018-02-26 03:10:04,363 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:10:04,364 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:10:04,364 - DEBUG - Pos is 0
2018-02-26 03:10:04,364 - DEBUG - CurCount is 0
2018-02-26 03:10:04,364 - DEBUG - In Pos 0
2018-02-26 03:10:04,364 - DEBUG - Stop ID is 0
2018-02-26 03:10:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:10:04,366 - DEBUG - EntryPend is 1
2018-02-26 03:10:04,366 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:10:04,366 - DEBUG - Entry Date is 10
2018-02-26 03:10:04,367 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:10:04,367 - DEBUG - Order Profit ID is 228
2018-02-26 03:10:04,367 - DEBUG - Order Entry ID is 228
2018-02-26 03:10:04,367 - DEBUG - API ID is  0
2018-02-26 03:10:04,368 - DEBUG - Current Position is 0
2018-02-26 03:10:04,368 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:10:04,368 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:10:04,368 - DEBUG - Time is 3
2018-02-26 03:10:04,368 - DEBUG - Time is <class 'int'>
2018-02-26 03:10:04,369 - DEBUG - Disconnected from IBController
2018-02-26 03:10:04,369 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:15:00,263 - DEBUG - ****************************************************
2018-02-26 03:15:00,264 - DEBUG - Current Time is 03:15AM
2018-02-26 03:15:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:15:00,264 - DEBUG - Connecting to database
2018-02-26 03:15:00,340 - DEBUG - Connected to database
2018-02-26 03:15:00,340 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:00,346 - DEBUG - Order Profit is 228
2018-02-26 03:15:00,347 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:00,358 - DEBUG - Stop ID is 0
2018-02-26 03:15:00,358 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:00,361 - DEBUG - Entry ID is 228
2018-02-26 03:15:00,361 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:15:00,393 - DEBUG - OCA ID is 1
2018-02-26 03:15:00,394 - DEBUG - Connecting to IBController
2018-02-26 03:15:01,423 - DEBUG - Connected to IBController
2018-02-26 03:15:01,423 - DEBUG - Position requested
2018-02-26 03:15:01,426 - DEBUG - Pos Mgmt -12987
2018-02-26 03:15:01,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:15:01,427 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:15:01,427 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:15:01,434 - DEBUG - Position is -12987
2018-02-26 03:15:02,423 - DEBUG - Open Orders requested
2018-02-26 03:15:02,443 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DCF8>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20F0>>
2018-02-26 03:15:02,444 - DEBUG - Order OrderID 225
2018-02-26 03:15:02,445 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:15:02,445 - DEBUG - Order status PreSubmitted
2018-02-26 03:15:02,445 - DEBUG - Order Identification 225
2018-02-26 03:15:02,445 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:15:02,446 - DEBUG - Profit ID from database is 228
2018-02-26 03:15:02,446 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:15:02,446 - DEBUG - Stop ID database is 0
2018-02-26 03:15:02,446 - DEBUG - Entry ID database is 228
2018-02-26 03:15:02,447 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DF98>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-02-26 03:15:02,448 - DEBUG - Order OrderID 227
2018-02-26 03:15:02,448 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:15:02,449 - DEBUG - Order status PreSubmitted
2018-02-26 03:15:02,449 - DEBUG - Order Identification 227
2018-02-26 03:15:02,449 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:15:02,449 - DEBUG - Profit ID from database is 228
2018-02-26 03:15:02,449 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:15:02,450 - DEBUG - Stop ID database is 0
2018-02-26 03:15:02,450 - DEBUG - Entry ID database is 228
2018-02-26 03:15:04,424 - DEBUG - Connecting to database
2018-02-26 03:15:04,431 - DEBUG - Connected to database
2018-02-26 03:15:04,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,433 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:15:04,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,435 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:15:04,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,436 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:15:04,438 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,438 - DEBUG - Stop quantity 1
2018-02-26 03:15:04,439 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,440 - DEBUG - Direction is Short
2018-02-26 03:15:04,441 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,442 - DEBUG - Count is 0
2018-02-26 03:15:04,443 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:15:04,443 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:15:04,445 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:15:04,445 - DEBUG - Max ID Order is (228,)
2018-02-26 03:15:04,445 - DEBUG - Today is 2018-02-26
2018-02-26 03:15:04,446 - DEBUG - Day of the week 0
2018-02-26 03:15:04,446 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:15:04,446 - DEBUG - In Position is  0
2018-02-26 03:15:04,446 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:15:04,447 - DEBUG - curStopLossFlag is  0
2018-02-26 03:15:04,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:15:04,447 - DEBUG - Checking if Entry has been filled
2018-02-26 03:15:04,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:15:04,449 - DEBUG - EntryPend is 1
2018-02-26 03:15:04,449 - DEBUG - Try to Cancel Stop
2018-02-26 03:15:04,449 - DEBUG - Stop API ID 0
2018-02-26 03:15:04,449 - DEBUG - Profit API ID 0
2018-02-26 03:15:04,450 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:15:04,450 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:15:04,450 - DEBUG - Pos is 0
2018-02-26 03:15:04,450 - DEBUG - CurCount is 0
2018-02-26 03:15:04,451 - DEBUG - In Pos 0
2018-02-26 03:15:04,451 - DEBUG - Stop ID is 0
2018-02-26 03:15:04,451 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:15:04,452 - DEBUG - EntryPend is 1
2018-02-26 03:15:04,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:15:04,453 - DEBUG - Entry Date is 10
2018-02-26 03:15:04,453 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:15:04,453 - DEBUG - Order Profit ID is 228
2018-02-26 03:15:04,453 - DEBUG - Order Entry ID is 228
2018-02-26 03:15:04,454 - DEBUG - API ID is  0
2018-02-26 03:15:04,454 - DEBUG - Current Position is 0
2018-02-26 03:15:04,454 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:15:04,454 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:15:04,455 - DEBUG - Time is 3
2018-02-26 03:15:04,455 - DEBUG - Time is <class 'int'>
2018-02-26 03:15:04,455 - DEBUG - Disconnected from IBController
2018-02-26 03:15:04,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:20:00,262 - DEBUG - ****************************************************
2018-02-26 03:20:00,263 - DEBUG - Current Time is 03:20AM
2018-02-26 03:20:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:20:00,263 - DEBUG - Connecting to database
2018-02-26 03:20:00,329 - DEBUG - Connected to database
2018-02-26 03:20:00,329 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:00,337 - DEBUG - Order Profit is 228
2018-02-26 03:20:00,337 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:00,354 - DEBUG - Stop ID is 0
2018-02-26 03:20:00,354 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:00,362 - DEBUG - Entry ID is 228
2018-02-26 03:20:00,362 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:20:00,366 - DEBUG - OCA ID is 1
2018-02-26 03:20:00,367 - DEBUG - Connecting to IBController
2018-02-26 03:20:01,373 - DEBUG - Connected to IBController
2018-02-26 03:20:01,373 - DEBUG - Position requested
2018-02-26 03:20:01,385 - DEBUG - Pos Mgmt -12987
2018-02-26 03:20:01,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:20:01,386 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:20:01,386 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:20:01,387 - DEBUG - Position is -12987
2018-02-26 03:20:02,374 - DEBUG - Open Orders requested
2018-02-26 03:20:02,377 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CD68>, order=<ib.ext.Order.Order object at 0x000000000209CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021310F0>>
2018-02-26 03:20:02,377 - DEBUG - Order OrderID 225
2018-02-26 03:20:02,377 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:20:02,378 - DEBUG - Order status PreSubmitted
2018-02-26 03:20:02,378 - DEBUG - Order Identification 225
2018-02-26 03:20:02,378 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:20:02,379 - DEBUG - Profit ID from database is 228
2018-02-26 03:20:02,379 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:20:02,379 - DEBUG - Stop ID database is 0
2018-02-26 03:20:02,379 - DEBUG - Entry ID database is 228
2018-02-26 03:20:02,380 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209CF98>, order=<ib.ext.Order.Order object at 0x000000000209CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131160>>
2018-02-26 03:20:02,381 - DEBUG - Order OrderID 227
2018-02-26 03:20:02,381 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:20:02,381 - DEBUG - Order status PreSubmitted
2018-02-26 03:20:02,381 - DEBUG - Order Identification 227
2018-02-26 03:20:02,382 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:20:02,382 - DEBUG - Profit ID from database is 228
2018-02-26 03:20:02,382 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:20:02,382 - DEBUG - Stop ID database is 0
2018-02-26 03:20:02,382 - DEBUG - Entry ID database is 228
2018-02-26 03:20:04,374 - DEBUG - Connecting to database
2018-02-26 03:20:04,381 - DEBUG - Connected to database
2018-02-26 03:20:04,382 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,383 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:20:04,384 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,384 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:20:04,386 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,386 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:20:04,387 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,388 - DEBUG - Stop quantity 1
2018-02-26 03:20:04,389 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,389 - DEBUG - Direction is Short
2018-02-26 03:20:04,391 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,391 - DEBUG - Count is 0
2018-02-26 03:20:04,392 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:20:04,393 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:20:04,394 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:20:04,394 - DEBUG - Max ID Order is (228,)
2018-02-26 03:20:04,395 - DEBUG - Today is 2018-02-26
2018-02-26 03:20:04,395 - DEBUG - Day of the week 0
2018-02-26 03:20:04,395 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:20:04,396 - DEBUG - In Position is  0
2018-02-26 03:20:04,396 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:20:04,396 - DEBUG - curStopLossFlag is  0
2018-02-26 03:20:04,396 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:20:04,397 - DEBUG - Checking if Entry has been filled
2018-02-26 03:20:04,397 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:20:04,398 - DEBUG - EntryPend is 1
2018-02-26 03:20:04,398 - DEBUG - Try to Cancel Stop
2018-02-26 03:20:04,399 - DEBUG - Stop API ID 0
2018-02-26 03:20:04,399 - DEBUG - Profit API ID 0
2018-02-26 03:20:04,399 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:20:04,399 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:20:04,400 - DEBUG - Pos is 0
2018-02-26 03:20:04,400 - DEBUG - CurCount is 0
2018-02-26 03:20:04,400 - DEBUG - In Pos 0
2018-02-26 03:20:04,400 - DEBUG - Stop ID is 0
2018-02-26 03:20:04,401 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:20:04,402 - DEBUG - EntryPend is 1
2018-02-26 03:20:04,402 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:20:04,402 - DEBUG - Entry Date is 10
2018-02-26 03:20:04,403 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:20:04,403 - DEBUG - Order Profit ID is 228
2018-02-26 03:20:04,403 - DEBUG - Order Entry ID is 228
2018-02-26 03:20:04,403 - DEBUG - API ID is  0
2018-02-26 03:20:04,404 - DEBUG - Current Position is 0
2018-02-26 03:20:04,404 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:20:04,404 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:20:04,404 - DEBUG - Time is 3
2018-02-26 03:20:04,404 - DEBUG - Time is <class 'int'>
2018-02-26 03:20:04,405 - DEBUG - Disconnected from IBController
2018-02-26 03:20:04,405 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:25:00,252 - DEBUG - ****************************************************
2018-02-26 03:25:00,253 - DEBUG - Current Time is 03:25AM
2018-02-26 03:25:00,253 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:25:00,253 - DEBUG - Connecting to database
2018-02-26 03:25:00,303 - DEBUG - Connected to database
2018-02-26 03:25:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:00,310 - DEBUG - Order Profit is 228
2018-02-26 03:25:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:00,329 - DEBUG - Stop ID is 0
2018-02-26 03:25:00,329 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:00,332 - DEBUG - Entry ID is 228
2018-02-26 03:25:00,332 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:25:00,334 - DEBUG - OCA ID is 1
2018-02-26 03:25:00,334 - DEBUG - Connecting to IBController
2018-02-26 03:25:01,341 - DEBUG - Connected to IBController
2018-02-26 03:25:01,341 - DEBUG - Position requested
2018-02-26 03:25:01,343 - DEBUG - Pos Mgmt -12987
2018-02-26 03:25:01,343 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:25:01,343 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:25:01,344 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:25:01,344 - DEBUG - Position is -12987
2018-02-26 03:25:02,343 - DEBUG - Open Orders requested
2018-02-26 03:25:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADD30>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141160>>
2018-02-26 03:25:02,346 - DEBUG - Order OrderID 225
2018-02-26 03:25:02,346 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:25:02,347 - DEBUG - Order status PreSubmitted
2018-02-26 03:25:02,347 - DEBUG - Order Identification 225
2018-02-26 03:25:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:25:02,348 - DEBUG - Profit ID from database is 228
2018-02-26 03:25:02,348 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:25:02,348 - DEBUG - Stop ID database is 0
2018-02-26 03:25:02,348 - DEBUG - Entry ID database is 228
2018-02-26 03:25:02,349 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADD30>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141048>>
2018-02-26 03:25:02,350 - DEBUG - Order OrderID 227
2018-02-26 03:25:02,350 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:25:02,351 - DEBUG - Order status PreSubmitted
2018-02-26 03:25:02,351 - DEBUG - Order Identification 227
2018-02-26 03:25:02,351 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:25:02,351 - DEBUG - Profit ID from database is 228
2018-02-26 03:25:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:25:02,352 - DEBUG - Stop ID database is 0
2018-02-26 03:25:02,352 - DEBUG - Entry ID database is 228
2018-02-26 03:25:04,346 - DEBUG - Connecting to database
2018-02-26 03:25:04,353 - DEBUG - Connected to database
2018-02-26 03:25:04,355 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,355 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:25:04,357 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,357 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:25:04,358 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,359 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:25:04,360 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,360 - DEBUG - Stop quantity 1
2018-02-26 03:25:04,362 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,362 - DEBUG - Direction is Short
2018-02-26 03:25:04,363 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,364 - DEBUG - Count is 0
2018-02-26 03:25:04,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:25:04,366 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:25:04,367 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:25:04,367 - DEBUG - Max ID Order is (228,)
2018-02-26 03:25:04,368 - DEBUG - Today is 2018-02-26
2018-02-26 03:25:04,368 - DEBUG - Day of the week 0
2018-02-26 03:25:04,368 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:25:04,369 - DEBUG - In Position is  0
2018-02-26 03:25:04,369 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:25:04,369 - DEBUG - curStopLossFlag is  0
2018-02-26 03:25:04,369 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:25:04,369 - DEBUG - Checking if Entry has been filled
2018-02-26 03:25:04,370 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:25:04,371 - DEBUG - EntryPend is 1
2018-02-26 03:25:04,371 - DEBUG - Try to Cancel Stop
2018-02-26 03:25:04,372 - DEBUG - Stop API ID 0
2018-02-26 03:25:04,372 - DEBUG - Profit API ID 0
2018-02-26 03:25:04,372 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:25:04,372 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:25:04,372 - DEBUG - Pos is 0
2018-02-26 03:25:04,373 - DEBUG - CurCount is 0
2018-02-26 03:25:04,373 - DEBUG - In Pos 0
2018-02-26 03:25:04,373 - DEBUG - Stop ID is 0
2018-02-26 03:25:04,373 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:25:04,375 - DEBUG - EntryPend is 1
2018-02-26 03:25:04,375 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:25:04,375 - DEBUG - Entry Date is 10
2018-02-26 03:25:04,375 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:25:04,375 - DEBUG - Order Profit ID is 228
2018-02-26 03:25:04,376 - DEBUG - Order Entry ID is 228
2018-02-26 03:25:04,376 - DEBUG - API ID is  0
2018-02-26 03:25:04,376 - DEBUG - Current Position is 0
2018-02-26 03:25:04,376 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:25:04,377 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:25:04,377 - DEBUG - Time is 3
2018-02-26 03:25:04,377 - DEBUG - Time is <class 'int'>
2018-02-26 03:25:04,377 - DEBUG - Disconnected from IBController
2018-02-26 03:25:04,378 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:30:00,256 - DEBUG - ****************************************************
2018-02-26 03:30:00,257 - DEBUG - Current Time is 03:30AM
2018-02-26 03:30:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:30:00,257 - DEBUG - Connecting to database
2018-02-26 03:30:00,436 - DEBUG - Connected to database
2018-02-26 03:30:00,437 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:00,443 - DEBUG - Order Profit is 228
2018-02-26 03:30:00,444 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:00,468 - DEBUG - Stop ID is 0
2018-02-26 03:30:00,469 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:00,491 - DEBUG - Entry ID is 228
2018-02-26 03:30:00,491 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:30:00,500 - DEBUG - OCA ID is 1
2018-02-26 03:30:00,500 - DEBUG - Connecting to IBController
2018-02-26 03:30:01,510 - DEBUG - Connected to IBController
2018-02-26 03:30:01,510 - DEBUG - Position requested
2018-02-26 03:30:01,512 - DEBUG - Pos Mgmt -12987
2018-02-26 03:30:01,512 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209BC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:30:01,513 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:30:01,513 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:30:01,514 - DEBUG - Position is -12987
2018-02-26 03:30:02,511 - DEBUG - Open Orders requested
2018-02-26 03:30:02,516 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209BB00>, order=<ib.ext.Order.Order object at 0x000000000209BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130160>>
2018-02-26 03:30:02,517 - DEBUG - Order OrderID 225
2018-02-26 03:30:02,518 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:30:02,518 - DEBUG - Order status PreSubmitted
2018-02-26 03:30:02,519 - DEBUG - Order Identification 225
2018-02-26 03:30:02,519 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:30:02,519 - DEBUG - Profit ID from database is 228
2018-02-26 03:30:02,519 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:30:02,520 - DEBUG - Stop ID database is 0
2018-02-26 03:30:02,520 - DEBUG - Entry ID database is 228
2018-02-26 03:30:02,521 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209BB00>, order=<ib.ext.Order.Order object at 0x000000000209BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130080>>
2018-02-26 03:30:02,521 - DEBUG - Order OrderID 227
2018-02-26 03:30:02,522 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:30:02,522 - DEBUG - Order status PreSubmitted
2018-02-26 03:30:02,522 - DEBUG - Order Identification 227
2018-02-26 03:30:02,523 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:30:02,523 - DEBUG - Profit ID from database is 228
2018-02-26 03:30:02,523 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:30:02,523 - DEBUG - Stop ID database is 0
2018-02-26 03:30:02,523 - DEBUG - Entry ID database is 228
2018-02-26 03:30:04,517 - DEBUG - Connecting to database
2018-02-26 03:30:04,524 - DEBUG - Connected to database
2018-02-26 03:30:04,526 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,526 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:30:04,528 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,528 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:30:04,529 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,530 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:30:04,531 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,532 - DEBUG - Stop quantity 1
2018-02-26 03:30:04,533 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,533 - DEBUG - Direction is Short
2018-02-26 03:30:04,535 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,535 - DEBUG - Count is 0
2018-02-26 03:30:04,536 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:30:04,536 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:30:04,538 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:30:04,538 - DEBUG - Max ID Order is (228,)
2018-02-26 03:30:04,539 - DEBUG - Today is 2018-02-26
2018-02-26 03:30:04,539 - DEBUG - Day of the week 0
2018-02-26 03:30:04,539 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:30:04,539 - DEBUG - In Position is  0
2018-02-26 03:30:04,540 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:30:04,540 - DEBUG - curStopLossFlag is  0
2018-02-26 03:30:04,540 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:30:04,540 - DEBUG - Checking if Entry has been filled
2018-02-26 03:30:04,541 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:30:04,542 - DEBUG - EntryPend is 1
2018-02-26 03:30:04,542 - DEBUG - Try to Cancel Stop
2018-02-26 03:30:04,543 - DEBUG - Stop API ID 0
2018-02-26 03:30:04,543 - DEBUG - Profit API ID 0
2018-02-26 03:30:04,543 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:30:04,543 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:30:04,544 - DEBUG - Pos is 0
2018-02-26 03:30:04,544 - DEBUG - CurCount is 0
2018-02-26 03:30:04,544 - DEBUG - In Pos 0
2018-02-26 03:30:04,544 - DEBUG - Stop ID is 0
2018-02-26 03:30:04,544 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:30:04,546 - DEBUG - EntryPend is 1
2018-02-26 03:30:04,546 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:30:04,546 - DEBUG - Entry Date is 10
2018-02-26 03:30:04,546 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:30:04,547 - DEBUG - Order Profit ID is 228
2018-02-26 03:30:04,547 - DEBUG - Order Entry ID is 228
2018-02-26 03:30:04,547 - DEBUG - API ID is  0
2018-02-26 03:30:04,547 - DEBUG - Current Position is 0
2018-02-26 03:30:04,548 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:30:04,548 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:30:04,548 - DEBUG - Time is 3
2018-02-26 03:30:04,548 - DEBUG - Time is <class 'int'>
2018-02-26 03:30:04,548 - DEBUG - Disconnected from IBController
2018-02-26 03:30:04,550 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:35:00,264 - DEBUG - ****************************************************
2018-02-26 03:35:00,264 - DEBUG - Current Time is 03:35AM
2018-02-26 03:35:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:35:00,265 - DEBUG - Connecting to database
2018-02-26 03:35:00,327 - DEBUG - Connected to database
2018-02-26 03:35:00,327 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:00,334 - DEBUG - Order Profit is 228
2018-02-26 03:35:00,334 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:00,335 - DEBUG - Stop ID is 0
2018-02-26 03:35:00,336 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:00,337 - DEBUG - Entry ID is 228
2018-02-26 03:35:00,337 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:35:00,339 - DEBUG - OCA ID is 1
2018-02-26 03:35:00,339 - DEBUG - Connecting to IBController
2018-02-26 03:35:01,345 - DEBUG - Connected to IBController
2018-02-26 03:35:01,345 - DEBUG - Position requested
2018-02-26 03:35:01,350 - DEBUG - Pos Mgmt -12987
2018-02-26 03:35:01,350 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:35:01,350 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:35:01,351 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:35:01,351 - DEBUG - Position is -12987
2018-02-26 03:35:02,348 - DEBUG - Open Orders requested
2018-02-26 03:35:02,350 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 03:35:02,351 - DEBUG - Order OrderID 225
2018-02-26 03:35:02,351 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:35:02,352 - DEBUG - Order status PreSubmitted
2018-02-26 03:35:02,352 - DEBUG - Order Identification 225
2018-02-26 03:35:02,352 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:35:02,353 - DEBUG - Profit ID from database is 228
2018-02-26 03:35:02,353 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:35:02,353 - DEBUG - Stop ID database is 0
2018-02-26 03:35:02,353 - DEBUG - Entry ID database is 228
2018-02-26 03:35:02,354 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DF98>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 03:35:02,355 - DEBUG - Order OrderID 227
2018-02-26 03:35:02,355 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:35:02,356 - DEBUG - Order status PreSubmitted
2018-02-26 03:35:02,356 - DEBUG - Order Identification 227
2018-02-26 03:35:02,356 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:35:02,356 - DEBUG - Profit ID from database is 228
2018-02-26 03:35:02,356 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:35:02,357 - DEBUG - Stop ID database is 0
2018-02-26 03:35:02,357 - DEBUG - Entry ID database is 228
2018-02-26 03:35:04,349 - DEBUG - Connecting to database
2018-02-26 03:35:04,356 - DEBUG - Connected to database
2018-02-26 03:35:04,358 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,358 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:35:04,359 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,360 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:35:04,361 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,361 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:35:04,363 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,363 - DEBUG - Stop quantity 1
2018-02-26 03:35:04,364 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,365 - DEBUG - Direction is Short
2018-02-26 03:35:04,366 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,367 - DEBUG - Count is 0
2018-02-26 03:35:04,368 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:35:04,368 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:35:04,369 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:35:04,370 - DEBUG - Max ID Order is (228,)
2018-02-26 03:35:04,370 - DEBUG - Today is 2018-02-26
2018-02-26 03:35:04,371 - DEBUG - Day of the week 0
2018-02-26 03:35:04,371 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:35:04,371 - DEBUG - In Position is  0
2018-02-26 03:35:04,371 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:35:04,372 - DEBUG - curStopLossFlag is  0
2018-02-26 03:35:04,372 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:35:04,372 - DEBUG - Checking if Entry has been filled
2018-02-26 03:35:04,372 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:35:04,374 - DEBUG - EntryPend is 1
2018-02-26 03:35:04,374 - DEBUG - Try to Cancel Stop
2018-02-26 03:35:04,374 - DEBUG - Stop API ID 0
2018-02-26 03:35:04,375 - DEBUG - Profit API ID 0
2018-02-26 03:35:04,375 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:35:04,375 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:35:04,375 - DEBUG - Pos is 0
2018-02-26 03:35:04,375 - DEBUG - CurCount is 0
2018-02-26 03:35:04,376 - DEBUG - In Pos 0
2018-02-26 03:35:04,376 - DEBUG - Stop ID is 0
2018-02-26 03:35:04,376 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:35:04,378 - DEBUG - EntryPend is 1
2018-02-26 03:35:04,378 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:35:04,378 - DEBUG - Entry Date is 10
2018-02-26 03:35:04,378 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:35:04,379 - DEBUG - Order Profit ID is 228
2018-02-26 03:35:04,379 - DEBUG - Order Entry ID is 228
2018-02-26 03:35:04,379 - DEBUG - API ID is  0
2018-02-26 03:35:04,379 - DEBUG - Current Position is 0
2018-02-26 03:35:04,379 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:35:04,380 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:35:04,380 - DEBUG - Time is 3
2018-02-26 03:35:04,380 - DEBUG - Time is <class 'int'>
2018-02-26 03:35:04,380 - DEBUG - Disconnected from IBController
2018-02-26 03:35:04,382 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:40:00,270 - DEBUG - ****************************************************
2018-02-26 03:40:00,270 - DEBUG - Current Time is 03:40AM
2018-02-26 03:40:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:40:00,271 - DEBUG - Connecting to database
2018-02-26 03:40:00,337 - DEBUG - Connected to database
2018-02-26 03:40:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:00,344 - DEBUG - Order Profit is 228
2018-02-26 03:40:00,345 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:00,349 - DEBUG - Stop ID is 0
2018-02-26 03:40:00,349 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:00,353 - DEBUG - Entry ID is 228
2018-02-26 03:40:00,353 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:40:00,355 - DEBUG - OCA ID is 1
2018-02-26 03:40:00,356 - DEBUG - Connecting to IBController
2018-02-26 03:40:01,369 - DEBUG - Connected to IBController
2018-02-26 03:40:01,369 - DEBUG - Position requested
2018-02-26 03:40:01,371 - DEBUG - Pos Mgmt -12987
2018-02-26 03:40:01,371 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:40:01,372 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:40:01,372 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:40:01,372 - DEBUG - Position is -12987
2018-02-26 03:40:02,370 - DEBUG - Open Orders requested
2018-02-26 03:40:02,372 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, order=<ib.ext.Order.Order object at 0x00000000020CDD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161160>>
2018-02-26 03:40:02,373 - DEBUG - Order OrderID 225
2018-02-26 03:40:02,373 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:40:02,374 - DEBUG - Order status PreSubmitted
2018-02-26 03:40:02,374 - DEBUG - Order Identification 225
2018-02-26 03:40:02,374 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:40:02,375 - DEBUG - Profit ID from database is 228
2018-02-26 03:40:02,375 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:40:02,375 - DEBUG - Stop ID database is 0
2018-02-26 03:40:02,375 - DEBUG - Entry ID database is 228
2018-02-26 03:40:02,377 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, order=<ib.ext.Order.Order object at 0x00000000020CDD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161128>>
2018-02-26 03:40:02,377 - DEBUG - Order OrderID 227
2018-02-26 03:40:02,377 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:40:02,378 - DEBUG - Order status PreSubmitted
2018-02-26 03:40:02,378 - DEBUG - Order Identification 227
2018-02-26 03:40:02,378 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:40:02,378 - DEBUG - Profit ID from database is 228
2018-02-26 03:40:02,379 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:40:02,379 - DEBUG - Stop ID database is 0
2018-02-26 03:40:02,379 - DEBUG - Entry ID database is 228
2018-02-26 03:40:04,373 - DEBUG - Connecting to database
2018-02-26 03:40:04,380 - DEBUG - Connected to database
2018-02-26 03:40:04,381 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,382 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:40:04,383 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,383 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:40:04,385 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,385 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:40:04,386 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,387 - DEBUG - Stop quantity 1
2018-02-26 03:40:04,388 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,388 - DEBUG - Direction is Short
2018-02-26 03:40:04,390 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,390 - DEBUG - Count is 0
2018-02-26 03:40:04,391 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:40:04,392 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:40:04,393 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:40:04,393 - DEBUG - Max ID Order is (228,)
2018-02-26 03:40:04,394 - DEBUG - Today is 2018-02-26
2018-02-26 03:40:04,394 - DEBUG - Day of the week 0
2018-02-26 03:40:04,394 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:40:04,395 - DEBUG - In Position is  0
2018-02-26 03:40:04,395 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:40:04,395 - DEBUG - curStopLossFlag is  0
2018-02-26 03:40:04,395 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:40:04,395 - DEBUG - Checking if Entry has been filled
2018-02-26 03:40:04,396 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:40:04,397 - DEBUG - EntryPend is 1
2018-02-26 03:40:04,397 - DEBUG - Try to Cancel Stop
2018-02-26 03:40:04,398 - DEBUG - Stop API ID 0
2018-02-26 03:40:04,398 - DEBUG - Profit API ID 0
2018-02-26 03:40:04,398 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:40:04,398 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:40:04,398 - DEBUG - Pos is 0
2018-02-26 03:40:04,399 - DEBUG - CurCount is 0
2018-02-26 03:40:04,399 - DEBUG - In Pos 0
2018-02-26 03:40:04,399 - DEBUG - Stop ID is 0
2018-02-26 03:40:04,399 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:40:04,401 - DEBUG - EntryPend is 1
2018-02-26 03:40:04,401 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:40:04,401 - DEBUG - Entry Date is 10
2018-02-26 03:40:04,401 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:40:04,402 - DEBUG - Order Profit ID is 228
2018-02-26 03:40:04,402 - DEBUG - Order Entry ID is 228
2018-02-26 03:40:04,402 - DEBUG - API ID is  0
2018-02-26 03:40:04,402 - DEBUG - Current Position is 0
2018-02-26 03:40:04,403 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:40:04,403 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:40:04,403 - DEBUG - Time is 3
2018-02-26 03:40:04,403 - DEBUG - Time is <class 'int'>
2018-02-26 03:40:04,404 - DEBUG - Disconnected from IBController
2018-02-26 03:40:04,404 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:45:00,256 - DEBUG - ****************************************************
2018-02-26 03:45:00,257 - DEBUG - Current Time is 03:45AM
2018-02-26 03:45:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:45:00,257 - DEBUG - Connecting to database
2018-02-26 03:45:00,337 - DEBUG - Connected to database
2018-02-26 03:45:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:00,343 - DEBUG - Order Profit is 228
2018-02-26 03:45:00,343 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:00,345 - DEBUG - Stop ID is 0
2018-02-26 03:45:00,345 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:00,349 - DEBUG - Entry ID is 228
2018-02-26 03:45:00,349 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:45:00,353 - DEBUG - OCA ID is 1
2018-02-26 03:45:00,353 - DEBUG - Connecting to IBController
2018-02-26 03:45:01,366 - DEBUG - Connected to IBController
2018-02-26 03:45:01,366 - DEBUG - Position requested
2018-02-26 03:45:01,368 - DEBUG - Pos Mgmt -12987
2018-02-26 03:45:01,368 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:45:01,369 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:45:01,369 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:45:01,369 - DEBUG - Position is -12987
2018-02-26 03:45:02,368 - DEBUG - Open Orders requested
2018-02-26 03:45:02,370 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, order=<ib.ext.Order.Order object at 0x000000000203DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-26 03:45:02,371 - DEBUG - Order OrderID 225
2018-02-26 03:45:02,371 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:45:02,372 - DEBUG - Order status PreSubmitted
2018-02-26 03:45:02,372 - DEBUG - Order Identification 225
2018-02-26 03:45:02,372 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:45:02,373 - DEBUG - Profit ID from database is 228
2018-02-26 03:45:02,373 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:45:02,373 - DEBUG - Stop ID database is 0
2018-02-26 03:45:02,373 - DEBUG - Entry ID database is 228
2018-02-26 03:45:02,374 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, order=<ib.ext.Order.Order object at 0x000000000203DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-26 03:45:02,375 - DEBUG - Order OrderID 227
2018-02-26 03:45:02,375 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:45:02,376 - DEBUG - Order status PreSubmitted
2018-02-26 03:45:02,376 - DEBUG - Order Identification 227
2018-02-26 03:45:02,376 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:45:02,376 - DEBUG - Profit ID from database is 228
2018-02-26 03:45:02,376 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:45:02,377 - DEBUG - Stop ID database is 0
2018-02-26 03:45:02,377 - DEBUG - Entry ID database is 228
2018-02-26 03:45:04,371 - DEBUG - Connecting to database
2018-02-26 03:45:04,378 - DEBUG - Connected to database
2018-02-26 03:45:04,380 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,380 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:45:04,381 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,382 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:45:04,383 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,384 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:45:04,385 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,385 - DEBUG - Stop quantity 1
2018-02-26 03:45:04,387 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,387 - DEBUG - Direction is Short
2018-02-26 03:45:04,388 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,389 - DEBUG - Count is 0
2018-02-26 03:45:04,390 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:45:04,390 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:45:04,392 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:45:04,392 - DEBUG - Max ID Order is (228,)
2018-02-26 03:45:04,392 - DEBUG - Today is 2018-02-26
2018-02-26 03:45:04,393 - DEBUG - Day of the week 0
2018-02-26 03:45:04,393 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:45:04,393 - DEBUG - In Position is  0
2018-02-26 03:45:04,394 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:45:04,394 - DEBUG - curStopLossFlag is  0
2018-02-26 03:45:04,394 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:45:04,394 - DEBUG - Checking if Entry has been filled
2018-02-26 03:45:04,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:45:04,396 - DEBUG - EntryPend is 1
2018-02-26 03:45:04,396 - DEBUG - Try to Cancel Stop
2018-02-26 03:45:04,396 - DEBUG - Stop API ID 0
2018-02-26 03:45:04,397 - DEBUG - Profit API ID 0
2018-02-26 03:45:04,397 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:45:04,397 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:45:04,397 - DEBUG - Pos is 0
2018-02-26 03:45:04,398 - DEBUG - CurCount is 0
2018-02-26 03:45:04,398 - DEBUG - In Pos 0
2018-02-26 03:45:04,398 - DEBUG - Stop ID is 0
2018-02-26 03:45:04,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:45:04,400 - DEBUG - EntryPend is 1
2018-02-26 03:45:04,400 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:45:04,400 - DEBUG - Entry Date is 10
2018-02-26 03:45:04,400 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:45:04,400 - DEBUG - Order Profit ID is 228
2018-02-26 03:45:04,401 - DEBUG - Order Entry ID is 228
2018-02-26 03:45:04,401 - DEBUG - API ID is  0
2018-02-26 03:45:04,401 - DEBUG - Current Position is 0
2018-02-26 03:45:04,401 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:45:04,402 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:45:04,402 - DEBUG - Time is 3
2018-02-26 03:45:04,402 - DEBUG - Time is <class 'int'>
2018-02-26 03:45:04,402 - DEBUG - Disconnected from IBController
2018-02-26 03:45:04,403 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:50:00,263 - DEBUG - ****************************************************
2018-02-26 03:50:00,264 - DEBUG - Current Time is 03:50AM
2018-02-26 03:50:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:50:00,264 - DEBUG - Connecting to database
2018-02-26 03:50:00,318 - DEBUG - Connected to database
2018-02-26 03:50:00,319 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:00,325 - DEBUG - Order Profit is 228
2018-02-26 03:50:00,325 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:00,326 - DEBUG - Stop ID is 0
2018-02-26 03:50:00,327 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:00,330 - DEBUG - Entry ID is 228
2018-02-26 03:50:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:50:00,332 - DEBUG - OCA ID is 1
2018-02-26 03:50:00,333 - DEBUG - Connecting to IBController
2018-02-26 03:50:01,344 - DEBUG - Connected to IBController
2018-02-26 03:50:01,344 - DEBUG - Position requested
2018-02-26 03:50:01,347 - DEBUG - Pos Mgmt -12987
2018-02-26 03:50:01,347 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:50:01,348 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:50:01,348 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:50:01,348 - DEBUG - Position is -12987
2018-02-26 03:50:02,345 - DEBUG - Open Orders requested
2018-02-26 03:50:02,351 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, order=<ib.ext.Order.Order object at 0x000000000206DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 03:50:02,352 - DEBUG - Order OrderID 225
2018-02-26 03:50:02,352 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:50:02,353 - DEBUG - Order status PreSubmitted
2018-02-26 03:50:02,353 - DEBUG - Order Identification 225
2018-02-26 03:50:02,353 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:50:02,354 - DEBUG - Profit ID from database is 228
2018-02-26 03:50:02,354 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:50:02,354 - DEBUG - Stop ID database is 0
2018-02-26 03:50:02,354 - DEBUG - Entry ID database is 228
2018-02-26 03:50:02,355 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, order=<ib.ext.Order.Order object at 0x000000000206DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 03:50:02,356 - DEBUG - Order OrderID 227
2018-02-26 03:50:02,356 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:50:02,356 - DEBUG - Order status PreSubmitted
2018-02-26 03:50:02,357 - DEBUG - Order Identification 227
2018-02-26 03:50:02,357 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:50:02,357 - DEBUG - Profit ID from database is 228
2018-02-26 03:50:02,357 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:50:02,358 - DEBUG - Stop ID database is 0
2018-02-26 03:50:02,358 - DEBUG - Entry ID database is 228
2018-02-26 03:50:04,352 - DEBUG - Connecting to database
2018-02-26 03:50:04,359 - DEBUG - Connected to database
2018-02-26 03:50:04,360 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,361 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:50:04,362 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,362 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:50:04,364 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,364 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:50:04,365 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,366 - DEBUG - Stop quantity 1
2018-02-26 03:50:04,367 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,367 - DEBUG - Direction is Short
2018-02-26 03:50:04,369 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,369 - DEBUG - Count is 0
2018-02-26 03:50:04,371 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:50:04,371 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:50:04,372 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:50:04,373 - DEBUG - Max ID Order is (228,)
2018-02-26 03:50:04,373 - DEBUG - Today is 2018-02-26
2018-02-26 03:50:04,374 - DEBUG - Day of the week 0
2018-02-26 03:50:04,374 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:50:04,374 - DEBUG - In Position is  0
2018-02-26 03:50:04,374 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:50:04,375 - DEBUG - curStopLossFlag is  0
2018-02-26 03:50:04,375 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:50:04,375 - DEBUG - Checking if Entry has been filled
2018-02-26 03:50:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:50:04,377 - DEBUG - EntryPend is 1
2018-02-26 03:50:04,377 - DEBUG - Try to Cancel Stop
2018-02-26 03:50:04,377 - DEBUG - Stop API ID 0
2018-02-26 03:50:04,377 - DEBUG - Profit API ID 0
2018-02-26 03:50:04,377 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:50:04,378 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:50:04,378 - DEBUG - Pos is 0
2018-02-26 03:50:04,378 - DEBUG - CurCount is 0
2018-02-26 03:50:04,378 - DEBUG - In Pos 0
2018-02-26 03:50:04,379 - DEBUG - Stop ID is 0
2018-02-26 03:50:04,379 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:50:04,380 - DEBUG - EntryPend is 1
2018-02-26 03:50:04,380 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:50:04,381 - DEBUG - Entry Date is 10
2018-02-26 03:50:04,381 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:50:04,381 - DEBUG - Order Profit ID is 228
2018-02-26 03:50:04,381 - DEBUG - Order Entry ID is 228
2018-02-26 03:50:04,382 - DEBUG - API ID is  0
2018-02-26 03:50:04,382 - DEBUG - Current Position is 0
2018-02-26 03:50:04,382 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:50:04,382 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:50:04,383 - DEBUG - Time is 3
2018-02-26 03:50:04,383 - DEBUG - Time is <class 'int'>
2018-02-26 03:50:04,383 - DEBUG - Disconnected from IBController
2018-02-26 03:50:04,383 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 03:55:00,273 - DEBUG - ****************************************************
2018-02-26 03:55:00,273 - DEBUG - Current Time is 03:55AM
2018-02-26 03:55:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-26 03:55:00,274 - DEBUG - Connecting to database
2018-02-26 03:55:00,335 - DEBUG - Connected to database
2018-02-26 03:55:00,335 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:00,339 - DEBUG - Order Profit is 228
2018-02-26 03:55:00,339 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:00,340 - DEBUG - Stop ID is 0
2018-02-26 03:55:00,341 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:00,342 - DEBUG - Entry ID is 228
2018-02-26 03:55:00,343 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 03:55:00,344 - DEBUG - OCA ID is 1
2018-02-26 03:55:00,344 - DEBUG - Connecting to IBController
2018-02-26 03:55:01,350 - DEBUG - Connected to IBController
2018-02-26 03:55:01,350 - DEBUG - Position requested
2018-02-26 03:55:01,353 - DEBUG - Pos Mgmt -12987
2018-02-26 03:55:01,353 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 03:55:01,354 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 03:55:01,354 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 03:55:01,354 - DEBUG - Position is -12987
2018-02-26 03:55:02,350 - DEBUG - Open Orders requested
2018-02-26 03:55:02,354 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, order=<ib.ext.Order.Order object at 0x000000000204DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-26 03:55:02,355 - DEBUG - Order OrderID 225
2018-02-26 03:55:02,355 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:55:02,355 - DEBUG - Order status PreSubmitted
2018-02-26 03:55:02,356 - DEBUG - Order Identification 225
2018-02-26 03:55:02,356 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:55:02,356 - DEBUG - Profit ID from database is 228
2018-02-26 03:55:02,357 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:55:02,357 - DEBUG - Stop ID database is 0
2018-02-26 03:55:02,357 - DEBUG - Entry ID database is 228
2018-02-26 03:55:02,358 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-02-26 03:55:02,359 - DEBUG - Order OrderID 227
2018-02-26 03:55:02,359 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 03:55:02,359 - DEBUG - Order status PreSubmitted
2018-02-26 03:55:02,359 - DEBUG - Order Identification 227
2018-02-26 03:55:02,360 - DEBUG - Order Identification <class 'int'>
2018-02-26 03:55:02,360 - DEBUG - Profit ID from database is 228
2018-02-26 03:55:02,360 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 03:55:02,360 - DEBUG - Stop ID database is 0
2018-02-26 03:55:02,361 - DEBUG - Entry ID database is 228
2018-02-26 03:55:04,351 - DEBUG - Connecting to database
2018-02-26 03:55:04,359 - DEBUG - Connected to database
2018-02-26 03:55:04,360 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,361 - DEBUG - Stop loss value is 2731.25
2018-02-26 03:55:04,363 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,363 - DEBUG - Stop loss value is 2671.5
2018-02-26 03:55:04,364 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,365 - DEBUG - EntryPrice value is 2681.0
2018-02-26 03:55:04,366 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,366 - DEBUG - Stop quantity 1
2018-02-26 03:55:04,368 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,368 - DEBUG - Direction is Short
2018-02-26 03:55:04,370 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,371 - DEBUG - Count is 0
2018-02-26 03:55:04,372 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 03:55:04,372 - DEBUG - Stop Loss Flag is 0
2018-02-26 03:55:04,374 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 03:55:04,374 - DEBUG - Max ID Order is (228,)
2018-02-26 03:55:04,374 - DEBUG - Today is 2018-02-26
2018-02-26 03:55:04,375 - DEBUG - Day of the week 0
2018-02-26 03:55:04,375 - DEBUG - Yesterday is 02/23/2018
2018-02-26 03:55:04,375 - DEBUG - In Position is  0
2018-02-26 03:55:04,376 - DEBUG - In Position is  <class 'int'>
2018-02-26 03:55:04,376 - DEBUG - curStopLossFlag is  0
2018-02-26 03:55:04,376 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 03:55:04,376 - DEBUG - Checking if Entry has been filled
2018-02-26 03:55:04,376 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:55:04,378 - DEBUG - EntryPend is 1
2018-02-26 03:55:04,378 - DEBUG - Try to Cancel Stop
2018-02-26 03:55:04,378 - DEBUG - Stop API ID 0
2018-02-26 03:55:04,379 - DEBUG - Profit API ID 0
2018-02-26 03:55:04,379 - DEBUG - Stop API ID <class 'int'>
2018-02-26 03:55:04,379 - DEBUG - Profit API ID <class 'int'>
2018-02-26 03:55:04,379 - DEBUG - Pos is 0
2018-02-26 03:55:04,380 - DEBUG - CurCount is 0
2018-02-26 03:55:04,380 - DEBUG - In Pos 0
2018-02-26 03:55:04,380 - DEBUG - Stop ID is 0
2018-02-26 03:55:04,380 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 03:55:04,382 - DEBUG - EntryPend is 1
2018-02-26 03:55:04,382 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 03:55:04,382 - DEBUG - Entry Date is 10
2018-02-26 03:55:04,382 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 03:55:04,383 - DEBUG - Order Profit ID is 228
2018-02-26 03:55:04,383 - DEBUG - Order Entry ID is 228
2018-02-26 03:55:04,383 - DEBUG - API ID is  0
2018-02-26 03:55:04,383 - DEBUG - Current Position is 0
2018-02-26 03:55:04,383 - DEBUG - Current Position is <class 'str'>
2018-02-26 03:55:04,384 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 03:55:04,384 - DEBUG - Time is 3
2018-02-26 03:55:04,384 - DEBUG - Time is <class 'int'>
2018-02-26 03:55:04,384 - DEBUG - Disconnected from IBController
2018-02-26 03:55:04,386 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:00:00,270 - DEBUG - ****************************************************
2018-02-26 04:00:00,270 - DEBUG - Current Time is 04:00AM
2018-02-26 04:00:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:00:00,271 - DEBUG - Connecting to database
2018-02-26 04:00:00,454 - DEBUG - Connected to database
2018-02-26 04:00:00,455 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:00,459 - DEBUG - Order Profit is 228
2018-02-26 04:00:00,459 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:00,504 - DEBUG - Stop ID is 0
2018-02-26 04:00:00,505 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:00,520 - DEBUG - Entry ID is 228
2018-02-26 04:00:00,520 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:00:00,538 - DEBUG - OCA ID is 1
2018-02-26 04:00:00,539 - DEBUG - Connecting to IBController
2018-02-26 04:00:01,549 - DEBUG - Connected to IBController
2018-02-26 04:00:01,549 - DEBUG - Position requested
2018-02-26 04:00:01,551 - DEBUG - Pos Mgmt -12987
2018-02-26 04:00:01,552 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:00:01,552 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:00:01,552 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:00:01,553 - DEBUG - Position is -12987
2018-02-26 04:00:02,551 - DEBUG - Open Orders requested
2018-02-26 04:00:02,554 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CC88>, order=<ib.ext.Order.Order object at 0x000000000207CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120F0>>
2018-02-26 04:00:02,555 - DEBUG - Order OrderID 225
2018-02-26 04:00:02,555 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:00:02,556 - DEBUG - Order status PreSubmitted
2018-02-26 04:00:02,556 - DEBUG - Order Identification 225
2018-02-26 04:00:02,556 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:00:02,557 - DEBUG - Profit ID from database is 228
2018-02-26 04:00:02,557 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:00:02,557 - DEBUG - Stop ID database is 0
2018-02-26 04:00:02,557 - DEBUG - Entry ID database is 228
2018-02-26 04:00:02,558 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207CFD0>, order=<ib.ext.Order.Order object at 0x000000000207CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-02-26 04:00:02,559 - DEBUG - Order OrderID 227
2018-02-26 04:00:02,559 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:00:02,560 - DEBUG - Order status PreSubmitted
2018-02-26 04:00:02,560 - DEBUG - Order Identification 227
2018-02-26 04:00:02,560 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:00:02,560 - DEBUG - Profit ID from database is 228
2018-02-26 04:00:02,561 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:00:02,561 - DEBUG - Stop ID database is 0
2018-02-26 04:00:02,561 - DEBUG - Entry ID database is 228
2018-02-26 04:00:04,552 - DEBUG - Connecting to database
2018-02-26 04:00:04,559 - DEBUG - Connected to database
2018-02-26 04:00:04,561 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,561 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:00:04,563 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,563 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:00:04,564 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,565 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:00:04,566 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,566 - DEBUG - Stop quantity 1
2018-02-26 04:00:04,568 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,568 - DEBUG - Direction is Short
2018-02-26 04:00:04,569 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,570 - DEBUG - Count is 0
2018-02-26 04:00:04,571 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:00:04,571 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:00:04,573 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:00:04,573 - DEBUG - Max ID Order is (228,)
2018-02-26 04:00:04,573 - DEBUG - Today is 2018-02-26
2018-02-26 04:00:04,574 - DEBUG - Day of the week 0
2018-02-26 04:00:04,574 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:00:04,574 - DEBUG - In Position is  0
2018-02-26 04:00:04,575 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:00:04,575 - DEBUG - curStopLossFlag is  0
2018-02-26 04:00:04,575 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:00:04,575 - DEBUG - Checking if Entry has been filled
2018-02-26 04:00:04,575 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:00:04,577 - DEBUG - EntryPend is 1
2018-02-26 04:00:04,577 - DEBUG - Try to Cancel Stop
2018-02-26 04:00:04,577 - DEBUG - Stop API ID 0
2018-02-26 04:00:04,578 - DEBUG - Profit API ID 0
2018-02-26 04:00:04,578 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:00:04,578 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:00:04,578 - DEBUG - Pos is 0
2018-02-26 04:00:04,579 - DEBUG - CurCount is 0
2018-02-26 04:00:04,579 - DEBUG - In Pos 0
2018-02-26 04:00:04,579 - DEBUG - Stop ID is 0
2018-02-26 04:00:04,579 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:00:04,581 - DEBUG - EntryPend is 1
2018-02-26 04:00:04,581 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:00:04,581 - DEBUG - Entry Date is 10
2018-02-26 04:00:04,581 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:00:04,582 - DEBUG - Order Profit ID is 228
2018-02-26 04:00:04,582 - DEBUG - Order Entry ID is 228
2018-02-26 04:00:04,582 - DEBUG - API ID is  0
2018-02-26 04:00:04,582 - DEBUG - Current Position is 0
2018-02-26 04:00:04,582 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:00:04,583 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:00:04,583 - DEBUG - Time is 4
2018-02-26 04:00:04,583 - DEBUG - Time is <class 'int'>
2018-02-26 04:00:04,584 - DEBUG - Disconnected from IBController
2018-02-26 04:00:04,585 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:05:00,248 - DEBUG - ****************************************************
2018-02-26 04:05:00,249 - DEBUG - Current Time is 04:05AM
2018-02-26 04:05:00,249 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:05:00,249 - DEBUG - Connecting to database
2018-02-26 04:05:00,324 - DEBUG - Connected to database
2018-02-26 04:05:00,325 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:00,330 - DEBUG - Order Profit is 228
2018-02-26 04:05:00,331 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:00,353 - DEBUG - Stop ID is 0
2018-02-26 04:05:00,354 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:00,360 - DEBUG - Entry ID is 228
2018-02-26 04:05:00,360 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:05:00,362 - DEBUG - OCA ID is 1
2018-02-26 04:05:00,362 - DEBUG - Connecting to IBController
2018-02-26 04:05:01,371 - DEBUG - Connected to IBController
2018-02-26 04:05:01,371 - DEBUG - Position requested
2018-02-26 04:05:01,374 - DEBUG - Pos Mgmt -12987
2018-02-26 04:05:01,374 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:05:01,375 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:05:01,375 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:05:01,375 - DEBUG - Position is -12987
2018-02-26 04:05:02,372 - DEBUG - Open Orders requested
2018-02-26 04:05:02,383 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CA58>, order=<ib.ext.Order.Order object at 0x000000000209CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132160>>
2018-02-26 04:05:02,383 - DEBUG - Order OrderID 225
2018-02-26 04:05:02,384 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:05:02,384 - DEBUG - Order status PreSubmitted
2018-02-26 04:05:02,384 - DEBUG - Order Identification 225
2018-02-26 04:05:02,385 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:05:02,385 - DEBUG - Profit ID from database is 228
2018-02-26 04:05:02,385 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:05:02,385 - DEBUG - Stop ID database is 0
2018-02-26 04:05:02,385 - DEBUG - Entry ID database is 228
2018-02-26 04:05:02,387 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209CA58>, order=<ib.ext.Order.Order object at 0x000000000209CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021320F0>>
2018-02-26 04:05:02,387 - DEBUG - Order OrderID 227
2018-02-26 04:05:02,387 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:05:02,388 - DEBUG - Order status PreSubmitted
2018-02-26 04:05:02,388 - DEBUG - Order Identification 227
2018-02-26 04:05:02,388 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:05:02,388 - DEBUG - Profit ID from database is 228
2018-02-26 04:05:02,389 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:05:02,389 - DEBUG - Stop ID database is 0
2018-02-26 04:05:02,389 - DEBUG - Entry ID database is 228
2018-02-26 04:05:04,383 - DEBUG - Connecting to database
2018-02-26 04:05:04,390 - DEBUG - Connected to database
2018-02-26 04:05:04,392 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,392 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:05:04,393 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,394 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:05:04,395 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,396 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:05:04,397 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,397 - DEBUG - Stop quantity 1
2018-02-26 04:05:04,399 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,399 - DEBUG - Direction is Short
2018-02-26 04:05:04,400 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,401 - DEBUG - Count is 0
2018-02-26 04:05:04,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:05:04,402 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:05:04,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:05:04,404 - DEBUG - Max ID Order is (228,)
2018-02-26 04:05:04,404 - DEBUG - Today is 2018-02-26
2018-02-26 04:05:04,405 - DEBUG - Day of the week 0
2018-02-26 04:05:04,405 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:05:04,405 - DEBUG - In Position is  0
2018-02-26 04:05:04,406 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:05:04,406 - DEBUG - curStopLossFlag is  0
2018-02-26 04:05:04,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:05:04,406 - DEBUG - Checking if Entry has been filled
2018-02-26 04:05:04,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:05:04,408 - DEBUG - EntryPend is 1
2018-02-26 04:05:04,408 - DEBUG - Try to Cancel Stop
2018-02-26 04:05:04,408 - DEBUG - Stop API ID 0
2018-02-26 04:05:04,409 - DEBUG - Profit API ID 0
2018-02-26 04:05:04,409 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:05:04,409 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:05:04,409 - DEBUG - Pos is 0
2018-02-26 04:05:04,409 - DEBUG - CurCount is 0
2018-02-26 04:05:04,410 - DEBUG - In Pos 0
2018-02-26 04:05:04,410 - DEBUG - Stop ID is 0
2018-02-26 04:05:04,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:05:04,412 - DEBUG - EntryPend is 1
2018-02-26 04:05:04,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:05:04,412 - DEBUG - Entry Date is 10
2018-02-26 04:05:04,412 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:05:04,412 - DEBUG - Order Profit ID is 228
2018-02-26 04:05:04,413 - DEBUG - Order Entry ID is 228
2018-02-26 04:05:04,413 - DEBUG - API ID is  0
2018-02-26 04:05:04,413 - DEBUG - Current Position is 0
2018-02-26 04:05:04,413 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:05:04,414 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:05:04,414 - DEBUG - Time is 4
2018-02-26 04:05:04,414 - DEBUG - Time is <class 'int'>
2018-02-26 04:05:04,414 - DEBUG - Disconnected from IBController
2018-02-26 04:05:04,415 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:10:00,265 - DEBUG - ****************************************************
2018-02-26 04:10:00,265 - DEBUG - Current Time is 04:10AM
2018-02-26 04:10:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:10:00,266 - DEBUG - Connecting to database
2018-02-26 04:10:00,290 - DEBUG - Connected to database
2018-02-26 04:10:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:00,292 - DEBUG - Order Profit is 228
2018-02-26 04:10:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:00,294 - DEBUG - Stop ID is 0
2018-02-26 04:10:00,294 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:00,295 - DEBUG - Entry ID is 228
2018-02-26 04:10:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:10:00,297 - DEBUG - OCA ID is 1
2018-02-26 04:10:00,297 - DEBUG - Connecting to IBController
2018-02-26 04:10:01,306 - DEBUG - Connected to IBController
2018-02-26 04:10:01,306 - DEBUG - Position requested
2018-02-26 04:10:01,308 - DEBUG - Pos Mgmt -12987
2018-02-26 04:10:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:10:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:10:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:10:01,309 - DEBUG - Position is -12987
2018-02-26 04:10:02,308 - DEBUG - Open Orders requested
2018-02-26 04:10:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-26 04:10:02,316 - DEBUG - Order OrderID 225
2018-02-26 04:10:02,321 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:10:02,322 - DEBUG - Order status PreSubmitted
2018-02-26 04:10:02,322 - DEBUG - Order Identification 225
2018-02-26 04:10:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:10:02,323 - DEBUG - Profit ID from database is 228
2018-02-26 04:10:02,323 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:10:02,323 - DEBUG - Stop ID database is 0
2018-02-26 04:10:02,324 - DEBUG - Entry ID database is 228
2018-02-26 04:10:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-26 04:10:02,325 - DEBUG - Order OrderID 227
2018-02-26 04:10:02,326 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:10:02,326 - DEBUG - Order status PreSubmitted
2018-02-26 04:10:02,326 - DEBUG - Order Identification 227
2018-02-26 04:10:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:10:02,327 - DEBUG - Profit ID from database is 228
2018-02-26 04:10:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:10:02,327 - DEBUG - Stop ID database is 0
2018-02-26 04:10:02,328 - DEBUG - Entry ID database is 228
2018-02-26 04:10:04,311 - DEBUG - Connecting to database
2018-02-26 04:10:04,318 - DEBUG - Connected to database
2018-02-26 04:10:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,320 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:10:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,322 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:10:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,323 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:10:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,325 - DEBUG - Stop quantity 1
2018-02-26 04:10:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,326 - DEBUG - Direction is Short
2018-02-26 04:10:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,328 - DEBUG - Count is 0
2018-02-26 04:10:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:10:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:10:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:10:04,331 - DEBUG - Max ID Order is (228,)
2018-02-26 04:10:04,332 - DEBUG - Today is 2018-02-26
2018-02-26 04:10:04,332 - DEBUG - Day of the week 0
2018-02-26 04:10:04,333 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:10:04,333 - DEBUG - In Position is  0
2018-02-26 04:10:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:10:04,333 - DEBUG - curStopLossFlag is  0
2018-02-26 04:10:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:10:04,334 - DEBUG - Checking if Entry has been filled
2018-02-26 04:10:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:10:04,335 - DEBUG - EntryPend is 1
2018-02-26 04:10:04,336 - DEBUG - Try to Cancel Stop
2018-02-26 04:10:04,336 - DEBUG - Stop API ID 0
2018-02-26 04:10:04,336 - DEBUG - Profit API ID 0
2018-02-26 04:10:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:10:04,337 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:10:04,337 - DEBUG - Pos is 0
2018-02-26 04:10:04,337 - DEBUG - CurCount is 0
2018-02-26 04:10:04,337 - DEBUG - In Pos 0
2018-02-26 04:10:04,338 - DEBUG - Stop ID is 0
2018-02-26 04:10:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:10:04,339 - DEBUG - EntryPend is 1
2018-02-26 04:10:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:10:04,340 - DEBUG - Entry Date is 10
2018-02-26 04:10:04,340 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:10:04,340 - DEBUG - Order Profit ID is 228
2018-02-26 04:10:04,340 - DEBUG - Order Entry ID is 228
2018-02-26 04:10:04,341 - DEBUG - API ID is  0
2018-02-26 04:10:04,341 - DEBUG - Current Position is 0
2018-02-26 04:10:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:10:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:10:04,341 - DEBUG - Time is 4
2018-02-26 04:10:04,342 - DEBUG - Time is <class 'int'>
2018-02-26 04:10:04,342 - DEBUG - Disconnected from IBController
2018-02-26 04:10:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:15:00,265 - DEBUG - ****************************************************
2018-02-26 04:15:00,266 - DEBUG - Current Time is 04:15AM
2018-02-26 04:15:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:15:00,267 - DEBUG - Connecting to database
2018-02-26 04:15:00,372 - DEBUG - Connected to database
2018-02-26 04:15:00,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:00,381 - DEBUG - Order Profit is 228
2018-02-26 04:15:00,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:00,391 - DEBUG - Stop ID is 0
2018-02-26 04:15:00,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:00,398 - DEBUG - Entry ID is 228
2018-02-26 04:15:00,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:15:00,409 - DEBUG - OCA ID is 1
2018-02-26 04:15:00,409 - DEBUG - Connecting to IBController
2018-02-26 04:15:01,434 - DEBUG - Connected to IBController
2018-02-26 04:15:01,434 - DEBUG - Position requested
2018-02-26 04:15:01,436 - DEBUG - Pos Mgmt -12987
2018-02-26 04:15:01,436 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:15:01,437 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:15:01,437 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:15:01,437 - DEBUG - Position is -12987
2018-02-26 04:15:02,436 - DEBUG - Open Orders requested
2018-02-26 04:15:02,439 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 04:15:02,439 - DEBUG - Order OrderID 225
2018-02-26 04:15:02,440 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:15:02,440 - DEBUG - Order status PreSubmitted
2018-02-26 04:15:02,440 - DEBUG - Order Identification 225
2018-02-26 04:15:02,441 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:15:02,441 - DEBUG - Profit ID from database is 228
2018-02-26 04:15:02,442 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:15:02,442 - DEBUG - Stop ID database is 0
2018-02-26 04:15:02,442 - DEBUG - Entry ID database is 228
2018-02-26 04:15:02,443 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 04:15:02,444 - DEBUG - Order OrderID 227
2018-02-26 04:15:02,444 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:15:02,445 - DEBUG - Order status PreSubmitted
2018-02-26 04:15:02,445 - DEBUG - Order Identification 227
2018-02-26 04:15:02,445 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:15:02,445 - DEBUG - Profit ID from database is 228
2018-02-26 04:15:02,445 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:15:02,446 - DEBUG - Stop ID database is 0
2018-02-26 04:15:02,446 - DEBUG - Entry ID database is 228
2018-02-26 04:15:04,439 - DEBUG - Connecting to database
2018-02-26 04:15:04,446 - DEBUG - Connected to database
2018-02-26 04:15:04,448 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,448 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:15:04,450 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,450 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:15:04,452 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,452 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:15:04,453 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,453 - DEBUG - Stop quantity 1
2018-02-26 04:15:04,455 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,455 - DEBUG - Direction is Short
2018-02-26 04:15:04,456 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,457 - DEBUG - Count is 0
2018-02-26 04:15:04,458 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:15:04,458 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:15:04,460 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:15:04,460 - DEBUG - Max ID Order is (228,)
2018-02-26 04:15:04,461 - DEBUG - Today is 2018-02-26
2018-02-26 04:15:04,461 - DEBUG - Day of the week 0
2018-02-26 04:15:04,461 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:15:04,461 - DEBUG - In Position is  0
2018-02-26 04:15:04,462 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:15:04,462 - DEBUG - curStopLossFlag is  0
2018-02-26 04:15:04,462 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:15:04,462 - DEBUG - Checking if Entry has been filled
2018-02-26 04:15:04,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:15:04,464 - DEBUG - EntryPend is 1
2018-02-26 04:15:04,464 - DEBUG - Try to Cancel Stop
2018-02-26 04:15:04,465 - DEBUG - Stop API ID 0
2018-02-26 04:15:04,465 - DEBUG - Profit API ID 0
2018-02-26 04:15:04,465 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:15:04,465 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:15:04,466 - DEBUG - Pos is 0
2018-02-26 04:15:04,466 - DEBUG - CurCount is 0
2018-02-26 04:15:04,466 - DEBUG - In Pos 0
2018-02-26 04:15:04,466 - DEBUG - Stop ID is 0
2018-02-26 04:15:04,466 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:15:04,468 - DEBUG - EntryPend is 1
2018-02-26 04:15:04,468 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:15:04,468 - DEBUG - Entry Date is 10
2018-02-26 04:15:04,469 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:15:04,469 - DEBUG - Order Profit ID is 228
2018-02-26 04:15:04,469 - DEBUG - Order Entry ID is 228
2018-02-26 04:15:04,469 - DEBUG - API ID is  0
2018-02-26 04:15:04,469 - DEBUG - Current Position is 0
2018-02-26 04:15:04,470 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:15:04,470 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:15:04,470 - DEBUG - Time is 4
2018-02-26 04:15:04,470 - DEBUG - Time is <class 'int'>
2018-02-26 04:15:04,471 - DEBUG - Disconnected from IBController
2018-02-26 04:15:04,471 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:20:00,260 - DEBUG - ****************************************************
2018-02-26 04:20:00,260 - DEBUG - Current Time is 04:20AM
2018-02-26 04:20:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:20:00,261 - DEBUG - Connecting to database
2018-02-26 04:20:00,353 - DEBUG - Connected to database
2018-02-26 04:20:00,353 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:00,360 - DEBUG - Order Profit is 228
2018-02-26 04:20:00,360 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:00,387 - DEBUG - Stop ID is 0
2018-02-26 04:20:00,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:00,410 - DEBUG - Entry ID is 228
2018-02-26 04:20:00,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:20:00,412 - DEBUG - OCA ID is 1
2018-02-26 04:20:00,412 - DEBUG - Connecting to IBController
2018-02-26 04:20:01,419 - DEBUG - Connected to IBController
2018-02-26 04:20:01,419 - DEBUG - Position requested
2018-02-26 04:20:01,421 - DEBUG - Pos Mgmt -12987
2018-02-26 04:20:01,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:20:01,422 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:20:01,422 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:20:01,422 - DEBUG - Position is -12987
2018-02-26 04:20:02,420 - DEBUG - Open Orders requested
2018-02-26 04:20:02,422 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 04:20:02,423 - DEBUG - Order OrderID 225
2018-02-26 04:20:02,424 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:20:02,424 - DEBUG - Order status PreSubmitted
2018-02-26 04:20:02,424 - DEBUG - Order Identification 225
2018-02-26 04:20:02,425 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:20:02,425 - DEBUG - Profit ID from database is 228
2018-02-26 04:20:02,425 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:20:02,425 - DEBUG - Stop ID database is 0
2018-02-26 04:20:02,426 - DEBUG - Entry ID database is 228
2018-02-26 04:20:02,427 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DF98>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 04:20:02,427 - DEBUG - Order OrderID 227
2018-02-26 04:20:02,427 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:20:02,428 - DEBUG - Order status PreSubmitted
2018-02-26 04:20:02,428 - DEBUG - Order Identification 227
2018-02-26 04:20:02,428 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:20:02,428 - DEBUG - Profit ID from database is 228
2018-02-26 04:20:02,429 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:20:02,429 - DEBUG - Stop ID database is 0
2018-02-26 04:20:02,429 - DEBUG - Entry ID database is 228
2018-02-26 04:20:04,421 - DEBUG - Connecting to database
2018-02-26 04:20:04,428 - DEBUG - Connected to database
2018-02-26 04:20:04,430 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,430 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:20:04,432 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,432 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:20:04,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,435 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:20:04,436 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,437 - DEBUG - Stop quantity 1
2018-02-26 04:20:04,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,438 - DEBUG - Direction is Short
2018-02-26 04:20:04,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,440 - DEBUG - Count is 0
2018-02-26 04:20:04,442 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:20:04,442 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:20:04,445 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:20:04,446 - DEBUG - Max ID Order is (228,)
2018-02-26 04:20:04,446 - DEBUG - Today is 2018-02-26
2018-02-26 04:20:04,447 - DEBUG - Day of the week 0
2018-02-26 04:20:04,447 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:20:04,447 - DEBUG - In Position is  0
2018-02-26 04:20:04,447 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:20:04,448 - DEBUG - curStopLossFlag is  0
2018-02-26 04:20:04,448 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:20:04,448 - DEBUG - Checking if Entry has been filled
2018-02-26 04:20:04,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:20:04,450 - DEBUG - EntryPend is 1
2018-02-26 04:20:04,450 - DEBUG - Try to Cancel Stop
2018-02-26 04:20:04,450 - DEBUG - Stop API ID 0
2018-02-26 04:20:04,450 - DEBUG - Profit API ID 0
2018-02-26 04:20:04,451 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:20:04,451 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:20:04,451 - DEBUG - Pos is 0
2018-02-26 04:20:04,451 - DEBUG - CurCount is 0
2018-02-26 04:20:04,451 - DEBUG - In Pos 0
2018-02-26 04:20:04,452 - DEBUG - Stop ID is 0
2018-02-26 04:20:04,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:20:04,453 - DEBUG - EntryPend is 1
2018-02-26 04:20:04,454 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:20:04,454 - DEBUG - Entry Date is 10
2018-02-26 04:20:04,454 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:20:04,454 - DEBUG - Order Profit ID is 228
2018-02-26 04:20:04,455 - DEBUG - Order Entry ID is 228
2018-02-26 04:20:04,455 - DEBUG - API ID is  0
2018-02-26 04:20:04,455 - DEBUG - Current Position is 0
2018-02-26 04:20:04,455 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:20:04,455 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:20:04,456 - DEBUG - Time is 4
2018-02-26 04:20:04,456 - DEBUG - Time is <class 'int'>
2018-02-26 04:20:04,456 - DEBUG - Disconnected from IBController
2018-02-26 04:20:04,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:25:00,262 - DEBUG - ****************************************************
2018-02-26 04:25:00,263 - DEBUG - Current Time is 04:25AM
2018-02-26 04:25:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:25:00,263 - DEBUG - Connecting to database
2018-02-26 04:25:00,301 - DEBUG - Connected to database
2018-02-26 04:25:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:00,303 - DEBUG - Order Profit is 228
2018-02-26 04:25:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:00,305 - DEBUG - Stop ID is 0
2018-02-26 04:25:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:00,307 - DEBUG - Entry ID is 228
2018-02-26 04:25:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:25:00,319 - DEBUG - OCA ID is 1
2018-02-26 04:25:00,319 - DEBUG - Connecting to IBController
2018-02-26 04:25:01,328 - DEBUG - Connected to IBController
2018-02-26 04:25:01,328 - DEBUG - Position requested
2018-02-26 04:25:01,330 - DEBUG - Pos Mgmt -12987
2018-02-26 04:25:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:25:01,331 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:25:01,331 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:25:01,332 - DEBUG - Position is -12987
2018-02-26 04:25:02,330 - DEBUG - Open Orders requested
2018-02-26 04:25:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CA20>, order=<ib.ext.Order.Order object at 0x000000000207CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 04:25:02,333 - DEBUG - Order OrderID 225
2018-02-26 04:25:02,333 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:25:02,334 - DEBUG - Order status PreSubmitted
2018-02-26 04:25:02,334 - DEBUG - Order Identification 225
2018-02-26 04:25:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:25:02,335 - DEBUG - Profit ID from database is 228
2018-02-26 04:25:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:25:02,335 - DEBUG - Stop ID database is 0
2018-02-26 04:25:02,335 - DEBUG - Entry ID database is 228
2018-02-26 04:25:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207CA20>, order=<ib.ext.Order.Order object at 0x000000000207CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111048>>
2018-02-26 04:25:02,337 - DEBUG - Order OrderID 227
2018-02-26 04:25:02,337 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:25:02,337 - DEBUG - Order status PreSubmitted
2018-02-26 04:25:02,338 - DEBUG - Order Identification 227
2018-02-26 04:25:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:25:02,338 - DEBUG - Profit ID from database is 228
2018-02-26 04:25:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:25:02,339 - DEBUG - Stop ID database is 0
2018-02-26 04:25:02,339 - DEBUG - Entry ID database is 228
2018-02-26 04:25:04,333 - DEBUG - Connecting to database
2018-02-26 04:25:04,340 - DEBUG - Connected to database
2018-02-26 04:25:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,342 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:25:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,344 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:25:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,346 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:25:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,347 - DEBUG - Stop quantity 1
2018-02-26 04:25:04,349 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,349 - DEBUG - Direction is Short
2018-02-26 04:25:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,351 - DEBUG - Count is 0
2018-02-26 04:25:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:25:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:25:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:25:04,354 - DEBUG - Max ID Order is (228,)
2018-02-26 04:25:04,354 - DEBUG - Today is 2018-02-26
2018-02-26 04:25:04,355 - DEBUG - Day of the week 0
2018-02-26 04:25:04,355 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:25:04,355 - DEBUG - In Position is  0
2018-02-26 04:25:04,356 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:25:04,356 - DEBUG - curStopLossFlag is  0
2018-02-26 04:25:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:25:04,356 - DEBUG - Checking if Entry has been filled
2018-02-26 04:25:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:25:04,358 - DEBUG - EntryPend is 1
2018-02-26 04:25:04,358 - DEBUG - Try to Cancel Stop
2018-02-26 04:25:04,359 - DEBUG - Stop API ID 0
2018-02-26 04:25:04,359 - DEBUG - Profit API ID 0
2018-02-26 04:25:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:25:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:25:04,359 - DEBUG - Pos is 0
2018-02-26 04:25:04,360 - DEBUG - CurCount is 0
2018-02-26 04:25:04,360 - DEBUG - In Pos 0
2018-02-26 04:25:04,360 - DEBUG - Stop ID is 0
2018-02-26 04:25:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:25:04,362 - DEBUG - EntryPend is 1
2018-02-26 04:25:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:25:04,362 - DEBUG - Entry Date is 10
2018-02-26 04:25:04,362 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:25:04,363 - DEBUG - Order Profit ID is 228
2018-02-26 04:25:04,363 - DEBUG - Order Entry ID is 228
2018-02-26 04:25:04,363 - DEBUG - API ID is  0
2018-02-26 04:25:04,363 - DEBUG - Current Position is 0
2018-02-26 04:25:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:25:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:25:04,364 - DEBUG - Time is 4
2018-02-26 04:25:04,364 - DEBUG - Time is <class 'int'>
2018-02-26 04:25:04,365 - DEBUG - Disconnected from IBController
2018-02-26 04:25:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:30:00,266 - DEBUG - ****************************************************
2018-02-26 04:30:00,266 - DEBUG - Current Time is 04:30AM
2018-02-26 04:30:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:30:00,267 - DEBUG - Connecting to database
2018-02-26 04:30:00,477 - DEBUG - Connected to database
2018-02-26 04:30:00,478 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:00,490 - DEBUG - Order Profit is 228
2018-02-26 04:30:00,490 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:00,514 - DEBUG - Stop ID is 0
2018-02-26 04:30:00,515 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:00,535 - DEBUG - Entry ID is 228
2018-02-26 04:30:00,535 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:30:00,537 - DEBUG - OCA ID is 1
2018-02-26 04:30:00,537 - DEBUG - Connecting to IBController
2018-02-26 04:30:01,546 - DEBUG - Connected to IBController
2018-02-26 04:30:01,546 - DEBUG - Position requested
2018-02-26 04:30:01,548 - DEBUG - Pos Mgmt -12987
2018-02-26 04:30:01,548 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:30:01,549 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:30:01,549 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:30:01,549 - DEBUG - Position is -12987
2018-02-26 04:30:02,548 - DEBUG - Open Orders requested
2018-02-26 04:30:02,550 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 04:30:02,551 - DEBUG - Order OrderID 225
2018-02-26 04:30:02,551 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:30:02,552 - DEBUG - Order status PreSubmitted
2018-02-26 04:30:02,552 - DEBUG - Order Identification 225
2018-02-26 04:30:02,552 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:30:02,553 - DEBUG - Profit ID from database is 228
2018-02-26 04:30:02,553 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:30:02,553 - DEBUG - Stop ID database is 0
2018-02-26 04:30:02,553 - DEBUG - Entry ID database is 228
2018-02-26 04:30:02,554 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-26 04:30:02,555 - DEBUG - Order OrderID 227
2018-02-26 04:30:02,555 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:30:02,555 - DEBUG - Order status PreSubmitted
2018-02-26 04:30:02,556 - DEBUG - Order Identification 227
2018-02-26 04:30:02,556 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:30:02,556 - DEBUG - Profit ID from database is 228
2018-02-26 04:30:02,556 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:30:02,556 - DEBUG - Stop ID database is 0
2018-02-26 04:30:02,557 - DEBUG - Entry ID database is 228
2018-02-26 04:30:04,551 - DEBUG - Connecting to database
2018-02-26 04:30:04,558 - DEBUG - Connected to database
2018-02-26 04:30:04,560 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,560 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:30:04,561 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,562 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:30:04,563 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,563 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:30:04,565 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,565 - DEBUG - Stop quantity 1
2018-02-26 04:30:04,566 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,567 - DEBUG - Direction is Short
2018-02-26 04:30:04,568 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,568 - DEBUG - Count is 0
2018-02-26 04:30:04,570 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:30:04,570 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:30:04,571 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:30:04,572 - DEBUG - Max ID Order is (228,)
2018-02-26 04:30:04,572 - DEBUG - Today is 2018-02-26
2018-02-26 04:30:04,572 - DEBUG - Day of the week 0
2018-02-26 04:30:04,573 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:30:04,573 - DEBUG - In Position is  0
2018-02-26 04:30:04,573 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:30:04,573 - DEBUG - curStopLossFlag is  0
2018-02-26 04:30:04,574 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:30:04,574 - DEBUG - Checking if Entry has been filled
2018-02-26 04:30:04,574 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:30:04,575 - DEBUG - EntryPend is 1
2018-02-26 04:30:04,576 - DEBUG - Try to Cancel Stop
2018-02-26 04:30:04,576 - DEBUG - Stop API ID 0
2018-02-26 04:30:04,576 - DEBUG - Profit API ID 0
2018-02-26 04:30:04,576 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:30:04,577 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:30:04,577 - DEBUG - Pos is 0
2018-02-26 04:30:04,577 - DEBUG - CurCount is 0
2018-02-26 04:30:04,577 - DEBUG - In Pos 0
2018-02-26 04:30:04,578 - DEBUG - Stop ID is 0
2018-02-26 04:30:04,578 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:30:04,579 - DEBUG - EntryPend is 1
2018-02-26 04:30:04,579 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:30:04,580 - DEBUG - Entry Date is 10
2018-02-26 04:30:04,580 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:30:04,580 - DEBUG - Order Profit ID is 228
2018-02-26 04:30:04,580 - DEBUG - Order Entry ID is 228
2018-02-26 04:30:04,580 - DEBUG - API ID is  0
2018-02-26 04:30:04,581 - DEBUG - Current Position is 0
2018-02-26 04:30:04,581 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:30:04,581 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:30:04,581 - DEBUG - Time is 4
2018-02-26 04:30:04,582 - DEBUG - Time is <class 'int'>
2018-02-26 04:30:04,582 - DEBUG - Disconnected from IBController
2018-02-26 04:30:04,582 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:35:00,267 - DEBUG - ****************************************************
2018-02-26 04:35:00,268 - DEBUG - Current Time is 04:35AM
2018-02-26 04:35:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:35:00,268 - DEBUG - Connecting to database
2018-02-26 04:35:00,322 - DEBUG - Connected to database
2018-02-26 04:35:00,322 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:00,324 - DEBUG - Order Profit is 228
2018-02-26 04:35:00,324 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:00,326 - DEBUG - Stop ID is 0
2018-02-26 04:35:00,326 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:00,328 - DEBUG - Entry ID is 228
2018-02-26 04:35:00,328 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:35:00,329 - DEBUG - OCA ID is 1
2018-02-26 04:35:00,330 - DEBUG - Connecting to IBController
2018-02-26 04:35:01,336 - DEBUG - Connected to IBController
2018-02-26 04:35:01,336 - DEBUG - Position requested
2018-02-26 04:35:01,338 - DEBUG - Pos Mgmt -12987
2018-02-26 04:35:01,338 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:35:01,339 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:35:01,339 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:35:01,339 - DEBUG - Position is -12987
2018-02-26 04:35:02,337 - DEBUG - Open Orders requested
2018-02-26 04:35:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, order=<ib.ext.Order.Order object at 0x000000000205CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1160>>
2018-02-26 04:35:02,340 - DEBUG - Order OrderID 225
2018-02-26 04:35:02,340 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:35:02,341 - DEBUG - Order status PreSubmitted
2018-02-26 04:35:02,341 - DEBUG - Order Identification 225
2018-02-26 04:35:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:35:02,341 - DEBUG - Profit ID from database is 228
2018-02-26 04:35:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:35:02,342 - DEBUG - Stop ID database is 0
2018-02-26 04:35:02,342 - DEBUG - Entry ID database is 228
2018-02-26 04:35:02,343 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, order=<ib.ext.Order.Order object at 0x000000000205CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-26 04:35:02,343 - DEBUG - Order OrderID 227
2018-02-26 04:35:02,344 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:35:02,344 - DEBUG - Order status PreSubmitted
2018-02-26 04:35:02,344 - DEBUG - Order Identification 227
2018-02-26 04:35:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:35:02,345 - DEBUG - Profit ID from database is 228
2018-02-26 04:35:02,345 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:35:02,345 - DEBUG - Stop ID database is 0
2018-02-26 04:35:02,346 - DEBUG - Entry ID database is 228
2018-02-26 04:35:04,339 - DEBUG - Connecting to database
2018-02-26 04:35:04,348 - DEBUG - Connected to database
2018-02-26 04:35:04,349 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,350 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:35:04,351 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,351 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:35:04,353 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,353 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:35:04,354 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,355 - DEBUG - Stop quantity 1
2018-02-26 04:35:04,356 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,356 - DEBUG - Direction is Short
2018-02-26 04:35:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,358 - DEBUG - Count is 0
2018-02-26 04:35:04,359 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:35:04,360 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:35:04,361 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:35:04,361 - DEBUG - Max ID Order is (228,)
2018-02-26 04:35:04,362 - DEBUG - Today is 2018-02-26
2018-02-26 04:35:04,362 - DEBUG - Day of the week 0
2018-02-26 04:35:04,363 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:35:04,363 - DEBUG - In Position is  0
2018-02-26 04:35:04,363 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:35:04,363 - DEBUG - curStopLossFlag is  0
2018-02-26 04:35:04,364 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:35:04,364 - DEBUG - Checking if Entry has been filled
2018-02-26 04:35:04,364 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:35:04,366 - DEBUG - EntryPend is 1
2018-02-26 04:35:04,366 - DEBUG - Try to Cancel Stop
2018-02-26 04:35:04,366 - DEBUG - Stop API ID 0
2018-02-26 04:35:04,367 - DEBUG - Profit API ID 0
2018-02-26 04:35:04,367 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:35:04,367 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:35:04,367 - DEBUG - Pos is 0
2018-02-26 04:35:04,367 - DEBUG - CurCount is 0
2018-02-26 04:35:04,368 - DEBUG - In Pos 0
2018-02-26 04:35:04,368 - DEBUG - Stop ID is 0
2018-02-26 04:35:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:35:04,370 - DEBUG - EntryPend is 1
2018-02-26 04:35:04,370 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:35:04,370 - DEBUG - Entry Date is 10
2018-02-26 04:35:04,370 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:35:04,370 - DEBUG - Order Profit ID is 228
2018-02-26 04:35:04,371 - DEBUG - Order Entry ID is 228
2018-02-26 04:35:04,371 - DEBUG - API ID is  0
2018-02-26 04:35:04,371 - DEBUG - Current Position is 0
2018-02-26 04:35:04,371 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:35:04,372 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:35:04,372 - DEBUG - Time is 4
2018-02-26 04:35:04,372 - DEBUG - Time is <class 'int'>
2018-02-26 04:35:04,372 - DEBUG - Disconnected from IBController
2018-02-26 04:35:04,373 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:40:00,266 - DEBUG - ****************************************************
2018-02-26 04:40:00,266 - DEBUG - Current Time is 04:40AM
2018-02-26 04:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:40:00,267 - DEBUG - Connecting to database
2018-02-26 04:40:00,345 - DEBUG - Connected to database
2018-02-26 04:40:00,346 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:00,352 - DEBUG - Order Profit is 228
2018-02-26 04:40:00,352 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:00,361 - DEBUG - Stop ID is 0
2018-02-26 04:40:00,362 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:00,367 - DEBUG - Entry ID is 228
2018-02-26 04:40:00,367 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:40:00,369 - DEBUG - OCA ID is 1
2018-02-26 04:40:00,370 - DEBUG - Connecting to IBController
2018-02-26 04:40:01,376 - DEBUG - Connected to IBController
2018-02-26 04:40:01,376 - DEBUG - Position requested
2018-02-26 04:40:01,378 - DEBUG - Pos Mgmt -12987
2018-02-26 04:40:01,378 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:40:01,379 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:40:01,379 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:40:01,379 - DEBUG - Position is -12987
2018-02-26 04:40:02,378 - DEBUG - Open Orders requested
2018-02-26 04:40:02,380 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, order=<ib.ext.Order.Order object at 0x000000000202DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1160>>
2018-02-26 04:40:02,381 - DEBUG - Order OrderID 225
2018-02-26 04:40:02,381 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:40:02,382 - DEBUG - Order status PreSubmitted
2018-02-26 04:40:02,382 - DEBUG - Order Identification 225
2018-02-26 04:40:02,382 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:40:02,383 - DEBUG - Profit ID from database is 228
2018-02-26 04:40:02,383 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:40:02,383 - DEBUG - Stop ID database is 0
2018-02-26 04:40:02,383 - DEBUG - Entry ID database is 228
2018-02-26 04:40:02,384 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, order=<ib.ext.Order.Order object at 0x000000000202DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1080>>
2018-02-26 04:40:02,385 - DEBUG - Order OrderID 227
2018-02-26 04:40:02,385 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:40:02,385 - DEBUG - Order status PreSubmitted
2018-02-26 04:40:02,385 - DEBUG - Order Identification 227
2018-02-26 04:40:02,386 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:40:02,386 - DEBUG - Profit ID from database is 228
2018-02-26 04:40:02,386 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:40:02,386 - DEBUG - Stop ID database is 0
2018-02-26 04:40:02,386 - DEBUG - Entry ID database is 228
2018-02-26 04:40:04,381 - DEBUG - Connecting to database
2018-02-26 04:40:04,388 - DEBUG - Connected to database
2018-02-26 04:40:04,390 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,390 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:40:04,391 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,392 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:40:04,393 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,393 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:40:04,395 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,395 - DEBUG - Stop quantity 1
2018-02-26 04:40:04,396 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,397 - DEBUG - Direction is Short
2018-02-26 04:40:04,398 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,398 - DEBUG - Count is 0
2018-02-26 04:40:04,400 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:40:04,400 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:40:04,402 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:40:04,402 - DEBUG - Max ID Order is (228,)
2018-02-26 04:40:04,402 - DEBUG - Today is 2018-02-26
2018-02-26 04:40:04,403 - DEBUG - Day of the week 0
2018-02-26 04:40:04,403 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:40:04,403 - DEBUG - In Position is  0
2018-02-26 04:40:04,404 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:40:04,404 - DEBUG - curStopLossFlag is  0
2018-02-26 04:40:04,404 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:40:04,404 - DEBUG - Checking if Entry has been filled
2018-02-26 04:40:04,405 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:40:04,406 - DEBUG - EntryPend is 1
2018-02-26 04:40:04,406 - DEBUG - Try to Cancel Stop
2018-02-26 04:40:04,407 - DEBUG - Stop API ID 0
2018-02-26 04:40:04,407 - DEBUG - Profit API ID 0
2018-02-26 04:40:04,407 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:40:04,407 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:40:04,407 - DEBUG - Pos is 0
2018-02-26 04:40:04,408 - DEBUG - CurCount is 0
2018-02-26 04:40:04,408 - DEBUG - In Pos 0
2018-02-26 04:40:04,408 - DEBUG - Stop ID is 0
2018-02-26 04:40:04,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:40:04,410 - DEBUG - EntryPend is 1
2018-02-26 04:40:04,410 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:40:04,410 - DEBUG - Entry Date is 10
2018-02-26 04:40:04,410 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:40:04,411 - DEBUG - Order Profit ID is 228
2018-02-26 04:40:04,411 - DEBUG - Order Entry ID is 228
2018-02-26 04:40:04,411 - DEBUG - API ID is  0
2018-02-26 04:40:04,411 - DEBUG - Current Position is 0
2018-02-26 04:40:04,412 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:40:04,412 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:40:04,412 - DEBUG - Time is 4
2018-02-26 04:40:04,412 - DEBUG - Time is <class 'int'>
2018-02-26 04:40:04,413 - DEBUG - Disconnected from IBController
2018-02-26 04:40:04,413 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:45:00,276 - DEBUG - ****************************************************
2018-02-26 04:45:00,276 - DEBUG - Current Time is 04:45AM
2018-02-26 04:45:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:45:00,277 - DEBUG - Connecting to database
2018-02-26 04:45:00,395 - DEBUG - Connected to database
2018-02-26 04:45:00,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:00,409 - DEBUG - Order Profit is 228
2018-02-26 04:45:00,409 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:00,428 - DEBUG - Stop ID is 0
2018-02-26 04:45:00,429 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:00,458 - DEBUG - Entry ID is 228
2018-02-26 04:45:00,458 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:45:00,480 - DEBUG - OCA ID is 1
2018-02-26 04:45:00,480 - DEBUG - Connecting to IBController
2018-02-26 04:45:01,489 - DEBUG - Connected to IBController
2018-02-26 04:45:01,489 - DEBUG - Position requested
2018-02-26 04:45:01,491 - DEBUG - Pos Mgmt -12987
2018-02-26 04:45:01,491 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:45:01,492 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:45:01,492 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:45:01,492 - DEBUG - Position is -12987
2018-02-26 04:45:02,491 - DEBUG - Open Orders requested
2018-02-26 04:45:02,495 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 04:45:02,496 - DEBUG - Order OrderID 225
2018-02-26 04:45:02,502 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:45:02,502 - DEBUG - Order status PreSubmitted
2018-02-26 04:45:02,502 - DEBUG - Order Identification 225
2018-02-26 04:45:02,503 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:45:02,503 - DEBUG - Profit ID from database is 228
2018-02-26 04:45:02,504 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:45:02,504 - DEBUG - Stop ID database is 0
2018-02-26 04:45:02,504 - DEBUG - Entry ID database is 228
2018-02-26 04:45:02,505 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 04:45:02,506 - DEBUG - Order OrderID 227
2018-02-26 04:45:02,506 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:45:02,506 - DEBUG - Order status PreSubmitted
2018-02-26 04:45:02,507 - DEBUG - Order Identification 227
2018-02-26 04:45:02,507 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:45:02,507 - DEBUG - Profit ID from database is 228
2018-02-26 04:45:02,507 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:45:02,508 - DEBUG - Stop ID database is 0
2018-02-26 04:45:02,508 - DEBUG - Entry ID database is 228
2018-02-26 04:45:04,496 - DEBUG - Connecting to database
2018-02-26 04:45:04,503 - DEBUG - Connected to database
2018-02-26 04:45:04,505 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,505 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:45:04,507 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,507 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:45:04,508 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,509 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:45:04,510 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,510 - DEBUG - Stop quantity 1
2018-02-26 04:45:04,512 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,512 - DEBUG - Direction is Short
2018-02-26 04:45:04,513 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,514 - DEBUG - Count is 0
2018-02-26 04:45:04,515 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:45:04,515 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:45:04,517 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:45:04,517 - DEBUG - Max ID Order is (228,)
2018-02-26 04:45:04,518 - DEBUG - Today is 2018-02-26
2018-02-26 04:45:04,518 - DEBUG - Day of the week 0
2018-02-26 04:45:04,518 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:45:04,519 - DEBUG - In Position is  0
2018-02-26 04:45:04,519 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:45:04,519 - DEBUG - curStopLossFlag is  0
2018-02-26 04:45:04,519 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:45:04,519 - DEBUG - Checking if Entry has been filled
2018-02-26 04:45:04,520 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:45:04,521 - DEBUG - EntryPend is 1
2018-02-26 04:45:04,521 - DEBUG - Try to Cancel Stop
2018-02-26 04:45:04,522 - DEBUG - Stop API ID 0
2018-02-26 04:45:04,522 - DEBUG - Profit API ID 0
2018-02-26 04:45:04,522 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:45:04,522 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:45:04,522 - DEBUG - Pos is 0
2018-02-26 04:45:04,523 - DEBUG - CurCount is 0
2018-02-26 04:45:04,523 - DEBUG - In Pos 0
2018-02-26 04:45:04,523 - DEBUG - Stop ID is 0
2018-02-26 04:45:04,523 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:45:04,525 - DEBUG - EntryPend is 1
2018-02-26 04:45:04,525 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:45:04,525 - DEBUG - Entry Date is 10
2018-02-26 04:45:04,525 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:45:04,526 - DEBUG - Order Profit ID is 228
2018-02-26 04:45:04,526 - DEBUG - Order Entry ID is 228
2018-02-26 04:45:04,526 - DEBUG - API ID is  0
2018-02-26 04:45:04,526 - DEBUG - Current Position is 0
2018-02-26 04:45:04,527 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:45:04,527 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:45:04,527 - DEBUG - Time is 4
2018-02-26 04:45:04,527 - DEBUG - Time is <class 'int'>
2018-02-26 04:45:04,528 - DEBUG - Disconnected from IBController
2018-02-26 04:45:04,529 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:50:00,263 - DEBUG - ****************************************************
2018-02-26 04:50:00,263 - DEBUG - Current Time is 04:50AM
2018-02-26 04:50:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:50:00,264 - DEBUG - Connecting to database
2018-02-26 04:50:00,333 - DEBUG - Connected to database
2018-02-26 04:50:00,333 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:00,337 - DEBUG - Order Profit is 228
2018-02-26 04:50:00,337 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:00,357 - DEBUG - Stop ID is 0
2018-02-26 04:50:00,357 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:00,382 - DEBUG - Entry ID is 228
2018-02-26 04:50:00,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:50:00,405 - DEBUG - OCA ID is 1
2018-02-26 04:50:00,406 - DEBUG - Connecting to IBController
2018-02-26 04:50:01,415 - DEBUG - Connected to IBController
2018-02-26 04:50:01,415 - DEBUG - Position requested
2018-02-26 04:50:01,417 - DEBUG - Pos Mgmt -12987
2018-02-26 04:50:01,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:50:01,425 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:50:01,425 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:50:01,431 - DEBUG - Position is -12987
2018-02-26 04:50:02,423 - DEBUG - Open Orders requested
2018-02-26 04:50:02,425 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDD8>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141160>>
2018-02-26 04:50:02,426 - DEBUG - Order OrderID 225
2018-02-26 04:50:02,426 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:50:02,427 - DEBUG - Order status PreSubmitted
2018-02-26 04:50:02,427 - DEBUG - Order Identification 225
2018-02-26 04:50:02,427 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:50:02,428 - DEBUG - Profit ID from database is 228
2018-02-26 04:50:02,428 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:50:02,428 - DEBUG - Stop ID database is 0
2018-02-26 04:50:02,428 - DEBUG - Entry ID database is 228
2018-02-26 04:50:02,429 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDD8>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141048>>
2018-02-26 04:50:02,429 - DEBUG - Order OrderID 227
2018-02-26 04:50:02,430 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:50:02,430 - DEBUG - Order status PreSubmitted
2018-02-26 04:50:02,430 - DEBUG - Order Identification 227
2018-02-26 04:50:02,431 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:50:02,431 - DEBUG - Profit ID from database is 228
2018-02-26 04:50:02,431 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:50:02,431 - DEBUG - Stop ID database is 0
2018-02-26 04:50:02,432 - DEBUG - Entry ID database is 228
2018-02-26 04:50:04,426 - DEBUG - Connecting to database
2018-02-26 04:50:04,434 - DEBUG - Connected to database
2018-02-26 04:50:04,435 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,435 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:50:04,437 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,437 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:50:04,438 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,439 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:50:04,440 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,440 - DEBUG - Stop quantity 1
2018-02-26 04:50:04,442 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,442 - DEBUG - Direction is Short
2018-02-26 04:50:04,443 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,444 - DEBUG - Count is 0
2018-02-26 04:50:04,445 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:50:04,445 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:50:04,447 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:50:04,447 - DEBUG - Max ID Order is (228,)
2018-02-26 04:50:04,447 - DEBUG - Today is 2018-02-26
2018-02-26 04:50:04,448 - DEBUG - Day of the week 0
2018-02-26 04:50:04,448 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:50:04,448 - DEBUG - In Position is  0
2018-02-26 04:50:04,449 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:50:04,449 - DEBUG - curStopLossFlag is  0
2018-02-26 04:50:04,449 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:50:04,449 - DEBUG - Checking if Entry has been filled
2018-02-26 04:50:04,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:50:04,451 - DEBUG - EntryPend is 1
2018-02-26 04:50:04,451 - DEBUG - Try to Cancel Stop
2018-02-26 04:50:04,452 - DEBUG - Stop API ID 0
2018-02-26 04:50:04,452 - DEBUG - Profit API ID 0
2018-02-26 04:50:04,452 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:50:04,452 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:50:04,452 - DEBUG - Pos is 0
2018-02-26 04:50:04,453 - DEBUG - CurCount is 0
2018-02-26 04:50:04,453 - DEBUG - In Pos 0
2018-02-26 04:50:04,453 - DEBUG - Stop ID is 0
2018-02-26 04:50:04,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:50:04,455 - DEBUG - EntryPend is 1
2018-02-26 04:50:04,455 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:50:04,455 - DEBUG - Entry Date is 10
2018-02-26 04:50:04,456 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:50:04,456 - DEBUG - Order Profit ID is 228
2018-02-26 04:50:04,456 - DEBUG - Order Entry ID is 228
2018-02-26 04:50:04,456 - DEBUG - API ID is  0
2018-02-26 04:50:04,457 - DEBUG - Current Position is 0
2018-02-26 04:50:04,457 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:50:04,457 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:50:04,457 - DEBUG - Time is 4
2018-02-26 04:50:04,457 - DEBUG - Time is <class 'int'>
2018-02-26 04:50:04,458 - DEBUG - Disconnected from IBController
2018-02-26 04:50:04,458 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 04:55:00,268 - DEBUG - ****************************************************
2018-02-26 04:55:00,269 - DEBUG - Current Time is 04:55AM
2018-02-26 04:55:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 04:55:00,269 - DEBUG - Connecting to database
2018-02-26 04:55:00,330 - DEBUG - Connected to database
2018-02-26 04:55:00,331 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:00,341 - DEBUG - Order Profit is 228
2018-02-26 04:55:00,341 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:00,348 - DEBUG - Stop ID is 0
2018-02-26 04:55:00,348 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:00,349 - DEBUG - Entry ID is 228
2018-02-26 04:55:00,350 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 04:55:00,351 - DEBUG - OCA ID is 1
2018-02-26 04:55:00,351 - DEBUG - Connecting to IBController
2018-02-26 04:55:01,370 - DEBUG - Connected to IBController
2018-02-26 04:55:01,370 - DEBUG - Position requested
2018-02-26 04:55:01,373 - DEBUG - Pos Mgmt -12987
2018-02-26 04:55:01,373 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 04:55:01,374 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 04:55:01,374 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 04:55:01,374 - DEBUG - Position is -12987
2018-02-26 04:55:02,371 - DEBUG - Open Orders requested
2018-02-26 04:55:02,373 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, order=<ib.ext.Order.Order object at 0x000000000203CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-02-26 04:55:02,374 - DEBUG - Order OrderID 225
2018-02-26 04:55:02,375 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:55:02,375 - DEBUG - Order status PreSubmitted
2018-02-26 04:55:02,375 - DEBUG - Order Identification 225
2018-02-26 04:55:02,375 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:55:02,376 - DEBUG - Profit ID from database is 228
2018-02-26 04:55:02,376 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:55:02,376 - DEBUG - Stop ID database is 0
2018-02-26 04:55:02,377 - DEBUG - Entry ID database is 228
2018-02-26 04:55:02,378 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, order=<ib.ext.Order.Order object at 0x000000000203CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-26 04:55:02,378 - DEBUG - Order OrderID 227
2018-02-26 04:55:02,378 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 04:55:02,379 - DEBUG - Order status PreSubmitted
2018-02-26 04:55:02,379 - DEBUG - Order Identification 227
2018-02-26 04:55:02,379 - DEBUG - Order Identification <class 'int'>
2018-02-26 04:55:02,379 - DEBUG - Profit ID from database is 228
2018-02-26 04:55:02,380 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 04:55:02,380 - DEBUG - Stop ID database is 0
2018-02-26 04:55:02,380 - DEBUG - Entry ID database is 228
2018-02-26 04:55:04,374 - DEBUG - Connecting to database
2018-02-26 04:55:04,381 - DEBUG - Connected to database
2018-02-26 04:55:04,383 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,383 - DEBUG - Stop loss value is 2731.25
2018-02-26 04:55:04,385 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,385 - DEBUG - Stop loss value is 2671.5
2018-02-26 04:55:04,386 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,387 - DEBUG - EntryPrice value is 2681.0
2018-02-26 04:55:04,388 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,388 - DEBUG - Stop quantity 1
2018-02-26 04:55:04,390 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,390 - DEBUG - Direction is Short
2018-02-26 04:55:04,391 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,392 - DEBUG - Count is 0
2018-02-26 04:55:04,393 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 04:55:04,394 - DEBUG - Stop Loss Flag is 0
2018-02-26 04:55:04,395 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 04:55:04,395 - DEBUG - Max ID Order is (228,)
2018-02-26 04:55:04,396 - DEBUG - Today is 2018-02-26
2018-02-26 04:55:04,396 - DEBUG - Day of the week 0
2018-02-26 04:55:04,396 - DEBUG - Yesterday is 02/23/2018
2018-02-26 04:55:04,397 - DEBUG - In Position is  0
2018-02-26 04:55:04,397 - DEBUG - In Position is  <class 'int'>
2018-02-26 04:55:04,397 - DEBUG - curStopLossFlag is  0
2018-02-26 04:55:04,397 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 04:55:04,398 - DEBUG - Checking if Entry has been filled
2018-02-26 04:55:04,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:55:04,399 - DEBUG - EntryPend is 1
2018-02-26 04:55:04,400 - DEBUG - Try to Cancel Stop
2018-02-26 04:55:04,400 - DEBUG - Stop API ID 0
2018-02-26 04:55:04,400 - DEBUG - Profit API ID 0
2018-02-26 04:55:04,400 - DEBUG - Stop API ID <class 'int'>
2018-02-26 04:55:04,401 - DEBUG - Profit API ID <class 'int'>
2018-02-26 04:55:04,401 - DEBUG - Pos is 0
2018-02-26 04:55:04,401 - DEBUG - CurCount is 0
2018-02-26 04:55:04,401 - DEBUG - In Pos 0
2018-02-26 04:55:04,401 - DEBUG - Stop ID is 0
2018-02-26 04:55:04,402 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 04:55:04,404 - DEBUG - EntryPend is 1
2018-02-26 04:55:04,404 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 04:55:04,404 - DEBUG - Entry Date is 10
2018-02-26 04:55:04,404 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 04:55:04,405 - DEBUG - Order Profit ID is 228
2018-02-26 04:55:04,405 - DEBUG - Order Entry ID is 228
2018-02-26 04:55:04,405 - DEBUG - API ID is  0
2018-02-26 04:55:04,405 - DEBUG - Current Position is 0
2018-02-26 04:55:04,406 - DEBUG - Current Position is <class 'str'>
2018-02-26 04:55:04,406 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 04:55:04,406 - DEBUG - Time is 4
2018-02-26 04:55:04,406 - DEBUG - Time is <class 'int'>
2018-02-26 04:55:04,406 - DEBUG - Disconnected from IBController
2018-02-26 04:55:04,407 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:00:00,264 - DEBUG - ****************************************************
2018-02-26 05:00:00,264 - DEBUG - Current Time is 05:00AM
2018-02-26 05:00:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:00:00,265 - DEBUG - Connecting to database
2018-02-26 05:00:00,367 - DEBUG - Connected to database
2018-02-26 05:00:00,367 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:00,375 - DEBUG - Order Profit is 228
2018-02-26 05:00:00,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:00,404 - DEBUG - Stop ID is 0
2018-02-26 05:00:00,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:00,438 - DEBUG - Entry ID is 228
2018-02-26 05:00:00,439 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:00:00,443 - DEBUG - OCA ID is 1
2018-02-26 05:00:00,444 - DEBUG - Connecting to IBController
2018-02-26 05:00:01,452 - DEBUG - Connected to IBController
2018-02-26 05:00:01,452 - DEBUG - Position requested
2018-02-26 05:00:01,470 - DEBUG - Pos Mgmt -12987
2018-02-26 05:00:01,476 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:00:01,477 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:00:01,477 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:00:01,477 - DEBUG - Position is -12987
2018-02-26 05:00:02,461 - DEBUG - Open Orders requested
2018-02-26 05:00:02,463 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, order=<ib.ext.Order.Order object at 0x000000000203CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-02-26 05:00:02,464 - DEBUG - Order OrderID 225
2018-02-26 05:00:02,464 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:00:02,465 - DEBUG - Order status PreSubmitted
2018-02-26 05:00:02,465 - DEBUG - Order Identification 225
2018-02-26 05:00:02,465 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:00:02,466 - DEBUG - Profit ID from database is 228
2018-02-26 05:00:02,466 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:00:02,466 - DEBUG - Stop ID database is 0
2018-02-26 05:00:02,466 - DEBUG - Entry ID database is 228
2018-02-26 05:00:02,468 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, order=<ib.ext.Order.Order object at 0x000000000203CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2080>>
2018-02-26 05:00:02,468 - DEBUG - Order OrderID 227
2018-02-26 05:00:02,468 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:00:02,469 - DEBUG - Order status PreSubmitted
2018-02-26 05:00:02,469 - DEBUG - Order Identification 227
2018-02-26 05:00:02,469 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:00:02,469 - DEBUG - Profit ID from database is 228
2018-02-26 05:00:02,470 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:00:02,470 - DEBUG - Stop ID database is 0
2018-02-26 05:00:02,470 - DEBUG - Entry ID database is 228
2018-02-26 05:00:04,464 - DEBUG - Connecting to database
2018-02-26 05:00:04,471 - DEBUG - Connected to database
2018-02-26 05:00:04,473 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,473 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:00:04,475 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,475 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:00:04,476 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,477 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:00:04,478 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,478 - DEBUG - Stop quantity 1
2018-02-26 05:00:04,480 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,480 - DEBUG - Direction is Short
2018-02-26 05:00:04,481 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,482 - DEBUG - Count is 0
2018-02-26 05:00:04,483 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:00:04,483 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:00:04,485 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:00:04,485 - DEBUG - Max ID Order is (228,)
2018-02-26 05:00:04,486 - DEBUG - Today is 2018-02-26
2018-02-26 05:00:04,486 - DEBUG - Day of the week 0
2018-02-26 05:00:04,486 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:00:04,487 - DEBUG - In Position is  0
2018-02-26 05:00:04,487 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:00:04,487 - DEBUG - curStopLossFlag is  0
2018-02-26 05:00:04,487 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:00:04,488 - DEBUG - Checking if Entry has been filled
2018-02-26 05:00:04,488 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:00:04,489 - DEBUG - EntryPend is 1
2018-02-26 05:00:04,489 - DEBUG - Try to Cancel Stop
2018-02-26 05:00:04,490 - DEBUG - Stop API ID 0
2018-02-26 05:00:04,490 - DEBUG - Profit API ID 0
2018-02-26 05:00:04,490 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:00:04,490 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:00:04,491 - DEBUG - Pos is 0
2018-02-26 05:00:04,491 - DEBUG - CurCount is 0
2018-02-26 05:00:04,491 - DEBUG - In Pos 0
2018-02-26 05:00:04,491 - DEBUG - Stop ID is 0
2018-02-26 05:00:04,491 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:00:04,493 - DEBUG - EntryPend is 1
2018-02-26 05:00:04,493 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:00:04,494 - DEBUG - Entry Date is 10
2018-02-26 05:00:04,494 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:00:04,494 - DEBUG - Order Profit ID is 228
2018-02-26 05:00:04,494 - DEBUG - Order Entry ID is 228
2018-02-26 05:00:04,494 - DEBUG - API ID is  0
2018-02-26 05:00:04,495 - DEBUG - Current Position is 0
2018-02-26 05:00:04,495 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:00:04,495 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:00:04,495 - DEBUG - Time is 5
2018-02-26 05:00:04,496 - DEBUG - Time is <class 'int'>
2018-02-26 05:00:04,496 - DEBUG - Disconnected from IBController
2018-02-26 05:00:04,496 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:05:00,271 - DEBUG - ****************************************************
2018-02-26 05:05:00,271 - DEBUG - Current Time is 05:05AM
2018-02-26 05:05:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:05:00,272 - DEBUG - Connecting to database
2018-02-26 05:05:00,307 - DEBUG - Connected to database
2018-02-26 05:05:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:00,311 - DEBUG - Order Profit is 228
2018-02-26 05:05:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:00,329 - DEBUG - Stop ID is 0
2018-02-26 05:05:00,329 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:00,331 - DEBUG - Entry ID is 228
2018-02-26 05:05:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:05:00,332 - DEBUG - OCA ID is 1
2018-02-26 05:05:00,333 - DEBUG - Connecting to IBController
2018-02-26 05:05:01,341 - DEBUG - Connected to IBController
2018-02-26 05:05:01,341 - DEBUG - Position requested
2018-02-26 05:05:01,343 - DEBUG - Pos Mgmt -12987
2018-02-26 05:05:01,343 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:05:01,344 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:05:01,344 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:05:01,344 - DEBUG - Position is -12987
2018-02-26 05:05:02,342 - DEBUG - Open Orders requested
2018-02-26 05:05:02,344 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ACA58>, order=<ib.ext.Order.Order object at 0x00000000020ACE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142160>>
2018-02-26 05:05:02,345 - DEBUG - Order OrderID 225
2018-02-26 05:05:02,345 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:05:02,345 - DEBUG - Order status PreSubmitted
2018-02-26 05:05:02,346 - DEBUG - Order Identification 225
2018-02-26 05:05:02,346 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:05:02,346 - DEBUG - Profit ID from database is 228
2018-02-26 05:05:02,346 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:05:02,347 - DEBUG - Stop ID database is 0
2018-02-26 05:05:02,347 - DEBUG - Entry ID database is 228
2018-02-26 05:05:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ACA58>, order=<ib.ext.Order.Order object at 0x00000000020ACE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021420F0>>
2018-02-26 05:05:02,348 - DEBUG - Order OrderID 227
2018-02-26 05:05:02,349 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:05:02,349 - DEBUG - Order status PreSubmitted
2018-02-26 05:05:02,350 - DEBUG - Order Identification 227
2018-02-26 05:05:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:05:02,350 - DEBUG - Profit ID from database is 228
2018-02-26 05:05:02,350 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:05:02,350 - DEBUG - Stop ID database is 0
2018-02-26 05:05:02,351 - DEBUG - Entry ID database is 228
2018-02-26 05:05:04,344 - DEBUG - Connecting to database
2018-02-26 05:05:04,351 - DEBUG - Connected to database
2018-02-26 05:05:04,353 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,353 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:05:04,355 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,355 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:05:04,357 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,357 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:05:04,358 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,359 - DEBUG - Stop quantity 1
2018-02-26 05:05:04,360 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,360 - DEBUG - Direction is Short
2018-02-26 05:05:04,362 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,362 - DEBUG - Count is 0
2018-02-26 05:05:04,364 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:05:04,364 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:05:04,365 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:05:04,366 - DEBUG - Max ID Order is (228,)
2018-02-26 05:05:04,366 - DEBUG - Today is 2018-02-26
2018-02-26 05:05:04,367 - DEBUG - Day of the week 0
2018-02-26 05:05:04,367 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:05:04,367 - DEBUG - In Position is  0
2018-02-26 05:05:04,367 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:05:04,368 - DEBUG - curStopLossFlag is  0
2018-02-26 05:05:04,368 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:05:04,368 - DEBUG - Checking if Entry has been filled
2018-02-26 05:05:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:05:04,370 - DEBUG - EntryPend is 1
2018-02-26 05:05:04,370 - DEBUG - Try to Cancel Stop
2018-02-26 05:05:04,370 - DEBUG - Stop API ID 0
2018-02-26 05:05:04,370 - DEBUG - Profit API ID 0
2018-02-26 05:05:04,370 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:05:04,371 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:05:04,371 - DEBUG - Pos is 0
2018-02-26 05:05:04,371 - DEBUG - CurCount is 0
2018-02-26 05:05:04,371 - DEBUG - In Pos 0
2018-02-26 05:05:04,372 - DEBUG - Stop ID is 0
2018-02-26 05:05:04,372 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:05:04,373 - DEBUG - EntryPend is 1
2018-02-26 05:05:04,374 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:05:04,374 - DEBUG - Entry Date is 10
2018-02-26 05:05:04,374 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:05:04,374 - DEBUG - Order Profit ID is 228
2018-02-26 05:05:04,374 - DEBUG - Order Entry ID is 228
2018-02-26 05:05:04,375 - DEBUG - API ID is  0
2018-02-26 05:05:04,375 - DEBUG - Current Position is 0
2018-02-26 05:05:04,375 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:05:04,375 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:05:04,376 - DEBUG - Time is 5
2018-02-26 05:05:04,376 - DEBUG - Time is <class 'int'>
2018-02-26 05:05:04,376 - DEBUG - Disconnected from IBController
2018-02-26 05:05:04,376 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:10:00,272 - DEBUG - ****************************************************
2018-02-26 05:10:00,273 - DEBUG - Current Time is 05:10AM
2018-02-26 05:10:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:10:00,273 - DEBUG - Connecting to database
2018-02-26 05:10:00,341 - DEBUG - Connected to database
2018-02-26 05:10:00,342 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:00,344 - DEBUG - Order Profit is 228
2018-02-26 05:10:00,344 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:00,368 - DEBUG - Stop ID is 0
2018-02-26 05:10:00,369 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:00,371 - DEBUG - Entry ID is 228
2018-02-26 05:10:00,371 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:10:00,372 - DEBUG - OCA ID is 1
2018-02-26 05:10:00,373 - DEBUG - Connecting to IBController
2018-02-26 05:10:01,382 - DEBUG - Connected to IBController
2018-02-26 05:10:01,382 - DEBUG - Position requested
2018-02-26 05:10:01,384 - DEBUG - Pos Mgmt -12987
2018-02-26 05:10:01,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:10:01,385 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:10:01,385 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:10:01,385 - DEBUG - Position is -12987
2018-02-26 05:10:02,384 - DEBUG - Open Orders requested
2018-02-26 05:10:02,386 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 05:10:02,387 - DEBUG - Order OrderID 225
2018-02-26 05:10:02,387 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:10:02,388 - DEBUG - Order status PreSubmitted
2018-02-26 05:10:02,388 - DEBUG - Order Identification 225
2018-02-26 05:10:02,388 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:10:02,389 - DEBUG - Profit ID from database is 228
2018-02-26 05:10:02,389 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:10:02,389 - DEBUG - Stop ID database is 0
2018-02-26 05:10:02,389 - DEBUG - Entry ID database is 228
2018-02-26 05:10:02,390 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 05:10:02,391 - DEBUG - Order OrderID 227
2018-02-26 05:10:02,391 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:10:02,391 - DEBUG - Order status PreSubmitted
2018-02-26 05:10:02,391 - DEBUG - Order Identification 227
2018-02-26 05:10:02,392 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:10:02,392 - DEBUG - Profit ID from database is 228
2018-02-26 05:10:02,392 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:10:02,392 - DEBUG - Stop ID database is 0
2018-02-26 05:10:02,393 - DEBUG - Entry ID database is 228
2018-02-26 05:10:04,387 - DEBUG - Connecting to database
2018-02-26 05:10:04,394 - DEBUG - Connected to database
2018-02-26 05:10:04,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,397 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:10:04,398 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,398 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:10:04,400 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,400 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:10:04,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,402 - DEBUG - Stop quantity 1
2018-02-26 05:10:04,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,404 - DEBUG - Direction is Short
2018-02-26 05:10:04,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,405 - DEBUG - Count is 0
2018-02-26 05:10:04,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:10:04,407 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:10:04,408 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:10:04,409 - DEBUG - Max ID Order is (228,)
2018-02-26 05:10:04,409 - DEBUG - Today is 2018-02-26
2018-02-26 05:10:04,409 - DEBUG - Day of the week 0
2018-02-26 05:10:04,410 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:10:04,410 - DEBUG - In Position is  0
2018-02-26 05:10:04,410 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:10:04,411 - DEBUG - curStopLossFlag is  0
2018-02-26 05:10:04,411 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:10:04,411 - DEBUG - Checking if Entry has been filled
2018-02-26 05:10:04,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:10:04,413 - DEBUG - EntryPend is 1
2018-02-26 05:10:04,413 - DEBUG - Try to Cancel Stop
2018-02-26 05:10:04,413 - DEBUG - Stop API ID 0
2018-02-26 05:10:04,414 - DEBUG - Profit API ID 0
2018-02-26 05:10:04,414 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:10:04,414 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:10:04,414 - DEBUG - Pos is 0
2018-02-26 05:10:04,415 - DEBUG - CurCount is 0
2018-02-26 05:10:04,415 - DEBUG - In Pos 0
2018-02-26 05:10:04,415 - DEBUG - Stop ID is 0
2018-02-26 05:10:04,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:10:04,417 - DEBUG - EntryPend is 1
2018-02-26 05:10:04,417 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:10:04,417 - DEBUG - Entry Date is 10
2018-02-26 05:10:04,417 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:10:04,418 - DEBUG - Order Profit ID is 228
2018-02-26 05:10:04,418 - DEBUG - Order Entry ID is 228
2018-02-26 05:10:04,418 - DEBUG - API ID is  0
2018-02-26 05:10:04,418 - DEBUG - Current Position is 0
2018-02-26 05:10:04,419 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:10:04,419 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:10:04,419 - DEBUG - Time is 5
2018-02-26 05:10:04,419 - DEBUG - Time is <class 'int'>
2018-02-26 05:10:04,420 - DEBUG - Disconnected from IBController
2018-02-26 05:10:04,421 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:15:00,259 - DEBUG - ****************************************************
2018-02-26 05:15:00,259 - DEBUG - Current Time is 05:15AM
2018-02-26 05:15:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:15:00,260 - DEBUG - Connecting to database
2018-02-26 05:15:00,339 - DEBUG - Connected to database
2018-02-26 05:15:00,339 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:00,343 - DEBUG - Order Profit is 228
2018-02-26 05:15:00,343 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:00,346 - DEBUG - Stop ID is 0
2018-02-26 05:15:00,346 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:00,351 - DEBUG - Entry ID is 228
2018-02-26 05:15:00,351 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:15:00,353 - DEBUG - OCA ID is 1
2018-02-26 05:15:00,353 - DEBUG - Connecting to IBController
2018-02-26 05:15:01,362 - DEBUG - Connected to IBController
2018-02-26 05:15:01,362 - DEBUG - Position requested
2018-02-26 05:15:01,364 - DEBUG - Pos Mgmt -12987
2018-02-26 05:15:01,364 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:15:01,365 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:15:01,365 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:15:01,365 - DEBUG - Position is -12987
2018-02-26 05:15:02,363 - DEBUG - Open Orders requested
2018-02-26 05:15:02,366 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DB00>, order=<ib.ext.Order.Order object at 0x000000000201DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1160>>
2018-02-26 05:15:02,366 - DEBUG - Order OrderID 225
2018-02-26 05:15:02,367 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:15:02,367 - DEBUG - Order status PreSubmitted
2018-02-26 05:15:02,368 - DEBUG - Order Identification 225
2018-02-26 05:15:02,368 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:15:02,368 - DEBUG - Profit ID from database is 228
2018-02-26 05:15:02,368 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:15:02,369 - DEBUG - Stop ID database is 0
2018-02-26 05:15:02,369 - DEBUG - Entry ID database is 228
2018-02-26 05:15:02,370 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000201DB00>, order=<ib.ext.Order.Order object at 0x000000000201DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1048>>
2018-02-26 05:15:02,370 - DEBUG - Order OrderID 227
2018-02-26 05:15:02,371 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:15:02,371 - DEBUG - Order status PreSubmitted
2018-02-26 05:15:02,371 - DEBUG - Order Identification 227
2018-02-26 05:15:02,372 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:15:02,372 - DEBUG - Profit ID from database is 228
2018-02-26 05:15:02,372 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:15:02,372 - DEBUG - Stop ID database is 0
2018-02-26 05:15:02,373 - DEBUG - Entry ID database is 228
2018-02-26 05:15:04,366 - DEBUG - Connecting to database
2018-02-26 05:15:04,374 - DEBUG - Connected to database
2018-02-26 05:15:04,376 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,376 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:15:04,378 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,378 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:15:04,380 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,380 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:15:04,381 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,382 - DEBUG - Stop quantity 1
2018-02-26 05:15:04,383 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,384 - DEBUG - Direction is Short
2018-02-26 05:15:04,385 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,385 - DEBUG - Count is 0
2018-02-26 05:15:04,387 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:15:04,387 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:15:04,388 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:15:04,389 - DEBUG - Max ID Order is (228,)
2018-02-26 05:15:04,389 - DEBUG - Today is 2018-02-26
2018-02-26 05:15:04,390 - DEBUG - Day of the week 0
2018-02-26 05:15:04,390 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:15:04,390 - DEBUG - In Position is  0
2018-02-26 05:15:04,390 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:15:04,391 - DEBUG - curStopLossFlag is  0
2018-02-26 05:15:04,391 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:15:04,391 - DEBUG - Checking if Entry has been filled
2018-02-26 05:15:04,391 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:15:04,393 - DEBUG - EntryPend is 1
2018-02-26 05:15:04,393 - DEBUG - Try to Cancel Stop
2018-02-26 05:15:04,393 - DEBUG - Stop API ID 0
2018-02-26 05:15:04,393 - DEBUG - Profit API ID 0
2018-02-26 05:15:04,394 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:15:04,394 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:15:04,394 - DEBUG - Pos is 0
2018-02-26 05:15:04,394 - DEBUG - CurCount is 0
2018-02-26 05:15:04,395 - DEBUG - In Pos 0
2018-02-26 05:15:04,395 - DEBUG - Stop ID is 0
2018-02-26 05:15:04,395 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:15:04,396 - DEBUG - EntryPend is 1
2018-02-26 05:15:04,397 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:15:04,397 - DEBUG - Entry Date is 10
2018-02-26 05:15:04,397 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:15:04,397 - DEBUG - Order Profit ID is 228
2018-02-26 05:15:04,398 - DEBUG - Order Entry ID is 228
2018-02-26 05:15:04,398 - DEBUG - API ID is  0
2018-02-26 05:15:04,398 - DEBUG - Current Position is 0
2018-02-26 05:15:04,398 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:15:04,399 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:15:04,399 - DEBUG - Time is 5
2018-02-26 05:15:04,399 - DEBUG - Time is <class 'int'>
2018-02-26 05:15:04,399 - DEBUG - Disconnected from IBController
2018-02-26 05:15:04,400 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:20:00,266 - DEBUG - ****************************************************
2018-02-26 05:20:00,267 - DEBUG - Current Time is 05:20AM
2018-02-26 05:20:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:20:00,268 - DEBUG - Connecting to database
2018-02-26 05:20:00,379 - DEBUG - Connected to database
2018-02-26 05:20:00,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:00,384 - DEBUG - Order Profit is 228
2018-02-26 05:20:00,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:00,412 - DEBUG - Stop ID is 0
2018-02-26 05:20:00,412 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:00,438 - DEBUG - Entry ID is 228
2018-02-26 05:20:00,439 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:20:00,440 - DEBUG - OCA ID is 1
2018-02-26 05:20:00,441 - DEBUG - Connecting to IBController
2018-02-26 05:20:01,450 - DEBUG - Connected to IBController
2018-02-26 05:20:01,450 - DEBUG - Position requested
2018-02-26 05:20:01,452 - DEBUG - Pos Mgmt -12987
2018-02-26 05:20:01,452 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:20:01,453 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:20:01,453 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:20:01,453 - DEBUG - Position is -12987
2018-02-26 05:20:02,452 - DEBUG - Open Orders requested
2018-02-26 05:20:02,454 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DCC0>, order=<ib.ext.Order.Order object at 0x000000000209DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131160>>
2018-02-26 05:20:02,455 - DEBUG - Order OrderID 225
2018-02-26 05:20:02,455 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:20:02,456 - DEBUG - Order status PreSubmitted
2018-02-26 05:20:02,456 - DEBUG - Order Identification 225
2018-02-26 05:20:02,456 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:20:02,457 - DEBUG - Profit ID from database is 228
2018-02-26 05:20:02,457 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:20:02,457 - DEBUG - Stop ID database is 0
2018-02-26 05:20:02,457 - DEBUG - Entry ID database is 228
2018-02-26 05:20:02,460 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209DCC0>, order=<ib.ext.Order.Order object at 0x000000000209DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131080>>
2018-02-26 05:20:02,461 - DEBUG - Order OrderID 227
2018-02-26 05:20:02,461 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:20:02,462 - DEBUG - Order status PreSubmitted
2018-02-26 05:20:02,462 - DEBUG - Order Identification 227
2018-02-26 05:20:02,462 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:20:02,462 - DEBUG - Profit ID from database is 228
2018-02-26 05:20:02,462 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:20:02,463 - DEBUG - Stop ID database is 0
2018-02-26 05:20:02,463 - DEBUG - Entry ID database is 228
2018-02-26 05:20:04,455 - DEBUG - Connecting to database
2018-02-26 05:20:04,462 - DEBUG - Connected to database
2018-02-26 05:20:04,464 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,464 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:20:04,466 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,466 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:20:04,467 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,468 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:20:04,469 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,469 - DEBUG - Stop quantity 1
2018-02-26 05:20:04,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,471 - DEBUG - Direction is Short
2018-02-26 05:20:04,472 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,473 - DEBUG - Count is 0
2018-02-26 05:20:04,474 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:20:04,474 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:20:04,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:20:04,476 - DEBUG - Max ID Order is (228,)
2018-02-26 05:20:04,476 - DEBUG - Today is 2018-02-26
2018-02-26 05:20:04,477 - DEBUG - Day of the week 0
2018-02-26 05:20:04,477 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:20:04,477 - DEBUG - In Position is  0
2018-02-26 05:20:04,477 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:20:04,478 - DEBUG - curStopLossFlag is  0
2018-02-26 05:20:04,478 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:20:04,478 - DEBUG - Checking if Entry has been filled
2018-02-26 05:20:04,478 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:20:04,480 - DEBUG - EntryPend is 1
2018-02-26 05:20:04,480 - DEBUG - Try to Cancel Stop
2018-02-26 05:20:04,480 - DEBUG - Stop API ID 0
2018-02-26 05:20:04,480 - DEBUG - Profit API ID 0
2018-02-26 05:20:04,481 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:20:04,481 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:20:04,481 - DEBUG - Pos is 0
2018-02-26 05:20:04,481 - DEBUG - CurCount is 0
2018-02-26 05:20:04,482 - DEBUG - In Pos 0
2018-02-26 05:20:04,482 - DEBUG - Stop ID is 0
2018-02-26 05:20:04,482 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:20:04,483 - DEBUG - EntryPend is 1
2018-02-26 05:20:04,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:20:04,484 - DEBUG - Entry Date is 10
2018-02-26 05:20:04,484 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:20:04,484 - DEBUG - Order Profit ID is 228
2018-02-26 05:20:04,485 - DEBUG - Order Entry ID is 228
2018-02-26 05:20:04,485 - DEBUG - API ID is  0
2018-02-26 05:20:04,485 - DEBUG - Current Position is 0
2018-02-26 05:20:04,485 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:20:04,485 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:20:04,486 - DEBUG - Time is 5
2018-02-26 05:20:04,486 - DEBUG - Time is <class 'int'>
2018-02-26 05:20:04,486 - DEBUG - Disconnected from IBController
2018-02-26 05:20:04,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:25:00,265 - DEBUG - ****************************************************
2018-02-26 05:25:00,266 - DEBUG - Current Time is 05:25AM
2018-02-26 05:25:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:25:00,267 - DEBUG - Connecting to database
2018-02-26 05:25:00,327 - DEBUG - Connected to database
2018-02-26 05:25:00,328 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:00,331 - DEBUG - Order Profit is 228
2018-02-26 05:25:00,332 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:00,333 - DEBUG - Stop ID is 0
2018-02-26 05:25:00,333 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:00,335 - DEBUG - Entry ID is 228
2018-02-26 05:25:00,336 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:25:00,337 - DEBUG - OCA ID is 1
2018-02-26 05:25:00,337 - DEBUG - Connecting to IBController
2018-02-26 05:25:01,344 - DEBUG - Connected to IBController
2018-02-26 05:25:01,344 - DEBUG - Position requested
2018-02-26 05:25:01,346 - DEBUG - Pos Mgmt -12987
2018-02-26 05:25:01,346 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:25:01,347 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:25:01,347 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:25:01,347 - DEBUG - Position is -12987
2018-02-26 05:25:02,345 - DEBUG - Open Orders requested
2018-02-26 05:25:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CD30>, order=<ib.ext.Order.Order object at 0x000000000209CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021320F0>>
2018-02-26 05:25:02,349 - DEBUG - Order OrderID 225
2018-02-26 05:25:02,349 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:25:02,350 - DEBUG - Order status PreSubmitted
2018-02-26 05:25:02,350 - DEBUG - Order Identification 225
2018-02-26 05:25:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:25:02,351 - DEBUG - Profit ID from database is 228
2018-02-26 05:25:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:25:02,351 - DEBUG - Stop ID database is 0
2018-02-26 05:25:02,351 - DEBUG - Entry ID database is 228
2018-02-26 05:25:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209CEF0>, order=<ib.ext.Order.Order object at 0x000000000209CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132160>>
2018-02-26 05:25:02,353 - DEBUG - Order OrderID 227
2018-02-26 05:25:02,353 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:25:02,353 - DEBUG - Order status PreSubmitted
2018-02-26 05:25:02,354 - DEBUG - Order Identification 227
2018-02-26 05:25:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:25:02,354 - DEBUG - Profit ID from database is 228
2018-02-26 05:25:02,354 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:25:02,354 - DEBUG - Stop ID database is 0
2018-02-26 05:25:02,355 - DEBUG - Entry ID database is 228
2018-02-26 05:25:04,346 - DEBUG - Connecting to database
2018-02-26 05:25:04,353 - DEBUG - Connected to database
2018-02-26 05:25:04,355 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,355 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:25:04,357 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,357 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:25:04,359 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,359 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:25:04,361 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,361 - DEBUG - Stop quantity 1
2018-02-26 05:25:04,362 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,363 - DEBUG - Direction is Short
2018-02-26 05:25:04,364 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,365 - DEBUG - Count is 0
2018-02-26 05:25:04,366 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:25:04,366 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:25:04,368 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:25:04,368 - DEBUG - Max ID Order is (228,)
2018-02-26 05:25:04,369 - DEBUG - Today is 2018-02-26
2018-02-26 05:25:04,369 - DEBUG - Day of the week 0
2018-02-26 05:25:04,369 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:25:04,370 - DEBUG - In Position is  0
2018-02-26 05:25:04,370 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:25:04,370 - DEBUG - curStopLossFlag is  0
2018-02-26 05:25:04,370 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:25:04,370 - DEBUG - Checking if Entry has been filled
2018-02-26 05:25:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:25:04,372 - DEBUG - EntryPend is 1
2018-02-26 05:25:04,372 - DEBUG - Try to Cancel Stop
2018-02-26 05:25:04,373 - DEBUG - Stop API ID 0
2018-02-26 05:25:04,373 - DEBUG - Profit API ID 0
2018-02-26 05:25:04,373 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:25:04,373 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:25:04,373 - DEBUG - Pos is 0
2018-02-26 05:25:04,374 - DEBUG - CurCount is 0
2018-02-26 05:25:04,374 - DEBUG - In Pos 0
2018-02-26 05:25:04,374 - DEBUG - Stop ID is 0
2018-02-26 05:25:04,374 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:25:04,376 - DEBUG - EntryPend is 1
2018-02-26 05:25:04,376 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:25:04,376 - DEBUG - Entry Date is 10
2018-02-26 05:25:04,376 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:25:04,377 - DEBUG - Order Profit ID is 228
2018-02-26 05:25:04,377 - DEBUG - Order Entry ID is 228
2018-02-26 05:25:04,377 - DEBUG - API ID is  0
2018-02-26 05:25:04,377 - DEBUG - Current Position is 0
2018-02-26 05:25:04,377 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:25:04,378 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:25:04,378 - DEBUG - Time is 5
2018-02-26 05:25:04,378 - DEBUG - Time is <class 'int'>
2018-02-26 05:25:04,378 - DEBUG - Disconnected from IBController
2018-02-26 05:25:04,379 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:30:00,260 - DEBUG - ****************************************************
2018-02-26 05:30:00,260 - DEBUG - Current Time is 05:30AM
2018-02-26 05:30:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:30:00,261 - DEBUG - Connecting to database
2018-02-26 05:30:00,335 - DEBUG - Connected to database
2018-02-26 05:30:00,335 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:00,351 - DEBUG - Order Profit is 228
2018-02-26 05:30:00,352 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:00,377 - DEBUG - Stop ID is 0
2018-02-26 05:30:00,377 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:00,396 - DEBUG - Entry ID is 228
2018-02-26 05:30:00,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:30:00,404 - DEBUG - OCA ID is 1
2018-02-26 05:30:00,404 - DEBUG - Connecting to IBController
2018-02-26 05:30:01,413 - DEBUG - Connected to IBController
2018-02-26 05:30:01,413 - DEBUG - Position requested
2018-02-26 05:30:01,415 - DEBUG - Pos Mgmt -12987
2018-02-26 05:30:01,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:30:01,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:30:01,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:30:01,416 - DEBUG - Position is -12987
2018-02-26 05:30:02,415 - DEBUG - Open Orders requested
2018-02-26 05:30:02,417 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CBE0>, order=<ib.ext.Order.Order object at 0x000000000204CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1160>>
2018-02-26 05:30:02,420 - DEBUG - Order OrderID 225
2018-02-26 05:30:02,421 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:30:02,421 - DEBUG - Order status PreSubmitted
2018-02-26 05:30:02,421 - DEBUG - Order Identification 225
2018-02-26 05:30:02,422 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:30:02,422 - DEBUG - Profit ID from database is 228
2018-02-26 05:30:02,422 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:30:02,422 - DEBUG - Stop ID database is 0
2018-02-26 05:30:02,423 - DEBUG - Entry ID database is 228
2018-02-26 05:30:02,424 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204CBE0>, order=<ib.ext.Order.Order object at 0x000000000204CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-26 05:30:02,424 - DEBUG - Order OrderID 227
2018-02-26 05:30:02,424 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:30:02,425 - DEBUG - Order status PreSubmitted
2018-02-26 05:30:02,425 - DEBUG - Order Identification 227
2018-02-26 05:30:02,425 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:30:02,425 - DEBUG - Profit ID from database is 228
2018-02-26 05:30:02,426 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:30:02,426 - DEBUG - Stop ID database is 0
2018-02-26 05:30:02,426 - DEBUG - Entry ID database is 228
2018-02-26 05:30:04,420 - DEBUG - Connecting to database
2018-02-26 05:30:04,427 - DEBUG - Connected to database
2018-02-26 05:30:04,429 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,429 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:30:04,431 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,431 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:30:04,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,433 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:30:04,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,434 - DEBUG - Stop quantity 1
2018-02-26 05:30:04,436 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,436 - DEBUG - Direction is Short
2018-02-26 05:30:04,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,438 - DEBUG - Count is 0
2018-02-26 05:30:04,439 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:30:04,439 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:30:04,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:30:04,441 - DEBUG - Max ID Order is (228,)
2018-02-26 05:30:04,442 - DEBUG - Today is 2018-02-26
2018-02-26 05:30:04,442 - DEBUG - Day of the week 0
2018-02-26 05:30:04,442 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:30:04,443 - DEBUG - In Position is  0
2018-02-26 05:30:04,443 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:30:04,443 - DEBUG - curStopLossFlag is  0
2018-02-26 05:30:04,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:30:04,444 - DEBUG - Checking if Entry has been filled
2018-02-26 05:30:04,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:30:04,445 - DEBUG - EntryPend is 1
2018-02-26 05:30:04,446 - DEBUG - Try to Cancel Stop
2018-02-26 05:30:04,446 - DEBUG - Stop API ID 0
2018-02-26 05:30:04,446 - DEBUG - Profit API ID 0
2018-02-26 05:30:04,446 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:30:04,447 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:30:04,447 - DEBUG - Pos is 0
2018-02-26 05:30:04,447 - DEBUG - CurCount is 0
2018-02-26 05:30:04,447 - DEBUG - In Pos 0
2018-02-26 05:30:04,448 - DEBUG - Stop ID is 0
2018-02-26 05:30:04,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:30:04,449 - DEBUG - EntryPend is 1
2018-02-26 05:30:04,449 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:30:04,450 - DEBUG - Entry Date is 10
2018-02-26 05:30:04,450 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:30:04,450 - DEBUG - Order Profit ID is 228
2018-02-26 05:30:04,450 - DEBUG - Order Entry ID is 228
2018-02-26 05:30:04,450 - DEBUG - API ID is  0
2018-02-26 05:30:04,451 - DEBUG - Current Position is 0
2018-02-26 05:30:04,451 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:30:04,451 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:30:04,451 - DEBUG - Time is 5
2018-02-26 05:30:04,452 - DEBUG - Time is <class 'int'>
2018-02-26 05:30:04,452 - DEBUG - Disconnected from IBController
2018-02-26 05:30:04,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:35:00,271 - DEBUG - ****************************************************
2018-02-26 05:35:00,272 - DEBUG - Current Time is 05:35AM
2018-02-26 05:35:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:35:00,272 - DEBUG - Connecting to database
2018-02-26 05:35:00,367 - DEBUG - Connected to database
2018-02-26 05:35:00,368 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:00,370 - DEBUG - Order Profit is 228
2018-02-26 05:35:00,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:00,372 - DEBUG - Stop ID is 0
2018-02-26 05:35:00,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:00,374 - DEBUG - Entry ID is 228
2018-02-26 05:35:00,374 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:35:00,376 - DEBUG - OCA ID is 1
2018-02-26 05:35:00,377 - DEBUG - Connecting to IBController
2018-02-26 05:35:01,386 - DEBUG - Connected to IBController
2018-02-26 05:35:01,386 - DEBUG - Position requested
2018-02-26 05:35:01,388 - DEBUG - Pos Mgmt -12987
2018-02-26 05:35:01,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:35:01,389 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:35:01,389 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:35:01,389 - DEBUG - Position is -12987
2018-02-26 05:35:02,387 - DEBUG - Open Orders requested
2018-02-26 05:35:02,389 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1160>>
2018-02-26 05:35:02,390 - DEBUG - Order OrderID 225
2018-02-26 05:35:02,390 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:35:02,391 - DEBUG - Order status PreSubmitted
2018-02-26 05:35:02,391 - DEBUG - Order Identification 225
2018-02-26 05:35:02,391 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:35:02,391 - DEBUG - Profit ID from database is 228
2018-02-26 05:35:02,392 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:35:02,392 - DEBUG - Stop ID database is 0
2018-02-26 05:35:02,392 - DEBUG - Entry ID database is 228
2018-02-26 05:35:02,393 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-26 05:35:02,394 - DEBUG - Order OrderID 227
2018-02-26 05:35:02,394 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:35:02,394 - DEBUG - Order status PreSubmitted
2018-02-26 05:35:02,395 - DEBUG - Order Identification 227
2018-02-26 05:35:02,395 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:35:02,395 - DEBUG - Profit ID from database is 228
2018-02-26 05:35:02,395 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:35:02,395 - DEBUG - Stop ID database is 0
2018-02-26 05:35:02,396 - DEBUG - Entry ID database is 228
2018-02-26 05:35:04,390 - DEBUG - Connecting to database
2018-02-26 05:35:04,397 - DEBUG - Connected to database
2018-02-26 05:35:04,399 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,399 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:35:04,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,401 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:35:04,402 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,403 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:35:04,404 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,405 - DEBUG - Stop quantity 1
2018-02-26 05:35:04,406 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,406 - DEBUG - Direction is Short
2018-02-26 05:35:04,408 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,408 - DEBUG - Count is 0
2018-02-26 05:35:04,409 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:35:04,410 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:35:04,411 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:35:04,412 - DEBUG - Max ID Order is (228,)
2018-02-26 05:35:04,412 - DEBUG - Today is 2018-02-26
2018-02-26 05:35:04,412 - DEBUG - Day of the week 0
2018-02-26 05:35:04,413 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:35:04,413 - DEBUG - In Position is  0
2018-02-26 05:35:04,413 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:35:04,413 - DEBUG - curStopLossFlag is  0
2018-02-26 05:35:04,414 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:35:04,414 - DEBUG - Checking if Entry has been filled
2018-02-26 05:35:04,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:35:04,416 - DEBUG - EntryPend is 1
2018-02-26 05:35:04,416 - DEBUG - Try to Cancel Stop
2018-02-26 05:35:04,416 - DEBUG - Stop API ID 0
2018-02-26 05:35:04,416 - DEBUG - Profit API ID 0
2018-02-26 05:35:04,417 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:35:04,417 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:35:04,417 - DEBUG - Pos is 0
2018-02-26 05:35:04,417 - DEBUG - CurCount is 0
2018-02-26 05:35:04,417 - DEBUG - In Pos 0
2018-02-26 05:35:04,418 - DEBUG - Stop ID is 0
2018-02-26 05:35:04,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:35:04,419 - DEBUG - EntryPend is 1
2018-02-26 05:35:04,420 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:35:04,420 - DEBUG - Entry Date is 10
2018-02-26 05:35:04,420 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:35:04,420 - DEBUG - Order Profit ID is 228
2018-02-26 05:35:04,420 - DEBUG - Order Entry ID is 228
2018-02-26 05:35:04,421 - DEBUG - API ID is  0
2018-02-26 05:35:04,421 - DEBUG - Current Position is 0
2018-02-26 05:35:04,421 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:35:04,421 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:35:04,422 - DEBUG - Time is 5
2018-02-26 05:35:04,422 - DEBUG - Time is <class 'int'>
2018-02-26 05:35:04,422 - DEBUG - Disconnected from IBController
2018-02-26 05:35:04,423 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:40:00,266 - DEBUG - ****************************************************
2018-02-26 05:40:00,267 - DEBUG - Current Time is 05:40AM
2018-02-26 05:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:40:00,268 - DEBUG - Connecting to database
2018-02-26 05:40:00,405 - DEBUG - Connected to database
2018-02-26 05:40:00,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:00,416 - DEBUG - Order Profit is 228
2018-02-26 05:40:00,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:00,450 - DEBUG - Stop ID is 0
2018-02-26 05:40:00,451 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:00,472 - DEBUG - Entry ID is 228
2018-02-26 05:40:00,473 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:40:00,480 - DEBUG - OCA ID is 1
2018-02-26 05:40:00,481 - DEBUG - Connecting to IBController
2018-02-26 05:40:01,492 - DEBUG - Connected to IBController
2018-02-26 05:40:01,492 - DEBUG - Position requested
2018-02-26 05:40:01,494 - DEBUG - Pos Mgmt -12987
2018-02-26 05:40:01,494 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:40:01,494 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:40:01,495 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:40:01,495 - DEBUG - Position is -12987
2018-02-26 05:40:02,494 - DEBUG - Open Orders requested
2018-02-26 05:40:02,496 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CAC8>, order=<ib.ext.Order.Order object at 0x000000000205CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2160>>
2018-02-26 05:40:02,497 - DEBUG - Order OrderID 225
2018-02-26 05:40:02,497 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:40:02,498 - DEBUG - Order status PreSubmitted
2018-02-26 05:40:02,498 - DEBUG - Order Identification 225
2018-02-26 05:40:02,498 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:40:02,498 - DEBUG - Profit ID from database is 228
2018-02-26 05:40:02,499 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:40:02,499 - DEBUG - Stop ID database is 0
2018-02-26 05:40:02,499 - DEBUG - Entry ID database is 228
2018-02-26 05:40:02,500 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205CAC8>, order=<ib.ext.Order.Order object at 0x000000000205CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2048>>
2018-02-26 05:40:02,500 - DEBUG - Order OrderID 227
2018-02-26 05:40:02,501 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:40:02,501 - DEBUG - Order status PreSubmitted
2018-02-26 05:40:02,501 - DEBUG - Order Identification 227
2018-02-26 05:40:02,502 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:40:02,502 - DEBUG - Profit ID from database is 228
2018-02-26 05:40:02,502 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:40:02,502 - DEBUG - Stop ID database is 0
2018-02-26 05:40:02,502 - DEBUG - Entry ID database is 228
2018-02-26 05:40:04,497 - DEBUG - Connecting to database
2018-02-26 05:40:04,504 - DEBUG - Connected to database
2018-02-26 05:40:04,506 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,506 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:40:04,507 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,508 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:40:04,509 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,510 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:40:04,511 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,511 - DEBUG - Stop quantity 1
2018-02-26 05:40:04,513 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,513 - DEBUG - Direction is Short
2018-02-26 05:40:04,515 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,516 - DEBUG - Count is 0
2018-02-26 05:40:04,517 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:40:04,517 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:40:04,519 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:40:04,520 - DEBUG - Max ID Order is (228,)
2018-02-26 05:40:04,520 - DEBUG - Today is 2018-02-26
2018-02-26 05:40:04,521 - DEBUG - Day of the week 0
2018-02-26 05:40:04,521 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:40:04,521 - DEBUG - In Position is  0
2018-02-26 05:40:04,521 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:40:04,522 - DEBUG - curStopLossFlag is  0
2018-02-26 05:40:04,522 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:40:04,522 - DEBUG - Checking if Entry has been filled
2018-02-26 05:40:04,522 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:40:04,524 - DEBUG - EntryPend is 1
2018-02-26 05:40:04,524 - DEBUG - Try to Cancel Stop
2018-02-26 05:40:04,524 - DEBUG - Stop API ID 0
2018-02-26 05:40:04,524 - DEBUG - Profit API ID 0
2018-02-26 05:40:04,525 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:40:04,525 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:40:04,525 - DEBUG - Pos is 0
2018-02-26 05:40:04,525 - DEBUG - CurCount is 0
2018-02-26 05:40:04,526 - DEBUG - In Pos 0
2018-02-26 05:40:04,526 - DEBUG - Stop ID is 0
2018-02-26 05:40:04,526 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:40:04,528 - DEBUG - EntryPend is 1
2018-02-26 05:40:04,528 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:40:04,528 - DEBUG - Entry Date is 10
2018-02-26 05:40:04,528 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:40:04,529 - DEBUG - Order Profit ID is 228
2018-02-26 05:40:04,529 - DEBUG - Order Entry ID is 228
2018-02-26 05:40:04,529 - DEBUG - API ID is  0
2018-02-26 05:40:04,529 - DEBUG - Current Position is 0
2018-02-26 05:40:04,529 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:40:04,530 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:40:04,530 - DEBUG - Time is 5
2018-02-26 05:40:04,530 - DEBUG - Time is <class 'int'>
2018-02-26 05:40:04,530 - DEBUG - Disconnected from IBController
2018-02-26 05:40:04,531 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:45:00,269 - DEBUG - ****************************************************
2018-02-26 05:45:00,270 - DEBUG - Current Time is 05:45AM
2018-02-26 05:45:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:45:00,270 - DEBUG - Connecting to database
2018-02-26 05:45:00,372 - DEBUG - Connected to database
2018-02-26 05:45:00,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:00,378 - DEBUG - Order Profit is 228
2018-02-26 05:45:00,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:00,411 - DEBUG - Stop ID is 0
2018-02-26 05:45:00,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:00,429 - DEBUG - Entry ID is 228
2018-02-26 05:45:00,429 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:45:00,445 - DEBUG - OCA ID is 1
2018-02-26 05:45:00,446 - DEBUG - Connecting to IBController
2018-02-26 05:45:01,452 - DEBUG - Connected to IBController
2018-02-26 05:45:01,452 - DEBUG - Position requested
2018-02-26 05:45:01,454 - DEBUG - Pos Mgmt -12987
2018-02-26 05:45:01,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:45:01,454 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:45:01,455 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:45:01,455 - DEBUG - Position is -12987
2018-02-26 05:45:02,453 - DEBUG - Open Orders requested
2018-02-26 05:45:02,455 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, order=<ib.ext.Order.Order object at 0x000000000205CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2160>>
2018-02-26 05:45:02,456 - DEBUG - Order OrderID 225
2018-02-26 05:45:02,456 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:45:02,457 - DEBUG - Order status PreSubmitted
2018-02-26 05:45:02,457 - DEBUG - Order Identification 225
2018-02-26 05:45:02,457 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:45:02,458 - DEBUG - Profit ID from database is 228
2018-02-26 05:45:02,458 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:45:02,458 - DEBUG - Stop ID database is 0
2018-02-26 05:45:02,458 - DEBUG - Entry ID database is 228
2018-02-26 05:45:02,459 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, order=<ib.ext.Order.Order object at 0x000000000205CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2048>>
2018-02-26 05:45:02,460 - DEBUG - Order OrderID 227
2018-02-26 05:45:02,460 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:45:02,461 - DEBUG - Order status PreSubmitted
2018-02-26 05:45:02,461 - DEBUG - Order Identification 227
2018-02-26 05:45:02,461 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:45:02,461 - DEBUG - Profit ID from database is 228
2018-02-26 05:45:02,462 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:45:02,462 - DEBUG - Stop ID database is 0
2018-02-26 05:45:02,462 - DEBUG - Entry ID database is 228
2018-02-26 05:45:04,456 - DEBUG - Connecting to database
2018-02-26 05:45:04,463 - DEBUG - Connected to database
2018-02-26 05:45:04,465 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,465 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:45:04,467 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,467 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:45:04,468 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,469 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:45:04,470 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,470 - DEBUG - Stop quantity 1
2018-02-26 05:45:04,472 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,472 - DEBUG - Direction is Short
2018-02-26 05:45:04,473 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,474 - DEBUG - Count is 0
2018-02-26 05:45:04,475 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:45:04,475 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:45:04,477 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:45:04,477 - DEBUG - Max ID Order is (228,)
2018-02-26 05:45:04,478 - DEBUG - Today is 2018-02-26
2018-02-26 05:45:04,478 - DEBUG - Day of the week 0
2018-02-26 05:45:04,478 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:45:04,478 - DEBUG - In Position is  0
2018-02-26 05:45:04,479 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:45:04,479 - DEBUG - curStopLossFlag is  0
2018-02-26 05:45:04,479 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:45:04,480 - DEBUG - Checking if Entry has been filled
2018-02-26 05:45:04,480 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:45:04,481 - DEBUG - EntryPend is 1
2018-02-26 05:45:04,481 - DEBUG - Try to Cancel Stop
2018-02-26 05:45:04,482 - DEBUG - Stop API ID 0
2018-02-26 05:45:04,482 - DEBUG - Profit API ID 0
2018-02-26 05:45:04,482 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:45:04,482 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:45:04,483 - DEBUG - Pos is 0
2018-02-26 05:45:04,483 - DEBUG - CurCount is 0
2018-02-26 05:45:04,483 - DEBUG - In Pos 0
2018-02-26 05:45:04,483 - DEBUG - Stop ID is 0
2018-02-26 05:45:04,483 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:45:04,485 - DEBUG - EntryPend is 1
2018-02-26 05:45:04,485 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:45:04,485 - DEBUG - Entry Date is 10
2018-02-26 05:45:04,485 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:45:04,486 - DEBUG - Order Profit ID is 228
2018-02-26 05:45:04,486 - DEBUG - Order Entry ID is 228
2018-02-26 05:45:04,486 - DEBUG - API ID is  0
2018-02-26 05:45:04,486 - DEBUG - Current Position is 0
2018-02-26 05:45:04,486 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:45:04,487 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:45:04,487 - DEBUG - Time is 5
2018-02-26 05:45:04,487 - DEBUG - Time is <class 'int'>
2018-02-26 05:45:04,487 - DEBUG - Disconnected from IBController
2018-02-26 05:45:04,488 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:50:00,282 - DEBUG - ****************************************************
2018-02-26 05:50:00,283 - DEBUG - Current Time is 05:50AM
2018-02-26 05:50:00,283 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:50:00,283 - DEBUG - Connecting to database
2018-02-26 05:50:00,332 - DEBUG - Connected to database
2018-02-26 05:50:00,332 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:00,334 - DEBUG - Order Profit is 228
2018-02-26 05:50:00,334 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:00,340 - DEBUG - Stop ID is 0
2018-02-26 05:50:00,340 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:00,342 - DEBUG - Entry ID is 228
2018-02-26 05:50:00,342 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:50:00,346 - DEBUG - OCA ID is 1
2018-02-26 05:50:00,346 - DEBUG - Connecting to IBController
2018-02-26 05:50:01,355 - DEBUG - Connected to IBController
2018-02-26 05:50:01,355 - DEBUG - Position requested
2018-02-26 05:50:01,357 - DEBUG - Pos Mgmt -12987
2018-02-26 05:50:01,357 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CB00>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:50:01,358 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:50:01,358 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:50:01,358 - DEBUG - Position is -12987
2018-02-26 05:50:02,357 - DEBUG - Open Orders requested
2018-02-26 05:50:02,359 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CA58>, order=<ib.ext.Order.Order object at 0x000000000209CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132160>>
2018-02-26 05:50:02,360 - DEBUG - Order OrderID 225
2018-02-26 05:50:02,360 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:50:02,361 - DEBUG - Order status PreSubmitted
2018-02-26 05:50:02,361 - DEBUG - Order Identification 225
2018-02-26 05:50:02,361 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:50:02,362 - DEBUG - Profit ID from database is 228
2018-02-26 05:50:02,362 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:50:02,362 - DEBUG - Stop ID database is 0
2018-02-26 05:50:02,362 - DEBUG - Entry ID database is 228
2018-02-26 05:50:02,363 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209CA58>, order=<ib.ext.Order.Order object at 0x000000000209CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132048>>
2018-02-26 05:50:02,364 - DEBUG - Order OrderID 227
2018-02-26 05:50:02,364 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:50:02,364 - DEBUG - Order status PreSubmitted
2018-02-26 05:50:02,365 - DEBUG - Order Identification 227
2018-02-26 05:50:02,365 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:50:02,365 - DEBUG - Profit ID from database is 228
2018-02-26 05:50:02,365 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:50:02,366 - DEBUG - Stop ID database is 0
2018-02-26 05:50:02,366 - DEBUG - Entry ID database is 228
2018-02-26 05:50:04,360 - DEBUG - Connecting to database
2018-02-26 05:50:04,368 - DEBUG - Connected to database
2018-02-26 05:50:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,370 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:50:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,372 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:50:04,373 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,373 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:50:04,374 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,375 - DEBUG - Stop quantity 1
2018-02-26 05:50:04,376 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,377 - DEBUG - Direction is Short
2018-02-26 05:50:04,379 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,379 - DEBUG - Count is 0
2018-02-26 05:50:04,380 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:50:04,381 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:50:04,382 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:50:04,382 - DEBUG - Max ID Order is (228,)
2018-02-26 05:50:04,383 - DEBUG - Today is 2018-02-26
2018-02-26 05:50:04,383 - DEBUG - Day of the week 0
2018-02-26 05:50:04,384 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:50:04,384 - DEBUG - In Position is  0
2018-02-26 05:50:04,384 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:50:04,384 - DEBUG - curStopLossFlag is  0
2018-02-26 05:50:04,385 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:50:04,385 - DEBUG - Checking if Entry has been filled
2018-02-26 05:50:04,385 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:50:04,386 - DEBUG - EntryPend is 1
2018-02-26 05:50:04,387 - DEBUG - Try to Cancel Stop
2018-02-26 05:50:04,387 - DEBUG - Stop API ID 0
2018-02-26 05:50:04,387 - DEBUG - Profit API ID 0
2018-02-26 05:50:04,387 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:50:04,387 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:50:04,388 - DEBUG - Pos is 0
2018-02-26 05:50:04,388 - DEBUG - CurCount is 0
2018-02-26 05:50:04,388 - DEBUG - In Pos 0
2018-02-26 05:50:04,388 - DEBUG - Stop ID is 0
2018-02-26 05:50:04,389 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:50:04,390 - DEBUG - EntryPend is 1
2018-02-26 05:50:04,390 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:50:04,391 - DEBUG - Entry Date is 10
2018-02-26 05:50:04,391 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:50:04,391 - DEBUG - Order Profit ID is 228
2018-02-26 05:50:04,391 - DEBUG - Order Entry ID is 228
2018-02-26 05:50:04,391 - DEBUG - API ID is  0
2018-02-26 05:50:04,392 - DEBUG - Current Position is 0
2018-02-26 05:50:04,392 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:50:04,392 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:50:04,392 - DEBUG - Time is 5
2018-02-26 05:50:04,393 - DEBUG - Time is <class 'int'>
2018-02-26 05:50:04,393 - DEBUG - Disconnected from IBController
2018-02-26 05:50:04,393 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 05:55:00,268 - DEBUG - ****************************************************
2018-02-26 05:55:00,268 - DEBUG - Current Time is 05:55AM
2018-02-26 05:55:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 05:55:00,269 - DEBUG - Connecting to database
2018-02-26 05:55:00,326 - DEBUG - Connected to database
2018-02-26 05:55:00,326 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:00,328 - DEBUG - Order Profit is 228
2018-02-26 05:55:00,328 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:00,330 - DEBUG - Stop ID is 0
2018-02-26 05:55:00,330 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:00,331 - DEBUG - Entry ID is 228
2018-02-26 05:55:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 05:55:00,333 - DEBUG - OCA ID is 1
2018-02-26 05:55:00,333 - DEBUG - Connecting to IBController
2018-02-26 05:55:01,340 - DEBUG - Connected to IBController
2018-02-26 05:55:01,340 - DEBUG - Position requested
2018-02-26 05:55:01,342 - DEBUG - Pos Mgmt -12987
2018-02-26 05:55:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 05:55:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 05:55:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 05:55:01,343 - DEBUG - Position is -12987
2018-02-26 05:55:02,341 - DEBUG - Open Orders requested
2018-02-26 05:55:02,343 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120F0>>
2018-02-26 05:55:02,344 - DEBUG - Order OrderID 225
2018-02-26 05:55:02,344 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:55:02,345 - DEBUG - Order status PreSubmitted
2018-02-26 05:55:02,345 - DEBUG - Order Identification 225
2018-02-26 05:55:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:55:02,346 - DEBUG - Profit ID from database is 228
2018-02-26 05:55:02,346 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:55:02,346 - DEBUG - Stop ID database is 0
2018-02-26 05:55:02,346 - DEBUG - Entry ID database is 228
2018-02-26 05:55:02,347 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-02-26 05:55:02,348 - DEBUG - Order OrderID 227
2018-02-26 05:55:02,348 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 05:55:02,348 - DEBUG - Order status PreSubmitted
2018-02-26 05:55:02,349 - DEBUG - Order Identification 227
2018-02-26 05:55:02,349 - DEBUG - Order Identification <class 'int'>
2018-02-26 05:55:02,349 - DEBUG - Profit ID from database is 228
2018-02-26 05:55:02,349 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 05:55:02,350 - DEBUG - Stop ID database is 0
2018-02-26 05:55:02,350 - DEBUG - Entry ID database is 228
2018-02-26 05:55:04,342 - DEBUG - Connecting to database
2018-02-26 05:55:04,349 - DEBUG - Connected to database
2018-02-26 05:55:04,351 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,351 - DEBUG - Stop loss value is 2731.25
2018-02-26 05:55:04,353 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,353 - DEBUG - Stop loss value is 2671.5
2018-02-26 05:55:04,354 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,355 - DEBUG - EntryPrice value is 2681.0
2018-02-26 05:55:04,356 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,356 - DEBUG - Stop quantity 1
2018-02-26 05:55:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,358 - DEBUG - Direction is Short
2018-02-26 05:55:04,359 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,360 - DEBUG - Count is 0
2018-02-26 05:55:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 05:55:04,362 - DEBUG - Stop Loss Flag is 0
2018-02-26 05:55:04,363 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 05:55:04,363 - DEBUG - Max ID Order is (228,)
2018-02-26 05:55:04,364 - DEBUG - Today is 2018-02-26
2018-02-26 05:55:04,364 - DEBUG - Day of the week 0
2018-02-26 05:55:04,364 - DEBUG - Yesterday is 02/23/2018
2018-02-26 05:55:04,365 - DEBUG - In Position is  0
2018-02-26 05:55:04,365 - DEBUG - In Position is  <class 'int'>
2018-02-26 05:55:04,365 - DEBUG - curStopLossFlag is  0
2018-02-26 05:55:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 05:55:04,365 - DEBUG - Checking if Entry has been filled
2018-02-26 05:55:04,366 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:55:04,367 - DEBUG - EntryPend is 1
2018-02-26 05:55:04,367 - DEBUG - Try to Cancel Stop
2018-02-26 05:55:04,368 - DEBUG - Stop API ID 0
2018-02-26 05:55:04,368 - DEBUG - Profit API ID 0
2018-02-26 05:55:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-26 05:55:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-26 05:55:04,369 - DEBUG - Pos is 0
2018-02-26 05:55:04,369 - DEBUG - CurCount is 0
2018-02-26 05:55:04,369 - DEBUG - In Pos 0
2018-02-26 05:55:04,369 - DEBUG - Stop ID is 0
2018-02-26 05:55:04,370 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 05:55:04,371 - DEBUG - EntryPend is 1
2018-02-26 05:55:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 05:55:04,371 - DEBUG - Entry Date is 10
2018-02-26 05:55:04,372 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 05:55:04,372 - DEBUG - Order Profit ID is 228
2018-02-26 05:55:04,372 - DEBUG - Order Entry ID is 228
2018-02-26 05:55:04,372 - DEBUG - API ID is  0
2018-02-26 05:55:04,372 - DEBUG - Current Position is 0
2018-02-26 05:55:04,373 - DEBUG - Current Position is <class 'str'>
2018-02-26 05:55:04,373 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 05:55:04,373 - DEBUG - Time is 5
2018-02-26 05:55:04,373 - DEBUG - Time is <class 'int'>
2018-02-26 05:55:04,374 - DEBUG - Disconnected from IBController
2018-02-26 05:55:04,374 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:00:00,280 - DEBUG - ****************************************************
2018-02-26 06:00:00,280 - DEBUG - Current Time is 06:00AM
2018-02-26 06:00:00,281 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:00:00,281 - DEBUG - Connecting to database
2018-02-26 06:00:00,361 - DEBUG - Connected to database
2018-02-26 06:00:00,361 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:00,368 - DEBUG - Order Profit is 228
2018-02-26 06:00:00,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:00,385 - DEBUG - Stop ID is 0
2018-02-26 06:00:00,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:00,391 - DEBUG - Entry ID is 228
2018-02-26 06:00:00,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:00:00,397 - DEBUG - OCA ID is 1
2018-02-26 06:00:00,397 - DEBUG - Connecting to IBController
2018-02-26 06:00:01,406 - DEBUG - Connected to IBController
2018-02-26 06:00:01,406 - DEBUG - Position requested
2018-02-26 06:00:01,408 - DEBUG - Pos Mgmt -12987
2018-02-26 06:00:01,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:00:01,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:00:01,409 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:00:01,409 - DEBUG - Position is -12987
2018-02-26 06:00:02,408 - DEBUG - Open Orders requested
2018-02-26 06:00:02,410 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BCDA0>, order=<ib.ext.Order.Order object at 0x00000000020BCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510F0>>
2018-02-26 06:00:02,411 - DEBUG - Order OrderID 225
2018-02-26 06:00:02,411 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:00:02,412 - DEBUG - Order status PreSubmitted
2018-02-26 06:00:02,412 - DEBUG - Order Identification 225
2018-02-26 06:00:02,412 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:00:02,412 - DEBUG - Profit ID from database is 228
2018-02-26 06:00:02,413 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:00:02,413 - DEBUG - Stop ID database is 0
2018-02-26 06:00:02,413 - DEBUG - Entry ID database is 228
2018-02-26 06:00:02,414 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020BCF98>, order=<ib.ext.Order.Order object at 0x00000000020BCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151160>>
2018-02-26 06:00:02,415 - DEBUG - Order OrderID 227
2018-02-26 06:00:02,415 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:00:02,416 - DEBUG - Order status PreSubmitted
2018-02-26 06:00:02,416 - DEBUG - Order Identification 227
2018-02-26 06:00:02,416 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:00:02,416 - DEBUG - Profit ID from database is 228
2018-02-26 06:00:02,416 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:00:02,417 - DEBUG - Stop ID database is 0
2018-02-26 06:00:02,417 - DEBUG - Entry ID database is 228
2018-02-26 06:00:04,409 - DEBUG - Connecting to database
2018-02-26 06:00:04,416 - DEBUG - Connected to database
2018-02-26 06:00:04,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,418 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:00:04,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,420 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:00:04,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,422 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:00:04,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,423 - DEBUG - Stop quantity 1
2018-02-26 06:00:04,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,425 - DEBUG - Direction is Short
2018-02-26 06:00:04,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,427 - DEBUG - Count is 0
2018-02-26 06:00:04,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:00:04,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:00:04,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:00:04,430 - DEBUG - Max ID Order is (228,)
2018-02-26 06:00:04,430 - DEBUG - Today is 2018-02-26
2018-02-26 06:00:04,431 - DEBUG - Day of the week 0
2018-02-26 06:00:04,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:00:04,431 - DEBUG - In Position is  0
2018-02-26 06:00:04,432 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:00:04,432 - DEBUG - curStopLossFlag is  0
2018-02-26 06:00:04,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:00:04,432 - DEBUG - Checking if Entry has been filled
2018-02-26 06:00:04,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:00:04,434 - DEBUG - EntryPend is 1
2018-02-26 06:00:04,434 - DEBUG - Try to Cancel Stop
2018-02-26 06:00:04,434 - DEBUG - Stop API ID 0
2018-02-26 06:00:04,435 - DEBUG - Profit API ID 0
2018-02-26 06:00:04,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:00:04,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:00:04,435 - DEBUG - Pos is 0
2018-02-26 06:00:04,436 - DEBUG - CurCount is 0
2018-02-26 06:00:04,436 - DEBUG - In Pos 0
2018-02-26 06:00:04,436 - DEBUG - Stop ID is 0
2018-02-26 06:00:04,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:00:04,438 - DEBUG - EntryPend is 1
2018-02-26 06:00:04,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:00:04,438 - DEBUG - Entry Date is 10
2018-02-26 06:00:04,438 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:00:04,439 - DEBUG - Order Profit ID is 228
2018-02-26 06:00:04,439 - DEBUG - Order Entry ID is 228
2018-02-26 06:00:04,439 - DEBUG - API ID is  0
2018-02-26 06:00:04,439 - DEBUG - Current Position is 0
2018-02-26 06:00:04,439 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:00:04,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:00:04,440 - DEBUG - Time is 6
2018-02-26 06:00:04,440 - DEBUG - Time is <class 'int'>
2018-02-26 06:00:04,440 - DEBUG - Disconnected from IBController
2018-02-26 06:00:04,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:05:00,272 - DEBUG - ****************************************************
2018-02-26 06:05:00,273 - DEBUG - Current Time is 06:05AM
2018-02-26 06:05:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:05:00,273 - DEBUG - Connecting to database
2018-02-26 06:05:00,317 - DEBUG - Connected to database
2018-02-26 06:05:00,317 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:00,319 - DEBUG - Order Profit is 228
2018-02-26 06:05:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:00,323 - DEBUG - Stop ID is 0
2018-02-26 06:05:00,323 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:00,325 - DEBUG - Entry ID is 228
2018-02-26 06:05:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:05:00,327 - DEBUG - OCA ID is 1
2018-02-26 06:05:00,328 - DEBUG - Connecting to IBController
2018-02-26 06:05:01,340 - DEBUG - Connected to IBController
2018-02-26 06:05:01,340 - DEBUG - Position requested
2018-02-26 06:05:01,342 - DEBUG - Pos Mgmt -12987
2018-02-26 06:05:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:05:01,343 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:05:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:05:01,343 - DEBUG - Position is -12987
2018-02-26 06:05:02,341 - DEBUG - Open Orders requested
2018-02-26 06:05:02,343 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, order=<ib.ext.Order.Order object at 0x000000000205CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1160>>
2018-02-26 06:05:02,344 - DEBUG - Order OrderID 225
2018-02-26 06:05:02,344 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:05:02,345 - DEBUG - Order status PreSubmitted
2018-02-26 06:05:02,345 - DEBUG - Order Identification 225
2018-02-26 06:05:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:05:02,346 - DEBUG - Profit ID from database is 228
2018-02-26 06:05:02,346 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:05:02,346 - DEBUG - Stop ID database is 0
2018-02-26 06:05:02,346 - DEBUG - Entry ID database is 228
2018-02-26 06:05:02,347 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, order=<ib.ext.Order.Order object at 0x000000000205CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1048>>
2018-02-26 06:05:02,348 - DEBUG - Order OrderID 227
2018-02-26 06:05:02,348 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:05:02,348 - DEBUG - Order status PreSubmitted
2018-02-26 06:05:02,349 - DEBUG - Order Identification 227
2018-02-26 06:05:02,349 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:05:02,349 - DEBUG - Profit ID from database is 228
2018-02-26 06:05:02,349 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:05:02,350 - DEBUG - Stop ID database is 0
2018-02-26 06:05:02,350 - DEBUG - Entry ID database is 228
2018-02-26 06:05:04,344 - DEBUG - Connecting to database
2018-02-26 06:05:04,351 - DEBUG - Connected to database
2018-02-26 06:05:04,353 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,353 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:05:04,354 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,355 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:05:04,356 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,356 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:05:04,358 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,358 - DEBUG - Stop quantity 1
2018-02-26 06:05:04,359 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,360 - DEBUG - Direction is Short
2018-02-26 06:05:04,361 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,361 - DEBUG - Count is 0
2018-02-26 06:05:04,363 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:05:04,363 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:05:04,365 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:05:04,365 - DEBUG - Max ID Order is (228,)
2018-02-26 06:05:04,365 - DEBUG - Today is 2018-02-26
2018-02-26 06:05:04,366 - DEBUG - Day of the week 0
2018-02-26 06:05:04,366 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:05:04,366 - DEBUG - In Position is  0
2018-02-26 06:05:04,366 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:05:04,367 - DEBUG - curStopLossFlag is  0
2018-02-26 06:05:04,367 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:05:04,367 - DEBUG - Checking if Entry has been filled
2018-02-26 06:05:04,367 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:05:04,369 - DEBUG - EntryPend is 1
2018-02-26 06:05:04,369 - DEBUG - Try to Cancel Stop
2018-02-26 06:05:04,369 - DEBUG - Stop API ID 0
2018-02-26 06:05:04,369 - DEBUG - Profit API ID 0
2018-02-26 06:05:04,370 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:05:04,370 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:05:04,370 - DEBUG - Pos is 0
2018-02-26 06:05:04,370 - DEBUG - CurCount is 0
2018-02-26 06:05:04,371 - DEBUG - In Pos 0
2018-02-26 06:05:04,371 - DEBUG - Stop ID is 0
2018-02-26 06:05:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:05:04,372 - DEBUG - EntryPend is 1
2018-02-26 06:05:04,373 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:05:04,373 - DEBUG - Entry Date is 10
2018-02-26 06:05:04,373 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:05:04,373 - DEBUG - Order Profit ID is 228
2018-02-26 06:05:04,374 - DEBUG - Order Entry ID is 228
2018-02-26 06:05:04,374 - DEBUG - API ID is  0
2018-02-26 06:05:04,374 - DEBUG - Current Position is 0
2018-02-26 06:05:04,374 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:05:04,374 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:05:04,375 - DEBUG - Time is 6
2018-02-26 06:05:04,375 - DEBUG - Time is <class 'int'>
2018-02-26 06:05:04,375 - DEBUG - Disconnected from IBController
2018-02-26 06:05:04,376 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:10:00,255 - DEBUG - ****************************************************
2018-02-26 06:10:00,256 - DEBUG - Current Time is 06:10AM
2018-02-26 06:10:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:10:00,256 - DEBUG - Connecting to database
2018-02-26 06:10:00,316 - DEBUG - Connected to database
2018-02-26 06:10:00,316 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:00,322 - DEBUG - Order Profit is 228
2018-02-26 06:10:00,322 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:00,334 - DEBUG - Stop ID is 0
2018-02-26 06:10:00,334 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:00,336 - DEBUG - Entry ID is 228
2018-02-26 06:10:00,336 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:10:00,340 - DEBUG - OCA ID is 1
2018-02-26 06:10:00,340 - DEBUG - Connecting to IBController
2018-02-26 06:10:01,346 - DEBUG - Connected to IBController
2018-02-26 06:10:01,346 - DEBUG - Position requested
2018-02-26 06:10:01,348 - DEBUG - Pos Mgmt -12987
2018-02-26 06:10:01,348 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:10:01,349 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:10:01,349 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:10:01,349 - DEBUG - Position is -12987
2018-02-26 06:10:02,348 - DEBUG - Open Orders requested
2018-02-26 06:10:02,350 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102160>>
2018-02-26 06:10:02,351 - DEBUG - Order OrderID 225
2018-02-26 06:10:02,351 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:10:02,352 - DEBUG - Order status PreSubmitted
2018-02-26 06:10:02,352 - DEBUG - Order Identification 225
2018-02-26 06:10:02,352 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:10:02,352 - DEBUG - Profit ID from database is 228
2018-02-26 06:10:02,352 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:10:02,353 - DEBUG - Stop ID database is 0
2018-02-26 06:10:02,353 - DEBUG - Entry ID database is 228
2018-02-26 06:10:02,354 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020F0>>
2018-02-26 06:10:02,354 - DEBUG - Order OrderID 227
2018-02-26 06:10:02,355 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:10:02,355 - DEBUG - Order status PreSubmitted
2018-02-26 06:10:02,355 - DEBUG - Order Identification 227
2018-02-26 06:10:02,355 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:10:02,356 - DEBUG - Profit ID from database is 228
2018-02-26 06:10:02,356 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:10:02,356 - DEBUG - Stop ID database is 0
2018-02-26 06:10:02,356 - DEBUG - Entry ID database is 228
2018-02-26 06:10:04,351 - DEBUG - Connecting to database
2018-02-26 06:10:04,358 - DEBUG - Connected to database
2018-02-26 06:10:04,359 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,360 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:10:04,361 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,362 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:10:04,363 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,363 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:10:04,364 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,365 - DEBUG - Stop quantity 1
2018-02-26 06:10:04,366 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,367 - DEBUG - Direction is Short
2018-02-26 06:10:04,368 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,368 - DEBUG - Count is 0
2018-02-26 06:10:04,370 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:10:04,370 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:10:04,371 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:10:04,372 - DEBUG - Max ID Order is (228,)
2018-02-26 06:10:04,372 - DEBUG - Today is 2018-02-26
2018-02-26 06:10:04,372 - DEBUG - Day of the week 0
2018-02-26 06:10:04,373 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:10:04,373 - DEBUG - In Position is  0
2018-02-26 06:10:04,373 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:10:04,373 - DEBUG - curStopLossFlag is  0
2018-02-26 06:10:04,374 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:10:04,374 - DEBUG - Checking if Entry has been filled
2018-02-26 06:10:04,374 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:10:04,375 - DEBUG - EntryPend is 1
2018-02-26 06:10:04,376 - DEBUG - Try to Cancel Stop
2018-02-26 06:10:04,376 - DEBUG - Stop API ID 0
2018-02-26 06:10:04,376 - DEBUG - Profit API ID 0
2018-02-26 06:10:04,376 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:10:04,377 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:10:04,377 - DEBUG - Pos is 0
2018-02-26 06:10:04,377 - DEBUG - CurCount is 0
2018-02-26 06:10:04,377 - DEBUG - In Pos 0
2018-02-26 06:10:04,377 - DEBUG - Stop ID is 0
2018-02-26 06:10:04,378 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:10:04,379 - DEBUG - EntryPend is 1
2018-02-26 06:10:04,379 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:10:04,379 - DEBUG - Entry Date is 10
2018-02-26 06:10:04,380 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:10:04,380 - DEBUG - Order Profit ID is 228
2018-02-26 06:10:04,380 - DEBUG - Order Entry ID is 228
2018-02-26 06:10:04,380 - DEBUG - API ID is  0
2018-02-26 06:10:04,381 - DEBUG - Current Position is 0
2018-02-26 06:10:04,381 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:10:04,381 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:10:04,381 - DEBUG - Time is 6
2018-02-26 06:10:04,382 - DEBUG - Time is <class 'int'>
2018-02-26 06:10:04,382 - DEBUG - Disconnected from IBController
2018-02-26 06:10:04,382 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:15:00,262 - DEBUG - ****************************************************
2018-02-26 06:15:00,262 - DEBUG - Current Time is 06:15AM
2018-02-26 06:15:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:15:00,263 - DEBUG - Connecting to database
2018-02-26 06:15:00,354 - DEBUG - Connected to database
2018-02-26 06:15:00,355 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:00,378 - DEBUG - Order Profit is 228
2018-02-26 06:15:00,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:00,399 - DEBUG - Stop ID is 0
2018-02-26 06:15:00,399 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:00,418 - DEBUG - Entry ID is 228
2018-02-26 06:15:00,418 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:15:00,420 - DEBUG - OCA ID is 1
2018-02-26 06:15:00,421 - DEBUG - Connecting to IBController
2018-02-26 06:15:01,433 - DEBUG - Connected to IBController
2018-02-26 06:15:01,433 - DEBUG - Position requested
2018-02-26 06:15:01,438 - DEBUG - Pos Mgmt -12987
2018-02-26 06:15:01,438 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:15:01,439 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:15:01,439 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:15:01,439 - DEBUG - Position is -12987
2018-02-26 06:15:02,434 - DEBUG - Open Orders requested
2018-02-26 06:15:02,436 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CA58>, order=<ib.ext.Order.Order object at 0x000000000207CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-02-26 06:15:02,437 - DEBUG - Order OrderID 225
2018-02-26 06:15:02,437 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:15:02,438 - DEBUG - Order status PreSubmitted
2018-02-26 06:15:02,438 - DEBUG - Order Identification 225
2018-02-26 06:15:02,438 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:15:02,439 - DEBUG - Profit ID from database is 228
2018-02-26 06:15:02,439 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:15:02,439 - DEBUG - Stop ID database is 0
2018-02-26 06:15:02,439 - DEBUG - Entry ID database is 228
2018-02-26 06:15:02,440 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207CA58>, order=<ib.ext.Order.Order object at 0x000000000207CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-26 06:15:02,441 - DEBUG - Order OrderID 227
2018-02-26 06:15:02,441 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:15:02,441 - DEBUG - Order status PreSubmitted
2018-02-26 06:15:02,442 - DEBUG - Order Identification 227
2018-02-26 06:15:02,442 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:15:02,442 - DEBUG - Profit ID from database is 228
2018-02-26 06:15:02,442 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:15:02,443 - DEBUG - Stop ID database is 0
2018-02-26 06:15:02,443 - DEBUG - Entry ID database is 228
2018-02-26 06:15:04,437 - DEBUG - Connecting to database
2018-02-26 06:15:04,444 - DEBUG - Connected to database
2018-02-26 06:15:04,446 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,446 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:15:04,448 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,448 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:15:04,449 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,450 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:15:04,451 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,451 - DEBUG - Stop quantity 1
2018-02-26 06:15:04,453 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,453 - DEBUG - Direction is Short
2018-02-26 06:15:04,454 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,455 - DEBUG - Count is 0
2018-02-26 06:15:04,456 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:15:04,457 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:15:04,458 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:15:04,458 - DEBUG - Max ID Order is (228,)
2018-02-26 06:15:04,459 - DEBUG - Today is 2018-02-26
2018-02-26 06:15:04,459 - DEBUG - Day of the week 0
2018-02-26 06:15:04,459 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:15:04,460 - DEBUG - In Position is  0
2018-02-26 06:15:04,460 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:15:04,460 - DEBUG - curStopLossFlag is  0
2018-02-26 06:15:04,460 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:15:04,461 - DEBUG - Checking if Entry has been filled
2018-02-26 06:15:04,461 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:15:04,462 - DEBUG - EntryPend is 1
2018-02-26 06:15:04,463 - DEBUG - Try to Cancel Stop
2018-02-26 06:15:04,463 - DEBUG - Stop API ID 0
2018-02-26 06:15:04,463 - DEBUG - Profit API ID 0
2018-02-26 06:15:04,463 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:15:04,463 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:15:04,464 - DEBUG - Pos is 0
2018-02-26 06:15:04,464 - DEBUG - CurCount is 0
2018-02-26 06:15:04,464 - DEBUG - In Pos 0
2018-02-26 06:15:04,464 - DEBUG - Stop ID is 0
2018-02-26 06:15:04,465 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:15:04,466 - DEBUG - EntryPend is 1
2018-02-26 06:15:04,466 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:15:04,467 - DEBUG - Entry Date is 10
2018-02-26 06:15:04,467 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:15:04,467 - DEBUG - Order Profit ID is 228
2018-02-26 06:15:04,467 - DEBUG - Order Entry ID is 228
2018-02-26 06:15:04,467 - DEBUG - API ID is  0
2018-02-26 06:15:04,468 - DEBUG - Current Position is 0
2018-02-26 06:15:04,468 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:15:04,468 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:15:04,468 - DEBUG - Time is 6
2018-02-26 06:15:04,468 - DEBUG - Time is <class 'int'>
2018-02-26 06:15:04,469 - DEBUG - Disconnected from IBController
2018-02-26 06:15:04,469 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:20:00,272 - DEBUG - ****************************************************
2018-02-26 06:20:00,272 - DEBUG - Current Time is 06:20AM
2018-02-26 06:20:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:20:00,273 - DEBUG - Connecting to database
2018-02-26 06:20:00,312 - DEBUG - Connected to database
2018-02-26 06:20:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:00,320 - DEBUG - Order Profit is 228
2018-02-26 06:20:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:00,321 - DEBUG - Stop ID is 0
2018-02-26 06:20:00,322 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:00,326 - DEBUG - Entry ID is 228
2018-02-26 06:20:00,326 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:20:00,331 - DEBUG - OCA ID is 1
2018-02-26 06:20:00,331 - DEBUG - Connecting to IBController
2018-02-26 06:20:01,339 - DEBUG - Connected to IBController
2018-02-26 06:20:01,339 - DEBUG - Position requested
2018-02-26 06:20:01,341 - DEBUG - Pos Mgmt -12987
2018-02-26 06:20:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:20:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:20:01,342 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:20:01,342 - DEBUG - Position is -12987
2018-02-26 06:20:02,340 - DEBUG - Open Orders requested
2018-02-26 06:20:02,342 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, order=<ib.ext.Order.Order object at 0x000000000206CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 06:20:02,343 - DEBUG - Order OrderID 225
2018-02-26 06:20:02,343 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:20:02,344 - DEBUG - Order status PreSubmitted
2018-02-26 06:20:02,344 - DEBUG - Order Identification 225
2018-02-26 06:20:02,344 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:20:02,345 - DEBUG - Profit ID from database is 228
2018-02-26 06:20:02,345 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:20:02,345 - DEBUG - Stop ID database is 0
2018-02-26 06:20:02,345 - DEBUG - Entry ID database is 228
2018-02-26 06:20:02,346 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, order=<ib.ext.Order.Order object at 0x000000000206CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 06:20:02,347 - DEBUG - Order OrderID 227
2018-02-26 06:20:02,347 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:20:02,348 - DEBUG - Order status PreSubmitted
2018-02-26 06:20:02,348 - DEBUG - Order Identification 227
2018-02-26 06:20:02,348 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:20:02,348 - DEBUG - Profit ID from database is 228
2018-02-26 06:20:02,348 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:20:02,349 - DEBUG - Stop ID database is 0
2018-02-26 06:20:02,349 - DEBUG - Entry ID database is 228
2018-02-26 06:20:04,343 - DEBUG - Connecting to database
2018-02-26 06:20:04,350 - DEBUG - Connected to database
2018-02-26 06:20:04,352 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,352 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:20:04,353 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,354 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:20:04,355 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,355 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:20:04,357 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,357 - DEBUG - Stop quantity 1
2018-02-26 06:20:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,359 - DEBUG - Direction is Short
2018-02-26 06:20:04,360 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,361 - DEBUG - Count is 0
2018-02-26 06:20:04,362 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:20:04,362 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:20:04,364 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:20:04,364 - DEBUG - Max ID Order is (228,)
2018-02-26 06:20:04,364 - DEBUG - Today is 2018-02-26
2018-02-26 06:20:04,365 - DEBUG - Day of the week 0
2018-02-26 06:20:04,365 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:20:04,365 - DEBUG - In Position is  0
2018-02-26 06:20:04,366 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:20:04,366 - DEBUG - curStopLossFlag is  0
2018-02-26 06:20:04,366 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:20:04,366 - DEBUG - Checking if Entry has been filled
2018-02-26 06:20:04,366 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:20:04,368 - DEBUG - EntryPend is 1
2018-02-26 06:20:04,368 - DEBUG - Try to Cancel Stop
2018-02-26 06:20:04,369 - DEBUG - Stop API ID 0
2018-02-26 06:20:04,369 - DEBUG - Profit API ID 0
2018-02-26 06:20:04,369 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:20:04,369 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:20:04,370 - DEBUG - Pos is 0
2018-02-26 06:20:04,370 - DEBUG - CurCount is 0
2018-02-26 06:20:04,370 - DEBUG - In Pos 0
2018-02-26 06:20:04,370 - DEBUG - Stop ID is 0
2018-02-26 06:20:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:20:04,372 - DEBUG - EntryPend is 1
2018-02-26 06:20:04,372 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:20:04,372 - DEBUG - Entry Date is 10
2018-02-26 06:20:04,373 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:20:04,373 - DEBUG - Order Profit ID is 228
2018-02-26 06:20:04,373 - DEBUG - Order Entry ID is 228
2018-02-26 06:20:04,373 - DEBUG - API ID is  0
2018-02-26 06:20:04,374 - DEBUG - Current Position is 0
2018-02-26 06:20:04,374 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:20:04,374 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:20:04,374 - DEBUG - Time is 6
2018-02-26 06:20:04,374 - DEBUG - Time is <class 'int'>
2018-02-26 06:20:04,375 - DEBUG - Disconnected from IBController
2018-02-26 06:20:04,375 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:25:00,269 - DEBUG - ****************************************************
2018-02-26 06:25:00,269 - DEBUG - Current Time is 06:25AM
2018-02-26 06:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:25:00,270 - DEBUG - Connecting to database
2018-02-26 06:25:00,368 - DEBUG - Connected to database
2018-02-26 06:25:00,369 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:00,376 - DEBUG - Order Profit is 228
2018-02-26 06:25:00,377 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:00,412 - DEBUG - Stop ID is 0
2018-02-26 06:25:00,412 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:00,418 - DEBUG - Entry ID is 228
2018-02-26 06:25:00,418 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:25:00,422 - DEBUG - OCA ID is 1
2018-02-26 06:25:00,423 - DEBUG - Connecting to IBController
2018-02-26 06:25:01,429 - DEBUG - Connected to IBController
2018-02-26 06:25:01,429 - DEBUG - Position requested
2018-02-26 06:25:01,431 - DEBUG - Pos Mgmt -12987
2018-02-26 06:25:01,431 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:25:01,431 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:25:01,432 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:25:01,432 - DEBUG - Position is -12987
2018-02-26 06:25:02,431 - DEBUG - Open Orders requested
2018-02-26 06:25:02,433 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, order=<ib.ext.Order.Order object at 0x000000000203CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2160>>
2018-02-26 06:25:02,434 - DEBUG - Order OrderID 225
2018-02-26 06:25:02,434 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:25:02,435 - DEBUG - Order status PreSubmitted
2018-02-26 06:25:02,435 - DEBUG - Order Identification 225
2018-02-26 06:25:02,435 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:25:02,435 - DEBUG - Profit ID from database is 228
2018-02-26 06:25:02,436 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:25:02,436 - DEBUG - Stop ID database is 0
2018-02-26 06:25:02,436 - DEBUG - Entry ID database is 228
2018-02-26 06:25:02,437 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203CBE0>, order=<ib.ext.Order.Order object at 0x000000000203CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20F0>>
2018-02-26 06:25:02,437 - DEBUG - Order OrderID 227
2018-02-26 06:25:02,438 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:25:02,438 - DEBUG - Order status PreSubmitted
2018-02-26 06:25:02,438 - DEBUG - Order Identification 227
2018-02-26 06:25:02,439 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:25:02,439 - DEBUG - Profit ID from database is 228
2018-02-26 06:25:02,439 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:25:02,439 - DEBUG - Stop ID database is 0
2018-02-26 06:25:02,439 - DEBUG - Entry ID database is 228
2018-02-26 06:25:04,434 - DEBUG - Connecting to database
2018-02-26 06:25:04,443 - DEBUG - Connected to database
2018-02-26 06:25:04,445 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,445 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:25:04,447 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,447 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:25:04,449 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,449 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:25:04,450 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,451 - DEBUG - Stop quantity 1
2018-02-26 06:25:04,452 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,452 - DEBUG - Direction is Short
2018-02-26 06:25:04,453 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,454 - DEBUG - Count is 0
2018-02-26 06:25:04,455 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:25:04,455 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:25:04,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:25:04,457 - DEBUG - Max ID Order is (228,)
2018-02-26 06:25:04,458 - DEBUG - Today is 2018-02-26
2018-02-26 06:25:04,458 - DEBUG - Day of the week 0
2018-02-26 06:25:04,458 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:25:04,458 - DEBUG - In Position is  0
2018-02-26 06:25:04,459 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:25:04,459 - DEBUG - curStopLossFlag is  0
2018-02-26 06:25:04,459 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:25:04,459 - DEBUG - Checking if Entry has been filled
2018-02-26 06:25:04,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:25:04,461 - DEBUG - EntryPend is 1
2018-02-26 06:25:04,462 - DEBUG - Try to Cancel Stop
2018-02-26 06:25:04,462 - DEBUG - Stop API ID 0
2018-02-26 06:25:04,462 - DEBUG - Profit API ID 0
2018-02-26 06:25:04,462 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:25:04,462 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:25:04,463 - DEBUG - Pos is 0
2018-02-26 06:25:04,463 - DEBUG - CurCount is 0
2018-02-26 06:25:04,463 - DEBUG - In Pos 0
2018-02-26 06:25:04,463 - DEBUG - Stop ID is 0
2018-02-26 06:25:04,464 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:25:04,465 - DEBUG - EntryPend is 1
2018-02-26 06:25:04,465 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:25:04,465 - DEBUG - Entry Date is 10
2018-02-26 06:25:04,466 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:25:04,466 - DEBUG - Order Profit ID is 228
2018-02-26 06:25:04,466 - DEBUG - Order Entry ID is 228
2018-02-26 06:25:04,466 - DEBUG - API ID is  0
2018-02-26 06:25:04,466 - DEBUG - Current Position is 0
2018-02-26 06:25:04,467 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:25:04,467 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:25:04,467 - DEBUG - Time is 6
2018-02-26 06:25:04,467 - DEBUG - Time is <class 'int'>
2018-02-26 06:25:04,468 - DEBUG - Disconnected from IBController
2018-02-26 06:25:04,468 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:30:00,276 - DEBUG - ****************************************************
2018-02-26 06:30:00,277 - DEBUG - Current Time is 06:30AM
2018-02-26 06:30:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:30:00,277 - DEBUG - Connecting to database
2018-02-26 06:30:00,516 - DEBUG - Connected to database
2018-02-26 06:30:00,516 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:00,523 - DEBUG - Order Profit is 228
2018-02-26 06:30:00,523 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:00,556 - DEBUG - Stop ID is 0
2018-02-26 06:30:00,556 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:00,576 - DEBUG - Entry ID is 228
2018-02-26 06:30:00,577 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:30:00,588 - DEBUG - OCA ID is 1
2018-02-26 06:30:00,588 - DEBUG - Connecting to IBController
2018-02-26 06:30:01,599 - DEBUG - Connected to IBController
2018-02-26 06:30:01,599 - DEBUG - Position requested
2018-02-26 06:30:01,601 - DEBUG - Pos Mgmt -12987
2018-02-26 06:30:01,601 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:30:01,602 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:30:01,602 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:30:01,602 - DEBUG - Position is -12987
2018-02-26 06:30:02,600 - DEBUG - Open Orders requested
2018-02-26 06:30:02,602 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142160>>
2018-02-26 06:30:02,603 - DEBUG - Order OrderID 225
2018-02-26 06:30:02,603 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:30:02,604 - DEBUG - Order status PreSubmitted
2018-02-26 06:30:02,604 - DEBUG - Order Identification 225
2018-02-26 06:30:02,604 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:30:02,605 - DEBUG - Profit ID from database is 228
2018-02-26 06:30:02,605 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:30:02,605 - DEBUG - Stop ID database is 0
2018-02-26 06:30:02,605 - DEBUG - Entry ID database is 228
2018-02-26 06:30:02,606 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-26 06:30:02,607 - DEBUG - Order OrderID 227
2018-02-26 06:30:02,607 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:30:02,608 - DEBUG - Order status PreSubmitted
2018-02-26 06:30:02,608 - DEBUG - Order Identification 227
2018-02-26 06:30:02,608 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:30:02,608 - DEBUG - Profit ID from database is 228
2018-02-26 06:30:02,608 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:30:02,609 - DEBUG - Stop ID database is 0
2018-02-26 06:30:02,609 - DEBUG - Entry ID database is 228
2018-02-26 06:30:04,603 - DEBUG - Connecting to database
2018-02-26 06:30:04,611 - DEBUG - Connected to database
2018-02-26 06:30:04,612 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,613 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:30:04,614 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,615 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:30:04,616 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,616 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:30:04,618 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,618 - DEBUG - Stop quantity 1
2018-02-26 06:30:04,619 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,620 - DEBUG - Direction is Short
2018-02-26 06:30:04,621 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,622 - DEBUG - Count is 0
2018-02-26 06:30:04,623 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:30:04,623 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:30:04,625 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:30:04,625 - DEBUG - Max ID Order is (228,)
2018-02-26 06:30:04,625 - DEBUG - Today is 2018-02-26
2018-02-26 06:30:04,626 - DEBUG - Day of the week 0
2018-02-26 06:30:04,626 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:30:04,626 - DEBUG - In Position is  0
2018-02-26 06:30:04,626 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:30:04,627 - DEBUG - curStopLossFlag is  0
2018-02-26 06:30:04,627 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:30:04,627 - DEBUG - Checking if Entry has been filled
2018-02-26 06:30:04,627 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:30:04,629 - DEBUG - EntryPend is 1
2018-02-26 06:30:04,629 - DEBUG - Try to Cancel Stop
2018-02-26 06:30:04,629 - DEBUG - Stop API ID 0
2018-02-26 06:30:04,630 - DEBUG - Profit API ID 0
2018-02-26 06:30:04,630 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:30:04,630 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:30:04,630 - DEBUG - Pos is 0
2018-02-26 06:30:04,630 - DEBUG - CurCount is 0
2018-02-26 06:30:04,631 - DEBUG - In Pos 0
2018-02-26 06:30:04,631 - DEBUG - Stop ID is 0
2018-02-26 06:30:04,631 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:30:04,633 - DEBUG - EntryPend is 1
2018-02-26 06:30:04,633 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:30:04,633 - DEBUG - Entry Date is 10
2018-02-26 06:30:04,633 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:30:04,633 - DEBUG - Order Profit ID is 228
2018-02-26 06:30:04,634 - DEBUG - Order Entry ID is 228
2018-02-26 06:30:04,634 - DEBUG - API ID is  0
2018-02-26 06:30:04,634 - DEBUG - Current Position is 0
2018-02-26 06:30:04,634 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:30:04,635 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:30:04,635 - DEBUG - Time is 6
2018-02-26 06:30:04,635 - DEBUG - Time is <class 'int'>
2018-02-26 06:30:04,635 - DEBUG - Disconnected from IBController
2018-02-26 06:30:04,636 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:35:00,262 - DEBUG - ****************************************************
2018-02-26 06:35:00,263 - DEBUG - Current Time is 06:35AM
2018-02-26 06:35:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:35:00,263 - DEBUG - Connecting to database
2018-02-26 06:35:00,296 - DEBUG - Connected to database
2018-02-26 06:35:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:00,306 - DEBUG - Order Profit is 228
2018-02-26 06:35:00,307 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:00,311 - DEBUG - Stop ID is 0
2018-02-26 06:35:00,311 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:00,314 - DEBUG - Entry ID is 228
2018-02-26 06:35:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:35:00,321 - DEBUG - OCA ID is 1
2018-02-26 06:35:00,321 - DEBUG - Connecting to IBController
2018-02-26 06:35:01,328 - DEBUG - Connected to IBController
2018-02-26 06:35:01,328 - DEBUG - Position requested
2018-02-26 06:35:01,330 - DEBUG - Pos Mgmt -12987
2018-02-26 06:35:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:35:01,331 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:35:01,331 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:35:01,331 - DEBUG - Position is -12987
2018-02-26 06:35:02,330 - DEBUG - Open Orders requested
2018-02-26 06:35:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 06:35:02,333 - DEBUG - Order OrderID 225
2018-02-26 06:35:02,333 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:35:02,334 - DEBUG - Order status PreSubmitted
2018-02-26 06:35:02,334 - DEBUG - Order Identification 225
2018-02-26 06:35:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:35:02,335 - DEBUG - Profit ID from database is 228
2018-02-26 06:35:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:35:02,335 - DEBUG - Stop ID database is 0
2018-02-26 06:35:02,335 - DEBUG - Entry ID database is 228
2018-02-26 06:35:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 06:35:02,337 - DEBUG - Order OrderID 227
2018-02-26 06:35:02,337 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:35:02,337 - DEBUG - Order status PreSubmitted
2018-02-26 06:35:02,338 - DEBUG - Order Identification 227
2018-02-26 06:35:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:35:02,338 - DEBUG - Profit ID from database is 228
2018-02-26 06:35:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:35:02,338 - DEBUG - Stop ID database is 0
2018-02-26 06:35:02,339 - DEBUG - Entry ID database is 228
2018-02-26 06:35:04,333 - DEBUG - Connecting to database
2018-02-26 06:35:04,340 - DEBUG - Connected to database
2018-02-26 06:35:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,342 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:35:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,344 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:35:04,351 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,352 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:35:04,356 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,356 - DEBUG - Stop quantity 1
2018-02-26 06:35:04,357 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,358 - DEBUG - Direction is Short
2018-02-26 06:35:04,359 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,359 - DEBUG - Count is 0
2018-02-26 06:35:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:35:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:35:04,363 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:35:04,363 - DEBUG - Max ID Order is (228,)
2018-02-26 06:35:04,363 - DEBUG - Today is 2018-02-26
2018-02-26 06:35:04,364 - DEBUG - Day of the week 0
2018-02-26 06:35:04,364 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:35:04,364 - DEBUG - In Position is  0
2018-02-26 06:35:04,364 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:35:04,365 - DEBUG - curStopLossFlag is  0
2018-02-26 06:35:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:35:04,365 - DEBUG - Checking if Entry has been filled
2018-02-26 06:35:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:35:04,367 - DEBUG - EntryPend is 1
2018-02-26 06:35:04,367 - DEBUG - Try to Cancel Stop
2018-02-26 06:35:04,367 - DEBUG - Stop API ID 0
2018-02-26 06:35:04,368 - DEBUG - Profit API ID 0
2018-02-26 06:35:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:35:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:35:04,368 - DEBUG - Pos is 0
2018-02-26 06:35:04,369 - DEBUG - CurCount is 0
2018-02-26 06:35:04,369 - DEBUG - In Pos 0
2018-02-26 06:35:04,369 - DEBUG - Stop ID is 0
2018-02-26 06:35:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:35:04,371 - DEBUG - EntryPend is 1
2018-02-26 06:35:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:35:04,371 - DEBUG - Entry Date is 10
2018-02-26 06:35:04,371 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:35:04,371 - DEBUG - Order Profit ID is 228
2018-02-26 06:35:04,372 - DEBUG - Order Entry ID is 228
2018-02-26 06:35:04,372 - DEBUG - API ID is  0
2018-02-26 06:35:04,372 - DEBUG - Current Position is 0
2018-02-26 06:35:04,372 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:35:04,373 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:35:04,373 - DEBUG - Time is 6
2018-02-26 06:35:04,373 - DEBUG - Time is <class 'int'>
2018-02-26 06:35:04,373 - DEBUG - Disconnected from IBController
2018-02-26 06:35:04,374 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:40:00,270 - DEBUG - ****************************************************
2018-02-26 06:40:00,271 - DEBUG - Current Time is 06:40AM
2018-02-26 06:40:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:40:00,271 - DEBUG - Connecting to database
2018-02-26 06:40:00,323 - DEBUG - Connected to database
2018-02-26 06:40:00,323 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:00,325 - DEBUG - Order Profit is 228
2018-02-26 06:40:00,325 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:00,332 - DEBUG - Stop ID is 0
2018-02-26 06:40:00,332 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:00,338 - DEBUG - Entry ID is 228
2018-02-26 06:40:00,338 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:40:00,344 - DEBUG - OCA ID is 1
2018-02-26 06:40:00,344 - DEBUG - Connecting to IBController
2018-02-26 06:40:01,354 - DEBUG - Connected to IBController
2018-02-26 06:40:01,354 - DEBUG - Position requested
2018-02-26 06:40:01,356 - DEBUG - Pos Mgmt -12987
2018-02-26 06:40:01,356 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:40:01,357 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:40:01,357 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:40:01,357 - DEBUG - Position is -12987
2018-02-26 06:40:02,355 - DEBUG - Open Orders requested
2018-02-26 06:40:02,357 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA58>, order=<ib.ext.Order.Order object at 0x00000000020ECDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181160>>
2018-02-26 06:40:02,358 - DEBUG - Order OrderID 225
2018-02-26 06:40:02,358 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:40:02,359 - DEBUG - Order status PreSubmitted
2018-02-26 06:40:02,359 - DEBUG - Order Identification 225
2018-02-26 06:40:02,359 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:40:02,360 - DEBUG - Profit ID from database is 228
2018-02-26 06:40:02,360 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:40:02,360 - DEBUG - Stop ID database is 0
2018-02-26 06:40:02,360 - DEBUG - Entry ID database is 228
2018-02-26 06:40:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ECA58>, order=<ib.ext.Order.Order object at 0x00000000020ECDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181128>>
2018-02-26 06:40:02,362 - DEBUG - Order OrderID 227
2018-02-26 06:40:02,362 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:40:02,363 - DEBUG - Order status PreSubmitted
2018-02-26 06:40:02,363 - DEBUG - Order Identification 227
2018-02-26 06:40:02,363 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:40:02,363 - DEBUG - Profit ID from database is 228
2018-02-26 06:40:02,363 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:40:02,364 - DEBUG - Stop ID database is 0
2018-02-26 06:40:02,364 - DEBUG - Entry ID database is 228
2018-02-26 06:40:04,358 - DEBUG - Connecting to database
2018-02-26 06:40:04,365 - DEBUG - Connected to database
2018-02-26 06:40:04,367 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,367 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:40:04,369 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,369 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:40:04,370 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,371 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:40:04,372 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,372 - DEBUG - Stop quantity 1
2018-02-26 06:40:04,374 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,374 - DEBUG - Direction is Short
2018-02-26 06:40:04,375 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,376 - DEBUG - Count is 0
2018-02-26 06:40:04,377 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:40:04,377 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:40:04,379 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:40:04,379 - DEBUG - Max ID Order is (228,)
2018-02-26 06:40:04,379 - DEBUG - Today is 2018-02-26
2018-02-26 06:40:04,380 - DEBUG - Day of the week 0
2018-02-26 06:40:04,380 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:40:04,380 - DEBUG - In Position is  0
2018-02-26 06:40:04,380 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:40:04,381 - DEBUG - curStopLossFlag is  0
2018-02-26 06:40:04,381 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:40:04,381 - DEBUG - Checking if Entry has been filled
2018-02-26 06:40:04,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:40:04,383 - DEBUG - EntryPend is 1
2018-02-26 06:40:04,383 - DEBUG - Try to Cancel Stop
2018-02-26 06:40:04,383 - DEBUG - Stop API ID 0
2018-02-26 06:40:04,383 - DEBUG - Profit API ID 0
2018-02-26 06:40:04,384 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:40:04,384 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:40:04,384 - DEBUG - Pos is 0
2018-02-26 06:40:04,384 - DEBUG - CurCount is 0
2018-02-26 06:40:04,385 - DEBUG - In Pos 0
2018-02-26 06:40:04,385 - DEBUG - Stop ID is 0
2018-02-26 06:40:04,385 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:40:04,386 - DEBUG - EntryPend is 1
2018-02-26 06:40:04,387 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:40:04,387 - DEBUG - Entry Date is 10
2018-02-26 06:40:04,387 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:40:04,387 - DEBUG - Order Profit ID is 228
2018-02-26 06:40:04,387 - DEBUG - Order Entry ID is 228
2018-02-26 06:40:04,388 - DEBUG - API ID is  0
2018-02-26 06:40:04,388 - DEBUG - Current Position is 0
2018-02-26 06:40:04,388 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:40:04,388 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:40:04,389 - DEBUG - Time is 6
2018-02-26 06:40:04,389 - DEBUG - Time is <class 'int'>
2018-02-26 06:40:04,389 - DEBUG - Disconnected from IBController
2018-02-26 06:40:04,390 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:45:00,282 - DEBUG - ****************************************************
2018-02-26 06:45:00,282 - DEBUG - Current Time is 06:45AM
2018-02-26 06:45:00,283 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:45:00,283 - DEBUG - Connecting to database
2018-02-26 06:45:00,352 - DEBUG - Connected to database
2018-02-26 06:45:00,352 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:00,354 - DEBUG - Order Profit is 228
2018-02-26 06:45:00,355 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:00,375 - DEBUG - Stop ID is 0
2018-02-26 06:45:00,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:00,379 - DEBUG - Entry ID is 228
2018-02-26 06:45:00,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:45:00,396 - DEBUG - OCA ID is 1
2018-02-26 06:45:00,397 - DEBUG - Connecting to IBController
2018-02-26 06:45:01,409 - DEBUG - Connected to IBController
2018-02-26 06:45:01,409 - DEBUG - Position requested
2018-02-26 06:45:01,411 - DEBUG - Pos Mgmt -12987
2018-02-26 06:45:01,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:45:01,412 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:45:01,412 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:45:01,412 - DEBUG - Position is -12987
2018-02-26 06:45:02,411 - DEBUG - Open Orders requested
2018-02-26 06:45:02,413 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DCF8>, order=<ib.ext.Order.Order object at 0x000000000202DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1160>>
2018-02-26 06:45:02,414 - DEBUG - Order OrderID 225
2018-02-26 06:45:02,414 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:45:02,415 - DEBUG - Order status PreSubmitted
2018-02-26 06:45:02,415 - DEBUG - Order Identification 225
2018-02-26 06:45:02,415 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:45:02,415 - DEBUG - Profit ID from database is 228
2018-02-26 06:45:02,416 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:45:02,416 - DEBUG - Stop ID database is 0
2018-02-26 06:45:02,416 - DEBUG - Entry ID database is 228
2018-02-26 06:45:02,417 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202DCF8>, order=<ib.ext.Order.Order object at 0x000000000202DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-26 06:45:02,418 - DEBUG - Order OrderID 227
2018-02-26 06:45:02,418 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:45:02,418 - DEBUG - Order status PreSubmitted
2018-02-26 06:45:02,419 - DEBUG - Order Identification 227
2018-02-26 06:45:02,419 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:45:02,419 - DEBUG - Profit ID from database is 228
2018-02-26 06:45:02,419 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:45:02,419 - DEBUG - Stop ID database is 0
2018-02-26 06:45:02,420 - DEBUG - Entry ID database is 228
2018-02-26 06:45:04,414 - DEBUG - Connecting to database
2018-02-26 06:45:04,421 - DEBUG - Connected to database
2018-02-26 06:45:04,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,423 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:45:04,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,425 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:45:04,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,427 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:45:04,428 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,429 - DEBUG - Stop quantity 1
2018-02-26 06:45:04,430 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,430 - DEBUG - Direction is Short
2018-02-26 06:45:04,432 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,432 - DEBUG - Count is 0
2018-02-26 06:45:04,433 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:45:04,434 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:45:04,435 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:45:04,435 - DEBUG - Max ID Order is (228,)
2018-02-26 06:45:04,436 - DEBUG - Today is 2018-02-26
2018-02-26 06:45:04,436 - DEBUG - Day of the week 0
2018-02-26 06:45:04,436 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:45:04,437 - DEBUG - In Position is  0
2018-02-26 06:45:04,437 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:45:04,437 - DEBUG - curStopLossFlag is  0
2018-02-26 06:45:04,437 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:45:04,437 - DEBUG - Checking if Entry has been filled
2018-02-26 06:45:04,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:45:04,439 - DEBUG - EntryPend is 1
2018-02-26 06:45:04,439 - DEBUG - Try to Cancel Stop
2018-02-26 06:45:04,440 - DEBUG - Stop API ID 0
2018-02-26 06:45:04,440 - DEBUG - Profit API ID 0
2018-02-26 06:45:04,440 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:45:04,440 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:45:04,440 - DEBUG - Pos is 0
2018-02-26 06:45:04,441 - DEBUG - CurCount is 0
2018-02-26 06:45:04,441 - DEBUG - In Pos 0
2018-02-26 06:45:04,441 - DEBUG - Stop ID is 0
2018-02-26 06:45:04,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:45:04,443 - DEBUG - EntryPend is 1
2018-02-26 06:45:04,443 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:45:04,444 - DEBUG - Entry Date is 10
2018-02-26 06:45:04,444 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:45:04,444 - DEBUG - Order Profit ID is 228
2018-02-26 06:45:04,444 - DEBUG - Order Entry ID is 228
2018-02-26 06:45:04,444 - DEBUG - API ID is  0
2018-02-26 06:45:04,445 - DEBUG - Current Position is 0
2018-02-26 06:45:04,445 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:45:04,445 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:45:04,445 - DEBUG - Time is 6
2018-02-26 06:45:04,446 - DEBUG - Time is <class 'int'>
2018-02-26 06:45:04,446 - DEBUG - Disconnected from IBController
2018-02-26 06:45:04,446 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:50:00,270 - DEBUG - ****************************************************
2018-02-26 06:50:00,271 - DEBUG - Current Time is 06:50AM
2018-02-26 06:50:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:50:00,271 - DEBUG - Connecting to database
2018-02-26 06:50:00,327 - DEBUG - Connected to database
2018-02-26 06:50:00,327 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:00,331 - DEBUG - Order Profit is 228
2018-02-26 06:50:00,331 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:00,360 - DEBUG - Stop ID is 0
2018-02-26 06:50:00,361 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:00,386 - DEBUG - Entry ID is 228
2018-02-26 06:50:00,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:50:00,388 - DEBUG - OCA ID is 1
2018-02-26 06:50:00,389 - DEBUG - Connecting to IBController
2018-02-26 06:50:01,395 - DEBUG - Connected to IBController
2018-02-26 06:50:01,395 - DEBUG - Position requested
2018-02-26 06:50:01,397 - DEBUG - Pos Mgmt -12987
2018-02-26 06:50:01,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:50:01,398 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:50:01,399 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:50:01,399 - DEBUG - Position is -12987
2018-02-26 06:50:02,396 - DEBUG - Open Orders requested
2018-02-26 06:50:02,399 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120F0>>
2018-02-26 06:50:02,399 - DEBUG - Order OrderID 225
2018-02-26 06:50:02,400 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:50:02,400 - DEBUG - Order status PreSubmitted
2018-02-26 06:50:02,400 - DEBUG - Order Identification 225
2018-02-26 06:50:02,401 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:50:02,401 - DEBUG - Profit ID from database is 228
2018-02-26 06:50:02,401 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:50:02,401 - DEBUG - Stop ID database is 0
2018-02-26 06:50:02,402 - DEBUG - Entry ID database is 228
2018-02-26 06:50:02,403 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-02-26 06:50:02,403 - DEBUG - Order OrderID 227
2018-02-26 06:50:02,404 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:50:02,404 - DEBUG - Order status PreSubmitted
2018-02-26 06:50:02,404 - DEBUG - Order Identification 227
2018-02-26 06:50:02,404 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:50:02,405 - DEBUG - Profit ID from database is 228
2018-02-26 06:50:02,405 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:50:02,405 - DEBUG - Stop ID database is 0
2018-02-26 06:50:02,405 - DEBUG - Entry ID database is 228
2018-02-26 06:50:04,397 - DEBUG - Connecting to database
2018-02-26 06:50:04,404 - DEBUG - Connected to database
2018-02-26 06:50:04,406 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,406 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:50:04,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,408 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:50:04,409 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,409 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:50:04,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,411 - DEBUG - Stop quantity 1
2018-02-26 06:50:04,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,413 - DEBUG - Direction is Short
2018-02-26 06:50:04,414 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,414 - DEBUG - Count is 0
2018-02-26 06:50:04,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:50:04,416 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:50:04,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:50:04,418 - DEBUG - Max ID Order is (228,)
2018-02-26 06:50:04,418 - DEBUG - Today is 2018-02-26
2018-02-26 06:50:04,419 - DEBUG - Day of the week 0
2018-02-26 06:50:04,419 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:50:04,419 - DEBUG - In Position is  0
2018-02-26 06:50:04,419 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:50:04,420 - DEBUG - curStopLossFlag is  0
2018-02-26 06:50:04,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:50:04,420 - DEBUG - Checking if Entry has been filled
2018-02-26 06:50:04,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:50:04,422 - DEBUG - EntryPend is 1
2018-02-26 06:50:04,422 - DEBUG - Try to Cancel Stop
2018-02-26 06:50:04,422 - DEBUG - Stop API ID 0
2018-02-26 06:50:04,422 - DEBUG - Profit API ID 0
2018-02-26 06:50:04,423 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:50:04,423 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:50:04,423 - DEBUG - Pos is 0
2018-02-26 06:50:04,423 - DEBUG - CurCount is 0
2018-02-26 06:50:04,424 - DEBUG - In Pos 0
2018-02-26 06:50:04,424 - DEBUG - Stop ID is 0
2018-02-26 06:50:04,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:50:04,425 - DEBUG - EntryPend is 1
2018-02-26 06:50:04,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:50:04,426 - DEBUG - Entry Date is 10
2018-02-26 06:50:04,426 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:50:04,426 - DEBUG - Order Profit ID is 228
2018-02-26 06:50:04,427 - DEBUG - Order Entry ID is 228
2018-02-26 06:50:04,427 - DEBUG - API ID is  0
2018-02-26 06:50:04,427 - DEBUG - Current Position is 0
2018-02-26 06:50:04,427 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:50:04,427 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:50:04,428 - DEBUG - Time is 6
2018-02-26 06:50:04,428 - DEBUG - Time is <class 'int'>
2018-02-26 06:50:04,428 - DEBUG - Disconnected from IBController
2018-02-26 06:50:04,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 06:55:00,277 - DEBUG - ****************************************************
2018-02-26 06:55:00,278 - DEBUG - Current Time is 06:55AM
2018-02-26 06:55:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-26 06:55:00,278 - DEBUG - Connecting to database
2018-02-26 06:55:00,333 - DEBUG - Connected to database
2018-02-26 06:55:00,333 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:00,335 - DEBUG - Order Profit is 228
2018-02-26 06:55:00,335 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:00,337 - DEBUG - Stop ID is 0
2018-02-26 06:55:00,337 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:00,339 - DEBUG - Entry ID is 228
2018-02-26 06:55:00,340 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 06:55:00,342 - DEBUG - OCA ID is 1
2018-02-26 06:55:00,342 - DEBUG - Connecting to IBController
2018-02-26 06:55:01,348 - DEBUG - Connected to IBController
2018-02-26 06:55:01,348 - DEBUG - Position requested
2018-02-26 06:55:01,352 - DEBUG - Pos Mgmt -12987
2018-02-26 06:55:01,353 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 06:55:01,353 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 06:55:01,353 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 06:55:01,354 - DEBUG - Position is -12987
2018-02-26 06:55:02,350 - DEBUG - Open Orders requested
2018-02-26 06:55:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA20>, order=<ib.ext.Order.Order object at 0x00000000020BCDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510F0>>
2018-02-26 06:55:02,353 - DEBUG - Order OrderID 225
2018-02-26 06:55:02,353 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:55:02,354 - DEBUG - Order status PreSubmitted
2018-02-26 06:55:02,354 - DEBUG - Order Identification 225
2018-02-26 06:55:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:55:02,354 - DEBUG - Profit ID from database is 228
2018-02-26 06:55:02,355 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:55:02,355 - DEBUG - Stop ID database is 0
2018-02-26 06:55:02,355 - DEBUG - Entry ID database is 228
2018-02-26 06:55:02,356 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020BCEF0>, order=<ib.ext.Order.Order object at 0x00000000020BCDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151160>>
2018-02-26 06:55:02,357 - DEBUG - Order OrderID 227
2018-02-26 06:55:02,357 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 06:55:02,357 - DEBUG - Order status PreSubmitted
2018-02-26 06:55:02,358 - DEBUG - Order Identification 227
2018-02-26 06:55:02,358 - DEBUG - Order Identification <class 'int'>
2018-02-26 06:55:02,358 - DEBUG - Profit ID from database is 228
2018-02-26 06:55:02,358 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 06:55:02,359 - DEBUG - Stop ID database is 0
2018-02-26 06:55:02,359 - DEBUG - Entry ID database is 228
2018-02-26 06:55:04,350 - DEBUG - Connecting to database
2018-02-26 06:55:04,357 - DEBUG - Connected to database
2018-02-26 06:55:04,359 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,359 - DEBUG - Stop loss value is 2731.25
2018-02-26 06:55:04,360 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,361 - DEBUG - Stop loss value is 2671.5
2018-02-26 06:55:04,362 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,363 - DEBUG - EntryPrice value is 2681.0
2018-02-26 06:55:04,364 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,364 - DEBUG - Stop quantity 1
2018-02-26 06:55:04,366 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,366 - DEBUG - Direction is Short
2018-02-26 06:55:04,367 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,368 - DEBUG - Count is 0
2018-02-26 06:55:04,369 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 06:55:04,370 - DEBUG - Stop Loss Flag is 0
2018-02-26 06:55:04,371 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 06:55:04,371 - DEBUG - Max ID Order is (228,)
2018-02-26 06:55:04,372 - DEBUG - Today is 2018-02-26
2018-02-26 06:55:04,372 - DEBUG - Day of the week 0
2018-02-26 06:55:04,372 - DEBUG - Yesterday is 02/23/2018
2018-02-26 06:55:04,373 - DEBUG - In Position is  0
2018-02-26 06:55:04,373 - DEBUG - In Position is  <class 'int'>
2018-02-26 06:55:04,373 - DEBUG - curStopLossFlag is  0
2018-02-26 06:55:04,373 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 06:55:04,374 - DEBUG - Checking if Entry has been filled
2018-02-26 06:55:04,374 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:55:04,375 - DEBUG - EntryPend is 1
2018-02-26 06:55:04,375 - DEBUG - Try to Cancel Stop
2018-02-26 06:55:04,376 - DEBUG - Stop API ID 0
2018-02-26 06:55:04,376 - DEBUG - Profit API ID 0
2018-02-26 06:55:04,376 - DEBUG - Stop API ID <class 'int'>
2018-02-26 06:55:04,376 - DEBUG - Profit API ID <class 'int'>
2018-02-26 06:55:04,377 - DEBUG - Pos is 0
2018-02-26 06:55:04,377 - DEBUG - CurCount is 0
2018-02-26 06:55:04,377 - DEBUG - In Pos 0
2018-02-26 06:55:04,377 - DEBUG - Stop ID is 0
2018-02-26 06:55:04,377 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 06:55:04,379 - DEBUG - EntryPend is 1
2018-02-26 06:55:04,379 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 06:55:04,379 - DEBUG - Entry Date is 10
2018-02-26 06:55:04,380 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 06:55:04,380 - DEBUG - Order Profit ID is 228
2018-02-26 06:55:04,380 - DEBUG - Order Entry ID is 228
2018-02-26 06:55:04,380 - DEBUG - API ID is  0
2018-02-26 06:55:04,380 - DEBUG - Current Position is 0
2018-02-26 06:55:04,381 - DEBUG - Current Position is <class 'str'>
2018-02-26 06:55:04,381 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 06:55:04,381 - DEBUG - Time is 6
2018-02-26 06:55:04,381 - DEBUG - Time is <class 'int'>
2018-02-26 06:55:04,382 - DEBUG - Disconnected from IBController
2018-02-26 06:55:04,382 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:00:00,318 - DEBUG - ****************************************************
2018-02-26 07:00:00,319 - DEBUG - Current Time is 07:00AM
2018-02-26 07:00:00,319 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:00:00,320 - DEBUG - Connecting to database
2018-02-26 07:00:00,392 - DEBUG - Connected to database
2018-02-26 07:00:00,393 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:00,404 - DEBUG - Order Profit is 228
2018-02-26 07:00:00,405 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:00,425 - DEBUG - Stop ID is 0
2018-02-26 07:00:00,425 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:00,436 - DEBUG - Entry ID is 228
2018-02-26 07:00:00,437 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:00:00,439 - DEBUG - OCA ID is 1
2018-02-26 07:00:00,439 - DEBUG - Connecting to IBController
2018-02-26 07:00:01,448 - DEBUG - Connected to IBController
2018-02-26 07:00:01,448 - DEBUG - Position requested
2018-02-26 07:00:01,450 - DEBUG - Pos Mgmt -12987
2018-02-26 07:00:01,450 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:00:01,451 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:00:01,451 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:00:01,451 - DEBUG - Position is -12987
2018-02-26 07:00:02,449 - DEBUG - Open Orders requested
2018-02-26 07:00:02,451 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 07:00:02,452 - DEBUG - Order OrderID 225
2018-02-26 07:00:02,452 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:00:02,453 - DEBUG - Order status PreSubmitted
2018-02-26 07:00:02,453 - DEBUG - Order Identification 225
2018-02-26 07:00:02,453 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:00:02,454 - DEBUG - Profit ID from database is 228
2018-02-26 07:00:02,454 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:00:02,454 - DEBUG - Stop ID database is 0
2018-02-26 07:00:02,454 - DEBUG - Entry ID database is 228
2018-02-26 07:00:02,455 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 07:00:02,456 - DEBUG - Order OrderID 227
2018-02-26 07:00:02,456 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:00:02,456 - DEBUG - Order status PreSubmitted
2018-02-26 07:00:02,457 - DEBUG - Order Identification 227
2018-02-26 07:00:02,457 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:00:02,457 - DEBUG - Profit ID from database is 228
2018-02-26 07:00:02,457 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:00:02,458 - DEBUG - Stop ID database is 0
2018-02-26 07:00:02,458 - DEBUG - Entry ID database is 228
2018-02-26 07:00:04,452 - DEBUG - Connecting to database
2018-02-26 07:00:04,459 - DEBUG - Connected to database
2018-02-26 07:00:04,461 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,461 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:00:04,463 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,463 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:00:04,464 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,465 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:00:04,466 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,466 - DEBUG - Stop quantity 1
2018-02-26 07:00:04,468 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,468 - DEBUG - Direction is Short
2018-02-26 07:00:04,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,470 - DEBUG - Count is 0
2018-02-26 07:00:04,471 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:00:04,472 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:00:04,473 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:00:04,473 - DEBUG - Max ID Order is (228,)
2018-02-26 07:00:04,474 - DEBUG - Today is 2018-02-26
2018-02-26 07:00:04,474 - DEBUG - Day of the week 0
2018-02-26 07:00:04,474 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:00:04,475 - DEBUG - In Position is  0
2018-02-26 07:00:04,475 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:00:04,475 - DEBUG - curStopLossFlag is  0
2018-02-26 07:00:04,475 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:00:04,475 - DEBUG - Checking if Entry has been filled
2018-02-26 07:00:04,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:00:04,477 - DEBUG - EntryPend is 1
2018-02-26 07:00:04,477 - DEBUG - Try to Cancel Stop
2018-02-26 07:00:04,478 - DEBUG - Stop API ID 0
2018-02-26 07:00:04,478 - DEBUG - Profit API ID 0
2018-02-26 07:00:04,478 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:00:04,478 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:00:04,479 - DEBUG - Pos is 0
2018-02-26 07:00:04,479 - DEBUG - CurCount is 0
2018-02-26 07:00:04,479 - DEBUG - In Pos 0
2018-02-26 07:00:04,479 - DEBUG - Stop ID is 0
2018-02-26 07:00:04,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:00:04,481 - DEBUG - EntryPend is 1
2018-02-26 07:00:04,481 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:00:04,481 - DEBUG - Entry Date is 10
2018-02-26 07:00:04,481 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:00:04,482 - DEBUG - Order Profit ID is 228
2018-02-26 07:00:04,482 - DEBUG - Order Entry ID is 228
2018-02-26 07:00:04,482 - DEBUG - API ID is  0
2018-02-26 07:00:04,482 - DEBUG - Current Position is 0
2018-02-26 07:00:04,483 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:00:04,483 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:00:04,483 - DEBUG - Time is 7
2018-02-26 07:00:04,483 - DEBUG - Time is <class 'int'>
2018-02-26 07:00:04,484 - DEBUG - Disconnected from IBController
2018-02-26 07:00:04,484 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:05:00,259 - DEBUG - ****************************************************
2018-02-26 07:05:00,260 - DEBUG - Current Time is 07:05AM
2018-02-26 07:05:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:05:00,261 - DEBUG - Connecting to database
2018-02-26 07:05:00,335 - DEBUG - Connected to database
2018-02-26 07:05:00,336 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:00,338 - DEBUG - Order Profit is 228
2018-02-26 07:05:00,338 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:00,340 - DEBUG - Stop ID is 0
2018-02-26 07:05:00,340 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:00,345 - DEBUG - Entry ID is 228
2018-02-26 07:05:00,345 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:05:00,355 - DEBUG - OCA ID is 1
2018-02-26 07:05:00,355 - DEBUG - Connecting to IBController
2018-02-26 07:05:01,364 - DEBUG - Connected to IBController
2018-02-26 07:05:01,364 - DEBUG - Position requested
2018-02-26 07:05:01,366 - DEBUG - Pos Mgmt -12987
2018-02-26 07:05:01,366 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:05:01,367 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:05:01,367 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:05:01,367 - DEBUG - Position is -12987
2018-02-26 07:05:02,366 - DEBUG - Open Orders requested
2018-02-26 07:05:02,368 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 07:05:02,369 - DEBUG - Order OrderID 225
2018-02-26 07:05:02,369 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:05:02,370 - DEBUG - Order status PreSubmitted
2018-02-26 07:05:02,370 - DEBUG - Order Identification 225
2018-02-26 07:05:02,370 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:05:02,370 - DEBUG - Profit ID from database is 228
2018-02-26 07:05:02,371 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:05:02,371 - DEBUG - Stop ID database is 0
2018-02-26 07:05:02,371 - DEBUG - Entry ID database is 228
2018-02-26 07:05:02,372 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-26 07:05:02,372 - DEBUG - Order OrderID 227
2018-02-26 07:05:02,373 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:05:02,373 - DEBUG - Order status PreSubmitted
2018-02-26 07:05:02,373 - DEBUG - Order Identification 227
2018-02-26 07:05:02,373 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:05:02,374 - DEBUG - Profit ID from database is 228
2018-02-26 07:05:02,374 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:05:02,374 - DEBUG - Stop ID database is 0
2018-02-26 07:05:02,374 - DEBUG - Entry ID database is 228
2018-02-26 07:05:04,369 - DEBUG - Connecting to database
2018-02-26 07:05:04,376 - DEBUG - Connected to database
2018-02-26 07:05:04,378 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,379 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:05:04,380 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,380 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:05:04,382 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,382 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:05:04,384 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,384 - DEBUG - Stop quantity 1
2018-02-26 07:05:04,385 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,386 - DEBUG - Direction is Short
2018-02-26 07:05:04,387 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,387 - DEBUG - Count is 0
2018-02-26 07:05:04,389 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:05:04,389 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:05:04,390 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:05:04,391 - DEBUG - Max ID Order is (228,)
2018-02-26 07:05:04,391 - DEBUG - Today is 2018-02-26
2018-02-26 07:05:04,392 - DEBUG - Day of the week 0
2018-02-26 07:05:04,392 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:05:04,392 - DEBUG - In Position is  0
2018-02-26 07:05:04,392 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:05:04,393 - DEBUG - curStopLossFlag is  0
2018-02-26 07:05:04,393 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:05:04,393 - DEBUG - Checking if Entry has been filled
2018-02-26 07:05:04,393 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:05:04,395 - DEBUG - EntryPend is 1
2018-02-26 07:05:04,395 - DEBUG - Try to Cancel Stop
2018-02-26 07:05:04,395 - DEBUG - Stop API ID 0
2018-02-26 07:05:04,395 - DEBUG - Profit API ID 0
2018-02-26 07:05:04,396 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:05:04,396 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:05:04,396 - DEBUG - Pos is 0
2018-02-26 07:05:04,396 - DEBUG - CurCount is 0
2018-02-26 07:05:04,396 - DEBUG - In Pos 0
2018-02-26 07:05:04,397 - DEBUG - Stop ID is 0
2018-02-26 07:05:04,397 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:05:04,398 - DEBUG - EntryPend is 1
2018-02-26 07:05:04,399 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:05:04,399 - DEBUG - Entry Date is 10
2018-02-26 07:05:04,399 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:05:04,399 - DEBUG - Order Profit ID is 228
2018-02-26 07:05:04,399 - DEBUG - Order Entry ID is 228
2018-02-26 07:05:04,400 - DEBUG - API ID is  0
2018-02-26 07:05:04,400 - DEBUG - Current Position is 0
2018-02-26 07:05:04,400 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:05:04,400 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:05:04,401 - DEBUG - Time is 7
2018-02-26 07:05:04,401 - DEBUG - Time is <class 'int'>
2018-02-26 07:05:04,401 - DEBUG - Disconnected from IBController
2018-02-26 07:05:04,401 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:10:00,274 - DEBUG - ****************************************************
2018-02-26 07:10:00,275 - DEBUG - Current Time is 07:10AM
2018-02-26 07:10:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:10:00,276 - DEBUG - Connecting to database
2018-02-26 07:10:00,424 - DEBUG - Connected to database
2018-02-26 07:10:00,425 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:00,442 - DEBUG - Order Profit is 228
2018-02-26 07:10:00,443 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:00,475 - DEBUG - Stop ID is 0
2018-02-26 07:10:00,476 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:00,498 - DEBUG - Entry ID is 228
2018-02-26 07:10:00,498 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:10:00,499 - DEBUG - OCA ID is 1
2018-02-26 07:10:00,500 - DEBUG - Connecting to IBController
2018-02-26 07:10:01,508 - DEBUG - Connected to IBController
2018-02-26 07:10:01,508 - DEBUG - Position requested
2018-02-26 07:10:01,510 - DEBUG - Pos Mgmt -12987
2018-02-26 07:10:01,510 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:10:01,511 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:10:01,511 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:10:01,511 - DEBUG - Position is -12987
2018-02-26 07:10:02,509 - DEBUG - Open Orders requested
2018-02-26 07:10:02,511 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 07:10:02,512 - DEBUG - Order OrderID 225
2018-02-26 07:10:02,512 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:10:02,513 - DEBUG - Order status PreSubmitted
2018-02-26 07:10:02,513 - DEBUG - Order Identification 225
2018-02-26 07:10:02,513 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:10:02,513 - DEBUG - Profit ID from database is 228
2018-02-26 07:10:02,514 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:10:02,514 - DEBUG - Stop ID database is 0
2018-02-26 07:10:02,514 - DEBUG - Entry ID database is 228
2018-02-26 07:10:02,515 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 07:10:02,516 - DEBUG - Order OrderID 227
2018-02-26 07:10:02,516 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:10:02,516 - DEBUG - Order status PreSubmitted
2018-02-26 07:10:02,517 - DEBUG - Order Identification 227
2018-02-26 07:10:02,517 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:10:02,517 - DEBUG - Profit ID from database is 228
2018-02-26 07:10:02,517 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:10:02,517 - DEBUG - Stop ID database is 0
2018-02-26 07:10:02,518 - DEBUG - Entry ID database is 228
2018-02-26 07:10:04,511 - DEBUG - Connecting to database
2018-02-26 07:10:04,519 - DEBUG - Connected to database
2018-02-26 07:10:04,520 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,521 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:10:04,522 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,523 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:10:04,524 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,524 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:10:04,526 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,526 - DEBUG - Stop quantity 1
2018-02-26 07:10:04,527 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,528 - DEBUG - Direction is Short
2018-02-26 07:10:04,529 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,529 - DEBUG - Count is 0
2018-02-26 07:10:04,531 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:10:04,531 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:10:04,532 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:10:04,533 - DEBUG - Max ID Order is (228,)
2018-02-26 07:10:04,533 - DEBUG - Today is 2018-02-26
2018-02-26 07:10:04,533 - DEBUG - Day of the week 0
2018-02-26 07:10:04,534 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:10:04,534 - DEBUG - In Position is  0
2018-02-26 07:10:04,534 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:10:04,534 - DEBUG - curStopLossFlag is  0
2018-02-26 07:10:04,535 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:10:04,535 - DEBUG - Checking if Entry has been filled
2018-02-26 07:10:04,535 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:10:04,536 - DEBUG - EntryPend is 1
2018-02-26 07:10:04,537 - DEBUG - Try to Cancel Stop
2018-02-26 07:10:04,537 - DEBUG - Stop API ID 0
2018-02-26 07:10:04,537 - DEBUG - Profit API ID 0
2018-02-26 07:10:04,537 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:10:04,538 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:10:04,538 - DEBUG - Pos is 0
2018-02-26 07:10:04,538 - DEBUG - CurCount is 0
2018-02-26 07:10:04,538 - DEBUG - In Pos 0
2018-02-26 07:10:04,539 - DEBUG - Stop ID is 0
2018-02-26 07:10:04,539 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:10:04,540 - DEBUG - EntryPend is 1
2018-02-26 07:10:04,541 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:10:04,541 - DEBUG - Entry Date is 10
2018-02-26 07:10:04,541 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:10:04,541 - DEBUG - Order Profit ID is 228
2018-02-26 07:10:04,542 - DEBUG - Order Entry ID is 228
2018-02-26 07:10:04,542 - DEBUG - API ID is  0
2018-02-26 07:10:04,542 - DEBUG - Current Position is 0
2018-02-26 07:10:04,542 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:10:04,543 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:10:04,543 - DEBUG - Time is 7
2018-02-26 07:10:04,543 - DEBUG - Time is <class 'int'>
2018-02-26 07:10:04,543 - DEBUG - Disconnected from IBController
2018-02-26 07:10:04,544 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:15:00,269 - DEBUG - ****************************************************
2018-02-26 07:15:00,270 - DEBUG - Current Time is 07:15AM
2018-02-26 07:15:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:15:00,271 - DEBUG - Connecting to database
2018-02-26 07:15:00,398 - DEBUG - Connected to database
2018-02-26 07:15:00,399 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:00,420 - DEBUG - Order Profit is 228
2018-02-26 07:15:00,420 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:00,450 - DEBUG - Stop ID is 0
2018-02-26 07:15:00,450 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:00,479 - DEBUG - Entry ID is 228
2018-02-26 07:15:00,479 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:15:00,497 - DEBUG - OCA ID is 1
2018-02-26 07:15:00,497 - DEBUG - Connecting to IBController
2018-02-26 07:15:01,507 - DEBUG - Connected to IBController
2018-02-26 07:15:01,507 - DEBUG - Position requested
2018-02-26 07:15:01,509 - DEBUG - Pos Mgmt -12987
2018-02-26 07:15:01,509 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:15:01,510 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:15:01,510 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:15:01,510 - DEBUG - Position is -12987
2018-02-26 07:15:02,509 - DEBUG - Open Orders requested
2018-02-26 07:15:02,511 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020FCE10>, order=<ib.ext.Order.Order object at 0x00000000020FCCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192160>>
2018-02-26 07:15:02,512 - DEBUG - Order OrderID 225
2018-02-26 07:15:02,512 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:15:02,513 - DEBUG - Order status PreSubmitted
2018-02-26 07:15:02,513 - DEBUG - Order Identification 225
2018-02-26 07:15:02,513 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:15:02,514 - DEBUG - Profit ID from database is 228
2018-02-26 07:15:02,514 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:15:02,514 - DEBUG - Stop ID database is 0
2018-02-26 07:15:02,514 - DEBUG - Entry ID database is 228
2018-02-26 07:15:02,515 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020FCE10>, order=<ib.ext.Order.Order object at 0x00000000020FCCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192048>>
2018-02-26 07:15:02,516 - DEBUG - Order OrderID 227
2018-02-26 07:15:02,516 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:15:02,516 - DEBUG - Order status PreSubmitted
2018-02-26 07:15:02,517 - DEBUG - Order Identification 227
2018-02-26 07:15:02,517 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:15:02,517 - DEBUG - Profit ID from database is 228
2018-02-26 07:15:02,517 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:15:02,518 - DEBUG - Stop ID database is 0
2018-02-26 07:15:02,518 - DEBUG - Entry ID database is 228
2018-02-26 07:15:04,512 - DEBUG - Connecting to database
2018-02-26 07:15:04,519 - DEBUG - Connected to database
2018-02-26 07:15:04,521 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,522 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:15:04,523 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,523 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:15:04,525 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,525 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:15:04,526 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,527 - DEBUG - Stop quantity 1
2018-02-26 07:15:04,528 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,528 - DEBUG - Direction is Short
2018-02-26 07:15:04,530 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,530 - DEBUG - Count is 0
2018-02-26 07:15:04,531 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:15:04,532 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:15:04,533 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:15:04,533 - DEBUG - Max ID Order is (228,)
2018-02-26 07:15:04,534 - DEBUG - Today is 2018-02-26
2018-02-26 07:15:04,534 - DEBUG - Day of the week 0
2018-02-26 07:15:04,534 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:15:04,535 - DEBUG - In Position is  0
2018-02-26 07:15:04,535 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:15:04,535 - DEBUG - curStopLossFlag is  0
2018-02-26 07:15:04,535 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:15:04,536 - DEBUG - Checking if Entry has been filled
2018-02-26 07:15:04,536 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:15:04,537 - DEBUG - EntryPend is 1
2018-02-26 07:15:04,537 - DEBUG - Try to Cancel Stop
2018-02-26 07:15:04,538 - DEBUG - Stop API ID 0
2018-02-26 07:15:04,538 - DEBUG - Profit API ID 0
2018-02-26 07:15:04,538 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:15:04,538 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:15:04,539 - DEBUG - Pos is 0
2018-02-26 07:15:04,539 - DEBUG - CurCount is 0
2018-02-26 07:15:04,539 - DEBUG - In Pos 0
2018-02-26 07:15:04,539 - DEBUG - Stop ID is 0
2018-02-26 07:15:04,540 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:15:04,542 - DEBUG - EntryPend is 1
2018-02-26 07:15:04,542 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:15:04,542 - DEBUG - Entry Date is 10
2018-02-26 07:15:04,542 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:15:04,543 - DEBUG - Order Profit ID is 228
2018-02-26 07:15:04,543 - DEBUG - Order Entry ID is 228
2018-02-26 07:15:04,543 - DEBUG - API ID is  0
2018-02-26 07:15:04,543 - DEBUG - Current Position is 0
2018-02-26 07:15:04,544 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:15:04,544 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:15:04,544 - DEBUG - Time is 7
2018-02-26 07:15:04,544 - DEBUG - Time is <class 'int'>
2018-02-26 07:15:04,545 - DEBUG - Disconnected from IBController
2018-02-26 07:15:04,545 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:20:00,276 - DEBUG - ****************************************************
2018-02-26 07:20:00,276 - DEBUG - Current Time is 07:20AM
2018-02-26 07:20:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:20:00,277 - DEBUG - Connecting to database
2018-02-26 07:20:00,311 - DEBUG - Connected to database
2018-02-26 07:20:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:00,318 - DEBUG - Order Profit is 228
2018-02-26 07:20:00,318 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:00,327 - DEBUG - Stop ID is 0
2018-02-26 07:20:00,327 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:00,331 - DEBUG - Entry ID is 228
2018-02-26 07:20:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:20:00,333 - DEBUG - OCA ID is 1
2018-02-26 07:20:00,334 - DEBUG - Connecting to IBController
2018-02-26 07:20:01,346 - DEBUG - Connected to IBController
2018-02-26 07:20:01,346 - DEBUG - Position requested
2018-02-26 07:20:01,348 - DEBUG - Pos Mgmt -12987
2018-02-26 07:20:01,348 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:20:01,349 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:20:01,349 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:20:01,349 - DEBUG - Position is -12987
2018-02-26 07:20:02,346 - DEBUG - Open Orders requested
2018-02-26 07:20:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112160>>
2018-02-26 07:20:02,349 - DEBUG - Order OrderID 225
2018-02-26 07:20:02,349 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:20:02,350 - DEBUG - Order status PreSubmitted
2018-02-26 07:20:02,350 - DEBUG - Order Identification 225
2018-02-26 07:20:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:20:02,350 - DEBUG - Profit ID from database is 228
2018-02-26 07:20:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:20:02,351 - DEBUG - Stop ID database is 0
2018-02-26 07:20:02,351 - DEBUG - Entry ID database is 228
2018-02-26 07:20:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-26 07:20:02,352 - DEBUG - Order OrderID 227
2018-02-26 07:20:02,353 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:20:02,353 - DEBUG - Order status PreSubmitted
2018-02-26 07:20:02,353 - DEBUG - Order Identification 227
2018-02-26 07:20:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:20:02,354 - DEBUG - Profit ID from database is 228
2018-02-26 07:20:02,354 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:20:02,354 - DEBUG - Stop ID database is 0
2018-02-26 07:20:02,355 - DEBUG - Entry ID database is 228
2018-02-26 07:20:04,348 - DEBUG - Connecting to database
2018-02-26 07:20:04,357 - DEBUG - Connected to database
2018-02-26 07:20:04,358 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,358 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:20:04,362 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,362 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:20:04,364 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,364 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:20:04,365 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,366 - DEBUG - Stop quantity 1
2018-02-26 07:20:04,367 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,367 - DEBUG - Direction is Short
2018-02-26 07:20:04,369 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,369 - DEBUG - Count is 0
2018-02-26 07:20:04,370 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:20:04,371 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:20:04,372 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:20:04,372 - DEBUG - Max ID Order is (228,)
2018-02-26 07:20:04,373 - DEBUG - Today is 2018-02-26
2018-02-26 07:20:04,373 - DEBUG - Day of the week 0
2018-02-26 07:20:04,374 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:20:04,374 - DEBUG - In Position is  0
2018-02-26 07:20:04,374 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:20:04,374 - DEBUG - curStopLossFlag is  0
2018-02-26 07:20:04,374 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:20:04,375 - DEBUG - Checking if Entry has been filled
2018-02-26 07:20:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:20:04,380 - DEBUG - EntryPend is 1
2018-02-26 07:20:04,380 - DEBUG - Try to Cancel Stop
2018-02-26 07:20:04,380 - DEBUG - Stop API ID 0
2018-02-26 07:20:04,380 - DEBUG - Profit API ID 0
2018-02-26 07:20:04,381 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:20:04,381 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:20:04,381 - DEBUG - Pos is 0
2018-02-26 07:20:04,381 - DEBUG - CurCount is 0
2018-02-26 07:20:04,381 - DEBUG - In Pos 0
2018-02-26 07:20:04,382 - DEBUG - Stop ID is 0
2018-02-26 07:20:04,382 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:20:04,384 - DEBUG - EntryPend is 1
2018-02-26 07:20:04,384 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:20:04,384 - DEBUG - Entry Date is 10
2018-02-26 07:20:04,384 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:20:04,385 - DEBUG - Order Profit ID is 228
2018-02-26 07:20:04,385 - DEBUG - Order Entry ID is 228
2018-02-26 07:20:04,385 - DEBUG - API ID is  0
2018-02-26 07:20:04,385 - DEBUG - Current Position is 0
2018-02-26 07:20:04,385 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:20:04,386 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:20:04,386 - DEBUG - Time is 7
2018-02-26 07:20:04,386 - DEBUG - Time is <class 'int'>
2018-02-26 07:20:04,386 - DEBUG - Disconnected from IBController
2018-02-26 07:20:04,387 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:25:00,265 - DEBUG - ****************************************************
2018-02-26 07:25:00,265 - DEBUG - Current Time is 07:25AM
2018-02-26 07:25:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:25:00,266 - DEBUG - Connecting to database
2018-02-26 07:25:00,362 - DEBUG - Connected to database
2018-02-26 07:25:00,362 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:00,367 - DEBUG - Order Profit is 228
2018-02-26 07:25:00,367 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:00,402 - DEBUG - Stop ID is 0
2018-02-26 07:25:00,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:00,425 - DEBUG - Entry ID is 228
2018-02-26 07:25:00,425 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:25:00,441 - DEBUG - OCA ID is 1
2018-02-26 07:25:00,442 - DEBUG - Connecting to IBController
2018-02-26 07:25:01,452 - DEBUG - Connected to IBController
2018-02-26 07:25:01,452 - DEBUG - Position requested
2018-02-26 07:25:01,454 - DEBUG - Pos Mgmt -12987
2018-02-26 07:25:01,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:25:01,455 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:25:01,455 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:25:01,455 - DEBUG - Position is -12987
2018-02-26 07:25:02,454 - DEBUG - Open Orders requested
2018-02-26 07:25:02,456 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDA0>, order=<ib.ext.Order.Order object at 0x00000000020ADC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141160>>
2018-02-26 07:25:02,457 - DEBUG - Order OrderID 225
2018-02-26 07:25:02,458 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:25:02,458 - DEBUG - Order status PreSubmitted
2018-02-26 07:25:02,458 - DEBUG - Order Identification 225
2018-02-26 07:25:02,459 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:25:02,459 - DEBUG - Profit ID from database is 228
2018-02-26 07:25:02,459 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:25:02,459 - DEBUG - Stop ID database is 0
2018-02-26 07:25:02,460 - DEBUG - Entry ID database is 228
2018-02-26 07:25:02,461 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDA0>, order=<ib.ext.Order.Order object at 0x00000000020ADC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021410B8>>
2018-02-26 07:25:02,461 - DEBUG - Order OrderID 227
2018-02-26 07:25:02,462 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:25:02,462 - DEBUG - Order status PreSubmitted
2018-02-26 07:25:02,462 - DEBUG - Order Identification 227
2018-02-26 07:25:02,462 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:25:02,463 - DEBUG - Profit ID from database is 228
2018-02-26 07:25:02,463 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:25:02,463 - DEBUG - Stop ID database is 0
2018-02-26 07:25:02,463 - DEBUG - Entry ID database is 228
2018-02-26 07:25:04,457 - DEBUG - Connecting to database
2018-02-26 07:25:04,465 - DEBUG - Connected to database
2018-02-26 07:25:04,466 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,467 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:25:04,468 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,468 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:25:04,470 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,470 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:25:04,471 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,472 - DEBUG - Stop quantity 1
2018-02-26 07:25:04,473 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,474 - DEBUG - Direction is Short
2018-02-26 07:25:04,475 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,475 - DEBUG - Count is 0
2018-02-26 07:25:04,477 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:25:04,477 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:25:04,478 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:25:04,479 - DEBUG - Max ID Order is (228,)
2018-02-26 07:25:04,479 - DEBUG - Today is 2018-02-26
2018-02-26 07:25:04,479 - DEBUG - Day of the week 0
2018-02-26 07:25:04,480 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:25:04,480 - DEBUG - In Position is  0
2018-02-26 07:25:04,480 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:25:04,480 - DEBUG - curStopLossFlag is  0
2018-02-26 07:25:04,481 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:25:04,481 - DEBUG - Checking if Entry has been filled
2018-02-26 07:25:04,481 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:25:04,482 - DEBUG - EntryPend is 1
2018-02-26 07:25:04,483 - DEBUG - Try to Cancel Stop
2018-02-26 07:25:04,483 - DEBUG - Stop API ID 0
2018-02-26 07:25:04,483 - DEBUG - Profit API ID 0
2018-02-26 07:25:04,483 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:25:04,484 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:25:04,484 - DEBUG - Pos is 0
2018-02-26 07:25:04,484 - DEBUG - CurCount is 0
2018-02-26 07:25:04,484 - DEBUG - In Pos 0
2018-02-26 07:25:04,485 - DEBUG - Stop ID is 0
2018-02-26 07:25:04,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:25:04,486 - DEBUG - EntryPend is 1
2018-02-26 07:25:04,486 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:25:04,487 - DEBUG - Entry Date is 10
2018-02-26 07:25:04,487 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:25:04,487 - DEBUG - Order Profit ID is 228
2018-02-26 07:25:04,487 - DEBUG - Order Entry ID is 228
2018-02-26 07:25:04,488 - DEBUG - API ID is  0
2018-02-26 07:25:04,488 - DEBUG - Current Position is 0
2018-02-26 07:25:04,488 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:25:04,488 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:25:04,488 - DEBUG - Time is 7
2018-02-26 07:25:04,489 - DEBUG - Time is <class 'int'>
2018-02-26 07:25:04,489 - DEBUG - Disconnected from IBController
2018-02-26 07:25:04,489 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:30:00,286 - DEBUG - ****************************************************
2018-02-26 07:30:00,287 - DEBUG - Current Time is 07:30AM
2018-02-26 07:30:00,287 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:30:00,288 - DEBUG - Connecting to database
2018-02-26 07:30:00,420 - DEBUG - Connected to database
2018-02-26 07:30:00,420 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:00,433 - DEBUG - Order Profit is 228
2018-02-26 07:30:00,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:00,478 - DEBUG - Stop ID is 0
2018-02-26 07:30:00,478 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:00,492 - DEBUG - Entry ID is 228
2018-02-26 07:30:00,492 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:30:00,495 - DEBUG - OCA ID is 1
2018-02-26 07:30:00,496 - DEBUG - Connecting to IBController
2018-02-26 07:30:01,504 - DEBUG - Connected to IBController
2018-02-26 07:30:01,504 - DEBUG - Position requested
2018-02-26 07:30:01,506 - DEBUG - Pos Mgmt -12987
2018-02-26 07:30:01,506 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:30:01,507 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:30:01,507 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:30:01,507 - DEBUG - Position is -12987
2018-02-26 07:30:02,506 - DEBUG - Open Orders requested
2018-02-26 07:30:02,508 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2160>>
2018-02-26 07:30:02,509 - DEBUG - Order OrderID 225
2018-02-26 07:30:02,509 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:30:02,510 - DEBUG - Order status PreSubmitted
2018-02-26 07:30:02,510 - DEBUG - Order Identification 225
2018-02-26 07:30:02,510 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:30:02,510 - DEBUG - Profit ID from database is 228
2018-02-26 07:30:02,511 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:30:02,511 - DEBUG - Stop ID database is 0
2018-02-26 07:30:02,511 - DEBUG - Entry ID database is 228
2018-02-26 07:30:02,512 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2080>>
2018-02-26 07:30:02,512 - DEBUG - Order OrderID 227
2018-02-26 07:30:02,513 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:30:02,513 - DEBUG - Order status PreSubmitted
2018-02-26 07:30:02,514 - DEBUG - Order Identification 227
2018-02-26 07:30:02,514 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:30:02,514 - DEBUG - Profit ID from database is 228
2018-02-26 07:30:02,514 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:30:02,514 - DEBUG - Stop ID database is 0
2018-02-26 07:30:02,515 - DEBUG - Entry ID database is 228
2018-02-26 07:30:04,509 - DEBUG - Connecting to database
2018-02-26 07:30:04,517 - DEBUG - Connected to database
2018-02-26 07:30:04,519 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,519 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:30:04,520 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,521 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:30:04,522 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,522 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:30:04,524 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,524 - DEBUG - Stop quantity 1
2018-02-26 07:30:04,525 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,526 - DEBUG - Direction is Short
2018-02-26 07:30:04,527 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,527 - DEBUG - Count is 0
2018-02-26 07:30:04,529 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:30:04,529 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:30:04,530 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:30:04,531 - DEBUG - Max ID Order is (228,)
2018-02-26 07:30:04,531 - DEBUG - Today is 2018-02-26
2018-02-26 07:30:04,531 - DEBUG - Day of the week 0
2018-02-26 07:30:04,532 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:30:04,532 - DEBUG - In Position is  0
2018-02-26 07:30:04,532 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:30:04,532 - DEBUG - curStopLossFlag is  0
2018-02-26 07:30:04,533 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:30:04,533 - DEBUG - Checking if Entry has been filled
2018-02-26 07:30:04,533 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:30:04,535 - DEBUG - EntryPend is 1
2018-02-26 07:30:04,535 - DEBUG - Try to Cancel Stop
2018-02-26 07:30:04,535 - DEBUG - Stop API ID 0
2018-02-26 07:30:04,535 - DEBUG - Profit API ID 0
2018-02-26 07:30:04,535 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:30:04,536 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:30:04,536 - DEBUG - Pos is 0
2018-02-26 07:30:04,536 - DEBUG - CurCount is 0
2018-02-26 07:30:04,536 - DEBUG - In Pos 0
2018-02-26 07:30:04,537 - DEBUG - Stop ID is 0
2018-02-26 07:30:04,537 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:30:04,538 - DEBUG - EntryPend is 1
2018-02-26 07:30:04,538 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:30:04,539 - DEBUG - Entry Date is 10
2018-02-26 07:30:04,539 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:30:04,539 - DEBUG - Order Profit ID is 228
2018-02-26 07:30:04,539 - DEBUG - Order Entry ID is 228
2018-02-26 07:30:04,540 - DEBUG - API ID is  0
2018-02-26 07:30:04,540 - DEBUG - Current Position is 0
2018-02-26 07:30:04,540 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:30:04,540 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:30:04,541 - DEBUG - Time is 7
2018-02-26 07:30:04,541 - DEBUG - Time is <class 'int'>
2018-02-26 07:30:04,541 - DEBUG - Disconnected from IBController
2018-02-26 07:30:04,541 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:35:00,273 - DEBUG - ****************************************************
2018-02-26 07:35:00,273 - DEBUG - Current Time is 07:35AM
2018-02-26 07:35:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:35:00,274 - DEBUG - Connecting to database
2018-02-26 07:35:00,376 - DEBUG - Connected to database
2018-02-26 07:35:00,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:00,382 - DEBUG - Order Profit is 228
2018-02-26 07:35:00,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:00,418 - DEBUG - Stop ID is 0
2018-02-26 07:35:00,419 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:00,439 - DEBUG - Entry ID is 228
2018-02-26 07:35:00,439 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:35:00,449 - DEBUG - OCA ID is 1
2018-02-26 07:35:00,450 - DEBUG - Connecting to IBController
2018-02-26 07:35:01,456 - DEBUG - Connected to IBController
2018-02-26 07:35:01,456 - DEBUG - Position requested
2018-02-26 07:35:01,461 - DEBUG - Pos Mgmt -12987
2018-02-26 07:35:01,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:35:01,462 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:35:01,462 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:35:01,462 - DEBUG - Position is -12987
2018-02-26 07:35:02,461 - DEBUG - Open Orders requested
2018-02-26 07:35:02,463 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142160>>
2018-02-26 07:35:02,464 - DEBUG - Order OrderID 225
2018-02-26 07:35:02,464 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:35:02,465 - DEBUG - Order status PreSubmitted
2018-02-26 07:35:02,465 - DEBUG - Order Identification 225
2018-02-26 07:35:02,465 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:35:02,465 - DEBUG - Profit ID from database is 228
2018-02-26 07:35:02,466 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:35:02,466 - DEBUG - Stop ID database is 0
2018-02-26 07:35:02,466 - DEBUG - Entry ID database is 228
2018-02-26 07:35:02,467 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021420F0>>
2018-02-26 07:35:02,468 - DEBUG - Order OrderID 227
2018-02-26 07:35:02,468 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:35:02,468 - DEBUG - Order status PreSubmitted
2018-02-26 07:35:02,469 - DEBUG - Order Identification 227
2018-02-26 07:35:02,469 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:35:02,469 - DEBUG - Profit ID from database is 228
2018-02-26 07:35:02,469 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:35:02,469 - DEBUG - Stop ID database is 0
2018-02-26 07:35:02,470 - DEBUG - Entry ID database is 228
2018-02-26 07:35:04,464 - DEBUG - Connecting to database
2018-02-26 07:35:04,471 - DEBUG - Connected to database
2018-02-26 07:35:04,473 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,473 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:35:04,475 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,475 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:35:04,476 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,477 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:35:04,478 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,478 - DEBUG - Stop quantity 1
2018-02-26 07:35:04,480 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,480 - DEBUG - Direction is Short
2018-02-26 07:35:04,481 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,482 - DEBUG - Count is 0
2018-02-26 07:35:04,483 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:35:04,483 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:35:04,485 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:35:04,485 - DEBUG - Max ID Order is (228,)
2018-02-26 07:35:04,485 - DEBUG - Today is 2018-02-26
2018-02-26 07:35:04,486 - DEBUG - Day of the week 0
2018-02-26 07:35:04,486 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:35:04,486 - DEBUG - In Position is  0
2018-02-26 07:35:04,487 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:35:04,487 - DEBUG - curStopLossFlag is  0
2018-02-26 07:35:04,487 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:35:04,487 - DEBUG - Checking if Entry has been filled
2018-02-26 07:35:04,487 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:35:04,489 - DEBUG - EntryPend is 1
2018-02-26 07:35:04,489 - DEBUG - Try to Cancel Stop
2018-02-26 07:35:04,489 - DEBUG - Stop API ID 0
2018-02-26 07:35:04,489 - DEBUG - Profit API ID 0
2018-02-26 07:35:04,490 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:35:04,490 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:35:04,490 - DEBUG - Pos is 0
2018-02-26 07:35:04,490 - DEBUG - CurCount is 0
2018-02-26 07:35:04,491 - DEBUG - In Pos 0
2018-02-26 07:35:04,491 - DEBUG - Stop ID is 0
2018-02-26 07:35:04,491 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:35:04,492 - DEBUG - EntryPend is 1
2018-02-26 07:35:04,493 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:35:04,493 - DEBUG - Entry Date is 10
2018-02-26 07:35:04,493 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:35:04,493 - DEBUG - Order Profit ID is 228
2018-02-26 07:35:04,493 - DEBUG - Order Entry ID is 228
2018-02-26 07:35:04,494 - DEBUG - API ID is  0
2018-02-26 07:35:04,494 - DEBUG - Current Position is 0
2018-02-26 07:35:04,494 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:35:04,494 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:35:04,495 - DEBUG - Time is 7
2018-02-26 07:35:04,495 - DEBUG - Time is <class 'int'>
2018-02-26 07:35:04,495 - DEBUG - Disconnected from IBController
2018-02-26 07:35:04,496 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:40:00,265 - DEBUG - ****************************************************
2018-02-26 07:40:00,265 - DEBUG - Current Time is 07:40AM
2018-02-26 07:40:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:40:00,266 - DEBUG - Connecting to database
2018-02-26 07:40:00,385 - DEBUG - Connected to database
2018-02-26 07:40:00,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:00,402 - DEBUG - Order Profit is 228
2018-02-26 07:40:00,402 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:00,420 - DEBUG - Stop ID is 0
2018-02-26 07:40:00,420 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:00,436 - DEBUG - Entry ID is 228
2018-02-26 07:40:00,436 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:40:00,438 - DEBUG - OCA ID is 1
2018-02-26 07:40:00,439 - DEBUG - Connecting to IBController
2018-02-26 07:40:01,446 - DEBUG - Connected to IBController
2018-02-26 07:40:01,446 - DEBUG - Position requested
2018-02-26 07:40:01,448 - DEBUG - Pos Mgmt -12987
2018-02-26 07:40:01,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:40:01,449 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:40:01,449 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:40:01,449 - DEBUG - Position is -12987
2018-02-26 07:40:02,447 - DEBUG - Open Orders requested
2018-02-26 07:40:02,449 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, order=<ib.ext.Order.Order object at 0x000000000208DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-26 07:40:02,450 - DEBUG - Order OrderID 225
2018-02-26 07:40:02,450 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:40:02,451 - DEBUG - Order status PreSubmitted
2018-02-26 07:40:02,451 - DEBUG - Order Identification 225
2018-02-26 07:40:02,451 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:40:02,451 - DEBUG - Profit ID from database is 228
2018-02-26 07:40:02,452 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:40:02,452 - DEBUG - Stop ID database is 0
2018-02-26 07:40:02,452 - DEBUG - Entry ID database is 228
2018-02-26 07:40:02,453 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 07:40:02,453 - DEBUG - Order OrderID 227
2018-02-26 07:40:02,454 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:40:02,454 - DEBUG - Order status PreSubmitted
2018-02-26 07:40:02,454 - DEBUG - Order Identification 227
2018-02-26 07:40:02,455 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:40:02,455 - DEBUG - Profit ID from database is 228
2018-02-26 07:40:02,455 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:40:02,456 - DEBUG - Stop ID database is 0
2018-02-26 07:40:02,456 - DEBUG - Entry ID database is 228
2018-02-26 07:40:04,448 - DEBUG - Connecting to database
2018-02-26 07:40:04,456 - DEBUG - Connected to database
2018-02-26 07:40:04,457 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,458 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:40:04,459 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,459 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:40:04,461 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,461 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:40:04,462 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,463 - DEBUG - Stop quantity 1
2018-02-26 07:40:04,464 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,464 - DEBUG - Direction is Short
2018-02-26 07:40:04,466 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,466 - DEBUG - Count is 0
2018-02-26 07:40:04,467 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:40:04,468 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:40:04,469 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:40:04,469 - DEBUG - Max ID Order is (228,)
2018-02-26 07:40:04,470 - DEBUG - Today is 2018-02-26
2018-02-26 07:40:04,470 - DEBUG - Day of the week 0
2018-02-26 07:40:04,470 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:40:04,471 - DEBUG - In Position is  0
2018-02-26 07:40:04,471 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:40:04,471 - DEBUG - curStopLossFlag is  0
2018-02-26 07:40:04,471 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:40:04,472 - DEBUG - Checking if Entry has been filled
2018-02-26 07:40:04,472 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:40:04,473 - DEBUG - EntryPend is 1
2018-02-26 07:40:04,474 - DEBUG - Try to Cancel Stop
2018-02-26 07:40:04,474 - DEBUG - Stop API ID 0
2018-02-26 07:40:04,474 - DEBUG - Profit API ID 0
2018-02-26 07:40:04,474 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:40:04,475 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:40:04,475 - DEBUG - Pos is 0
2018-02-26 07:40:04,475 - DEBUG - CurCount is 0
2018-02-26 07:40:04,475 - DEBUG - In Pos 0
2018-02-26 07:40:04,475 - DEBUG - Stop ID is 0
2018-02-26 07:40:04,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:40:04,477 - DEBUG - EntryPend is 1
2018-02-26 07:40:04,477 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:40:04,477 - DEBUG - Entry Date is 10
2018-02-26 07:40:04,478 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:40:04,478 - DEBUG - Order Profit ID is 228
2018-02-26 07:40:04,478 - DEBUG - Order Entry ID is 228
2018-02-26 07:40:04,478 - DEBUG - API ID is  0
2018-02-26 07:40:04,479 - DEBUG - Current Position is 0
2018-02-26 07:40:04,479 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:40:04,479 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:40:04,479 - DEBUG - Time is 7
2018-02-26 07:40:04,480 - DEBUG - Time is <class 'int'>
2018-02-26 07:40:04,480 - DEBUG - Disconnected from IBController
2018-02-26 07:40:04,482 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:45:00,254 - DEBUG - ****************************************************
2018-02-26 07:45:00,255 - DEBUG - Current Time is 07:45AM
2018-02-26 07:45:00,255 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:45:00,256 - DEBUG - Connecting to database
2018-02-26 07:45:00,414 - DEBUG - Connected to database
2018-02-26 07:45:00,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:00,426 - DEBUG - Order Profit is 228
2018-02-26 07:45:00,426 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:00,454 - DEBUG - Stop ID is 0
2018-02-26 07:45:00,455 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:00,476 - DEBUG - Entry ID is 228
2018-02-26 07:45:00,477 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:45:00,488 - DEBUG - OCA ID is 1
2018-02-26 07:45:00,489 - DEBUG - Connecting to IBController
2018-02-26 07:45:01,500 - DEBUG - Connected to IBController
2018-02-26 07:45:01,500 - DEBUG - Position requested
2018-02-26 07:45:01,502 - DEBUG - Pos Mgmt -12987
2018-02-26 07:45:01,502 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:45:01,503 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:45:01,503 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:45:01,503 - DEBUG - Position is -12987
2018-02-26 07:45:02,501 - DEBUG - Open Orders requested
2018-02-26 07:45:02,511 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 07:45:02,512 - DEBUG - Order OrderID 225
2018-02-26 07:45:02,512 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:45:02,512 - DEBUG - Order status PreSubmitted
2018-02-26 07:45:02,513 - DEBUG - Order Identification 225
2018-02-26 07:45:02,513 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:45:02,513 - DEBUG - Profit ID from database is 228
2018-02-26 07:45:02,513 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:45:02,513 - DEBUG - Stop ID database is 0
2018-02-26 07:45:02,514 - DEBUG - Entry ID database is 228
2018-02-26 07:45:02,515 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 07:45:02,515 - DEBUG - Order OrderID 227
2018-02-26 07:45:02,516 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:45:02,516 - DEBUG - Order status PreSubmitted
2018-02-26 07:45:02,516 - DEBUG - Order Identification 227
2018-02-26 07:45:02,516 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:45:02,517 - DEBUG - Profit ID from database is 228
2018-02-26 07:45:02,517 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:45:02,517 - DEBUG - Stop ID database is 0
2018-02-26 07:45:02,517 - DEBUG - Entry ID database is 228
2018-02-26 07:45:04,511 - DEBUG - Connecting to database
2018-02-26 07:45:04,518 - DEBUG - Connected to database
2018-02-26 07:45:04,520 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,520 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:45:04,522 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,522 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:45:04,523 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,524 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:45:04,525 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,525 - DEBUG - Stop quantity 1
2018-02-26 07:45:04,527 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,527 - DEBUG - Direction is Short
2018-02-26 07:45:04,528 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,529 - DEBUG - Count is 0
2018-02-26 07:45:04,530 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:45:04,530 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:45:04,532 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:45:04,532 - DEBUG - Max ID Order is (228,)
2018-02-26 07:45:04,532 - DEBUG - Today is 2018-02-26
2018-02-26 07:45:04,533 - DEBUG - Day of the week 0
2018-02-26 07:45:04,533 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:45:04,533 - DEBUG - In Position is  0
2018-02-26 07:45:04,534 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:45:04,534 - DEBUG - curStopLossFlag is  0
2018-02-26 07:45:04,534 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:45:04,534 - DEBUG - Checking if Entry has been filled
2018-02-26 07:45:04,534 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:45:04,536 - DEBUG - EntryPend is 1
2018-02-26 07:45:04,536 - DEBUG - Try to Cancel Stop
2018-02-26 07:45:04,536 - DEBUG - Stop API ID 0
2018-02-26 07:45:04,536 - DEBUG - Profit API ID 0
2018-02-26 07:45:04,537 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:45:04,537 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:45:04,537 - DEBUG - Pos is 0
2018-02-26 07:45:04,537 - DEBUG - CurCount is 0
2018-02-26 07:45:04,538 - DEBUG - In Pos 0
2018-02-26 07:45:04,538 - DEBUG - Stop ID is 0
2018-02-26 07:45:04,538 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:45:04,539 - DEBUG - EntryPend is 1
2018-02-26 07:45:04,540 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:45:04,540 - DEBUG - Entry Date is 10
2018-02-26 07:45:04,540 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:45:04,540 - DEBUG - Order Profit ID is 228
2018-02-26 07:45:04,541 - DEBUG - Order Entry ID is 228
2018-02-26 07:45:04,541 - DEBUG - API ID is  0
2018-02-26 07:45:04,541 - DEBUG - Current Position is 0
2018-02-26 07:45:04,541 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:45:04,541 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:45:04,542 - DEBUG - Time is 7
2018-02-26 07:45:04,542 - DEBUG - Time is <class 'int'>
2018-02-26 07:45:04,542 - DEBUG - Disconnected from IBController
2018-02-26 07:45:04,543 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:50:00,270 - DEBUG - ****************************************************
2018-02-26 07:50:00,270 - DEBUG - Current Time is 07:50AM
2018-02-26 07:50:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:50:00,271 - DEBUG - Connecting to database
2018-02-26 07:50:00,330 - DEBUG - Connected to database
2018-02-26 07:50:00,331 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:00,332 - DEBUG - Order Profit is 228
2018-02-26 07:50:00,333 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:00,337 - DEBUG - Stop ID is 0
2018-02-26 07:50:00,337 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:00,343 - DEBUG - Entry ID is 228
2018-02-26 07:50:00,344 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:50:00,348 - DEBUG - OCA ID is 1
2018-02-26 07:50:00,348 - DEBUG - Connecting to IBController
2018-02-26 07:50:01,354 - DEBUG - Connected to IBController
2018-02-26 07:50:01,354 - DEBUG - Position requested
2018-02-26 07:50:01,356 - DEBUG - Pos Mgmt -12987
2018-02-26 07:50:01,356 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:50:01,357 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:50:01,357 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:50:01,357 - DEBUG - Position is -12987
2018-02-26 07:50:02,355 - DEBUG - Open Orders requested
2018-02-26 07:50:02,363 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-26 07:50:02,363 - DEBUG - Order OrderID 225
2018-02-26 07:50:02,365 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:50:02,365 - DEBUG - Order status PreSubmitted
2018-02-26 07:50:02,366 - DEBUG - Order Identification 225
2018-02-26 07:50:02,366 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:50:02,366 - DEBUG - Profit ID from database is 228
2018-02-26 07:50:02,366 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:50:02,367 - DEBUG - Stop ID database is 0
2018-02-26 07:50:02,367 - DEBUG - Entry ID database is 228
2018-02-26 07:50:02,368 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204DF98>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-02-26 07:50:02,368 - DEBUG - Order OrderID 227
2018-02-26 07:50:02,369 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:50:02,369 - DEBUG - Order status PreSubmitted
2018-02-26 07:50:02,369 - DEBUG - Order Identification 227
2018-02-26 07:50:02,369 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:50:02,370 - DEBUG - Profit ID from database is 228
2018-02-26 07:50:02,370 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:50:02,370 - DEBUG - Stop ID database is 0
2018-02-26 07:50:02,370 - DEBUG - Entry ID database is 228
2018-02-26 07:50:04,356 - DEBUG - Connecting to database
2018-02-26 07:50:04,364 - DEBUG - Connected to database
2018-02-26 07:50:04,365 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,366 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:50:04,367 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,367 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:50:04,369 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,369 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:50:04,371 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,371 - DEBUG - Stop quantity 1
2018-02-26 07:50:04,372 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,373 - DEBUG - Direction is Short
2018-02-26 07:50:04,374 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,374 - DEBUG - Count is 0
2018-02-26 07:50:04,376 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:50:04,376 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:50:04,377 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:50:04,378 - DEBUG - Max ID Order is (228,)
2018-02-26 07:50:04,378 - DEBUG - Today is 2018-02-26
2018-02-26 07:50:04,379 - DEBUG - Day of the week 0
2018-02-26 07:50:04,379 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:50:04,379 - DEBUG - In Position is  0
2018-02-26 07:50:04,379 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:50:04,380 - DEBUG - curStopLossFlag is  0
2018-02-26 07:50:04,380 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:50:04,380 - DEBUG - Checking if Entry has been filled
2018-02-26 07:50:04,380 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:50:04,382 - DEBUG - EntryPend is 1
2018-02-26 07:50:04,382 - DEBUG - Try to Cancel Stop
2018-02-26 07:50:04,382 - DEBUG - Stop API ID 0
2018-02-26 07:50:04,383 - DEBUG - Profit API ID 0
2018-02-26 07:50:04,383 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:50:04,383 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:50:04,383 - DEBUG - Pos is 0
2018-02-26 07:50:04,383 - DEBUG - CurCount is 0
2018-02-26 07:50:04,384 - DEBUG - In Pos 0
2018-02-26 07:50:04,384 - DEBUG - Stop ID is 0
2018-02-26 07:50:04,384 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:50:04,386 - DEBUG - EntryPend is 1
2018-02-26 07:50:04,386 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:50:04,386 - DEBUG - Entry Date is 10
2018-02-26 07:50:04,386 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:50:04,387 - DEBUG - Order Profit ID is 228
2018-02-26 07:50:04,387 - DEBUG - Order Entry ID is 228
2018-02-26 07:50:04,387 - DEBUG - API ID is  0
2018-02-26 07:50:04,387 - DEBUG - Current Position is 0
2018-02-26 07:50:04,387 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:50:04,388 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:50:04,388 - DEBUG - Time is 7
2018-02-26 07:50:04,388 - DEBUG - Time is <class 'int'>
2018-02-26 07:50:04,388 - DEBUG - Disconnected from IBController
2018-02-26 07:50:04,389 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 07:55:00,263 - DEBUG - ****************************************************
2018-02-26 07:55:00,264 - DEBUG - Current Time is 07:55AM
2018-02-26 07:55:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 07:55:00,264 - DEBUG - Connecting to database
2018-02-26 07:55:00,359 - DEBUG - Connected to database
2018-02-26 07:55:00,360 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:00,361 - DEBUG - Order Profit is 228
2018-02-26 07:55:00,362 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:00,366 - DEBUG - Stop ID is 0
2018-02-26 07:55:00,366 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:00,367 - DEBUG - Entry ID is 228
2018-02-26 07:55:00,368 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 07:55:00,369 - DEBUG - OCA ID is 1
2018-02-26 07:55:00,369 - DEBUG - Connecting to IBController
2018-02-26 07:55:01,378 - DEBUG - Connected to IBController
2018-02-26 07:55:01,378 - DEBUG - Position requested
2018-02-26 07:55:01,380 - DEBUG - Pos Mgmt -12987
2018-02-26 07:55:01,380 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 07:55:01,381 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 07:55:01,381 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 07:55:01,381 - DEBUG - Position is -12987
2018-02-26 07:55:02,379 - DEBUG - Open Orders requested
2018-02-26 07:55:02,381 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-26 07:55:02,382 - DEBUG - Order OrderID 225
2018-02-26 07:55:02,382 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:55:02,383 - DEBUG - Order status PreSubmitted
2018-02-26 07:55:02,383 - DEBUG - Order Identification 225
2018-02-26 07:55:02,383 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:55:02,384 - DEBUG - Profit ID from database is 228
2018-02-26 07:55:02,384 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:55:02,384 - DEBUG - Stop ID database is 0
2018-02-26 07:55:02,384 - DEBUG - Entry ID database is 228
2018-02-26 07:55:02,385 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-26 07:55:02,386 - DEBUG - Order OrderID 227
2018-02-26 07:55:02,386 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 07:55:02,387 - DEBUG - Order status PreSubmitted
2018-02-26 07:55:02,387 - DEBUG - Order Identification 227
2018-02-26 07:55:02,387 - DEBUG - Order Identification <class 'int'>
2018-02-26 07:55:02,387 - DEBUG - Profit ID from database is 228
2018-02-26 07:55:02,387 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 07:55:02,388 - DEBUG - Stop ID database is 0
2018-02-26 07:55:02,388 - DEBUG - Entry ID database is 228
2018-02-26 07:55:04,382 - DEBUG - Connecting to database
2018-02-26 07:55:04,389 - DEBUG - Connected to database
2018-02-26 07:55:04,391 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,391 - DEBUG - Stop loss value is 2731.25
2018-02-26 07:55:04,393 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,393 - DEBUG - Stop loss value is 2671.5
2018-02-26 07:55:04,394 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,395 - DEBUG - EntryPrice value is 2681.0
2018-02-26 07:55:04,396 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,397 - DEBUG - Stop quantity 1
2018-02-26 07:55:04,398 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,399 - DEBUG - Direction is Short
2018-02-26 07:55:04,400 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,400 - DEBUG - Count is 0
2018-02-26 07:55:04,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 07:55:04,402 - DEBUG - Stop Loss Flag is 0
2018-02-26 07:55:04,403 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 07:55:04,404 - DEBUG - Max ID Order is (228,)
2018-02-26 07:55:04,404 - DEBUG - Today is 2018-02-26
2018-02-26 07:55:04,404 - DEBUG - Day of the week 0
2018-02-26 07:55:04,405 - DEBUG - Yesterday is 02/23/2018
2018-02-26 07:55:04,405 - DEBUG - In Position is  0
2018-02-26 07:55:04,405 - DEBUG - In Position is  <class 'int'>
2018-02-26 07:55:04,405 - DEBUG - curStopLossFlag is  0
2018-02-26 07:55:04,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 07:55:04,406 - DEBUG - Checking if Entry has been filled
2018-02-26 07:55:04,406 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:55:04,408 - DEBUG - EntryPend is 1
2018-02-26 07:55:04,408 - DEBUG - Try to Cancel Stop
2018-02-26 07:55:04,408 - DEBUG - Stop API ID 0
2018-02-26 07:55:04,408 - DEBUG - Profit API ID 0
2018-02-26 07:55:04,409 - DEBUG - Stop API ID <class 'int'>
2018-02-26 07:55:04,409 - DEBUG - Profit API ID <class 'int'>
2018-02-26 07:55:04,409 - DEBUG - Pos is 0
2018-02-26 07:55:04,409 - DEBUG - CurCount is 0
2018-02-26 07:55:04,409 - DEBUG - In Pos 0
2018-02-26 07:55:04,410 - DEBUG - Stop ID is 0
2018-02-26 07:55:04,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 07:55:04,411 - DEBUG - EntryPend is 1
2018-02-26 07:55:04,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 07:55:04,412 - DEBUG - Entry Date is 10
2018-02-26 07:55:04,412 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 07:55:04,412 - DEBUG - Order Profit ID is 228
2018-02-26 07:55:04,412 - DEBUG - Order Entry ID is 228
2018-02-26 07:55:04,413 - DEBUG - API ID is  0
2018-02-26 07:55:04,413 - DEBUG - Current Position is 0
2018-02-26 07:55:04,413 - DEBUG - Current Position is <class 'str'>
2018-02-26 07:55:04,413 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 07:55:04,414 - DEBUG - Time is 7
2018-02-26 07:55:04,414 - DEBUG - Time is <class 'int'>
2018-02-26 07:55:04,414 - DEBUG - Disconnected from IBController
2018-02-26 07:55:04,414 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:00:00,283 - DEBUG - ****************************************************
2018-02-26 08:00:00,283 - DEBUG - Current Time is 08:00AM
2018-02-26 08:00:00,284 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:00:00,284 - DEBUG - Connecting to database
2018-02-26 08:00:00,388 - DEBUG - Connected to database
2018-02-26 08:00:00,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:00,403 - DEBUG - Order Profit is 228
2018-02-26 08:00:00,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:00,424 - DEBUG - Stop ID is 0
2018-02-26 08:00:00,424 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:00,460 - DEBUG - Entry ID is 228
2018-02-26 08:00:00,460 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:00:00,491 - DEBUG - OCA ID is 1
2018-02-26 08:00:00,491 - DEBUG - Connecting to IBController
2018-02-26 08:00:01,498 - DEBUG - Connected to IBController
2018-02-26 08:00:01,498 - DEBUG - Position requested
2018-02-26 08:00:01,500 - DEBUG - Pos Mgmt -12987
2018-02-26 08:00:01,500 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:00:01,501 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:00:01,501 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:00:01,501 - DEBUG - Position is -12987
2018-02-26 08:00:02,500 - DEBUG - Open Orders requested
2018-02-26 08:00:02,502 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, order=<ib.ext.Order.Order object at 0x000000000202DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1160>>
2018-02-26 08:00:02,503 - DEBUG - Order OrderID 225
2018-02-26 08:00:02,503 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:00:02,504 - DEBUG - Order status PreSubmitted
2018-02-26 08:00:02,504 - DEBUG - Order Identification 225
2018-02-26 08:00:02,504 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:00:02,504 - DEBUG - Profit ID from database is 228
2018-02-26 08:00:02,505 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:00:02,505 - DEBUG - Stop ID database is 0
2018-02-26 08:00:02,505 - DEBUG - Entry ID database is 228
2018-02-26 08:00:02,506 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, order=<ib.ext.Order.Order object at 0x000000000202DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1048>>
2018-02-26 08:00:02,507 - DEBUG - Order OrderID 227
2018-02-26 08:00:02,507 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:00:02,507 - DEBUG - Order status PreSubmitted
2018-02-26 08:00:02,508 - DEBUG - Order Identification 227
2018-02-26 08:00:02,508 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:00:02,508 - DEBUG - Profit ID from database is 228
2018-02-26 08:00:02,508 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:00:02,509 - DEBUG - Stop ID database is 0
2018-02-26 08:00:02,509 - DEBUG - Entry ID database is 228
2018-02-26 08:00:04,503 - DEBUG - Connecting to database
2018-02-26 08:00:04,510 - DEBUG - Connected to database
2018-02-26 08:00:04,514 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,514 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:00:04,515 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,516 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:00:04,517 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,518 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:00:04,519 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,519 - DEBUG - Stop quantity 1
2018-02-26 08:00:04,521 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,521 - DEBUG - Direction is Short
2018-02-26 08:00:04,522 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,523 - DEBUG - Count is 0
2018-02-26 08:00:04,524 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:00:04,525 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:00:04,526 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:00:04,526 - DEBUG - Max ID Order is (228,)
2018-02-26 08:00:04,527 - DEBUG - Today is 2018-02-26
2018-02-26 08:00:04,527 - DEBUG - Day of the week 0
2018-02-26 08:00:04,527 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:00:04,528 - DEBUG - In Position is  0
2018-02-26 08:00:04,528 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:00:04,528 - DEBUG - curStopLossFlag is  0
2018-02-26 08:00:04,528 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:00:04,529 - DEBUG - Checking if Entry has been filled
2018-02-26 08:00:04,529 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:00:04,530 - DEBUG - EntryPend is 1
2018-02-26 08:00:04,530 - DEBUG - Try to Cancel Stop
2018-02-26 08:00:04,531 - DEBUG - Stop API ID 0
2018-02-26 08:00:04,531 - DEBUG - Profit API ID 0
2018-02-26 08:00:04,531 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:00:04,531 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:00:04,532 - DEBUG - Pos is 0
2018-02-26 08:00:04,532 - DEBUG - CurCount is 0
2018-02-26 08:00:04,532 - DEBUG - In Pos 0
2018-02-26 08:00:04,532 - DEBUG - Stop ID is 0
2018-02-26 08:00:04,532 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:00:04,534 - DEBUG - EntryPend is 1
2018-02-26 08:00:04,534 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:00:04,534 - DEBUG - Entry Date is 10
2018-02-26 08:00:04,535 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:00:04,535 - DEBUG - Order Profit ID is 228
2018-02-26 08:00:04,535 - DEBUG - Order Entry ID is 228
2018-02-26 08:00:04,535 - DEBUG - API ID is  0
2018-02-26 08:00:04,536 - DEBUG - Current Position is 0
2018-02-26 08:00:04,536 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:00:04,536 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:00:04,537 - DEBUG - Time is 8
2018-02-26 08:00:04,537 - DEBUG - Time is <class 'int'>
2018-02-26 08:00:04,537 - DEBUG - Disconnected from IBController
2018-02-26 08:00:04,538 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:05:00,283 - DEBUG - ****************************************************
2018-02-26 08:05:00,284 - DEBUG - Current Time is 08:05AM
2018-02-26 08:05:00,284 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:05:00,284 - DEBUG - Connecting to database
2018-02-26 08:05:00,368 - DEBUG - Connected to database
2018-02-26 08:05:00,368 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:00,378 - DEBUG - Order Profit is 228
2018-02-26 08:05:00,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:00,381 - DEBUG - Stop ID is 0
2018-02-26 08:05:00,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:00,383 - DEBUG - Entry ID is 228
2018-02-26 08:05:00,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:05:00,384 - DEBUG - OCA ID is 1
2018-02-26 08:05:00,385 - DEBUG - Connecting to IBController
2018-02-26 08:05:01,400 - DEBUG - Connected to IBController
2018-02-26 08:05:01,400 - DEBUG - Position requested
2018-02-26 08:05:01,402 - DEBUG - Pos Mgmt -12987
2018-02-26 08:05:01,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:05:01,403 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:05:01,403 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:05:01,403 - DEBUG - Position is -12987
2018-02-26 08:05:02,401 - DEBUG - Open Orders requested
2018-02-26 08:05:02,403 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141160>>
2018-02-26 08:05:02,404 - DEBUG - Order OrderID 225
2018-02-26 08:05:02,404 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:05:02,405 - DEBUG - Order status PreSubmitted
2018-02-26 08:05:02,405 - DEBUG - Order Identification 225
2018-02-26 08:05:02,405 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:05:02,406 - DEBUG - Profit ID from database is 228
2018-02-26 08:05:02,406 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:05:02,406 - DEBUG - Stop ID database is 0
2018-02-26 08:05:02,406 - DEBUG - Entry ID database is 228
2018-02-26 08:05:02,407 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, order=<ib.ext.Order.Order object at 0x00000000020ADAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141048>>
2018-02-26 08:05:02,408 - DEBUG - Order OrderID 227
2018-02-26 08:05:02,408 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:05:02,408 - DEBUG - Order status PreSubmitted
2018-02-26 08:05:02,409 - DEBUG - Order Identification 227
2018-02-26 08:05:02,409 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:05:02,409 - DEBUG - Profit ID from database is 228
2018-02-26 08:05:02,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:05:02,410 - DEBUG - Stop ID database is 0
2018-02-26 08:05:02,410 - DEBUG - Entry ID database is 228
2018-02-26 08:05:04,404 - DEBUG - Connecting to database
2018-02-26 08:05:04,411 - DEBUG - Connected to database
2018-02-26 08:05:04,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,413 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:05:04,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,415 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:05:04,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,417 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:05:04,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,419 - DEBUG - Stop quantity 1
2018-02-26 08:05:04,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,420 - DEBUG - Direction is Short
2018-02-26 08:05:04,422 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,422 - DEBUG - Count is 0
2018-02-26 08:05:04,423 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:05:04,424 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:05:04,425 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:05:04,425 - DEBUG - Max ID Order is (228,)
2018-02-26 08:05:04,426 - DEBUG - Today is 2018-02-26
2018-02-26 08:05:04,426 - DEBUG - Day of the week 0
2018-02-26 08:05:04,427 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:05:04,427 - DEBUG - In Position is  0
2018-02-26 08:05:04,427 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:05:04,427 - DEBUG - curStopLossFlag is  0
2018-02-26 08:05:04,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:05:04,428 - DEBUG - Checking if Entry has been filled
2018-02-26 08:05:04,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:05:04,429 - DEBUG - EntryPend is 1
2018-02-26 08:05:04,430 - DEBUG - Try to Cancel Stop
2018-02-26 08:05:04,430 - DEBUG - Stop API ID 0
2018-02-26 08:05:04,430 - DEBUG - Profit API ID 0
2018-02-26 08:05:04,430 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:05:04,431 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:05:04,431 - DEBUG - Pos is 0
2018-02-26 08:05:04,431 - DEBUG - CurCount is 0
2018-02-26 08:05:04,431 - DEBUG - In Pos 0
2018-02-26 08:05:04,431 - DEBUG - Stop ID is 0
2018-02-26 08:05:04,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:05:04,433 - DEBUG - EntryPend is 1
2018-02-26 08:05:04,433 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:05:04,434 - DEBUG - Entry Date is 10
2018-02-26 08:05:04,434 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:05:04,434 - DEBUG - Order Profit ID is 228
2018-02-26 08:05:04,434 - DEBUG - Order Entry ID is 228
2018-02-26 08:05:04,434 - DEBUG - API ID is  0
2018-02-26 08:05:04,435 - DEBUG - Current Position is 0
2018-02-26 08:05:04,435 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:05:04,435 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:05:04,435 - DEBUG - Time is 8
2018-02-26 08:05:04,436 - DEBUG - Time is <class 'int'>
2018-02-26 08:05:04,436 - DEBUG - Disconnected from IBController
2018-02-26 08:05:04,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:10:00,264 - DEBUG - ****************************************************
2018-02-26 08:10:00,265 - DEBUG - Current Time is 08:10AM
2018-02-26 08:10:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:10:00,265 - DEBUG - Connecting to database
2018-02-26 08:10:00,372 - DEBUG - Connected to database
2018-02-26 08:10:00,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:00,376 - DEBUG - Order Profit is 228
2018-02-26 08:10:00,377 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:00,406 - DEBUG - Stop ID is 0
2018-02-26 08:10:00,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:00,433 - DEBUG - Entry ID is 228
2018-02-26 08:10:00,434 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:10:00,436 - DEBUG - OCA ID is 1
2018-02-26 08:10:00,436 - DEBUG - Connecting to IBController
2018-02-26 08:10:01,446 - DEBUG - Connected to IBController
2018-02-26 08:10:01,446 - DEBUG - Position requested
2018-02-26 08:10:01,448 - DEBUG - Pos Mgmt -12987
2018-02-26 08:10:01,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207BE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:10:01,448 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:10:01,449 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:10:01,449 - DEBUG - Position is -12987
2018-02-26 08:10:02,448 - DEBUG - Open Orders requested
2018-02-26 08:10:02,450 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207BAC8>, order=<ib.ext.Order.Order object at 0x000000000207BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110160>>
2018-02-26 08:10:02,451 - DEBUG - Order OrderID 225
2018-02-26 08:10:02,451 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:10:02,452 - DEBUG - Order status PreSubmitted
2018-02-26 08:10:02,452 - DEBUG - Order Identification 225
2018-02-26 08:10:02,452 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:10:02,452 - DEBUG - Profit ID from database is 228
2018-02-26 08:10:02,452 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:10:02,453 - DEBUG - Stop ID database is 0
2018-02-26 08:10:02,453 - DEBUG - Entry ID database is 228
2018-02-26 08:10:02,454 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207BAC8>, order=<ib.ext.Order.Order object at 0x000000000207BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021100F0>>
2018-02-26 08:10:02,454 - DEBUG - Order OrderID 227
2018-02-26 08:10:02,455 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:10:02,455 - DEBUG - Order status PreSubmitted
2018-02-26 08:10:02,455 - DEBUG - Order Identification 227
2018-02-26 08:10:02,455 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:10:02,456 - DEBUG - Profit ID from database is 228
2018-02-26 08:10:02,456 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:10:02,456 - DEBUG - Stop ID database is 0
2018-02-26 08:10:02,456 - DEBUG - Entry ID database is 228
2018-02-26 08:10:04,451 - DEBUG - Connecting to database
2018-02-26 08:10:04,458 - DEBUG - Connected to database
2018-02-26 08:10:04,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,460 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:10:04,462 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,462 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:10:04,463 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,464 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:10:04,465 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,465 - DEBUG - Stop quantity 1
2018-02-26 08:10:04,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,467 - DEBUG - Direction is Short
2018-02-26 08:10:04,468 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,469 - DEBUG - Count is 0
2018-02-26 08:10:04,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:10:04,471 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:10:04,472 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:10:04,472 - DEBUG - Max ID Order is (228,)
2018-02-26 08:10:04,473 - DEBUG - Today is 2018-02-26
2018-02-26 08:10:04,473 - DEBUG - Day of the week 0
2018-02-26 08:10:04,474 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:10:04,474 - DEBUG - In Position is  0
2018-02-26 08:10:04,474 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:10:04,474 - DEBUG - curStopLossFlag is  0
2018-02-26 08:10:04,474 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:10:04,475 - DEBUG - Checking if Entry has been filled
2018-02-26 08:10:04,475 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:10:04,476 - DEBUG - EntryPend is 1
2018-02-26 08:10:04,477 - DEBUG - Try to Cancel Stop
2018-02-26 08:10:04,477 - DEBUG - Stop API ID 0
2018-02-26 08:10:04,477 - DEBUG - Profit API ID 0
2018-02-26 08:10:04,477 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:10:04,477 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:10:04,478 - DEBUG - Pos is 0
2018-02-26 08:10:04,478 - DEBUG - CurCount is 0
2018-02-26 08:10:04,478 - DEBUG - In Pos 0
2018-02-26 08:10:04,478 - DEBUG - Stop ID is 0
2018-02-26 08:10:04,478 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:10:04,480 - DEBUG - EntryPend is 1
2018-02-26 08:10:04,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:10:04,480 - DEBUG - Entry Date is 10
2018-02-26 08:10:04,481 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:10:04,481 - DEBUG - Order Profit ID is 228
2018-02-26 08:10:04,481 - DEBUG - Order Entry ID is 228
2018-02-26 08:10:04,481 - DEBUG - API ID is  0
2018-02-26 08:10:04,482 - DEBUG - Current Position is 0
2018-02-26 08:10:04,482 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:10:04,482 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:10:04,482 - DEBUG - Time is 8
2018-02-26 08:10:04,482 - DEBUG - Time is <class 'int'>
2018-02-26 08:10:04,483 - DEBUG - Disconnected from IBController
2018-02-26 08:10:04,483 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:15:00,279 - DEBUG - ****************************************************
2018-02-26 08:15:00,279 - DEBUG - Current Time is 08:15AM
2018-02-26 08:15:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:15:00,280 - DEBUG - Connecting to database
2018-02-26 08:15:00,321 - DEBUG - Connected to database
2018-02-26 08:15:00,321 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:00,323 - DEBUG - Order Profit is 228
2018-02-26 08:15:00,323 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:00,326 - DEBUG - Stop ID is 0
2018-02-26 08:15:00,326 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:00,342 - DEBUG - Entry ID is 228
2018-02-26 08:15:00,343 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:15:00,348 - DEBUG - OCA ID is 1
2018-02-26 08:15:00,349 - DEBUG - Connecting to IBController
2018-02-26 08:15:01,358 - DEBUG - Connected to IBController
2018-02-26 08:15:01,358 - DEBUG - Position requested
2018-02-26 08:15:01,360 - DEBUG - Pos Mgmt -12987
2018-02-26 08:15:01,360 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:15:01,361 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:15:01,361 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:15:01,361 - DEBUG - Position is -12987
2018-02-26 08:15:02,359 - DEBUG - Open Orders requested
2018-02-26 08:15:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206BB00>, order=<ib.ext.Order.Order object at 0x000000000206BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100160>>
2018-02-26 08:15:02,362 - DEBUG - Order OrderID 225
2018-02-26 08:15:02,362 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:15:02,363 - DEBUG - Order status PreSubmitted
2018-02-26 08:15:02,363 - DEBUG - Order Identification 225
2018-02-26 08:15:02,363 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:15:02,364 - DEBUG - Profit ID from database is 228
2018-02-26 08:15:02,364 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:15:02,364 - DEBUG - Stop ID database is 0
2018-02-26 08:15:02,364 - DEBUG - Entry ID database is 228
2018-02-26 08:15:02,365 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206BB00>, order=<ib.ext.Order.Order object at 0x000000000206BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021000B8>>
2018-02-26 08:15:02,366 - DEBUG - Order OrderID 227
2018-02-26 08:15:02,366 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:15:02,367 - DEBUG - Order status PreSubmitted
2018-02-26 08:15:02,367 - DEBUG - Order Identification 227
2018-02-26 08:15:02,367 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:15:02,367 - DEBUG - Profit ID from database is 228
2018-02-26 08:15:02,368 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:15:02,368 - DEBUG - Stop ID database is 0
2018-02-26 08:15:02,368 - DEBUG - Entry ID database is 228
2018-02-26 08:15:04,362 - DEBUG - Connecting to database
2018-02-26 08:15:04,370 - DEBUG - Connected to database
2018-02-26 08:15:04,371 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,372 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:15:04,373 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,373 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:15:04,375 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,375 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:15:04,376 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,377 - DEBUG - Stop quantity 1
2018-02-26 08:15:04,378 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,378 - DEBUG - Direction is Short
2018-02-26 08:15:04,380 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,380 - DEBUG - Count is 0
2018-02-26 08:15:04,381 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:15:04,382 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:15:04,383 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:15:04,383 - DEBUG - Max ID Order is (228,)
2018-02-26 08:15:04,384 - DEBUG - Today is 2018-02-26
2018-02-26 08:15:04,384 - DEBUG - Day of the week 0
2018-02-26 08:15:04,384 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:15:04,385 - DEBUG - In Position is  0
2018-02-26 08:15:04,385 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:15:04,385 - DEBUG - curStopLossFlag is  0
2018-02-26 08:15:04,385 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:15:04,386 - DEBUG - Checking if Entry has been filled
2018-02-26 08:15:04,386 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:15:04,387 - DEBUG - EntryPend is 1
2018-02-26 08:15:04,388 - DEBUG - Try to Cancel Stop
2018-02-26 08:15:04,388 - DEBUG - Stop API ID 0
2018-02-26 08:15:04,388 - DEBUG - Profit API ID 0
2018-02-26 08:15:04,388 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:15:04,389 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:15:04,389 - DEBUG - Pos is 0
2018-02-26 08:15:04,389 - DEBUG - CurCount is 0
2018-02-26 08:15:04,389 - DEBUG - In Pos 0
2018-02-26 08:15:04,390 - DEBUG - Stop ID is 0
2018-02-26 08:15:04,390 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:15:04,391 - DEBUG - EntryPend is 1
2018-02-26 08:15:04,391 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:15:04,392 - DEBUG - Entry Date is 10
2018-02-26 08:15:04,392 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:15:04,392 - DEBUG - Order Profit ID is 228
2018-02-26 08:15:04,392 - DEBUG - Order Entry ID is 228
2018-02-26 08:15:04,393 - DEBUG - API ID is  0
2018-02-26 08:15:04,393 - DEBUG - Current Position is 0
2018-02-26 08:15:04,393 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:15:04,393 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:15:04,394 - DEBUG - Time is 8
2018-02-26 08:15:04,394 - DEBUG - Time is <class 'int'>
2018-02-26 08:15:04,394 - DEBUG - Disconnected from IBController
2018-02-26 08:15:04,394 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:20:00,265 - DEBUG - ****************************************************
2018-02-26 08:20:00,266 - DEBUG - Current Time is 08:20AM
2018-02-26 08:20:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:20:00,266 - DEBUG - Connecting to database
2018-02-26 08:20:00,319 - DEBUG - Connected to database
2018-02-26 08:20:00,319 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:00,322 - DEBUG - Order Profit is 228
2018-02-26 08:20:00,322 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:00,323 - DEBUG - Stop ID is 0
2018-02-26 08:20:00,324 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:00,338 - DEBUG - Entry ID is 228
2018-02-26 08:20:00,339 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:20:00,340 - DEBUG - OCA ID is 1
2018-02-26 08:20:00,341 - DEBUG - Connecting to IBController
2018-02-26 08:20:01,349 - DEBUG - Connected to IBController
2018-02-26 08:20:01,349 - DEBUG - Position requested
2018-02-26 08:20:01,352 - DEBUG - Pos Mgmt -12987
2018-02-26 08:20:01,352 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:20:01,353 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:20:01,353 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:20:01,353 - DEBUG - Position is -12987
2018-02-26 08:20:02,350 - DEBUG - Open Orders requested
2018-02-26 08:20:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102160>>
2018-02-26 08:20:02,353 - DEBUG - Order OrderID 225
2018-02-26 08:20:02,353 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:20:02,354 - DEBUG - Order status PreSubmitted
2018-02-26 08:20:02,354 - DEBUG - Order Identification 225
2018-02-26 08:20:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:20:02,355 - DEBUG - Profit ID from database is 228
2018-02-26 08:20:02,355 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:20:02,355 - DEBUG - Stop ID database is 0
2018-02-26 08:20:02,355 - DEBUG - Entry ID database is 228
2018-02-26 08:20:02,356 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020B8>>
2018-02-26 08:20:02,357 - DEBUG - Order OrderID 227
2018-02-26 08:20:02,357 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:20:02,358 - DEBUG - Order status PreSubmitted
2018-02-26 08:20:02,358 - DEBUG - Order Identification 227
2018-02-26 08:20:02,358 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:20:02,358 - DEBUG - Profit ID from database is 228
2018-02-26 08:20:02,359 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:20:02,359 - DEBUG - Stop ID database is 0
2018-02-26 08:20:02,359 - DEBUG - Entry ID database is 228
2018-02-26 08:20:04,353 - DEBUG - Connecting to database
2018-02-26 08:20:04,360 - DEBUG - Connected to database
2018-02-26 08:20:04,361 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,362 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:20:04,364 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,364 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:20:04,365 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,366 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:20:04,367 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,367 - DEBUG - Stop quantity 1
2018-02-26 08:20:04,369 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,369 - DEBUG - Direction is Short
2018-02-26 08:20:04,370 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,371 - DEBUG - Count is 0
2018-02-26 08:20:04,372 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:20:04,373 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:20:04,374 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:20:04,374 - DEBUG - Max ID Order is (228,)
2018-02-26 08:20:04,375 - DEBUG - Today is 2018-02-26
2018-02-26 08:20:04,375 - DEBUG - Day of the week 0
2018-02-26 08:20:04,375 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:20:04,376 - DEBUG - In Position is  0
2018-02-26 08:20:04,376 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:20:04,376 - DEBUG - curStopLossFlag is  0
2018-02-26 08:20:04,376 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:20:04,377 - DEBUG - Checking if Entry has been filled
2018-02-26 08:20:04,377 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:20:04,378 - DEBUG - EntryPend is 1
2018-02-26 08:20:04,379 - DEBUG - Try to Cancel Stop
2018-02-26 08:20:04,379 - DEBUG - Stop API ID 0
2018-02-26 08:20:04,379 - DEBUG - Profit API ID 0
2018-02-26 08:20:04,379 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:20:04,379 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:20:04,380 - DEBUG - Pos is 0
2018-02-26 08:20:04,380 - DEBUG - CurCount is 0
2018-02-26 08:20:04,380 - DEBUG - In Pos 0
2018-02-26 08:20:04,380 - DEBUG - Stop ID is 0
2018-02-26 08:20:04,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:20:04,382 - DEBUG - EntryPend is 1
2018-02-26 08:20:04,382 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:20:04,382 - DEBUG - Entry Date is 10
2018-02-26 08:20:04,383 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:20:04,383 - DEBUG - Order Profit ID is 228
2018-02-26 08:20:04,383 - DEBUG - Order Entry ID is 228
2018-02-26 08:20:04,383 - DEBUG - API ID is  0
2018-02-26 08:20:04,383 - DEBUG - Current Position is 0
2018-02-26 08:20:04,384 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:20:04,384 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:20:04,384 - DEBUG - Time is 8
2018-02-26 08:20:04,384 - DEBUG - Time is <class 'int'>
2018-02-26 08:20:04,385 - DEBUG - Disconnected from IBController
2018-02-26 08:20:04,385 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:25:00,270 - DEBUG - ****************************************************
2018-02-26 08:25:00,270 - DEBUG - Current Time is 08:25AM
2018-02-26 08:25:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:25:00,271 - DEBUG - Connecting to database
2018-02-26 08:25:00,323 - DEBUG - Connected to database
2018-02-26 08:25:00,323 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:00,325 - DEBUG - Order Profit is 228
2018-02-26 08:25:00,325 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:00,352 - DEBUG - Stop ID is 0
2018-02-26 08:25:00,352 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:00,358 - DEBUG - Entry ID is 228
2018-02-26 08:25:00,358 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:25:00,360 - DEBUG - OCA ID is 1
2018-02-26 08:25:00,361 - DEBUG - Connecting to IBController
2018-02-26 08:25:01,367 - DEBUG - Connected to IBController
2018-02-26 08:25:01,367 - DEBUG - Position requested
2018-02-26 08:25:01,369 - DEBUG - Pos Mgmt -12987
2018-02-26 08:25:01,369 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:25:01,369 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:25:01,370 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:25:01,370 - DEBUG - Position is -12987
2018-02-26 08:25:02,368 - DEBUG - Open Orders requested
2018-02-26 08:25:02,370 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1160>>
2018-02-26 08:25:02,371 - DEBUG - Order OrderID 225
2018-02-26 08:25:02,371 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:25:02,372 - DEBUG - Order status PreSubmitted
2018-02-26 08:25:02,372 - DEBUG - Order Identification 225
2018-02-26 08:25:02,372 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:25:02,373 - DEBUG - Profit ID from database is 228
2018-02-26 08:25:02,373 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:25:02,373 - DEBUG - Stop ID database is 0
2018-02-26 08:25:02,373 - DEBUG - Entry ID database is 228
2018-02-26 08:25:02,374 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-26 08:25:02,375 - DEBUG - Order OrderID 227
2018-02-26 08:25:02,375 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:25:02,376 - DEBUG - Order status PreSubmitted
2018-02-26 08:25:02,376 - DEBUG - Order Identification 227
2018-02-26 08:25:02,376 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:25:02,376 - DEBUG - Profit ID from database is 228
2018-02-26 08:25:02,376 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:25:02,377 - DEBUG - Stop ID database is 0
2018-02-26 08:25:02,377 - DEBUG - Entry ID database is 228
2018-02-26 08:25:04,371 - DEBUG - Connecting to database
2018-02-26 08:25:04,379 - DEBUG - Connected to database
2018-02-26 08:25:04,380 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,381 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:25:04,382 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,383 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:25:04,384 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,384 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:25:04,386 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,386 - DEBUG - Stop quantity 1
2018-02-26 08:25:04,388 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,388 - DEBUG - Direction is Short
2018-02-26 08:25:04,389 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,390 - DEBUG - Count is 0
2018-02-26 08:25:04,391 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:25:04,392 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:25:04,393 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:25:04,393 - DEBUG - Max ID Order is (228,)
2018-02-26 08:25:04,394 - DEBUG - Today is 2018-02-26
2018-02-26 08:25:04,394 - DEBUG - Day of the week 0
2018-02-26 08:25:04,394 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:25:04,395 - DEBUG - In Position is  0
2018-02-26 08:25:04,395 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:25:04,395 - DEBUG - curStopLossFlag is  0
2018-02-26 08:25:04,395 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:25:04,396 - DEBUG - Checking if Entry has been filled
2018-02-26 08:25:04,396 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:25:04,397 - DEBUG - EntryPend is 1
2018-02-26 08:25:04,398 - DEBUG - Try to Cancel Stop
2018-02-26 08:25:04,398 - DEBUG - Stop API ID 0
2018-02-26 08:25:04,398 - DEBUG - Profit API ID 0
2018-02-26 08:25:04,398 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:25:04,398 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:25:04,399 - DEBUG - Pos is 0
2018-02-26 08:25:04,399 - DEBUG - CurCount is 0
2018-02-26 08:25:04,399 - DEBUG - In Pos 0
2018-02-26 08:25:04,399 - DEBUG - Stop ID is 0
2018-02-26 08:25:04,400 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:25:04,401 - DEBUG - EntryPend is 1
2018-02-26 08:25:04,401 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:25:04,402 - DEBUG - Entry Date is 10
2018-02-26 08:25:04,402 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:25:04,402 - DEBUG - Order Profit ID is 228
2018-02-26 08:25:04,402 - DEBUG - Order Entry ID is 228
2018-02-26 08:25:04,403 - DEBUG - API ID is  0
2018-02-26 08:25:04,403 - DEBUG - Current Position is 0
2018-02-26 08:25:04,403 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:25:04,403 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:25:04,403 - DEBUG - Time is 8
2018-02-26 08:25:04,404 - DEBUG - Time is <class 'int'>
2018-02-26 08:25:04,404 - DEBUG - Disconnected from IBController
2018-02-26 08:25:04,404 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:30:00,278 - DEBUG - ****************************************************
2018-02-26 08:30:00,279 - DEBUG - Current Time is 08:30AM
2018-02-26 08:30:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:30:00,279 - DEBUG - Connecting to database
2018-02-26 08:30:00,504 - DEBUG - Connected to database
2018-02-26 08:30:00,504 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:00,522 - DEBUG - Order Profit is 228
2018-02-26 08:30:00,522 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:00,552 - DEBUG - Stop ID is 0
2018-02-26 08:30:00,552 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:00,581 - DEBUG - Entry ID is 228
2018-02-26 08:30:00,581 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:30:00,603 - DEBUG - OCA ID is 1
2018-02-26 08:30:00,603 - DEBUG - Connecting to IBController
2018-02-26 08:30:01,610 - DEBUG - Connected to IBController
2018-02-26 08:30:01,610 - DEBUG - Position requested
2018-02-26 08:30:01,612 - DEBUG - Pos Mgmt -12987
2018-02-26 08:30:01,612 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:30:01,612 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:30:01,613 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:30:01,613 - DEBUG - Position is -12987
2018-02-26 08:30:02,612 - DEBUG - Open Orders requested
2018-02-26 08:30:02,614 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 08:30:02,615 - DEBUG - Order OrderID 225
2018-02-26 08:30:02,615 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:30:02,616 - DEBUG - Order status PreSubmitted
2018-02-26 08:30:02,616 - DEBUG - Order Identification 225
2018-02-26 08:30:02,616 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:30:02,617 - DEBUG - Profit ID from database is 228
2018-02-26 08:30:02,617 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:30:02,617 - DEBUG - Stop ID database is 0
2018-02-26 08:30:02,617 - DEBUG - Entry ID database is 228
2018-02-26 08:30:02,618 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-26 08:30:02,619 - DEBUG - Order OrderID 227
2018-02-26 08:30:02,619 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:30:02,619 - DEBUG - Order status PreSubmitted
2018-02-26 08:30:02,620 - DEBUG - Order Identification 227
2018-02-26 08:30:02,620 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:30:02,620 - DEBUG - Profit ID from database is 228
2018-02-26 08:30:02,621 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:30:02,621 - DEBUG - Stop ID database is 0
2018-02-26 08:30:02,621 - DEBUG - Entry ID database is 228
2018-02-26 08:30:04,615 - DEBUG - Connecting to database
2018-02-26 08:30:04,622 - DEBUG - Connected to database
2018-02-26 08:30:04,624 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,624 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:30:04,626 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,626 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:30:04,627 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,628 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:30:04,629 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,629 - DEBUG - Stop quantity 1
2018-02-26 08:30:04,631 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,632 - DEBUG - Direction is Short
2018-02-26 08:30:04,633 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,633 - DEBUG - Count is 0
2018-02-26 08:30:04,637 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:30:04,638 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:30:04,639 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:30:04,639 - DEBUG - Max ID Order is (228,)
2018-02-26 08:30:04,640 - DEBUG - Today is 2018-02-26
2018-02-26 08:30:04,640 - DEBUG - Day of the week 0
2018-02-26 08:30:04,640 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:30:04,641 - DEBUG - In Position is  0
2018-02-26 08:30:04,641 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:30:04,641 - DEBUG - curStopLossFlag is  0
2018-02-26 08:30:04,641 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:30:04,642 - DEBUG - Checking if Entry has been filled
2018-02-26 08:30:04,642 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:30:04,643 - DEBUG - EntryPend is 1
2018-02-26 08:30:04,643 - DEBUG - Try to Cancel Stop
2018-02-26 08:30:04,644 - DEBUG - Stop API ID 0
2018-02-26 08:30:04,644 - DEBUG - Profit API ID 0
2018-02-26 08:30:04,644 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:30:04,644 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:30:04,645 - DEBUG - Pos is 0
2018-02-26 08:30:04,645 - DEBUG - CurCount is 0
2018-02-26 08:30:04,645 - DEBUG - In Pos 0
2018-02-26 08:30:04,645 - DEBUG - Stop ID is 0
2018-02-26 08:30:04,646 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:30:04,647 - DEBUG - EntryPend is 1
2018-02-26 08:30:04,647 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:30:04,647 - DEBUG - Entry Date is 10
2018-02-26 08:30:04,648 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:30:04,648 - DEBUG - Order Profit ID is 228
2018-02-26 08:30:04,648 - DEBUG - Order Entry ID is 228
2018-02-26 08:30:04,648 - DEBUG - API ID is  0
2018-02-26 08:30:04,649 - DEBUG - Current Position is 0
2018-02-26 08:30:04,649 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:30:04,649 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:30:04,649 - DEBUG - Time is 8
2018-02-26 08:30:04,649 - DEBUG - Time is <class 'int'>
2018-02-26 08:30:04,650 - DEBUG - Disconnected from IBController
2018-02-26 08:30:04,650 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:35:00,274 - DEBUG - ****************************************************
2018-02-26 08:35:00,274 - DEBUG - Current Time is 08:35AM
2018-02-26 08:35:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:35:00,275 - DEBUG - Connecting to database
2018-02-26 08:35:00,320 - DEBUG - Connected to database
2018-02-26 08:35:00,320 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:00,324 - DEBUG - Order Profit is 228
2018-02-26 08:35:00,324 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:00,328 - DEBUG - Stop ID is 0
2018-02-26 08:35:00,329 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:00,331 - DEBUG - Entry ID is 228
2018-02-26 08:35:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:35:00,333 - DEBUG - OCA ID is 1
2018-02-26 08:35:00,334 - DEBUG - Connecting to IBController
2018-02-26 08:35:01,353 - DEBUG - Connected to IBController
2018-02-26 08:35:01,353 - DEBUG - Position requested
2018-02-26 08:35:01,355 - DEBUG - Pos Mgmt -12987
2018-02-26 08:35:01,355 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:35:01,355 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:35:01,356 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:35:01,356 - DEBUG - Position is -12987
2018-02-26 08:35:02,355 - DEBUG - Open Orders requested
2018-02-26 08:35:02,357 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, order=<ib.ext.Order.Order object at 0x000000000204CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2160>>
2018-02-26 08:35:02,358 - DEBUG - Order OrderID 225
2018-02-26 08:35:02,358 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:35:02,359 - DEBUG - Order status PreSubmitted
2018-02-26 08:35:02,359 - DEBUG - Order Identification 225
2018-02-26 08:35:02,359 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:35:02,360 - DEBUG - Profit ID from database is 228
2018-02-26 08:35:02,360 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:35:02,360 - DEBUG - Stop ID database is 0
2018-02-26 08:35:02,360 - DEBUG - Entry ID database is 228
2018-02-26 08:35:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, order=<ib.ext.Order.Order object at 0x000000000204CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-26 08:35:02,362 - DEBUG - Order OrderID 227
2018-02-26 08:35:02,362 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:35:02,363 - DEBUG - Order status PreSubmitted
2018-02-26 08:35:02,363 - DEBUG - Order Identification 227
2018-02-26 08:35:02,363 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:35:02,363 - DEBUG - Profit ID from database is 228
2018-02-26 08:35:02,364 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:35:02,364 - DEBUG - Stop ID database is 0
2018-02-26 08:35:02,364 - DEBUG - Entry ID database is 228
2018-02-26 08:35:04,358 - DEBUG - Connecting to database
2018-02-26 08:35:04,365 - DEBUG - Connected to database
2018-02-26 08:35:04,367 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,367 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:35:04,368 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,369 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:35:04,370 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,371 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:35:04,372 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,372 - DEBUG - Stop quantity 1
2018-02-26 08:35:04,374 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,374 - DEBUG - Direction is Short
2018-02-26 08:35:04,376 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,377 - DEBUG - Count is 0
2018-02-26 08:35:04,378 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:35:04,378 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:35:04,380 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:35:04,380 - DEBUG - Max ID Order is (228,)
2018-02-26 08:35:04,380 - DEBUG - Today is 2018-02-26
2018-02-26 08:35:04,381 - DEBUG - Day of the week 0
2018-02-26 08:35:04,381 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:35:04,381 - DEBUG - In Position is  0
2018-02-26 08:35:04,382 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:35:04,382 - DEBUG - curStopLossFlag is  0
2018-02-26 08:35:04,382 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:35:04,382 - DEBUG - Checking if Entry has been filled
2018-02-26 08:35:04,383 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:35:04,384 - DEBUG - EntryPend is 1
2018-02-26 08:35:04,384 - DEBUG - Try to Cancel Stop
2018-02-26 08:35:04,384 - DEBUG - Stop API ID 0
2018-02-26 08:35:04,385 - DEBUG - Profit API ID 0
2018-02-26 08:35:04,385 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:35:04,385 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:35:04,385 - DEBUG - Pos is 0
2018-02-26 08:35:04,385 - DEBUG - CurCount is 0
2018-02-26 08:35:04,386 - DEBUG - In Pos 0
2018-02-26 08:35:04,386 - DEBUG - Stop ID is 0
2018-02-26 08:35:04,386 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:35:04,388 - DEBUG - EntryPend is 1
2018-02-26 08:35:04,388 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:35:04,388 - DEBUG - Entry Date is 10
2018-02-26 08:35:04,388 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:35:04,388 - DEBUG - Order Profit ID is 228
2018-02-26 08:35:04,389 - DEBUG - Order Entry ID is 228
2018-02-26 08:35:04,389 - DEBUG - API ID is  0
2018-02-26 08:35:04,389 - DEBUG - Current Position is 0
2018-02-26 08:35:04,389 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:35:04,390 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:35:04,390 - DEBUG - Time is 8
2018-02-26 08:35:04,390 - DEBUG - Time is <class 'int'>
2018-02-26 08:35:04,390 - DEBUG - Disconnected from IBController
2018-02-26 08:35:04,391 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:40:00,257 - DEBUG - ****************************************************
2018-02-26 08:40:00,257 - DEBUG - Current Time is 08:40AM
2018-02-26 08:40:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:40:00,258 - DEBUG - Connecting to database
2018-02-26 08:40:00,312 - DEBUG - Connected to database
2018-02-26 08:40:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:00,316 - DEBUG - Order Profit is 228
2018-02-26 08:40:00,317 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:00,346 - DEBUG - Stop ID is 0
2018-02-26 08:40:00,346 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:00,350 - DEBUG - Entry ID is 228
2018-02-26 08:40:00,350 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:40:00,355 - DEBUG - OCA ID is 1
2018-02-26 08:40:00,355 - DEBUG - Connecting to IBController
2018-02-26 08:40:01,363 - DEBUG - Connected to IBController
2018-02-26 08:40:01,363 - DEBUG - Position requested
2018-02-26 08:40:01,365 - DEBUG - Pos Mgmt -12987
2018-02-26 08:40:01,365 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:40:01,365 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:40:01,366 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:40:01,366 - DEBUG - Position is -12987
2018-02-26 08:40:02,365 - DEBUG - Open Orders requested
2018-02-26 08:40:02,367 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DCF8>, order=<ib.ext.Order.Order object at 0x000000000201DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1160>>
2018-02-26 08:40:02,368 - DEBUG - Order OrderID 225
2018-02-26 08:40:02,368 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:40:02,369 - DEBUG - Order status PreSubmitted
2018-02-26 08:40:02,369 - DEBUG - Order Identification 225
2018-02-26 08:40:02,369 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:40:02,369 - DEBUG - Profit ID from database is 228
2018-02-26 08:40:02,370 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:40:02,370 - DEBUG - Stop ID database is 0
2018-02-26 08:40:02,370 - DEBUG - Entry ID database is 228
2018-02-26 08:40:02,371 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000201DCF8>, order=<ib.ext.Order.Order object at 0x000000000201DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1080>>
2018-02-26 08:40:02,371 - DEBUG - Order OrderID 227
2018-02-26 08:40:02,372 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:40:02,372 - DEBUG - Order status PreSubmitted
2018-02-26 08:40:02,372 - DEBUG - Order Identification 227
2018-02-26 08:40:02,373 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:40:02,373 - DEBUG - Profit ID from database is 228
2018-02-26 08:40:02,373 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:40:02,373 - DEBUG - Stop ID database is 0
2018-02-26 08:40:02,373 - DEBUG - Entry ID database is 228
2018-02-26 08:40:04,368 - DEBUG - Connecting to database
2018-02-26 08:40:04,375 - DEBUG - Connected to database
2018-02-26 08:40:04,377 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,377 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:40:04,379 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,379 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:40:04,381 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,381 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:40:04,382 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,383 - DEBUG - Stop quantity 1
2018-02-26 08:40:04,384 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,384 - DEBUG - Direction is Short
2018-02-26 08:40:04,386 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,386 - DEBUG - Count is 0
2018-02-26 08:40:04,388 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:40:04,388 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:40:04,389 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:40:04,390 - DEBUG - Max ID Order is (228,)
2018-02-26 08:40:04,390 - DEBUG - Today is 2018-02-26
2018-02-26 08:40:04,391 - DEBUG - Day of the week 0
2018-02-26 08:40:04,391 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:40:04,391 - DEBUG - In Position is  0
2018-02-26 08:40:04,391 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:40:04,392 - DEBUG - curStopLossFlag is  0
2018-02-26 08:40:04,392 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:40:04,392 - DEBUG - Checking if Entry has been filled
2018-02-26 08:40:04,392 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:40:04,394 - DEBUG - EntryPend is 1
2018-02-26 08:40:04,394 - DEBUG - Try to Cancel Stop
2018-02-26 08:40:04,394 - DEBUG - Stop API ID 0
2018-02-26 08:40:04,394 - DEBUG - Profit API ID 0
2018-02-26 08:40:04,395 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:40:04,395 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:40:04,395 - DEBUG - Pos is 0
2018-02-26 08:40:04,395 - DEBUG - CurCount is 0
2018-02-26 08:40:04,396 - DEBUG - In Pos 0
2018-02-26 08:40:04,396 - DEBUG - Stop ID is 0
2018-02-26 08:40:04,396 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:40:04,397 - DEBUG - EntryPend is 1
2018-02-26 08:40:04,398 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:40:04,398 - DEBUG - Entry Date is 10
2018-02-26 08:40:04,398 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:40:04,398 - DEBUG - Order Profit ID is 228
2018-02-26 08:40:04,399 - DEBUG - Order Entry ID is 228
2018-02-26 08:40:04,399 - DEBUG - API ID is  0
2018-02-26 08:40:04,399 - DEBUG - Current Position is 0
2018-02-26 08:40:04,399 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:40:04,399 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:40:04,400 - DEBUG - Time is 8
2018-02-26 08:40:04,400 - DEBUG - Time is <class 'int'>
2018-02-26 08:40:04,400 - DEBUG - Disconnected from IBController
2018-02-26 08:40:04,401 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:45:00,271 - DEBUG - ****************************************************
2018-02-26 08:45:00,272 - DEBUG - Current Time is 08:45AM
2018-02-26 08:45:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:45:00,272 - DEBUG - Connecting to database
2018-02-26 08:45:00,314 - DEBUG - Connected to database
2018-02-26 08:45:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:00,317 - DEBUG - Order Profit is 228
2018-02-26 08:45:00,317 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:00,321 - DEBUG - Stop ID is 0
2018-02-26 08:45:00,321 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:00,324 - DEBUG - Entry ID is 228
2018-02-26 08:45:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:45:00,336 - DEBUG - OCA ID is 1
2018-02-26 08:45:00,336 - DEBUG - Connecting to IBController
2018-02-26 08:45:01,345 - DEBUG - Connected to IBController
2018-02-26 08:45:01,345 - DEBUG - Position requested
2018-02-26 08:45:01,347 - DEBUG - Pos Mgmt -12987
2018-02-26 08:45:01,347 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:45:01,347 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:45:01,348 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:45:01,348 - DEBUG - Position is -12987
2018-02-26 08:45:02,346 - DEBUG - Open Orders requested
2018-02-26 08:45:02,351 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 08:45:02,352 - DEBUG - Order OrderID 225
2018-02-26 08:45:02,352 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:45:02,353 - DEBUG - Order status PreSubmitted
2018-02-26 08:45:02,353 - DEBUG - Order Identification 225
2018-02-26 08:45:02,353 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:45:02,354 - DEBUG - Profit ID from database is 228
2018-02-26 08:45:02,355 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:45:02,355 - DEBUG - Stop ID database is 0
2018-02-26 08:45:02,355 - DEBUG - Entry ID database is 228
2018-02-26 08:45:02,356 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 08:45:02,357 - DEBUG - Order OrderID 227
2018-02-26 08:45:02,357 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:45:02,358 - DEBUG - Order status PreSubmitted
2018-02-26 08:45:02,358 - DEBUG - Order Identification 227
2018-02-26 08:45:02,358 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:45:02,358 - DEBUG - Profit ID from database is 228
2018-02-26 08:45:02,358 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:45:02,359 - DEBUG - Stop ID database is 0
2018-02-26 08:45:02,359 - DEBUG - Entry ID database is 228
2018-02-26 08:45:04,352 - DEBUG - Connecting to database
2018-02-26 08:45:04,359 - DEBUG - Connected to database
2018-02-26 08:45:04,361 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,361 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:45:04,362 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,363 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:45:04,364 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,364 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:45:04,366 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,366 - DEBUG - Stop quantity 1
2018-02-26 08:45:04,367 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,368 - DEBUG - Direction is Short
2018-02-26 08:45:04,369 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,369 - DEBUG - Count is 0
2018-02-26 08:45:04,371 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:45:04,371 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:45:04,372 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:45:04,373 - DEBUG - Max ID Order is (228,)
2018-02-26 08:45:04,373 - DEBUG - Today is 2018-02-26
2018-02-26 08:45:04,374 - DEBUG - Day of the week 0
2018-02-26 08:45:04,374 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:45:04,374 - DEBUG - In Position is  0
2018-02-26 08:45:04,374 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:45:04,374 - DEBUG - curStopLossFlag is  0
2018-02-26 08:45:04,375 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:45:04,375 - DEBUG - Checking if Entry has been filled
2018-02-26 08:45:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:45:04,376 - DEBUG - EntryPend is 1
2018-02-26 08:45:04,377 - DEBUG - Try to Cancel Stop
2018-02-26 08:45:04,377 - DEBUG - Stop API ID 0
2018-02-26 08:45:04,377 - DEBUG - Profit API ID 0
2018-02-26 08:45:04,378 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:45:04,378 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:45:04,378 - DEBUG - Pos is 0
2018-02-26 08:45:04,378 - DEBUG - CurCount is 0
2018-02-26 08:45:04,378 - DEBUG - In Pos 0
2018-02-26 08:45:04,379 - DEBUG - Stop ID is 0
2018-02-26 08:45:04,379 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:45:04,380 - DEBUG - EntryPend is 1
2018-02-26 08:45:04,381 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:45:04,381 - DEBUG - Entry Date is 10
2018-02-26 08:45:04,381 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:45:04,381 - DEBUG - Order Profit ID is 228
2018-02-26 08:45:04,381 - DEBUG - Order Entry ID is 228
2018-02-26 08:45:04,382 - DEBUG - API ID is  0
2018-02-26 08:45:04,382 - DEBUG - Current Position is 0
2018-02-26 08:45:04,382 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:45:04,382 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:45:04,383 - DEBUG - Time is 8
2018-02-26 08:45:04,383 - DEBUG - Time is <class 'int'>
2018-02-26 08:45:04,383 - DEBUG - Disconnected from IBController
2018-02-26 08:45:04,384 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:50:00,260 - DEBUG - ****************************************************
2018-02-26 08:50:00,261 - DEBUG - Current Time is 08:50AM
2018-02-26 08:50:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:50:00,261 - DEBUG - Connecting to database
2018-02-26 08:50:00,314 - DEBUG - Connected to database
2018-02-26 08:50:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:00,323 - DEBUG - Order Profit is 228
2018-02-26 08:50:00,323 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:00,362 - DEBUG - Stop ID is 0
2018-02-26 08:50:00,362 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:00,367 - DEBUG - Entry ID is 228
2018-02-26 08:50:00,368 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:50:00,370 - DEBUG - OCA ID is 1
2018-02-26 08:50:00,370 - DEBUG - Connecting to IBController
2018-02-26 08:50:01,379 - DEBUG - Connected to IBController
2018-02-26 08:50:01,379 - DEBUG - Position requested
2018-02-26 08:50:01,381 - DEBUG - Pos Mgmt -12987
2018-02-26 08:50:01,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:50:01,382 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:50:01,382 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:50:01,382 - DEBUG - Position is -12987
2018-02-26 08:50:02,381 - DEBUG - Open Orders requested
2018-02-26 08:50:02,383 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 08:50:02,386 - DEBUG - Order OrderID 225
2018-02-26 08:50:02,387 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:50:02,387 - DEBUG - Order status PreSubmitted
2018-02-26 08:50:02,387 - DEBUG - Order Identification 225
2018-02-26 08:50:02,388 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:50:02,388 - DEBUG - Profit ID from database is 228
2018-02-26 08:50:02,388 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:50:02,388 - DEBUG - Stop ID database is 0
2018-02-26 08:50:02,389 - DEBUG - Entry ID database is 228
2018-02-26 08:50:02,390 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-26 08:50:02,390 - DEBUG - Order OrderID 227
2018-02-26 08:50:02,391 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:50:02,391 - DEBUG - Order status PreSubmitted
2018-02-26 08:50:02,391 - DEBUG - Order Identification 227
2018-02-26 08:50:02,392 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:50:02,392 - DEBUG - Profit ID from database is 228
2018-02-26 08:50:02,392 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:50:02,392 - DEBUG - Stop ID database is 0
2018-02-26 08:50:02,392 - DEBUG - Entry ID database is 228
2018-02-26 08:50:04,384 - DEBUG - Connecting to database
2018-02-26 08:50:04,427 - DEBUG - Connected to database
2018-02-26 08:50:04,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,431 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:50:04,453 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,453 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:50:04,455 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,455 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:50:04,457 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,457 - DEBUG - Stop quantity 1
2018-02-26 08:50:04,459 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,459 - DEBUG - Direction is Short
2018-02-26 08:50:04,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,469 - DEBUG - Count is 0
2018-02-26 08:50:04,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:50:04,471 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:50:04,472 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:50:04,472 - DEBUG - Max ID Order is (228,)
2018-02-26 08:50:04,473 - DEBUG - Today is 2018-02-26
2018-02-26 08:50:04,473 - DEBUG - Day of the week 0
2018-02-26 08:50:04,474 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:50:04,474 - DEBUG - In Position is  0
2018-02-26 08:50:04,474 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:50:04,474 - DEBUG - curStopLossFlag is  0
2018-02-26 08:50:04,474 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:50:04,475 - DEBUG - Checking if Entry has been filled
2018-02-26 08:50:04,475 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:50:04,476 - DEBUG - EntryPend is 1
2018-02-26 08:50:04,476 - DEBUG - Try to Cancel Stop
2018-02-26 08:50:04,477 - DEBUG - Stop API ID 0
2018-02-26 08:50:04,477 - DEBUG - Profit API ID 0
2018-02-26 08:50:04,477 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:50:04,477 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:50:04,478 - DEBUG - Pos is 0
2018-02-26 08:50:04,478 - DEBUG - CurCount is 0
2018-02-26 08:50:04,478 - DEBUG - In Pos 0
2018-02-26 08:50:04,478 - DEBUG - Stop ID is 0
2018-02-26 08:50:04,478 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:50:04,480 - DEBUG - EntryPend is 1
2018-02-26 08:50:04,480 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:50:04,480 - DEBUG - Entry Date is 10
2018-02-26 08:50:04,481 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:50:04,481 - DEBUG - Order Profit ID is 228
2018-02-26 08:50:04,481 - DEBUG - Order Entry ID is 228
2018-02-26 08:50:04,481 - DEBUG - API ID is  0
2018-02-26 08:50:04,482 - DEBUG - Current Position is 0
2018-02-26 08:50:04,482 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:50:04,482 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:50:04,482 - DEBUG - Time is 8
2018-02-26 08:50:04,482 - DEBUG - Time is <class 'int'>
2018-02-26 08:50:04,483 - DEBUG - Disconnected from IBController
2018-02-26 08:50:04,483 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 08:55:00,263 - DEBUG - ****************************************************
2018-02-26 08:55:00,264 - DEBUG - Current Time is 08:55AM
2018-02-26 08:55:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 08:55:00,264 - DEBUG - Connecting to database
2018-02-26 08:55:00,318 - DEBUG - Connected to database
2018-02-26 08:55:00,318 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:00,321 - DEBUG - Order Profit is 228
2018-02-26 08:55:00,321 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:00,327 - DEBUG - Stop ID is 0
2018-02-26 08:55:00,327 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:00,329 - DEBUG - Entry ID is 228
2018-02-26 08:55:00,329 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 08:55:00,333 - DEBUG - OCA ID is 1
2018-02-26 08:55:00,334 - DEBUG - Connecting to IBController
2018-02-26 08:55:01,342 - DEBUG - Connected to IBController
2018-02-26 08:55:01,342 - DEBUG - Position requested
2018-02-26 08:55:01,344 - DEBUG - Pos Mgmt -12987
2018-02-26 08:55:01,344 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 08:55:01,345 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 08:55:01,345 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 08:55:01,345 - DEBUG - Position is -12987
2018-02-26 08:55:02,343 - DEBUG - Open Orders requested
2018-02-26 08:55:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101160>>
2018-02-26 08:55:02,346 - DEBUG - Order OrderID 225
2018-02-26 08:55:02,346 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:55:02,347 - DEBUG - Order status PreSubmitted
2018-02-26 08:55:02,347 - DEBUG - Order Identification 225
2018-02-26 08:55:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:55:02,348 - DEBUG - Profit ID from database is 228
2018-02-26 08:55:02,348 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:55:02,348 - DEBUG - Stop ID database is 0
2018-02-26 08:55:02,348 - DEBUG - Entry ID database is 228
2018-02-26 08:55:02,349 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101048>>
2018-02-26 08:55:02,350 - DEBUG - Order OrderID 227
2018-02-26 08:55:02,350 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 08:55:02,350 - DEBUG - Order status PreSubmitted
2018-02-26 08:55:02,351 - DEBUG - Order Identification 227
2018-02-26 08:55:02,351 - DEBUG - Order Identification <class 'int'>
2018-02-26 08:55:02,351 - DEBUG - Profit ID from database is 228
2018-02-26 08:55:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 08:55:02,352 - DEBUG - Stop ID database is 0
2018-02-26 08:55:02,352 - DEBUG - Entry ID database is 228
2018-02-26 08:55:04,346 - DEBUG - Connecting to database
2018-02-26 08:55:04,353 - DEBUG - Connected to database
2018-02-26 08:55:04,355 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,355 - DEBUG - Stop loss value is 2731.25
2018-02-26 08:55:04,356 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,357 - DEBUG - Stop loss value is 2671.5
2018-02-26 08:55:04,358 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,359 - DEBUG - EntryPrice value is 2681.0
2018-02-26 08:55:04,360 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,360 - DEBUG - Stop quantity 1
2018-02-26 08:55:04,362 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,362 - DEBUG - Direction is Short
2018-02-26 08:55:04,363 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,363 - DEBUG - Count is 0
2018-02-26 08:55:04,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 08:55:04,365 - DEBUG - Stop Loss Flag is 0
2018-02-26 08:55:04,366 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 08:55:04,367 - DEBUG - Max ID Order is (228,)
2018-02-26 08:55:04,367 - DEBUG - Today is 2018-02-26
2018-02-26 08:55:04,367 - DEBUG - Day of the week 0
2018-02-26 08:55:04,368 - DEBUG - Yesterday is 02/23/2018
2018-02-26 08:55:04,368 - DEBUG - In Position is  0
2018-02-26 08:55:04,368 - DEBUG - In Position is  <class 'int'>
2018-02-26 08:55:04,368 - DEBUG - curStopLossFlag is  0
2018-02-26 08:55:04,369 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 08:55:04,369 - DEBUG - Checking if Entry has been filled
2018-02-26 08:55:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:55:04,371 - DEBUG - EntryPend is 1
2018-02-26 08:55:04,371 - DEBUG - Try to Cancel Stop
2018-02-26 08:55:04,371 - DEBUG - Stop API ID 0
2018-02-26 08:55:04,371 - DEBUG - Profit API ID 0
2018-02-26 08:55:04,371 - DEBUG - Stop API ID <class 'int'>
2018-02-26 08:55:04,372 - DEBUG - Profit API ID <class 'int'>
2018-02-26 08:55:04,372 - DEBUG - Pos is 0
2018-02-26 08:55:04,372 - DEBUG - CurCount is 0
2018-02-26 08:55:04,372 - DEBUG - In Pos 0
2018-02-26 08:55:04,373 - DEBUG - Stop ID is 0
2018-02-26 08:55:04,373 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 08:55:04,374 - DEBUG - EntryPend is 1
2018-02-26 08:55:04,374 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 08:55:04,375 - DEBUG - Entry Date is 10
2018-02-26 08:55:04,375 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 08:55:04,375 - DEBUG - Order Profit ID is 228
2018-02-26 08:55:04,375 - DEBUG - Order Entry ID is 228
2018-02-26 08:55:04,376 - DEBUG - API ID is  0
2018-02-26 08:55:04,376 - DEBUG - Current Position is 0
2018-02-26 08:55:04,376 - DEBUG - Current Position is <class 'str'>
2018-02-26 08:55:04,376 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 08:55:04,377 - DEBUG - Time is 8
2018-02-26 08:55:04,377 - DEBUG - Time is <class 'int'>
2018-02-26 08:55:04,377 - DEBUG - Disconnected from IBController
2018-02-26 08:55:04,378 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:00:00,280 - DEBUG - ****************************************************
2018-02-26 09:00:00,282 - DEBUG - Current Time is 09:00AM
2018-02-26 09:00:00,282 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:00:00,283 - DEBUG - Connecting to database
2018-02-26 09:00:00,547 - DEBUG - Connected to database
2018-02-26 09:00:00,548 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:00,568 - DEBUG - Order Profit is 228
2018-02-26 09:00:00,568 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:00,601 - DEBUG - Stop ID is 0
2018-02-26 09:00:00,601 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:00,635 - DEBUG - Entry ID is 228
2018-02-26 09:00:00,635 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:00:00,638 - DEBUG - OCA ID is 1
2018-02-26 09:00:00,639 - DEBUG - Connecting to IBController
2018-02-26 09:00:01,648 - DEBUG - Connected to IBController
2018-02-26 09:00:01,648 - DEBUG - Position requested
2018-02-26 09:00:01,650 - DEBUG - Pos Mgmt -12987
2018-02-26 09:00:01,650 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:00:01,651 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:00:01,651 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:00:01,651 - DEBUG - Position is -12987
2018-02-26 09:00:02,650 - DEBUG - Open Orders requested
2018-02-26 09:00:02,652 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020EDBA8>, order=<ib.ext.Order.Order object at 0x00000000020EDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182160>>
2018-02-26 09:00:02,653 - DEBUG - Order OrderID 225
2018-02-26 09:00:02,653 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:00:02,654 - DEBUG - Order status PreSubmitted
2018-02-26 09:00:02,654 - DEBUG - Order Identification 225
2018-02-26 09:00:02,654 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:00:02,654 - DEBUG - Profit ID from database is 228
2018-02-26 09:00:02,655 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:00:02,655 - DEBUG - Stop ID database is 0
2018-02-26 09:00:02,655 - DEBUG - Entry ID database is 228
2018-02-26 09:00:02,656 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020EDBA8>, order=<ib.ext.Order.Order object at 0x00000000020EDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182048>>
2018-02-26 09:00:02,656 - DEBUG - Order OrderID 227
2018-02-26 09:00:02,661 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:00:02,662 - DEBUG - Order status PreSubmitted
2018-02-26 09:00:02,662 - DEBUG - Order Identification 227
2018-02-26 09:00:02,662 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:00:02,662 - DEBUG - Profit ID from database is 228
2018-02-26 09:00:02,663 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:00:02,663 - DEBUG - Stop ID database is 0
2018-02-26 09:00:02,663 - DEBUG - Entry ID database is 228
2018-02-26 09:00:04,653 - DEBUG - Connecting to database
2018-02-26 09:00:04,661 - DEBUG - Connected to database
2018-02-26 09:00:04,662 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,663 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:00:04,664 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,665 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:00:04,666 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,666 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:00:04,668 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,668 - DEBUG - Stop quantity 1
2018-02-26 09:00:04,669 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,670 - DEBUG - Direction is Short
2018-02-26 09:00:04,671 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,671 - DEBUG - Count is 0
2018-02-26 09:00:04,673 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:00:04,673 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:00:04,674 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:00:04,675 - DEBUG - Max ID Order is (228,)
2018-02-26 09:00:04,675 - DEBUG - Today is 2018-02-26
2018-02-26 09:00:04,676 - DEBUG - Day of the week 0
2018-02-26 09:00:04,676 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:00:04,676 - DEBUG - In Position is  0
2018-02-26 09:00:04,676 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:00:04,676 - DEBUG - curStopLossFlag is  0
2018-02-26 09:00:04,677 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:00:04,677 - DEBUG - Checking if Entry has been filled
2018-02-26 09:00:04,677 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:00:04,679 - DEBUG - EntryPend is 1
2018-02-26 09:00:04,679 - DEBUG - Try to Cancel Stop
2018-02-26 09:00:04,679 - DEBUG - Stop API ID 0
2018-02-26 09:00:04,679 - DEBUG - Profit API ID 0
2018-02-26 09:00:04,680 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:00:04,680 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:00:04,680 - DEBUG - Pos is 0
2018-02-26 09:00:04,680 - DEBUG - CurCount is 0
2018-02-26 09:00:04,680 - DEBUG - In Pos 0
2018-02-26 09:00:04,681 - DEBUG - Stop ID is 0
2018-02-26 09:00:04,681 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:00:04,682 - DEBUG - EntryPend is 1
2018-02-26 09:00:04,683 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:00:04,683 - DEBUG - Entry Date is 10
2018-02-26 09:00:04,683 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:00:04,683 - DEBUG - Order Profit ID is 228
2018-02-26 09:00:04,684 - DEBUG - Order Entry ID is 228
2018-02-26 09:00:04,684 - DEBUG - API ID is  0
2018-02-26 09:00:04,684 - DEBUG - Current Position is 0
2018-02-26 09:00:04,684 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:00:04,685 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:00:04,685 - DEBUG - Time is 9
2018-02-26 09:00:04,685 - DEBUG - Time is <class 'int'>
2018-02-26 09:00:04,685 - DEBUG - Disconnected from IBController
2018-02-26 09:00:04,686 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:05:00,268 - DEBUG - ****************************************************
2018-02-26 09:05:00,268 - DEBUG - Current Time is 09:05AM
2018-02-26 09:05:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:05:00,269 - DEBUG - Connecting to database
2018-02-26 09:05:00,315 - DEBUG - Connected to database
2018-02-26 09:05:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:00,321 - DEBUG - Order Profit is 228
2018-02-26 09:05:00,321 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:00,323 - DEBUG - Stop ID is 0
2018-02-26 09:05:00,324 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:00,327 - DEBUG - Entry ID is 228
2018-02-26 09:05:00,327 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:05:00,357 - DEBUG - OCA ID is 1
2018-02-26 09:05:00,357 - DEBUG - Connecting to IBController
2018-02-26 09:05:01,366 - DEBUG - Connected to IBController
2018-02-26 09:05:01,366 - DEBUG - Position requested
2018-02-26 09:05:01,377 - DEBUG - Pos Mgmt -12987
2018-02-26 09:05:01,377 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:05:01,377 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:05:01,378 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:05:01,378 - DEBUG - Position is -12987
2018-02-26 09:05:02,373 - DEBUG - Open Orders requested
2018-02-26 09:05:02,377 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, order=<ib.ext.Order.Order object at 0x000000000208CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 09:05:02,378 - DEBUG - Order OrderID 225
2018-02-26 09:05:02,379 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:05:02,379 - DEBUG - Order status PreSubmitted
2018-02-26 09:05:02,379 - DEBUG - Order Identification 225
2018-02-26 09:05:02,380 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:05:02,380 - DEBUG - Profit ID from database is 228
2018-02-26 09:05:02,380 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:05:02,380 - DEBUG - Stop ID database is 0
2018-02-26 09:05:02,381 - DEBUG - Entry ID database is 228
2018-02-26 09:05:02,382 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, order=<ib.ext.Order.Order object at 0x000000000208CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 09:05:02,382 - DEBUG - Order OrderID 227
2018-02-26 09:05:02,382 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:05:02,383 - DEBUG - Order status PreSubmitted
2018-02-26 09:05:02,383 - DEBUG - Order Identification 227
2018-02-26 09:05:02,383 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:05:02,383 - DEBUG - Profit ID from database is 228
2018-02-26 09:05:02,384 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:05:02,384 - DEBUG - Stop ID database is 0
2018-02-26 09:05:02,384 - DEBUG - Entry ID database is 228
2018-02-26 09:05:04,378 - DEBUG - Connecting to database
2018-02-26 09:05:04,385 - DEBUG - Connected to database
2018-02-26 09:05:04,386 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,387 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:05:04,388 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,389 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:05:04,390 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,390 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:05:04,392 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,392 - DEBUG - Stop quantity 1
2018-02-26 09:05:04,393 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,394 - DEBUG - Direction is Short
2018-02-26 09:05:04,395 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,395 - DEBUG - Count is 0
2018-02-26 09:05:04,397 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:05:04,397 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:05:04,398 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:05:04,399 - DEBUG - Max ID Order is (228,)
2018-02-26 09:05:04,399 - DEBUG - Today is 2018-02-26
2018-02-26 09:05:04,400 - DEBUG - Day of the week 0
2018-02-26 09:05:04,400 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:05:04,400 - DEBUG - In Position is  0
2018-02-26 09:05:04,400 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:05:04,400 - DEBUG - curStopLossFlag is  0
2018-02-26 09:05:04,401 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:05:04,401 - DEBUG - Checking if Entry has been filled
2018-02-26 09:05:04,401 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:05:04,403 - DEBUG - EntryPend is 1
2018-02-26 09:05:04,403 - DEBUG - Try to Cancel Stop
2018-02-26 09:05:04,403 - DEBUG - Stop API ID 0
2018-02-26 09:05:04,403 - DEBUG - Profit API ID 0
2018-02-26 09:05:04,404 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:05:04,404 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:05:04,404 - DEBUG - Pos is 0
2018-02-26 09:05:04,404 - DEBUG - CurCount is 0
2018-02-26 09:05:04,404 - DEBUG - In Pos 0
2018-02-26 09:05:04,405 - DEBUG - Stop ID is 0
2018-02-26 09:05:04,405 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:05:04,406 - DEBUG - EntryPend is 1
2018-02-26 09:05:04,407 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:05:04,407 - DEBUG - Entry Date is 10
2018-02-26 09:05:04,407 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:05:04,407 - DEBUG - Order Profit ID is 228
2018-02-26 09:05:04,408 - DEBUG - Order Entry ID is 228
2018-02-26 09:05:04,408 - DEBUG - API ID is  0
2018-02-26 09:05:04,408 - DEBUG - Current Position is 0
2018-02-26 09:05:04,408 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:05:04,409 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:05:04,409 - DEBUG - Time is 9
2018-02-26 09:05:04,409 - DEBUG - Time is <class 'int'>
2018-02-26 09:05:04,409 - DEBUG - Disconnected from IBController
2018-02-26 09:05:04,410 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:10:00,267 - DEBUG - ****************************************************
2018-02-26 09:10:00,268 - DEBUG - Current Time is 09:10AM
2018-02-26 09:10:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:10:00,268 - DEBUG - Connecting to database
2018-02-26 09:10:00,395 - DEBUG - Connected to database
2018-02-26 09:10:00,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:00,399 - DEBUG - Order Profit is 228
2018-02-26 09:10:00,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:00,427 - DEBUG - Stop ID is 0
2018-02-26 09:10:00,427 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:00,449 - DEBUG - Entry ID is 228
2018-02-26 09:10:00,449 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:10:00,458 - DEBUG - OCA ID is 1
2018-02-26 09:10:00,458 - DEBUG - Connecting to IBController
2018-02-26 09:10:01,465 - DEBUG - Connected to IBController
2018-02-26 09:10:01,465 - DEBUG - Position requested
2018-02-26 09:10:01,467 - DEBUG - Pos Mgmt -12987
2018-02-26 09:10:01,467 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:10:01,468 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:10:01,468 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:10:01,468 - DEBUG - Position is -12987
2018-02-26 09:10:02,466 - DEBUG - Open Orders requested
2018-02-26 09:10:02,468 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-26 09:10:02,469 - DEBUG - Order OrderID 225
2018-02-26 09:10:02,469 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:10:02,469 - DEBUG - Order status PreSubmitted
2018-02-26 09:10:02,470 - DEBUG - Order Identification 225
2018-02-26 09:10:02,470 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:10:02,470 - DEBUG - Profit ID from database is 228
2018-02-26 09:10:02,470 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:10:02,471 - DEBUG - Stop ID database is 0
2018-02-26 09:10:02,477 - DEBUG - Entry ID database is 228
2018-02-26 09:10:02,479 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 09:10:02,479 - DEBUG - Order OrderID 227
2018-02-26 09:10:02,480 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:10:02,480 - DEBUG - Order status PreSubmitted
2018-02-26 09:10:02,480 - DEBUG - Order Identification 227
2018-02-26 09:10:02,480 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:10:02,481 - DEBUG - Profit ID from database is 228
2018-02-26 09:10:02,481 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:10:02,481 - DEBUG - Stop ID database is 0
2018-02-26 09:10:02,481 - DEBUG - Entry ID database is 228
2018-02-26 09:10:04,468 - DEBUG - Connecting to database
2018-02-26 09:10:04,475 - DEBUG - Connected to database
2018-02-26 09:10:04,477 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,477 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:10:04,479 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,479 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:10:04,480 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,481 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:10:04,482 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,483 - DEBUG - Stop quantity 1
2018-02-26 09:10:04,484 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,484 - DEBUG - Direction is Short
2018-02-26 09:10:04,486 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,486 - DEBUG - Count is 0
2018-02-26 09:10:04,487 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:10:04,488 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:10:04,489 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:10:04,489 - DEBUG - Max ID Order is (228,)
2018-02-26 09:10:04,490 - DEBUG - Today is 2018-02-26
2018-02-26 09:10:04,490 - DEBUG - Day of the week 0
2018-02-26 09:10:04,490 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:10:04,491 - DEBUG - In Position is  0
2018-02-26 09:10:04,491 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:10:04,491 - DEBUG - curStopLossFlag is  0
2018-02-26 09:10:04,491 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:10:04,492 - DEBUG - Checking if Entry has been filled
2018-02-26 09:10:04,492 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:10:04,493 - DEBUG - EntryPend is 1
2018-02-26 09:10:04,494 - DEBUG - Try to Cancel Stop
2018-02-26 09:10:04,494 - DEBUG - Stop API ID 0
2018-02-26 09:10:04,494 - DEBUG - Profit API ID 0
2018-02-26 09:10:04,494 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:10:04,494 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:10:04,495 - DEBUG - Pos is 0
2018-02-26 09:10:04,495 - DEBUG - CurCount is 0
2018-02-26 09:10:04,495 - DEBUG - In Pos 0
2018-02-26 09:10:04,495 - DEBUG - Stop ID is 0
2018-02-26 09:10:04,496 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:10:04,497 - DEBUG - EntryPend is 1
2018-02-26 09:10:04,497 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:10:04,498 - DEBUG - Entry Date is 10
2018-02-26 09:10:04,498 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:10:04,498 - DEBUG - Order Profit ID is 228
2018-02-26 09:10:04,498 - DEBUG - Order Entry ID is 228
2018-02-26 09:10:04,498 - DEBUG - API ID is  0
2018-02-26 09:10:04,499 - DEBUG - Current Position is 0
2018-02-26 09:10:04,499 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:10:04,499 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:10:04,499 - DEBUG - Time is 9
2018-02-26 09:10:04,500 - DEBUG - Time is <class 'int'>
2018-02-26 09:10:04,500 - DEBUG - Disconnected from IBController
2018-02-26 09:10:04,501 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:15:00,270 - DEBUG - ****************************************************
2018-02-26 09:15:00,270 - DEBUG - Current Time is 09:15AM
2018-02-26 09:15:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:15:00,271 - DEBUG - Connecting to database
2018-02-26 09:15:00,415 - DEBUG - Connected to database
2018-02-26 09:15:00,415 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:00,424 - DEBUG - Order Profit is 228
2018-02-26 09:15:00,424 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:00,453 - DEBUG - Stop ID is 0
2018-02-26 09:15:00,453 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:00,479 - DEBUG - Entry ID is 228
2018-02-26 09:15:00,479 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:15:00,481 - DEBUG - OCA ID is 1
2018-02-26 09:15:00,482 - DEBUG - Connecting to IBController
2018-02-26 09:15:01,488 - DEBUG - Connected to IBController
2018-02-26 09:15:01,488 - DEBUG - Position requested
2018-02-26 09:15:01,490 - DEBUG - Pos Mgmt -12987
2018-02-26 09:15:01,490 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:15:01,491 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:15:01,491 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:15:01,491 - DEBUG - Position is -12987
2018-02-26 09:15:02,489 - DEBUG - Open Orders requested
2018-02-26 09:15:02,491 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 09:15:02,492 - DEBUG - Order OrderID 225
2018-02-26 09:15:02,492 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:15:02,493 - DEBUG - Order status PreSubmitted
2018-02-26 09:15:02,493 - DEBUG - Order Identification 225
2018-02-26 09:15:02,493 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:15:02,493 - DEBUG - Profit ID from database is 228
2018-02-26 09:15:02,494 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:15:02,494 - DEBUG - Stop ID database is 0
2018-02-26 09:15:02,494 - DEBUG - Entry ID database is 228
2018-02-26 09:15:02,495 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207DF98>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111160>>
2018-02-26 09:15:02,495 - DEBUG - Order OrderID 227
2018-02-26 09:15:02,496 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:15:02,496 - DEBUG - Order status PreSubmitted
2018-02-26 09:15:02,496 - DEBUG - Order Identification 227
2018-02-26 09:15:02,497 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:15:02,497 - DEBUG - Profit ID from database is 228
2018-02-26 09:15:02,497 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:15:02,497 - DEBUG - Stop ID database is 0
2018-02-26 09:15:02,498 - DEBUG - Entry ID database is 228
2018-02-26 09:15:04,489 - DEBUG - Connecting to database
2018-02-26 09:15:04,497 - DEBUG - Connected to database
2018-02-26 09:15:04,498 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,498 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:15:04,500 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,500 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:15:04,502 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,502 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:15:04,504 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,504 - DEBUG - Stop quantity 1
2018-02-26 09:15:04,505 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,506 - DEBUG - Direction is Short
2018-02-26 09:15:04,507 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,507 - DEBUG - Count is 0
2018-02-26 09:15:04,509 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:15:04,509 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:15:04,511 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:15:04,511 - DEBUG - Max ID Order is (228,)
2018-02-26 09:15:04,511 - DEBUG - Today is 2018-02-26
2018-02-26 09:15:04,512 - DEBUG - Day of the week 0
2018-02-26 09:15:04,512 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:15:04,512 - DEBUG - In Position is  0
2018-02-26 09:15:04,513 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:15:04,513 - DEBUG - curStopLossFlag is  0
2018-02-26 09:15:04,513 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:15:04,513 - DEBUG - Checking if Entry has been filled
2018-02-26 09:15:04,513 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:15:04,515 - DEBUG - EntryPend is 1
2018-02-26 09:15:04,515 - DEBUG - Try to Cancel Stop
2018-02-26 09:15:04,515 - DEBUG - Stop API ID 0
2018-02-26 09:15:04,516 - DEBUG - Profit API ID 0
2018-02-26 09:15:04,516 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:15:04,516 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:15:04,516 - DEBUG - Pos is 0
2018-02-26 09:15:04,517 - DEBUG - CurCount is 0
2018-02-26 09:15:04,517 - DEBUG - In Pos 0
2018-02-26 09:15:04,517 - DEBUG - Stop ID is 0
2018-02-26 09:15:04,517 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:15:04,519 - DEBUG - EntryPend is 1
2018-02-26 09:15:04,519 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:15:04,519 - DEBUG - Entry Date is 10
2018-02-26 09:15:04,519 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:15:04,520 - DEBUG - Order Profit ID is 228
2018-02-26 09:15:04,520 - DEBUG - Order Entry ID is 228
2018-02-26 09:15:04,520 - DEBUG - API ID is  0
2018-02-26 09:15:04,520 - DEBUG - Current Position is 0
2018-02-26 09:15:04,520 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:15:04,521 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:15:04,521 - DEBUG - Time is 9
2018-02-26 09:15:04,521 - DEBUG - Time is <class 'int'>
2018-02-26 09:15:04,521 - DEBUG - Disconnected from IBController
2018-02-26 09:15:04,522 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:20:00,260 - DEBUG - ****************************************************
2018-02-26 09:20:00,261 - DEBUG - Current Time is 09:20AM
2018-02-26 09:20:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:20:00,261 - DEBUG - Connecting to database
2018-02-26 09:20:00,383 - DEBUG - Connected to database
2018-02-26 09:20:00,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:00,392 - DEBUG - Order Profit is 228
2018-02-26 09:20:00,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:00,421 - DEBUG - Stop ID is 0
2018-02-26 09:20:00,422 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:00,441 - DEBUG - Entry ID is 228
2018-02-26 09:20:00,442 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:20:00,452 - DEBUG - OCA ID is 1
2018-02-26 09:20:00,453 - DEBUG - Connecting to IBController
2018-02-26 09:20:01,462 - DEBUG - Connected to IBController
2018-02-26 09:20:01,462 - DEBUG - Position requested
2018-02-26 09:20:01,464 - DEBUG - Pos Mgmt -12987
2018-02-26 09:20:01,464 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:20:01,464 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:20:01,465 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:20:01,465 - DEBUG - Position is -12987
2018-02-26 09:20:02,463 - DEBUG - Open Orders requested
2018-02-26 09:20:02,465 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202CA58>, order=<ib.ext.Order.Order object at 0x000000000202CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1160>>
2018-02-26 09:20:02,466 - DEBUG - Order OrderID 225
2018-02-26 09:20:02,466 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:20:02,467 - DEBUG - Order status PreSubmitted
2018-02-26 09:20:02,467 - DEBUG - Order Identification 225
2018-02-26 09:20:02,467 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:20:02,468 - DEBUG - Profit ID from database is 228
2018-02-26 09:20:02,468 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:20:02,468 - DEBUG - Stop ID database is 0
2018-02-26 09:20:02,468 - DEBUG - Entry ID database is 228
2018-02-26 09:20:02,469 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000202CA58>, order=<ib.ext.Order.Order object at 0x000000000202CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1048>>
2018-02-26 09:20:02,470 - DEBUG - Order OrderID 227
2018-02-26 09:20:02,470 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:20:02,470 - DEBUG - Order status PreSubmitted
2018-02-26 09:20:02,471 - DEBUG - Order Identification 227
2018-02-26 09:20:02,471 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:20:02,471 - DEBUG - Profit ID from database is 228
2018-02-26 09:20:02,471 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:20:02,472 - DEBUG - Stop ID database is 0
2018-02-26 09:20:02,472 - DEBUG - Entry ID database is 228
2018-02-26 09:20:04,466 - DEBUG - Connecting to database
2018-02-26 09:20:04,473 - DEBUG - Connected to database
2018-02-26 09:20:04,475 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,475 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:20:04,480 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,480 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:20:04,487 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,488 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:20:04,489 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,490 - DEBUG - Stop quantity 1
2018-02-26 09:20:04,491 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,491 - DEBUG - Direction is Short
2018-02-26 09:20:04,493 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,493 - DEBUG - Count is 0
2018-02-26 09:20:04,494 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:20:04,495 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:20:04,496 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:20:04,496 - DEBUG - Max ID Order is (228,)
2018-02-26 09:20:04,497 - DEBUG - Today is 2018-02-26
2018-02-26 09:20:04,497 - DEBUG - Day of the week 0
2018-02-26 09:20:04,497 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:20:04,498 - DEBUG - In Position is  0
2018-02-26 09:20:04,498 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:20:04,498 - DEBUG - curStopLossFlag is  0
2018-02-26 09:20:04,498 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:20:04,498 - DEBUG - Checking if Entry has been filled
2018-02-26 09:20:04,499 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:20:04,501 - DEBUG - EntryPend is 1
2018-02-26 09:20:04,501 - DEBUG - Try to Cancel Stop
2018-02-26 09:20:04,501 - DEBUG - Stop API ID 0
2018-02-26 09:20:04,501 - DEBUG - Profit API ID 0
2018-02-26 09:20:04,502 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:20:04,502 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:20:04,502 - DEBUG - Pos is 0
2018-02-26 09:20:04,502 - DEBUG - CurCount is 0
2018-02-26 09:20:04,503 - DEBUG - In Pos 0
2018-02-26 09:20:04,503 - DEBUG - Stop ID is 0
2018-02-26 09:20:04,503 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:20:04,504 - DEBUG - EntryPend is 1
2018-02-26 09:20:04,505 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:20:04,505 - DEBUG - Entry Date is 10
2018-02-26 09:20:04,505 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:20:04,506 - DEBUG - Order Profit ID is 228
2018-02-26 09:20:04,506 - DEBUG - Order Entry ID is 228
2018-02-26 09:20:04,506 - DEBUG - API ID is  0
2018-02-26 09:20:04,506 - DEBUG - Current Position is 0
2018-02-26 09:20:04,506 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:20:04,507 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:20:04,507 - DEBUG - Time is 9
2018-02-26 09:20:04,507 - DEBUG - Time is <class 'int'>
2018-02-26 09:20:04,507 - DEBUG - Disconnected from IBController
2018-02-26 09:20:04,508 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:25:00,265 - DEBUG - ****************************************************
2018-02-26 09:25:00,265 - DEBUG - Current Time is 09:25AM
2018-02-26 09:25:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:25:00,266 - DEBUG - Connecting to database
2018-02-26 09:25:00,392 - DEBUG - Connected to database
2018-02-26 09:25:00,393 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:00,409 - DEBUG - Order Profit is 228
2018-02-26 09:25:00,409 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:00,432 - DEBUG - Stop ID is 0
2018-02-26 09:25:00,433 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:00,457 - DEBUG - Entry ID is 228
2018-02-26 09:25:00,457 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:25:00,468 - DEBUG - OCA ID is 1
2018-02-26 09:25:00,468 - DEBUG - Connecting to IBController
2018-02-26 09:25:01,483 - DEBUG - Connected to IBController
2018-02-26 09:25:01,483 - DEBUG - Position requested
2018-02-26 09:25:01,485 - DEBUG - Pos Mgmt -12987
2018-02-26 09:25:01,485 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:25:01,485 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:25:01,486 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:25:01,486 - DEBUG - Position is -12987
2018-02-26 09:25:02,484 - DEBUG - Open Orders requested
2018-02-26 09:25:02,486 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CB00>, order=<ib.ext.Order.Order object at 0x000000000204CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1160>>
2018-02-26 09:25:02,487 - DEBUG - Order OrderID 225
2018-02-26 09:25:02,487 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:25:02,488 - DEBUG - Order status PreSubmitted
2018-02-26 09:25:02,488 - DEBUG - Order Identification 225
2018-02-26 09:25:02,488 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:25:02,489 - DEBUG - Profit ID from database is 228
2018-02-26 09:25:02,489 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:25:02,489 - DEBUG - Stop ID database is 0
2018-02-26 09:25:02,489 - DEBUG - Entry ID database is 228
2018-02-26 09:25:02,490 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204CB00>, order=<ib.ext.Order.Order object at 0x000000000204CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1080>>
2018-02-26 09:25:02,491 - DEBUG - Order OrderID 227
2018-02-26 09:25:02,491 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:25:02,491 - DEBUG - Order status PreSubmitted
2018-02-26 09:25:02,492 - DEBUG - Order Identification 227
2018-02-26 09:25:02,492 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:25:02,492 - DEBUG - Profit ID from database is 228
2018-02-26 09:25:02,492 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:25:02,493 - DEBUG - Stop ID database is 0
2018-02-26 09:25:02,493 - DEBUG - Entry ID database is 228
2018-02-26 09:25:04,487 - DEBUG - Connecting to database
2018-02-26 09:25:04,494 - DEBUG - Connected to database
2018-02-26 09:25:04,496 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,496 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:25:04,498 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,498 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:25:04,499 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,500 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:25:04,501 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,502 - DEBUG - Stop quantity 1
2018-02-26 09:25:04,503 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,503 - DEBUG - Direction is Short
2018-02-26 09:25:04,505 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,505 - DEBUG - Count is 0
2018-02-26 09:25:04,506 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:25:04,507 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:25:04,508 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:25:04,508 - DEBUG - Max ID Order is (228,)
2018-02-26 09:25:04,509 - DEBUG - Today is 2018-02-26
2018-02-26 09:25:04,509 - DEBUG - Day of the week 0
2018-02-26 09:25:04,509 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:25:04,509 - DEBUG - In Position is  0
2018-02-26 09:25:04,510 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:25:04,510 - DEBUG - curStopLossFlag is  0
2018-02-26 09:25:04,510 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:25:04,510 - DEBUG - Checking if Entry has been filled
2018-02-26 09:25:04,511 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:25:04,512 - DEBUG - EntryPend is 1
2018-02-26 09:25:04,512 - DEBUG - Try to Cancel Stop
2018-02-26 09:25:04,512 - DEBUG - Stop API ID 0
2018-02-26 09:25:04,513 - DEBUG - Profit API ID 0
2018-02-26 09:25:04,513 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:25:04,513 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:25:04,513 - DEBUG - Pos is 0
2018-02-26 09:25:04,514 - DEBUG - CurCount is 0
2018-02-26 09:25:04,514 - DEBUG - In Pos 0
2018-02-26 09:25:04,514 - DEBUG - Stop ID is 0
2018-02-26 09:25:04,514 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:25:04,516 - DEBUG - EntryPend is 1
2018-02-26 09:25:04,516 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:25:04,516 - DEBUG - Entry Date is 10
2018-02-26 09:25:04,516 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:25:04,517 - DEBUG - Order Profit ID is 228
2018-02-26 09:25:04,517 - DEBUG - Order Entry ID is 228
2018-02-26 09:25:04,517 - DEBUG - API ID is  0
2018-02-26 09:25:04,517 - DEBUG - Current Position is 0
2018-02-26 09:25:04,518 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:25:04,518 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:25:04,518 - DEBUG - Time is 9
2018-02-26 09:25:04,518 - DEBUG - Time is <class 'int'>
2018-02-26 09:25:04,519 - DEBUG - Disconnected from IBController
2018-02-26 09:25:04,519 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:30:00,284 - DEBUG - ****************************************************
2018-02-26 09:30:00,285 - DEBUG - Current Time is 09:30AM
2018-02-26 09:30:00,285 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:30:00,285 - DEBUG - Connecting to database
2018-02-26 09:30:00,587 - DEBUG - Connected to database
2018-02-26 09:30:00,588 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:00,607 - DEBUG - Order Profit is 228
2018-02-26 09:30:00,607 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:00,647 - DEBUG - Stop ID is 0
2018-02-26 09:30:00,648 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:00,674 - DEBUG - Entry ID is 228
2018-02-26 09:30:00,674 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:30:00,697 - DEBUG - OCA ID is 1
2018-02-26 09:30:00,698 - DEBUG - Connecting to IBController
2018-02-26 09:30:01,704 - DEBUG - Connected to IBController
2018-02-26 09:30:01,706 - DEBUG - Position requested
2018-02-26 09:30:01,715 - DEBUG - Pos Mgmt -12987
2018-02-26 09:30:01,715 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:30:01,720 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:30:01,723 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:30:01,724 - DEBUG - Position is -12987
2018-02-26 09:30:02,707 - DEBUG - Open Orders requested
2018-02-26 09:30:02,710 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ACD68>, order=<ib.ext.Order.Order object at 0x00000000020ACCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021421D0>>
2018-02-26 09:30:02,710 - DEBUG - Order OrderID 225
2018-02-26 09:30:02,711 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:30:02,711 - DEBUG - Order status PreSubmitted
2018-02-26 09:30:02,711 - DEBUG - Order Identification 225
2018-02-26 09:30:02,712 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:30:02,712 - DEBUG - Profit ID from database is 228
2018-02-26 09:30:02,712 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:30:02,712 - DEBUG - Stop ID database is 0
2018-02-26 09:30:02,713 - DEBUG - Entry ID database is 228
2018-02-26 09:30:02,714 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ACD68>, order=<ib.ext.Order.Order object at 0x00000000020ACCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142080>>
2018-02-26 09:30:02,714 - DEBUG - Order OrderID 227
2018-02-26 09:30:02,715 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:30:02,715 - DEBUG - Order status PreSubmitted
2018-02-26 09:30:02,715 - DEBUG - Order Identification 227
2018-02-26 09:30:02,715 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:30:02,716 - DEBUG - Profit ID from database is 228
2018-02-26 09:30:02,716 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:30:02,716 - DEBUG - Stop ID database is 0
2018-02-26 09:30:02,716 - DEBUG - Entry ID database is 228
2018-02-26 09:30:02,717 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x00000000020ACD68>, order=<ib.ext.Order.Order object at 0x00000000020ACCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142240>>
2018-02-26 09:30:02,718 - DEBUG - Order OrderID 229
2018-02-26 09:30:02,718 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:30:02,719 - DEBUG - Order status PreSubmitted
2018-02-26 09:30:02,719 - DEBUG - Order Identification 229
2018-02-26 09:30:02,719 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:30:02,719 - DEBUG - Profit ID from database is 228
2018-02-26 09:30:02,720 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:30:02,720 - DEBUG - Stop ID database is 0
2018-02-26 09:30:02,720 - DEBUG - Entry ID database is 228
2018-02-26 09:30:04,710 - DEBUG - Connecting to database
2018-02-26 09:30:04,718 - DEBUG - Connected to database
2018-02-26 09:30:04,720 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,720 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:30:04,721 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,722 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:30:04,723 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,723 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:30:04,725 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,725 - DEBUG - Stop quantity 1
2018-02-26 09:30:04,726 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,727 - DEBUG - Direction is Short
2018-02-26 09:30:04,728 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,728 - DEBUG - Count is 0
2018-02-26 09:30:04,730 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:30:04,730 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:30:04,732 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:30:04,732 - DEBUG - Max ID Order is (229,)
2018-02-26 09:30:04,732 - DEBUG - Today is 2018-02-26
2018-02-26 09:30:04,733 - DEBUG - Day of the week 0
2018-02-26 09:30:04,733 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:30:04,733 - DEBUG - In Position is  0
2018-02-26 09:30:04,734 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:30:04,734 - DEBUG - curStopLossFlag is  0
2018-02-26 09:30:04,734 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:30:04,734 - DEBUG - Checking if Entry has been filled
2018-02-26 09:30:04,735 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:30:04,736 - DEBUG - EntryPend is 1
2018-02-26 09:30:04,736 - DEBUG - Try to Cancel Stop
2018-02-26 09:30:04,737 - DEBUG - Stop API ID 0
2018-02-26 09:30:04,737 - DEBUG - Profit API ID 0
2018-02-26 09:30:04,737 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:30:04,737 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:30:04,738 - DEBUG - Pos is 0
2018-02-26 09:30:04,738 - DEBUG - CurCount is 0
2018-02-26 09:30:04,738 - DEBUG - In Pos 0
2018-02-26 09:30:04,738 - DEBUG - Stop ID is 0
2018-02-26 09:30:04,738 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:30:04,740 - DEBUG - EntryPend is 1
2018-02-26 09:30:04,740 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:30:04,740 - DEBUG - Entry Date is 10
2018-02-26 09:30:04,741 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:30:04,741 - DEBUG - Order Profit ID is 228
2018-02-26 09:30:04,741 - DEBUG - Order Entry ID is 228
2018-02-26 09:30:04,741 - DEBUG - API ID is  0
2018-02-26 09:30:04,741 - DEBUG - Current Position is 0
2018-02-26 09:30:04,742 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:30:04,742 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:30:04,742 - DEBUG - Time is 9
2018-02-26 09:30:04,742 - DEBUG - Time is <class 'int'>
2018-02-26 09:30:04,743 - DEBUG - Disconnected from IBController
2018-02-26 09:30:04,743 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:35:00,267 - DEBUG - ****************************************************
2018-02-26 09:35:00,268 - DEBUG - Current Time is 09:35AM
2018-02-26 09:35:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:35:00,268 - DEBUG - Connecting to database
2018-02-26 09:35:00,332 - DEBUG - Connected to database
2018-02-26 09:35:00,332 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:00,350 - DEBUG - Order Profit is 228
2018-02-26 09:35:00,351 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:00,369 - DEBUG - Stop ID is 0
2018-02-26 09:35:00,369 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:00,399 - DEBUG - Entry ID is 228
2018-02-26 09:35:00,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:35:00,402 - DEBUG - OCA ID is 1
2018-02-26 09:35:00,402 - DEBUG - Connecting to IBController
2018-02-26 09:35:01,411 - DEBUG - Connected to IBController
2018-02-26 09:35:01,411 - DEBUG - Position requested
2018-02-26 09:35:01,414 - DEBUG - Pos Mgmt -12987
2018-02-26 09:35:01,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CF28>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:35:01,415 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:35:01,415 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:35:01,415 - DEBUG - Position is -12987
2018-02-26 09:35:02,414 - DEBUG - Open Orders requested
2018-02-26 09:35:02,416 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021012E8>>
2018-02-26 09:35:02,417 - DEBUG - Order OrderID 230
2018-02-26 09:35:02,417 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:35:02,418 - DEBUG - Order status PreSubmitted
2018-02-26 09:35:02,418 - DEBUG - Order Identification 230
2018-02-26 09:35:02,418 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:35:02,419 - DEBUG - Profit ID from database is 228
2018-02-26 09:35:02,419 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:35:02,419 - DEBUG - Stop ID database is 0
2018-02-26 09:35:02,419 - DEBUG - Entry ID database is 228
2018-02-26 09:35:02,420 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-26 09:35:02,421 - DEBUG - Order OrderID 225
2018-02-26 09:35:02,421 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:35:02,421 - DEBUG - Order status PreSubmitted
2018-02-26 09:35:02,421 - DEBUG - Order Identification 225
2018-02-26 09:35:02,422 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:35:02,422 - DEBUG - Profit ID from database is 228
2018-02-26 09:35:02,422 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:35:02,422 - DEBUG - Stop ID database is 0
2018-02-26 09:35:02,422 - DEBUG - Entry ID database is 228
2018-02-26 09:35:02,424 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101358>>
2018-02-26 09:35:02,424 - DEBUG - Order OrderID 227
2018-02-26 09:35:02,424 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:35:02,425 - DEBUG - Order status PreSubmitted
2018-02-26 09:35:02,425 - DEBUG - Order Identification 227
2018-02-26 09:35:02,425 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:35:02,425 - DEBUG - Profit ID from database is 228
2018-02-26 09:35:02,425 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:35:02,426 - DEBUG - Stop ID database is 0
2018-02-26 09:35:02,426 - DEBUG - Entry ID database is 228
2018-02-26 09:35:02,427 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101438>>
2018-02-26 09:35:02,427 - DEBUG - Order OrderID 229
2018-02-26 09:35:02,428 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:35:02,428 - DEBUG - Order status PreSubmitted
2018-02-26 09:35:02,428 - DEBUG - Order Identification 229
2018-02-26 09:35:02,429 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:35:02,429 - DEBUG - Profit ID from database is 228
2018-02-26 09:35:02,429 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:35:02,429 - DEBUG - Stop ID database is 0
2018-02-26 09:35:02,430 - DEBUG - Entry ID database is 228
2018-02-26 09:35:04,417 - DEBUG - Connecting to database
2018-02-26 09:35:04,425 - DEBUG - Connected to database
2018-02-26 09:35:04,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,427 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:35:04,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,429 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:35:04,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,431 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:35:04,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,433 - DEBUG - Stop quantity 1
2018-02-26 09:35:04,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,435 - DEBUG - Direction is Short
2018-02-26 09:35:04,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,437 - DEBUG - Count is 0
2018-02-26 09:35:04,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:35:04,438 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:35:04,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:35:04,440 - DEBUG - Max ID Order is (230,)
2018-02-26 09:35:04,441 - DEBUG - Today is 2018-02-26
2018-02-26 09:35:04,441 - DEBUG - Day of the week 0
2018-02-26 09:35:04,441 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:35:04,442 - DEBUG - In Position is  0
2018-02-26 09:35:04,442 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:35:04,442 - DEBUG - curStopLossFlag is  0
2018-02-26 09:35:04,442 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:35:04,442 - DEBUG - Checking if Entry has been filled
2018-02-26 09:35:04,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:35:04,444 - DEBUG - EntryPend is 1
2018-02-26 09:35:04,444 - DEBUG - Try to Cancel Stop
2018-02-26 09:35:04,445 - DEBUG - Stop API ID 0
2018-02-26 09:35:04,445 - DEBUG - Profit API ID 0
2018-02-26 09:35:04,445 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:35:04,445 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:35:04,445 - DEBUG - Pos is 0
2018-02-26 09:35:04,446 - DEBUG - CurCount is 0
2018-02-26 09:35:04,446 - DEBUG - In Pos 0
2018-02-26 09:35:04,446 - DEBUG - Stop ID is 0
2018-02-26 09:35:04,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:35:04,448 - DEBUG - EntryPend is 1
2018-02-26 09:35:04,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:35:04,448 - DEBUG - Entry Date is 10
2018-02-26 09:35:04,449 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:35:04,449 - DEBUG - Order Profit ID is 228
2018-02-26 09:35:04,449 - DEBUG - Order Entry ID is 228
2018-02-26 09:35:04,449 - DEBUG - API ID is  0
2018-02-26 09:35:04,449 - DEBUG - Current Position is 0
2018-02-26 09:35:04,450 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:35:04,450 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:35:04,450 - DEBUG - Time is 9
2018-02-26 09:35:04,450 - DEBUG - Time is <class 'int'>
2018-02-26 09:35:04,452 - DEBUG - Disconnected from IBController
2018-02-26 09:35:04,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:40:00,266 - DEBUG - ****************************************************
2018-02-26 09:40:00,266 - DEBUG - Current Time is 09:40AM
2018-02-26 09:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:40:00,267 - DEBUG - Connecting to database
2018-02-26 09:40:00,351 - DEBUG - Connected to database
2018-02-26 09:40:00,351 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:00,356 - DEBUG - Order Profit is 228
2018-02-26 09:40:00,356 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:00,373 - DEBUG - Stop ID is 0
2018-02-26 09:40:00,373 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:00,403 - DEBUG - Entry ID is 228
2018-02-26 09:40:00,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:40:00,428 - DEBUG - OCA ID is 1
2018-02-26 09:40:00,428 - DEBUG - Connecting to IBController
2018-02-26 09:40:01,438 - DEBUG - Connected to IBController
2018-02-26 09:40:01,438 - DEBUG - Position requested
2018-02-26 09:40:01,440 - DEBUG - Pos Mgmt -12987
2018-02-26 09:40:01,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:40:01,440 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:40:01,441 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:40:01,441 - DEBUG - Position is -12987
2018-02-26 09:40:02,439 - DEBUG - Open Orders requested
2018-02-26 09:40:02,462 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000204DC18>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E01D0>>
2018-02-26 09:40:02,463 - DEBUG - Order OrderID 230
2018-02-26 09:40:02,463 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:40:02,463 - DEBUG - Order status PreSubmitted
2018-02-26 09:40:02,464 - DEBUG - Order Identification 230
2018-02-26 09:40:02,464 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:40:02,464 - DEBUG - Profit ID from database is 228
2018-02-26 09:40:02,464 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:40:02,465 - DEBUG - Stop ID database is 0
2018-02-26 09:40:02,465 - DEBUG - Entry ID database is 228
2018-02-26 09:40:02,466 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DC18>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0240>>
2018-02-26 09:40:02,466 - DEBUG - Order OrderID 225
2018-02-26 09:40:02,467 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:40:02,467 - DEBUG - Order status PreSubmitted
2018-02-26 09:40:02,467 - DEBUG - Order Identification 225
2018-02-26 09:40:02,468 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:40:02,468 - DEBUG - Profit ID from database is 228
2018-02-26 09:40:02,468 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:40:02,468 - DEBUG - Stop ID database is 0
2018-02-26 09:40:02,468 - DEBUG - Entry ID database is 228
2018-02-26 09:40:02,470 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204DC18>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0320>>
2018-02-26 09:40:02,470 - DEBUG - Order OrderID 227
2018-02-26 09:40:02,470 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:40:02,471 - DEBUG - Order status PreSubmitted
2018-02-26 09:40:02,471 - DEBUG - Order Identification 227
2018-02-26 09:40:02,471 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:40:02,472 - DEBUG - Profit ID from database is 228
2018-02-26 09:40:02,472 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:40:02,472 - DEBUG - Stop ID database is 0
2018-02-26 09:40:02,472 - DEBUG - Entry ID database is 228
2018-02-26 09:40:02,474 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000204DC18>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0390>>
2018-02-26 09:40:02,474 - DEBUG - Order OrderID 229
2018-02-26 09:40:02,474 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:40:02,475 - DEBUG - Order status PreSubmitted
2018-02-26 09:40:02,475 - DEBUG - Order Identification 229
2018-02-26 09:40:02,475 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:40:02,475 - DEBUG - Profit ID from database is 228
2018-02-26 09:40:02,476 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:40:02,476 - DEBUG - Stop ID database is 0
2018-02-26 09:40:02,476 - DEBUG - Entry ID database is 228
2018-02-26 09:40:04,449 - DEBUG - Connecting to database
2018-02-26 09:40:04,456 - DEBUG - Connected to database
2018-02-26 09:40:04,458 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,458 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:40:04,460 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,460 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:40:04,461 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,462 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:40:04,463 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,463 - DEBUG - Stop quantity 1
2018-02-26 09:40:04,465 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,465 - DEBUG - Direction is Short
2018-02-26 09:40:04,466 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,467 - DEBUG - Count is 0
2018-02-26 09:40:04,468 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:40:04,468 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:40:04,470 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:40:04,470 - DEBUG - Max ID Order is (230,)
2018-02-26 09:40:04,471 - DEBUG - Today is 2018-02-26
2018-02-26 09:40:04,471 - DEBUG - Day of the week 0
2018-02-26 09:40:04,471 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:40:04,471 - DEBUG - In Position is  0
2018-02-26 09:40:04,472 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:40:04,472 - DEBUG - curStopLossFlag is  0
2018-02-26 09:40:04,472 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:40:04,472 - DEBUG - Checking if Entry has been filled
2018-02-26 09:40:04,472 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:40:04,474 - DEBUG - EntryPend is 1
2018-02-26 09:40:04,474 - DEBUG - Try to Cancel Stop
2018-02-26 09:40:04,474 - DEBUG - Stop API ID 0
2018-02-26 09:40:04,475 - DEBUG - Profit API ID 0
2018-02-26 09:40:04,475 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:40:04,475 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:40:04,475 - DEBUG - Pos is 0
2018-02-26 09:40:04,475 - DEBUG - CurCount is 0
2018-02-26 09:40:04,476 - DEBUG - In Pos 0
2018-02-26 09:40:04,476 - DEBUG - Stop ID is 0
2018-02-26 09:40:04,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:40:04,478 - DEBUG - EntryPend is 1
2018-02-26 09:40:04,478 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:40:04,478 - DEBUG - Entry Date is 10
2018-02-26 09:40:04,478 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:40:04,478 - DEBUG - Order Profit ID is 228
2018-02-26 09:40:04,479 - DEBUG - Order Entry ID is 228
2018-02-26 09:40:04,479 - DEBUG - API ID is  0
2018-02-26 09:40:04,479 - DEBUG - Current Position is 0
2018-02-26 09:40:04,479 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:40:04,480 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:40:04,480 - DEBUG - Time is 9
2018-02-26 09:40:04,480 - DEBUG - Time is <class 'int'>
2018-02-26 09:40:04,480 - DEBUG - Disconnected from IBController
2018-02-26 09:40:04,481 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:45:00,293 - DEBUG - ****************************************************
2018-02-26 09:45:00,293 - DEBUG - Current Time is 09:45AM
2018-02-26 09:45:00,294 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:45:00,294 - DEBUG - Connecting to database
2018-02-26 09:45:00,444 - DEBUG - Connected to database
2018-02-26 09:45:00,444 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:00,454 - DEBUG - Order Profit is 228
2018-02-26 09:45:00,455 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:00,479 - DEBUG - Stop ID is 0
2018-02-26 09:45:00,480 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:00,507 - DEBUG - Entry ID is 228
2018-02-26 09:45:00,507 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:45:00,527 - DEBUG - OCA ID is 1
2018-02-26 09:45:00,528 - DEBUG - Connecting to IBController
2018-02-26 09:45:01,538 - DEBUG - Connected to IBController
2018-02-26 09:45:01,538 - DEBUG - Position requested
2018-02-26 09:45:01,541 - DEBUG - Pos Mgmt -12987
2018-02-26 09:45:01,541 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:45:01,542 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:45:01,542 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:45:01,542 - DEBUG - Position is -12987
2018-02-26 09:45:02,540 - DEBUG - Open Orders requested
2018-02-26 09:45:02,542 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121320>>
2018-02-26 09:45:02,543 - DEBUG - Order OrderID 230
2018-02-26 09:45:02,543 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:45:02,544 - DEBUG - Order status PreSubmitted
2018-02-26 09:45:02,544 - DEBUG - Order Identification 230
2018-02-26 09:45:02,544 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:45:02,545 - DEBUG - Profit ID from database is 228
2018-02-26 09:45:02,545 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:45:02,545 - DEBUG - Stop ID database is 0
2018-02-26 09:45:02,545 - DEBUG - Entry ID database is 228
2018-02-26 09:45:02,546 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121048>>
2018-02-26 09:45:02,547 - DEBUG - Order OrderID 225
2018-02-26 09:45:02,547 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:45:02,547 - DEBUG - Order status PreSubmitted
2018-02-26 09:45:02,547 - DEBUG - Order Identification 225
2018-02-26 09:45:02,548 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:45:02,548 - DEBUG - Profit ID from database is 228
2018-02-26 09:45:02,548 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:45:02,549 - DEBUG - Stop ID database is 0
2018-02-26 09:45:02,549 - DEBUG - Entry ID database is 228
2018-02-26 09:45:02,550 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121390>>
2018-02-26 09:45:02,550 - DEBUG - Order OrderID 227
2018-02-26 09:45:02,551 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:45:02,551 - DEBUG - Order status PreSubmitted
2018-02-26 09:45:02,551 - DEBUG - Order Identification 227
2018-02-26 09:45:02,551 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:45:02,552 - DEBUG - Profit ID from database is 228
2018-02-26 09:45:02,552 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:45:02,552 - DEBUG - Stop ID database is 0
2018-02-26 09:45:02,552 - DEBUG - Entry ID database is 228
2018-02-26 09:45:02,553 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121208>>
2018-02-26 09:45:02,553 - DEBUG - Order OrderID 229
2018-02-26 09:45:02,554 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:45:02,554 - DEBUG - Order status PreSubmitted
2018-02-26 09:45:02,555 - DEBUG - Order Identification 229
2018-02-26 09:45:02,555 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:45:02,555 - DEBUG - Profit ID from database is 228
2018-02-26 09:45:02,555 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:45:02,555 - DEBUG - Stop ID database is 0
2018-02-26 09:45:02,556 - DEBUG - Entry ID database is 228
2018-02-26 09:45:04,543 - DEBUG - Connecting to database
2018-02-26 09:45:04,551 - DEBUG - Connected to database
2018-02-26 09:45:04,552 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,553 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:45:04,554 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,555 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:45:04,556 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,556 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:45:04,558 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,558 - DEBUG - Stop quantity 1
2018-02-26 09:45:04,559 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,560 - DEBUG - Direction is Short
2018-02-26 09:45:04,561 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,561 - DEBUG - Count is 0
2018-02-26 09:45:04,563 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:45:04,563 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:45:04,565 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:45:04,565 - DEBUG - Max ID Order is (230,)
2018-02-26 09:45:04,565 - DEBUG - Today is 2018-02-26
2018-02-26 09:45:04,566 - DEBUG - Day of the week 0
2018-02-26 09:45:04,566 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:45:04,566 - DEBUG - In Position is  0
2018-02-26 09:45:04,566 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:45:04,567 - DEBUG - curStopLossFlag is  0
2018-02-26 09:45:04,567 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:45:04,567 - DEBUG - Checking if Entry has been filled
2018-02-26 09:45:04,567 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:45:04,569 - DEBUG - EntryPend is 1
2018-02-26 09:45:04,569 - DEBUG - Try to Cancel Stop
2018-02-26 09:45:04,570 - DEBUG - Stop API ID 0
2018-02-26 09:45:04,570 - DEBUG - Profit API ID 0
2018-02-26 09:45:04,570 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:45:04,570 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:45:04,570 - DEBUG - Pos is 0
2018-02-26 09:45:04,571 - DEBUG - CurCount is 0
2018-02-26 09:45:04,571 - DEBUG - In Pos 0
2018-02-26 09:45:04,571 - DEBUG - Stop ID is 0
2018-02-26 09:45:04,571 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:45:04,573 - DEBUG - EntryPend is 1
2018-02-26 09:45:04,573 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:45:04,573 - DEBUG - Entry Date is 10
2018-02-26 09:45:04,573 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:45:04,574 - DEBUG - Order Profit ID is 228
2018-02-26 09:45:04,574 - DEBUG - Order Entry ID is 228
2018-02-26 09:45:04,574 - DEBUG - API ID is  0
2018-02-26 09:45:04,574 - DEBUG - Current Position is 0
2018-02-26 09:45:04,575 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:45:04,575 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:45:04,575 - DEBUG - Time is 9
2018-02-26 09:45:04,575 - DEBUG - Time is <class 'int'>
2018-02-26 09:45:04,576 - DEBUG - Disconnected from IBController
2018-02-26 09:45:04,576 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:50:00,266 - DEBUG - ****************************************************
2018-02-26 09:50:00,266 - DEBUG - Current Time is 09:50AM
2018-02-26 09:50:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:50:00,267 - DEBUG - Connecting to database
2018-02-26 09:50:00,450 - DEBUG - Connected to database
2018-02-26 09:50:00,451 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:00,470 - DEBUG - Order Profit is 228
2018-02-26 09:50:00,470 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:00,519 - DEBUG - Stop ID is 0
2018-02-26 09:50:00,520 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:00,549 - DEBUG - Entry ID is 228
2018-02-26 09:50:00,550 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:50:00,569 - DEBUG - OCA ID is 1
2018-02-26 09:50:00,570 - DEBUG - Connecting to IBController
2018-02-26 09:50:01,580 - DEBUG - Connected to IBController
2018-02-26 09:50:01,580 - DEBUG - Position requested
2018-02-26 09:50:01,582 - DEBUG - Pos Mgmt -12987
2018-02-26 09:50:01,582 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:50:01,582 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:50:01,583 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:50:01,583 - DEBUG - Position is -12987
2018-02-26 09:50:02,582 - DEBUG - Open Orders requested
2018-02-26 09:50:02,584 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, order=<ib.ext.Order.Order object at 0x000000000209DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021301D0>>
2018-02-26 09:50:02,585 - DEBUG - Order OrderID 230
2018-02-26 09:50:02,586 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:50:02,586 - DEBUG - Order status PreSubmitted
2018-02-26 09:50:02,586 - DEBUG - Order Identification 230
2018-02-26 09:50:02,586 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:50:02,587 - DEBUG - Profit ID from database is 228
2018-02-26 09:50:02,587 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:50:02,587 - DEBUG - Stop ID database is 0
2018-02-26 09:50:02,587 - DEBUG - Entry ID database is 228
2018-02-26 09:50:02,588 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, order=<ib.ext.Order.Order object at 0x000000000209DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130240>>
2018-02-26 09:50:02,589 - DEBUG - Order OrderID 225
2018-02-26 09:50:02,589 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:50:02,590 - DEBUG - Order status PreSubmitted
2018-02-26 09:50:02,590 - DEBUG - Order Identification 225
2018-02-26 09:50:02,590 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:50:02,590 - DEBUG - Profit ID from database is 228
2018-02-26 09:50:02,591 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:50:02,591 - DEBUG - Stop ID database is 0
2018-02-26 09:50:02,591 - DEBUG - Entry ID database is 228
2018-02-26 09:50:02,592 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, order=<ib.ext.Order.Order object at 0x000000000209DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130320>>
2018-02-26 09:50:02,593 - DEBUG - Order OrderID 227
2018-02-26 09:50:02,593 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:50:02,593 - DEBUG - Order status PreSubmitted
2018-02-26 09:50:02,594 - DEBUG - Order Identification 227
2018-02-26 09:50:02,594 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:50:02,594 - DEBUG - Profit ID from database is 228
2018-02-26 09:50:02,594 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:50:02,595 - DEBUG - Stop ID database is 0
2018-02-26 09:50:02,596 - DEBUG - Entry ID database is 228
2018-02-26 09:50:02,597 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, order=<ib.ext.Order.Order object at 0x000000000209DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130390>>
2018-02-26 09:50:02,597 - DEBUG - Order OrderID 229
2018-02-26 09:50:02,598 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:50:02,598 - DEBUG - Order status PreSubmitted
2018-02-26 09:50:02,598 - DEBUG - Order Identification 229
2018-02-26 09:50:02,598 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:50:02,599 - DEBUG - Profit ID from database is 228
2018-02-26 09:50:02,599 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:50:02,599 - DEBUG - Stop ID database is 0
2018-02-26 09:50:02,599 - DEBUG - Entry ID database is 228
2018-02-26 09:50:04,583 - DEBUG - Connecting to database
2018-02-26 09:50:04,590 - DEBUG - Connected to database
2018-02-26 09:50:04,592 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,592 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:50:04,593 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,594 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:50:04,595 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,596 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:50:04,597 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,597 - DEBUG - Stop quantity 1
2018-02-26 09:50:04,599 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,599 - DEBUG - Direction is Short
2018-02-26 09:50:04,600 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,601 - DEBUG - Count is 0
2018-02-26 09:50:04,602 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:50:04,603 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:50:04,604 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:50:04,604 - DEBUG - Max ID Order is (230,)
2018-02-26 09:50:04,605 - DEBUG - Today is 2018-02-26
2018-02-26 09:50:04,605 - DEBUG - Day of the week 0
2018-02-26 09:50:04,605 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:50:04,606 - DEBUG - In Position is  0
2018-02-26 09:50:04,606 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:50:04,606 - DEBUG - curStopLossFlag is  0
2018-02-26 09:50:04,606 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:50:04,606 - DEBUG - Checking if Entry has been filled
2018-02-26 09:50:04,607 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:50:04,608 - DEBUG - EntryPend is 1
2018-02-26 09:50:04,608 - DEBUG - Try to Cancel Stop
2018-02-26 09:50:04,609 - DEBUG - Stop API ID 0
2018-02-26 09:50:04,609 - DEBUG - Profit API ID 0
2018-02-26 09:50:04,609 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:50:04,609 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:50:04,609 - DEBUG - Pos is 0
2018-02-26 09:50:04,610 - DEBUG - CurCount is 0
2018-02-26 09:50:04,610 - DEBUG - In Pos 0
2018-02-26 09:50:04,610 - DEBUG - Stop ID is 0
2018-02-26 09:50:04,610 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:50:04,612 - DEBUG - EntryPend is 1
2018-02-26 09:50:04,612 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:50:04,612 - DEBUG - Entry Date is 10
2018-02-26 09:50:04,613 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:50:04,613 - DEBUG - Order Profit ID is 228
2018-02-26 09:50:04,613 - DEBUG - Order Entry ID is 228
2018-02-26 09:50:04,613 - DEBUG - API ID is  0
2018-02-26 09:50:04,613 - DEBUG - Current Position is 0
2018-02-26 09:50:04,614 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:50:04,614 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:50:04,614 - DEBUG - Time is 9
2018-02-26 09:50:04,614 - DEBUG - Time is <class 'int'>
2018-02-26 09:50:04,615 - DEBUG - Disconnected from IBController
2018-02-26 09:50:04,615 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:55:00,267 - DEBUG - ****************************************************
2018-02-26 09:55:00,268 - DEBUG - Current Time is 09:55AM
2018-02-26 09:55:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 09:55:00,268 - DEBUG - Connecting to database
2018-02-26 09:55:00,349 - DEBUG - Connected to database
2018-02-26 09:55:00,350 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:00,351 - DEBUG - Order Profit is 228
2018-02-26 09:55:00,352 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:00,357 - DEBUG - Stop ID is 0
2018-02-26 09:55:00,357 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:00,361 - DEBUG - Entry ID is 228
2018-02-26 09:55:00,361 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:55:00,365 - DEBUG - OCA ID is 1
2018-02-26 09:55:00,366 - DEBUG - Connecting to IBController
2018-02-26 09:55:01,376 - DEBUG - Connected to IBController
2018-02-26 09:55:01,376 - DEBUG - Position requested
2018-02-26 09:55:01,378 - DEBUG - Pos Mgmt -12987
2018-02-26 09:55:01,378 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DF28>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:55:01,378 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:55:01,379 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:55:01,379 - DEBUG - Position is -12987
2018-02-26 09:55:02,378 - DEBUG - Open Orders requested
2018-02-26 09:55:02,381 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000206DD68>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100240>>
2018-02-26 09:55:02,382 - DEBUG - Order OrderID 230
2018-02-26 09:55:02,382 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:55:02,383 - DEBUG - Order status PreSubmitted
2018-02-26 09:55:02,383 - DEBUG - Order Identification 230
2018-02-26 09:55:02,383 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:55:02,383 - DEBUG - Profit ID from database is 228
2018-02-26 09:55:02,384 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:55:02,384 - DEBUG - Stop ID database is 0
2018-02-26 09:55:02,384 - DEBUG - Entry ID database is 228
2018-02-26 09:55:02,385 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DD68>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100048>>
2018-02-26 09:55:02,386 - DEBUG - Order OrderID 225
2018-02-26 09:55:02,386 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:55:02,386 - DEBUG - Order status PreSubmitted
2018-02-26 09:55:02,386 - DEBUG - Order Identification 225
2018-02-26 09:55:02,387 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:55:02,387 - DEBUG - Profit ID from database is 228
2018-02-26 09:55:02,387 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:55:02,387 - DEBUG - Stop ID database is 0
2018-02-26 09:55:02,387 - DEBUG - Entry ID database is 228
2018-02-26 09:55:02,389 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DD68>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021002B0>>
2018-02-26 09:55:02,389 - DEBUG - Order OrderID 227
2018-02-26 09:55:02,389 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:55:02,390 - DEBUG - Order status PreSubmitted
2018-02-26 09:55:02,390 - DEBUG - Order Identification 227
2018-02-26 09:55:02,390 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:55:02,390 - DEBUG - Profit ID from database is 228
2018-02-26 09:55:02,390 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:55:02,391 - DEBUG - Stop ID database is 0
2018-02-26 09:55:02,391 - DEBUG - Entry ID database is 228
2018-02-26 09:55:02,392 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206DD68>, order=<ib.ext.Order.Order object at 0x000000000206DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100390>>
2018-02-26 09:55:02,392 - DEBUG - Order OrderID 229
2018-02-26 09:55:02,393 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:55:02,393 - DEBUG - Order status PreSubmitted
2018-02-26 09:55:02,393 - DEBUG - Order Identification 229
2018-02-26 09:55:02,394 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:55:02,394 - DEBUG - Profit ID from database is 228
2018-02-26 09:55:02,394 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:55:02,394 - DEBUG - Stop ID database is 0
2018-02-26 09:55:02,395 - DEBUG - Entry ID database is 228
2018-02-26 09:55:04,382 - DEBUG - Connecting to database
2018-02-26 09:55:04,390 - DEBUG - Connected to database
2018-02-26 09:55:04,391 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,392 - DEBUG - Stop loss value is 2731.25
2018-02-26 09:55:04,393 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,393 - DEBUG - Stop loss value is 2671.5
2018-02-26 09:55:04,395 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,395 - DEBUG - EntryPrice value is 2681.0
2018-02-26 09:55:04,396 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,397 - DEBUG - Stop quantity 1
2018-02-26 09:55:04,398 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,398 - DEBUG - Direction is Short
2018-02-26 09:55:04,400 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,400 - DEBUG - Count is 0
2018-02-26 09:55:04,401 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 09:55:04,402 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:55:04,403 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:55:04,404 - DEBUG - Max ID Order is (230,)
2018-02-26 09:55:04,404 - DEBUG - Today is 2018-02-26
2018-02-26 09:55:04,404 - DEBUG - Day of the week 0
2018-02-26 09:55:04,405 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:55:04,405 - DEBUG - In Position is  0
2018-02-26 09:55:04,405 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:55:04,405 - DEBUG - curStopLossFlag is  0
2018-02-26 09:55:04,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:55:04,406 - DEBUG - Checking if Entry has been filled
2018-02-26 09:55:04,406 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:55:04,407 - DEBUG - EntryPend is 1
2018-02-26 09:55:04,408 - DEBUG - Try to Cancel Stop
2018-02-26 09:55:04,408 - DEBUG - Stop API ID 0
2018-02-26 09:55:04,408 - DEBUG - Profit API ID 0
2018-02-26 09:55:04,408 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:55:04,409 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:55:04,409 - DEBUG - Pos is 0
2018-02-26 09:55:04,409 - DEBUG - CurCount is 0
2018-02-26 09:55:04,409 - DEBUG - In Pos 0
2018-02-26 09:55:04,409 - DEBUG - Stop ID is 0
2018-02-26 09:55:04,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 09:55:04,411 - DEBUG - EntryPend is 1
2018-02-26 09:55:04,411 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:55:04,412 - DEBUG - Entry Date is 10
2018-02-26 09:55:04,412 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:55:04,412 - DEBUG - Order Profit ID is 228
2018-02-26 09:55:04,412 - DEBUG - Order Entry ID is 228
2018-02-26 09:55:04,413 - DEBUG - API ID is  0
2018-02-26 09:55:04,413 - DEBUG - Current Position is 0
2018-02-26 09:55:04,413 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:55:04,413 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:55:04,414 - DEBUG - Time is 9
2018-02-26 09:55:04,414 - DEBUG - Time is <class 'int'>
2018-02-26 09:55:04,414 - DEBUG - Disconnected from IBController
2018-02-26 09:55:04,414 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:00:00,284 - DEBUG - ****************************************************
2018-02-26 10:00:00,285 - DEBUG - Current Time is 10:00AM
2018-02-26 10:00:00,285 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:00:00,285 - DEBUG - Connecting to database
2018-02-26 10:00:00,362 - DEBUG - Connected to database
2018-02-26 10:00:00,362 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:00,377 - DEBUG - Order Profit is 228
2018-02-26 10:00:00,377 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:00,398 - DEBUG - Stop ID is 0
2018-02-26 10:00:00,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:00,412 - DEBUG - Entry ID is 228
2018-02-26 10:00:00,412 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:00:00,414 - DEBUG - OCA ID is 1
2018-02-26 10:00:00,415 - DEBUG - Connecting to IBController
2018-02-26 10:00:01,421 - DEBUG - Connected to IBController
2018-02-26 10:00:01,421 - DEBUG - Position requested
2018-02-26 10:00:01,423 - DEBUG - Pos Mgmt -12987
2018-02-26 10:00:01,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:00:01,424 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:00:01,424 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:00:01,424 - DEBUG - Position is -12987
2018-02-26 10:00:02,422 - DEBUG - Open Orders requested
2018-02-26 10:00:02,425 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021201D0>>
2018-02-26 10:00:02,425 - DEBUG - Order OrderID 230
2018-02-26 10:00:02,426 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:00:02,426 - DEBUG - Order status PreSubmitted
2018-02-26 10:00:02,426 - DEBUG - Order Identification 230
2018-02-26 10:00:02,427 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:00:02,427 - DEBUG - Profit ID from database is 228
2018-02-26 10:00:02,427 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:00:02,427 - DEBUG - Stop ID database is 0
2018-02-26 10:00:02,427 - DEBUG - Entry ID database is 228
2018-02-26 10:00:02,429 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120240>>
2018-02-26 10:00:02,429 - DEBUG - Order OrderID 225
2018-02-26 10:00:02,429 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:00:02,430 - DEBUG - Order status PreSubmitted
2018-02-26 10:00:02,430 - DEBUG - Order Identification 225
2018-02-26 10:00:02,430 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:00:02,430 - DEBUG - Profit ID from database is 228
2018-02-26 10:00:02,431 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:00:02,431 - DEBUG - Stop ID database is 0
2018-02-26 10:00:02,431 - DEBUG - Entry ID database is 228
2018-02-26 10:00:02,432 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120320>>
2018-02-26 10:00:02,433 - DEBUG - Order OrderID 227
2018-02-26 10:00:02,434 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:00:02,434 - DEBUG - Order status PreSubmitted
2018-02-26 10:00:02,434 - DEBUG - Order Identification 227
2018-02-26 10:00:02,434 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:00:02,435 - DEBUG - Profit ID from database is 228
2018-02-26 10:00:02,435 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:00:02,435 - DEBUG - Stop ID database is 0
2018-02-26 10:00:02,435 - DEBUG - Entry ID database is 228
2018-02-26 10:00:02,437 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120390>>
2018-02-26 10:00:02,437 - DEBUG - Order OrderID 229
2018-02-26 10:00:02,437 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:00:02,438 - DEBUG - Order status PreSubmitted
2018-02-26 10:00:02,438 - DEBUG - Order Identification 229
2018-02-26 10:00:02,439 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:00:02,439 - DEBUG - Profit ID from database is 228
2018-02-26 10:00:02,439 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:00:02,439 - DEBUG - Stop ID database is 0
2018-02-26 10:00:02,439 - DEBUG - Entry ID database is 228
2018-02-26 10:00:04,424 - DEBUG - Connecting to database
2018-02-26 10:00:04,431 - DEBUG - Connected to database
2018-02-26 10:00:04,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,433 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:00:04,435 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,435 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:00:04,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,437 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:00:04,438 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,439 - DEBUG - Stop quantity 1
2018-02-26 10:00:04,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,440 - DEBUG - Direction is Short
2018-02-26 10:00:04,441 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,442 - DEBUG - Count is 0
2018-02-26 10:00:04,443 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:00:04,443 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:00:04,445 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:00:04,445 - DEBUG - Max ID Order is (230,)
2018-02-26 10:00:04,446 - DEBUG - Today is 2018-02-26
2018-02-26 10:00:04,446 - DEBUG - Day of the week 0
2018-02-26 10:00:04,446 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:00:04,446 - DEBUG - In Position is  0
2018-02-26 10:00:04,447 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:00:04,447 - DEBUG - curStopLossFlag is  0
2018-02-26 10:00:04,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:00:04,447 - DEBUG - Checking if Entry has been filled
2018-02-26 10:00:04,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:00:04,449 - DEBUG - EntryPend is 1
2018-02-26 10:00:04,449 - DEBUG - Try to Cancel Stop
2018-02-26 10:00:04,449 - DEBUG - Stop API ID 0
2018-02-26 10:00:04,450 - DEBUG - Profit API ID 0
2018-02-26 10:00:04,450 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:00:04,450 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:00:04,450 - DEBUG - Pos is 0
2018-02-26 10:00:04,451 - DEBUG - CurCount is 0
2018-02-26 10:00:04,451 - DEBUG - In Pos 0
2018-02-26 10:00:04,451 - DEBUG - Stop ID is 0
2018-02-26 10:00:04,451 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:00:04,453 - DEBUG - EntryPend is 1
2018-02-26 10:00:04,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:00:04,453 - DEBUG - Entry Date is 10
2018-02-26 10:00:04,453 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:00:04,453 - DEBUG - Order Profit ID is 228
2018-02-26 10:00:04,454 - DEBUG - Order Entry ID is 228
2018-02-26 10:00:04,454 - DEBUG - API ID is  0
2018-02-26 10:00:04,454 - DEBUG - Current Position is 0
2018-02-26 10:00:04,454 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:00:04,455 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:00:04,455 - DEBUG - Time is 10
2018-02-26 10:00:04,455 - DEBUG - Time is <class 'int'>
2018-02-26 10:00:04,456 - DEBUG - Disconnected from IBController
2018-02-26 10:00:04,456 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:05:00,264 - DEBUG - ****************************************************
2018-02-26 10:05:00,264 - DEBUG - Current Time is 10:05AM
2018-02-26 10:05:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:05:00,265 - DEBUG - Connecting to database
2018-02-26 10:05:00,381 - DEBUG - Connected to database
2018-02-26 10:05:00,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:00,416 - DEBUG - Order Profit is 228
2018-02-26 10:05:00,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:00,418 - DEBUG - Stop ID is 0
2018-02-26 10:05:00,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:00,443 - DEBUG - Entry ID is 228
2018-02-26 10:05:00,444 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:05:00,446 - DEBUG - OCA ID is 1
2018-02-26 10:05:00,446 - DEBUG - Connecting to IBController
2018-02-26 10:05:01,461 - DEBUG - Connected to IBController
2018-02-26 10:05:01,461 - DEBUG - Position requested
2018-02-26 10:05:01,463 - DEBUG - Pos Mgmt -12987
2018-02-26 10:05:01,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DF28>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:05:01,463 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:05:01,464 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:05:01,464 - DEBUG - Position is -12987
2018-02-26 10:05:02,463 - DEBUG - Open Orders requested
2018-02-26 10:05:02,465 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, order=<ib.ext.Order.Order object at 0x000000000209DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130240>>
2018-02-26 10:05:02,466 - DEBUG - Order OrderID 230
2018-02-26 10:05:02,466 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:05:02,467 - DEBUG - Order status PreSubmitted
2018-02-26 10:05:02,467 - DEBUG - Order Identification 230
2018-02-26 10:05:02,467 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:05:02,468 - DEBUG - Profit ID from database is 228
2018-02-26 10:05:02,468 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:05:02,468 - DEBUG - Stop ID database is 0
2018-02-26 10:05:02,468 - DEBUG - Entry ID database is 228
2018-02-26 10:05:02,469 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, order=<ib.ext.Order.Order object at 0x000000000209DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021300B8>>
2018-02-26 10:05:02,470 - DEBUG - Order OrderID 225
2018-02-26 10:05:02,470 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:05:02,470 - DEBUG - Order status PreSubmitted
2018-02-26 10:05:02,471 - DEBUG - Order Identification 225
2018-02-26 10:05:02,471 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:05:02,471 - DEBUG - Profit ID from database is 228
2018-02-26 10:05:02,471 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:05:02,472 - DEBUG - Stop ID database is 0
2018-02-26 10:05:02,472 - DEBUG - Entry ID database is 228
2018-02-26 10:05:02,473 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, order=<ib.ext.Order.Order object at 0x000000000209DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021302B0>>
2018-02-26 10:05:02,473 - DEBUG - Order OrderID 227
2018-02-26 10:05:02,474 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:05:02,474 - DEBUG - Order status PreSubmitted
2018-02-26 10:05:02,474 - DEBUG - Order Identification 227
2018-02-26 10:05:02,474 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:05:02,475 - DEBUG - Profit ID from database is 228
2018-02-26 10:05:02,475 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:05:02,475 - DEBUG - Stop ID database is 0
2018-02-26 10:05:02,476 - DEBUG - Entry ID database is 228
2018-02-26 10:05:02,477 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, order=<ib.ext.Order.Order object at 0x000000000209DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130390>>
2018-02-26 10:05:02,477 - DEBUG - Order OrderID 229
2018-02-26 10:05:02,477 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:05:02,478 - DEBUG - Order status PreSubmitted
2018-02-26 10:05:02,478 - DEBUG - Order Identification 229
2018-02-26 10:05:02,478 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:05:02,479 - DEBUG - Profit ID from database is 228
2018-02-26 10:05:02,479 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:05:02,479 - DEBUG - Stop ID database is 0
2018-02-26 10:05:02,479 - DEBUG - Entry ID database is 228
2018-02-26 10:05:04,466 - DEBUG - Connecting to database
2018-02-26 10:05:04,473 - DEBUG - Connected to database
2018-02-26 10:05:04,475 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,475 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:05:04,477 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,477 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:05:04,478 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,479 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:05:04,480 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,480 - DEBUG - Stop quantity 1
2018-02-26 10:05:04,482 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,482 - DEBUG - Direction is Short
2018-02-26 10:05:04,483 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,484 - DEBUG - Count is 0
2018-02-26 10:05:04,485 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:05:04,485 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:05:04,487 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:05:04,487 - DEBUG - Max ID Order is (230,)
2018-02-26 10:05:04,488 - DEBUG - Today is 2018-02-26
2018-02-26 10:05:04,488 - DEBUG - Day of the week 0
2018-02-26 10:05:04,488 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:05:04,488 - DEBUG - In Position is  0
2018-02-26 10:05:04,489 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:05:04,489 - DEBUG - curStopLossFlag is  0
2018-02-26 10:05:04,489 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:05:04,489 - DEBUG - Checking if Entry has been filled
2018-02-26 10:05:04,490 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:05:04,491 - DEBUG - EntryPend is 1
2018-02-26 10:05:04,491 - DEBUG - Try to Cancel Stop
2018-02-26 10:05:04,492 - DEBUG - Stop API ID 0
2018-02-26 10:05:04,492 - DEBUG - Profit API ID 0
2018-02-26 10:05:04,492 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:05:04,492 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:05:04,493 - DEBUG - Pos is 0
2018-02-26 10:05:04,493 - DEBUG - CurCount is 0
2018-02-26 10:05:04,493 - DEBUG - In Pos 0
2018-02-26 10:05:04,493 - DEBUG - Stop ID is 0
2018-02-26 10:05:04,493 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:05:04,495 - DEBUG - EntryPend is 1
2018-02-26 10:05:04,495 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:05:04,495 - DEBUG - Entry Date is 10
2018-02-26 10:05:04,496 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:05:04,496 - DEBUG - Order Profit ID is 228
2018-02-26 10:05:04,496 - DEBUG - Order Entry ID is 228
2018-02-26 10:05:04,496 - DEBUG - API ID is  0
2018-02-26 10:05:04,496 - DEBUG - Current Position is 0
2018-02-26 10:05:04,497 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:05:04,497 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:05:04,497 - DEBUG - Time is 10
2018-02-26 10:05:04,497 - DEBUG - Time is <class 'int'>
2018-02-26 10:05:04,498 - DEBUG - Disconnected from IBController
2018-02-26 10:05:04,498 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:10:00,271 - DEBUG - ****************************************************
2018-02-26 10:10:00,272 - DEBUG - Current Time is 10:10AM
2018-02-26 10:10:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:10:00,272 - DEBUG - Connecting to database
2018-02-26 10:10:00,370 - DEBUG - Connected to database
2018-02-26 10:10:00,370 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:00,375 - DEBUG - Order Profit is 228
2018-02-26 10:10:00,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:00,407 - DEBUG - Stop ID is 0
2018-02-26 10:10:00,408 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:00,430 - DEBUG - Entry ID is 228
2018-02-26 10:10:00,430 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:10:00,440 - DEBUG - OCA ID is 1
2018-02-26 10:10:00,440 - DEBUG - Connecting to IBController
2018-02-26 10:10:01,447 - DEBUG - Connected to IBController
2018-02-26 10:10:01,447 - DEBUG - Position requested
2018-02-26 10:10:01,449 - DEBUG - Pos Mgmt -12987
2018-02-26 10:10:01,449 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CD30>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:10:01,450 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:10:01,450 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:10:01,450 - DEBUG - Position is -12987
2018-02-26 10:10:02,448 - DEBUG - Open Orders requested
2018-02-26 10:10:02,451 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121208>>
2018-02-26 10:10:02,451 - DEBUG - Order OrderID 230
2018-02-26 10:10:02,452 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:10:02,452 - DEBUG - Order status PreSubmitted
2018-02-26 10:10:02,453 - DEBUG - Order Identification 230
2018-02-26 10:10:02,453 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:10:02,453 - DEBUG - Profit ID from database is 228
2018-02-26 10:10:02,453 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:10:02,454 - DEBUG - Stop ID database is 0
2018-02-26 10:10:02,454 - DEBUG - Entry ID database is 228
2018-02-26 10:10:02,455 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121048>>
2018-02-26 10:10:02,455 - DEBUG - Order OrderID 225
2018-02-26 10:10:02,456 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:10:02,456 - DEBUG - Order status PreSubmitted
2018-02-26 10:10:02,456 - DEBUG - Order Identification 225
2018-02-26 10:10:02,457 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:10:02,457 - DEBUG - Profit ID from database is 228
2018-02-26 10:10:02,457 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:10:02,457 - DEBUG - Stop ID database is 0
2018-02-26 10:10:02,458 - DEBUG - Entry ID database is 228
2018-02-26 10:10:02,459 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021212B0>>
2018-02-26 10:10:02,459 - DEBUG - Order OrderID 227
2018-02-26 10:10:02,460 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:10:02,460 - DEBUG - Order status PreSubmitted
2018-02-26 10:10:02,460 - DEBUG - Order Identification 227
2018-02-26 10:10:02,460 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:10:02,461 - DEBUG - Profit ID from database is 228
2018-02-26 10:10:02,461 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:10:02,461 - DEBUG - Stop ID database is 0
2018-02-26 10:10:02,461 - DEBUG - Entry ID database is 228
2018-02-26 10:10:02,463 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121358>>
2018-02-26 10:10:02,463 - DEBUG - Order OrderID 229
2018-02-26 10:10:02,463 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:10:02,464 - DEBUG - Order status PreSubmitted
2018-02-26 10:10:02,464 - DEBUG - Order Identification 229
2018-02-26 10:10:02,464 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:10:02,465 - DEBUG - Profit ID from database is 228
2018-02-26 10:10:02,465 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:10:02,465 - DEBUG - Stop ID database is 0
2018-02-26 10:10:02,465 - DEBUG - Entry ID database is 228
2018-02-26 10:10:04,451 - DEBUG - Connecting to database
2018-02-26 10:10:04,458 - DEBUG - Connected to database
2018-02-26 10:10:04,460 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,461 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:10:04,462 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,462 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:10:04,464 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,464 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:10:04,465 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,466 - DEBUG - Stop quantity 1
2018-02-26 10:10:04,467 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,467 - DEBUG - Direction is Short
2018-02-26 10:10:04,469 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,469 - DEBUG - Count is 0
2018-02-26 10:10:04,470 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:10:04,471 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:10:04,472 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:10:04,473 - DEBUG - Max ID Order is (230,)
2018-02-26 10:10:04,473 - DEBUG - Today is 2018-02-26
2018-02-26 10:10:04,473 - DEBUG - Day of the week 0
2018-02-26 10:10:04,474 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:10:04,474 - DEBUG - In Position is  0
2018-02-26 10:10:04,474 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:10:04,475 - DEBUG - curStopLossFlag is  0
2018-02-26 10:10:04,475 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:10:04,475 - DEBUG - Checking if Entry has been filled
2018-02-26 10:10:04,475 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:10:04,477 - DEBUG - EntryPend is 1
2018-02-26 10:10:04,477 - DEBUG - Try to Cancel Stop
2018-02-26 10:10:04,477 - DEBUG - Stop API ID 0
2018-02-26 10:10:04,477 - DEBUG - Profit API ID 0
2018-02-26 10:10:04,478 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:10:04,478 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:10:04,478 - DEBUG - Pos is 0
2018-02-26 10:10:04,479 - DEBUG - CurCount is 0
2018-02-26 10:10:04,479 - DEBUG - In Pos 0
2018-02-26 10:10:04,479 - DEBUG - Stop ID is 0
2018-02-26 10:10:04,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:10:04,481 - DEBUG - EntryPend is 1
2018-02-26 10:10:04,481 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:10:04,481 - DEBUG - Entry Date is 10
2018-02-26 10:10:04,482 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:10:04,482 - DEBUG - Order Profit ID is 228
2018-02-26 10:10:04,482 - DEBUG - Order Entry ID is 228
2018-02-26 10:10:04,482 - DEBUG - API ID is  0
2018-02-26 10:10:04,482 - DEBUG - Current Position is 0
2018-02-26 10:10:04,483 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:10:04,483 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:10:04,483 - DEBUG - Time is 10
2018-02-26 10:10:04,483 - DEBUG - Time is <class 'int'>
2018-02-26 10:10:04,484 - DEBUG - Disconnected from IBController
2018-02-26 10:10:04,484 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:15:00,287 - DEBUG - ****************************************************
2018-02-26 10:15:00,288 - DEBUG - Current Time is 10:15AM
2018-02-26 10:15:00,288 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:15:00,288 - DEBUG - Connecting to database
2018-02-26 10:15:00,475 - DEBUG - Connected to database
2018-02-26 10:15:00,476 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:00,494 - DEBUG - Order Profit is 228
2018-02-26 10:15:00,494 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:00,518 - DEBUG - Stop ID is 0
2018-02-26 10:15:00,519 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:00,544 - DEBUG - Entry ID is 228
2018-02-26 10:15:00,545 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:15:00,570 - DEBUG - OCA ID is 1
2018-02-26 10:15:00,571 - DEBUG - Connecting to IBController
2018-02-26 10:15:01,582 - DEBUG - Connected to IBController
2018-02-26 10:15:01,582 - DEBUG - Position requested
2018-02-26 10:15:01,584 - DEBUG - Pos Mgmt 1
2018-02-26 10:15:01,584 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CE48>, pos=1, avgCost=28732.900000000005>
2018-02-26 10:15:01,584 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:15:01,585 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:15:01,585 - DEBUG - Position is 1
2018-02-26 10:15:01,585 - DEBUG - Pos Mgmt -12987
2018-02-26 10:15:01,586 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:15:01,586 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:15:01,586 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:15:01,586 - DEBUG - Position is -12987
2018-02-26 10:15:02,584 - DEBUG - Open Orders requested
2018-02-26 10:15:02,586 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CF98>, order=<ib.ext.Order.Order object at 0x000000000204CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1208>>
2018-02-26 10:15:02,587 - DEBUG - Order OrderID 225
2018-02-26 10:15:02,587 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:15:02,588 - DEBUG - Order status PreSubmitted
2018-02-26 10:15:02,588 - DEBUG - Order Identification 225
2018-02-26 10:15:02,588 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:15:02,589 - DEBUG - Profit ID from database is 228
2018-02-26 10:15:02,589 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:15:02,589 - DEBUG - Stop ID database is 0
2018-02-26 10:15:02,589 - DEBUG - Entry ID database is 228
2018-02-26 10:15:02,590 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000204CF98>, order=<ib.ext.Order.Order object at 0x000000000204CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1080>>
2018-02-26 10:15:02,591 - DEBUG - Order OrderID 227
2018-02-26 10:15:02,591 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:15:02,592 - DEBUG - Order status PreSubmitted
2018-02-26 10:15:02,592 - DEBUG - Order Identification 227
2018-02-26 10:15:02,592 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:15:02,592 - DEBUG - Profit ID from database is 228
2018-02-26 10:15:02,592 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:15:02,593 - DEBUG - Stop ID database is 0
2018-02-26 10:15:02,593 - DEBUG - Entry ID database is 228
2018-02-26 10:15:02,594 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000204CF98>, order=<ib.ext.Order.Order object at 0x000000000204CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1278>>
2018-02-26 10:15:02,594 - DEBUG - Order OrderID 229
2018-02-26 10:15:02,595 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:15:02,595 - DEBUG - Order status PreSubmitted
2018-02-26 10:15:02,595 - DEBUG - Order Identification 229
2018-02-26 10:15:02,595 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:15:02,596 - DEBUG - Profit ID from database is 228
2018-02-26 10:15:02,596 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:15:02,596 - DEBUG - Stop ID database is 0
2018-02-26 10:15:02,596 - DEBUG - Entry ID database is 228
2018-02-26 10:15:04,587 - DEBUG - Connecting to database
2018-02-26 10:15:04,594 - DEBUG - Connected to database
2018-02-26 10:15:04,596 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,596 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:15:04,597 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,598 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:15:04,599 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,599 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:15:04,601 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,602 - DEBUG - Stop quantity 1
2018-02-26 10:15:04,603 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,603 - DEBUG - Direction is Short
2018-02-26 10:15:04,605 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,605 - DEBUG - Count is 0
2018-02-26 10:15:04,606 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:15:04,607 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:15:04,608 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:15:04,608 - DEBUG - Max ID Order is (230,)
2018-02-26 10:15:04,609 - DEBUG - Today is 2018-02-26
2018-02-26 10:15:04,609 - DEBUG - Day of the week 0
2018-02-26 10:15:04,609 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:15:04,610 - DEBUG - In Position is  0
2018-02-26 10:15:04,610 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:15:04,610 - DEBUG - curStopLossFlag is  0
2018-02-26 10:15:04,610 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:15:04,611 - DEBUG - Checking if Entry has been filled
2018-02-26 10:15:04,611 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:15:04,612 - DEBUG - EntryPend is 1
2018-02-26 10:15:04,612 - DEBUG - Try to Cancel Stop
2018-02-26 10:15:04,613 - DEBUG - Stop API ID 0
2018-02-26 10:15:04,613 - DEBUG - Profit API ID 0
2018-02-26 10:15:04,613 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:15:04,614 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:15:04,614 - DEBUG - Pos is 0
2018-02-26 10:15:04,614 - DEBUG - CurCount is 0
2018-02-26 10:15:04,614 - DEBUG - In Pos 0
2018-02-26 10:15:04,615 - DEBUG - Stop ID is 0
2018-02-26 10:15:04,615 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:15:04,616 - DEBUG - EntryPend is 1
2018-02-26 10:15:04,616 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:15:04,617 - DEBUG - Entry Date is 10
2018-02-26 10:15:04,617 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:15:04,617 - DEBUG - Order Profit ID is 228
2018-02-26 10:15:04,617 - DEBUG - Order Entry ID is 228
2018-02-26 10:15:04,617 - DEBUG - API ID is  0
2018-02-26 10:15:04,618 - DEBUG - Current Position is 0
2018-02-26 10:15:04,618 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:15:04,618 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:15:04,618 - DEBUG - Time is 10
2018-02-26 10:15:04,619 - DEBUG - Time is <class 'int'>
2018-02-26 10:15:04,619 - DEBUG - Disconnected from IBController
2018-02-26 10:15:04,619 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:20:00,273 - DEBUG - ****************************************************
2018-02-26 10:20:00,274 - DEBUG - Current Time is 10:20AM
2018-02-26 10:20:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:20:00,274 - DEBUG - Connecting to database
2018-02-26 10:20:00,503 - DEBUG - Connected to database
2018-02-26 10:20:00,504 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:00,517 - DEBUG - Order Profit is 228
2018-02-26 10:20:00,518 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:00,557 - DEBUG - Stop ID is 0
2018-02-26 10:20:00,557 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:00,573 - DEBUG - Entry ID is 228
2018-02-26 10:20:00,573 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:20:00,575 - DEBUG - OCA ID is 1
2018-02-26 10:20:00,576 - DEBUG - Connecting to IBController
2018-02-26 10:20:01,586 - DEBUG - Connected to IBController
2018-02-26 10:20:01,586 - DEBUG - Position requested
2018-02-26 10:20:01,588 - DEBUG - Pos Mgmt 1
2018-02-26 10:20:01,588 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=1, avgCost=28732.9>
2018-02-26 10:20:01,589 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:20:01,589 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:20:01,589 - DEBUG - Position is 1
2018-02-26 10:20:01,589 - DEBUG - Pos Mgmt -12987
2018-02-26 10:20:01,590 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:20:01,590 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:20:01,590 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:20:01,590 - DEBUG - Position is -12987
2018-02-26 10:20:02,587 - DEBUG - Open Orders requested
2018-02-26 10:20:02,589 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111198>>
2018-02-26 10:20:02,590 - DEBUG - Order OrderID 225
2018-02-26 10:20:02,590 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:20:02,591 - DEBUG - Order status PreSubmitted
2018-02-26 10:20:02,591 - DEBUG - Order Identification 225
2018-02-26 10:20:02,591 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:20:02,592 - DEBUG - Profit ID from database is 228
2018-02-26 10:20:02,592 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:20:02,592 - DEBUG - Stop ID database is 0
2018-02-26 10:20:02,593 - DEBUG - Entry ID database is 228
2018-02-26 10:20:02,594 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-26 10:20:02,594 - DEBUG - Order OrderID 231
2018-02-26 10:20:02,594 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:20:02,595 - DEBUG - Order status PreSubmitted
2018-02-26 10:20:02,596 - DEBUG - Order Identification 231
2018-02-26 10:20:02,596 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:20:02,596 - DEBUG - Profit ID from database is 228
2018-02-26 10:20:02,596 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:20:02,596 - DEBUG - Stop ID database is 0
2018-02-26 10:20:02,597 - DEBUG - Entry ID database is 228
2018-02-26 10:20:04,590 - DEBUG - Connecting to database
2018-02-26 10:20:04,597 - DEBUG - Connected to database
2018-02-26 10:20:04,599 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,599 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:20:04,601 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,601 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:20:04,603 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,603 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:20:04,605 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,605 - DEBUG - Stop quantity 1
2018-02-26 10:20:04,607 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,607 - DEBUG - Direction is Short
2018-02-26 10:20:04,608 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,609 - DEBUG - Count is 0
2018-02-26 10:20:04,610 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:20:04,610 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:20:04,612 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:20:04,612 - DEBUG - Max ID Order is (231,)
2018-02-26 10:20:04,613 - DEBUG - Today is 2018-02-26
2018-02-26 10:20:04,613 - DEBUG - Day of the week 0
2018-02-26 10:20:04,613 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:20:04,613 - DEBUG - In Position is  0
2018-02-26 10:20:04,614 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:20:04,614 - DEBUG - curStopLossFlag is  0
2018-02-26 10:20:04,614 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:20:04,614 - DEBUG - Checking if Entry has been filled
2018-02-26 10:20:04,615 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:20:04,616 - DEBUG - EntryPend is 1
2018-02-26 10:20:04,616 - DEBUG - Try to Cancel Stop
2018-02-26 10:20:04,616 - DEBUG - Stop API ID 0
2018-02-26 10:20:04,617 - DEBUG - Profit API ID 0
2018-02-26 10:20:04,617 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:20:04,617 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:20:04,617 - DEBUG - Pos is 0
2018-02-26 10:20:04,618 - DEBUG - CurCount is 0
2018-02-26 10:20:04,618 - DEBUG - In Pos 0
2018-02-26 10:20:04,618 - DEBUG - Stop ID is 0
2018-02-26 10:20:04,618 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:20:04,620 - DEBUG - EntryPend is 1
2018-02-26 10:20:04,620 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:20:04,620 - DEBUG - Entry Date is 10
2018-02-26 10:20:04,621 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:20:04,621 - DEBUG - Order Profit ID is 228
2018-02-26 10:20:04,621 - DEBUG - Order Entry ID is 228
2018-02-26 10:20:04,621 - DEBUG - API ID is  0
2018-02-26 10:20:04,622 - DEBUG - Current Position is 0
2018-02-26 10:20:04,622 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:20:04,622 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:20:04,622 - DEBUG - Time is 10
2018-02-26 10:20:04,623 - DEBUG - Time is <class 'int'>
2018-02-26 10:20:04,623 - DEBUG - Disconnected from IBController
2018-02-26 10:20:04,623 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:25:00,269 - DEBUG - ****************************************************
2018-02-26 10:25:00,269 - DEBUG - Current Time is 10:25AM
2018-02-26 10:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:25:00,270 - DEBUG - Connecting to database
2018-02-26 10:25:00,358 - DEBUG - Connected to database
2018-02-26 10:25:00,358 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:00,367 - DEBUG - Order Profit is 228
2018-02-26 10:25:00,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:00,384 - DEBUG - Stop ID is 0
2018-02-26 10:25:00,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:00,387 - DEBUG - Entry ID is 228
2018-02-26 10:25:00,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:25:00,395 - DEBUG - OCA ID is 1
2018-02-26 10:25:00,396 - DEBUG - Connecting to IBController
2018-02-26 10:25:01,402 - DEBUG - Connected to IBController
2018-02-26 10:25:01,402 - DEBUG - Position requested
2018-02-26 10:25:01,404 - DEBUG - Pos Mgmt 1
2018-02-26 10:25:01,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=1, avgCost=28732.9>
2018-02-26 10:25:01,404 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:25:01,405 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:25:01,405 - DEBUG - Position is 1
2018-02-26 10:25:01,405 - DEBUG - Pos Mgmt -12987
2018-02-26 10:25:01,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:25:01,406 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:25:01,406 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:25:01,406 - DEBUG - Position is -12987
2018-02-26 10:25:02,403 - DEBUG - Open Orders requested
2018-02-26 10:25:02,405 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DF28>, order=<ib.ext.Order.Order object at 0x000000000208DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121198>>
2018-02-26 10:25:02,406 - DEBUG - Order OrderID 225
2018-02-26 10:25:02,406 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:25:02,407 - DEBUG - Order status PreSubmitted
2018-02-26 10:25:02,407 - DEBUG - Order Identification 225
2018-02-26 10:25:02,407 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:25:02,407 - DEBUG - Profit ID from database is 228
2018-02-26 10:25:02,408 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:25:02,408 - DEBUG - Stop ID database is 0
2018-02-26 10:25:02,408 - DEBUG - Entry ID database is 228
2018-02-26 10:25:02,409 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000208DF28>, order=<ib.ext.Order.Order object at 0x000000000208DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-26 10:25:02,409 - DEBUG - Order OrderID 231
2018-02-26 10:25:02,410 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:25:02,410 - DEBUG - Order status PreSubmitted
2018-02-26 10:25:02,410 - DEBUG - Order Identification 231
2018-02-26 10:25:02,411 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:25:02,411 - DEBUG - Profit ID from database is 228
2018-02-26 10:25:02,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:25:02,411 - DEBUG - Stop ID database is 0
2018-02-26 10:25:02,412 - DEBUG - Entry ID database is 228
2018-02-26 10:25:04,406 - DEBUG - Connecting to database
2018-02-26 10:25:04,413 - DEBUG - Connected to database
2018-02-26 10:25:04,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,415 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:25:04,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,417 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:25:04,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,418 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:25:04,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,420 - DEBUG - Stop quantity 1
2018-02-26 10:25:04,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,422 - DEBUG - Direction is Short
2018-02-26 10:25:04,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,423 - DEBUG - Count is 0
2018-02-26 10:25:04,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:25:04,425 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:25:04,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:25:04,427 - DEBUG - Max ID Order is (231,)
2018-02-26 10:25:04,427 - DEBUG - Today is 2018-02-26
2018-02-26 10:25:04,428 - DEBUG - Day of the week 0
2018-02-26 10:25:04,428 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:25:04,428 - DEBUG - In Position is  0
2018-02-26 10:25:04,428 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:25:04,428 - DEBUG - curStopLossFlag is  0
2018-02-26 10:25:04,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:25:04,429 - DEBUG - Checking if Entry has been filled
2018-02-26 10:25:04,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:25:04,431 - DEBUG - EntryPend is 1
2018-02-26 10:25:04,431 - DEBUG - Try to Cancel Stop
2018-02-26 10:25:04,431 - DEBUG - Stop API ID 0
2018-02-26 10:25:04,431 - DEBUG - Profit API ID 0
2018-02-26 10:25:04,431 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:25:04,432 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:25:04,432 - DEBUG - Pos is 0
2018-02-26 10:25:04,432 - DEBUG - CurCount is 0
2018-02-26 10:25:04,432 - DEBUG - In Pos 0
2018-02-26 10:25:04,433 - DEBUG - Stop ID is 0
2018-02-26 10:25:04,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:25:04,434 - DEBUG - EntryPend is 1
2018-02-26 10:25:04,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:25:04,435 - DEBUG - Entry Date is 10
2018-02-26 10:25:04,435 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:25:04,435 - DEBUG - Order Profit ID is 228
2018-02-26 10:25:04,435 - DEBUG - Order Entry ID is 228
2018-02-26 10:25:04,436 - DEBUG - API ID is  0
2018-02-26 10:25:04,436 - DEBUG - Current Position is 0
2018-02-26 10:25:04,436 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:25:04,436 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:25:04,436 - DEBUG - Time is 10
2018-02-26 10:25:04,437 - DEBUG - Time is <class 'int'>
2018-02-26 10:25:04,437 - DEBUG - Disconnected from IBController
2018-02-26 10:25:04,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:30:00,279 - DEBUG - ****************************************************
2018-02-26 10:30:00,279 - DEBUG - Current Time is 10:30AM
2018-02-26 10:30:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:30:00,280 - DEBUG - Connecting to database
2018-02-26 10:30:00,445 - DEBUG - Connected to database
2018-02-26 10:30:00,445 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:00,453 - DEBUG - Order Profit is 228
2018-02-26 10:30:00,454 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:00,489 - DEBUG - Stop ID is 0
2018-02-26 10:30:00,490 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:00,514 - DEBUG - Entry ID is 228
2018-02-26 10:30:00,515 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:30:00,561 - DEBUG - OCA ID is 1
2018-02-26 10:30:00,562 - DEBUG - Connecting to IBController
2018-02-26 10:30:01,574 - DEBUG - Connected to IBController
2018-02-26 10:30:01,574 - DEBUG - Position requested
2018-02-26 10:30:01,576 - DEBUG - Pos Mgmt 1
2018-02-26 10:30:01,576 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, pos=1, avgCost=28732.9>
2018-02-26 10:30:01,580 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:30:01,580 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:30:01,580 - DEBUG - Position is 1
2018-02-26 10:30:01,581 - DEBUG - Pos Mgmt -12987
2018-02-26 10:30:01,581 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:30:01,581 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:30:01,581 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:30:01,582 - DEBUG - Position is -12987
2018-02-26 10:30:02,576 - DEBUG - Open Orders requested
2018-02-26 10:30:02,578 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1198>>
2018-02-26 10:30:02,578 - DEBUG - Order OrderID 225
2018-02-26 10:30:02,579 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:30:02,579 - DEBUG - Order status PreSubmitted
2018-02-26 10:30:02,579 - DEBUG - Order Identification 225
2018-02-26 10:30:02,580 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:30:02,580 - DEBUG - Profit ID from database is 228
2018-02-26 10:30:02,580 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:30:02,580 - DEBUG - Stop ID database is 0
2018-02-26 10:30:02,581 - DEBUG - Entry ID database is 228
2018-02-26 10:30:02,582 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-26 10:30:02,582 - DEBUG - Order OrderID 231
2018-02-26 10:30:02,582 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:30:02,583 - DEBUG - Order status PreSubmitted
2018-02-26 10:30:02,583 - DEBUG - Order Identification 231
2018-02-26 10:30:02,583 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:30:02,583 - DEBUG - Profit ID from database is 228
2018-02-26 10:30:02,584 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:30:02,584 - DEBUG - Stop ID database is 0
2018-02-26 10:30:02,584 - DEBUG - Entry ID database is 228
2018-02-26 10:30:04,578 - DEBUG - Connecting to database
2018-02-26 10:30:04,586 - DEBUG - Connected to database
2018-02-26 10:30:04,587 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,588 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:30:04,589 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,589 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:30:04,591 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,591 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:30:04,593 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,593 - DEBUG - Stop quantity 1
2018-02-26 10:30:04,594 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,595 - DEBUG - Direction is Short
2018-02-26 10:30:04,597 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,597 - DEBUG - Count is 0
2018-02-26 10:30:04,598 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:30:04,599 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:30:04,600 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:30:04,600 - DEBUG - Max ID Order is (231,)
2018-02-26 10:30:04,601 - DEBUG - Today is 2018-02-26
2018-02-26 10:30:04,601 - DEBUG - Day of the week 0
2018-02-26 10:30:04,601 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:30:04,602 - DEBUG - In Position is  0
2018-02-26 10:30:04,602 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:30:04,602 - DEBUG - curStopLossFlag is  0
2018-02-26 10:30:04,602 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:30:04,603 - DEBUG - Checking if Entry has been filled
2018-02-26 10:30:04,603 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:30:04,604 - DEBUG - EntryPend is 1
2018-02-26 10:30:04,605 - DEBUG - Try to Cancel Stop
2018-02-26 10:30:04,605 - DEBUG - Stop API ID 0
2018-02-26 10:30:04,605 - DEBUG - Profit API ID 0
2018-02-26 10:30:04,605 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:30:04,606 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:30:04,606 - DEBUG - Pos is 0
2018-02-26 10:30:04,606 - DEBUG - CurCount is 0
2018-02-26 10:30:04,606 - DEBUG - In Pos 0
2018-02-26 10:30:04,607 - DEBUG - Stop ID is 0
2018-02-26 10:30:04,607 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:30:04,608 - DEBUG - EntryPend is 1
2018-02-26 10:30:04,609 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:30:04,609 - DEBUG - Entry Date is 10
2018-02-26 10:30:04,609 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:30:04,609 - DEBUG - Order Profit ID is 228
2018-02-26 10:30:04,609 - DEBUG - Order Entry ID is 228
2018-02-26 10:30:04,610 - DEBUG - API ID is  0
2018-02-26 10:30:04,610 - DEBUG - Current Position is 0
2018-02-26 10:30:04,610 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:30:04,610 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:30:04,611 - DEBUG - Time is 10
2018-02-26 10:30:04,611 - DEBUG - Time is <class 'int'>
2018-02-26 10:30:04,611 - DEBUG - Disconnected from IBController
2018-02-26 10:30:04,612 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:35:00,269 - DEBUG - ****************************************************
2018-02-26 10:35:00,270 - DEBUG - Current Time is 10:35AM
2018-02-26 10:35:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:35:00,270 - DEBUG - Connecting to database
2018-02-26 10:35:00,376 - DEBUG - Connected to database
2018-02-26 10:35:00,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:00,388 - DEBUG - Order Profit is 228
2018-02-26 10:35:00,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:00,417 - DEBUG - Stop ID is 0
2018-02-26 10:35:00,417 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:00,440 - DEBUG - Entry ID is 228
2018-02-26 10:35:00,441 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:35:00,463 - DEBUG - OCA ID is 1
2018-02-26 10:35:00,464 - DEBUG - Connecting to IBController
2018-02-26 10:35:01,492 - DEBUG - Connected to IBController
2018-02-26 10:35:01,492 - DEBUG - Position requested
2018-02-26 10:35:01,496 - DEBUG - Pos Mgmt 1
2018-02-26 10:35:01,497 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=1, avgCost=28732.9>
2018-02-26 10:35:01,498 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:35:01,498 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:35:01,498 - DEBUG - Position is 1
2018-02-26 10:35:01,498 - DEBUG - Pos Mgmt -12987
2018-02-26 10:35:01,499 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:35:01,499 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:35:01,499 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:35:01,500 - DEBUG - Position is -12987
2018-02-26 10:35:02,493 - DEBUG - Open Orders requested
2018-02-26 10:35:02,495 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DF28>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101198>>
2018-02-26 10:35:02,498 - DEBUG - Order OrderID 225
2018-02-26 10:35:02,498 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:35:02,499 - DEBUG - Order status PreSubmitted
2018-02-26 10:35:02,499 - DEBUG - Order Identification 225
2018-02-26 10:35:02,499 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:35:02,499 - DEBUG - Profit ID from database is 228
2018-02-26 10:35:02,499 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:35:02,500 - DEBUG - Stop ID database is 0
2018-02-26 10:35:02,500 - DEBUG - Entry ID database is 228
2018-02-26 10:35:02,501 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000206DF28>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 10:35:02,501 - DEBUG - Order OrderID 231
2018-02-26 10:35:02,502 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:35:02,502 - DEBUG - Order status PreSubmitted
2018-02-26 10:35:02,502 - DEBUG - Order Identification 231
2018-02-26 10:35:02,502 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:35:02,503 - DEBUG - Profit ID from database is 228
2018-02-26 10:35:02,503 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:35:02,503 - DEBUG - Stop ID database is 0
2018-02-26 10:35:02,503 - DEBUG - Entry ID database is 228
2018-02-26 10:35:04,498 - DEBUG - Connecting to database
2018-02-26 10:35:04,505 - DEBUG - Connected to database
2018-02-26 10:35:04,507 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,507 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:35:04,509 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,509 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:35:04,510 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,511 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:35:04,512 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,512 - DEBUG - Stop quantity 1
2018-02-26 10:35:04,514 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,514 - DEBUG - Direction is Short
2018-02-26 10:35:04,515 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,516 - DEBUG - Count is 0
2018-02-26 10:35:04,517 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:35:04,518 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:35:04,519 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:35:04,519 - DEBUG - Max ID Order is (231,)
2018-02-26 10:35:04,520 - DEBUG - Today is 2018-02-26
2018-02-26 10:35:04,520 - DEBUG - Day of the week 0
2018-02-26 10:35:04,521 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:35:04,521 - DEBUG - In Position is  0
2018-02-26 10:35:04,521 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:35:04,521 - DEBUG - curStopLossFlag is  0
2018-02-26 10:35:04,522 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:35:04,522 - DEBUG - Checking if Entry has been filled
2018-02-26 10:35:04,522 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:35:04,523 - DEBUG - EntryPend is 1
2018-02-26 10:35:04,524 - DEBUG - Try to Cancel Stop
2018-02-26 10:35:04,524 - DEBUG - Stop API ID 0
2018-02-26 10:35:04,524 - DEBUG - Profit API ID 0
2018-02-26 10:35:04,524 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:35:04,525 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:35:04,525 - DEBUG - Pos is 0
2018-02-26 10:35:04,525 - DEBUG - CurCount is 0
2018-02-26 10:35:04,525 - DEBUG - In Pos 0
2018-02-26 10:35:04,525 - DEBUG - Stop ID is 0
2018-02-26 10:35:04,526 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:35:04,527 - DEBUG - EntryPend is 1
2018-02-26 10:35:04,527 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:35:04,527 - DEBUG - Entry Date is 10
2018-02-26 10:35:04,528 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:35:04,528 - DEBUG - Order Profit ID is 228
2018-02-26 10:35:04,528 - DEBUG - Order Entry ID is 228
2018-02-26 10:35:04,528 - DEBUG - API ID is  0
2018-02-26 10:35:04,528 - DEBUG - Current Position is 0
2018-02-26 10:35:04,529 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:35:04,529 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:35:04,529 - DEBUG - Time is 10
2018-02-26 10:35:04,529 - DEBUG - Time is <class 'int'>
2018-02-26 10:35:04,530 - DEBUG - Disconnected from IBController
2018-02-26 10:35:04,530 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:40:00,272 - DEBUG - ****************************************************
2018-02-26 10:40:00,273 - DEBUG - Current Time is 10:40AM
2018-02-26 10:40:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:40:00,273 - DEBUG - Connecting to database
2018-02-26 10:40:00,411 - DEBUG - Connected to database
2018-02-26 10:40:00,412 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:00,418 - DEBUG - Order Profit is 228
2018-02-26 10:40:00,418 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:00,460 - DEBUG - Stop ID is 0
2018-02-26 10:40:00,461 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:00,488 - DEBUG - Entry ID is 228
2018-02-26 10:40:00,489 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:40:00,494 - DEBUG - OCA ID is 1
2018-02-26 10:40:00,495 - DEBUG - Connecting to IBController
2018-02-26 10:40:01,504 - DEBUG - Connected to IBController
2018-02-26 10:40:01,504 - DEBUG - Position requested
2018-02-26 10:40:01,508 - DEBUG - Pos Mgmt 1
2018-02-26 10:40:01,508 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=1, avgCost=28732.9>
2018-02-26 10:40:01,509 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:40:01,509 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:40:01,509 - DEBUG - Position is 1
2018-02-26 10:40:01,510 - DEBUG - Pos Mgmt -12987
2018-02-26 10:40:01,510 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:40:01,510 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:40:01,511 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:40:01,511 - DEBUG - Position is -12987
2018-02-26 10:40:02,508 - DEBUG - Open Orders requested
2018-02-26 10:40:02,510 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111198>>
2018-02-26 10:40:02,511 - DEBUG - Order OrderID 225
2018-02-26 10:40:02,512 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:40:02,512 - DEBUG - Order status PreSubmitted
2018-02-26 10:40:02,514 - DEBUG - Order Identification 225
2018-02-26 10:40:02,514 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:40:02,514 - DEBUG - Profit ID from database is 228
2018-02-26 10:40:02,515 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:40:02,515 - DEBUG - Stop ID database is 0
2018-02-26 10:40:02,515 - DEBUG - Entry ID database is 228
2018-02-26 10:40:02,516 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-26 10:40:02,517 - DEBUG - Order OrderID 231
2018-02-26 10:40:02,517 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:40:02,517 - DEBUG - Order status PreSubmitted
2018-02-26 10:40:02,518 - DEBUG - Order Identification 231
2018-02-26 10:40:02,518 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:40:02,518 - DEBUG - Profit ID from database is 228
2018-02-26 10:40:02,518 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:40:02,519 - DEBUG - Stop ID database is 0
2018-02-26 10:40:02,519 - DEBUG - Entry ID database is 228
2018-02-26 10:40:04,511 - DEBUG - Connecting to database
2018-02-26 10:40:04,518 - DEBUG - Connected to database
2018-02-26 10:40:04,520 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,520 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:40:04,521 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,522 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:40:04,523 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,524 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:40:04,525 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,525 - DEBUG - Stop quantity 1
2018-02-26 10:40:04,527 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,527 - DEBUG - Direction is Short
2018-02-26 10:40:04,528 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,529 - DEBUG - Count is 0
2018-02-26 10:40:04,530 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:40:04,530 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:40:04,532 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:40:04,532 - DEBUG - Max ID Order is (231,)
2018-02-26 10:40:04,532 - DEBUG - Today is 2018-02-26
2018-02-26 10:40:04,533 - DEBUG - Day of the week 0
2018-02-26 10:40:04,533 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:40:04,533 - DEBUG - In Position is  0
2018-02-26 10:40:04,534 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:40:04,534 - DEBUG - curStopLossFlag is  0
2018-02-26 10:40:04,534 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:40:04,534 - DEBUG - Checking if Entry has been filled
2018-02-26 10:40:04,534 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:40:04,537 - DEBUG - EntryPend is 1
2018-02-26 10:40:04,537 - DEBUG - Try to Cancel Stop
2018-02-26 10:40:04,537 - DEBUG - Stop API ID 0
2018-02-26 10:40:04,537 - DEBUG - Profit API ID 0
2018-02-26 10:40:04,537 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:40:04,538 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:40:04,538 - DEBUG - Pos is 0
2018-02-26 10:40:04,538 - DEBUG - CurCount is 0
2018-02-26 10:40:04,539 - DEBUG - In Pos 0
2018-02-26 10:40:04,539 - DEBUG - Stop ID is 0
2018-02-26 10:40:04,539 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:40:04,541 - DEBUG - EntryPend is 1
2018-02-26 10:40:04,541 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:40:04,541 - DEBUG - Entry Date is 10
2018-02-26 10:40:04,541 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:40:04,542 - DEBUG - Order Profit ID is 228
2018-02-26 10:40:04,542 - DEBUG - Order Entry ID is 228
2018-02-26 10:40:04,542 - DEBUG - API ID is  0
2018-02-26 10:40:04,542 - DEBUG - Current Position is 0
2018-02-26 10:40:04,542 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:40:04,543 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:40:04,543 - DEBUG - Time is 10
2018-02-26 10:40:04,543 - DEBUG - Time is <class 'int'>
2018-02-26 10:40:04,543 - DEBUG - Disconnected from IBController
2018-02-26 10:40:04,545 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:45:00,268 - DEBUG - ****************************************************
2018-02-26 10:45:00,269 - DEBUG - Current Time is 10:45AM
2018-02-26 10:45:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:45:00,270 - DEBUG - Connecting to database
2018-02-26 10:45:00,555 - DEBUG - Connected to database
2018-02-26 10:45:00,555 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:00,575 - DEBUG - Order Profit is 228
2018-02-26 10:45:00,575 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:00,628 - DEBUG - Stop ID is 0
2018-02-26 10:45:00,628 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:00,654 - DEBUG - Entry ID is 228
2018-02-26 10:45:00,655 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:45:00,672 - DEBUG - OCA ID is 1
2018-02-26 10:45:00,672 - DEBUG - Connecting to IBController
2018-02-26 10:45:01,678 - DEBUG - Connected to IBController
2018-02-26 10:45:01,678 - DEBUG - Position requested
2018-02-26 10:45:01,680 - DEBUG - Pos Mgmt 1
2018-02-26 10:45:01,680 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=1, avgCost=28732.9>
2018-02-26 10:45:01,681 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:45:01,681 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:45:01,681 - DEBUG - Position is 1
2018-02-26 10:45:01,681 - DEBUG - Pos Mgmt -12987
2018-02-26 10:45:01,682 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD30>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:45:01,682 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:45:01,686 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:45:01,686 - DEBUG - Position is -12987
2018-02-26 10:45:02,679 - DEBUG - Open Orders requested
2018-02-26 10:45:02,681 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-26 10:45:02,682 - DEBUG - Order OrderID 225
2018-02-26 10:45:02,682 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:45:02,683 - DEBUG - Order status PreSubmitted
2018-02-26 10:45:02,683 - DEBUG - Order Identification 225
2018-02-26 10:45:02,683 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:45:02,684 - DEBUG - Profit ID from database is 228
2018-02-26 10:45:02,684 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:45:02,684 - DEBUG - Stop ID database is 0
2018-02-26 10:45:02,684 - DEBUG - Entry ID database is 228
2018-02-26 10:45:02,685 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1198>>
2018-02-26 10:45:02,686 - DEBUG - Order OrderID 231
2018-02-26 10:45:02,686 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:45:02,687 - DEBUG - Order status PreSubmitted
2018-02-26 10:45:02,687 - DEBUG - Order Identification 231
2018-02-26 10:45:02,687 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:45:02,687 - DEBUG - Profit ID from database is 228
2018-02-26 10:45:02,687 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:45:02,688 - DEBUG - Stop ID database is 0
2018-02-26 10:45:02,688 - DEBUG - Entry ID database is 228
2018-02-26 10:45:04,680 - DEBUG - Connecting to database
2018-02-26 10:45:04,689 - DEBUG - Connected to database
2018-02-26 10:45:04,690 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,691 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:45:04,692 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,693 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:45:04,694 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,694 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:45:04,696 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,696 - DEBUG - Stop quantity 1
2018-02-26 10:45:04,697 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,698 - DEBUG - Direction is Short
2018-02-26 10:45:04,699 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,699 - DEBUG - Count is 0
2018-02-26 10:45:04,701 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:45:04,701 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:45:04,702 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:45:04,703 - DEBUG - Max ID Order is (231,)
2018-02-26 10:45:04,703 - DEBUG - Today is 2018-02-26
2018-02-26 10:45:04,704 - DEBUG - Day of the week 0
2018-02-26 10:45:04,704 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:45:04,704 - DEBUG - In Position is  0
2018-02-26 10:45:04,704 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:45:04,705 - DEBUG - curStopLossFlag is  0
2018-02-26 10:45:04,705 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:45:04,705 - DEBUG - Checking if Entry has been filled
2018-02-26 10:45:04,705 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:45:04,707 - DEBUG - EntryPend is 1
2018-02-26 10:45:04,707 - DEBUG - Try to Cancel Stop
2018-02-26 10:45:04,707 - DEBUG - Stop API ID 0
2018-02-26 10:45:04,708 - DEBUG - Profit API ID 0
2018-02-26 10:45:04,708 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:45:04,708 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:45:04,708 - DEBUG - Pos is 0
2018-02-26 10:45:04,708 - DEBUG - CurCount is 0
2018-02-26 10:45:04,709 - DEBUG - In Pos 0
2018-02-26 10:45:04,709 - DEBUG - Stop ID is 0
2018-02-26 10:45:04,709 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:45:04,710 - DEBUG - EntryPend is 1
2018-02-26 10:45:04,711 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:45:04,711 - DEBUG - Entry Date is 10
2018-02-26 10:45:04,711 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:45:04,711 - DEBUG - Order Profit ID is 228
2018-02-26 10:45:04,712 - DEBUG - Order Entry ID is 228
2018-02-26 10:45:04,712 - DEBUG - API ID is  0
2018-02-26 10:45:04,712 - DEBUG - Current Position is 0
2018-02-26 10:45:04,712 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:45:04,713 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:45:04,713 - DEBUG - Time is 10
2018-02-26 10:45:04,713 - DEBUG - Time is <class 'int'>
2018-02-26 10:45:04,714 - DEBUG - Disconnected from IBController
2018-02-26 10:45:04,715 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:50:00,271 - DEBUG - ****************************************************
2018-02-26 10:50:00,271 - DEBUG - Current Time is 10:50AM
2018-02-26 10:50:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:50:00,272 - DEBUG - Connecting to database
2018-02-26 10:50:00,408 - DEBUG - Connected to database
2018-02-26 10:50:00,408 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:00,419 - DEBUG - Order Profit is 228
2018-02-26 10:50:00,420 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:00,451 - DEBUG - Stop ID is 0
2018-02-26 10:50:00,452 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:00,469 - DEBUG - Entry ID is 228
2018-02-26 10:50:00,469 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:50:00,485 - DEBUG - OCA ID is 1
2018-02-26 10:50:00,486 - DEBUG - Connecting to IBController
2018-02-26 10:50:01,497 - DEBUG - Connected to IBController
2018-02-26 10:50:01,497 - DEBUG - Position requested
2018-02-26 10:50:01,499 - DEBUG - Pos Mgmt 1
2018-02-26 10:50:01,499 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=1, avgCost=28732.9>
2018-02-26 10:50:01,500 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:50:01,500 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:50:01,500 - DEBUG - Position is 1
2018-02-26 10:50:01,501 - DEBUG - Pos Mgmt -12987
2018-02-26 10:50:01,501 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:50:01,501 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:50:01,501 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:50:01,502 - DEBUG - Position is -12987
2018-02-26 10:50:02,498 - DEBUG - Open Orders requested
2018-02-26 10:50:02,500 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1198>>
2018-02-26 10:50:02,500 - DEBUG - Order OrderID 225
2018-02-26 10:50:02,501 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:50:02,501 - DEBUG - Order status PreSubmitted
2018-02-26 10:50:02,502 - DEBUG - Order Identification 225
2018-02-26 10:50:02,502 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:50:02,502 - DEBUG - Profit ID from database is 228
2018-02-26 10:50:02,502 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:50:02,503 - DEBUG - Stop ID database is 0
2018-02-26 10:50:02,503 - DEBUG - Entry ID database is 228
2018-02-26 10:50:02,504 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000205DF28>, order=<ib.ext.Order.Order object at 0x000000000205DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1160>>
2018-02-26 10:50:02,504 - DEBUG - Order OrderID 231
2018-02-26 10:50:02,505 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:50:02,505 - DEBUG - Order status PreSubmitted
2018-02-26 10:50:02,505 - DEBUG - Order Identification 231
2018-02-26 10:50:02,506 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:50:02,506 - DEBUG - Profit ID from database is 228
2018-02-26 10:50:02,506 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:50:02,506 - DEBUG - Stop ID database is 0
2018-02-26 10:50:02,507 - DEBUG - Entry ID database is 228
2018-02-26 10:50:04,500 - DEBUG - Connecting to database
2018-02-26 10:50:04,507 - DEBUG - Connected to database
2018-02-26 10:50:04,509 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,509 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:50:04,510 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,511 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:50:04,512 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,513 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:50:04,514 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,514 - DEBUG - Stop quantity 1
2018-02-26 10:50:04,516 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,516 - DEBUG - Direction is Short
2018-02-26 10:50:04,517 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,518 - DEBUG - Count is 0
2018-02-26 10:50:04,519 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:50:04,520 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:50:04,521 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:50:04,521 - DEBUG - Max ID Order is (231,)
2018-02-26 10:50:04,522 - DEBUG - Today is 2018-02-26
2018-02-26 10:50:04,522 - DEBUG - Day of the week 0
2018-02-26 10:50:04,522 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:50:04,523 - DEBUG - In Position is  0
2018-02-26 10:50:04,523 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:50:04,523 - DEBUG - curStopLossFlag is  0
2018-02-26 10:50:04,523 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:50:04,523 - DEBUG - Checking if Entry has been filled
2018-02-26 10:50:04,524 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:50:04,525 - DEBUG - EntryPend is 1
2018-02-26 10:50:04,525 - DEBUG - Try to Cancel Stop
2018-02-26 10:50:04,526 - DEBUG - Stop API ID 0
2018-02-26 10:50:04,526 - DEBUG - Profit API ID 0
2018-02-26 10:50:04,526 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:50:04,526 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:50:04,527 - DEBUG - Pos is 0
2018-02-26 10:50:04,527 - DEBUG - CurCount is 0
2018-02-26 10:50:04,527 - DEBUG - In Pos 0
2018-02-26 10:50:04,527 - DEBUG - Stop ID is 0
2018-02-26 10:50:04,527 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:50:04,529 - DEBUG - EntryPend is 1
2018-02-26 10:50:04,529 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:50:04,529 - DEBUG - Entry Date is 10
2018-02-26 10:50:04,530 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:50:04,530 - DEBUG - Order Profit ID is 228
2018-02-26 10:50:04,530 - DEBUG - Order Entry ID is 228
2018-02-26 10:50:04,530 - DEBUG - API ID is  0
2018-02-26 10:50:04,530 - DEBUG - Current Position is 0
2018-02-26 10:50:04,531 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:50:04,531 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:50:04,531 - DEBUG - Time is 10
2018-02-26 10:50:04,531 - DEBUG - Time is <class 'int'>
2018-02-26 10:50:04,532 - DEBUG - Disconnected from IBController
2018-02-26 10:50:04,532 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:55:00,262 - DEBUG - ****************************************************
2018-02-26 10:55:00,262 - DEBUG - Current Time is 10:55AM
2018-02-26 10:55:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-26 10:55:00,263 - DEBUG - Connecting to database
2018-02-26 10:55:00,380 - DEBUG - Connected to database
2018-02-26 10:55:00,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:00,400 - DEBUG - Order Profit is 228
2018-02-26 10:55:00,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:00,433 - DEBUG - Stop ID is 0
2018-02-26 10:55:00,433 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:00,459 - DEBUG - Entry ID is 228
2018-02-26 10:55:00,459 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:55:00,477 - DEBUG - OCA ID is 1
2018-02-26 10:55:00,478 - DEBUG - Connecting to IBController
2018-02-26 10:55:01,485 - DEBUG - Connected to IBController
2018-02-26 10:55:01,485 - DEBUG - Position requested
2018-02-26 10:55:01,490 - DEBUG - Pos Mgmt 1
2018-02-26 10:55:01,490 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDE10>, pos=1, avgCost=28732.9>
2018-02-26 10:55:01,491 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:55:01,491 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:55:01,491 - DEBUG - Position is 1
2018-02-26 10:55:01,492 - DEBUG - Pos Mgmt -12987
2018-02-26 10:55:01,492 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:55:01,492 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:55:01,493 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:55:01,493 - DEBUG - Position is -12987
2018-02-26 10:55:02,490 - DEBUG - Open Orders requested
2018-02-26 10:55:02,495 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDF28>, order=<ib.ext.Order.Order object at 0x00000000020BDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002152198>>
2018-02-26 10:55:02,496 - DEBUG - Order OrderID 225
2018-02-26 10:55:02,496 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:55:02,496 - DEBUG - Order status PreSubmitted
2018-02-26 10:55:02,497 - DEBUG - Order Identification 225
2018-02-26 10:55:02,497 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:55:02,497 - DEBUG - Profit ID from database is 228
2018-02-26 10:55:02,497 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:55:02,498 - DEBUG - Stop ID database is 0
2018-02-26 10:55:02,498 - DEBUG - Entry ID database is 228
2018-02-26 10:55:02,499 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x00000000020BDF28>, order=<ib.ext.Order.Order object at 0x00000000020BDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002152128>>
2018-02-26 10:55:02,499 - DEBUG - Order OrderID 231
2018-02-26 10:55:02,500 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:55:02,500 - DEBUG - Order status PreSubmitted
2018-02-26 10:55:02,500 - DEBUG - Order Identification 231
2018-02-26 10:55:02,501 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:55:02,501 - DEBUG - Profit ID from database is 228
2018-02-26 10:55:02,501 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:55:02,501 - DEBUG - Stop ID database is 0
2018-02-26 10:55:02,502 - DEBUG - Entry ID database is 228
2018-02-26 10:55:04,495 - DEBUG - Connecting to database
2018-02-26 10:55:04,503 - DEBUG - Connected to database
2018-02-26 10:55:04,504 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,505 - DEBUG - Stop loss value is 2731.25
2018-02-26 10:55:04,506 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,506 - DEBUG - Stop loss value is 2671.5
2018-02-26 10:55:04,508 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,508 - DEBUG - EntryPrice value is 2681.0
2018-02-26 10:55:04,509 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,510 - DEBUG - Stop quantity 1
2018-02-26 10:55:04,511 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,512 - DEBUG - Direction is Short
2018-02-26 10:55:04,513 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,513 - DEBUG - Count is 0
2018-02-26 10:55:04,514 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 10:55:04,515 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:55:04,516 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:55:04,516 - DEBUG - Max ID Order is (231,)
2018-02-26 10:55:04,517 - DEBUG - Today is 2018-02-26
2018-02-26 10:55:04,517 - DEBUG - Day of the week 0
2018-02-26 10:55:04,518 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:55:04,518 - DEBUG - In Position is  0
2018-02-26 10:55:04,518 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:55:04,518 - DEBUG - curStopLossFlag is  0
2018-02-26 10:55:04,519 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:55:04,519 - DEBUG - Checking if Entry has been filled
2018-02-26 10:55:04,519 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:55:04,520 - DEBUG - EntryPend is 1
2018-02-26 10:55:04,521 - DEBUG - Try to Cancel Stop
2018-02-26 10:55:04,521 - DEBUG - Stop API ID 0
2018-02-26 10:55:04,521 - DEBUG - Profit API ID 0
2018-02-26 10:55:04,521 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:55:04,522 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:55:04,522 - DEBUG - Pos is 0
2018-02-26 10:55:04,522 - DEBUG - CurCount is 0
2018-02-26 10:55:04,522 - DEBUG - In Pos 0
2018-02-26 10:55:04,523 - DEBUG - Stop ID is 0
2018-02-26 10:55:04,523 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 10:55:04,524 - DEBUG - EntryPend is 1
2018-02-26 10:55:04,524 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:55:04,525 - DEBUG - Entry Date is 10
2018-02-26 10:55:04,525 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:55:04,525 - DEBUG - Order Profit ID is 228
2018-02-26 10:55:04,525 - DEBUG - Order Entry ID is 228
2018-02-26 10:55:04,526 - DEBUG - API ID is  0
2018-02-26 10:55:04,526 - DEBUG - Current Position is 0
2018-02-26 10:55:04,526 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:55:04,526 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:55:04,527 - DEBUG - Time is 10
2018-02-26 10:55:04,527 - DEBUG - Time is <class 'int'>
2018-02-26 10:55:04,527 - DEBUG - Disconnected from IBController
2018-02-26 10:55:04,528 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:00:00,274 - DEBUG - ****************************************************
2018-02-26 11:00:00,275 - DEBUG - Current Time is 11:00AM
2018-02-26 11:00:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:00:00,276 - DEBUG - Connecting to database
2018-02-26 11:00:00,464 - DEBUG - Connected to database
2018-02-26 11:00:00,465 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:00,478 - DEBUG - Order Profit is 228
2018-02-26 11:00:00,478 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:00,527 - DEBUG - Stop ID is 0
2018-02-26 11:00:00,527 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:00,542 - DEBUG - Entry ID is 228
2018-02-26 11:00:00,542 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:00:00,601 - DEBUG - OCA ID is 1
2018-02-26 11:00:00,601 - DEBUG - Connecting to IBController
2018-02-26 11:00:01,607 - DEBUG - Connected to IBController
2018-02-26 11:00:01,607 - DEBUG - Position requested
2018-02-26 11:00:01,609 - DEBUG - Pos Mgmt 1
2018-02-26 11:00:01,609 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BA90>, pos=1, avgCost=28732.9>
2018-02-26 11:00:01,610 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:00:01,610 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:00:01,610 - DEBUG - Position is 1
2018-02-26 11:00:01,611 - DEBUG - Pos Mgmt -12987
2018-02-26 11:00:01,611 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BCF8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:00:01,611 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:00:01,612 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:00:01,612 - DEBUG - Position is -12987
2018-02-26 11:00:02,608 - DEBUG - Open Orders requested
2018-02-26 11:00:02,610 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201BF28>, order=<ib.ext.Order.Order object at 0x000000000201BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0198>>
2018-02-26 11:00:02,610 - DEBUG - Order OrderID 225
2018-02-26 11:00:02,611 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:00:02,611 - DEBUG - Order status PreSubmitted
2018-02-26 11:00:02,612 - DEBUG - Order Identification 225
2018-02-26 11:00:02,612 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:00:02,612 - DEBUG - Profit ID from database is 228
2018-02-26 11:00:02,612 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:00:02,613 - DEBUG - Stop ID database is 0
2018-02-26 11:00:02,613 - DEBUG - Entry ID database is 228
2018-02-26 11:00:02,614 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000201BF28>, order=<ib.ext.Order.Order object at 0x000000000201BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B00B8>>
2018-02-26 11:00:02,614 - DEBUG - Order OrderID 231
2018-02-26 11:00:02,615 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:00:02,615 - DEBUG - Order status PreSubmitted
2018-02-26 11:00:02,615 - DEBUG - Order Identification 231
2018-02-26 11:00:02,615 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:00:02,616 - DEBUG - Profit ID from database is 228
2018-02-26 11:00:02,616 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:00:02,616 - DEBUG - Stop ID database is 0
2018-02-26 11:00:02,616 - DEBUG - Entry ID database is 228
2018-02-26 11:00:04,610 - DEBUG - Connecting to database
2018-02-26 11:00:04,617 - DEBUG - Connected to database
2018-02-26 11:00:04,619 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,619 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:00:04,621 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,621 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:00:04,622 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,623 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:00:04,624 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,624 - DEBUG - Stop quantity 1
2018-02-26 11:00:04,626 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,626 - DEBUG - Direction is Short
2018-02-26 11:00:04,628 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,628 - DEBUG - Count is 0
2018-02-26 11:00:04,629 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:00:04,630 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:00:04,631 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:00:04,631 - DEBUG - Max ID Order is (231,)
2018-02-26 11:00:04,632 - DEBUG - Today is 2018-02-26
2018-02-26 11:00:04,632 - DEBUG - Day of the week 0
2018-02-26 11:00:04,632 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:00:04,633 - DEBUG - In Position is  0
2018-02-26 11:00:04,633 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:00:04,633 - DEBUG - curStopLossFlag is  0
2018-02-26 11:00:04,634 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:00:04,634 - DEBUG - Checking if Entry has been filled
2018-02-26 11:00:04,634 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:00:04,635 - DEBUG - EntryPend is 1
2018-02-26 11:00:04,636 - DEBUG - Try to Cancel Stop
2018-02-26 11:00:04,636 - DEBUG - Stop API ID 0
2018-02-26 11:00:04,636 - DEBUG - Profit API ID 0
2018-02-26 11:00:04,636 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:00:04,637 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:00:04,637 - DEBUG - Pos is 0
2018-02-26 11:00:04,637 - DEBUG - CurCount is 0
2018-02-26 11:00:04,637 - DEBUG - In Pos 0
2018-02-26 11:00:04,638 - DEBUG - Stop ID is 0
2018-02-26 11:00:04,638 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:00:04,639 - DEBUG - EntryPend is 1
2018-02-26 11:00:04,639 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:00:04,640 - DEBUG - Entry Date is 10
2018-02-26 11:00:04,640 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:00:04,640 - DEBUG - Order Profit ID is 228
2018-02-26 11:00:04,640 - DEBUG - Order Entry ID is 228
2018-02-26 11:00:04,641 - DEBUG - API ID is  0
2018-02-26 11:00:04,641 - DEBUG - Current Position is 0
2018-02-26 11:00:04,641 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:00:04,641 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:00:04,641 - DEBUG - Time is 11
2018-02-26 11:00:04,642 - DEBUG - Time is <class 'int'>
2018-02-26 11:00:04,642 - DEBUG - Disconnected from IBController
2018-02-26 11:00:04,642 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:05:00,270 - DEBUG - ****************************************************
2018-02-26 11:05:00,271 - DEBUG - Current Time is 11:05AM
2018-02-26 11:05:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:05:00,271 - DEBUG - Connecting to database
2018-02-26 11:05:00,322 - DEBUG - Connected to database
2018-02-26 11:05:00,322 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:00,421 - DEBUG - Order Profit is 228
2018-02-26 11:05:00,421 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:00,424 - DEBUG - Stop ID is 0
2018-02-26 11:05:00,425 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:00,427 - DEBUG - Entry ID is 228
2018-02-26 11:05:00,427 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:05:00,432 - DEBUG - OCA ID is 1
2018-02-26 11:05:00,433 - DEBUG - Connecting to IBController
2018-02-26 11:05:01,439 - DEBUG - Connected to IBController
2018-02-26 11:05:01,439 - DEBUG - Position requested
2018-02-26 11:05:01,441 - DEBUG - Pos Mgmt 1
2018-02-26 11:05:01,441 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DE10>, pos=1, avgCost=28732.9>
2018-02-26 11:05:01,442 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:05:01,442 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:05:01,442 - DEBUG - Position is 1
2018-02-26 11:05:01,442 - DEBUG - Pos Mgmt -12987
2018-02-26 11:05:01,443 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:05:01,443 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:05:01,443 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:05:01,443 - DEBUG - Position is -12987
2018-02-26 11:05:02,441 - DEBUG - Open Orders requested
2018-02-26 11:05:02,443 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DF28>, order=<ib.ext.Order.Order object at 0x000000000209DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132198>>
2018-02-26 11:05:02,444 - DEBUG - Order OrderID 225
2018-02-26 11:05:02,444 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:05:02,445 - DEBUG - Order status PreSubmitted
2018-02-26 11:05:02,445 - DEBUG - Order Identification 225
2018-02-26 11:05:02,445 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:05:02,445 - DEBUG - Profit ID from database is 228
2018-02-26 11:05:02,446 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:05:02,446 - DEBUG - Stop ID database is 0
2018-02-26 11:05:02,446 - DEBUG - Entry ID database is 228
2018-02-26 11:05:02,447 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000209DF28>, order=<ib.ext.Order.Order object at 0x000000000209DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132160>>
2018-02-26 11:05:02,448 - DEBUG - Order OrderID 231
2018-02-26 11:05:02,448 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:05:02,448 - DEBUG - Order status PreSubmitted
2018-02-26 11:05:02,449 - DEBUG - Order Identification 231
2018-02-26 11:05:02,449 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:05:02,449 - DEBUG - Profit ID from database is 228
2018-02-26 11:05:02,449 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:05:02,450 - DEBUG - Stop ID database is 0
2018-02-26 11:05:02,450 - DEBUG - Entry ID database is 228
2018-02-26 11:05:04,443 - DEBUG - Connecting to database
2018-02-26 11:05:04,450 - DEBUG - Connected to database
2018-02-26 11:05:04,452 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,452 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:05:04,454 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,455 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:05:04,456 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,456 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:05:04,458 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,458 - DEBUG - Stop quantity 1
2018-02-26 11:05:04,460 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,460 - DEBUG - Direction is Short
2018-02-26 11:05:04,462 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,462 - DEBUG - Count is 0
2018-02-26 11:05:04,463 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:05:04,464 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:05:04,465 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:05:04,465 - DEBUG - Max ID Order is (231,)
2018-02-26 11:05:04,466 - DEBUG - Today is 2018-02-26
2018-02-26 11:05:04,466 - DEBUG - Day of the week 0
2018-02-26 11:05:04,466 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:05:04,467 - DEBUG - In Position is  0
2018-02-26 11:05:04,467 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:05:04,467 - DEBUG - curStopLossFlag is  0
2018-02-26 11:05:04,467 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:05:04,468 - DEBUG - Checking if Entry has been filled
2018-02-26 11:05:04,468 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:05:04,469 - DEBUG - EntryPend is 1
2018-02-26 11:05:04,469 - DEBUG - Try to Cancel Stop
2018-02-26 11:05:04,470 - DEBUG - Stop API ID 0
2018-02-26 11:05:04,470 - DEBUG - Profit API ID 0
2018-02-26 11:05:04,470 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:05:04,470 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:05:04,471 - DEBUG - Pos is 0
2018-02-26 11:05:04,471 - DEBUG - CurCount is 0
2018-02-26 11:05:04,471 - DEBUG - In Pos 0
2018-02-26 11:05:04,471 - DEBUG - Stop ID is 0
2018-02-26 11:05:04,471 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:05:04,473 - DEBUG - EntryPend is 1
2018-02-26 11:05:04,473 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:05:04,473 - DEBUG - Entry Date is 10
2018-02-26 11:05:04,474 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:05:04,474 - DEBUG - Order Profit ID is 228
2018-02-26 11:05:04,474 - DEBUG - Order Entry ID is 228
2018-02-26 11:05:04,474 - DEBUG - API ID is  0
2018-02-26 11:05:04,475 - DEBUG - Current Position is 0
2018-02-26 11:05:04,475 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:05:04,475 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:05:04,475 - DEBUG - Time is 11
2018-02-26 11:05:04,475 - DEBUG - Time is <class 'int'>
2018-02-26 11:05:04,476 - DEBUG - Disconnected from IBController
2018-02-26 11:05:04,477 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:10:00,267 - DEBUG - ****************************************************
2018-02-26 11:10:00,268 - DEBUG - Current Time is 11:10AM
2018-02-26 11:10:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:10:00,268 - DEBUG - Connecting to database
2018-02-26 11:10:00,419 - DEBUG - Connected to database
2018-02-26 11:10:00,419 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:00,437 - DEBUG - Order Profit is 228
2018-02-26 11:10:00,437 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:00,453 - DEBUG - Stop ID is 0
2018-02-26 11:10:00,454 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:00,478 - DEBUG - Entry ID is 228
2018-02-26 11:10:00,479 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:10:00,506 - DEBUG - OCA ID is 1
2018-02-26 11:10:00,507 - DEBUG - Connecting to IBController
2018-02-26 11:10:01,515 - DEBUG - Connected to IBController
2018-02-26 11:10:01,515 - DEBUG - Position requested
2018-02-26 11:10:01,517 - DEBUG - Pos Mgmt 0
2018-02-26 11:10:01,517 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BD68>, pos=0, avgCost=0.0>
2018-02-26 11:10:01,517 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:10:01,518 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:10:01,518 - DEBUG - Position is 0
2018-02-26 11:10:01,518 - DEBUG - Pos Mgmt -12987
2018-02-26 11:10:01,519 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201BC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:10:01,519 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:10:01,519 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:10:01,519 - DEBUG - Position is -12987
2018-02-26 11:10:02,516 - DEBUG - Open Orders requested
2018-02-26 11:10:02,518 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201BE48>, order=<ib.ext.Order.Order object at 0x000000000201BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0128>>
2018-02-26 11:10:02,519 - DEBUG - Order OrderID 225
2018-02-26 11:10:02,519 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:10:02,519 - DEBUG - Order status PreSubmitted
2018-02-26 11:10:02,520 - DEBUG - Order Identification 225
2018-02-26 11:10:02,520 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:10:02,520 - DEBUG - Profit ID from database is 228
2018-02-26 11:10:02,520 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:10:02,521 - DEBUG - Stop ID database is 0
2018-02-26 11:10:02,521 - DEBUG - Entry ID database is 228
2018-02-26 11:10:04,518 - DEBUG - Connecting to database
2018-02-26 11:10:04,525 - DEBUG - Connected to database
2018-02-26 11:10:04,527 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,527 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:10:04,529 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,529 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:10:04,530 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,531 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:10:04,532 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,532 - DEBUG - Stop quantity 1
2018-02-26 11:10:04,534 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,534 - DEBUG - Direction is Short
2018-02-26 11:10:04,535 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,536 - DEBUG - Count is 0
2018-02-26 11:10:04,537 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:10:04,537 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:10:04,539 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:10:04,539 - DEBUG - Max ID Order is (231,)
2018-02-26 11:10:04,540 - DEBUG - Today is 2018-02-26
2018-02-26 11:10:04,540 - DEBUG - Day of the week 0
2018-02-26 11:10:04,540 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:10:04,540 - DEBUG - In Position is  0
2018-02-26 11:10:04,541 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:10:04,541 - DEBUG - curStopLossFlag is  0
2018-02-26 11:10:04,541 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:10:04,541 - DEBUG - Checking if Entry has been filled
2018-02-26 11:10:04,542 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:10:04,543 - DEBUG - EntryPend is 1
2018-02-26 11:10:04,543 - DEBUG - Try to Cancel Stop
2018-02-26 11:10:04,544 - DEBUG - Stop API ID 0
2018-02-26 11:10:04,544 - DEBUG - Profit API ID 0
2018-02-26 11:10:04,544 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:10:04,544 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:10:04,544 - DEBUG - Pos is 0
2018-02-26 11:10:04,545 - DEBUG - CurCount is 0
2018-02-26 11:10:04,545 - DEBUG - In Pos 0
2018-02-26 11:10:04,545 - DEBUG - Stop ID is 0
2018-02-26 11:10:04,545 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:10:04,548 - DEBUG - EntryPend is 1
2018-02-26 11:10:04,548 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:10:04,548 - DEBUG - Entry Date is 10
2018-02-26 11:10:04,549 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:10:04,549 - DEBUG - Order Profit ID is 228
2018-02-26 11:10:04,549 - DEBUG - Order Entry ID is 228
2018-02-26 11:10:04,549 - DEBUG - API ID is  0
2018-02-26 11:10:04,549 - DEBUG - Current Position is 0
2018-02-26 11:10:04,550 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:10:04,550 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:10:04,550 - DEBUG - Time is 11
2018-02-26 11:10:04,550 - DEBUG - Time is <class 'int'>
2018-02-26 11:10:04,551 - DEBUG - Disconnected from IBController
2018-02-26 11:10:04,551 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:15:00,268 - DEBUG - ****************************************************
2018-02-26 11:15:00,268 - DEBUG - Current Time is 11:15AM
2018-02-26 11:15:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:15:00,269 - DEBUG - Connecting to database
2018-02-26 11:15:00,426 - DEBUG - Connected to database
2018-02-26 11:15:00,426 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:00,434 - DEBUG - Order Profit is 228
2018-02-26 11:15:00,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:00,463 - DEBUG - Stop ID is 0
2018-02-26 11:15:00,463 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:00,515 - DEBUG - Entry ID is 228
2018-02-26 11:15:00,515 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:15:00,532 - DEBUG - OCA ID is 1
2018-02-26 11:15:00,533 - DEBUG - Connecting to IBController
2018-02-26 11:15:01,542 - DEBUG - Connected to IBController
2018-02-26 11:15:01,542 - DEBUG - Position requested
2018-02-26 11:15:01,544 - DEBUG - Pos Mgmt 0
2018-02-26 11:15:01,544 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BB00>, pos=0, avgCost=0.0>
2018-02-26 11:15:01,545 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:15:01,545 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:15:01,545 - DEBUG - Position is 0
2018-02-26 11:15:01,545 - DEBUG - Pos Mgmt -12987
2018-02-26 11:15:01,546 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:15:01,546 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:15:01,546 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:15:01,546 - DEBUG - Position is -12987
2018-02-26 11:15:02,544 - DEBUG - Open Orders requested
2018-02-26 11:15:02,546 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208BE48>, order=<ib.ext.Order.Order object at 0x000000000208BCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120128>>
2018-02-26 11:15:02,546 - DEBUG - Order OrderID 225
2018-02-26 11:15:02,547 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:15:02,547 - DEBUG - Order status PreSubmitted
2018-02-26 11:15:02,548 - DEBUG - Order Identification 225
2018-02-26 11:15:02,548 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:15:02,548 - DEBUG - Profit ID from database is 228
2018-02-26 11:15:02,548 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:15:02,549 - DEBUG - Stop ID database is 0
2018-02-26 11:15:02,549 - DEBUG - Entry ID database is 228
2018-02-26 11:15:04,546 - DEBUG - Connecting to database
2018-02-26 11:15:04,553 - DEBUG - Connected to database
2018-02-26 11:15:04,554 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,555 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:15:04,557 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,557 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:15:04,560 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,561 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:15:04,562 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,562 - DEBUG - Stop quantity 1
2018-02-26 11:15:04,564 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,564 - DEBUG - Direction is Short
2018-02-26 11:15:04,565 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,566 - DEBUG - Count is 0
2018-02-26 11:15:04,567 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:15:04,567 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:15:04,570 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:15:04,570 - DEBUG - Max ID Order is (231,)
2018-02-26 11:15:04,571 - DEBUG - Today is 2018-02-26
2018-02-26 11:15:04,571 - DEBUG - Day of the week 0
2018-02-26 11:15:04,572 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:15:04,572 - DEBUG - In Position is  0
2018-02-26 11:15:04,572 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:15:04,572 - DEBUG - curStopLossFlag is  0
2018-02-26 11:15:04,573 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:15:04,573 - DEBUG - Checking if Entry has been filled
2018-02-26 11:15:04,573 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:15:04,574 - DEBUG - EntryPend is 1
2018-02-26 11:15:04,575 - DEBUG - Try to Cancel Stop
2018-02-26 11:15:04,575 - DEBUG - Stop API ID 0
2018-02-26 11:15:04,575 - DEBUG - Profit API ID 0
2018-02-26 11:15:04,575 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:15:04,576 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:15:04,576 - DEBUG - Pos is 0
2018-02-26 11:15:04,576 - DEBUG - CurCount is 0
2018-02-26 11:15:04,576 - DEBUG - In Pos 0
2018-02-26 11:15:04,577 - DEBUG - Stop ID is 0
2018-02-26 11:15:04,577 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:15:04,578 - DEBUG - EntryPend is 1
2018-02-26 11:15:04,578 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:15:04,579 - DEBUG - Entry Date is 10
2018-02-26 11:15:04,579 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:15:04,579 - DEBUG - Order Profit ID is 228
2018-02-26 11:15:04,579 - DEBUG - Order Entry ID is 228
2018-02-26 11:15:04,580 - DEBUG - API ID is  0
2018-02-26 11:15:04,580 - DEBUG - Current Position is 0
2018-02-26 11:15:04,580 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:15:04,580 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:15:04,581 - DEBUG - Time is 11
2018-02-26 11:15:04,581 - DEBUG - Time is <class 'int'>
2018-02-26 11:15:04,581 - DEBUG - Disconnected from IBController
2018-02-26 11:15:04,581 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:20:00,261 - DEBUG - ****************************************************
2018-02-26 11:20:00,262 - DEBUG - Current Time is 11:20AM
2018-02-26 11:20:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:20:00,262 - DEBUG - Connecting to database
2018-02-26 11:20:00,436 - DEBUG - Connected to database
2018-02-26 11:20:00,436 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:00,449 - DEBUG - Order Profit is 228
2018-02-26 11:20:00,449 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:00,488 - DEBUG - Stop ID is 0
2018-02-26 11:20:00,488 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:00,559 - DEBUG - Entry ID is 228
2018-02-26 11:20:00,559 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:20:00,582 - DEBUG - OCA ID is 1
2018-02-26 11:20:00,582 - DEBUG - Connecting to IBController
2018-02-26 11:20:01,589 - DEBUG - Connected to IBController
2018-02-26 11:20:01,589 - DEBUG - Position requested
2018-02-26 11:20:01,591 - DEBUG - Pos Mgmt 0
2018-02-26 11:20:01,591 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, pos=0, avgCost=0.0>
2018-02-26 11:20:01,591 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:20:01,592 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:20:01,592 - DEBUG - Position is 0
2018-02-26 11:20:01,592 - DEBUG - Pos Mgmt -12987
2018-02-26 11:20:01,592 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:20:01,593 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:20:01,593 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:20:01,593 - DEBUG - Position is -12987
2018-02-26 11:20:02,591 - DEBUG - Open Orders requested
2018-02-26 11:20:02,595 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-26 11:20:02,596 - DEBUG - Order OrderID 225
2018-02-26 11:20:02,596 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:20:02,596 - DEBUG - Order status PreSubmitted
2018-02-26 11:20:02,597 - DEBUG - Order Identification 225
2018-02-26 11:20:02,597 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:20:02,597 - DEBUG - Profit ID from database is 228
2018-02-26 11:20:02,598 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:20:02,598 - DEBUG - Stop ID database is 0
2018-02-26 11:20:02,598 - DEBUG - Entry ID database is 228
2018-02-26 11:20:04,595 - DEBUG - Connecting to database
2018-02-26 11:20:04,603 - DEBUG - Connected to database
2018-02-26 11:20:04,604 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,605 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:20:04,606 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,607 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:20:04,608 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,608 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:20:04,610 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,610 - DEBUG - Stop quantity 1
2018-02-26 11:20:04,611 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,611 - DEBUG - Direction is Short
2018-02-26 11:20:04,613 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,613 - DEBUG - Count is 0
2018-02-26 11:20:04,615 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:20:04,615 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:20:04,617 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:20:04,617 - DEBUG - Max ID Order is (231,)
2018-02-26 11:20:04,618 - DEBUG - Today is 2018-02-26
2018-02-26 11:20:04,618 - DEBUG - Day of the week 0
2018-02-26 11:20:04,619 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:20:04,619 - DEBUG - In Position is  0
2018-02-26 11:20:04,619 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:20:04,619 - DEBUG - curStopLossFlag is  0
2018-02-26 11:20:04,619 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:20:04,620 - DEBUG - Checking if Entry has been filled
2018-02-26 11:20:04,620 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:20:04,624 - DEBUG - EntryPend is 1
2018-02-26 11:20:04,624 - DEBUG - Try to Cancel Stop
2018-02-26 11:20:04,624 - DEBUG - Stop API ID 0
2018-02-26 11:20:04,625 - DEBUG - Profit API ID 0
2018-02-26 11:20:04,625 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:20:04,625 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:20:04,625 - DEBUG - Pos is 0
2018-02-26 11:20:04,626 - DEBUG - CurCount is 0
2018-02-26 11:20:04,626 - DEBUG - In Pos 0
2018-02-26 11:20:04,626 - DEBUG - Stop ID is 0
2018-02-26 11:20:04,626 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:20:04,628 - DEBUG - EntryPend is 1
2018-02-26 11:20:04,629 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:20:04,629 - DEBUG - Entry Date is 10
2018-02-26 11:20:04,629 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:20:04,629 - DEBUG - Order Profit ID is 228
2018-02-26 11:20:04,630 - DEBUG - Order Entry ID is 228
2018-02-26 11:20:04,630 - DEBUG - API ID is  0
2018-02-26 11:20:04,630 - DEBUG - Current Position is 0
2018-02-26 11:20:04,630 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:20:04,631 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:20:04,631 - DEBUG - Time is 11
2018-02-26 11:20:04,631 - DEBUG - Time is <class 'int'>
2018-02-26 11:20:04,631 - DEBUG - Disconnected from IBController
2018-02-26 11:20:04,632 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:25:00,265 - DEBUG - ****************************************************
2018-02-26 11:25:00,266 - DEBUG - Current Time is 11:25AM
2018-02-26 11:25:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:25:00,266 - DEBUG - Connecting to database
2018-02-26 11:25:00,388 - DEBUG - Connected to database
2018-02-26 11:25:00,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:00,398 - DEBUG - Order Profit is 228
2018-02-26 11:25:00,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:00,433 - DEBUG - Stop ID is 0
2018-02-26 11:25:00,433 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:00,458 - DEBUG - Entry ID is 228
2018-02-26 11:25:00,459 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:25:00,466 - DEBUG - OCA ID is 1
2018-02-26 11:25:00,466 - DEBUG - Connecting to IBController
2018-02-26 11:25:01,473 - DEBUG - Connected to IBController
2018-02-26 11:25:01,473 - DEBUG - Position requested
2018-02-26 11:25:01,475 - DEBUG - Pos Mgmt 0
2018-02-26 11:25:01,475 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=0, avgCost=0.0>
2018-02-26 11:25:01,475 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:25:01,476 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:25:01,476 - DEBUG - Position is 0
2018-02-26 11:25:01,476 - DEBUG - Pos Mgmt -12987
2018-02-26 11:25:01,476 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:25:01,477 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:25:01,477 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:25:01,477 - DEBUG - Position is -12987
2018-02-26 11:25:02,475 - DEBUG - Open Orders requested
2018-02-26 11:25:02,479 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000209DB00>>
2018-02-26 11:25:02,480 - DEBUG - Order OrderID 225
2018-02-26 11:25:02,480 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:25:02,481 - DEBUG - Order status PreSubmitted
2018-02-26 11:25:02,481 - DEBUG - Order Identification 225
2018-02-26 11:25:02,481 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:25:02,482 - DEBUG - Profit ID from database is 228
2018-02-26 11:25:02,482 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:25:02,482 - DEBUG - Stop ID database is 0
2018-02-26 11:25:02,482 - DEBUG - Entry ID database is 228
2018-02-26 11:25:04,479 - DEBUG - Connecting to database
2018-02-26 11:25:04,487 - DEBUG - Connected to database
2018-02-26 11:25:04,489 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,489 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:25:04,491 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,491 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:25:04,492 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,493 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:25:04,494 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,495 - DEBUG - Stop quantity 1
2018-02-26 11:25:04,496 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,496 - DEBUG - Direction is Short
2018-02-26 11:25:04,498 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,498 - DEBUG - Count is 0
2018-02-26 11:25:04,499 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:25:04,500 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:25:04,501 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:25:04,501 - DEBUG - Max ID Order is (231,)
2018-02-26 11:25:04,502 - DEBUG - Today is 2018-02-26
2018-02-26 11:25:04,502 - DEBUG - Day of the week 0
2018-02-26 11:25:04,502 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:25:04,503 - DEBUG - In Position is  0
2018-02-26 11:25:04,503 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:25:04,503 - DEBUG - curStopLossFlag is  0
2018-02-26 11:25:04,503 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:25:04,504 - DEBUG - Checking if Entry has been filled
2018-02-26 11:25:04,504 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:25:04,505 - DEBUG - EntryPend is 1
2018-02-26 11:25:04,506 - DEBUG - Try to Cancel Stop
2018-02-26 11:25:04,506 - DEBUG - Stop API ID 0
2018-02-26 11:25:04,506 - DEBUG - Profit API ID 0
2018-02-26 11:25:04,506 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:25:04,507 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:25:04,507 - DEBUG - Pos is 0
2018-02-26 11:25:04,507 - DEBUG - CurCount is 0
2018-02-26 11:25:04,507 - DEBUG - In Pos 0
2018-02-26 11:25:04,508 - DEBUG - Stop ID is 0
2018-02-26 11:25:04,508 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:25:04,509 - DEBUG - EntryPend is 1
2018-02-26 11:25:04,509 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:25:04,510 - DEBUG - Entry Date is 10
2018-02-26 11:25:04,510 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:25:04,510 - DEBUG - Order Profit ID is 228
2018-02-26 11:25:04,510 - DEBUG - Order Entry ID is 228
2018-02-26 11:25:04,510 - DEBUG - API ID is  0
2018-02-26 11:25:04,511 - DEBUG - Current Position is 0
2018-02-26 11:25:04,511 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:25:04,511 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:25:04,511 - DEBUG - Time is 11
2018-02-26 11:25:04,512 - DEBUG - Time is <class 'int'>
2018-02-26 11:25:04,512 - DEBUG - Disconnected from IBController
2018-02-26 11:25:04,512 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:30:00,260 - DEBUG - ****************************************************
2018-02-26 11:30:00,261 - DEBUG - Current Time is 11:30AM
2018-02-26 11:30:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:30:00,261 - DEBUG - Connecting to database
2018-02-26 11:30:00,366 - DEBUG - Connected to database
2018-02-26 11:30:00,366 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:00,380 - DEBUG - Order Profit is 228
2018-02-26 11:30:00,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:00,441 - DEBUG - Stop ID is 0
2018-02-26 11:30:00,441 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:00,447 - DEBUG - Entry ID is 228
2018-02-26 11:30:00,447 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:30:00,453 - DEBUG - OCA ID is 1
2018-02-26 11:30:00,453 - DEBUG - Connecting to IBController
2018-02-26 11:30:01,458 - DEBUG - Connected to IBController
2018-02-26 11:30:01,458 - DEBUG - Position requested
2018-02-26 11:30:01,460 - DEBUG - Pos Mgmt 0
2018-02-26 11:30:01,460 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CCF8>, pos=0, avgCost=0.0>
2018-02-26 11:30:01,460 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:30:01,461 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:30:01,461 - DEBUG - Position is 0
2018-02-26 11:30:01,461 - DEBUG - Pos Mgmt -12987
2018-02-26 11:30:01,462 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:30:01,462 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:30:01,462 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:30:01,462 - DEBUG - Position is -12987
2018-02-26 11:30:02,459 - DEBUG - Open Orders requested
2018-02-26 11:30:02,461 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CE48>, order=<ib.ext.Order.Order object at 0x000000000209CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-26 11:30:02,462 - DEBUG - Order OrderID 225
2018-02-26 11:30:02,463 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:30:02,464 - DEBUG - Order status PreSubmitted
2018-02-26 11:30:02,464 - DEBUG - Order Identification 225
2018-02-26 11:30:02,464 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:30:02,465 - DEBUG - Profit ID from database is 228
2018-02-26 11:30:02,465 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:30:02,465 - DEBUG - Stop ID database is 0
2018-02-26 11:30:02,465 - DEBUG - Entry ID database is 228
2018-02-26 11:30:04,461 - DEBUG - Connecting to database
2018-02-26 11:30:04,468 - DEBUG - Connected to database
2018-02-26 11:30:04,470 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,470 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:30:04,472 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,472 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:30:04,473 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,474 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:30:04,475 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,475 - DEBUG - Stop quantity 1
2018-02-26 11:30:04,477 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,477 - DEBUG - Direction is Short
2018-02-26 11:30:04,478 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,479 - DEBUG - Count is 0
2018-02-26 11:30:04,480 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:30:04,480 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:30:04,482 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:30:04,482 - DEBUG - Max ID Order is (231,)
2018-02-26 11:30:04,483 - DEBUG - Today is 2018-02-26
2018-02-26 11:30:04,483 - DEBUG - Day of the week 0
2018-02-26 11:30:04,483 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:30:04,484 - DEBUG - In Position is  0
2018-02-26 11:30:04,484 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:30:04,484 - DEBUG - curStopLossFlag is  0
2018-02-26 11:30:04,484 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:30:04,484 - DEBUG - Checking if Entry has been filled
2018-02-26 11:30:04,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:30:04,486 - DEBUG - EntryPend is 1
2018-02-26 11:30:04,486 - DEBUG - Try to Cancel Stop
2018-02-26 11:30:04,487 - DEBUG - Stop API ID 0
2018-02-26 11:30:04,487 - DEBUG - Profit API ID 0
2018-02-26 11:30:04,487 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:30:04,487 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:30:04,488 - DEBUG - Pos is 0
2018-02-26 11:30:04,488 - DEBUG - CurCount is 0
2018-02-26 11:30:04,488 - DEBUG - In Pos 0
2018-02-26 11:30:04,488 - DEBUG - Stop ID is 0
2018-02-26 11:30:04,489 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:30:04,490 - DEBUG - EntryPend is 1
2018-02-26 11:30:04,491 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:30:04,491 - DEBUG - Entry Date is 10
2018-02-26 11:30:04,491 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:30:04,491 - DEBUG - Order Profit ID is 228
2018-02-26 11:30:04,491 - DEBUG - Order Entry ID is 228
2018-02-26 11:30:04,492 - DEBUG - API ID is  0
2018-02-26 11:30:04,492 - DEBUG - Current Position is 0
2018-02-26 11:30:04,492 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:30:04,492 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:30:04,493 - DEBUG - Time is 11
2018-02-26 11:30:04,493 - DEBUG - Time is <class 'int'>
2018-02-26 11:30:04,493 - DEBUG - Disconnected from IBController
2018-02-26 11:30:04,493 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:35:00,261 - DEBUG - ****************************************************
2018-02-26 11:35:00,262 - DEBUG - Current Time is 11:35AM
2018-02-26 11:35:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:35:00,262 - DEBUG - Connecting to database
2018-02-26 11:35:00,446 - DEBUG - Connected to database
2018-02-26 11:35:00,447 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:00,468 - DEBUG - Order Profit is 228
2018-02-26 11:35:00,468 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:00,494 - DEBUG - Stop ID is 0
2018-02-26 11:35:00,494 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:00,520 - DEBUG - Entry ID is 228
2018-02-26 11:35:00,521 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:35:00,544 - DEBUG - OCA ID is 1
2018-02-26 11:35:00,544 - DEBUG - Connecting to IBController
2018-02-26 11:35:01,550 - DEBUG - Connected to IBController
2018-02-26 11:35:01,550 - DEBUG - Position requested
2018-02-26 11:35:01,552 - DEBUG - Pos Mgmt 0
2018-02-26 11:35:01,552 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CB00>, pos=0, avgCost=0.0>
2018-02-26 11:35:01,552 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:35:01,553 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:35:01,553 - DEBUG - Position is 0
2018-02-26 11:35:01,553 - DEBUG - Pos Mgmt -12987
2018-02-26 11:35:01,553 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:35:01,554 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:35:01,554 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:35:01,554 - DEBUG - Position is -12987
2018-02-26 11:35:02,552 - DEBUG - Open Orders requested
2018-02-26 11:35:02,554 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201CE48>, order=<ib.ext.Order.Order object at 0x000000000201CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1128>>
2018-02-26 11:35:02,554 - DEBUG - Order OrderID 225
2018-02-26 11:35:02,555 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:35:02,555 - DEBUG - Order status PreSubmitted
2018-02-26 11:35:02,556 - DEBUG - Order Identification 225
2018-02-26 11:35:02,556 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:35:02,556 - DEBUG - Profit ID from database is 228
2018-02-26 11:35:02,556 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:35:02,556 - DEBUG - Stop ID database is 0
2018-02-26 11:35:02,557 - DEBUG - Entry ID database is 228
2018-02-26 11:35:04,554 - DEBUG - Connecting to database
2018-02-26 11:35:04,561 - DEBUG - Connected to database
2018-02-26 11:35:04,563 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,563 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:35:04,564 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,565 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:35:04,566 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,566 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:35:04,568 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,568 - DEBUG - Stop quantity 1
2018-02-26 11:35:04,569 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,570 - DEBUG - Direction is Short
2018-02-26 11:35:04,571 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,571 - DEBUG - Count is 0
2018-02-26 11:35:04,573 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:35:04,573 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:35:04,575 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:35:04,575 - DEBUG - Max ID Order is (231,)
2018-02-26 11:35:04,575 - DEBUG - Today is 2018-02-26
2018-02-26 11:35:04,576 - DEBUG - Day of the week 0
2018-02-26 11:35:04,576 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:35:04,576 - DEBUG - In Position is  0
2018-02-26 11:35:04,577 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:35:04,577 - DEBUG - curStopLossFlag is  0
2018-02-26 11:35:04,577 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:35:04,577 - DEBUG - Checking if Entry has been filled
2018-02-26 11:35:04,577 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:35:04,579 - DEBUG - EntryPend is 1
2018-02-26 11:35:04,579 - DEBUG - Try to Cancel Stop
2018-02-26 11:35:04,579 - DEBUG - Stop API ID 0
2018-02-26 11:35:04,580 - DEBUG - Profit API ID 0
2018-02-26 11:35:04,580 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:35:04,580 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:35:04,580 - DEBUG - Pos is 0
2018-02-26 11:35:04,581 - DEBUG - CurCount is 0
2018-02-26 11:35:04,581 - DEBUG - In Pos 0
2018-02-26 11:35:04,581 - DEBUG - Stop ID is 0
2018-02-26 11:35:04,581 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:35:04,583 - DEBUG - EntryPend is 1
2018-02-26 11:35:04,583 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:35:04,583 - DEBUG - Entry Date is 10
2018-02-26 11:35:04,583 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:35:04,584 - DEBUG - Order Profit ID is 228
2018-02-26 11:35:04,584 - DEBUG - Order Entry ID is 228
2018-02-26 11:35:04,584 - DEBUG - API ID is  0
2018-02-26 11:35:04,584 - DEBUG - Current Position is 0
2018-02-26 11:35:04,585 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:35:04,585 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:35:04,585 - DEBUG - Time is 11
2018-02-26 11:35:04,585 - DEBUG - Time is <class 'int'>
2018-02-26 11:35:04,586 - DEBUG - Disconnected from IBController
2018-02-26 11:35:04,586 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:40:00,265 - DEBUG - ****************************************************
2018-02-26 11:40:00,265 - DEBUG - Current Time is 11:40AM
2018-02-26 11:40:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:40:00,266 - DEBUG - Connecting to database
2018-02-26 11:40:00,317 - DEBUG - Connected to database
2018-02-26 11:40:00,318 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:00,320 - DEBUG - Order Profit is 228
2018-02-26 11:40:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:00,325 - DEBUG - Stop ID is 0
2018-02-26 11:40:00,326 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:00,328 - DEBUG - Entry ID is 228
2018-02-26 11:40:00,328 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:40:00,338 - DEBUG - OCA ID is 1
2018-02-26 11:40:00,338 - DEBUG - Connecting to IBController
2018-02-26 11:40:01,344 - DEBUG - Connected to IBController
2018-02-26 11:40:01,344 - DEBUG - Position requested
2018-02-26 11:40:01,346 - DEBUG - Pos Mgmt 0
2018-02-26 11:40:01,346 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, pos=0, avgCost=0.0>
2018-02-26 11:40:01,347 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:40:01,347 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:40:01,347 - DEBUG - Position is 0
2018-02-26 11:40:01,347 - DEBUG - Pos Mgmt -12987
2018-02-26 11:40:01,348 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:40:01,348 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:40:01,348 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:40:01,352 - DEBUG - Position is -12987
2018-02-26 11:40:02,345 - DEBUG - Open Orders requested
2018-02-26 11:40:02,351 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-26 11:40:02,351 - DEBUG - Order OrderID 225
2018-02-26 11:40:02,352 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:40:02,352 - DEBUG - Order status PreSubmitted
2018-02-26 11:40:02,353 - DEBUG - Order Identification 225
2018-02-26 11:40:02,353 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:40:02,353 - DEBUG - Profit ID from database is 228
2018-02-26 11:40:02,353 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:40:02,354 - DEBUG - Stop ID database is 0
2018-02-26 11:40:02,354 - DEBUG - Entry ID database is 228
2018-02-26 11:40:04,351 - DEBUG - Connecting to database
2018-02-26 11:40:04,358 - DEBUG - Connected to database
2018-02-26 11:40:04,359 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,360 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:40:04,361 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,362 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:40:04,363 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,363 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:40:04,367 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,367 - DEBUG - Stop quantity 1
2018-02-26 11:40:04,369 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,369 - DEBUG - Direction is Short
2018-02-26 11:40:04,371 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,371 - DEBUG - Count is 0
2018-02-26 11:40:04,372 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:40:04,373 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:40:04,374 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:40:04,374 - DEBUG - Max ID Order is (231,)
2018-02-26 11:40:04,375 - DEBUG - Today is 2018-02-26
2018-02-26 11:40:04,375 - DEBUG - Day of the week 0
2018-02-26 11:40:04,375 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:40:04,376 - DEBUG - In Position is  0
2018-02-26 11:40:04,376 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:40:04,376 - DEBUG - curStopLossFlag is  0
2018-02-26 11:40:04,376 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:40:04,377 - DEBUG - Checking if Entry has been filled
2018-02-26 11:40:04,377 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:40:04,378 - DEBUG - EntryPend is 1
2018-02-26 11:40:04,378 - DEBUG - Try to Cancel Stop
2018-02-26 11:40:04,379 - DEBUG - Stop API ID 0
2018-02-26 11:40:04,379 - DEBUG - Profit API ID 0
2018-02-26 11:40:04,379 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:40:04,379 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:40:04,380 - DEBUG - Pos is 0
2018-02-26 11:40:04,380 - DEBUG - CurCount is 0
2018-02-26 11:40:04,380 - DEBUG - In Pos 0
2018-02-26 11:40:04,380 - DEBUG - Stop ID is 0
2018-02-26 11:40:04,381 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:40:04,382 - DEBUG - EntryPend is 1
2018-02-26 11:40:04,382 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:40:04,382 - DEBUG - Entry Date is 10
2018-02-26 11:40:04,383 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:40:04,383 - DEBUG - Order Profit ID is 228
2018-02-26 11:40:04,383 - DEBUG - Order Entry ID is 228
2018-02-26 11:40:04,383 - DEBUG - API ID is  0
2018-02-26 11:40:04,384 - DEBUG - Current Position is 0
2018-02-26 11:40:04,384 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:40:04,384 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:40:04,384 - DEBUG - Time is 11
2018-02-26 11:40:04,384 - DEBUG - Time is <class 'int'>
2018-02-26 11:40:04,385 - DEBUG - Disconnected from IBController
2018-02-26 11:40:04,385 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:45:00,257 - DEBUG - ****************************************************
2018-02-26 11:45:00,258 - DEBUG - Current Time is 11:45AM
2018-02-26 11:45:00,258 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:45:00,258 - DEBUG - Connecting to database
2018-02-26 11:45:00,483 - DEBUG - Connected to database
2018-02-26 11:45:00,484 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:00,532 - DEBUG - Order Profit is 228
2018-02-26 11:45:00,532 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:00,588 - DEBUG - Stop ID is 0
2018-02-26 11:45:00,588 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:00,666 - DEBUG - Entry ID is 228
2018-02-26 11:45:00,666 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:45:00,706 - DEBUG - OCA ID is 1
2018-02-26 11:45:00,706 - DEBUG - Connecting to IBController
2018-02-26 11:45:01,712 - DEBUG - Connected to IBController
2018-02-26 11:45:01,712 - DEBUG - Position requested
2018-02-26 11:45:01,714 - DEBUG - Pos Mgmt 0
2018-02-26 11:45:01,714 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, pos=0, avgCost=0.0>
2018-02-26 11:45:01,714 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:45:01,715 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:45:01,715 - DEBUG - Position is 0
2018-02-26 11:45:01,715 - DEBUG - Pos Mgmt -12987
2018-02-26 11:45:01,716 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:45:01,716 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:45:01,716 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:45:01,716 - DEBUG - Position is -12987
2018-02-26 11:45:02,714 - DEBUG - Open Orders requested
2018-02-26 11:45:02,716 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162128>>
2018-02-26 11:45:02,716 - DEBUG - Order OrderID 225
2018-02-26 11:45:02,717 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:45:02,717 - DEBUG - Order status PreSubmitted
2018-02-26 11:45:02,717 - DEBUG - Order Identification 225
2018-02-26 11:45:02,718 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:45:02,718 - DEBUG - Profit ID from database is 228
2018-02-26 11:45:02,718 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:45:02,718 - DEBUG - Stop ID database is 0
2018-02-26 11:45:02,719 - DEBUG - Entry ID database is 228
2018-02-26 11:45:04,716 - DEBUG - Connecting to database
2018-02-26 11:45:04,724 - DEBUG - Connected to database
2018-02-26 11:45:04,725 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,726 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:45:04,728 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,728 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:45:04,730 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,730 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:45:04,731 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,732 - DEBUG - Stop quantity 1
2018-02-26 11:45:04,733 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,733 - DEBUG - Direction is Short
2018-02-26 11:45:04,735 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,735 - DEBUG - Count is 0
2018-02-26 11:45:04,736 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:45:04,737 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:45:04,738 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:45:04,739 - DEBUG - Max ID Order is (231,)
2018-02-26 11:45:04,739 - DEBUG - Today is 2018-02-26
2018-02-26 11:45:04,740 - DEBUG - Day of the week 0
2018-02-26 11:45:04,740 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:45:04,740 - DEBUG - In Position is  0
2018-02-26 11:45:04,740 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:45:04,741 - DEBUG - curStopLossFlag is  0
2018-02-26 11:45:04,741 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:45:04,741 - DEBUG - Checking if Entry has been filled
2018-02-26 11:45:04,741 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:45:04,743 - DEBUG - EntryPend is 1
2018-02-26 11:45:04,743 - DEBUG - Try to Cancel Stop
2018-02-26 11:45:04,743 - DEBUG - Stop API ID 0
2018-02-26 11:45:04,743 - DEBUG - Profit API ID 0
2018-02-26 11:45:04,744 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:45:04,744 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:45:04,744 - DEBUG - Pos is 0
2018-02-26 11:45:04,744 - DEBUG - CurCount is 0
2018-02-26 11:45:04,745 - DEBUG - In Pos 0
2018-02-26 11:45:04,745 - DEBUG - Stop ID is 0
2018-02-26 11:45:04,745 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:45:04,746 - DEBUG - EntryPend is 1
2018-02-26 11:45:04,747 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:45:04,747 - DEBUG - Entry Date is 10
2018-02-26 11:45:04,747 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:45:04,747 - DEBUG - Order Profit ID is 228
2018-02-26 11:45:04,748 - DEBUG - Order Entry ID is 228
2018-02-26 11:45:04,748 - DEBUG - API ID is  0
2018-02-26 11:45:04,748 - DEBUG - Current Position is 0
2018-02-26 11:45:04,748 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:45:04,748 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:45:04,749 - DEBUG - Time is 11
2018-02-26 11:45:04,749 - DEBUG - Time is <class 'int'>
2018-02-26 11:45:04,749 - DEBUG - Disconnected from IBController
2018-02-26 11:45:04,750 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:50:00,267 - DEBUG - ****************************************************
2018-02-26 11:50:00,267 - DEBUG - Current Time is 11:50AM
2018-02-26 11:50:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:50:00,268 - DEBUG - Connecting to database
2018-02-26 11:50:00,466 - DEBUG - Connected to database
2018-02-26 11:50:00,466 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:00,472 - DEBUG - Order Profit is 228
2018-02-26 11:50:00,473 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:00,494 - DEBUG - Stop ID is 0
2018-02-26 11:50:00,495 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:00,519 - DEBUG - Entry ID is 228
2018-02-26 11:50:00,520 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:50:00,546 - DEBUG - OCA ID is 1
2018-02-26 11:50:00,547 - DEBUG - Connecting to IBController
2018-02-26 11:50:01,553 - DEBUG - Connected to IBController
2018-02-26 11:50:01,553 - DEBUG - Position requested
2018-02-26 11:50:01,555 - DEBUG - Pos Mgmt 0
2018-02-26 11:50:01,555 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDA0>, pos=0, avgCost=0.0>
2018-02-26 11:50:01,556 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:50:01,556 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:50:01,556 - DEBUG - Position is 0
2018-02-26 11:50:01,560 - DEBUG - Pos Mgmt -12987
2018-02-26 11:50:01,560 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:50:01,560 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:50:01,561 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:50:01,561 - DEBUG - Position is -12987
2018-02-26 11:50:02,554 - DEBUG - Open Orders requested
2018-02-26 11:50:02,556 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-26 11:50:02,557 - DEBUG - Order OrderID 225
2018-02-26 11:50:02,557 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:50:02,558 - DEBUG - Order status PreSubmitted
2018-02-26 11:50:02,558 - DEBUG - Order Identification 225
2018-02-26 11:50:02,558 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:50:02,558 - DEBUG - Profit ID from database is 228
2018-02-26 11:50:02,559 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:50:02,559 - DEBUG - Stop ID database is 0
2018-02-26 11:50:02,559 - DEBUG - Entry ID database is 228
2018-02-26 11:50:04,556 - DEBUG - Connecting to database
2018-02-26 11:50:04,565 - DEBUG - Connected to database
2018-02-26 11:50:04,567 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,567 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:50:04,569 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,569 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:50:04,570 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,571 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:50:04,572 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,573 - DEBUG - Stop quantity 1
2018-02-26 11:50:04,574 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,574 - DEBUG - Direction is Short
2018-02-26 11:50:04,576 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,576 - DEBUG - Count is 0
2018-02-26 11:50:04,577 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:50:04,578 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:50:04,579 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:50:04,579 - DEBUG - Max ID Order is (231,)
2018-02-26 11:50:04,580 - DEBUG - Today is 2018-02-26
2018-02-26 11:50:04,580 - DEBUG - Day of the week 0
2018-02-26 11:50:04,581 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:50:04,581 - DEBUG - In Position is  0
2018-02-26 11:50:04,581 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:50:04,581 - DEBUG - curStopLossFlag is  0
2018-02-26 11:50:04,581 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:50:04,582 - DEBUG - Checking if Entry has been filled
2018-02-26 11:50:04,582 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:50:04,585 - DEBUG - EntryPend is 1
2018-02-26 11:50:04,585 - DEBUG - Try to Cancel Stop
2018-02-26 11:50:04,585 - DEBUG - Stop API ID 0
2018-02-26 11:50:04,586 - DEBUG - Profit API ID 0
2018-02-26 11:50:04,586 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:50:04,586 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:50:04,586 - DEBUG - Pos is 0
2018-02-26 11:50:04,587 - DEBUG - CurCount is 0
2018-02-26 11:50:04,587 - DEBUG - In Pos 0
2018-02-26 11:50:04,587 - DEBUG - Stop ID is 0
2018-02-26 11:50:04,587 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:50:04,589 - DEBUG - EntryPend is 1
2018-02-26 11:50:04,589 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:50:04,590 - DEBUG - Entry Date is 10
2018-02-26 11:50:04,590 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:50:04,590 - DEBUG - Order Profit ID is 228
2018-02-26 11:50:04,590 - DEBUG - Order Entry ID is 228
2018-02-26 11:50:04,591 - DEBUG - API ID is  0
2018-02-26 11:50:04,591 - DEBUG - Current Position is 0
2018-02-26 11:50:04,591 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:50:04,591 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:50:04,592 - DEBUG - Time is 11
2018-02-26 11:50:04,592 - DEBUG - Time is <class 'int'>
2018-02-26 11:50:04,592 - DEBUG - Disconnected from IBController
2018-02-26 11:50:04,593 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:55:00,267 - DEBUG - ****************************************************
2018-02-26 11:55:00,267 - DEBUG - Current Time is 11:55AM
2018-02-26 11:55:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 11:55:00,268 - DEBUG - Connecting to database
2018-02-26 11:55:00,376 - DEBUG - Connected to database
2018-02-26 11:55:00,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:00,383 - DEBUG - Order Profit is 228
2018-02-26 11:55:00,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:00,412 - DEBUG - Stop ID is 0
2018-02-26 11:55:00,412 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:00,431 - DEBUG - Entry ID is 228
2018-02-26 11:55:00,432 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:55:00,435 - DEBUG - OCA ID is 1
2018-02-26 11:55:00,435 - DEBUG - Connecting to IBController
2018-02-26 11:55:01,442 - DEBUG - Connected to IBController
2018-02-26 11:55:01,442 - DEBUG - Position requested
2018-02-26 11:55:01,444 - DEBUG - Pos Mgmt 0
2018-02-26 11:55:01,451 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, pos=0, avgCost=0.0>
2018-02-26 11:55:01,451 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:55:01,451 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:55:01,452 - DEBUG - Position is 0
2018-02-26 11:55:01,452 - DEBUG - Pos Mgmt -12987
2018-02-26 11:55:01,452 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:55:01,453 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:55:01,453 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:55:01,453 - DEBUG - Position is -12987
2018-02-26 11:55:02,450 - DEBUG - Open Orders requested
2018-02-26 11:55:02,452 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 11:55:02,452 - DEBUG - Order OrderID 225
2018-02-26 11:55:02,453 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:55:02,453 - DEBUG - Order status PreSubmitted
2018-02-26 11:55:02,454 - DEBUG - Order Identification 225
2018-02-26 11:55:02,454 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:55:02,454 - DEBUG - Profit ID from database is 228
2018-02-26 11:55:02,454 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:55:02,455 - DEBUG - Stop ID database is 0
2018-02-26 11:55:02,455 - DEBUG - Entry ID database is 228
2018-02-26 11:55:04,452 - DEBUG - Connecting to database
2018-02-26 11:55:04,460 - DEBUG - Connected to database
2018-02-26 11:55:04,462 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,462 - DEBUG - Stop loss value is 2731.25
2018-02-26 11:55:04,464 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,464 - DEBUG - Stop loss value is 2671.5
2018-02-26 11:55:04,465 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,466 - DEBUG - EntryPrice value is 2681.0
2018-02-26 11:55:04,467 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,468 - DEBUG - Stop quantity 1
2018-02-26 11:55:04,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,471 - DEBUG - Direction is Short
2018-02-26 11:55:04,472 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,472 - DEBUG - Count is 0
2018-02-26 11:55:04,474 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 11:55:04,474 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:55:04,475 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:55:04,476 - DEBUG - Max ID Order is (231,)
2018-02-26 11:55:04,476 - DEBUG - Today is 2018-02-26
2018-02-26 11:55:04,477 - DEBUG - Day of the week 0
2018-02-26 11:55:04,477 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:55:04,477 - DEBUG - In Position is  0
2018-02-26 11:55:04,477 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:55:04,478 - DEBUG - curStopLossFlag is  0
2018-02-26 11:55:04,478 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:55:04,478 - DEBUG - Checking if Entry has been filled
2018-02-26 11:55:04,478 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:55:04,480 - DEBUG - EntryPend is 1
2018-02-26 11:55:04,480 - DEBUG - Try to Cancel Stop
2018-02-26 11:55:04,480 - DEBUG - Stop API ID 0
2018-02-26 11:55:04,480 - DEBUG - Profit API ID 0
2018-02-26 11:55:04,481 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:55:04,481 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:55:04,481 - DEBUG - Pos is 0
2018-02-26 11:55:04,481 - DEBUG - CurCount is 0
2018-02-26 11:55:04,482 - DEBUG - In Pos 0
2018-02-26 11:55:04,482 - DEBUG - Stop ID is 0
2018-02-26 11:55:04,482 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 11:55:04,483 - DEBUG - EntryPend is 1
2018-02-26 11:55:04,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:55:04,484 - DEBUG - Entry Date is 10
2018-02-26 11:55:04,484 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:55:04,484 - DEBUG - Order Profit ID is 228
2018-02-26 11:55:04,485 - DEBUG - Order Entry ID is 228
2018-02-26 11:55:04,485 - DEBUG - API ID is  0
2018-02-26 11:55:04,485 - DEBUG - Current Position is 0
2018-02-26 11:55:04,485 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:55:04,485 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:55:04,486 - DEBUG - Time is 11
2018-02-26 11:55:04,486 - DEBUG - Time is <class 'int'>
2018-02-26 11:55:04,486 - DEBUG - Disconnected from IBController
2018-02-26 11:55:04,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:00:00,303 - DEBUG - ****************************************************
2018-02-26 12:00:00,303 - DEBUG - Current Time is 12:00PM
2018-02-26 12:00:00,304 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:00:00,304 - DEBUG - Connecting to database
2018-02-26 12:00:00,482 - DEBUG - Connected to database
2018-02-26 12:00:00,483 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:00,506 - DEBUG - Order Profit is 228
2018-02-26 12:00:00,506 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:00,539 - DEBUG - Stop ID is 0
2018-02-26 12:00:00,539 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:00,567 - DEBUG - Entry ID is 228
2018-02-26 12:00:00,568 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:00:00,594 - DEBUG - OCA ID is 1
2018-02-26 12:00:00,596 - DEBUG - Connecting to IBController
2018-02-26 12:00:01,603 - DEBUG - Connected to IBController
2018-02-26 12:00:01,603 - DEBUG - Position requested
2018-02-26 12:00:01,605 - DEBUG - Pos Mgmt 0
2018-02-26 12:00:01,605 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, pos=0, avgCost=0.0>
2018-02-26 12:00:01,606 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:00:01,606 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:00:01,606 - DEBUG - Position is 0
2018-02-26 12:00:01,608 - DEBUG - Pos Mgmt -12987
2018-02-26 12:00:01,608 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:00:01,608 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:00:01,609 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:00:01,609 - DEBUG - Position is -12987
2018-02-26 12:00:02,605 - DEBUG - Open Orders requested
2018-02-26 12:00:02,607 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-26 12:00:02,608 - DEBUG - Order OrderID 225
2018-02-26 12:00:02,608 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:00:02,609 - DEBUG - Order status PreSubmitted
2018-02-26 12:00:02,609 - DEBUG - Order Identification 225
2018-02-26 12:00:02,609 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:00:02,610 - DEBUG - Profit ID from database is 228
2018-02-26 12:00:02,610 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:00:02,610 - DEBUG - Stop ID database is 0
2018-02-26 12:00:02,611 - DEBUG - Entry ID database is 228
2018-02-26 12:00:04,608 - DEBUG - Connecting to database
2018-02-26 12:00:04,616 - DEBUG - Connected to database
2018-02-26 12:00:04,617 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,618 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:00:04,619 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,620 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:00:04,621 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,621 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:00:04,623 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,623 - DEBUG - Stop quantity 1
2018-02-26 12:00:04,624 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,625 - DEBUG - Direction is Short
2018-02-26 12:00:04,626 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,626 - DEBUG - Count is 0
2018-02-26 12:00:04,628 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:00:04,628 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:00:04,630 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:00:04,630 - DEBUG - Max ID Order is (231,)
2018-02-26 12:00:04,630 - DEBUG - Today is 2018-02-26
2018-02-26 12:00:04,631 - DEBUG - Day of the week 0
2018-02-26 12:00:04,631 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:00:04,631 - DEBUG - In Position is  0
2018-02-26 12:00:04,632 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:00:04,632 - DEBUG - curStopLossFlag is  0
2018-02-26 12:00:04,632 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:00:04,632 - DEBUG - Checking if Entry has been filled
2018-02-26 12:00:04,633 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:00:04,634 - DEBUG - EntryPend is 1
2018-02-26 12:00:04,634 - DEBUG - Try to Cancel Stop
2018-02-26 12:00:04,634 - DEBUG - Stop API ID 0
2018-02-26 12:00:04,635 - DEBUG - Profit API ID 0
2018-02-26 12:00:04,635 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:00:04,635 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:00:04,635 - DEBUG - Pos is 0
2018-02-26 12:00:04,636 - DEBUG - CurCount is 0
2018-02-26 12:00:04,636 - DEBUG - In Pos 0
2018-02-26 12:00:04,636 - DEBUG - Stop ID is 0
2018-02-26 12:00:04,636 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:00:04,638 - DEBUG - EntryPend is 1
2018-02-26 12:00:04,638 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:00:04,638 - DEBUG - Entry Date is 10
2018-02-26 12:00:04,639 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:00:04,639 - DEBUG - Order Profit ID is 228
2018-02-26 12:00:04,639 - DEBUG - Order Entry ID is 228
2018-02-26 12:00:04,639 - DEBUG - API ID is  0
2018-02-26 12:00:04,640 - DEBUG - Current Position is 0
2018-02-26 12:00:04,640 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:00:04,640 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:00:04,640 - DEBUG - Time is 12
2018-02-26 12:00:04,641 - DEBUG - Time is <class 'int'>
2018-02-26 12:00:04,641 - DEBUG - Disconnected from IBController
2018-02-26 12:00:04,642 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:05:00,263 - DEBUG - ****************************************************
2018-02-26 12:05:00,263 - DEBUG - Current Time is 12:05PM
2018-02-26 12:05:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:05:00,264 - DEBUG - Connecting to database
2018-02-26 12:05:00,404 - DEBUG - Connected to database
2018-02-26 12:05:00,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:00,406 - DEBUG - Order Profit is 228
2018-02-26 12:05:00,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:00,432 - DEBUG - Stop ID is 0
2018-02-26 12:05:00,432 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:00,456 - DEBUG - Entry ID is 228
2018-02-26 12:05:00,457 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:05:00,489 - DEBUG - OCA ID is 1
2018-02-26 12:05:00,490 - DEBUG - Connecting to IBController
2018-02-26 12:05:01,495 - DEBUG - Connected to IBController
2018-02-26 12:05:01,495 - DEBUG - Position requested
2018-02-26 12:05:01,497 - DEBUG - Pos Mgmt 0
2018-02-26 12:05:01,497 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DB00>, pos=0, avgCost=0.0>
2018-02-26 12:05:01,497 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:05:01,498 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:05:01,498 - DEBUG - Position is 0
2018-02-26 12:05:01,498 - DEBUG - Pos Mgmt -12987
2018-02-26 12:05:01,499 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:05:01,499 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:05:01,499 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:05:01,499 - DEBUG - Position is -12987
2018-02-26 12:05:02,497 - DEBUG - Open Orders requested
2018-02-26 12:05:02,499 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000200DE48>, order=<ib.ext.Order.Order object at 0x000000000200DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A1128>>
2018-02-26 12:05:02,499 - DEBUG - Order OrderID 225
2018-02-26 12:05:02,500 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:05:02,500 - DEBUG - Order status PreSubmitted
2018-02-26 12:05:02,501 - DEBUG - Order Identification 225
2018-02-26 12:05:02,501 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:05:02,501 - DEBUG - Profit ID from database is 228
2018-02-26 12:05:02,501 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:05:02,501 - DEBUG - Stop ID database is 0
2018-02-26 12:05:02,502 - DEBUG - Entry ID database is 228
2018-02-26 12:05:04,499 - DEBUG - Connecting to database
2018-02-26 12:05:04,507 - DEBUG - Connected to database
2018-02-26 12:05:04,508 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,509 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:05:04,510 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,511 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:05:04,512 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,513 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:05:04,514 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,514 - DEBUG - Stop quantity 1
2018-02-26 12:05:04,516 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,516 - DEBUG - Direction is Short
2018-02-26 12:05:04,518 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,518 - DEBUG - Count is 0
2018-02-26 12:05:04,520 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:05:04,520 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:05:04,521 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:05:04,522 - DEBUG - Max ID Order is (231,)
2018-02-26 12:05:04,522 - DEBUG - Today is 2018-02-26
2018-02-26 12:05:04,523 - DEBUG - Day of the week 0
2018-02-26 12:05:04,523 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:05:04,523 - DEBUG - In Position is  0
2018-02-26 12:05:04,523 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:05:04,524 - DEBUG - curStopLossFlag is  0
2018-02-26 12:05:04,524 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:05:04,524 - DEBUG - Checking if Entry has been filled
2018-02-26 12:05:04,524 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:05:04,526 - DEBUG - EntryPend is 1
2018-02-26 12:05:04,526 - DEBUG - Try to Cancel Stop
2018-02-26 12:05:04,526 - DEBUG - Stop API ID 0
2018-02-26 12:05:04,526 - DEBUG - Profit API ID 0
2018-02-26 12:05:04,527 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:05:04,527 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:05:04,527 - DEBUG - Pos is 0
2018-02-26 12:05:04,527 - DEBUG - CurCount is 0
2018-02-26 12:05:04,527 - DEBUG - In Pos 0
2018-02-26 12:05:04,528 - DEBUG - Stop ID is 0
2018-02-26 12:05:04,528 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:05:04,531 - DEBUG - EntryPend is 1
2018-02-26 12:05:04,531 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:05:04,531 - DEBUG - Entry Date is 10
2018-02-26 12:05:04,532 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:05:04,532 - DEBUG - Order Profit ID is 228
2018-02-26 12:05:04,532 - DEBUG - Order Entry ID is 228
2018-02-26 12:05:04,532 - DEBUG - API ID is  0
2018-02-26 12:05:04,533 - DEBUG - Current Position is 0
2018-02-26 12:05:04,533 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:05:04,533 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:05:04,533 - DEBUG - Time is 12
2018-02-26 12:05:04,533 - DEBUG - Time is <class 'int'>
2018-02-26 12:05:04,534 - DEBUG - Disconnected from IBController
2018-02-26 12:05:04,535 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:10:00,268 - DEBUG - ****************************************************
2018-02-26 12:10:00,268 - DEBUG - Current Time is 12:10PM
2018-02-26 12:10:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:10:00,269 - DEBUG - Connecting to database
2018-02-26 12:10:00,497 - DEBUG - Connected to database
2018-02-26 12:10:00,497 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:00,500 - DEBUG - Order Profit is 228
2018-02-26 12:10:00,501 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:00,532 - DEBUG - Stop ID is 0
2018-02-26 12:10:00,532 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:00,554 - DEBUG - Entry ID is 228
2018-02-26 12:10:00,554 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:10:00,570 - DEBUG - OCA ID is 1
2018-02-26 12:10:00,570 - DEBUG - Connecting to IBController
2018-02-26 12:10:01,576 - DEBUG - Connected to IBController
2018-02-26 12:10:01,576 - DEBUG - Position requested
2018-02-26 12:10:01,577 - DEBUG - Pos Mgmt 0
2018-02-26 12:10:01,578 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DDA0>, pos=0, avgCost=0.0>
2018-02-26 12:10:01,578 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:10:01,579 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:10:01,579 - DEBUG - Position is 0
2018-02-26 12:10:01,579 - DEBUG - Pos Mgmt -12987
2018-02-26 12:10:01,580 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:10:01,580 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:10:01,580 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:10:01,580 - DEBUG - Position is -12987
2018-02-26 12:10:02,577 - DEBUG - Open Orders requested
2018-02-26 12:10:02,579 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DE48>, order=<ib.ext.Order.Order object at 0x000000000202DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1128>>
2018-02-26 12:10:02,581 - DEBUG - Order OrderID 225
2018-02-26 12:10:02,581 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:10:02,582 - DEBUG - Order status PreSubmitted
2018-02-26 12:10:02,582 - DEBUG - Order Identification 225
2018-02-26 12:10:02,582 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:10:02,583 - DEBUG - Profit ID from database is 228
2018-02-26 12:10:02,583 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:10:02,583 - DEBUG - Stop ID database is 0
2018-02-26 12:10:02,583 - DEBUG - Entry ID database is 228
2018-02-26 12:10:04,581 - DEBUG - Connecting to database
2018-02-26 12:10:04,588 - DEBUG - Connected to database
2018-02-26 12:10:04,590 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,590 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:10:04,592 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,592 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:10:04,593 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,594 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:10:04,595 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,597 - DEBUG - Stop quantity 1
2018-02-26 12:10:04,598 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,599 - DEBUG - Direction is Short
2018-02-26 12:10:04,600 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,600 - DEBUG - Count is 0
2018-02-26 12:10:04,602 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:10:04,602 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:10:04,604 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:10:04,604 - DEBUG - Max ID Order is (231,)
2018-02-26 12:10:04,605 - DEBUG - Today is 2018-02-26
2018-02-26 12:10:04,605 - DEBUG - Day of the week 0
2018-02-26 12:10:04,605 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:10:04,606 - DEBUG - In Position is  0
2018-02-26 12:10:04,606 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:10:04,606 - DEBUG - curStopLossFlag is  0
2018-02-26 12:10:04,606 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:10:04,607 - DEBUG - Checking if Entry has been filled
2018-02-26 12:10:04,607 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:10:04,608 - DEBUG - EntryPend is 1
2018-02-26 12:10:04,609 - DEBUG - Try to Cancel Stop
2018-02-26 12:10:04,609 - DEBUG - Stop API ID 0
2018-02-26 12:10:04,609 - DEBUG - Profit API ID 0
2018-02-26 12:10:04,609 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:10:04,610 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:10:04,610 - DEBUG - Pos is 0
2018-02-26 12:10:04,610 - DEBUG - CurCount is 0
2018-02-26 12:10:04,610 - DEBUG - In Pos 0
2018-02-26 12:10:04,611 - DEBUG - Stop ID is 0
2018-02-26 12:10:04,611 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:10:04,612 - DEBUG - EntryPend is 1
2018-02-26 12:10:04,613 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:10:04,613 - DEBUG - Entry Date is 10
2018-02-26 12:10:04,613 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:10:04,613 - DEBUG - Order Profit ID is 228
2018-02-26 12:10:04,614 - DEBUG - Order Entry ID is 228
2018-02-26 12:10:04,614 - DEBUG - API ID is  0
2018-02-26 12:10:04,614 - DEBUG - Current Position is 0
2018-02-26 12:10:04,614 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:10:04,615 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:10:04,615 - DEBUG - Time is 12
2018-02-26 12:10:04,615 - DEBUG - Time is <class 'int'>
2018-02-26 12:10:04,615 - DEBUG - Disconnected from IBController
2018-02-26 12:10:04,616 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:15:00,277 - DEBUG - ****************************************************
2018-02-26 12:15:00,277 - DEBUG - Current Time is 12:15PM
2018-02-26 12:15:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:15:00,278 - DEBUG - Connecting to database
2018-02-26 12:15:00,487 - DEBUG - Connected to database
2018-02-26 12:15:00,488 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:00,506 - DEBUG - Order Profit is 228
2018-02-26 12:15:00,507 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:00,556 - DEBUG - Stop ID is 0
2018-02-26 12:15:00,556 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:00,582 - DEBUG - Entry ID is 228
2018-02-26 12:15:00,582 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:15:00,584 - DEBUG - OCA ID is 1
2018-02-26 12:15:00,584 - DEBUG - Connecting to IBController
2018-02-26 12:15:01,590 - DEBUG - Connected to IBController
2018-02-26 12:15:01,590 - DEBUG - Position requested
2018-02-26 12:15:01,592 - DEBUG - Pos Mgmt 0
2018-02-26 12:15:01,592 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DCF8>, pos=0, avgCost=0.0>
2018-02-26 12:15:01,593 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:15:01,593 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:15:01,593 - DEBUG - Position is 0
2018-02-26 12:15:01,593 - DEBUG - Pos Mgmt -12987
2018-02-26 12:15:01,594 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:15:01,594 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:15:01,594 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:15:01,594 - DEBUG - Position is -12987
2018-02-26 12:15:02,591 - DEBUG - Open Orders requested
2018-02-26 12:15:02,593 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DCF8>, order=<ib.ext.Order.Order object at 0x000000000201DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B10B8>>
2018-02-26 12:15:02,594 - DEBUG - Order OrderID 225
2018-02-26 12:15:02,594 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:15:02,595 - DEBUG - Order status PreSubmitted
2018-02-26 12:15:02,596 - DEBUG - Order Identification 225
2018-02-26 12:15:02,596 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:15:02,596 - DEBUG - Profit ID from database is 228
2018-02-26 12:15:02,596 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:15:02,597 - DEBUG - Stop ID database is 0
2018-02-26 12:15:02,597 - DEBUG - Entry ID database is 228
2018-02-26 12:15:04,592 - DEBUG - Connecting to database
2018-02-26 12:15:04,599 - DEBUG - Connected to database
2018-02-26 12:15:04,601 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,601 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:15:04,604 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,604 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:15:04,605 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,606 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:15:04,607 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,607 - DEBUG - Stop quantity 1
2018-02-26 12:15:04,609 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,609 - DEBUG - Direction is Short
2018-02-26 12:15:04,610 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,611 - DEBUG - Count is 0
2018-02-26 12:15:04,612 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:15:04,613 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:15:04,614 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:15:04,614 - DEBUG - Max ID Order is (231,)
2018-02-26 12:15:04,615 - DEBUG - Today is 2018-02-26
2018-02-26 12:15:04,615 - DEBUG - Day of the week 0
2018-02-26 12:15:04,615 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:15:04,616 - DEBUG - In Position is  0
2018-02-26 12:15:04,616 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:15:04,616 - DEBUG - curStopLossFlag is  0
2018-02-26 12:15:04,616 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:15:04,617 - DEBUG - Checking if Entry has been filled
2018-02-26 12:15:04,617 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:15:04,618 - DEBUG - EntryPend is 1
2018-02-26 12:15:04,618 - DEBUG - Try to Cancel Stop
2018-02-26 12:15:04,619 - DEBUG - Stop API ID 0
2018-02-26 12:15:04,619 - DEBUG - Profit API ID 0
2018-02-26 12:15:04,619 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:15:04,619 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:15:04,620 - DEBUG - Pos is 0
2018-02-26 12:15:04,620 - DEBUG - CurCount is 0
2018-02-26 12:15:04,620 - DEBUG - In Pos 0
2018-02-26 12:15:04,620 - DEBUG - Stop ID is 0
2018-02-26 12:15:04,621 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:15:04,622 - DEBUG - EntryPend is 1
2018-02-26 12:15:04,622 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:15:04,623 - DEBUG - Entry Date is 10
2018-02-26 12:15:04,623 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:15:04,623 - DEBUG - Order Profit ID is 228
2018-02-26 12:15:04,623 - DEBUG - Order Entry ID is 228
2018-02-26 12:15:04,623 - DEBUG - API ID is  0
2018-02-26 12:15:04,624 - DEBUG - Current Position is 0
2018-02-26 12:15:04,624 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:15:04,624 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:15:04,624 - DEBUG - Time is 12
2018-02-26 12:15:04,625 - DEBUG - Time is <class 'int'>
2018-02-26 12:15:04,625 - DEBUG - Disconnected from IBController
2018-02-26 12:15:04,625 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:20:00,280 - DEBUG - ****************************************************
2018-02-26 12:20:00,281 - DEBUG - Current Time is 12:20PM
2018-02-26 12:20:00,281 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:20:00,281 - DEBUG - Connecting to database
2018-02-26 12:20:00,387 - DEBUG - Connected to database
2018-02-26 12:20:00,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:00,391 - DEBUG - Order Profit is 228
2018-02-26 12:20:00,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:00,412 - DEBUG - Stop ID is 0
2018-02-26 12:20:00,413 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:00,443 - DEBUG - Entry ID is 228
2018-02-26 12:20:00,443 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:20:00,466 - DEBUG - OCA ID is 1
2018-02-26 12:20:00,467 - DEBUG - Connecting to IBController
2018-02-26 12:20:01,476 - DEBUG - Connected to IBController
2018-02-26 12:20:01,476 - DEBUG - Position requested
2018-02-26 12:20:01,478 - DEBUG - Pos Mgmt 0
2018-02-26 12:20:01,478 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=0, avgCost=0.0>
2018-02-26 12:20:01,478 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:20:01,479 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:20:01,479 - DEBUG - Position is 0
2018-02-26 12:20:01,479 - DEBUG - Pos Mgmt -12987
2018-02-26 12:20:01,480 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:20:01,481 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:20:01,481 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:20:01,481 - DEBUG - Position is -12987
2018-02-26 12:20:02,477 - DEBUG - Open Orders requested
2018-02-26 12:20:02,479 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-26 12:20:02,480 - DEBUG - Order OrderID 225
2018-02-26 12:20:02,480 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:20:02,480 - DEBUG - Order status PreSubmitted
2018-02-26 12:20:02,481 - DEBUG - Order Identification 225
2018-02-26 12:20:02,481 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:20:02,481 - DEBUG - Profit ID from database is 228
2018-02-26 12:20:02,481 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:20:02,482 - DEBUG - Stop ID database is 0
2018-02-26 12:20:02,482 - DEBUG - Entry ID database is 228
2018-02-26 12:20:04,479 - DEBUG - Connecting to database
2018-02-26 12:20:04,486 - DEBUG - Connected to database
2018-02-26 12:20:04,488 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,488 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:20:04,489 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,490 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:20:04,491 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,491 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:20:04,493 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,493 - DEBUG - Stop quantity 1
2018-02-26 12:20:04,494 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,495 - DEBUG - Direction is Short
2018-02-26 12:20:04,496 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,497 - DEBUG - Count is 0
2018-02-26 12:20:04,498 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:20:04,498 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:20:04,500 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:20:04,500 - DEBUG - Max ID Order is (231,)
2018-02-26 12:20:04,500 - DEBUG - Today is 2018-02-26
2018-02-26 12:20:04,501 - DEBUG - Day of the week 0
2018-02-26 12:20:04,501 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:20:04,501 - DEBUG - In Position is  0
2018-02-26 12:20:04,502 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:20:04,502 - DEBUG - curStopLossFlag is  0
2018-02-26 12:20:04,502 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:20:04,502 - DEBUG - Checking if Entry has been filled
2018-02-26 12:20:04,503 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:20:04,504 - DEBUG - EntryPend is 1
2018-02-26 12:20:04,504 - DEBUG - Try to Cancel Stop
2018-02-26 12:20:04,505 - DEBUG - Stop API ID 0
2018-02-26 12:20:04,505 - DEBUG - Profit API ID 0
2018-02-26 12:20:04,505 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:20:04,505 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:20:04,506 - DEBUG - Pos is 0
2018-02-26 12:20:04,506 - DEBUG - CurCount is 0
2018-02-26 12:20:04,506 - DEBUG - In Pos 0
2018-02-26 12:20:04,506 - DEBUG - Stop ID is 0
2018-02-26 12:20:04,507 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:20:04,508 - DEBUG - EntryPend is 1
2018-02-26 12:20:04,509 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:20:04,509 - DEBUG - Entry Date is 10
2018-02-26 12:20:04,509 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:20:04,509 - DEBUG - Order Profit ID is 228
2018-02-26 12:20:04,510 - DEBUG - Order Entry ID is 228
2018-02-26 12:20:04,510 - DEBUG - API ID is  0
2018-02-26 12:20:04,510 - DEBUG - Current Position is 0
2018-02-26 12:20:04,510 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:20:04,511 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:20:04,511 - DEBUG - Time is 12
2018-02-26 12:20:04,511 - DEBUG - Time is <class 'int'>
2018-02-26 12:20:04,511 - DEBUG - Disconnected from IBController
2018-02-26 12:20:04,512 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:25:00,274 - DEBUG - ****************************************************
2018-02-26 12:25:00,274 - DEBUG - Current Time is 12:25PM
2018-02-26 12:25:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:25:00,275 - DEBUG - Connecting to database
2018-02-26 12:25:00,365 - DEBUG - Connected to database
2018-02-26 12:25:00,365 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:00,371 - DEBUG - Order Profit is 228
2018-02-26 12:25:00,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:00,384 - DEBUG - Stop ID is 0
2018-02-26 12:25:00,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:00,411 - DEBUG - Entry ID is 228
2018-02-26 12:25:00,412 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:25:00,446 - DEBUG - OCA ID is 1
2018-02-26 12:25:00,446 - DEBUG - Connecting to IBController
2018-02-26 12:25:01,456 - DEBUG - Connected to IBController
2018-02-26 12:25:01,456 - DEBUG - Position requested
2018-02-26 12:25:01,458 - DEBUG - Pos Mgmt 0
2018-02-26 12:25:01,458 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BDD8>, pos=0, avgCost=0.0>
2018-02-26 12:25:01,459 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:25:01,459 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:25:01,459 - DEBUG - Position is 0
2018-02-26 12:25:01,459 - DEBUG - Pos Mgmt -12987
2018-02-26 12:25:01,460 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:25:01,460 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:25:01,460 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:25:01,460 - DEBUG - Position is -12987
2018-02-26 12:25:02,457 - DEBUG - Open Orders requested
2018-02-26 12:25:02,459 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BE48>, order=<ib.ext.Order.Order object at 0x000000000205BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0128>>
2018-02-26 12:25:02,460 - DEBUG - Order OrderID 225
2018-02-26 12:25:02,460 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:25:02,461 - DEBUG - Order status PreSubmitted
2018-02-26 12:25:02,461 - DEBUG - Order Identification 225
2018-02-26 12:25:02,461 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:25:02,462 - DEBUG - Profit ID from database is 228
2018-02-26 12:25:02,462 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:25:02,462 - DEBUG - Stop ID database is 0
2018-02-26 12:25:02,462 - DEBUG - Entry ID database is 228
2018-02-26 12:25:04,459 - DEBUG - Connecting to database
2018-02-26 12:25:04,466 - DEBUG - Connected to database
2018-02-26 12:25:04,469 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,469 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:25:04,471 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,471 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:25:04,473 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,473 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:25:04,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,476 - DEBUG - Stop quantity 1
2018-02-26 12:25:04,478 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,478 - DEBUG - Direction is Short
2018-02-26 12:25:04,479 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,480 - DEBUG - Count is 0
2018-02-26 12:25:04,481 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:25:04,481 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:25:04,483 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:25:04,483 - DEBUG - Max ID Order is (231,)
2018-02-26 12:25:04,483 - DEBUG - Today is 2018-02-26
2018-02-26 12:25:04,484 - DEBUG - Day of the week 0
2018-02-26 12:25:04,484 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:25:04,484 - DEBUG - In Position is  0
2018-02-26 12:25:04,485 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:25:04,485 - DEBUG - curStopLossFlag is  0
2018-02-26 12:25:04,485 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:25:04,485 - DEBUG - Checking if Entry has been filled
2018-02-26 12:25:04,486 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:25:04,487 - DEBUG - EntryPend is 1
2018-02-26 12:25:04,487 - DEBUG - Try to Cancel Stop
2018-02-26 12:25:04,487 - DEBUG - Stop API ID 0
2018-02-26 12:25:04,488 - DEBUG - Profit API ID 0
2018-02-26 12:25:04,488 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:25:04,488 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:25:04,488 - DEBUG - Pos is 0
2018-02-26 12:25:04,489 - DEBUG - CurCount is 0
2018-02-26 12:25:04,489 - DEBUG - In Pos 0
2018-02-26 12:25:04,489 - DEBUG - Stop ID is 0
2018-02-26 12:25:04,489 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:25:04,491 - DEBUG - EntryPend is 1
2018-02-26 12:25:04,491 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:25:04,491 - DEBUG - Entry Date is 10
2018-02-26 12:25:04,491 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:25:04,492 - DEBUG - Order Profit ID is 228
2018-02-26 12:25:04,492 - DEBUG - Order Entry ID is 228
2018-02-26 12:25:04,492 - DEBUG - API ID is  0
2018-02-26 12:25:04,492 - DEBUG - Current Position is 0
2018-02-26 12:25:04,493 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:25:04,493 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:25:04,493 - DEBUG - Time is 12
2018-02-26 12:25:04,493 - DEBUG - Time is <class 'int'>
2018-02-26 12:25:04,494 - DEBUG - Disconnected from IBController
2018-02-26 12:25:04,494 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:30:00,267 - DEBUG - ****************************************************
2018-02-26 12:30:00,268 - DEBUG - Current Time is 12:30PM
2018-02-26 12:30:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:30:00,268 - DEBUG - Connecting to database
2018-02-26 12:30:00,366 - DEBUG - Connected to database
2018-02-26 12:30:00,366 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:00,371 - DEBUG - Order Profit is 228
2018-02-26 12:30:00,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:00,401 - DEBUG - Stop ID is 0
2018-02-26 12:30:00,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:00,420 - DEBUG - Entry ID is 228
2018-02-26 12:30:00,420 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:30:00,431 - DEBUG - OCA ID is 1
2018-02-26 12:30:00,432 - DEBUG - Connecting to IBController
2018-02-26 12:30:01,438 - DEBUG - Connected to IBController
2018-02-26 12:30:01,438 - DEBUG - Position requested
2018-02-26 12:30:01,440 - DEBUG - Pos Mgmt 0
2018-02-26 12:30:01,440 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=0, avgCost=0.0>
2018-02-26 12:30:01,440 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:30:01,441 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:30:01,441 - DEBUG - Position is 0
2018-02-26 12:30:01,441 - DEBUG - Pos Mgmt -12987
2018-02-26 12:30:01,441 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:30:01,442 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:30:01,442 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:30:01,442 - DEBUG - Position is -12987
2018-02-26 12:30:02,440 - DEBUG - Open Orders requested
2018-02-26 12:30:02,442 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-26 12:30:02,443 - DEBUG - Order OrderID 225
2018-02-26 12:30:02,443 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:30:02,444 - DEBUG - Order status PreSubmitted
2018-02-26 12:30:02,444 - DEBUG - Order Identification 225
2018-02-26 12:30:02,444 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:30:02,444 - DEBUG - Profit ID from database is 228
2018-02-26 12:30:02,445 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:30:02,445 - DEBUG - Stop ID database is 0
2018-02-26 12:30:02,445 - DEBUG - Entry ID database is 228
2018-02-26 12:30:04,443 - DEBUG - Connecting to database
2018-02-26 12:30:04,450 - DEBUG - Connected to database
2018-02-26 12:30:04,452 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,452 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:30:04,454 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,454 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:30:04,455 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,456 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:30:04,457 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,457 - DEBUG - Stop quantity 1
2018-02-26 12:30:04,459 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,459 - DEBUG - Direction is Short
2018-02-26 12:30:04,460 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,461 - DEBUG - Count is 0
2018-02-26 12:30:04,462 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:30:04,462 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:30:04,464 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:30:04,464 - DEBUG - Max ID Order is (231,)
2018-02-26 12:30:04,464 - DEBUG - Today is 2018-02-26
2018-02-26 12:30:04,465 - DEBUG - Day of the week 0
2018-02-26 12:30:04,465 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:30:04,465 - DEBUG - In Position is  0
2018-02-26 12:30:04,465 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:30:04,466 - DEBUG - curStopLossFlag is  0
2018-02-26 12:30:04,466 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:30:04,466 - DEBUG - Checking if Entry has been filled
2018-02-26 12:30:04,467 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:30:04,468 - DEBUG - EntryPend is 1
2018-02-26 12:30:04,468 - DEBUG - Try to Cancel Stop
2018-02-26 12:30:04,468 - DEBUG - Stop API ID 0
2018-02-26 12:30:04,469 - DEBUG - Profit API ID 0
2018-02-26 12:30:04,469 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:30:04,469 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:30:04,469 - DEBUG - Pos is 0
2018-02-26 12:30:04,470 - DEBUG - CurCount is 0
2018-02-26 12:30:04,470 - DEBUG - In Pos 0
2018-02-26 12:30:04,470 - DEBUG - Stop ID is 0
2018-02-26 12:30:04,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:30:04,472 - DEBUG - EntryPend is 1
2018-02-26 12:30:04,472 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:30:04,472 - DEBUG - Entry Date is 10
2018-02-26 12:30:04,472 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:30:04,473 - DEBUG - Order Profit ID is 228
2018-02-26 12:30:04,473 - DEBUG - Order Entry ID is 228
2018-02-26 12:30:04,473 - DEBUG - API ID is  0
2018-02-26 12:30:04,473 - DEBUG - Current Position is 0
2018-02-26 12:30:04,474 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:30:04,474 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:30:04,474 - DEBUG - Time is 12
2018-02-26 12:30:04,474 - DEBUG - Time is <class 'int'>
2018-02-26 12:30:04,475 - DEBUG - Disconnected from IBController
2018-02-26 12:30:04,475 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:35:00,268 - DEBUG - ****************************************************
2018-02-26 12:35:00,269 - DEBUG - Current Time is 12:35PM
2018-02-26 12:35:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:35:00,269 - DEBUG - Connecting to database
2018-02-26 12:35:00,337 - DEBUG - Connected to database
2018-02-26 12:35:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:00,342 - DEBUG - Order Profit is 228
2018-02-26 12:35:00,342 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:00,375 - DEBUG - Stop ID is 0
2018-02-26 12:35:00,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:00,381 - DEBUG - Entry ID is 228
2018-02-26 12:35:00,381 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:35:00,385 - DEBUG - OCA ID is 1
2018-02-26 12:35:00,385 - DEBUG - Connecting to IBController
2018-02-26 12:35:01,391 - DEBUG - Connected to IBController
2018-02-26 12:35:01,391 - DEBUG - Position requested
2018-02-26 12:35:01,393 - DEBUG - Pos Mgmt 0
2018-02-26 12:35:01,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, pos=0, avgCost=0.0>
2018-02-26 12:35:01,393 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:35:01,394 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:35:01,394 - DEBUG - Position is 0
2018-02-26 12:35:01,394 - DEBUG - Pos Mgmt -12987
2018-02-26 12:35:01,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:35:01,395 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:35:01,395 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:35:01,395 - DEBUG - Position is -12987
2018-02-26 12:35:02,392 - DEBUG - Open Orders requested
2018-02-26 12:35:02,394 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-26 12:35:02,394 - DEBUG - Order OrderID 225
2018-02-26 12:35:02,395 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:35:02,395 - DEBUG - Order status PreSubmitted
2018-02-26 12:35:02,396 - DEBUG - Order Identification 225
2018-02-26 12:35:02,396 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:35:02,396 - DEBUG - Profit ID from database is 228
2018-02-26 12:35:02,397 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:35:02,397 - DEBUG - Stop ID database is 0
2018-02-26 12:35:02,397 - DEBUG - Entry ID database is 228
2018-02-26 12:35:04,394 - DEBUG - Connecting to database
2018-02-26 12:35:04,401 - DEBUG - Connected to database
2018-02-26 12:35:04,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,403 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:35:04,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,405 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:35:04,406 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,407 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:35:04,408 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,408 - DEBUG - Stop quantity 1
2018-02-26 12:35:04,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,410 - DEBUG - Direction is Short
2018-02-26 12:35:04,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,412 - DEBUG - Count is 0
2018-02-26 12:35:04,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:35:04,414 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:35:04,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:35:04,415 - DEBUG - Max ID Order is (231,)
2018-02-26 12:35:04,416 - DEBUG - Today is 2018-02-26
2018-02-26 12:35:04,416 - DEBUG - Day of the week 0
2018-02-26 12:35:04,416 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:35:04,417 - DEBUG - In Position is  0
2018-02-26 12:35:04,417 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:35:04,417 - DEBUG - curStopLossFlag is  0
2018-02-26 12:35:04,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:35:04,418 - DEBUG - Checking if Entry has been filled
2018-02-26 12:35:04,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:35:04,419 - DEBUG - EntryPend is 1
2018-02-26 12:35:04,420 - DEBUG - Try to Cancel Stop
2018-02-26 12:35:04,420 - DEBUG - Stop API ID 0
2018-02-26 12:35:04,420 - DEBUG - Profit API ID 0
2018-02-26 12:35:04,420 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:35:04,420 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:35:04,421 - DEBUG - Pos is 0
2018-02-26 12:35:04,421 - DEBUG - CurCount is 0
2018-02-26 12:35:04,421 - DEBUG - In Pos 0
2018-02-26 12:35:04,421 - DEBUG - Stop ID is 0
2018-02-26 12:35:04,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:35:04,423 - DEBUG - EntryPend is 1
2018-02-26 12:35:04,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:35:04,424 - DEBUG - Entry Date is 10
2018-02-26 12:35:04,424 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:35:04,424 - DEBUG - Order Profit ID is 228
2018-02-26 12:35:04,424 - DEBUG - Order Entry ID is 228
2018-02-26 12:35:04,425 - DEBUG - API ID is  0
2018-02-26 12:35:04,425 - DEBUG - Current Position is 0
2018-02-26 12:35:04,425 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:35:04,425 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:35:04,425 - DEBUG - Time is 12
2018-02-26 12:35:04,426 - DEBUG - Time is <class 'int'>
2018-02-26 12:35:04,426 - DEBUG - Disconnected from IBController
2018-02-26 12:35:04,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:40:00,265 - DEBUG - ****************************************************
2018-02-26 12:40:00,266 - DEBUG - Current Time is 12:40PM
2018-02-26 12:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:40:00,267 - DEBUG - Connecting to database
2018-02-26 12:40:00,482 - DEBUG - Connected to database
2018-02-26 12:40:00,483 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:00,504 - DEBUG - Order Profit is 228
2018-02-26 12:40:00,504 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:00,556 - DEBUG - Stop ID is 0
2018-02-26 12:40:00,556 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:00,565 - DEBUG - Entry ID is 228
2018-02-26 12:40:00,565 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:40:00,586 - DEBUG - OCA ID is 1
2018-02-26 12:40:00,587 - DEBUG - Connecting to IBController
2018-02-26 12:40:01,593 - DEBUG - Connected to IBController
2018-02-26 12:40:01,593 - DEBUG - Position requested
2018-02-26 12:40:01,604 - DEBUG - Pos Mgmt 0
2018-02-26 12:40:01,610 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=0, avgCost=0.0>
2018-02-26 12:40:01,611 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:40:01,611 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:40:01,611 - DEBUG - Position is 0
2018-02-26 12:40:01,612 - DEBUG - Pos Mgmt -12987
2018-02-26 12:40:01,612 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:40:01,612 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:40:01,612 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:40:01,613 - DEBUG - Position is -12987
2018-02-26 12:40:02,603 - DEBUG - Open Orders requested
2018-02-26 12:40:02,605 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122128>>
2018-02-26 12:40:02,606 - DEBUG - Order OrderID 225
2018-02-26 12:40:02,606 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:40:02,607 - DEBUG - Order status PreSubmitted
2018-02-26 12:40:02,607 - DEBUG - Order Identification 225
2018-02-26 12:40:02,607 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:40:02,607 - DEBUG - Profit ID from database is 228
2018-02-26 12:40:02,608 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:40:02,608 - DEBUG - Stop ID database is 0
2018-02-26 12:40:02,608 - DEBUG - Entry ID database is 228
2018-02-26 12:40:04,606 - DEBUG - Connecting to database
2018-02-26 12:40:04,614 - DEBUG - Connected to database
2018-02-26 12:40:04,616 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,616 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:40:04,617 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,618 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:40:04,619 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,620 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:40:04,621 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,621 - DEBUG - Stop quantity 1
2018-02-26 12:40:04,623 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,623 - DEBUG - Direction is Short
2018-02-26 12:40:04,624 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,624 - DEBUG - Count is 0
2018-02-26 12:40:04,626 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:40:04,626 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:40:04,628 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:40:04,628 - DEBUG - Max ID Order is (231,)
2018-02-26 12:40:04,629 - DEBUG - Today is 2018-02-26
2018-02-26 12:40:04,629 - DEBUG - Day of the week 0
2018-02-26 12:40:04,629 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:40:04,630 - DEBUG - In Position is  0
2018-02-26 12:40:04,630 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:40:04,630 - DEBUG - curStopLossFlag is  0
2018-02-26 12:40:04,630 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:40:04,630 - DEBUG - Checking if Entry has been filled
2018-02-26 12:40:04,631 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:40:04,632 - DEBUG - EntryPend is 1
2018-02-26 12:40:04,632 - DEBUG - Try to Cancel Stop
2018-02-26 12:40:04,633 - DEBUG - Stop API ID 0
2018-02-26 12:40:04,633 - DEBUG - Profit API ID 0
2018-02-26 12:40:04,633 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:40:04,633 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:40:04,633 - DEBUG - Pos is 0
2018-02-26 12:40:04,634 - DEBUG - CurCount is 0
2018-02-26 12:40:04,634 - DEBUG - In Pos 0
2018-02-26 12:40:04,634 - DEBUG - Stop ID is 0
2018-02-26 12:40:04,634 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:40:04,636 - DEBUG - EntryPend is 1
2018-02-26 12:40:04,636 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:40:04,636 - DEBUG - Entry Date is 10
2018-02-26 12:40:04,637 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:40:04,637 - DEBUG - Order Profit ID is 228
2018-02-26 12:40:04,637 - DEBUG - Order Entry ID is 228
2018-02-26 12:40:04,637 - DEBUG - API ID is  0
2018-02-26 12:40:04,638 - DEBUG - Current Position is 0
2018-02-26 12:40:04,638 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:40:04,638 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:40:04,638 - DEBUG - Time is 12
2018-02-26 12:40:04,638 - DEBUG - Time is <class 'int'>
2018-02-26 12:40:04,639 - DEBUG - Disconnected from IBController
2018-02-26 12:40:04,639 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:45:00,285 - DEBUG - ****************************************************
2018-02-26 12:45:00,285 - DEBUG - Current Time is 12:45PM
2018-02-26 12:45:00,285 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:45:00,286 - DEBUG - Connecting to database
2018-02-26 12:45:00,542 - DEBUG - Connected to database
2018-02-26 12:45:00,542 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:00,570 - DEBUG - Order Profit is 228
2018-02-26 12:45:00,570 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:00,685 - DEBUG - Stop ID is 0
2018-02-26 12:45:00,685 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:00,687 - DEBUG - Entry ID is 228
2018-02-26 12:45:00,687 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:45:00,688 - DEBUG - OCA ID is 1
2018-02-26 12:45:00,689 - DEBUG - Connecting to IBController
2018-02-26 12:45:01,694 - DEBUG - Connected to IBController
2018-02-26 12:45:01,694 - DEBUG - Position requested
2018-02-26 12:45:01,696 - DEBUG - Pos Mgmt 0
2018-02-26 12:45:01,696 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD30>, pos=0, avgCost=0.0>
2018-02-26 12:45:01,696 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:45:01,697 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:45:01,697 - DEBUG - Position is 0
2018-02-26 12:45:01,697 - DEBUG - Pos Mgmt -12987
2018-02-26 12:45:01,698 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:45:01,698 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:45:01,698 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:45:01,698 - DEBUG - Position is -12987
2018-02-26 12:45:02,695 - DEBUG - Open Orders requested
2018-02-26 12:45:02,697 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-26 12:45:02,698 - DEBUG - Order OrderID 225
2018-02-26 12:45:02,698 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:45:02,699 - DEBUG - Order status PreSubmitted
2018-02-26 12:45:02,699 - DEBUG - Order Identification 225
2018-02-26 12:45:02,699 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:45:02,699 - DEBUG - Profit ID from database is 228
2018-02-26 12:45:02,700 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:45:02,700 - DEBUG - Stop ID database is 0
2018-02-26 12:45:02,700 - DEBUG - Entry ID database is 228
2018-02-26 12:45:04,698 - DEBUG - Connecting to database
2018-02-26 12:45:04,706 - DEBUG - Connected to database
2018-02-26 12:45:04,707 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,708 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:45:04,709 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,710 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:45:04,711 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,711 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:45:04,713 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,713 - DEBUG - Stop quantity 1
2018-02-26 12:45:04,714 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,715 - DEBUG - Direction is Short
2018-02-26 12:45:04,716 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,716 - DEBUG - Count is 0
2018-02-26 12:45:04,718 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:45:04,718 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:45:04,719 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:45:04,720 - DEBUG - Max ID Order is (231,)
2018-02-26 12:45:04,720 - DEBUG - Today is 2018-02-26
2018-02-26 12:45:04,721 - DEBUG - Day of the week 0
2018-02-26 12:45:04,721 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:45:04,721 - DEBUG - In Position is  0
2018-02-26 12:45:04,721 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:45:04,722 - DEBUG - curStopLossFlag is  0
2018-02-26 12:45:04,722 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:45:04,722 - DEBUG - Checking if Entry has been filled
2018-02-26 12:45:04,722 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:45:04,724 - DEBUG - EntryPend is 1
2018-02-26 12:45:04,724 - DEBUG - Try to Cancel Stop
2018-02-26 12:45:04,724 - DEBUG - Stop API ID 0
2018-02-26 12:45:04,725 - DEBUG - Profit API ID 0
2018-02-26 12:45:04,725 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:45:04,725 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:45:04,725 - DEBUG - Pos is 0
2018-02-26 12:45:04,726 - DEBUG - CurCount is 0
2018-02-26 12:45:04,726 - DEBUG - In Pos 0
2018-02-26 12:45:04,726 - DEBUG - Stop ID is 0
2018-02-26 12:45:04,726 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:45:04,728 - DEBUG - EntryPend is 1
2018-02-26 12:45:04,728 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:45:04,728 - DEBUG - Entry Date is 10
2018-02-26 12:45:04,728 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:45:04,729 - DEBUG - Order Profit ID is 228
2018-02-26 12:45:04,729 - DEBUG - Order Entry ID is 228
2018-02-26 12:45:04,729 - DEBUG - API ID is  0
2018-02-26 12:45:04,729 - DEBUG - Current Position is 0
2018-02-26 12:45:04,729 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:45:04,730 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:45:04,730 - DEBUG - Time is 12
2018-02-26 12:45:04,730 - DEBUG - Time is <class 'int'>
2018-02-26 12:45:04,731 - DEBUG - Disconnected from IBController
2018-02-26 12:45:04,731 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:50:00,267 - DEBUG - ****************************************************
2018-02-26 12:50:00,267 - DEBUG - Current Time is 12:50PM
2018-02-26 12:50:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:50:00,268 - DEBUG - Connecting to database
2018-02-26 12:50:00,451 - DEBUG - Connected to database
2018-02-26 12:50:00,452 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:00,460 - DEBUG - Order Profit is 228
2018-02-26 12:50:00,461 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:00,499 - DEBUG - Stop ID is 0
2018-02-26 12:50:00,500 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:00,519 - DEBUG - Entry ID is 228
2018-02-26 12:50:00,519 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:50:00,532 - DEBUG - OCA ID is 1
2018-02-26 12:50:00,532 - DEBUG - Connecting to IBController
2018-02-26 12:50:01,538 - DEBUG - Connected to IBController
2018-02-26 12:50:01,538 - DEBUG - Position requested
2018-02-26 12:50:01,540 - DEBUG - Pos Mgmt 0
2018-02-26 12:50:01,540 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=0, avgCost=0.0>
2018-02-26 12:50:01,540 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:50:01,541 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:50:01,541 - DEBUG - Position is 0
2018-02-26 12:50:01,541 - DEBUG - Pos Mgmt -12987
2018-02-26 12:50:01,541 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:50:01,542 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:50:01,542 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:50:01,542 - DEBUG - Position is -12987
2018-02-26 12:50:02,540 - DEBUG - Open Orders requested
2018-02-26 12:50:02,542 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 12:50:02,542 - DEBUG - Order OrderID 225
2018-02-26 12:50:02,543 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:50:02,543 - DEBUG - Order status PreSubmitted
2018-02-26 12:50:02,543 - DEBUG - Order Identification 225
2018-02-26 12:50:02,544 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:50:02,544 - DEBUG - Profit ID from database is 228
2018-02-26 12:50:02,544 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:50:02,544 - DEBUG - Stop ID database is 0
2018-02-26 12:50:02,545 - DEBUG - Entry ID database is 228
2018-02-26 12:50:04,542 - DEBUG - Connecting to database
2018-02-26 12:50:04,549 - DEBUG - Connected to database
2018-02-26 12:50:04,551 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,551 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:50:04,552 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,553 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:50:04,554 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,554 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:50:04,556 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,556 - DEBUG - Stop quantity 1
2018-02-26 12:50:04,559 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,559 - DEBUG - Direction is Short
2018-02-26 12:50:04,562 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,562 - DEBUG - Count is 0
2018-02-26 12:50:04,564 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:50:04,564 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:50:04,566 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:50:04,566 - DEBUG - Max ID Order is (231,)
2018-02-26 12:50:04,567 - DEBUG - Today is 2018-02-26
2018-02-26 12:50:04,567 - DEBUG - Day of the week 0
2018-02-26 12:50:04,567 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:50:04,568 - DEBUG - In Position is  0
2018-02-26 12:50:04,568 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:50:04,568 - DEBUG - curStopLossFlag is  0
2018-02-26 12:50:04,568 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:50:04,568 - DEBUG - Checking if Entry has been filled
2018-02-26 12:50:04,569 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:50:04,570 - DEBUG - EntryPend is 1
2018-02-26 12:50:04,570 - DEBUG - Try to Cancel Stop
2018-02-26 12:50:04,571 - DEBUG - Stop API ID 0
2018-02-26 12:50:04,571 - DEBUG - Profit API ID 0
2018-02-26 12:50:04,571 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:50:04,571 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:50:04,572 - DEBUG - Pos is 0
2018-02-26 12:50:04,572 - DEBUG - CurCount is 0
2018-02-26 12:50:04,572 - DEBUG - In Pos 0
2018-02-26 12:50:04,572 - DEBUG - Stop ID is 0
2018-02-26 12:50:04,573 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:50:04,574 - DEBUG - EntryPend is 1
2018-02-26 12:50:04,574 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:50:04,575 - DEBUG - Entry Date is 10
2018-02-26 12:50:04,575 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:50:04,575 - DEBUG - Order Profit ID is 228
2018-02-26 12:50:04,575 - DEBUG - Order Entry ID is 228
2018-02-26 12:50:04,576 - DEBUG - API ID is  0
2018-02-26 12:50:04,576 - DEBUG - Current Position is 0
2018-02-26 12:50:04,576 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:50:04,576 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:50:04,577 - DEBUG - Time is 12
2018-02-26 12:50:04,577 - DEBUG - Time is <class 'int'>
2018-02-26 12:50:04,577 - DEBUG - Disconnected from IBController
2018-02-26 12:50:04,578 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:55:00,279 - DEBUG - ****************************************************
2018-02-26 12:55:00,280 - DEBUG - Current Time is 12:55PM
2018-02-26 12:55:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-26 12:55:00,280 - DEBUG - Connecting to database
2018-02-26 12:55:00,380 - DEBUG - Connected to database
2018-02-26 12:55:00,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:00,386 - DEBUG - Order Profit is 228
2018-02-26 12:55:00,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:00,416 - DEBUG - Stop ID is 0
2018-02-26 12:55:00,416 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:00,444 - DEBUG - Entry ID is 228
2018-02-26 12:55:00,444 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:55:00,446 - DEBUG - OCA ID is 1
2018-02-26 12:55:00,446 - DEBUG - Connecting to IBController
2018-02-26 12:55:01,452 - DEBUG - Connected to IBController
2018-02-26 12:55:01,452 - DEBUG - Position requested
2018-02-26 12:55:01,454 - DEBUG - Pos Mgmt 0
2018-02-26 12:55:01,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, pos=0, avgCost=0.0>
2018-02-26 12:55:01,455 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:55:01,455 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:55:01,455 - DEBUG - Position is 0
2018-02-26 12:55:01,456 - DEBUG - Pos Mgmt -12987
2018-02-26 12:55:01,456 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:55:01,456 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:55:01,457 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:55:01,457 - DEBUG - Position is -12987
2018-02-26 12:55:02,453 - DEBUG - Open Orders requested
2018-02-26 12:55:02,458 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CE48>, order=<ib.ext.Order.Order object at 0x000000000204CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-26 12:55:02,459 - DEBUG - Order OrderID 225
2018-02-26 12:55:02,459 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:55:02,459 - DEBUG - Order status PreSubmitted
2018-02-26 12:55:02,460 - DEBUG - Order Identification 225
2018-02-26 12:55:02,460 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:55:02,460 - DEBUG - Profit ID from database is 228
2018-02-26 12:55:02,460 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:55:02,461 - DEBUG - Stop ID database is 0
2018-02-26 12:55:02,461 - DEBUG - Entry ID database is 228
2018-02-26 12:55:04,458 - DEBUG - Connecting to database
2018-02-26 12:55:04,465 - DEBUG - Connected to database
2018-02-26 12:55:04,467 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,467 - DEBUG - Stop loss value is 2731.25
2018-02-26 12:55:04,469 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,469 - DEBUG - Stop loss value is 2671.5
2018-02-26 12:55:04,470 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,471 - DEBUG - EntryPrice value is 2681.0
2018-02-26 12:55:04,472 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,472 - DEBUG - Stop quantity 1
2018-02-26 12:55:04,474 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,474 - DEBUG - Direction is Short
2018-02-26 12:55:04,475 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,476 - DEBUG - Count is 0
2018-02-26 12:55:04,477 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 12:55:04,477 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:55:04,479 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:55:04,479 - DEBUG - Max ID Order is (231,)
2018-02-26 12:55:04,479 - DEBUG - Today is 2018-02-26
2018-02-26 12:55:04,480 - DEBUG - Day of the week 0
2018-02-26 12:55:04,480 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:55:04,480 - DEBUG - In Position is  0
2018-02-26 12:55:04,481 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:55:04,481 - DEBUG - curStopLossFlag is  0
2018-02-26 12:55:04,481 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:55:04,481 - DEBUG - Checking if Entry has been filled
2018-02-26 12:55:04,481 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:55:04,483 - DEBUG - EntryPend is 1
2018-02-26 12:55:04,483 - DEBUG - Try to Cancel Stop
2018-02-26 12:55:04,483 - DEBUG - Stop API ID 0
2018-02-26 12:55:04,484 - DEBUG - Profit API ID 0
2018-02-26 12:55:04,484 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:55:04,484 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:55:04,484 - DEBUG - Pos is 0
2018-02-26 12:55:04,485 - DEBUG - CurCount is 0
2018-02-26 12:55:04,485 - DEBUG - In Pos 0
2018-02-26 12:55:04,485 - DEBUG - Stop ID is 0
2018-02-26 12:55:04,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 12:55:04,488 - DEBUG - EntryPend is 1
2018-02-26 12:55:04,488 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:55:04,488 - DEBUG - Entry Date is 10
2018-02-26 12:55:04,488 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:55:04,489 - DEBUG - Order Profit ID is 228
2018-02-26 12:55:04,489 - DEBUG - Order Entry ID is 228
2018-02-26 12:55:04,489 - DEBUG - API ID is  0
2018-02-26 12:55:04,489 - DEBUG - Current Position is 0
2018-02-26 12:55:04,490 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:55:04,490 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:55:04,490 - DEBUG - Time is 12
2018-02-26 12:55:04,490 - DEBUG - Time is <class 'int'>
2018-02-26 12:55:04,491 - DEBUG - Disconnected from IBController
2018-02-26 12:55:04,492 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:00:00,277 - DEBUG - ****************************************************
2018-02-26 13:00:00,277 - DEBUG - Current Time is 01:00PM
2018-02-26 13:00:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:00:00,278 - DEBUG - Connecting to database
2018-02-26 13:00:00,671 - DEBUG - Connected to database
2018-02-26 13:00:00,671 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:00,687 - DEBUG - Order Profit is 228
2018-02-26 13:00:00,688 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:00,806 - DEBUG - Stop ID is 0
2018-02-26 13:00:00,807 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:00,822 - DEBUG - Entry ID is 228
2018-02-26 13:00:00,823 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:00:00,849 - DEBUG - OCA ID is 1
2018-02-26 13:00:00,850 - DEBUG - Connecting to IBController
2018-02-26 13:00:01,857 - DEBUG - Connected to IBController
2018-02-26 13:00:01,857 - DEBUG - Position requested
2018-02-26 13:00:01,859 - DEBUG - Pos Mgmt 0
2018-02-26 13:00:01,859 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CA58>, pos=0, avgCost=0.0>
2018-02-26 13:00:01,859 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:00:01,860 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:00:01,860 - DEBUG - Position is 0
2018-02-26 13:00:01,861 - DEBUG - Pos Mgmt -12987
2018-02-26 13:00:01,861 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:00:01,861 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:00:01,861 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:00:01,862 - DEBUG - Position is -12987
2018-02-26 13:00:02,859 - DEBUG - Open Orders requested
2018-02-26 13:00:02,861 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CE48>, order=<ib.ext.Order.Order object at 0x000000000203CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-26 13:00:02,861 - DEBUG - Order OrderID 225
2018-02-26 13:00:02,862 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:00:02,862 - DEBUG - Order status PreSubmitted
2018-02-26 13:00:02,863 - DEBUG - Order Identification 225
2018-02-26 13:00:02,863 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:00:02,863 - DEBUG - Profit ID from database is 228
2018-02-26 13:00:02,864 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:00:02,864 - DEBUG - Stop ID database is 0
2018-02-26 13:00:02,864 - DEBUG - Entry ID database is 228
2018-02-26 13:00:04,861 - DEBUG - Connecting to database
2018-02-26 13:00:04,869 - DEBUG - Connected to database
2018-02-26 13:00:04,870 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,871 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:00:04,872 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,873 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:00:04,874 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,874 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:00:04,876 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,876 - DEBUG - Stop quantity 1
2018-02-26 13:00:04,878 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,878 - DEBUG - Direction is Short
2018-02-26 13:00:04,879 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,880 - DEBUG - Count is 0
2018-02-26 13:00:04,881 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:00:04,881 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:00:04,883 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:00:04,883 - DEBUG - Max ID Order is (231,)
2018-02-26 13:00:04,884 - DEBUG - Today is 2018-02-26
2018-02-26 13:00:04,884 - DEBUG - Day of the week 0
2018-02-26 13:00:04,884 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:00:04,885 - DEBUG - In Position is  0
2018-02-26 13:00:04,885 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:00:04,885 - DEBUG - curStopLossFlag is  0
2018-02-26 13:00:04,885 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:00:04,885 - DEBUG - Checking if Entry has been filled
2018-02-26 13:00:04,886 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:00:04,888 - DEBUG - EntryPend is 1
2018-02-26 13:00:04,888 - DEBUG - Try to Cancel Stop
2018-02-26 13:00:04,889 - DEBUG - Stop API ID 0
2018-02-26 13:00:04,889 - DEBUG - Profit API ID 0
2018-02-26 13:00:04,889 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:00:04,889 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:00:04,890 - DEBUG - Pos is 0
2018-02-26 13:00:04,890 - DEBUG - CurCount is 0
2018-02-26 13:00:04,890 - DEBUG - In Pos 0
2018-02-26 13:00:04,890 - DEBUG - Stop ID is 0
2018-02-26 13:00:04,891 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:00:04,892 - DEBUG - EntryPend is 1
2018-02-26 13:00:04,892 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:00:04,892 - DEBUG - Entry Date is 10
2018-02-26 13:00:04,893 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:00:04,893 - DEBUG - Order Profit ID is 228
2018-02-26 13:00:04,893 - DEBUG - Order Entry ID is 228
2018-02-26 13:00:04,893 - DEBUG - API ID is  0
2018-02-26 13:00:04,894 - DEBUG - Current Position is 0
2018-02-26 13:00:04,894 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:00:04,894 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:00:04,894 - DEBUG - Time is 13
2018-02-26 13:00:04,895 - DEBUG - Time is <class 'int'>
2018-02-26 13:00:04,895 - DEBUG - Disconnected from IBController
2018-02-26 13:00:04,895 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:05:00,263 - DEBUG - ****************************************************
2018-02-26 13:05:00,264 - DEBUG - Current Time is 01:05PM
2018-02-26 13:05:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:05:00,265 - DEBUG - Connecting to database
2018-02-26 13:05:00,451 - DEBUG - Connected to database
2018-02-26 13:05:00,452 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:00,478 - DEBUG - Order Profit is 228
2018-02-26 13:05:00,478 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:00,538 - DEBUG - Stop ID is 0
2018-02-26 13:05:00,538 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:00,566 - DEBUG - Entry ID is 228
2018-02-26 13:05:00,566 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:05:00,597 - DEBUG - OCA ID is 1
2018-02-26 13:05:00,598 - DEBUG - Connecting to IBController
2018-02-26 13:05:01,604 - DEBUG - Connected to IBController
2018-02-26 13:05:01,604 - DEBUG - Position requested
2018-02-26 13:05:01,605 - DEBUG - Pos Mgmt 0
2018-02-26 13:05:01,606 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDDD8>, pos=0, avgCost=0.0>
2018-02-26 13:05:01,606 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:05:01,607 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:05:01,607 - DEBUG - Position is 0
2018-02-26 13:05:01,607 - DEBUG - Pos Mgmt -12987
2018-02-26 13:05:01,608 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:05:01,608 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:05:01,608 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:05:01,608 - DEBUG - Position is -12987
2018-02-26 13:05:02,605 - DEBUG - Open Orders requested
2018-02-26 13:05:02,607 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020DDE48>, order=<ib.ext.Order.Order object at 0x00000000020DDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002171128>>
2018-02-26 13:05:02,608 - DEBUG - Order OrderID 225
2018-02-26 13:05:02,608 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:05:02,608 - DEBUG - Order status PreSubmitted
2018-02-26 13:05:02,609 - DEBUG - Order Identification 225
2018-02-26 13:05:02,609 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:05:02,609 - DEBUG - Profit ID from database is 228
2018-02-26 13:05:02,609 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:05:02,610 - DEBUG - Stop ID database is 0
2018-02-26 13:05:02,610 - DEBUG - Entry ID database is 228
2018-02-26 13:05:04,607 - DEBUG - Connecting to database
2018-02-26 13:05:04,615 - DEBUG - Connected to database
2018-02-26 13:05:04,616 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,617 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:05:04,618 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,618 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:05:04,620 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,620 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:05:04,621 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,622 - DEBUG - Stop quantity 1
2018-02-26 13:05:04,623 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,623 - DEBUG - Direction is Short
2018-02-26 13:05:04,625 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,625 - DEBUG - Count is 0
2018-02-26 13:05:04,626 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:05:04,627 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:05:04,628 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:05:04,629 - DEBUG - Max ID Order is (231,)
2018-02-26 13:05:04,629 - DEBUG - Today is 2018-02-26
2018-02-26 13:05:04,629 - DEBUG - Day of the week 0
2018-02-26 13:05:04,630 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:05:04,630 - DEBUG - In Position is  0
2018-02-26 13:05:04,630 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:05:04,630 - DEBUG - curStopLossFlag is  0
2018-02-26 13:05:04,631 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:05:04,631 - DEBUG - Checking if Entry has been filled
2018-02-26 13:05:04,631 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:05:04,633 - DEBUG - EntryPend is 1
2018-02-26 13:05:04,633 - DEBUG - Try to Cancel Stop
2018-02-26 13:05:04,633 - DEBUG - Stop API ID 0
2018-02-26 13:05:04,633 - DEBUG - Profit API ID 0
2018-02-26 13:05:04,634 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:05:04,634 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:05:04,634 - DEBUG - Pos is 0
2018-02-26 13:05:04,634 - DEBUG - CurCount is 0
2018-02-26 13:05:04,635 - DEBUG - In Pos 0
2018-02-26 13:05:04,635 - DEBUG - Stop ID is 0
2018-02-26 13:05:04,635 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:05:04,636 - DEBUG - EntryPend is 1
2018-02-26 13:05:04,637 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:05:04,637 - DEBUG - Entry Date is 10
2018-02-26 13:05:04,637 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:05:04,637 - DEBUG - Order Profit ID is 228
2018-02-26 13:05:04,638 - DEBUG - Order Entry ID is 228
2018-02-26 13:05:04,638 - DEBUG - API ID is  0
2018-02-26 13:05:04,638 - DEBUG - Current Position is 0
2018-02-26 13:05:04,638 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:05:04,639 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:05:04,639 - DEBUG - Time is 13
2018-02-26 13:05:04,639 - DEBUG - Time is <class 'int'>
2018-02-26 13:05:04,639 - DEBUG - Disconnected from IBController
2018-02-26 13:05:04,640 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:10:00,258 - DEBUG - ****************************************************
2018-02-26 13:10:00,259 - DEBUG - Current Time is 01:10PM
2018-02-26 13:10:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:10:00,259 - DEBUG - Connecting to database
2018-02-26 13:10:00,443 - DEBUG - Connected to database
2018-02-26 13:10:00,443 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:00,446 - DEBUG - Order Profit is 228
2018-02-26 13:10:00,446 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:00,480 - DEBUG - Stop ID is 0
2018-02-26 13:10:00,480 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:00,505 - DEBUG - Entry ID is 228
2018-02-26 13:10:00,506 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:10:00,549 - DEBUG - OCA ID is 1
2018-02-26 13:10:00,549 - DEBUG - Connecting to IBController
2018-02-26 13:10:01,555 - DEBUG - Connected to IBController
2018-02-26 13:10:01,555 - DEBUG - Position requested
2018-02-26 13:10:01,557 - DEBUG - Pos Mgmt 0
2018-02-26 13:10:01,557 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=0, avgCost=0.0>
2018-02-26 13:10:01,557 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:10:01,558 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:10:01,558 - DEBUG - Position is 0
2018-02-26 13:10:01,558 - DEBUG - Pos Mgmt -12987
2018-02-26 13:10:01,559 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:10:01,559 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:10:01,559 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:10:01,559 - DEBUG - Position is -12987
2018-02-26 13:10:02,557 - DEBUG - Open Orders requested
2018-02-26 13:10:02,571 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020B8>>
2018-02-26 13:10:02,572 - DEBUG - Order OrderID 225
2018-02-26 13:10:02,572 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:10:02,573 - DEBUG - Order status PreSubmitted
2018-02-26 13:10:02,573 - DEBUG - Order Identification 225
2018-02-26 13:10:02,573 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:10:02,574 - DEBUG - Profit ID from database is 228
2018-02-26 13:10:02,574 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:10:02,574 - DEBUG - Stop ID database is 0
2018-02-26 13:10:02,574 - DEBUG - Entry ID database is 228
2018-02-26 13:10:04,564 - DEBUG - Connecting to database
2018-02-26 13:10:04,571 - DEBUG - Connected to database
2018-02-26 13:10:04,573 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,573 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:10:04,575 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,576 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:10:04,577 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,577 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:10:04,579 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,579 - DEBUG - Stop quantity 1
2018-02-26 13:10:04,580 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,581 - DEBUG - Direction is Short
2018-02-26 13:10:04,582 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,582 - DEBUG - Count is 0
2018-02-26 13:10:04,584 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:10:04,584 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:10:04,585 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:10:04,586 - DEBUG - Max ID Order is (231,)
2018-02-26 13:10:04,586 - DEBUG - Today is 2018-02-26
2018-02-26 13:10:04,587 - DEBUG - Day of the week 0
2018-02-26 13:10:04,587 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:10:04,587 - DEBUG - In Position is  0
2018-02-26 13:10:04,587 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:10:04,587 - DEBUG - curStopLossFlag is  0
2018-02-26 13:10:04,588 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:10:04,588 - DEBUG - Checking if Entry has been filled
2018-02-26 13:10:04,588 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:10:04,590 - DEBUG - EntryPend is 1
2018-02-26 13:10:04,590 - DEBUG - Try to Cancel Stop
2018-02-26 13:10:04,590 - DEBUG - Stop API ID 0
2018-02-26 13:10:04,590 - DEBUG - Profit API ID 0
2018-02-26 13:10:04,591 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:10:04,591 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:10:04,591 - DEBUG - Pos is 0
2018-02-26 13:10:04,591 - DEBUG - CurCount is 0
2018-02-26 13:10:04,591 - DEBUG - In Pos 0
2018-02-26 13:10:04,592 - DEBUG - Stop ID is 0
2018-02-26 13:10:04,592 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:10:04,594 - DEBUG - EntryPend is 1
2018-02-26 13:10:04,595 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:10:04,596 - DEBUG - Entry Date is 10
2018-02-26 13:10:04,596 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:10:04,596 - DEBUG - Order Profit ID is 228
2018-02-26 13:10:04,597 - DEBUG - Order Entry ID is 228
2018-02-26 13:10:04,597 - DEBUG - API ID is  0
2018-02-26 13:10:04,597 - DEBUG - Current Position is 0
2018-02-26 13:10:04,597 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:10:04,598 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:10:04,598 - DEBUG - Time is 13
2018-02-26 13:10:04,598 - DEBUG - Time is <class 'int'>
2018-02-26 13:10:04,598 - DEBUG - Disconnected from IBController
2018-02-26 13:10:04,599 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:15:00,272 - DEBUG - ****************************************************
2018-02-26 13:15:00,272 - DEBUG - Current Time is 01:15PM
2018-02-26 13:15:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:15:00,273 - DEBUG - Connecting to database
2018-02-26 13:15:00,423 - DEBUG - Connected to database
2018-02-26 13:15:00,424 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:00,468 - DEBUG - Order Profit is 228
2018-02-26 13:15:00,468 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:00,529 - DEBUG - Stop ID is 0
2018-02-26 13:15:00,529 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:00,548 - DEBUG - Entry ID is 228
2018-02-26 13:15:00,548 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:15:00,581 - DEBUG - OCA ID is 1
2018-02-26 13:15:00,581 - DEBUG - Connecting to IBController
2018-02-26 13:15:01,607 - DEBUG - Connected to IBController
2018-02-26 13:15:01,607 - DEBUG - Position requested
2018-02-26 13:15:01,614 - DEBUG - Pos Mgmt 0
2018-02-26 13:15:01,614 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DCF8>, pos=0, avgCost=0.0>
2018-02-26 13:15:01,615 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:15:01,615 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:15:01,615 - DEBUG - Position is 0
2018-02-26 13:15:01,616 - DEBUG - Pos Mgmt -12987
2018-02-26 13:15:01,616 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:15:01,616 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:15:01,617 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:15:01,617 - DEBUG - Position is -12987
2018-02-26 13:15:02,613 - DEBUG - Open Orders requested
2018-02-26 13:15:02,615 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 13:15:02,616 - DEBUG - Order OrderID 225
2018-02-26 13:15:02,616 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:15:02,616 - DEBUG - Order status PreSubmitted
2018-02-26 13:15:02,617 - DEBUG - Order Identification 225
2018-02-26 13:15:02,617 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:15:02,617 - DEBUG - Profit ID from database is 228
2018-02-26 13:15:02,617 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:15:02,618 - DEBUG - Stop ID database is 0
2018-02-26 13:15:02,618 - DEBUG - Entry ID database is 228
2018-02-26 13:15:04,615 - DEBUG - Connecting to database
2018-02-26 13:15:04,623 - DEBUG - Connected to database
2018-02-26 13:15:04,625 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,625 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:15:04,627 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,627 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:15:04,628 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,629 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:15:04,630 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,630 - DEBUG - Stop quantity 1
2018-02-26 13:15:04,632 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,632 - DEBUG - Direction is Short
2018-02-26 13:15:04,634 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,634 - DEBUG - Count is 0
2018-02-26 13:15:04,635 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:15:04,636 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:15:04,637 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:15:04,637 - DEBUG - Max ID Order is (231,)
2018-02-26 13:15:04,638 - DEBUG - Today is 2018-02-26
2018-02-26 13:15:04,638 - DEBUG - Day of the week 0
2018-02-26 13:15:04,638 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:15:04,639 - DEBUG - In Position is  0
2018-02-26 13:15:04,639 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:15:04,639 - DEBUG - curStopLossFlag is  0
2018-02-26 13:15:04,639 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:15:04,640 - DEBUG - Checking if Entry has been filled
2018-02-26 13:15:04,640 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:15:04,641 - DEBUG - EntryPend is 1
2018-02-26 13:15:04,641 - DEBUG - Try to Cancel Stop
2018-02-26 13:15:04,642 - DEBUG - Stop API ID 0
2018-02-26 13:15:04,642 - DEBUG - Profit API ID 0
2018-02-26 13:15:04,642 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:15:04,642 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:15:04,643 - DEBUG - Pos is 0
2018-02-26 13:15:04,643 - DEBUG - CurCount is 0
2018-02-26 13:15:04,643 - DEBUG - In Pos 0
2018-02-26 13:15:04,643 - DEBUG - Stop ID is 0
2018-02-26 13:15:04,644 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:15:04,645 - DEBUG - EntryPend is 1
2018-02-26 13:15:04,645 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:15:04,646 - DEBUG - Entry Date is 10
2018-02-26 13:15:04,646 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:15:04,646 - DEBUG - Order Profit ID is 228
2018-02-26 13:15:04,646 - DEBUG - Order Entry ID is 228
2018-02-26 13:15:04,647 - DEBUG - API ID is  0
2018-02-26 13:15:04,647 - DEBUG - Current Position is 0
2018-02-26 13:15:04,647 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:15:04,647 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:15:04,647 - DEBUG - Time is 13
2018-02-26 13:15:04,648 - DEBUG - Time is <class 'int'>
2018-02-26 13:15:04,648 - DEBUG - Disconnected from IBController
2018-02-26 13:15:04,648 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:20:00,260 - DEBUG - ****************************************************
2018-02-26 13:20:00,260 - DEBUG - Current Time is 01:20PM
2018-02-26 13:20:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:20:00,261 - DEBUG - Connecting to database
2018-02-26 13:20:00,458 - DEBUG - Connected to database
2018-02-26 13:20:00,459 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:00,480 - DEBUG - Order Profit is 228
2018-02-26 13:20:00,480 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:00,551 - DEBUG - Stop ID is 0
2018-02-26 13:20:00,551 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:00,578 - DEBUG - Entry ID is 228
2018-02-26 13:20:00,578 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:20:00,602 - DEBUG - OCA ID is 1
2018-02-26 13:20:00,602 - DEBUG - Connecting to IBController
2018-02-26 13:20:01,609 - DEBUG - Connected to IBController
2018-02-26 13:20:01,609 - DEBUG - Position requested
2018-02-26 13:20:01,611 - DEBUG - Pos Mgmt 0
2018-02-26 13:20:01,611 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=0, avgCost=0.0>
2018-02-26 13:20:01,611 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:20:01,612 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:20:01,612 - DEBUG - Position is 0
2018-02-26 13:20:01,612 - DEBUG - Pos Mgmt -12987
2018-02-26 13:20:01,612 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:20:01,613 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:20:01,613 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:20:01,613 - DEBUG - Position is -12987
2018-02-26 13:20:02,611 - DEBUG - Open Orders requested
2018-02-26 13:20:02,613 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-26 13:20:02,614 - DEBUG - Order OrderID 225
2018-02-26 13:20:02,614 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:20:02,614 - DEBUG - Order status PreSubmitted
2018-02-26 13:20:02,615 - DEBUG - Order Identification 225
2018-02-26 13:20:02,615 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:20:02,615 - DEBUG - Profit ID from database is 228
2018-02-26 13:20:02,615 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:20:02,616 - DEBUG - Stop ID database is 0
2018-02-26 13:20:02,616 - DEBUG - Entry ID database is 228
2018-02-26 13:20:04,611 - DEBUG - Connecting to database
2018-02-26 13:20:04,618 - DEBUG - Connected to database
2018-02-26 13:20:04,620 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,620 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:20:04,622 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,622 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:20:04,623 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,624 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:20:04,625 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,625 - DEBUG - Stop quantity 1
2018-02-26 13:20:04,627 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,627 - DEBUG - Direction is Short
2018-02-26 13:20:04,629 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,629 - DEBUG - Count is 0
2018-02-26 13:20:04,630 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:20:04,631 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:20:04,632 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:20:04,632 - DEBUG - Max ID Order is (231,)
2018-02-26 13:20:04,633 - DEBUG - Today is 2018-02-26
2018-02-26 13:20:04,633 - DEBUG - Day of the week 0
2018-02-26 13:20:04,633 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:20:04,634 - DEBUG - In Position is  0
2018-02-26 13:20:04,634 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:20:04,634 - DEBUG - curStopLossFlag is  0
2018-02-26 13:20:04,634 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:20:04,634 - DEBUG - Checking if Entry has been filled
2018-02-26 13:20:04,635 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:20:04,636 - DEBUG - EntryPend is 1
2018-02-26 13:20:04,636 - DEBUG - Try to Cancel Stop
2018-02-26 13:20:04,637 - DEBUG - Stop API ID 0
2018-02-26 13:20:04,637 - DEBUG - Profit API ID 0
2018-02-26 13:20:04,637 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:20:04,637 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:20:04,637 - DEBUG - Pos is 0
2018-02-26 13:20:04,638 - DEBUG - CurCount is 0
2018-02-26 13:20:04,638 - DEBUG - In Pos 0
2018-02-26 13:20:04,638 - DEBUG - Stop ID is 0
2018-02-26 13:20:04,638 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:20:04,640 - DEBUG - EntryPend is 1
2018-02-26 13:20:04,640 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:20:04,641 - DEBUG - Entry Date is 10
2018-02-26 13:20:04,641 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:20:04,641 - DEBUG - Order Profit ID is 228
2018-02-26 13:20:04,641 - DEBUG - Order Entry ID is 228
2018-02-26 13:20:04,642 - DEBUG - API ID is  0
2018-02-26 13:20:04,642 - DEBUG - Current Position is 0
2018-02-26 13:20:04,642 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:20:04,642 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:20:04,642 - DEBUG - Time is 13
2018-02-26 13:20:04,643 - DEBUG - Time is <class 'int'>
2018-02-26 13:20:04,643 - DEBUG - Disconnected from IBController
2018-02-26 13:20:04,644 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:25:00,259 - DEBUG - ****************************************************
2018-02-26 13:25:00,260 - DEBUG - Current Time is 01:25PM
2018-02-26 13:25:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:25:00,260 - DEBUG - Connecting to database
2018-02-26 13:25:00,430 - DEBUG - Connected to database
2018-02-26 13:25:00,430 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:00,433 - DEBUG - Order Profit is 228
2018-02-26 13:25:00,433 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:00,458 - DEBUG - Stop ID is 0
2018-02-26 13:25:00,458 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:00,464 - DEBUG - Entry ID is 228
2018-02-26 13:25:00,465 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:25:00,467 - DEBUG - OCA ID is 1
2018-02-26 13:25:00,467 - DEBUG - Connecting to IBController
2018-02-26 13:25:01,474 - DEBUG - Connected to IBController
2018-02-26 13:25:01,474 - DEBUG - Position requested
2018-02-26 13:25:01,476 - DEBUG - Pos Mgmt 0
2018-02-26 13:25:01,476 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=0, avgCost=0.0>
2018-02-26 13:25:01,476 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:25:01,477 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:25:01,477 - DEBUG - Position is 0
2018-02-26 13:25:01,477 - DEBUG - Pos Mgmt -12987
2018-02-26 13:25:01,478 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:25:01,478 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:25:01,478 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:25:01,478 - DEBUG - Position is -12987
2018-02-26 13:25:02,476 - DEBUG - Open Orders requested
2018-02-26 13:25:02,478 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-26 13:25:02,478 - DEBUG - Order OrderID 225
2018-02-26 13:25:02,479 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:25:02,479 - DEBUG - Order status PreSubmitted
2018-02-26 13:25:02,480 - DEBUG - Order Identification 225
2018-02-26 13:25:02,480 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:25:02,480 - DEBUG - Profit ID from database is 228
2018-02-26 13:25:02,480 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:25:02,480 - DEBUG - Stop ID database is 0
2018-02-26 13:25:02,481 - DEBUG - Entry ID database is 228
2018-02-26 13:25:04,478 - DEBUG - Connecting to database
2018-02-26 13:25:04,487 - DEBUG - Connected to database
2018-02-26 13:25:04,489 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,489 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:25:04,491 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,491 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:25:04,492 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,493 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:25:04,494 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,494 - DEBUG - Stop quantity 1
2018-02-26 13:25:04,496 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,496 - DEBUG - Direction is Short
2018-02-26 13:25:04,497 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,498 - DEBUG - Count is 0
2018-02-26 13:25:04,499 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:25:04,500 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:25:04,501 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:25:04,501 - DEBUG - Max ID Order is (231,)
2018-02-26 13:25:04,502 - DEBUG - Today is 2018-02-26
2018-02-26 13:25:04,502 - DEBUG - Day of the week 0
2018-02-26 13:25:04,502 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:25:04,503 - DEBUG - In Position is  0
2018-02-26 13:25:04,503 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:25:04,503 - DEBUG - curStopLossFlag is  0
2018-02-26 13:25:04,503 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:25:04,503 - DEBUG - Checking if Entry has been filled
2018-02-26 13:25:04,504 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:25:04,505 - DEBUG - EntryPend is 1
2018-02-26 13:25:04,506 - DEBUG - Try to Cancel Stop
2018-02-26 13:25:04,506 - DEBUG - Stop API ID 0
2018-02-26 13:25:04,506 - DEBUG - Profit API ID 0
2018-02-26 13:25:04,506 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:25:04,506 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:25:04,507 - DEBUG - Pos is 0
2018-02-26 13:25:04,507 - DEBUG - CurCount is 0
2018-02-26 13:25:04,507 - DEBUG - In Pos 0
2018-02-26 13:25:04,507 - DEBUG - Stop ID is 0
2018-02-26 13:25:04,508 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:25:04,509 - DEBUG - EntryPend is 1
2018-02-26 13:25:04,509 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:25:04,509 - DEBUG - Entry Date is 10
2018-02-26 13:25:04,510 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:25:04,510 - DEBUG - Order Profit ID is 228
2018-02-26 13:25:04,510 - DEBUG - Order Entry ID is 228
2018-02-26 13:25:04,510 - DEBUG - API ID is  0
2018-02-26 13:25:04,511 - DEBUG - Current Position is 0
2018-02-26 13:25:04,511 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:25:04,511 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:25:04,511 - DEBUG - Time is 13
2018-02-26 13:25:04,512 - DEBUG - Time is <class 'int'>
2018-02-26 13:25:04,512 - DEBUG - Disconnected from IBController
2018-02-26 13:25:04,512 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:30:00,287 - DEBUG - ****************************************************
2018-02-26 13:30:00,287 - DEBUG - Current Time is 01:30PM
2018-02-26 13:30:00,288 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:30:00,288 - DEBUG - Connecting to database
2018-02-26 13:30:00,442 - DEBUG - Connected to database
2018-02-26 13:30:00,443 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:00,453 - DEBUG - Order Profit is 228
2018-02-26 13:30:00,453 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:00,480 - DEBUG - Stop ID is 0
2018-02-26 13:30:00,481 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:00,504 - DEBUG - Entry ID is 228
2018-02-26 13:30:00,504 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:30:00,515 - DEBUG - OCA ID is 1
2018-02-26 13:30:00,515 - DEBUG - Connecting to IBController
2018-02-26 13:30:01,521 - DEBUG - Connected to IBController
2018-02-26 13:30:01,521 - DEBUG - Position requested
2018-02-26 13:30:01,523 - DEBUG - Pos Mgmt 0
2018-02-26 13:30:01,523 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CD68>, pos=0, avgCost=0.0>
2018-02-26 13:30:01,524 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:30:01,524 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:30:01,524 - DEBUG - Position is 0
2018-02-26 13:30:01,525 - DEBUG - Pos Mgmt -12987
2018-02-26 13:30:01,525 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:30:01,525 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:30:01,526 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:30:01,526 - DEBUG - Position is -12987
2018-02-26 13:30:02,522 - DEBUG - Open Orders requested
2018-02-26 13:30:02,524 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CE48>, order=<ib.ext.Order.Order object at 0x000000000204CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-26 13:30:02,524 - DEBUG - Order OrderID 225
2018-02-26 13:30:02,525 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:30:02,525 - DEBUG - Order status PreSubmitted
2018-02-26 13:30:02,526 - DEBUG - Order Identification 225
2018-02-26 13:30:02,526 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:30:02,526 - DEBUG - Profit ID from database is 228
2018-02-26 13:30:02,527 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:30:02,527 - DEBUG - Stop ID database is 0
2018-02-26 13:30:02,527 - DEBUG - Entry ID database is 228
2018-02-26 13:30:04,524 - DEBUG - Connecting to database
2018-02-26 13:30:04,531 - DEBUG - Connected to database
2018-02-26 13:30:04,533 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,533 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:30:04,534 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,535 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:30:04,536 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,537 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:30:04,538 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,538 - DEBUG - Stop quantity 1
2018-02-26 13:30:04,540 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,540 - DEBUG - Direction is Short
2018-02-26 13:30:04,541 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,542 - DEBUG - Count is 0
2018-02-26 13:30:04,543 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:30:04,543 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:30:04,545 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:30:04,545 - DEBUG - Max ID Order is (231,)
2018-02-26 13:30:04,545 - DEBUG - Today is 2018-02-26
2018-02-26 13:30:04,546 - DEBUG - Day of the week 0
2018-02-26 13:30:04,546 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:30:04,546 - DEBUG - In Position is  0
2018-02-26 13:30:04,547 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:30:04,547 - DEBUG - curStopLossFlag is  0
2018-02-26 13:30:04,547 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:30:04,547 - DEBUG - Checking if Entry has been filled
2018-02-26 13:30:04,547 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:30:04,550 - DEBUG - EntryPend is 1
2018-02-26 13:30:04,550 - DEBUG - Try to Cancel Stop
2018-02-26 13:30:04,550 - DEBUG - Stop API ID 0
2018-02-26 13:30:04,550 - DEBUG - Profit API ID 0
2018-02-26 13:30:04,551 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:30:04,551 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:30:04,551 - DEBUG - Pos is 0
2018-02-26 13:30:04,551 - DEBUG - CurCount is 0
2018-02-26 13:30:04,552 - DEBUG - In Pos 0
2018-02-26 13:30:04,552 - DEBUG - Stop ID is 0
2018-02-26 13:30:04,552 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:30:04,553 - DEBUG - EntryPend is 1
2018-02-26 13:30:04,554 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:30:04,554 - DEBUG - Entry Date is 10
2018-02-26 13:30:04,554 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:30:04,554 - DEBUG - Order Profit ID is 228
2018-02-26 13:30:04,555 - DEBUG - Order Entry ID is 228
2018-02-26 13:30:04,555 - DEBUG - API ID is  0
2018-02-26 13:30:04,555 - DEBUG - Current Position is 0
2018-02-26 13:30:04,555 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:30:04,556 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:30:04,556 - DEBUG - Time is 13
2018-02-26 13:30:04,556 - DEBUG - Time is <class 'int'>
2018-02-26 13:30:04,556 - DEBUG - Disconnected from IBController
2018-02-26 13:30:04,557 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:35:00,270 - DEBUG - ****************************************************
2018-02-26 13:35:00,270 - DEBUG - Current Time is 01:35PM
2018-02-26 13:35:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:35:00,271 - DEBUG - Connecting to database
2018-02-26 13:35:00,474 - DEBUG - Connected to database
2018-02-26 13:35:00,474 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:00,488 - DEBUG - Order Profit is 228
2018-02-26 13:35:00,489 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:00,507 - DEBUG - Stop ID is 0
2018-02-26 13:35:00,508 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:00,539 - DEBUG - Entry ID is 228
2018-02-26 13:35:00,540 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:35:00,556 - DEBUG - OCA ID is 1
2018-02-26 13:35:00,556 - DEBUG - Connecting to IBController
2018-02-26 13:35:01,563 - DEBUG - Connected to IBController
2018-02-26 13:35:01,563 - DEBUG - Position requested
2018-02-26 13:35:01,565 - DEBUG - Pos Mgmt 0
2018-02-26 13:35:01,575 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=0, avgCost=0.0>
2018-02-26 13:35:01,576 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:35:01,576 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:35:01,576 - DEBUG - Position is 0
2018-02-26 13:35:01,577 - DEBUG - Pos Mgmt -12987
2018-02-26 13:35:01,577 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:35:01,577 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:35:01,578 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:35:01,578 - DEBUG - Position is -12987
2018-02-26 13:35:02,575 - DEBUG - Open Orders requested
2018-02-26 13:35:02,581 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 13:35:02,588 - DEBUG - Order OrderID 225
2018-02-26 13:35:02,589 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:35:02,589 - DEBUG - Order status PreSubmitted
2018-02-26 13:35:02,590 - DEBUG - Order Identification 225
2018-02-26 13:35:02,590 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:35:02,590 - DEBUG - Profit ID from database is 228
2018-02-26 13:35:02,591 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:35:02,591 - DEBUG - Stop ID database is 0
2018-02-26 13:35:02,591 - DEBUG - Entry ID database is 228
2018-02-26 13:35:04,588 - DEBUG - Connecting to database
2018-02-26 13:35:04,596 - DEBUG - Connected to database
2018-02-26 13:35:04,597 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,598 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:35:04,599 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,600 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:35:04,601 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,602 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:35:04,603 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,603 - DEBUG - Stop quantity 1
2018-02-26 13:35:04,605 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,605 - DEBUG - Direction is Short
2018-02-26 13:35:04,607 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,607 - DEBUG - Count is 0
2018-02-26 13:35:04,608 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:35:04,609 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:35:04,610 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:35:04,611 - DEBUG - Max ID Order is (231,)
2018-02-26 13:35:04,611 - DEBUG - Today is 2018-02-26
2018-02-26 13:35:04,611 - DEBUG - Day of the week 0
2018-02-26 13:35:04,612 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:35:04,612 - DEBUG - In Position is  0
2018-02-26 13:35:04,612 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:35:04,613 - DEBUG - curStopLossFlag is  0
2018-02-26 13:35:04,613 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:35:04,613 - DEBUG - Checking if Entry has been filled
2018-02-26 13:35:04,613 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:35:04,615 - DEBUG - EntryPend is 1
2018-02-26 13:35:04,615 - DEBUG - Try to Cancel Stop
2018-02-26 13:35:04,615 - DEBUG - Stop API ID 0
2018-02-26 13:35:04,616 - DEBUG - Profit API ID 0
2018-02-26 13:35:04,616 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:35:04,616 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:35:04,616 - DEBUG - Pos is 0
2018-02-26 13:35:04,616 - DEBUG - CurCount is 0
2018-02-26 13:35:04,617 - DEBUG - In Pos 0
2018-02-26 13:35:04,617 - DEBUG - Stop ID is 0
2018-02-26 13:35:04,617 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:35:04,619 - DEBUG - EntryPend is 1
2018-02-26 13:35:04,619 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:35:04,619 - DEBUG - Entry Date is 10
2018-02-26 13:35:04,619 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:35:04,620 - DEBUG - Order Profit ID is 228
2018-02-26 13:35:04,620 - DEBUG - Order Entry ID is 228
2018-02-26 13:35:04,620 - DEBUG - API ID is  0
2018-02-26 13:35:04,620 - DEBUG - Current Position is 0
2018-02-26 13:35:04,621 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:35:04,621 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:35:04,621 - DEBUG - Time is 13
2018-02-26 13:35:04,621 - DEBUG - Time is <class 'int'>
2018-02-26 13:35:04,622 - DEBUG - Disconnected from IBController
2018-02-26 13:35:04,622 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:40:00,267 - DEBUG - ****************************************************
2018-02-26 13:40:00,268 - DEBUG - Current Time is 01:40PM
2018-02-26 13:40:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:40:00,268 - DEBUG - Connecting to database
2018-02-26 13:40:00,384 - DEBUG - Connected to database
2018-02-26 13:40:00,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:00,396 - DEBUG - Order Profit is 228
2018-02-26 13:40:00,396 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:00,420 - DEBUG - Stop ID is 0
2018-02-26 13:40:00,420 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:00,432 - DEBUG - Entry ID is 228
2018-02-26 13:40:00,432 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:40:00,437 - DEBUG - OCA ID is 1
2018-02-26 13:40:00,438 - DEBUG - Connecting to IBController
2018-02-26 13:40:01,444 - DEBUG - Connected to IBController
2018-02-26 13:40:01,444 - DEBUG - Position requested
2018-02-26 13:40:01,446 - DEBUG - Pos Mgmt 0
2018-02-26 13:40:01,446 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=0, avgCost=0.0>
2018-02-26 13:40:01,446 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:40:01,447 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:40:01,447 - DEBUG - Position is 0
2018-02-26 13:40:01,447 - DEBUG - Pos Mgmt -12987
2018-02-26 13:40:01,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:40:01,448 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:40:01,448 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:40:01,448 - DEBUG - Position is -12987
2018-02-26 13:40:02,446 - DEBUG - Open Orders requested
2018-02-26 13:40:02,448 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 13:40:02,449 - DEBUG - Order OrderID 225
2018-02-26 13:40:02,449 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:40:02,449 - DEBUG - Order status PreSubmitted
2018-02-26 13:40:02,450 - DEBUG - Order Identification 225
2018-02-26 13:40:02,450 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:40:02,450 - DEBUG - Profit ID from database is 228
2018-02-26 13:40:02,450 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:40:02,451 - DEBUG - Stop ID database is 0
2018-02-26 13:40:02,451 - DEBUG - Entry ID database is 228
2018-02-26 13:40:04,448 - DEBUG - Connecting to database
2018-02-26 13:40:04,455 - DEBUG - Connected to database
2018-02-26 13:40:04,456 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,457 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:40:04,458 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,459 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:40:04,461 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,461 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:40:04,463 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,463 - DEBUG - Stop quantity 1
2018-02-26 13:40:04,464 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,465 - DEBUG - Direction is Short
2018-02-26 13:40:04,466 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,467 - DEBUG - Count is 0
2018-02-26 13:40:04,468 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:40:04,468 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:40:04,470 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:40:04,470 - DEBUG - Max ID Order is (231,)
2018-02-26 13:40:04,470 - DEBUG - Today is 2018-02-26
2018-02-26 13:40:04,471 - DEBUG - Day of the week 0
2018-02-26 13:40:04,471 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:40:04,471 - DEBUG - In Position is  0
2018-02-26 13:40:04,471 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:40:04,472 - DEBUG - curStopLossFlag is  0
2018-02-26 13:40:04,472 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:40:04,472 - DEBUG - Checking if Entry has been filled
2018-02-26 13:40:04,472 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:40:04,474 - DEBUG - EntryPend is 1
2018-02-26 13:40:04,474 - DEBUG - Try to Cancel Stop
2018-02-26 13:40:04,474 - DEBUG - Stop API ID 0
2018-02-26 13:40:04,475 - DEBUG - Profit API ID 0
2018-02-26 13:40:04,475 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:40:04,475 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:40:04,475 - DEBUG - Pos is 0
2018-02-26 13:40:04,475 - DEBUG - CurCount is 0
2018-02-26 13:40:04,476 - DEBUG - In Pos 0
2018-02-26 13:40:04,476 - DEBUG - Stop ID is 0
2018-02-26 13:40:04,476 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:40:04,478 - DEBUG - EntryPend is 1
2018-02-26 13:40:04,478 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:40:04,478 - DEBUG - Entry Date is 10
2018-02-26 13:40:04,478 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:40:04,479 - DEBUG - Order Profit ID is 228
2018-02-26 13:40:04,479 - DEBUG - Order Entry ID is 228
2018-02-26 13:40:04,479 - DEBUG - API ID is  0
2018-02-26 13:40:04,479 - DEBUG - Current Position is 0
2018-02-26 13:40:04,480 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:40:04,480 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:40:04,480 - DEBUG - Time is 13
2018-02-26 13:40:04,480 - DEBUG - Time is <class 'int'>
2018-02-26 13:40:04,481 - DEBUG - Disconnected from IBController
2018-02-26 13:40:04,481 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:45:00,278 - DEBUG - ****************************************************
2018-02-26 13:45:00,279 - DEBUG - Current Time is 01:45PM
2018-02-26 13:45:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:45:00,280 - DEBUG - Connecting to database
2018-02-26 13:45:00,417 - DEBUG - Connected to database
2018-02-26 13:45:00,418 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:00,426 - DEBUG - Order Profit is 228
2018-02-26 13:45:00,426 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:00,454 - DEBUG - Stop ID is 0
2018-02-26 13:45:00,455 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:00,478 - DEBUG - Entry ID is 228
2018-02-26 13:45:00,479 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:45:00,500 - DEBUG - OCA ID is 1
2018-02-26 13:45:00,501 - DEBUG - Connecting to IBController
2018-02-26 13:45:01,507 - DEBUG - Connected to IBController
2018-02-26 13:45:01,507 - DEBUG - Position requested
2018-02-26 13:45:01,508 - DEBUG - Pos Mgmt 0
2018-02-26 13:45:01,509 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, pos=0, avgCost=0.0>
2018-02-26 13:45:01,509 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:45:01,510 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:45:01,510 - DEBUG - Position is 0
2018-02-26 13:45:01,510 - DEBUG - Pos Mgmt -12987
2018-02-26 13:45:01,510 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:45:01,511 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:45:01,511 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:45:01,511 - DEBUG - Position is -12987
2018-02-26 13:45:02,509 - DEBUG - Open Orders requested
2018-02-26 13:45:02,511 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CA58>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 13:45:02,511 - DEBUG - Order OrderID 225
2018-02-26 13:45:02,512 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:45:02,512 - DEBUG - Order status PreSubmitted
2018-02-26 13:45:02,512 - DEBUG - Order Identification 225
2018-02-26 13:45:02,513 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:45:02,513 - DEBUG - Profit ID from database is 228
2018-02-26 13:45:02,513 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:45:02,514 - DEBUG - Stop ID database is 0
2018-02-26 13:45:02,514 - DEBUG - Entry ID database is 228
2018-02-26 13:45:04,509 - DEBUG - Connecting to database
2018-02-26 13:45:04,516 - DEBUG - Connected to database
2018-02-26 13:45:04,518 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,518 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:45:04,520 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,520 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:45:04,522 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,522 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:45:04,523 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,524 - DEBUG - Stop quantity 1
2018-02-26 13:45:04,525 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,525 - DEBUG - Direction is Short
2018-02-26 13:45:04,527 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,527 - DEBUG - Count is 0
2018-02-26 13:45:04,528 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:45:04,529 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:45:04,530 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:45:04,531 - DEBUG - Max ID Order is (231,)
2018-02-26 13:45:04,531 - DEBUG - Today is 2018-02-26
2018-02-26 13:45:04,531 - DEBUG - Day of the week 0
2018-02-26 13:45:04,532 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:45:04,532 - DEBUG - In Position is  0
2018-02-26 13:45:04,532 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:45:04,532 - DEBUG - curStopLossFlag is  0
2018-02-26 13:45:04,533 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:45:04,533 - DEBUG - Checking if Entry has been filled
2018-02-26 13:45:04,533 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:45:04,535 - DEBUG - EntryPend is 1
2018-02-26 13:45:04,535 - DEBUG - Try to Cancel Stop
2018-02-26 13:45:04,535 - DEBUG - Stop API ID 0
2018-02-26 13:45:04,535 - DEBUG - Profit API ID 0
2018-02-26 13:45:04,536 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:45:04,536 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:45:04,536 - DEBUG - Pos is 0
2018-02-26 13:45:04,536 - DEBUG - CurCount is 0
2018-02-26 13:45:04,537 - DEBUG - In Pos 0
2018-02-26 13:45:04,537 - DEBUG - Stop ID is 0
2018-02-26 13:45:04,537 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:45:04,539 - DEBUG - EntryPend is 1
2018-02-26 13:45:04,539 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:45:04,539 - DEBUG - Entry Date is 10
2018-02-26 13:45:04,539 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:45:04,540 - DEBUG - Order Profit ID is 228
2018-02-26 13:45:04,540 - DEBUG - Order Entry ID is 228
2018-02-26 13:45:04,540 - DEBUG - API ID is  0
2018-02-26 13:45:04,540 - DEBUG - Current Position is 0
2018-02-26 13:45:04,540 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:45:04,541 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:45:04,541 - DEBUG - Time is 13
2018-02-26 13:45:04,541 - DEBUG - Time is <class 'int'>
2018-02-26 13:45:04,542 - DEBUG - Disconnected from IBController
2018-02-26 13:45:04,542 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:50:00,257 - DEBUG - ****************************************************
2018-02-26 13:50:00,257 - DEBUG - Current Time is 01:50PM
2018-02-26 13:50:00,258 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:50:00,258 - DEBUG - Connecting to database
2018-02-26 13:50:00,475 - DEBUG - Connected to database
2018-02-26 13:50:00,476 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:00,487 - DEBUG - Order Profit is 228
2018-02-26 13:50:00,487 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:00,524 - DEBUG - Stop ID is 0
2018-02-26 13:50:00,525 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:00,558 - DEBUG - Entry ID is 228
2018-02-26 13:50:00,558 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:50:00,592 - DEBUG - OCA ID is 1
2018-02-26 13:50:00,592 - DEBUG - Connecting to IBController
2018-02-26 13:50:01,601 - DEBUG - Connected to IBController
2018-02-26 13:50:01,601 - DEBUG - Position requested
2018-02-26 13:50:01,602 - DEBUG - Pos Mgmt 0
2018-02-26 13:50:01,603 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, pos=0, avgCost=0.0>
2018-02-26 13:50:01,603 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:50:01,603 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:50:01,604 - DEBUG - Position is 0
2018-02-26 13:50:01,604 - DEBUG - Pos Mgmt -12987
2018-02-26 13:50:01,604 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:50:01,605 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:50:01,605 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:50:01,605 - DEBUG - Position is -12987
2018-02-26 13:50:02,602 - DEBUG - Open Orders requested
2018-02-26 13:50:02,604 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, order=<ib.ext.Order.Order object at 0x000000000203CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-26 13:50:02,604 - DEBUG - Order OrderID 225
2018-02-26 13:50:02,605 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:50:02,605 - DEBUG - Order status PreSubmitted
2018-02-26 13:50:02,606 - DEBUG - Order Identification 225
2018-02-26 13:50:02,606 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:50:02,606 - DEBUG - Profit ID from database is 228
2018-02-26 13:50:02,606 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:50:02,607 - DEBUG - Stop ID database is 0
2018-02-26 13:50:02,607 - DEBUG - Entry ID database is 228
2018-02-26 13:50:04,602 - DEBUG - Connecting to database
2018-02-26 13:50:04,610 - DEBUG - Connected to database
2018-02-26 13:50:04,611 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,611 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:50:04,613 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,613 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:50:04,615 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,615 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:50:04,616 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,616 - DEBUG - Stop quantity 1
2018-02-26 13:50:04,618 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,618 - DEBUG - Direction is Short
2018-02-26 13:50:04,619 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,620 - DEBUG - Count is 0
2018-02-26 13:50:04,621 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:50:04,621 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:50:04,623 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:50:04,623 - DEBUG - Max ID Order is (231,)
2018-02-26 13:50:04,623 - DEBUG - Today is 2018-02-26
2018-02-26 13:50:04,624 - DEBUG - Day of the week 0
2018-02-26 13:50:04,624 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:50:04,624 - DEBUG - In Position is  0
2018-02-26 13:50:04,625 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:50:04,625 - DEBUG - curStopLossFlag is  0
2018-02-26 13:50:04,625 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:50:04,625 - DEBUG - Checking if Entry has been filled
2018-02-26 13:50:04,625 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:50:04,627 - DEBUG - EntryPend is 1
2018-02-26 13:50:04,627 - DEBUG - Try to Cancel Stop
2018-02-26 13:50:04,628 - DEBUG - Stop API ID 0
2018-02-26 13:50:04,628 - DEBUG - Profit API ID 0
2018-02-26 13:50:04,628 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:50:04,628 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:50:04,628 - DEBUG - Pos is 0
2018-02-26 13:50:04,629 - DEBUG - CurCount is 0
2018-02-26 13:50:04,629 - DEBUG - In Pos 0
2018-02-26 13:50:04,629 - DEBUG - Stop ID is 0
2018-02-26 13:50:04,629 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:50:04,631 - DEBUG - EntryPend is 1
2018-02-26 13:50:04,631 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:50:04,631 - DEBUG - Entry Date is 10
2018-02-26 13:50:04,631 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:50:04,632 - DEBUG - Order Profit ID is 228
2018-02-26 13:50:04,632 - DEBUG - Order Entry ID is 228
2018-02-26 13:50:04,632 - DEBUG - API ID is  0
2018-02-26 13:50:04,632 - DEBUG - Current Position is 0
2018-02-26 13:50:04,633 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:50:04,633 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:50:04,633 - DEBUG - Time is 13
2018-02-26 13:50:04,633 - DEBUG - Time is <class 'int'>
2018-02-26 13:50:04,634 - DEBUG - Disconnected from IBController
2018-02-26 13:50:04,635 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:55:00,260 - DEBUG - ****************************************************
2018-02-26 13:55:00,260 - DEBUG - Current Time is 01:55PM
2018-02-26 13:55:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-26 13:55:00,261 - DEBUG - Connecting to database
2018-02-26 13:55:00,433 - DEBUG - Connected to database
2018-02-26 13:55:00,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:00,458 - DEBUG - Order Profit is 228
2018-02-26 13:55:00,458 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:00,561 - DEBUG - Stop ID is 0
2018-02-26 13:55:00,562 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:00,577 - DEBUG - Entry ID is 228
2018-02-26 13:55:00,577 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:55:00,579 - DEBUG - OCA ID is 1
2018-02-26 13:55:00,579 - DEBUG - Connecting to IBController
2018-02-26 13:55:01,585 - DEBUG - Connected to IBController
2018-02-26 13:55:01,585 - DEBUG - Position requested
2018-02-26 13:55:01,587 - DEBUG - Pos Mgmt 0
2018-02-26 13:55:01,587 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, pos=0, avgCost=0.0>
2018-02-26 13:55:01,587 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:55:01,588 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:55:01,588 - DEBUG - Position is 0
2018-02-26 13:55:01,588 - DEBUG - Pos Mgmt -12987
2018-02-26 13:55:01,589 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:55:01,589 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:55:01,589 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:55:01,589 - DEBUG - Position is -12987
2018-02-26 13:55:02,586 - DEBUG - Open Orders requested
2018-02-26 13:55:02,588 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-26 13:55:02,589 - DEBUG - Order OrderID 225
2018-02-26 13:55:02,589 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:55:02,589 - DEBUG - Order status PreSubmitted
2018-02-26 13:55:02,590 - DEBUG - Order Identification 225
2018-02-26 13:55:02,590 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:55:02,590 - DEBUG - Profit ID from database is 228
2018-02-26 13:55:02,590 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:55:02,591 - DEBUG - Stop ID database is 0
2018-02-26 13:55:02,591 - DEBUG - Entry ID database is 228
2018-02-26 13:55:04,588 - DEBUG - Connecting to database
2018-02-26 13:55:04,595 - DEBUG - Connected to database
2018-02-26 13:55:04,597 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,597 - DEBUG - Stop loss value is 2731.25
2018-02-26 13:55:04,598 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,599 - DEBUG - Stop loss value is 2671.5
2018-02-26 13:55:04,600 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,601 - DEBUG - EntryPrice value is 2681.0
2018-02-26 13:55:04,603 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,603 - DEBUG - Stop quantity 1
2018-02-26 13:55:04,604 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,605 - DEBUG - Direction is Short
2018-02-26 13:55:04,606 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,606 - DEBUG - Count is 0
2018-02-26 13:55:04,608 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 13:55:04,608 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:55:04,610 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:55:04,610 - DEBUG - Max ID Order is (231,)
2018-02-26 13:55:04,610 - DEBUG - Today is 2018-02-26
2018-02-26 13:55:04,611 - DEBUG - Day of the week 0
2018-02-26 13:55:04,611 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:55:04,611 - DEBUG - In Position is  0
2018-02-26 13:55:04,611 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:55:04,612 - DEBUG - curStopLossFlag is  0
2018-02-26 13:55:04,612 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:55:04,612 - DEBUG - Checking if Entry has been filled
2018-02-26 13:55:04,612 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:55:04,614 - DEBUG - EntryPend is 1
2018-02-26 13:55:04,614 - DEBUG - Try to Cancel Stop
2018-02-26 13:55:04,614 - DEBUG - Stop API ID 0
2018-02-26 13:55:04,614 - DEBUG - Profit API ID 0
2018-02-26 13:55:04,615 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:55:04,615 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:55:04,615 - DEBUG - Pos is 0
2018-02-26 13:55:04,615 - DEBUG - CurCount is 0
2018-02-26 13:55:04,616 - DEBUG - In Pos 0
2018-02-26 13:55:04,616 - DEBUG - Stop ID is 0
2018-02-26 13:55:04,616 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 13:55:04,617 - DEBUG - EntryPend is 1
2018-02-26 13:55:04,618 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:55:04,618 - DEBUG - Entry Date is 10
2018-02-26 13:55:04,618 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:55:04,618 - DEBUG - Order Profit ID is 228
2018-02-26 13:55:04,618 - DEBUG - Order Entry ID is 228
2018-02-26 13:55:04,619 - DEBUG - API ID is  0
2018-02-26 13:55:04,619 - DEBUG - Current Position is 0
2018-02-26 13:55:04,619 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:55:04,619 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:55:04,620 - DEBUG - Time is 13
2018-02-26 13:55:04,620 - DEBUG - Time is <class 'int'>
2018-02-26 13:55:04,620 - DEBUG - Disconnected from IBController
2018-02-26 13:55:04,621 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:00:00,280 - DEBUG - ****************************************************
2018-02-26 14:00:00,281 - DEBUG - Current Time is 02:00PM
2018-02-26 14:00:00,281 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:00:00,281 - DEBUG - Connecting to database
2018-02-26 14:00:00,653 - DEBUG - Connected to database
2018-02-26 14:00:00,653 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:00,726 - DEBUG - Order Profit is 228
2018-02-26 14:00:00,727 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:00,810 - DEBUG - Stop ID is 0
2018-02-26 14:00:00,810 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:00,847 - DEBUG - Entry ID is 228
2018-02-26 14:00:00,847 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:00:00,870 - DEBUG - OCA ID is 1
2018-02-26 14:00:00,871 - DEBUG - Connecting to IBController
2018-02-26 14:00:01,878 - DEBUG - Connected to IBController
2018-02-26 14:00:01,878 - DEBUG - Position requested
2018-02-26 14:00:01,880 - DEBUG - Pos Mgmt 0
2018-02-26 14:00:01,880 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, pos=0, avgCost=0.0>
2018-02-26 14:00:01,881 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:00:01,881 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:00:01,881 - DEBUG - Position is 0
2018-02-26 14:00:01,881 - DEBUG - Pos Mgmt -12987
2018-02-26 14:00:01,882 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:00:01,882 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:00:01,882 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:00:01,883 - DEBUG - Position is -12987
2018-02-26 14:00:02,880 - DEBUG - Open Orders requested
2018-02-26 14:00:02,882 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE48>, order=<ib.ext.Order.Order object at 0x00000000020ADDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-26 14:00:02,882 - DEBUG - Order OrderID 225
2018-02-26 14:00:02,883 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:00:02,883 - DEBUG - Order status PreSubmitted
2018-02-26 14:00:02,884 - DEBUG - Order Identification 225
2018-02-26 14:00:02,884 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:00:02,884 - DEBUG - Profit ID from database is 228
2018-02-26 14:00:02,884 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:00:02,885 - DEBUG - Stop ID database is 0
2018-02-26 14:00:02,885 - DEBUG - Entry ID database is 228
2018-02-26 14:00:04,882 - DEBUG - Connecting to database
2018-02-26 14:00:04,890 - DEBUG - Connected to database
2018-02-26 14:00:04,891 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,892 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:00:04,893 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,894 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:00:04,895 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,896 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:00:04,897 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,897 - DEBUG - Stop quantity 1
2018-02-26 14:00:04,899 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,899 - DEBUG - Direction is Short
2018-02-26 14:00:04,900 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,901 - DEBUG - Count is 0
2018-02-26 14:00:04,902 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:00:04,902 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:00:04,904 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:00:04,904 - DEBUG - Max ID Order is (231,)
2018-02-26 14:00:04,905 - DEBUG - Today is 2018-02-26
2018-02-26 14:00:04,905 - DEBUG - Day of the week 0
2018-02-26 14:00:04,905 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:00:04,906 - DEBUG - In Position is  0
2018-02-26 14:00:04,906 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:00:04,906 - DEBUG - curStopLossFlag is  0
2018-02-26 14:00:04,906 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:00:04,906 - DEBUG - Checking if Entry has been filled
2018-02-26 14:00:04,907 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:00:04,909 - DEBUG - EntryPend is 1
2018-02-26 14:00:04,909 - DEBUG - Try to Cancel Stop
2018-02-26 14:00:04,909 - DEBUG - Stop API ID 0
2018-02-26 14:00:04,909 - DEBUG - Profit API ID 0
2018-02-26 14:00:04,910 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:00:04,910 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:00:04,910 - DEBUG - Pos is 0
2018-02-26 14:00:04,910 - DEBUG - CurCount is 0
2018-02-26 14:00:04,910 - DEBUG - In Pos 0
2018-02-26 14:00:04,911 - DEBUG - Stop ID is 0
2018-02-26 14:00:04,911 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:00:04,912 - DEBUG - EntryPend is 1
2018-02-26 14:00:04,913 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:00:04,913 - DEBUG - Entry Date is 10
2018-02-26 14:00:04,913 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:00:04,913 - DEBUG - Order Profit ID is 228
2018-02-26 14:00:04,914 - DEBUG - Order Entry ID is 228
2018-02-26 14:00:04,914 - DEBUG - API ID is  0
2018-02-26 14:00:04,914 - DEBUG - Current Position is 0
2018-02-26 14:00:04,914 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:00:04,915 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:00:04,915 - DEBUG - Time is 14
2018-02-26 14:00:04,915 - DEBUG - Time is <class 'int'>
2018-02-26 14:00:04,915 - DEBUG - Disconnected from IBController
2018-02-26 14:00:04,916 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:05:00,264 - DEBUG - ****************************************************
2018-02-26 14:05:00,265 - DEBUG - Current Time is 02:05PM
2018-02-26 14:05:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:05:00,265 - DEBUG - Connecting to database
2018-02-26 14:05:00,600 - DEBUG - Connected to database
2018-02-26 14:05:00,601 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:00,603 - DEBUG - Order Profit is 228
2018-02-26 14:05:00,603 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:00,605 - DEBUG - Stop ID is 0
2018-02-26 14:05:00,605 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:00,606 - DEBUG - Entry ID is 228
2018-02-26 14:05:00,607 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:05:00,608 - DEBUG - OCA ID is 1
2018-02-26 14:05:00,609 - DEBUG - Connecting to IBController
2018-02-26 14:05:01,624 - DEBUG - Connected to IBController
2018-02-26 14:05:01,624 - DEBUG - Position requested
2018-02-26 14:05:01,626 - DEBUG - Pos Mgmt 0
2018-02-26 14:05:01,626 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB00>, pos=0, avgCost=0.0>
2018-02-26 14:05:01,626 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:05:01,627 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:05:01,627 - DEBUG - Position is 0
2018-02-26 14:05:01,627 - DEBUG - Pos Mgmt -12987
2018-02-26 14:05:01,627 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:05:01,628 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:05:01,628 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:05:01,628 - DEBUG - Position is -12987
2018-02-26 14:05:02,626 - DEBUG - Open Orders requested
2018-02-26 14:05:02,628 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 14:05:02,628 - DEBUG - Order OrderID 225
2018-02-26 14:05:02,629 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:05:02,629 - DEBUG - Order status PreSubmitted
2018-02-26 14:05:02,630 - DEBUG - Order Identification 225
2018-02-26 14:05:02,630 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:05:02,630 - DEBUG - Profit ID from database is 228
2018-02-26 14:05:02,630 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:05:02,630 - DEBUG - Stop ID database is 0
2018-02-26 14:05:02,631 - DEBUG - Entry ID database is 228
2018-02-26 14:05:04,628 - DEBUG - Connecting to database
2018-02-26 14:05:04,636 - DEBUG - Connected to database
2018-02-26 14:05:04,638 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,638 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:05:04,640 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,640 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:05:04,641 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,642 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:05:04,643 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,644 - DEBUG - Stop quantity 1
2018-02-26 14:05:04,645 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,645 - DEBUG - Direction is Short
2018-02-26 14:05:04,647 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,647 - DEBUG - Count is 0
2018-02-26 14:05:04,649 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:05:04,649 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:05:04,650 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:05:04,651 - DEBUG - Max ID Order is (231,)
2018-02-26 14:05:04,651 - DEBUG - Today is 2018-02-26
2018-02-26 14:05:04,652 - DEBUG - Day of the week 0
2018-02-26 14:05:04,652 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:05:04,652 - DEBUG - In Position is  0
2018-02-26 14:05:04,652 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:05:04,652 - DEBUG - curStopLossFlag is  0
2018-02-26 14:05:04,653 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:05:04,653 - DEBUG - Checking if Entry has been filled
2018-02-26 14:05:04,653 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:05:04,655 - DEBUG - EntryPend is 1
2018-02-26 14:05:04,655 - DEBUG - Try to Cancel Stop
2018-02-26 14:05:04,655 - DEBUG - Stop API ID 0
2018-02-26 14:05:04,655 - DEBUG - Profit API ID 0
2018-02-26 14:05:04,656 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:05:04,656 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:05:04,656 - DEBUG - Pos is 0
2018-02-26 14:05:04,656 - DEBUG - CurCount is 0
2018-02-26 14:05:04,656 - DEBUG - In Pos 0
2018-02-26 14:05:04,657 - DEBUG - Stop ID is 0
2018-02-26 14:05:04,657 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:05:04,658 - DEBUG - EntryPend is 1
2018-02-26 14:05:04,658 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:05:04,659 - DEBUG - Entry Date is 10
2018-02-26 14:05:04,659 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:05:04,659 - DEBUG - Order Profit ID is 228
2018-02-26 14:05:04,659 - DEBUG - Order Entry ID is 228
2018-02-26 14:05:04,659 - DEBUG - API ID is  0
2018-02-26 14:05:04,660 - DEBUG - Current Position is 0
2018-02-26 14:05:04,660 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:05:04,660 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:05:04,660 - DEBUG - Time is 14
2018-02-26 14:05:04,661 - DEBUG - Time is <class 'int'>
2018-02-26 14:05:04,661 - DEBUG - Disconnected from IBController
2018-02-26 14:05:04,661 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:10:00,271 - DEBUG - ****************************************************
2018-02-26 14:10:00,271 - DEBUG - Current Time is 02:10PM
2018-02-26 14:10:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:10:00,272 - DEBUG - Connecting to database
2018-02-26 14:10:00,451 - DEBUG - Connected to database
2018-02-26 14:10:00,451 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:00,471 - DEBUG - Order Profit is 228
2018-02-26 14:10:00,471 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:00,493 - DEBUG - Stop ID is 0
2018-02-26 14:10:00,493 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:00,520 - DEBUG - Entry ID is 228
2018-02-26 14:10:00,520 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:10:00,562 - DEBUG - OCA ID is 1
2018-02-26 14:10:00,563 - DEBUG - Connecting to IBController
2018-02-26 14:10:01,569 - DEBUG - Connected to IBController
2018-02-26 14:10:01,569 - DEBUG - Position requested
2018-02-26 14:10:01,571 - DEBUG - Pos Mgmt 0
2018-02-26 14:10:01,571 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=0, avgCost=0.0>
2018-02-26 14:10:01,572 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:10:01,572 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:10:01,572 - DEBUG - Position is 0
2018-02-26 14:10:01,572 - DEBUG - Pos Mgmt -12987
2018-02-26 14:10:01,573 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:10:01,573 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:10:01,573 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:10:01,573 - DEBUG - Position is -12987
2018-02-26 14:10:02,571 - DEBUG - Open Orders requested
2018-02-26 14:10:02,573 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-26 14:10:02,573 - DEBUG - Order OrderID 225
2018-02-26 14:10:02,574 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:10:02,574 - DEBUG - Order status PreSubmitted
2018-02-26 14:10:02,574 - DEBUG - Order Identification 225
2018-02-26 14:10:02,575 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:10:02,575 - DEBUG - Profit ID from database is 228
2018-02-26 14:10:02,575 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:10:02,575 - DEBUG - Stop ID database is 0
2018-02-26 14:10:02,576 - DEBUG - Entry ID database is 228
2018-02-26 14:10:04,573 - DEBUG - Connecting to database
2018-02-26 14:10:04,580 - DEBUG - Connected to database
2018-02-26 14:10:04,582 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,582 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:10:04,583 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,584 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:10:04,585 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,585 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:10:04,587 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,587 - DEBUG - Stop quantity 1
2018-02-26 14:10:04,589 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,589 - DEBUG - Direction is Short
2018-02-26 14:10:04,590 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,591 - DEBUG - Count is 0
2018-02-26 14:10:04,592 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:10:04,592 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:10:04,594 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:10:04,594 - DEBUG - Max ID Order is (231,)
2018-02-26 14:10:04,594 - DEBUG - Today is 2018-02-26
2018-02-26 14:10:04,596 - DEBUG - Day of the week 0
2018-02-26 14:10:04,596 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:10:04,597 - DEBUG - In Position is  0
2018-02-26 14:10:04,597 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:10:04,597 - DEBUG - curStopLossFlag is  0
2018-02-26 14:10:04,597 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:10:04,598 - DEBUG - Checking if Entry has been filled
2018-02-26 14:10:04,598 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:10:04,599 - DEBUG - EntryPend is 1
2018-02-26 14:10:04,600 - DEBUG - Try to Cancel Stop
2018-02-26 14:10:04,600 - DEBUG - Stop API ID 0
2018-02-26 14:10:04,600 - DEBUG - Profit API ID 0
2018-02-26 14:10:04,600 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:10:04,600 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:10:04,601 - DEBUG - Pos is 0
2018-02-26 14:10:04,601 - DEBUG - CurCount is 0
2018-02-26 14:10:04,601 - DEBUG - In Pos 0
2018-02-26 14:10:04,601 - DEBUG - Stop ID is 0
2018-02-26 14:10:04,602 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:10:04,603 - DEBUG - EntryPend is 1
2018-02-26 14:10:04,603 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:10:04,603 - DEBUG - Entry Date is 10
2018-02-26 14:10:04,604 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:10:04,604 - DEBUG - Order Profit ID is 228
2018-02-26 14:10:04,604 - DEBUG - Order Entry ID is 228
2018-02-26 14:10:04,604 - DEBUG - API ID is  0
2018-02-26 14:10:04,604 - DEBUG - Current Position is 0
2018-02-26 14:10:04,605 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:10:04,605 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:10:04,605 - DEBUG - Time is 14
2018-02-26 14:10:04,605 - DEBUG - Time is <class 'int'>
2018-02-26 14:10:04,606 - DEBUG - Disconnected from IBController
2018-02-26 14:10:04,606 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:15:00,269 - DEBUG - ****************************************************
2018-02-26 14:15:00,270 - DEBUG - Current Time is 02:15PM
2018-02-26 14:15:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:15:00,270 - DEBUG - Connecting to database
2018-02-26 14:15:00,439 - DEBUG - Connected to database
2018-02-26 14:15:00,440 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:00,443 - DEBUG - Order Profit is 228
2018-02-26 14:15:00,443 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:00,474 - DEBUG - Stop ID is 0
2018-02-26 14:15:00,475 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:00,492 - DEBUG - Entry ID is 228
2018-02-26 14:15:00,492 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:15:00,511 - DEBUG - OCA ID is 1
2018-02-26 14:15:00,511 - DEBUG - Connecting to IBController
2018-02-26 14:15:01,517 - DEBUG - Connected to IBController
2018-02-26 14:15:01,517 - DEBUG - Position requested
2018-02-26 14:15:01,519 - DEBUG - Pos Mgmt 0
2018-02-26 14:15:01,519 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, pos=0, avgCost=0.0>
2018-02-26 14:15:01,520 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:15:01,520 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:15:01,520 - DEBUG - Position is 0
2018-02-26 14:15:01,521 - DEBUG - Pos Mgmt -12987
2018-02-26 14:15:01,521 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:15:01,521 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:15:01,521 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:15:01,522 - DEBUG - Position is -12987
2018-02-26 14:15:02,518 - DEBUG - Open Orders requested
2018-02-26 14:15:02,520 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 14:15:02,521 - DEBUG - Order OrderID 225
2018-02-26 14:15:02,521 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:15:02,522 - DEBUG - Order status PreSubmitted
2018-02-26 14:15:02,522 - DEBUG - Order Identification 225
2018-02-26 14:15:02,522 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:15:02,522 - DEBUG - Profit ID from database is 228
2018-02-26 14:15:02,523 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:15:02,523 - DEBUG - Stop ID database is 0
2018-02-26 14:15:02,523 - DEBUG - Entry ID database is 228
2018-02-26 14:15:04,520 - DEBUG - Connecting to database
2018-02-26 14:15:04,527 - DEBUG - Connected to database
2018-02-26 14:15:04,529 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,529 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:15:04,531 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,531 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:15:04,532 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,533 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:15:04,534 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,534 - DEBUG - Stop quantity 1
2018-02-26 14:15:04,536 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,536 - DEBUG - Direction is Short
2018-02-26 14:15:04,537 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,538 - DEBUG - Count is 0
2018-02-26 14:15:04,539 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:15:04,539 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:15:04,541 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:15:04,541 - DEBUG - Max ID Order is (231,)
2018-02-26 14:15:04,541 - DEBUG - Today is 2018-02-26
2018-02-26 14:15:04,542 - DEBUG - Day of the week 0
2018-02-26 14:15:04,542 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:15:04,542 - DEBUG - In Position is  0
2018-02-26 14:15:04,543 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:15:04,543 - DEBUG - curStopLossFlag is  0
2018-02-26 14:15:04,543 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:15:04,543 - DEBUG - Checking if Entry has been filled
2018-02-26 14:15:04,543 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:15:04,545 - DEBUG - EntryPend is 1
2018-02-26 14:15:04,545 - DEBUG - Try to Cancel Stop
2018-02-26 14:15:04,546 - DEBUG - Stop API ID 0
2018-02-26 14:15:04,546 - DEBUG - Profit API ID 0
2018-02-26 14:15:04,546 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:15:04,546 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:15:04,546 - DEBUG - Pos is 0
2018-02-26 14:15:04,547 - DEBUG - CurCount is 0
2018-02-26 14:15:04,547 - DEBUG - In Pos 0
2018-02-26 14:15:04,547 - DEBUG - Stop ID is 0
2018-02-26 14:15:04,547 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:15:04,549 - DEBUG - EntryPend is 1
2018-02-26 14:15:04,549 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:15:04,549 - DEBUG - Entry Date is 10
2018-02-26 14:15:04,549 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:15:04,550 - DEBUG - Order Profit ID is 228
2018-02-26 14:15:04,550 - DEBUG - Order Entry ID is 228
2018-02-26 14:15:04,550 - DEBUG - API ID is  0
2018-02-26 14:15:04,550 - DEBUG - Current Position is 0
2018-02-26 14:15:04,551 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:15:04,551 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:15:04,551 - DEBUG - Time is 14
2018-02-26 14:15:04,551 - DEBUG - Time is <class 'int'>
2018-02-26 14:15:04,552 - DEBUG - Disconnected from IBController
2018-02-26 14:15:04,552 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:20:00,266 - DEBUG - ****************************************************
2018-02-26 14:20:00,267 - DEBUG - Current Time is 02:20PM
2018-02-26 14:20:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:20:00,267 - DEBUG - Connecting to database
2018-02-26 14:20:00,487 - DEBUG - Connected to database
2018-02-26 14:20:00,488 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:00,492 - DEBUG - Order Profit is 228
2018-02-26 14:20:00,493 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:00,530 - DEBUG - Stop ID is 0
2018-02-26 14:20:00,530 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:00,551 - DEBUG - Entry ID is 228
2018-02-26 14:20:00,551 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:20:00,581 - DEBUG - OCA ID is 1
2018-02-26 14:20:00,582 - DEBUG - Connecting to IBController
2018-02-26 14:20:01,590 - DEBUG - Connected to IBController
2018-02-26 14:20:01,590 - DEBUG - Position requested
2018-02-26 14:20:01,592 - DEBUG - Pos Mgmt 0
2018-02-26 14:20:01,592 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=0, avgCost=0.0>
2018-02-26 14:20:01,593 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:20:01,593 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:20:01,593 - DEBUG - Position is 0
2018-02-26 14:20:01,593 - DEBUG - Pos Mgmt -12987
2018-02-26 14:20:01,594 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:20:01,594 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:20:01,594 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:20:01,594 - DEBUG - Position is -12987
2018-02-26 14:20:02,592 - DEBUG - Open Orders requested
2018-02-26 14:20:02,594 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122128>>
2018-02-26 14:20:02,594 - DEBUG - Order OrderID 225
2018-02-26 14:20:02,595 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:20:02,596 - DEBUG - Order status PreSubmitted
2018-02-26 14:20:02,596 - DEBUG - Order Identification 225
2018-02-26 14:20:02,596 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:20:02,597 - DEBUG - Profit ID from database is 228
2018-02-26 14:20:02,597 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:20:02,597 - DEBUG - Stop ID database is 0
2018-02-26 14:20:02,597 - DEBUG - Entry ID database is 228
2018-02-26 14:20:04,594 - DEBUG - Connecting to database
2018-02-26 14:20:04,601 - DEBUG - Connected to database
2018-02-26 14:20:04,603 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,603 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:20:04,604 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,605 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:20:04,606 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,606 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:20:04,608 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,608 - DEBUG - Stop quantity 1
2018-02-26 14:20:04,609 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,610 - DEBUG - Direction is Short
2018-02-26 14:20:04,612 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,612 - DEBUG - Count is 0
2018-02-26 14:20:04,613 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:20:04,614 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:20:04,615 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:20:04,615 - DEBUG - Max ID Order is (231,)
2018-02-26 14:20:04,616 - DEBUG - Today is 2018-02-26
2018-02-26 14:20:04,616 - DEBUG - Day of the week 0
2018-02-26 14:20:04,616 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:20:04,617 - DEBUG - In Position is  0
2018-02-26 14:20:04,617 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:20:04,617 - DEBUG - curStopLossFlag is  0
2018-02-26 14:20:04,617 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:20:04,617 - DEBUG - Checking if Entry has been filled
2018-02-26 14:20:04,618 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:20:04,619 - DEBUG - EntryPend is 1
2018-02-26 14:20:04,619 - DEBUG - Try to Cancel Stop
2018-02-26 14:20:04,620 - DEBUG - Stop API ID 0
2018-02-26 14:20:04,620 - DEBUG - Profit API ID 0
2018-02-26 14:20:04,620 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:20:04,620 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:20:04,621 - DEBUG - Pos is 0
2018-02-26 14:20:04,621 - DEBUG - CurCount is 0
2018-02-26 14:20:04,621 - DEBUG - In Pos 0
2018-02-26 14:20:04,621 - DEBUG - Stop ID is 0
2018-02-26 14:20:04,622 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:20:04,623 - DEBUG - EntryPend is 1
2018-02-26 14:20:04,623 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:20:04,623 - DEBUG - Entry Date is 10
2018-02-26 14:20:04,624 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:20:04,624 - DEBUG - Order Profit ID is 228
2018-02-26 14:20:04,624 - DEBUG - Order Entry ID is 228
2018-02-26 14:20:04,624 - DEBUG - API ID is  0
2018-02-26 14:20:04,625 - DEBUG - Current Position is 0
2018-02-26 14:20:04,625 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:20:04,625 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:20:04,625 - DEBUG - Time is 14
2018-02-26 14:20:04,625 - DEBUG - Time is <class 'int'>
2018-02-26 14:20:04,626 - DEBUG - Disconnected from IBController
2018-02-26 14:20:04,626 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:25:00,267 - DEBUG - ****************************************************
2018-02-26 14:25:00,267 - DEBUG - Current Time is 02:25PM
2018-02-26 14:25:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:25:00,268 - DEBUG - Connecting to database
2018-02-26 14:25:00,362 - DEBUG - Connected to database
2018-02-26 14:25:00,362 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:00,369 - DEBUG - Order Profit is 228
2018-02-26 14:25:00,369 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:00,403 - DEBUG - Stop ID is 0
2018-02-26 14:25:00,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:00,427 - DEBUG - Entry ID is 228
2018-02-26 14:25:00,428 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:25:00,453 - DEBUG - OCA ID is 1
2018-02-26 14:25:00,453 - DEBUG - Connecting to IBController
2018-02-26 14:25:01,462 - DEBUG - Connected to IBController
2018-02-26 14:25:01,462 - DEBUG - Position requested
2018-02-26 14:25:01,464 - DEBUG - Pos Mgmt 0
2018-02-26 14:25:01,464 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=0, avgCost=0.0>
2018-02-26 14:25:01,465 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:25:01,465 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:25:01,465 - DEBUG - Position is 0
2018-02-26 14:25:01,465 - DEBUG - Pos Mgmt -12987
2018-02-26 14:25:01,466 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:25:01,466 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:25:01,466 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:25:01,466 - DEBUG - Position is -12987
2018-02-26 14:25:02,464 - DEBUG - Open Orders requested
2018-02-26 14:25:02,466 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 14:25:02,467 - DEBUG - Order OrderID 225
2018-02-26 14:25:02,467 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:25:02,467 - DEBUG - Order status PreSubmitted
2018-02-26 14:25:02,468 - DEBUG - Order Identification 225
2018-02-26 14:25:02,468 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:25:02,468 - DEBUG - Profit ID from database is 228
2018-02-26 14:25:02,469 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:25:02,469 - DEBUG - Stop ID database is 0
2018-02-26 14:25:02,469 - DEBUG - Entry ID database is 228
2018-02-26 14:25:04,466 - DEBUG - Connecting to database
2018-02-26 14:25:04,473 - DEBUG - Connected to database
2018-02-26 14:25:04,475 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,475 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:25:04,476 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,477 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:25:04,478 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,479 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:25:04,480 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,480 - DEBUG - Stop quantity 1
2018-02-26 14:25:04,481 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,482 - DEBUG - Direction is Short
2018-02-26 14:25:04,500 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,501 - DEBUG - Count is 0
2018-02-26 14:25:04,502 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:25:04,503 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:25:04,504 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:25:04,504 - DEBUG - Max ID Order is (231,)
2018-02-26 14:25:04,505 - DEBUG - Today is 2018-02-26
2018-02-26 14:25:04,505 - DEBUG - Day of the week 0
2018-02-26 14:25:04,505 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:25:04,506 - DEBUG - In Position is  0
2018-02-26 14:25:04,506 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:25:04,506 - DEBUG - curStopLossFlag is  0
2018-02-26 14:25:04,506 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:25:04,507 - DEBUG - Checking if Entry has been filled
2018-02-26 14:25:04,507 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:25:04,508 - DEBUG - EntryPend is 1
2018-02-26 14:25:04,509 - DEBUG - Try to Cancel Stop
2018-02-26 14:25:04,509 - DEBUG - Stop API ID 0
2018-02-26 14:25:04,509 - DEBUG - Profit API ID 0
2018-02-26 14:25:04,509 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:25:04,509 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:25:04,510 - DEBUG - Pos is 0
2018-02-26 14:25:04,510 - DEBUG - CurCount is 0
2018-02-26 14:25:04,510 - DEBUG - In Pos 0
2018-02-26 14:25:04,510 - DEBUG - Stop ID is 0
2018-02-26 14:25:04,511 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:25:04,512 - DEBUG - EntryPend is 1
2018-02-26 14:25:04,512 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:25:04,512 - DEBUG - Entry Date is 10
2018-02-26 14:25:04,513 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:25:04,513 - DEBUG - Order Profit ID is 228
2018-02-26 14:25:04,513 - DEBUG - Order Entry ID is 228
2018-02-26 14:25:04,513 - DEBUG - API ID is  0
2018-02-26 14:25:04,514 - DEBUG - Current Position is 0
2018-02-26 14:25:04,514 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:25:04,514 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:25:04,514 - DEBUG - Time is 14
2018-02-26 14:25:04,515 - DEBUG - Time is <class 'int'>
2018-02-26 14:25:04,515 - DEBUG - Disconnected from IBController
2018-02-26 14:25:04,515 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:30:00,268 - DEBUG - ****************************************************
2018-02-26 14:30:00,269 - DEBUG - Current Time is 02:30PM
2018-02-26 14:30:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:30:00,269 - DEBUG - Connecting to database
2018-02-26 14:30:00,523 - DEBUG - Connected to database
2018-02-26 14:30:00,523 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:00,530 - DEBUG - Order Profit is 228
2018-02-26 14:30:00,530 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:00,547 - DEBUG - Stop ID is 0
2018-02-26 14:30:00,548 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:00,586 - DEBUG - Entry ID is 228
2018-02-26 14:30:00,587 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:30:00,606 - DEBUG - OCA ID is 1
2018-02-26 14:30:00,606 - DEBUG - Connecting to IBController
2018-02-26 14:30:01,613 - DEBUG - Connected to IBController
2018-02-26 14:30:01,613 - DEBUG - Position requested
2018-02-26 14:30:01,614 - DEBUG - Pos Mgmt 0
2018-02-26 14:30:01,615 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001B9DD68>, pos=0, avgCost=0.0>
2018-02-26 14:30:01,615 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:30:01,616 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:30:01,616 - DEBUG - Position is 0
2018-02-26 14:30:01,616 - DEBUG - Pos Mgmt -12987
2018-02-26 14:30:01,617 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001B9DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:30:01,617 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:30:01,617 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:30:01,617 - DEBUG - Position is -12987
2018-02-26 14:30:02,614 - DEBUG - Open Orders requested
2018-02-26 14:30:02,617 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x0000000001B9DE48>, order=<ib.ext.Order.Order object at 0x0000000001B9DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1128>>
2018-02-26 14:30:02,618 - DEBUG - Order OrderID 225
2018-02-26 14:30:02,622 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:30:02,623 - DEBUG - Order status PreSubmitted
2018-02-26 14:30:02,623 - DEBUG - Order Identification 225
2018-02-26 14:30:02,623 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:30:02,624 - DEBUG - Profit ID from database is 228
2018-02-26 14:30:02,624 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:30:02,624 - DEBUG - Stop ID database is 0
2018-02-26 14:30:02,624 - DEBUG - Entry ID database is 228
2018-02-26 14:30:04,617 - DEBUG - Connecting to database
2018-02-26 14:30:04,626 - DEBUG - Connected to database
2018-02-26 14:30:04,628 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,628 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:30:04,629 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,630 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:30:04,631 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,631 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:30:04,633 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,633 - DEBUG - Stop quantity 1
2018-02-26 14:30:04,634 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,635 - DEBUG - Direction is Short
2018-02-26 14:30:04,636 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,636 - DEBUG - Count is 0
2018-02-26 14:30:04,638 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:30:04,638 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:30:04,640 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:30:04,640 - DEBUG - Max ID Order is (231,)
2018-02-26 14:30:04,640 - DEBUG - Today is 2018-02-26
2018-02-26 14:30:04,641 - DEBUG - Day of the week 0
2018-02-26 14:30:04,641 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:30:04,641 - DEBUG - In Position is  0
2018-02-26 14:30:04,641 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:30:04,642 - DEBUG - curStopLossFlag is  0
2018-02-26 14:30:04,642 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:30:04,642 - DEBUG - Checking if Entry has been filled
2018-02-26 14:30:04,642 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:30:04,644 - DEBUG - EntryPend is 1
2018-02-26 14:30:04,644 - DEBUG - Try to Cancel Stop
2018-02-26 14:30:04,644 - DEBUG - Stop API ID 0
2018-02-26 14:30:04,645 - DEBUG - Profit API ID 0
2018-02-26 14:30:04,645 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:30:04,645 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:30:04,645 - DEBUG - Pos is 0
2018-02-26 14:30:04,645 - DEBUG - CurCount is 0
2018-02-26 14:30:04,646 - DEBUG - In Pos 0
2018-02-26 14:30:04,646 - DEBUG - Stop ID is 0
2018-02-26 14:30:04,646 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:30:04,648 - DEBUG - EntryPend is 1
2018-02-26 14:30:04,648 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:30:04,648 - DEBUG - Entry Date is 10
2018-02-26 14:30:04,649 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:30:04,649 - DEBUG - Order Profit ID is 228
2018-02-26 14:30:04,649 - DEBUG - Order Entry ID is 228
2018-02-26 14:30:04,649 - DEBUG - API ID is  0
2018-02-26 14:30:04,650 - DEBUG - Current Position is 0
2018-02-26 14:30:04,650 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:30:04,650 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:30:04,650 - DEBUG - Time is 14
2018-02-26 14:30:04,651 - DEBUG - Time is <class 'int'>
2018-02-26 14:30:04,651 - DEBUG - Disconnected from IBController
2018-02-26 14:30:04,652 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:35:00,274 - DEBUG - ****************************************************
2018-02-26 14:35:00,275 - DEBUG - Current Time is 02:35PM
2018-02-26 14:35:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:35:00,276 - DEBUG - Connecting to database
2018-02-26 14:35:00,468 - DEBUG - Connected to database
2018-02-26 14:35:00,469 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:00,499 - DEBUG - Order Profit is 228
2018-02-26 14:35:00,499 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:00,559 - DEBUG - Stop ID is 0
2018-02-26 14:35:00,559 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:00,578 - DEBUG - Entry ID is 228
2018-02-26 14:35:00,579 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:35:00,609 - DEBUG - OCA ID is 1
2018-02-26 14:35:00,609 - DEBUG - Connecting to IBController
2018-02-26 14:35:01,617 - DEBUG - Connected to IBController
2018-02-26 14:35:01,617 - DEBUG - Position requested
2018-02-26 14:35:01,619 - DEBUG - Pos Mgmt 0
2018-02-26 14:35:01,619 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=0, avgCost=0.0>
2018-02-26 14:35:01,620 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:35:01,620 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:35:01,620 - DEBUG - Position is 0
2018-02-26 14:35:01,620 - DEBUG - Pos Mgmt -12987
2018-02-26 14:35:01,621 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:35:01,621 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:35:01,621 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:35:01,621 - DEBUG - Position is -12987
2018-02-26 14:35:02,619 - DEBUG - Open Orders requested
2018-02-26 14:35:02,621 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 14:35:02,621 - DEBUG - Order OrderID 225
2018-02-26 14:35:02,622 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:35:02,622 - DEBUG - Order status PreSubmitted
2018-02-26 14:35:02,623 - DEBUG - Order Identification 225
2018-02-26 14:35:02,623 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:35:02,623 - DEBUG - Profit ID from database is 228
2018-02-26 14:35:02,623 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:35:02,624 - DEBUG - Stop ID database is 0
2018-02-26 14:35:02,624 - DEBUG - Entry ID database is 228
2018-02-26 14:35:04,621 - DEBUG - Connecting to database
2018-02-26 14:35:04,629 - DEBUG - Connected to database
2018-02-26 14:35:04,631 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,632 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:35:04,633 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,634 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:35:04,636 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,636 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:35:04,638 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,638 - DEBUG - Stop quantity 1
2018-02-26 14:35:04,639 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,640 - DEBUG - Direction is Short
2018-02-26 14:35:04,641 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,641 - DEBUG - Count is 0
2018-02-26 14:35:04,643 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:35:04,643 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:35:04,645 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:35:04,645 - DEBUG - Max ID Order is (231,)
2018-02-26 14:35:04,645 - DEBUG - Today is 2018-02-26
2018-02-26 14:35:04,646 - DEBUG - Day of the week 0
2018-02-26 14:35:04,646 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:35:04,646 - DEBUG - In Position is  0
2018-02-26 14:35:04,646 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:35:04,647 - DEBUG - curStopLossFlag is  0
2018-02-26 14:35:04,647 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:35:04,647 - DEBUG - Checking if Entry has been filled
2018-02-26 14:35:04,647 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:35:04,649 - DEBUG - EntryPend is 1
2018-02-26 14:35:04,649 - DEBUG - Try to Cancel Stop
2018-02-26 14:35:04,649 - DEBUG - Stop API ID 0
2018-02-26 14:35:04,649 - DEBUG - Profit API ID 0
2018-02-26 14:35:04,650 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:35:04,650 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:35:04,650 - DEBUG - Pos is 0
2018-02-26 14:35:04,650 - DEBUG - CurCount is 0
2018-02-26 14:35:04,651 - DEBUG - In Pos 0
2018-02-26 14:35:04,651 - DEBUG - Stop ID is 0
2018-02-26 14:35:04,651 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:35:04,653 - DEBUG - EntryPend is 1
2018-02-26 14:35:04,653 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:35:04,653 - DEBUG - Entry Date is 10
2018-02-26 14:35:04,653 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:35:04,654 - DEBUG - Order Profit ID is 228
2018-02-26 14:35:04,654 - DEBUG - Order Entry ID is 228
2018-02-26 14:35:04,654 - DEBUG - API ID is  0
2018-02-26 14:35:04,654 - DEBUG - Current Position is 0
2018-02-26 14:35:04,654 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:35:04,655 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:35:04,655 - DEBUG - Time is 14
2018-02-26 14:35:04,655 - DEBUG - Time is <class 'int'>
2018-02-26 14:35:04,655 - DEBUG - Disconnected from IBController
2018-02-26 14:35:04,656 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:40:00,267 - DEBUG - ****************************************************
2018-02-26 14:40:00,268 - DEBUG - Current Time is 02:40PM
2018-02-26 14:40:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:40:00,268 - DEBUG - Connecting to database
2018-02-26 14:40:00,460 - DEBUG - Connected to database
2018-02-26 14:40:00,460 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:00,482 - DEBUG - Order Profit is 228
2018-02-26 14:40:00,483 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:00,552 - DEBUG - Stop ID is 0
2018-02-26 14:40:00,552 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:00,580 - DEBUG - Entry ID is 228
2018-02-26 14:40:00,580 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:40:00,605 - DEBUG - OCA ID is 1
2018-02-26 14:40:00,606 - DEBUG - Connecting to IBController
2018-02-26 14:40:01,613 - DEBUG - Connected to IBController
2018-02-26 14:40:01,613 - DEBUG - Position requested
2018-02-26 14:40:01,615 - DEBUG - Pos Mgmt 0
2018-02-26 14:40:01,615 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DDD8>, pos=0, avgCost=0.0>
2018-02-26 14:40:01,616 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:40:01,616 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:40:01,616 - DEBUG - Position is 0
2018-02-26 14:40:01,617 - DEBUG - Pos Mgmt -12987
2018-02-26 14:40:01,617 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:40:01,617 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:40:01,617 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:40:01,618 - DEBUG - Position is -12987
2018-02-26 14:40:02,614 - DEBUG - Open Orders requested
2018-02-26 14:40:02,616 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DE48>, order=<ib.ext.Order.Order object at 0x000000000203DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-26 14:40:02,617 - DEBUG - Order OrderID 225
2018-02-26 14:40:02,617 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:40:02,618 - DEBUG - Order status PreSubmitted
2018-02-26 14:40:02,618 - DEBUG - Order Identification 225
2018-02-26 14:40:02,618 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:40:02,618 - DEBUG - Profit ID from database is 228
2018-02-26 14:40:02,619 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:40:02,619 - DEBUG - Stop ID database is 0
2018-02-26 14:40:02,619 - DEBUG - Entry ID database is 228
2018-02-26 14:40:04,616 - DEBUG - Connecting to database
2018-02-26 14:40:04,624 - DEBUG - Connected to database
2018-02-26 14:40:04,625 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,626 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:40:04,627 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,627 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:40:04,629 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,629 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:40:04,630 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,631 - DEBUG - Stop quantity 1
2018-02-26 14:40:04,632 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,632 - DEBUG - Direction is Short
2018-02-26 14:40:04,634 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,634 - DEBUG - Count is 0
2018-02-26 14:40:04,636 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:40:04,636 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:40:04,637 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:40:04,638 - DEBUG - Max ID Order is (231,)
2018-02-26 14:40:04,638 - DEBUG - Today is 2018-02-26
2018-02-26 14:40:04,639 - DEBUG - Day of the week 0
2018-02-26 14:40:04,639 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:40:04,639 - DEBUG - In Position is  0
2018-02-26 14:40:04,639 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:40:04,640 - DEBUG - curStopLossFlag is  0
2018-02-26 14:40:04,640 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:40:04,640 - DEBUG - Checking if Entry has been filled
2018-02-26 14:40:04,640 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:40:04,642 - DEBUG - EntryPend is 1
2018-02-26 14:40:04,642 - DEBUG - Try to Cancel Stop
2018-02-26 14:40:04,642 - DEBUG - Stop API ID 0
2018-02-26 14:40:04,642 - DEBUG - Profit API ID 0
2018-02-26 14:40:04,643 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:40:04,643 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:40:04,643 - DEBUG - Pos is 0
2018-02-26 14:40:04,643 - DEBUG - CurCount is 0
2018-02-26 14:40:04,644 - DEBUG - In Pos 0
2018-02-26 14:40:04,644 - DEBUG - Stop ID is 0
2018-02-26 14:40:04,644 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:40:04,646 - DEBUG - EntryPend is 1
2018-02-26 14:40:04,646 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:40:04,646 - DEBUG - Entry Date is 10
2018-02-26 14:40:04,646 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:40:04,646 - DEBUG - Order Profit ID is 228
2018-02-26 14:40:04,647 - DEBUG - Order Entry ID is 228
2018-02-26 14:40:04,647 - DEBUG - API ID is  0
2018-02-26 14:40:04,647 - DEBUG - Current Position is 0
2018-02-26 14:40:04,647 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:40:04,648 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:40:04,648 - DEBUG - Time is 14
2018-02-26 14:40:04,648 - DEBUG - Time is <class 'int'>
2018-02-26 14:40:04,648 - DEBUG - Disconnected from IBController
2018-02-26 14:40:04,649 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:45:00,266 - DEBUG - ****************************************************
2018-02-26 14:45:00,267 - DEBUG - Current Time is 02:45PM
2018-02-26 14:45:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:45:00,268 - DEBUG - Connecting to database
2018-02-26 14:45:00,631 - DEBUG - Connected to database
2018-02-26 14:45:00,631 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:00,654 - DEBUG - Order Profit is 228
2018-02-26 14:45:00,654 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:00,708 - DEBUG - Stop ID is 0
2018-02-26 14:45:00,708 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:00,723 - DEBUG - Entry ID is 228
2018-02-26 14:45:00,723 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:45:00,725 - DEBUG - OCA ID is 1
2018-02-26 14:45:00,725 - DEBUG - Connecting to IBController
2018-02-26 14:45:01,732 - DEBUG - Connected to IBController
2018-02-26 14:45:01,732 - DEBUG - Position requested
2018-02-26 14:45:01,734 - DEBUG - Pos Mgmt 0
2018-02-26 14:45:01,734 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=0, avgCost=0.0>
2018-02-26 14:45:01,735 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:45:01,735 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:45:01,735 - DEBUG - Position is 0
2018-02-26 14:45:01,735 - DEBUG - Pos Mgmt -12987
2018-02-26 14:45:01,736 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:45:01,736 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:45:01,736 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:45:01,736 - DEBUG - Position is -12987
2018-02-26 14:45:02,734 - DEBUG - Open Orders requested
2018-02-26 14:45:02,736 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-26 14:45:02,737 - DEBUG - Order OrderID 225
2018-02-26 14:45:02,737 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:45:02,737 - DEBUG - Order status PreSubmitted
2018-02-26 14:45:02,738 - DEBUG - Order Identification 225
2018-02-26 14:45:02,738 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:45:02,738 - DEBUG - Profit ID from database is 228
2018-02-26 14:45:02,738 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:45:02,739 - DEBUG - Stop ID database is 0
2018-02-26 14:45:02,739 - DEBUG - Entry ID database is 228
2018-02-26 14:45:04,736 - DEBUG - Connecting to database
2018-02-26 14:45:04,744 - DEBUG - Connected to database
2018-02-26 14:45:04,746 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,746 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:45:04,748 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,748 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:45:04,750 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,750 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:45:04,751 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,752 - DEBUG - Stop quantity 1
2018-02-26 14:45:04,753 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,753 - DEBUG - Direction is Short
2018-02-26 14:45:04,755 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,755 - DEBUG - Count is 0
2018-02-26 14:45:04,756 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:45:04,757 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:45:04,758 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:45:04,758 - DEBUG - Max ID Order is (231,)
2018-02-26 14:45:04,759 - DEBUG - Today is 2018-02-26
2018-02-26 14:45:04,759 - DEBUG - Day of the week 0
2018-02-26 14:45:04,760 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:45:04,760 - DEBUG - In Position is  0
2018-02-26 14:45:04,760 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:45:04,760 - DEBUG - curStopLossFlag is  0
2018-02-26 14:45:04,761 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:45:04,761 - DEBUG - Checking if Entry has been filled
2018-02-26 14:45:04,761 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:45:04,762 - DEBUG - EntryPend is 1
2018-02-26 14:45:04,763 - DEBUG - Try to Cancel Stop
2018-02-26 14:45:04,763 - DEBUG - Stop API ID 0
2018-02-26 14:45:04,763 - DEBUG - Profit API ID 0
2018-02-26 14:45:04,763 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:45:04,764 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:45:04,764 - DEBUG - Pos is 0
2018-02-26 14:45:04,764 - DEBUG - CurCount is 0
2018-02-26 14:45:04,764 - DEBUG - In Pos 0
2018-02-26 14:45:04,764 - DEBUG - Stop ID is 0
2018-02-26 14:45:04,765 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:45:04,766 - DEBUG - EntryPend is 1
2018-02-26 14:45:04,766 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:45:04,766 - DEBUG - Entry Date is 10
2018-02-26 14:45:04,767 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:45:04,767 - DEBUG - Order Profit ID is 228
2018-02-26 14:45:04,767 - DEBUG - Order Entry ID is 228
2018-02-26 14:45:04,767 - DEBUG - API ID is  0
2018-02-26 14:45:04,768 - DEBUG - Current Position is 0
2018-02-26 14:45:04,768 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:45:04,768 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:45:04,768 - DEBUG - Time is 14
2018-02-26 14:45:04,769 - DEBUG - Time is <class 'int'>
2018-02-26 14:45:04,769 - DEBUG - Disconnected from IBController
2018-02-26 14:45:04,770 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:50:00,273 - DEBUG - ****************************************************
2018-02-26 14:50:00,274 - DEBUG - Current Time is 02:50PM
2018-02-26 14:50:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:50:00,275 - DEBUG - Connecting to database
2018-02-26 14:50:00,394 - DEBUG - Connected to database
2018-02-26 14:50:00,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:00,416 - DEBUG - Order Profit is 228
2018-02-26 14:50:00,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:00,457 - DEBUG - Stop ID is 0
2018-02-26 14:50:00,458 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:00,495 - DEBUG - Entry ID is 228
2018-02-26 14:50:00,495 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:50:00,508 - DEBUG - OCA ID is 1
2018-02-26 14:50:00,508 - DEBUG - Connecting to IBController
2018-02-26 14:50:01,516 - DEBUG - Connected to IBController
2018-02-26 14:50:01,516 - DEBUG - Position requested
2018-02-26 14:50:01,518 - DEBUG - Pos Mgmt 0
2018-02-26 14:50:01,518 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, pos=0, avgCost=0.0>
2018-02-26 14:50:01,518 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:50:01,519 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:50:01,519 - DEBUG - Position is 0
2018-02-26 14:50:01,519 - DEBUG - Pos Mgmt -12987
2018-02-26 14:50:01,520 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:50:01,520 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:50:01,520 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:50:01,520 - DEBUG - Position is -12987
2018-02-26 14:50:02,517 - DEBUG - Open Orders requested
2018-02-26 14:50:02,519 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 14:50:02,520 - DEBUG - Order OrderID 225
2018-02-26 14:50:02,520 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:50:02,521 - DEBUG - Order status PreSubmitted
2018-02-26 14:50:02,521 - DEBUG - Order Identification 225
2018-02-26 14:50:02,521 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:50:02,521 - DEBUG - Profit ID from database is 228
2018-02-26 14:50:02,522 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:50:02,522 - DEBUG - Stop ID database is 0
2018-02-26 14:50:02,522 - DEBUG - Entry ID database is 228
2018-02-26 14:50:04,519 - DEBUG - Connecting to database
2018-02-26 14:50:04,526 - DEBUG - Connected to database
2018-02-26 14:50:04,528 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,528 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:50:04,530 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,530 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:50:04,531 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,532 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:50:04,533 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,533 - DEBUG - Stop quantity 1
2018-02-26 14:50:04,535 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,535 - DEBUG - Direction is Short
2018-02-26 14:50:04,536 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,537 - DEBUG - Count is 0
2018-02-26 14:50:04,538 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:50:04,538 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:50:04,540 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:50:04,540 - DEBUG - Max ID Order is (231,)
2018-02-26 14:50:04,541 - DEBUG - Today is 2018-02-26
2018-02-26 14:50:04,541 - DEBUG - Day of the week 0
2018-02-26 14:50:04,541 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:50:04,541 - DEBUG - In Position is  0
2018-02-26 14:50:04,542 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:50:04,542 - DEBUG - curStopLossFlag is  0
2018-02-26 14:50:04,542 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:50:04,542 - DEBUG - Checking if Entry has been filled
2018-02-26 14:50:04,543 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:50:04,544 - DEBUG - EntryPend is 1
2018-02-26 14:50:04,544 - DEBUG - Try to Cancel Stop
2018-02-26 14:50:04,545 - DEBUG - Stop API ID 0
2018-02-26 14:50:04,545 - DEBUG - Profit API ID 0
2018-02-26 14:50:04,545 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:50:04,545 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:50:04,546 - DEBUG - Pos is 0
2018-02-26 14:50:04,546 - DEBUG - CurCount is 0
2018-02-26 14:50:04,546 - DEBUG - In Pos 0
2018-02-26 14:50:04,546 - DEBUG - Stop ID is 0
2018-02-26 14:50:04,546 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:50:04,548 - DEBUG - EntryPend is 1
2018-02-26 14:50:04,548 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:50:04,548 - DEBUG - Entry Date is 10
2018-02-26 14:50:04,549 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:50:04,549 - DEBUG - Order Profit ID is 228
2018-02-26 14:50:04,549 - DEBUG - Order Entry ID is 228
2018-02-26 14:50:04,549 - DEBUG - API ID is  0
2018-02-26 14:50:04,549 - DEBUG - Current Position is 0
2018-02-26 14:50:04,550 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:50:04,550 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:50:04,550 - DEBUG - Time is 14
2018-02-26 14:50:04,550 - DEBUG - Time is <class 'int'>
2018-02-26 14:50:04,551 - DEBUG - Disconnected from IBController
2018-02-26 14:50:04,551 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 14:55:00,272 - DEBUG - ****************************************************
2018-02-26 14:55:00,273 - DEBUG - Current Time is 02:55PM
2018-02-26 14:55:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 14:55:00,274 - DEBUG - Connecting to database
2018-02-26 14:55:00,448 - DEBUG - Connected to database
2018-02-26 14:55:00,448 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:00,469 - DEBUG - Order Profit is 228
2018-02-26 14:55:00,469 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:00,521 - DEBUG - Stop ID is 0
2018-02-26 14:55:00,522 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:00,539 - DEBUG - Entry ID is 228
2018-02-26 14:55:00,539 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 14:55:00,556 - DEBUG - OCA ID is 1
2018-02-26 14:55:00,557 - DEBUG - Connecting to IBController
2018-02-26 14:55:01,564 - DEBUG - Connected to IBController
2018-02-26 14:55:01,564 - DEBUG - Position requested
2018-02-26 14:55:01,566 - DEBUG - Pos Mgmt 0
2018-02-26 14:55:01,566 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=0, avgCost=0.0>
2018-02-26 14:55:01,566 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 14:55:01,567 - DEBUG - ccy2 Currency with position is USD
2018-02-26 14:55:01,567 - DEBUG - Position is 0
2018-02-26 14:55:01,567 - DEBUG - Pos Mgmt -12987
2018-02-26 14:55:01,567 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 14:55:01,568 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 14:55:01,568 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 14:55:01,568 - DEBUG - Position is -12987
2018-02-26 14:55:02,566 - DEBUG - Open Orders requested
2018-02-26 14:55:02,568 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE48>, order=<ib.ext.Order.Order object at 0x000000000206CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 14:55:02,569 - DEBUG - Order OrderID 225
2018-02-26 14:55:02,569 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 14:55:02,569 - DEBUG - Order status PreSubmitted
2018-02-26 14:55:02,570 - DEBUG - Order Identification 225
2018-02-26 14:55:02,570 - DEBUG - Order Identification <class 'int'>
2018-02-26 14:55:02,570 - DEBUG - Profit ID from database is 228
2018-02-26 14:55:02,570 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 14:55:02,571 - DEBUG - Stop ID database is 0
2018-02-26 14:55:02,571 - DEBUG - Entry ID database is 228
2018-02-26 14:55:04,568 - DEBUG - Connecting to database
2018-02-26 14:55:04,575 - DEBUG - Connected to database
2018-02-26 14:55:04,578 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,578 - DEBUG - Stop loss value is 2731.25
2018-02-26 14:55:04,579 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,580 - DEBUG - Stop loss value is 2671.5
2018-02-26 14:55:04,581 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,582 - DEBUG - EntryPrice value is 2681.0
2018-02-26 14:55:04,583 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,584 - DEBUG - Stop quantity 1
2018-02-26 14:55:04,585 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,585 - DEBUG - Direction is Short
2018-02-26 14:55:04,587 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,587 - DEBUG - Count is 0
2018-02-26 14:55:04,589 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 14:55:04,589 - DEBUG - Stop Loss Flag is 0
2018-02-26 14:55:04,590 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 14:55:04,591 - DEBUG - Max ID Order is (231,)
2018-02-26 14:55:04,591 - DEBUG - Today is 2018-02-26
2018-02-26 14:55:04,592 - DEBUG - Day of the week 0
2018-02-26 14:55:04,592 - DEBUG - Yesterday is 02/23/2018
2018-02-26 14:55:04,592 - DEBUG - In Position is  0
2018-02-26 14:55:04,592 - DEBUG - In Position is  <class 'int'>
2018-02-26 14:55:04,592 - DEBUG - curStopLossFlag is  0
2018-02-26 14:55:04,593 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 14:55:04,593 - DEBUG - Checking if Entry has been filled
2018-02-26 14:55:04,593 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:55:04,595 - DEBUG - EntryPend is 1
2018-02-26 14:55:04,595 - DEBUG - Try to Cancel Stop
2018-02-26 14:55:04,595 - DEBUG - Stop API ID 0
2018-02-26 14:55:04,595 - DEBUG - Profit API ID 0
2018-02-26 14:55:04,595 - DEBUG - Stop API ID <class 'int'>
2018-02-26 14:55:04,596 - DEBUG - Profit API ID <class 'int'>
2018-02-26 14:55:04,596 - DEBUG - Pos is 0
2018-02-26 14:55:04,596 - DEBUG - CurCount is 0
2018-02-26 14:55:04,596 - DEBUG - In Pos 0
2018-02-26 14:55:04,597 - DEBUG - Stop ID is 0
2018-02-26 14:55:04,597 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 14:55:04,598 - DEBUG - EntryPend is 1
2018-02-26 14:55:04,599 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 14:55:04,599 - DEBUG - Entry Date is 10
2018-02-26 14:55:04,599 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 14:55:04,599 - DEBUG - Order Profit ID is 228
2018-02-26 14:55:04,599 - DEBUG - Order Entry ID is 228
2018-02-26 14:55:04,600 - DEBUG - API ID is  0
2018-02-26 14:55:04,600 - DEBUG - Current Position is 0
2018-02-26 14:55:04,600 - DEBUG - Current Position is <class 'str'>
2018-02-26 14:55:04,600 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 14:55:04,601 - DEBUG - Time is 14
2018-02-26 14:55:04,601 - DEBUG - Time is <class 'int'>
2018-02-26 14:55:04,601 - DEBUG - Disconnected from IBController
2018-02-26 14:55:04,602 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:00:00,297 - DEBUG - ****************************************************
2018-02-26 15:00:00,297 - DEBUG - Current Time is 03:00PM
2018-02-26 15:00:00,298 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:00:00,298 - DEBUG - Connecting to database
2018-02-26 15:00:00,597 - DEBUG - Connected to database
2018-02-26 15:00:00,598 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:00,721 - DEBUG - Order Profit is 228
2018-02-26 15:00:00,721 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:00,761 - DEBUG - Stop ID is 0
2018-02-26 15:00:00,761 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:00,836 - DEBUG - Entry ID is 228
2018-02-26 15:00:00,837 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:00:00,884 - DEBUG - OCA ID is 1
2018-02-26 15:00:00,884 - DEBUG - Connecting to IBController
2018-02-26 15:00:01,890 - DEBUG - Connected to IBController
2018-02-26 15:00:01,890 - DEBUG - Position requested
2018-02-26 15:00:01,892 - DEBUG - Pos Mgmt 0
2018-02-26 15:00:01,892 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDDA0>, pos=0, avgCost=0.0>
2018-02-26 15:00:01,893 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:00:01,893 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:00:01,893 - DEBUG - Position is 0
2018-02-26 15:00:01,894 - DEBUG - Pos Mgmt -12987
2018-02-26 15:00:01,894 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:00:01,894 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:00:01,894 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:00:01,895 - DEBUG - Position is -12987
2018-02-26 15:00:02,891 - DEBUG - Open Orders requested
2018-02-26 15:00:02,893 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161128>>
2018-02-26 15:00:02,894 - DEBUG - Order OrderID 225
2018-02-26 15:00:02,894 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:00:02,894 - DEBUG - Order status PreSubmitted
2018-02-26 15:00:02,901 - DEBUG - Order Identification 225
2018-02-26 15:00:02,901 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:00:02,902 - DEBUG - Profit ID from database is 228
2018-02-26 15:00:02,902 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:00:02,902 - DEBUG - Stop ID database is 0
2018-02-26 15:00:02,902 - DEBUG - Entry ID database is 228
2018-02-26 15:00:04,893 - DEBUG - Connecting to database
2018-02-26 15:00:04,902 - DEBUG - Connected to database
2018-02-26 15:00:04,903 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,904 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:00:04,905 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,906 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:00:04,907 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,907 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:00:04,909 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,909 - DEBUG - Stop quantity 1
2018-02-26 15:00:04,910 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,911 - DEBUG - Direction is Short
2018-02-26 15:00:04,912 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,912 - DEBUG - Count is 0
2018-02-26 15:00:04,914 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:00:04,914 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:00:04,915 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:00:04,916 - DEBUG - Max ID Order is (231,)
2018-02-26 15:00:04,916 - DEBUG - Today is 2018-02-26
2018-02-26 15:00:04,916 - DEBUG - Day of the week 0
2018-02-26 15:00:04,917 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:00:04,917 - DEBUG - In Position is  0
2018-02-26 15:00:04,917 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:00:04,917 - DEBUG - curStopLossFlag is  0
2018-02-26 15:00:04,918 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:00:04,918 - DEBUG - Checking if Entry has been filled
2018-02-26 15:00:04,918 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:00:04,919 - DEBUG - EntryPend is 1
2018-02-26 15:00:04,920 - DEBUG - Try to Cancel Stop
2018-02-26 15:00:04,920 - DEBUG - Stop API ID 0
2018-02-26 15:00:04,920 - DEBUG - Profit API ID 0
2018-02-26 15:00:04,920 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:00:04,921 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:00:04,921 - DEBUG - Pos is 0
2018-02-26 15:00:04,921 - DEBUG - CurCount is 0
2018-02-26 15:00:04,921 - DEBUG - In Pos 0
2018-02-26 15:00:04,921 - DEBUG - Stop ID is 0
2018-02-26 15:00:04,922 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:00:04,923 - DEBUG - EntryPend is 1
2018-02-26 15:00:04,923 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:00:04,923 - DEBUG - Entry Date is 10
2018-02-26 15:00:04,924 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:00:04,924 - DEBUG - Order Profit ID is 228
2018-02-26 15:00:04,924 - DEBUG - Order Entry ID is 228
2018-02-26 15:00:04,924 - DEBUG - API ID is  0
2018-02-26 15:00:04,925 - DEBUG - Current Position is 0
2018-02-26 15:00:04,925 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:00:04,925 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:00:04,925 - DEBUG - Time is 15
2018-02-26 15:00:04,925 - DEBUG - Time is <class 'int'>
2018-02-26 15:00:04,926 - DEBUG - Disconnected from IBController
2018-02-26 15:00:04,927 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:05:00,273 - DEBUG - ****************************************************
2018-02-26 15:05:00,274 - DEBUG - Current Time is 03:05PM
2018-02-26 15:05:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:05:00,274 - DEBUG - Connecting to database
2018-02-26 15:05:00,420 - DEBUG - Connected to database
2018-02-26 15:05:00,421 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:00,423 - DEBUG - Order Profit is 228
2018-02-26 15:05:00,424 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:00,477 - DEBUG - Stop ID is 0
2018-02-26 15:05:00,477 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:00,530 - DEBUG - Entry ID is 228
2018-02-26 15:05:00,531 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:05:00,556 - DEBUG - OCA ID is 1
2018-02-26 15:05:00,557 - DEBUG - Connecting to IBController
2018-02-26 15:05:01,564 - DEBUG - Connected to IBController
2018-02-26 15:05:01,564 - DEBUG - Position requested
2018-02-26 15:05:01,566 - DEBUG - Pos Mgmt 0
2018-02-26 15:05:01,566 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=0, avgCost=0.0>
2018-02-26 15:05:01,566 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:05:01,567 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:05:01,567 - DEBUG - Position is 0
2018-02-26 15:05:01,567 - DEBUG - Pos Mgmt -12987
2018-02-26 15:05:01,568 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:05:01,568 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:05:01,568 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:05:01,568 - DEBUG - Position is -12987
2018-02-26 15:05:02,566 - DEBUG - Open Orders requested
2018-02-26 15:05:02,568 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DE48>, order=<ib.ext.Order.Order object at 0x000000000205DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-26 15:05:02,568 - DEBUG - Order OrderID 225
2018-02-26 15:05:02,569 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:05:02,569 - DEBUG - Order status PreSubmitted
2018-02-26 15:05:02,570 - DEBUG - Order Identification 225
2018-02-26 15:05:02,570 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:05:02,570 - DEBUG - Profit ID from database is 228
2018-02-26 15:05:02,570 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:05:02,571 - DEBUG - Stop ID database is 0
2018-02-26 15:05:02,571 - DEBUG - Entry ID database is 228
2018-02-26 15:05:04,568 - DEBUG - Connecting to database
2018-02-26 15:05:04,575 - DEBUG - Connected to database
2018-02-26 15:05:04,577 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,577 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:05:04,579 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,579 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:05:04,581 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,582 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:05:04,583 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,583 - DEBUG - Stop quantity 1
2018-02-26 15:05:04,585 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,585 - DEBUG - Direction is Short
2018-02-26 15:05:04,586 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,587 - DEBUG - Count is 0
2018-02-26 15:05:04,590 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:05:04,591 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:05:04,592 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:05:04,592 - DEBUG - Max ID Order is (231,)
2018-02-26 15:05:04,593 - DEBUG - Today is 2018-02-26
2018-02-26 15:05:04,593 - DEBUG - Day of the week 0
2018-02-26 15:05:04,593 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:05:04,594 - DEBUG - In Position is  0
2018-02-26 15:05:04,594 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:05:04,594 - DEBUG - curStopLossFlag is  0
2018-02-26 15:05:04,594 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:05:04,596 - DEBUG - Checking if Entry has been filled
2018-02-26 15:05:04,596 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:05:04,597 - DEBUG - EntryPend is 1
2018-02-26 15:05:04,598 - DEBUG - Try to Cancel Stop
2018-02-26 15:05:04,598 - DEBUG - Stop API ID 0
2018-02-26 15:05:04,598 - DEBUG - Profit API ID 0
2018-02-26 15:05:04,598 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:05:04,599 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:05:04,599 - DEBUG - Pos is 0
2018-02-26 15:05:04,599 - DEBUG - CurCount is 0
2018-02-26 15:05:04,599 - DEBUG - In Pos 0
2018-02-26 15:05:04,600 - DEBUG - Stop ID is 0
2018-02-26 15:05:04,600 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:05:04,601 - DEBUG - EntryPend is 1
2018-02-26 15:05:04,602 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:05:04,602 - DEBUG - Entry Date is 10
2018-02-26 15:05:04,602 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:05:04,602 - DEBUG - Order Profit ID is 228
2018-02-26 15:05:04,603 - DEBUG - Order Entry ID is 228
2018-02-26 15:05:04,603 - DEBUG - API ID is  0
2018-02-26 15:05:04,603 - DEBUG - Current Position is 0
2018-02-26 15:05:04,603 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:05:04,604 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:05:04,604 - DEBUG - Time is 15
2018-02-26 15:05:04,604 - DEBUG - Time is <class 'int'>
2018-02-26 15:05:04,604 - DEBUG - Disconnected from IBController
2018-02-26 15:05:04,605 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:10:00,271 - DEBUG - ****************************************************
2018-02-26 15:10:00,271 - DEBUG - Current Time is 03:10PM
2018-02-26 15:10:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:10:00,272 - DEBUG - Connecting to database
2018-02-26 15:10:00,480 - DEBUG - Connected to database
2018-02-26 15:10:00,480 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:00,506 - DEBUG - Order Profit is 228
2018-02-26 15:10:00,507 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:00,562 - DEBUG - Stop ID is 0
2018-02-26 15:10:00,562 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:00,585 - DEBUG - Entry ID is 228
2018-02-26 15:10:00,586 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:10:00,608 - DEBUG - OCA ID is 1
2018-02-26 15:10:00,609 - DEBUG - Connecting to IBController
2018-02-26 15:10:01,616 - DEBUG - Connected to IBController
2018-02-26 15:10:01,616 - DEBUG - Position requested
2018-02-26 15:10:01,618 - DEBUG - Pos Mgmt 0
2018-02-26 15:10:01,618 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDA0>, pos=0, avgCost=0.0>
2018-02-26 15:10:01,619 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:10:01,619 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:10:01,619 - DEBUG - Position is 0
2018-02-26 15:10:01,619 - DEBUG - Pos Mgmt -12987
2018-02-26 15:10:01,620 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:10:01,620 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:10:01,620 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:10:01,620 - DEBUG - Position is -12987
2018-02-26 15:10:02,617 - DEBUG - Open Orders requested
2018-02-26 15:10:02,619 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 15:10:02,620 - DEBUG - Order OrderID 225
2018-02-26 15:10:02,620 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:10:02,621 - DEBUG - Order status PreSubmitted
2018-02-26 15:10:02,621 - DEBUG - Order Identification 225
2018-02-26 15:10:02,621 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:10:02,621 - DEBUG - Profit ID from database is 228
2018-02-26 15:10:02,622 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:10:02,622 - DEBUG - Stop ID database is 0
2018-02-26 15:10:02,622 - DEBUG - Entry ID database is 228
2018-02-26 15:10:04,619 - DEBUG - Connecting to database
2018-02-26 15:10:04,627 - DEBUG - Connected to database
2018-02-26 15:10:04,629 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,629 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:10:04,632 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,632 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:10:04,633 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,634 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:10:04,635 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,636 - DEBUG - Stop quantity 1
2018-02-26 15:10:04,637 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,637 - DEBUG - Direction is Short
2018-02-26 15:10:04,639 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,639 - DEBUG - Count is 0
2018-02-26 15:10:04,640 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:10:04,641 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:10:04,642 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:10:04,642 - DEBUG - Max ID Order is (231,)
2018-02-26 15:10:04,643 - DEBUG - Today is 2018-02-26
2018-02-26 15:10:04,643 - DEBUG - Day of the week 0
2018-02-26 15:10:04,643 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:10:04,644 - DEBUG - In Position is  0
2018-02-26 15:10:04,644 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:10:04,644 - DEBUG - curStopLossFlag is  0
2018-02-26 15:10:04,644 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:10:04,644 - DEBUG - Checking if Entry has been filled
2018-02-26 15:10:04,645 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:10:04,646 - DEBUG - EntryPend is 1
2018-02-26 15:10:04,646 - DEBUG - Try to Cancel Stop
2018-02-26 15:10:04,647 - DEBUG - Stop API ID 0
2018-02-26 15:10:04,647 - DEBUG - Profit API ID 0
2018-02-26 15:10:04,647 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:10:04,647 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:10:04,647 - DEBUG - Pos is 0
2018-02-26 15:10:04,648 - DEBUG - CurCount is 0
2018-02-26 15:10:04,648 - DEBUG - In Pos 0
2018-02-26 15:10:04,648 - DEBUG - Stop ID is 0
2018-02-26 15:10:04,648 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:10:04,650 - DEBUG - EntryPend is 1
2018-02-26 15:10:04,650 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:10:04,650 - DEBUG - Entry Date is 10
2018-02-26 15:10:04,651 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:10:04,651 - DEBUG - Order Profit ID is 228
2018-02-26 15:10:04,651 - DEBUG - Order Entry ID is 228
2018-02-26 15:10:04,651 - DEBUG - API ID is  0
2018-02-26 15:10:04,651 - DEBUG - Current Position is 0
2018-02-26 15:10:04,652 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:10:04,652 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:10:04,652 - DEBUG - Time is 15
2018-02-26 15:10:04,652 - DEBUG - Time is <class 'int'>
2018-02-26 15:10:04,653 - DEBUG - Disconnected from IBController
2018-02-26 15:10:04,653 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:15:00,295 - DEBUG - ****************************************************
2018-02-26 15:15:00,295 - DEBUG - Current Time is 03:15PM
2018-02-26 15:15:00,296 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:15:00,296 - DEBUG - Connecting to database
2018-02-26 15:15:00,567 - DEBUG - Connected to database
2018-02-26 15:15:00,567 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:00,591 - DEBUG - Order Profit is 228
2018-02-26 15:15:00,591 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:00,651 - DEBUG - Stop ID is 0
2018-02-26 15:15:00,652 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:00,681 - DEBUG - Entry ID is 228
2018-02-26 15:15:00,682 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:15:00,699 - DEBUG - OCA ID is 1
2018-02-26 15:15:00,699 - DEBUG - Connecting to IBController
2018-02-26 15:15:01,706 - DEBUG - Connected to IBController
2018-02-26 15:15:01,706 - DEBUG - Position requested
2018-02-26 15:15:01,708 - DEBUG - Pos Mgmt 0
2018-02-26 15:15:01,708 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207BB00>, pos=0, avgCost=0.0>
2018-02-26 15:15:01,709 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:15:01,709 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:15:01,710 - DEBUG - Position is 0
2018-02-26 15:15:01,713 - DEBUG - Pos Mgmt -12987
2018-02-26 15:15:01,713 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207BCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:15:01,714 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:15:01,714 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:15:01,715 - DEBUG - Position is -12987
2018-02-26 15:15:02,708 - DEBUG - Open Orders requested
2018-02-26 15:15:02,710 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207BE48>, order=<ib.ext.Order.Order object at 0x000000000207BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110128>>
2018-02-26 15:15:02,710 - DEBUG - Order OrderID 225
2018-02-26 15:15:02,711 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:15:02,711 - DEBUG - Order status PreSubmitted
2018-02-26 15:15:02,712 - DEBUG - Order Identification 225
2018-02-26 15:15:02,712 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:15:02,712 - DEBUG - Profit ID from database is 228
2018-02-26 15:15:02,712 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:15:02,713 - DEBUG - Stop ID database is 0
2018-02-26 15:15:02,713 - DEBUG - Entry ID database is 228
2018-02-26 15:15:04,710 - DEBUG - Connecting to database
2018-02-26 15:15:04,718 - DEBUG - Connected to database
2018-02-26 15:15:04,719 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,720 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:15:04,721 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,722 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:15:04,723 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,723 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:15:04,725 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,725 - DEBUG - Stop quantity 1
2018-02-26 15:15:04,726 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,727 - DEBUG - Direction is Short
2018-02-26 15:15:04,728 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,729 - DEBUG - Count is 0
2018-02-26 15:15:04,730 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:15:04,730 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:15:04,732 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:15:04,732 - DEBUG - Max ID Order is (231,)
2018-02-26 15:15:04,732 - DEBUG - Today is 2018-02-26
2018-02-26 15:15:04,733 - DEBUG - Day of the week 0
2018-02-26 15:15:04,733 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:15:04,733 - DEBUG - In Position is  0
2018-02-26 15:15:04,734 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:15:04,734 - DEBUG - curStopLossFlag is  0
2018-02-26 15:15:04,734 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:15:04,734 - DEBUG - Checking if Entry has been filled
2018-02-26 15:15:04,734 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:15:04,736 - DEBUG - EntryPend is 1
2018-02-26 15:15:04,736 - DEBUG - Try to Cancel Stop
2018-02-26 15:15:04,736 - DEBUG - Stop API ID 0
2018-02-26 15:15:04,737 - DEBUG - Profit API ID 0
2018-02-26 15:15:04,737 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:15:04,737 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:15:04,737 - DEBUG - Pos is 0
2018-02-26 15:15:04,737 - DEBUG - CurCount is 0
2018-02-26 15:15:04,738 - DEBUG - In Pos 0
2018-02-26 15:15:04,738 - DEBUG - Stop ID is 0
2018-02-26 15:15:04,738 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:15:04,740 - DEBUG - EntryPend is 1
2018-02-26 15:15:04,740 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:15:04,740 - DEBUG - Entry Date is 10
2018-02-26 15:15:04,740 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:15:04,741 - DEBUG - Order Profit ID is 228
2018-02-26 15:15:04,741 - DEBUG - Order Entry ID is 228
2018-02-26 15:15:04,741 - DEBUG - API ID is  0
2018-02-26 15:15:04,741 - DEBUG - Current Position is 0
2018-02-26 15:15:04,742 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:15:04,742 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:15:04,742 - DEBUG - Time is 15
2018-02-26 15:15:04,742 - DEBUG - Time is <class 'int'>
2018-02-26 15:15:04,743 - DEBUG - Disconnected from IBController
2018-02-26 15:15:04,743 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:20:00,276 - DEBUG - ****************************************************
2018-02-26 15:20:00,277 - DEBUG - Current Time is 03:20PM
2018-02-26 15:20:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:20:00,277 - DEBUG - Connecting to database
2018-02-26 15:20:00,574 - DEBUG - Connected to database
2018-02-26 15:20:00,574 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:00,598 - DEBUG - Order Profit is 228
2018-02-26 15:20:00,599 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:00,636 - DEBUG - Stop ID is 0
2018-02-26 15:20:00,636 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:00,665 - DEBUG - Entry ID is 228
2018-02-26 15:20:00,665 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:20:00,684 - DEBUG - OCA ID is 1
2018-02-26 15:20:00,685 - DEBUG - Connecting to IBController
2018-02-26 15:20:01,691 - DEBUG - Connected to IBController
2018-02-26 15:20:01,691 - DEBUG - Position requested
2018-02-26 15:20:01,693 - DEBUG - Pos Mgmt 0
2018-02-26 15:20:01,693 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACCF8>, pos=0, avgCost=0.0>
2018-02-26 15:20:01,694 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:20:01,694 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:20:01,694 - DEBUG - Position is 0
2018-02-26 15:20:01,695 - DEBUG - Pos Mgmt -12987
2018-02-26 15:20:01,695 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACB00>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:20:01,695 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:20:01,696 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:20:01,696 - DEBUG - Position is -12987
2018-02-26 15:20:02,692 - DEBUG - Open Orders requested
2018-02-26 15:20:02,694 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE48>, order=<ib.ext.Order.Order object at 0x00000000020ACA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-26 15:20:02,695 - DEBUG - Order OrderID 225
2018-02-26 15:20:02,695 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:20:02,696 - DEBUG - Order status PreSubmitted
2018-02-26 15:20:02,696 - DEBUG - Order Identification 225
2018-02-26 15:20:02,696 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:20:02,697 - DEBUG - Profit ID from database is 228
2018-02-26 15:20:02,697 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:20:02,697 - DEBUG - Stop ID database is 0
2018-02-26 15:20:02,697 - DEBUG - Entry ID database is 228
2018-02-26 15:20:04,694 - DEBUG - Connecting to database
2018-02-26 15:20:04,703 - DEBUG - Connected to database
2018-02-26 15:20:04,704 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,705 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:20:04,706 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,707 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:20:04,708 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,708 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:20:04,710 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,710 - DEBUG - Stop quantity 1
2018-02-26 15:20:04,711 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,712 - DEBUG - Direction is Short
2018-02-26 15:20:04,713 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,714 - DEBUG - Count is 0
2018-02-26 15:20:04,715 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:20:04,716 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:20:04,717 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:20:04,717 - DEBUG - Max ID Order is (231,)
2018-02-26 15:20:04,718 - DEBUG - Today is 2018-02-26
2018-02-26 15:20:04,718 - DEBUG - Day of the week 0
2018-02-26 15:20:04,718 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:20:04,719 - DEBUG - In Position is  0
2018-02-26 15:20:04,719 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:20:04,719 - DEBUG - curStopLossFlag is  0
2018-02-26 15:20:04,719 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:20:04,720 - DEBUG - Checking if Entry has been filled
2018-02-26 15:20:04,720 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:20:04,721 - DEBUG - EntryPend is 1
2018-02-26 15:20:04,722 - DEBUG - Try to Cancel Stop
2018-02-26 15:20:04,722 - DEBUG - Stop API ID 0
2018-02-26 15:20:04,722 - DEBUG - Profit API ID 0
2018-02-26 15:20:04,722 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:20:04,722 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:20:04,723 - DEBUG - Pos is 0
2018-02-26 15:20:04,723 - DEBUG - CurCount is 0
2018-02-26 15:20:04,723 - DEBUG - In Pos 0
2018-02-26 15:20:04,723 - DEBUG - Stop ID is 0
2018-02-26 15:20:04,724 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:20:04,725 - DEBUG - EntryPend is 1
2018-02-26 15:20:04,725 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:20:04,725 - DEBUG - Entry Date is 10
2018-02-26 15:20:04,726 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:20:04,726 - DEBUG - Order Profit ID is 228
2018-02-26 15:20:04,726 - DEBUG - Order Entry ID is 228
2018-02-26 15:20:04,726 - DEBUG - API ID is  0
2018-02-26 15:20:04,727 - DEBUG - Current Position is 0
2018-02-26 15:20:04,727 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:20:04,727 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:20:04,728 - DEBUG - Time is 15
2018-02-26 15:20:04,728 - DEBUG - Time is <class 'int'>
2018-02-26 15:20:04,728 - DEBUG - Disconnected from IBController
2018-02-26 15:20:04,729 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:25:00,263 - DEBUG - ****************************************************
2018-02-26 15:25:00,264 - DEBUG - Current Time is 03:25PM
2018-02-26 15:25:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:25:00,264 - DEBUG - Connecting to database
2018-02-26 15:25:00,484 - DEBUG - Connected to database
2018-02-26 15:25:00,485 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:00,536 - DEBUG - Order Profit is 228
2018-02-26 15:25:00,537 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:00,548 - DEBUG - Stop ID is 0
2018-02-26 15:25:00,548 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:00,588 - DEBUG - Entry ID is 228
2018-02-26 15:25:00,588 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:25:00,621 - DEBUG - OCA ID is 1
2018-02-26 15:25:00,621 - DEBUG - Connecting to IBController
2018-02-26 15:25:01,628 - DEBUG - Connected to IBController
2018-02-26 15:25:01,628 - DEBUG - Position requested
2018-02-26 15:25:01,630 - DEBUG - Pos Mgmt 0
2018-02-26 15:25:01,630 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CDD8>, pos=0, avgCost=0.0>
2018-02-26 15:25:01,631 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:25:01,631 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:25:01,631 - DEBUG - Position is 0
2018-02-26 15:25:01,631 - DEBUG - Pos Mgmt -12987
2018-02-26 15:25:01,632 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:25:01,632 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:25:01,632 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:25:01,633 - DEBUG - Position is -12987
2018-02-26 15:25:02,629 - DEBUG - Open Orders requested
2018-02-26 15:25:02,631 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 15:25:02,632 - DEBUG - Order OrderID 225
2018-02-26 15:25:02,632 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:25:02,633 - DEBUG - Order status PreSubmitted
2018-02-26 15:25:02,633 - DEBUG - Order Identification 225
2018-02-26 15:25:02,633 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:25:02,634 - DEBUG - Profit ID from database is 228
2018-02-26 15:25:02,634 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:25:02,634 - DEBUG - Stop ID database is 0
2018-02-26 15:25:02,634 - DEBUG - Entry ID database is 228
2018-02-26 15:25:04,632 - DEBUG - Connecting to database
2018-02-26 15:25:04,640 - DEBUG - Connected to database
2018-02-26 15:25:04,641 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,642 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:25:04,643 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,643 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:25:04,645 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,645 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:25:04,646 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,647 - DEBUG - Stop quantity 1
2018-02-26 15:25:04,648 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,648 - DEBUG - Direction is Short
2018-02-26 15:25:04,650 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,650 - DEBUG - Count is 0
2018-02-26 15:25:04,651 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:25:04,652 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:25:04,653 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:25:04,653 - DEBUG - Max ID Order is (231,)
2018-02-26 15:25:04,654 - DEBUG - Today is 2018-02-26
2018-02-26 15:25:04,654 - DEBUG - Day of the week 0
2018-02-26 15:25:04,655 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:25:04,655 - DEBUG - In Position is  0
2018-02-26 15:25:04,655 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:25:04,655 - DEBUG - curStopLossFlag is  0
2018-02-26 15:25:04,655 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:25:04,656 - DEBUG - Checking if Entry has been filled
2018-02-26 15:25:04,656 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:25:04,657 - DEBUG - EntryPend is 1
2018-02-26 15:25:04,658 - DEBUG - Try to Cancel Stop
2018-02-26 15:25:04,658 - DEBUG - Stop API ID 0
2018-02-26 15:25:04,658 - DEBUG - Profit API ID 0
2018-02-26 15:25:04,658 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:25:04,659 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:25:04,659 - DEBUG - Pos is 0
2018-02-26 15:25:04,659 - DEBUG - CurCount is 0
2018-02-26 15:25:04,659 - DEBUG - In Pos 0
2018-02-26 15:25:04,659 - DEBUG - Stop ID is 0
2018-02-26 15:25:04,660 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:25:04,661 - DEBUG - EntryPend is 1
2018-02-26 15:25:04,661 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:25:04,662 - DEBUG - Entry Date is 10
2018-02-26 15:25:04,662 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:25:04,662 - DEBUG - Order Profit ID is 228
2018-02-26 15:25:04,662 - DEBUG - Order Entry ID is 228
2018-02-26 15:25:04,662 - DEBUG - API ID is  0
2018-02-26 15:25:04,663 - DEBUG - Current Position is 0
2018-02-26 15:25:04,663 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:25:04,663 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:25:04,663 - DEBUG - Time is 15
2018-02-26 15:25:04,664 - DEBUG - Time is <class 'int'>
2018-02-26 15:25:04,664 - DEBUG - Disconnected from IBController
2018-02-26 15:25:04,664 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:30:00,298 - DEBUG - ****************************************************
2018-02-26 15:30:00,298 - DEBUG - Current Time is 03:30PM
2018-02-26 15:30:00,299 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:30:00,299 - DEBUG - Connecting to database
2018-02-26 15:30:00,588 - DEBUG - Connected to database
2018-02-26 15:30:00,589 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:00,660 - DEBUG - Order Profit is 228
2018-02-26 15:30:00,660 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:00,679 - DEBUG - Stop ID is 0
2018-02-26 15:30:00,679 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:00,706 - DEBUG - Entry ID is 228
2018-02-26 15:30:00,706 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:30:00,734 - DEBUG - OCA ID is 1
2018-02-26 15:30:00,734 - DEBUG - Connecting to IBController
2018-02-26 15:30:01,741 - DEBUG - Connected to IBController
2018-02-26 15:30:01,741 - DEBUG - Position requested
2018-02-26 15:30:01,743 - DEBUG - Pos Mgmt 0
2018-02-26 15:30:01,743 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, pos=0, avgCost=0.0>
2018-02-26 15:30:01,744 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:30:01,744 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:30:01,744 - DEBUG - Position is 0
2018-02-26 15:30:01,745 - DEBUG - Pos Mgmt -12987
2018-02-26 15:30:01,745 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:30:01,745 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:30:01,745 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:30:01,746 - DEBUG - Position is -12987
2018-02-26 15:30:02,742 - DEBUG - Open Orders requested
2018-02-26 15:30:02,744 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-26 15:30:02,745 - DEBUG - Order OrderID 225
2018-02-26 15:30:02,745 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:30:02,746 - DEBUG - Order status PreSubmitted
2018-02-26 15:30:02,746 - DEBUG - Order Identification 225
2018-02-26 15:30:02,747 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:30:02,747 - DEBUG - Profit ID from database is 228
2018-02-26 15:30:02,747 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:30:02,748 - DEBUG - Stop ID database is 0
2018-02-26 15:30:02,748 - DEBUG - Entry ID database is 228
2018-02-26 15:30:04,745 - DEBUG - Connecting to database
2018-02-26 15:30:04,753 - DEBUG - Connected to database
2018-02-26 15:30:04,756 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,756 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:30:04,758 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,758 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:30:04,760 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,761 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:30:04,762 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,762 - DEBUG - Stop quantity 1
2018-02-26 15:30:04,764 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,764 - DEBUG - Direction is Short
2018-02-26 15:30:04,766 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,766 - DEBUG - Count is 0
2018-02-26 15:30:04,768 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:30:04,768 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:30:04,769 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:30:04,770 - DEBUG - Max ID Order is (231,)
2018-02-26 15:30:04,770 - DEBUG - Today is 2018-02-26
2018-02-26 15:30:04,770 - DEBUG - Day of the week 0
2018-02-26 15:30:04,771 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:30:04,771 - DEBUG - In Position is  0
2018-02-26 15:30:04,771 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:30:04,771 - DEBUG - curStopLossFlag is  0
2018-02-26 15:30:04,772 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:30:04,772 - DEBUG - Checking if Entry has been filled
2018-02-26 15:30:04,772 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:30:04,774 - DEBUG - EntryPend is 1
2018-02-26 15:30:04,774 - DEBUG - Try to Cancel Stop
2018-02-26 15:30:04,774 - DEBUG - Stop API ID 0
2018-02-26 15:30:04,774 - DEBUG - Profit API ID 0
2018-02-26 15:30:04,775 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:30:04,775 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:30:04,775 - DEBUG - Pos is 0
2018-02-26 15:30:04,775 - DEBUG - CurCount is 0
2018-02-26 15:30:04,776 - DEBUG - In Pos 0
2018-02-26 15:30:04,776 - DEBUG - Stop ID is 0
2018-02-26 15:30:04,776 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:30:04,777 - DEBUG - EntryPend is 1
2018-02-26 15:30:04,778 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:30:04,778 - DEBUG - Entry Date is 10
2018-02-26 15:30:04,778 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:30:04,778 - DEBUG - Order Profit ID is 228
2018-02-26 15:30:04,779 - DEBUG - Order Entry ID is 228
2018-02-26 15:30:04,779 - DEBUG - API ID is  0
2018-02-26 15:30:04,779 - DEBUG - Current Position is 0
2018-02-26 15:30:04,779 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:30:04,780 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:30:04,780 - DEBUG - Time is 15
2018-02-26 15:30:04,780 - DEBUG - Time is <class 'int'>
2018-02-26 15:30:04,781 - DEBUG - Disconnected from IBController
2018-02-26 15:30:04,781 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:35:00,252 - DEBUG - ****************************************************
2018-02-26 15:35:00,253 - DEBUG - Current Time is 03:35PM
2018-02-26 15:35:00,253 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:35:00,253 - DEBUG - Connecting to database
2018-02-26 15:35:00,437 - DEBUG - Connected to database
2018-02-26 15:35:00,437 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:00,459 - DEBUG - Order Profit is 228
2018-02-26 15:35:00,459 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:00,484 - DEBUG - Stop ID is 0
2018-02-26 15:35:00,484 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:00,516 - DEBUG - Entry ID is 228
2018-02-26 15:35:00,517 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:35:00,564 - DEBUG - OCA ID is 1
2018-02-26 15:35:00,564 - DEBUG - Connecting to IBController
2018-02-26 15:35:01,571 - DEBUG - Connected to IBController
2018-02-26 15:35:01,571 - DEBUG - Position requested
2018-02-26 15:35:01,573 - DEBUG - Pos Mgmt 0
2018-02-26 15:35:01,574 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB00>, pos=0, avgCost=0.0>
2018-02-26 15:35:01,574 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:35:01,574 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:35:01,575 - DEBUG - Position is 0
2018-02-26 15:35:01,575 - DEBUG - Pos Mgmt -12987
2018-02-26 15:35:01,575 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:35:01,576 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:35:01,577 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:35:01,577 - DEBUG - Position is -12987
2018-02-26 15:35:02,573 - DEBUG - Open Orders requested
2018-02-26 15:35:02,575 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DE48>, order=<ib.ext.Order.Order object at 0x000000000203DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-26 15:35:02,575 - DEBUG - Order OrderID 225
2018-02-26 15:35:02,576 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:35:02,576 - DEBUG - Order status PreSubmitted
2018-02-26 15:35:02,576 - DEBUG - Order Identification 225
2018-02-26 15:35:02,577 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:35:02,577 - DEBUG - Profit ID from database is 228
2018-02-26 15:35:02,577 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:35:02,577 - DEBUG - Stop ID database is 0
2018-02-26 15:35:02,578 - DEBUG - Entry ID database is 228
2018-02-26 15:35:04,575 - DEBUG - Connecting to database
2018-02-26 15:35:04,582 - DEBUG - Connected to database
2018-02-26 15:35:04,584 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,584 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:35:04,586 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,586 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:35:04,587 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,588 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:35:04,589 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,590 - DEBUG - Stop quantity 1
2018-02-26 15:35:04,591 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,591 - DEBUG - Direction is Short
2018-02-26 15:35:04,593 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,593 - DEBUG - Count is 0
2018-02-26 15:35:04,594 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:35:04,596 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:35:04,597 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:35:04,598 - DEBUG - Max ID Order is (231,)
2018-02-26 15:35:04,598 - DEBUG - Today is 2018-02-26
2018-02-26 15:35:04,598 - DEBUG - Day of the week 0
2018-02-26 15:35:04,599 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:35:04,599 - DEBUG - In Position is  0
2018-02-26 15:35:04,599 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:35:04,600 - DEBUG - curStopLossFlag is  0
2018-02-26 15:35:04,600 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:35:04,600 - DEBUG - Checking if Entry has been filled
2018-02-26 15:35:04,600 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:35:04,602 - DEBUG - EntryPend is 1
2018-02-26 15:35:04,602 - DEBUG - Try to Cancel Stop
2018-02-26 15:35:04,602 - DEBUG - Stop API ID 0
2018-02-26 15:35:04,603 - DEBUG - Profit API ID 0
2018-02-26 15:35:04,603 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:35:04,603 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:35:04,603 - DEBUG - Pos is 0
2018-02-26 15:35:04,604 - DEBUG - CurCount is 0
2018-02-26 15:35:04,604 - DEBUG - In Pos 0
2018-02-26 15:35:04,604 - DEBUG - Stop ID is 0
2018-02-26 15:35:04,604 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:35:04,606 - DEBUG - EntryPend is 1
2018-02-26 15:35:04,606 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:35:04,606 - DEBUG - Entry Date is 10
2018-02-26 15:35:04,607 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:35:04,607 - DEBUG - Order Profit ID is 228
2018-02-26 15:35:04,607 - DEBUG - Order Entry ID is 228
2018-02-26 15:35:04,607 - DEBUG - API ID is  0
2018-02-26 15:35:04,607 - DEBUG - Current Position is 0
2018-02-26 15:35:04,608 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:35:04,608 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:35:04,608 - DEBUG - Time is 15
2018-02-26 15:35:04,608 - DEBUG - Time is <class 'int'>
2018-02-26 15:35:04,609 - DEBUG - Disconnected from IBController
2018-02-26 15:35:04,609 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:40:00,271 - DEBUG - ****************************************************
2018-02-26 15:40:00,272 - DEBUG - Current Time is 03:40PM
2018-02-26 15:40:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:40:00,273 - DEBUG - Connecting to database
2018-02-26 15:40:00,379 - DEBUG - Connected to database
2018-02-26 15:40:00,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:00,416 - DEBUG - Order Profit is 228
2018-02-26 15:40:00,417 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:00,421 - DEBUG - Stop ID is 0
2018-02-26 15:40:00,421 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:00,445 - DEBUG - Entry ID is 228
2018-02-26 15:40:00,445 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:40:00,453 - DEBUG - OCA ID is 1
2018-02-26 15:40:00,453 - DEBUG - Connecting to IBController
2018-02-26 15:40:01,459 - DEBUG - Connected to IBController
2018-02-26 15:40:01,459 - DEBUG - Position requested
2018-02-26 15:40:01,461 - DEBUG - Pos Mgmt 0
2018-02-26 15:40:01,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CE10>, pos=0, avgCost=0.0>
2018-02-26 15:40:01,461 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:40:01,462 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:40:01,462 - DEBUG - Position is 0
2018-02-26 15:40:01,462 - DEBUG - Pos Mgmt -12987
2018-02-26 15:40:01,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:40:01,463 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:40:01,463 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:40:01,463 - DEBUG - Position is -12987
2018-02-26 15:40:02,460 - DEBUG - Open Orders requested
2018-02-26 15:40:02,462 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-26 15:40:02,463 - DEBUG - Order OrderID 225
2018-02-26 15:40:02,463 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:40:02,464 - DEBUG - Order status PreSubmitted
2018-02-26 15:40:02,464 - DEBUG - Order Identification 225
2018-02-26 15:40:02,464 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:40:02,465 - DEBUG - Profit ID from database is 228
2018-02-26 15:40:02,465 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:40:02,465 - DEBUG - Stop ID database is 0
2018-02-26 15:40:02,465 - DEBUG - Entry ID database is 228
2018-02-26 15:40:04,462 - DEBUG - Connecting to database
2018-02-26 15:40:04,469 - DEBUG - Connected to database
2018-02-26 15:40:04,471 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,471 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:40:04,473 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,473 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:40:04,474 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,475 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:40:04,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,476 - DEBUG - Stop quantity 1
2018-02-26 15:40:04,479 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,479 - DEBUG - Direction is Short
2018-02-26 15:40:04,481 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,481 - DEBUG - Count is 0
2018-02-26 15:40:04,483 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:40:04,483 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:40:04,484 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:40:04,485 - DEBUG - Max ID Order is (231,)
2018-02-26 15:40:04,485 - DEBUG - Today is 2018-02-26
2018-02-26 15:40:04,485 - DEBUG - Day of the week 0
2018-02-26 15:40:04,486 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:40:04,486 - DEBUG - In Position is  0
2018-02-26 15:40:04,486 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:40:04,487 - DEBUG - curStopLossFlag is  0
2018-02-26 15:40:04,487 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:40:04,487 - DEBUG - Checking if Entry has been filled
2018-02-26 15:40:04,487 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:40:04,489 - DEBUG - EntryPend is 1
2018-02-26 15:40:04,489 - DEBUG - Try to Cancel Stop
2018-02-26 15:40:04,489 - DEBUG - Stop API ID 0
2018-02-26 15:40:04,489 - DEBUG - Profit API ID 0
2018-02-26 15:40:04,490 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:40:04,490 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:40:04,490 - DEBUG - Pos is 0
2018-02-26 15:40:04,490 - DEBUG - CurCount is 0
2018-02-26 15:40:04,490 - DEBUG - In Pos 0
2018-02-26 15:40:04,491 - DEBUG - Stop ID is 0
2018-02-26 15:40:04,491 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:40:04,492 - DEBUG - EntryPend is 1
2018-02-26 15:40:04,493 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:40:04,493 - DEBUG - Entry Date is 10
2018-02-26 15:40:04,493 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:40:04,493 - DEBUG - Order Profit ID is 228
2018-02-26 15:40:04,493 - DEBUG - Order Entry ID is 228
2018-02-26 15:40:04,494 - DEBUG - API ID is  0
2018-02-26 15:40:04,494 - DEBUG - Current Position is 0
2018-02-26 15:40:04,494 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:40:04,494 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:40:04,495 - DEBUG - Time is 15
2018-02-26 15:40:04,495 - DEBUG - Time is <class 'int'>
2018-02-26 15:40:04,495 - DEBUG - Disconnected from IBController
2018-02-26 15:40:04,496 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:45:00,268 - DEBUG - ****************************************************
2018-02-26 15:45:00,269 - DEBUG - Current Time is 03:45PM
2018-02-26 15:45:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:45:00,270 - DEBUG - Connecting to database
2018-02-26 15:45:00,428 - DEBUG - Connected to database
2018-02-26 15:45:00,429 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:00,469 - DEBUG - Order Profit is 228
2018-02-26 15:45:00,470 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:00,487 - DEBUG - Stop ID is 0
2018-02-26 15:45:00,488 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:00,526 - DEBUG - Entry ID is 228
2018-02-26 15:45:00,526 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:45:00,564 - DEBUG - OCA ID is 1
2018-02-26 15:45:00,565 - DEBUG - Connecting to IBController
2018-02-26 15:45:01,572 - DEBUG - Connected to IBController
2018-02-26 15:45:01,572 - DEBUG - Position requested
2018-02-26 15:45:01,574 - DEBUG - Pos Mgmt 0
2018-02-26 15:45:01,575 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB00>, pos=0, avgCost=0.0>
2018-02-26 15:45:01,575 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:45:01,575 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:45:01,576 - DEBUG - Position is 0
2018-02-26 15:45:01,576 - DEBUG - Pos Mgmt -12987
2018-02-26 15:45:01,576 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:45:01,577 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:45:01,577 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:45:01,577 - DEBUG - Position is -12987
2018-02-26 15:45:02,575 - DEBUG - Open Orders requested
2018-02-26 15:45:02,577 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DE48>, order=<ib.ext.Order.Order object at 0x000000000202DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1128>>
2018-02-26 15:45:02,577 - DEBUG - Order OrderID 225
2018-02-26 15:45:02,578 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:45:02,578 - DEBUG - Order status PreSubmitted
2018-02-26 15:45:02,579 - DEBUG - Order Identification 225
2018-02-26 15:45:02,579 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:45:02,579 - DEBUG - Profit ID from database is 228
2018-02-26 15:45:02,579 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:45:02,580 - DEBUG - Stop ID database is 0
2018-02-26 15:45:02,580 - DEBUG - Entry ID database is 228
2018-02-26 15:45:04,577 - DEBUG - Connecting to database
2018-02-26 15:45:04,584 - DEBUG - Connected to database
2018-02-26 15:45:04,586 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,586 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:45:04,587 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,588 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:45:04,589 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,590 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:45:04,591 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,591 - DEBUG - Stop quantity 1
2018-02-26 15:45:04,593 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,593 - DEBUG - Direction is Short
2018-02-26 15:45:04,594 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,595 - DEBUG - Count is 0
2018-02-26 15:45:04,596 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:45:04,596 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:45:04,598 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:45:04,598 - DEBUG - Max ID Order is (231,)
2018-02-26 15:45:04,599 - DEBUG - Today is 2018-02-26
2018-02-26 15:45:04,599 - DEBUG - Day of the week 0
2018-02-26 15:45:04,599 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:45:04,599 - DEBUG - In Position is  0
2018-02-26 15:45:04,600 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:45:04,600 - DEBUG - curStopLossFlag is  0
2018-02-26 15:45:04,600 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:45:04,600 - DEBUG - Checking if Entry has been filled
2018-02-26 15:45:04,601 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:45:04,602 - DEBUG - EntryPend is 1
2018-02-26 15:45:04,602 - DEBUG - Try to Cancel Stop
2018-02-26 15:45:04,603 - DEBUG - Stop API ID 0
2018-02-26 15:45:04,603 - DEBUG - Profit API ID 0
2018-02-26 15:45:04,603 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:45:04,603 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:45:04,604 - DEBUG - Pos is 0
2018-02-26 15:45:04,604 - DEBUG - CurCount is 0
2018-02-26 15:45:04,604 - DEBUG - In Pos 0
2018-02-26 15:45:04,604 - DEBUG - Stop ID is 0
2018-02-26 15:45:04,605 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:45:04,606 - DEBUG - EntryPend is 1
2018-02-26 15:45:04,606 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:45:04,606 - DEBUG - Entry Date is 10
2018-02-26 15:45:04,607 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:45:04,607 - DEBUG - Order Profit ID is 228
2018-02-26 15:45:04,607 - DEBUG - Order Entry ID is 228
2018-02-26 15:45:04,607 - DEBUG - API ID is  0
2018-02-26 15:45:04,608 - DEBUG - Current Position is 0
2018-02-26 15:45:04,608 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:45:04,608 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:45:04,608 - DEBUG - Time is 15
2018-02-26 15:45:04,609 - DEBUG - Time is <class 'int'>
2018-02-26 15:45:04,609 - DEBUG - Disconnected from IBController
2018-02-26 15:45:04,609 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:50:00,270 - DEBUG - ****************************************************
2018-02-26 15:50:00,271 - DEBUG - Current Time is 03:50PM
2018-02-26 15:50:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:50:00,271 - DEBUG - Connecting to database
2018-02-26 15:50:00,404 - DEBUG - Connected to database
2018-02-26 15:50:00,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:00,433 - DEBUG - Order Profit is 228
2018-02-26 15:50:00,434 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:00,500 - DEBUG - Stop ID is 0
2018-02-26 15:50:00,500 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:00,509 - DEBUG - Entry ID is 228
2018-02-26 15:50:00,509 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:50:00,540 - DEBUG - OCA ID is 1
2018-02-26 15:50:00,541 - DEBUG - Connecting to IBController
2018-02-26 15:50:01,546 - DEBUG - Connected to IBController
2018-02-26 15:50:01,546 - DEBUG - Position requested
2018-02-26 15:50:01,548 - DEBUG - Pos Mgmt 0
2018-02-26 15:50:01,548 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DDD8>, pos=0, avgCost=0.0>
2018-02-26 15:50:01,548 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:50:01,549 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:50:01,549 - DEBUG - Position is 0
2018-02-26 15:50:01,549 - DEBUG - Pos Mgmt -12987
2018-02-26 15:50:01,549 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:50:01,550 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:50:01,550 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:50:01,550 - DEBUG - Position is -12987
2018-02-26 15:50:02,547 - DEBUG - Open Orders requested
2018-02-26 15:50:02,549 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DE48>, order=<ib.ext.Order.Order object at 0x000000000201DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1128>>
2018-02-26 15:50:02,550 - DEBUG - Order OrderID 225
2018-02-26 15:50:02,550 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:50:02,551 - DEBUG - Order status PreSubmitted
2018-02-26 15:50:02,551 - DEBUG - Order Identification 225
2018-02-26 15:50:02,551 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:50:02,551 - DEBUG - Profit ID from database is 228
2018-02-26 15:50:02,552 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:50:02,552 - DEBUG - Stop ID database is 0
2018-02-26 15:50:02,552 - DEBUG - Entry ID database is 228
2018-02-26 15:50:04,549 - DEBUG - Connecting to database
2018-02-26 15:50:04,556 - DEBUG - Connected to database
2018-02-26 15:50:04,558 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,558 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:50:04,559 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,560 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:50:04,561 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,561 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:50:04,563 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,563 - DEBUG - Stop quantity 1
2018-02-26 15:50:04,564 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,565 - DEBUG - Direction is Short
2018-02-26 15:50:04,566 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,567 - DEBUG - Count is 0
2018-02-26 15:50:04,568 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:50:04,568 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:50:04,570 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:50:04,570 - DEBUG - Max ID Order is (231,)
2018-02-26 15:50:04,570 - DEBUG - Today is 2018-02-26
2018-02-26 15:50:04,571 - DEBUG - Day of the week 0
2018-02-26 15:50:04,571 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:50:04,571 - DEBUG - In Position is  0
2018-02-26 15:50:04,571 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:50:04,572 - DEBUG - curStopLossFlag is  0
2018-02-26 15:50:04,572 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:50:04,572 - DEBUG - Checking if Entry has been filled
2018-02-26 15:50:04,572 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:50:04,574 - DEBUG - EntryPend is 1
2018-02-26 15:50:04,574 - DEBUG - Try to Cancel Stop
2018-02-26 15:50:04,574 - DEBUG - Stop API ID 0
2018-02-26 15:50:04,575 - DEBUG - Profit API ID 0
2018-02-26 15:50:04,575 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:50:04,575 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:50:04,575 - DEBUG - Pos is 0
2018-02-26 15:50:04,576 - DEBUG - CurCount is 0
2018-02-26 15:50:04,576 - DEBUG - In Pos 0
2018-02-26 15:50:04,576 - DEBUG - Stop ID is 0
2018-02-26 15:50:04,576 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:50:04,578 - DEBUG - EntryPend is 1
2018-02-26 15:50:04,578 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:50:04,578 - DEBUG - Entry Date is 10
2018-02-26 15:50:04,578 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:50:04,579 - DEBUG - Order Profit ID is 228
2018-02-26 15:50:04,579 - DEBUG - Order Entry ID is 228
2018-02-26 15:50:04,579 - DEBUG - API ID is  0
2018-02-26 15:50:04,579 - DEBUG - Current Position is 0
2018-02-26 15:50:04,580 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:50:04,580 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:50:04,580 - DEBUG - Time is 15
2018-02-26 15:50:04,580 - DEBUG - Time is <class 'int'>
2018-02-26 15:50:04,581 - DEBUG - Disconnected from IBController
2018-02-26 15:50:04,581 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 15:55:00,263 - DEBUG - ****************************************************
2018-02-26 15:55:00,263 - DEBUG - Current Time is 03:55PM
2018-02-26 15:55:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 15:55:00,264 - DEBUG - Connecting to database
2018-02-26 15:55:00,418 - DEBUG - Connected to database
2018-02-26 15:55:00,418 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:00,444 - DEBUG - Order Profit is 228
2018-02-26 15:55:00,444 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:00,490 - DEBUG - Stop ID is 0
2018-02-26 15:55:00,491 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:00,512 - DEBUG - Entry ID is 228
2018-02-26 15:55:00,512 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 15:55:00,543 - DEBUG - OCA ID is 1
2018-02-26 15:55:00,543 - DEBUG - Connecting to IBController
2018-02-26 15:55:01,549 - DEBUG - Connected to IBController
2018-02-26 15:55:01,549 - DEBUG - Position requested
2018-02-26 15:55:01,551 - DEBUG - Pos Mgmt 0
2018-02-26 15:55:01,551 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, pos=0, avgCost=0.0>
2018-02-26 15:55:01,551 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 15:55:01,552 - DEBUG - ccy2 Currency with position is USD
2018-02-26 15:55:01,552 - DEBUG - Position is 0
2018-02-26 15:55:01,552 - DEBUG - Pos Mgmt -12987
2018-02-26 15:55:01,552 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 15:55:01,553 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 15:55:01,553 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 15:55:01,553 - DEBUG - Position is -12987
2018-02-26 15:55:02,551 - DEBUG - Open Orders requested
2018-02-26 15:55:02,553 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-26 15:55:02,553 - DEBUG - Order OrderID 225
2018-02-26 15:55:02,554 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 15:55:02,554 - DEBUG - Order status PreSubmitted
2018-02-26 15:55:02,555 - DEBUG - Order Identification 225
2018-02-26 15:55:02,555 - DEBUG - Order Identification <class 'int'>
2018-02-26 15:55:02,555 - DEBUG - Profit ID from database is 228
2018-02-26 15:55:02,555 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 15:55:02,556 - DEBUG - Stop ID database is 0
2018-02-26 15:55:02,556 - DEBUG - Entry ID database is 228
2018-02-26 15:55:04,553 - DEBUG - Connecting to database
2018-02-26 15:55:04,560 - DEBUG - Connected to database
2018-02-26 15:55:04,562 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,562 - DEBUG - Stop loss value is 2731.25
2018-02-26 15:55:04,563 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,564 - DEBUG - Stop loss value is 2671.5
2018-02-26 15:55:04,565 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,566 - DEBUG - EntryPrice value is 2681.0
2018-02-26 15:55:04,567 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,567 - DEBUG - Stop quantity 1
2018-02-26 15:55:04,569 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,569 - DEBUG - Direction is Short
2018-02-26 15:55:04,570 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,571 - DEBUG - Count is 0
2018-02-26 15:55:04,572 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 15:55:04,573 - DEBUG - Stop Loss Flag is 0
2018-02-26 15:55:04,574 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 15:55:04,574 - DEBUG - Max ID Order is (231,)
2018-02-26 15:55:04,575 - DEBUG - Today is 2018-02-26
2018-02-26 15:55:04,575 - DEBUG - Day of the week 0
2018-02-26 15:55:04,575 - DEBUG - Yesterday is 02/23/2018
2018-02-26 15:55:04,576 - DEBUG - In Position is  0
2018-02-26 15:55:04,576 - DEBUG - In Position is  <class 'int'>
2018-02-26 15:55:04,576 - DEBUG - curStopLossFlag is  0
2018-02-26 15:55:04,576 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 15:55:04,577 - DEBUG - Checking if Entry has been filled
2018-02-26 15:55:04,577 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:55:04,578 - DEBUG - EntryPend is 1
2018-02-26 15:55:04,579 - DEBUG - Try to Cancel Stop
2018-02-26 15:55:04,579 - DEBUG - Stop API ID 0
2018-02-26 15:55:04,579 - DEBUG - Profit API ID 0
2018-02-26 15:55:04,579 - DEBUG - Stop API ID <class 'int'>
2018-02-26 15:55:04,579 - DEBUG - Profit API ID <class 'int'>
2018-02-26 15:55:04,580 - DEBUG - Pos is 0
2018-02-26 15:55:04,580 - DEBUG - CurCount is 0
2018-02-26 15:55:04,580 - DEBUG - In Pos 0
2018-02-26 15:55:04,580 - DEBUG - Stop ID is 0
2018-02-26 15:55:04,581 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 15:55:04,582 - DEBUG - EntryPend is 1
2018-02-26 15:55:04,582 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 15:55:04,582 - DEBUG - Entry Date is 10
2018-02-26 15:55:04,583 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 15:55:04,583 - DEBUG - Order Profit ID is 228
2018-02-26 15:55:04,583 - DEBUG - Order Entry ID is 228
2018-02-26 15:55:04,583 - DEBUG - API ID is  0
2018-02-26 15:55:04,584 - DEBUG - Current Position is 0
2018-02-26 15:55:04,584 - DEBUG - Current Position is <class 'str'>
2018-02-26 15:55:04,584 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 15:55:04,584 - DEBUG - Time is 15
2018-02-26 15:55:04,585 - DEBUG - Time is <class 'int'>
2018-02-26 15:55:04,585 - DEBUG - Disconnected from IBController
2018-02-26 15:55:04,585 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 16:00:00,306 - DEBUG - ****************************************************
2018-02-26 16:00:00,307 - DEBUG - Current Time is 04:00PM
2018-02-26 16:00:00,307 - DEBUG - Starting Pos Mgmt E S
2018-02-26 16:00:00,307 - DEBUG - Connecting to database
2018-02-26 16:00:00,982 - DEBUG - Connected to database
2018-02-26 16:00:00,982 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:00,984 - DEBUG - Order Profit is 228
2018-02-26 16:00:00,985 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:00,986 - DEBUG - Stop ID is 0
2018-02-26 16:00:00,986 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:00,988 - DEBUG - Entry ID is 228
2018-02-26 16:00:00,988 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 16:00:00,989 - DEBUG - OCA ID is 1
2018-02-26 16:00:00,990 - DEBUG - Connecting to IBController
2018-02-26 16:00:01,996 - DEBUG - Connected to IBController
2018-02-26 16:00:01,996 - DEBUG - Position requested
2018-02-26 16:00:01,998 - DEBUG - Pos Mgmt 0
2018-02-26 16:00:01,998 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CDA0>, pos=0, avgCost=0.0>
2018-02-26 16:00:01,998 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 16:00:01,999 - DEBUG - ccy2 Currency with position is USD
2018-02-26 16:00:01,999 - DEBUG - Position is 0
2018-02-26 16:00:01,999 - DEBUG - Pos Mgmt -12987
2018-02-26 16:00:02,000 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CB00>, pos=-12987, avgCost=0.95368235>
2018-02-26 16:00:02,000 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 16:00:02,000 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 16:00:02,001 - DEBUG - Position is -12987
2018-02-26 16:00:02,997 - DEBUG - Open Orders requested
2018-02-26 16:00:02,999 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 16:00:02,999 - DEBUG - Order OrderID 225
2018-02-26 16:00:03,000 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 16:00:03,000 - DEBUG - Order status PreSubmitted
2018-02-26 16:00:03,001 - DEBUG - Order Identification 225
2018-02-26 16:00:03,001 - DEBUG - Order Identification <class 'int'>
2018-02-26 16:00:03,001 - DEBUG - Profit ID from database is 228
2018-02-26 16:00:03,001 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 16:00:03,002 - DEBUG - Stop ID database is 0
2018-02-26 16:00:03,002 - DEBUG - Entry ID database is 228
2018-02-26 16:00:04,999 - DEBUG - Connecting to database
2018-02-26 16:00:05,008 - DEBUG - Connected to database
2018-02-26 16:00:05,010 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,010 - DEBUG - Stop loss value is 2731.25
2018-02-26 16:00:05,012 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,012 - DEBUG - Stop loss value is 2671.5
2018-02-26 16:00:05,014 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,014 - DEBUG - EntryPrice value is 2681.0
2018-02-26 16:00:05,015 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,015 - DEBUG - Stop quantity 1
2018-02-26 16:00:05,017 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,017 - DEBUG - Direction is Short
2018-02-26 16:00:05,019 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,019 - DEBUG - Count is 0
2018-02-26 16:00:05,020 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 16:00:05,021 - DEBUG - Stop Loss Flag is 0
2018-02-26 16:00:05,022 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 16:00:05,022 - DEBUG - Max ID Order is (231,)
2018-02-26 16:00:05,023 - DEBUG - Today is 2018-02-26
2018-02-26 16:00:05,023 - DEBUG - Day of the week 0
2018-02-26 16:00:05,023 - DEBUG - Yesterday is 02/23/2018
2018-02-26 16:00:05,024 - DEBUG - In Position is  0
2018-02-26 16:00:05,024 - DEBUG - In Position is  <class 'int'>
2018-02-26 16:00:05,024 - DEBUG - curStopLossFlag is  0
2018-02-26 16:00:05,024 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 16:00:05,024 - DEBUG - Checking if Entry has been filled
2018-02-26 16:00:05,025 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:00:05,027 - DEBUG - EntryPend is 1
2018-02-26 16:00:05,028 - DEBUG - Try to Cancel Stop
2018-02-26 16:00:05,028 - DEBUG - Stop API ID 0
2018-02-26 16:00:05,028 - DEBUG - Profit API ID 0
2018-02-26 16:00:05,028 - DEBUG - Stop API ID <class 'int'>
2018-02-26 16:00:05,029 - DEBUG - Profit API ID <class 'int'>
2018-02-26 16:00:05,029 - DEBUG - Pos is 0
2018-02-26 16:00:05,029 - DEBUG - CurCount is 0
2018-02-26 16:00:05,029 - DEBUG - In Pos 0
2018-02-26 16:00:05,030 - DEBUG - Stop ID is 0
2018-02-26 16:00:05,030 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:00:05,031 - DEBUG - EntryPend is 1
2018-02-26 16:00:05,031 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 16:00:05,032 - DEBUG - Entry Date is 10
2018-02-26 16:00:05,032 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 16:00:05,032 - DEBUG - Order Profit ID is 228
2018-02-26 16:00:05,033 - DEBUG - Order Entry ID is 228
2018-02-26 16:00:05,033 - DEBUG - API ID is  0
2018-02-26 16:00:05,033 - DEBUG - Current Position is 0
2018-02-26 16:00:05,033 - DEBUG - Current Position is <class 'str'>
2018-02-26 16:00:05,033 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 16:00:05,034 - DEBUG - Time is 16
2018-02-26 16:00:05,034 - DEBUG - Time is <class 'int'>
2018-02-26 16:00:05,034 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 16:00:05,035 - ERROR - Canceled Order 228
2018-02-26 16:00:05,035 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 228;
2018-02-26 16:00:05,051 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-26 16:00:05,067 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-26 16:00:05,081 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-26 16:00:05,096 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-26 16:00:05,115 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-26 16:00:05,131 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-26 16:00:05,145 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-26 16:00:05,162 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-26 16:00:05,177 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-26 16:00:05,193 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-26 16:00:05,210 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-26 16:00:05,226 - DEBUG - Disconnected from IBController
2018-02-26 16:00:05,227 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 16:05:00,272 - DEBUG - ****************************************************
2018-02-26 16:05:00,273 - DEBUG - Current Time is 04:05PM
2018-02-26 16:05:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-26 16:05:00,273 - DEBUG - Connecting to database
2018-02-26 16:05:00,579 - DEBUG - Connected to database
2018-02-26 16:05:00,579 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:00,581 - DEBUG - Order Profit is 0
2018-02-26 16:05:00,582 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:00,638 - DEBUG - Stop ID is 0
2018-02-26 16:05:00,638 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:00,667 - DEBUG - Entry ID is 0
2018-02-26 16:05:00,667 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 16:05:00,685 - DEBUG - OCA ID is 1
2018-02-26 16:05:00,686 - DEBUG - Connecting to IBController
2018-02-26 16:05:01,692 - DEBUG - Connected to IBController
2018-02-26 16:05:01,692 - DEBUG - Position requested
2018-02-26 16:05:01,696 - DEBUG - Pos Mgmt 0
2018-02-26 16:05:01,696 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD68>, pos=0, avgCost=0.0>
2018-02-26 16:05:01,697 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 16:05:01,697 - DEBUG - ccy2 Currency with position is USD
2018-02-26 16:05:01,697 - DEBUG - Position is 0
2018-02-26 16:05:01,698 - DEBUG - Pos Mgmt -12987
2018-02-26 16:05:01,698 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB70>, pos=-12987, avgCost=0.95368235>
2018-02-26 16:05:01,698 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 16:05:01,698 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 16:05:01,699 - DEBUG - Position is -12987
2018-02-26 16:05:02,696 - DEBUG - Open Orders requested
2018-02-26 16:05:02,698 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220B8>>
2018-02-26 16:05:02,699 - DEBUG - Order OrderID 225
2018-02-26 16:05:02,699 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 16:05:02,700 - DEBUG - Order status PreSubmitted
2018-02-26 16:05:02,700 - DEBUG - Order Identification 225
2018-02-26 16:05:02,700 - DEBUG - Order Identification <class 'int'>
2018-02-26 16:05:02,700 - DEBUG - Profit ID from database is 0
2018-02-26 16:05:02,701 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 16:05:02,701 - DEBUG - Stop ID database is 0
2018-02-26 16:05:02,702 - DEBUG - Entry ID database is 0
2018-02-26 16:05:04,698 - DEBUG - Connecting to database
2018-02-26 16:05:04,706 - DEBUG - Connected to database
2018-02-26 16:05:04,707 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,708 - DEBUG - Stop loss value is 0
2018-02-26 16:05:04,709 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,709 - DEBUG - Stop loss value is 0
2018-02-26 16:05:04,711 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,711 - DEBUG - EntryPrice value is 0
2018-02-26 16:05:04,713 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,713 - DEBUG - Stop quantity 0
2018-02-26 16:05:04,714 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,715 - DEBUG - Direction is 0
2018-02-26 16:05:04,716 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,716 - DEBUG - Count is 0
2018-02-26 16:05:04,718 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 16:05:04,718 - DEBUG - Stop Loss Flag is 0
2018-02-26 16:05:04,719 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 16:05:04,720 - DEBUG - Max ID Order is (231,)
2018-02-26 16:05:04,720 - DEBUG - Today is 2018-02-26
2018-02-26 16:05:04,721 - DEBUG - Day of the week 0
2018-02-26 16:05:04,721 - DEBUG - Yesterday is 02/23/2018
2018-02-26 16:05:04,721 - DEBUG - In Position is  0
2018-02-26 16:05:04,721 - DEBUG - In Position is  <class 'int'>
2018-02-26 16:05:04,722 - DEBUG - curStopLossFlag is  0
2018-02-26 16:05:04,722 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 16:05:04,722 - DEBUG - Checking if Entry has been filled
2018-02-26 16:05:04,722 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:05:04,724 - DEBUG - EntryPend is 0
2018-02-26 16:05:04,724 - DEBUG - Try to Cancel Stop
2018-02-26 16:05:04,724 - DEBUG - Stop API ID 0
2018-02-26 16:05:04,724 - DEBUG - Profit API ID 0
2018-02-26 16:05:04,725 - DEBUG - Stop API ID <class 'int'>
2018-02-26 16:05:04,725 - DEBUG - Profit API ID <class 'int'>
2018-02-26 16:05:04,725 - DEBUG - Pos is 0
2018-02-26 16:05:04,725 - DEBUG - CurCount is 0
2018-02-26 16:05:04,726 - DEBUG - In Pos 0
2018-02-26 16:05:04,726 - DEBUG - Stop ID is 0
2018-02-26 16:05:04,726 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:05:04,728 - DEBUG - EntryPend is 0
2018-02-26 16:05:04,728 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 16:05:04,728 - DEBUG - Entry Date is 10
2018-02-26 16:05:04,728 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 16:05:04,729 - DEBUG - Order Profit ID is 0
2018-02-26 16:05:04,729 - DEBUG - Order Entry ID is 0
2018-02-26 16:05:04,729 - DEBUG - API ID is  0
2018-02-26 16:05:04,729 - DEBUG - Current Position is 0
2018-02-26 16:05:04,729 - DEBUG - Current Position is <class 'str'>
2018-02-26 16:05:04,730 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 16:05:04,730 - DEBUG - Time is 16
2018-02-26 16:05:04,730 - DEBUG - Time is <class 'int'>
2018-02-26 16:05:04,730 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 16:05:04,731 - ERROR - Canceled Order 0
2018-02-26 16:05:04,731 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 16:05:04,746 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-26 16:05:04,761 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-26 16:05:04,775 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-26 16:05:04,796 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-26 16:05:04,811 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-26 16:05:04,826 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-26 16:05:04,841 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-26 16:05:04,856 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-26 16:05:04,871 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-26 16:05:04,885 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-26 16:05:04,899 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-26 16:05:04,915 - DEBUG - Disconnected from IBController
2018-02-26 16:05:04,915 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 16:10:00,264 - DEBUG - ****************************************************
2018-02-26 16:10:00,264 - DEBUG - Current Time is 04:10PM
2018-02-26 16:10:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-26 16:10:00,265 - DEBUG - Connecting to database
2018-02-26 16:10:00,543 - DEBUG - Connected to database
2018-02-26 16:10:00,543 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:00,564 - DEBUG - Order Profit is 0
2018-02-26 16:10:00,564 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:00,610 - DEBUG - Stop ID is 0
2018-02-26 16:10:00,611 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:00,640 - DEBUG - Entry ID is 0
2018-02-26 16:10:00,640 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 16:10:00,659 - DEBUG - OCA ID is 1
2018-02-26 16:10:00,660 - DEBUG - Connecting to IBController
2018-02-26 16:10:01,666 - DEBUG - Connected to IBController
2018-02-26 16:10:01,666 - DEBUG - Position requested
2018-02-26 16:10:01,668 - DEBUG - Pos Mgmt 0
2018-02-26 16:10:01,668 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, pos=0, avgCost=0.0>
2018-02-26 16:10:01,669 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 16:10:01,669 - DEBUG - ccy2 Currency with position is USD
2018-02-26 16:10:01,669 - DEBUG - Position is 0
2018-02-26 16:10:01,670 - DEBUG - Pos Mgmt -12987
2018-02-26 16:10:01,670 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 16:10:01,670 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 16:10:01,670 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 16:10:01,671 - DEBUG - Position is -12987
2018-02-26 16:10:02,667 - DEBUG - Open Orders requested
2018-02-26 16:10:02,669 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, order=<ib.ext.Order.Order object at 0x000000000205DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1048>>
2018-02-26 16:10:02,669 - DEBUG - Order OrderID 225
2018-02-26 16:10:02,670 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 16:10:02,670 - DEBUG - Order status PreSubmitted
2018-02-26 16:10:02,670 - DEBUG - Order Identification 225
2018-02-26 16:10:02,671 - DEBUG - Order Identification <class 'int'>
2018-02-26 16:10:02,671 - DEBUG - Profit ID from database is 0
2018-02-26 16:10:02,671 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 16:10:02,672 - DEBUG - Stop ID database is 0
2018-02-26 16:10:02,672 - DEBUG - Entry ID database is 0
2018-02-26 16:10:04,668 - DEBUG - Connecting to database
2018-02-26 16:10:04,677 - DEBUG - Connected to database
2018-02-26 16:10:04,678 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,678 - DEBUG - Stop loss value is 0
2018-02-26 16:10:04,680 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,680 - DEBUG - Stop loss value is 0
2018-02-26 16:10:04,682 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,682 - DEBUG - EntryPrice value is 0
2018-02-26 16:10:04,683 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,684 - DEBUG - Stop quantity 0
2018-02-26 16:10:04,685 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,686 - DEBUG - Direction is 0
2018-02-26 16:10:04,687 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,687 - DEBUG - Count is 0
2018-02-26 16:10:04,689 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-26 16:10:04,689 - DEBUG - Stop Loss Flag is 0
2018-02-26 16:10:04,690 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 16:10:04,691 - DEBUG - Max ID Order is (231,)
2018-02-26 16:10:04,691 - DEBUG - Today is 2018-02-26
2018-02-26 16:10:04,692 - DEBUG - Day of the week 0
2018-02-26 16:10:04,692 - DEBUG - Yesterday is 02/23/2018
2018-02-26 16:10:04,692 - DEBUG - In Position is  0
2018-02-26 16:10:04,692 - DEBUG - In Position is  <class 'int'>
2018-02-26 16:10:04,693 - DEBUG - curStopLossFlag is  0
2018-02-26 16:10:04,693 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 16:10:04,693 - DEBUG - Checking if Entry has been filled
2018-02-26 16:10:04,693 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:10:04,695 - DEBUG - EntryPend is 0
2018-02-26 16:10:04,695 - DEBUG - Try to Cancel Stop
2018-02-26 16:10:04,695 - DEBUG - Stop API ID 0
2018-02-26 16:10:04,696 - DEBUG - Profit API ID 0
2018-02-26 16:10:04,696 - DEBUG - Stop API ID <class 'int'>
2018-02-26 16:10:04,696 - DEBUG - Profit API ID <class 'int'>
2018-02-26 16:10:04,696 - DEBUG - Pos is 0
2018-02-26 16:10:04,696 - DEBUG - CurCount is 0
2018-02-26 16:10:04,697 - DEBUG - In Pos 0
2018-02-26 16:10:04,697 - DEBUG - Stop ID is 0
2018-02-26 16:10:04,697 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-26 16:10:04,699 - DEBUG - EntryPend is 0
2018-02-26 16:10:04,699 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 16:10:04,699 - DEBUG - Entry Date is 10
2018-02-26 16:10:04,699 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 16:10:04,699 - DEBUG - Order Profit ID is 0
2018-02-26 16:10:04,700 - DEBUG - Order Entry ID is 0
2018-02-26 16:10:04,700 - DEBUG - API ID is  0
2018-02-26 16:10:04,700 - DEBUG - Current Position is 0
2018-02-26 16:10:04,700 - DEBUG - Current Position is <class 'str'>
2018-02-26 16:10:04,701 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 16:10:04,701 - DEBUG - Time is 16
2018-02-26 16:10:04,701 - DEBUG - Time is <class 'int'>
2018-02-26 16:10:04,701 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 16:10:04,702 - ERROR - Canceled Order 0
2018-02-26 16:10:04,702 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 16:10:04,718 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-26 16:10:04,732 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-26 16:10:04,747 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-26 16:10:04,763 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-26 16:10:04,777 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-26 16:10:04,792 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-26 16:10:04,811 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-26 16:10:04,825 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-26 16:10:04,840 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-26 16:10:04,854 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-26 16:10:04,870 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-26 16:10:04,884 - DEBUG - Disconnected from IBController
2018-02-26 16:10:04,885 - DEBUG - END POS MGMT SCRIPT :-!
