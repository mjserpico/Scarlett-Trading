2018-01-22 09:38:07,425 - DEBUG - ****************************************************
2018-01-22 09:38:07,425 - DEBUG - Current Time is 09:38AM
2018-01-22 09:38:07,426 - DEBUG - Starting Pos Mgmt H E
2018-01-22 09:38:07,426 - DEBUG - Connecting to database
2018-01-22 09:38:07,459 - DEBUG - Connected to database
2018-01-22 09:38:07,460 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:07,461 - DEBUG - Order Profit is 0
2018-01-22 09:38:07,461 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:07,463 - DEBUG - Stop ID is 0
2018-01-22 09:38:07,463 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:07,465 - DEBUG - Entry ID is 0
2018-01-22 09:38:07,465 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 09:38:07,467 - DEBUG - OCA ID is 1
2018-01-22 09:38:07,468 - DEBUG - Connecting to IBController
2018-01-22 09:38:08,471 - DEBUG - Connected to IBController
2018-01-22 09:38:08,471 - DEBUG - Position requested
2018-01-22 09:38:08,473 - DEBUG - Pos Mgmt -12987
2018-01-22 09:38:08,474 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 09:38:08,474 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 09:38:08,474 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 09:38:08,475 - DEBUG - Position is -12987
2018-01-22 09:38:08,475 - DEBUG - Pos Mgmt 1
2018-01-22 09:38:08,475 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BA58>, pos=1, avgCost=48882.9>
2018-01-22 09:38:08,476 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 09:38:08,476 - DEBUG - ccy2 Currency with position is USD
2018-01-22 09:38:08,476 - DEBUG - Position is 1
2018-01-22 09:38:08,707 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211BCF8>, order=<ib.ext.Order.Order object at 0x000000000211BDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B0080>>
2018-01-22 09:38:08,708 - DEBUG - Order OrderID 116
2018-01-22 09:38:08,708 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:38:08,709 - DEBUG - Order status PreSubmitted
2018-01-22 09:38:08,709 - DEBUG - Order Identification 116
2018-01-22 09:38:08,709 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:38:08,709 - DEBUG - Profit ID from database is 0
2018-01-22 09:38:08,710 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:38:08,710 - DEBUG - Stop ID database is 0
2018-01-22 09:38:08,710 - DEBUG - Entry ID database is 0
2018-01-22 09:38:09,472 - DEBUG - Open Orders requested
2018-01-22 09:38:09,478 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211BFD0>, order=<ib.ext.Order.Order object at 0x000000000211BF60>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B00F0>>
2018-01-22 09:38:09,479 - DEBUG - Order OrderID 116
2018-01-22 09:38:09,479 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:38:09,479 - DEBUG - Order status PreSubmitted
2018-01-22 09:38:09,480 - DEBUG - Order Identification 116
2018-01-22 09:38:09,486 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:38:09,486 - DEBUG - Profit ID from database is 0
2018-01-22 09:38:09,486 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:38:09,486 - DEBUG - Stop ID database is 0
2018-01-22 09:38:09,486 - DEBUG - Entry ID database is 0
2018-01-22 09:38:11,477 - DEBUG - Connecting to database
2018-01-22 09:38:11,484 - DEBUG - Connected to database
2018-01-22 09:38:11,485 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,486 - DEBUG - Stop loss value is 0
2018-01-22 09:38:11,487 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,487 - DEBUG - Stop loss value is 0
2018-01-22 09:38:11,489 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,489 - DEBUG - EntryPrice value is 0
2018-01-22 09:38:11,490 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,491 - DEBUG - Stop quantity 0
2018-01-22 09:38:11,492 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,492 - DEBUG - Direction is 0
2018-01-22 09:38:11,494 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,494 - DEBUG - Count is 0
2018-01-22 09:38:11,497 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 09:38:11,497 - DEBUG - Stop Loss Flag is 0
2018-01-22 09:38:11,499 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 09:38:11,499 - DEBUG - Max ID Order is (116,)
2018-01-22 09:38:11,500 - DEBUG - Today is 2018-01-22
2018-01-22 09:38:11,500 - DEBUG - Day of the week 0
2018-01-22 09:38:11,500 - DEBUG - Yesterday is 01/19/2018
2018-01-22 09:38:11,500 - DEBUG - In Position is  0
2018-01-22 09:38:11,501 - DEBUG - In Position is  <class 'int'>
2018-01-22 09:38:11,501 - DEBUG - curStopLossFlag is  0
2018-01-22 09:38:11,501 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 09:38:11,501 - DEBUG - Checking if Entry has been filled
2018-01-22 09:38:11,502 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:38:11,503 - DEBUG - EntryPend is 0
2018-01-22 09:38:11,503 - DEBUG - Try to Cancel Stop
2018-01-22 09:38:11,503 - DEBUG - Stop API ID 0
2018-01-22 09:38:11,504 - DEBUG - Profit API ID 0
2018-01-22 09:38:11,504 - DEBUG - Stop API ID <class 'int'>
2018-01-22 09:38:11,504 - DEBUG - Profit API ID <class 'int'>
2018-01-22 09:38:11,504 - DEBUG - Pos is 0
2018-01-22 09:38:11,505 - DEBUG - CurCount is 0
2018-01-22 09:38:11,505 - DEBUG - In Pos 0
2018-01-22 09:38:11,505 - DEBUG - Stop ID is 0
2018-01-22 09:38:11,505 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:38:11,507 - DEBUG - EntryPend is 0
2018-01-22 09:38:11,507 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 09:38:11,507 - DEBUG - Entry Date is 10
2018-01-22 09:38:11,507 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 09:38:11,507 - DEBUG - Order Profit ID is 0
2018-01-22 09:38:11,508 - DEBUG - Order Entry ID is 0
2018-01-22 09:38:11,508 - DEBUG - API ID is  0
2018-01-22 09:38:11,508 - DEBUG - Current Position is 0
2018-01-22 09:38:11,508 - DEBUG - Current Position is <class 'str'>
2018-01-22 09:38:11,509 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 09:38:11,509 - DEBUG - Time is 9
2018-01-22 09:38:11,509 - DEBUG - Time is <class 'int'>
2018-01-22 09:38:11,509 - DEBUG - Time is 38
2018-01-22 09:38:11,509 - DEBUG - Time is <class 'int'>
2018-01-22 09:38:11,510 - DEBUG - Disconnected from IBController
2018-01-22 09:38:11,511 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 09:43:05,360 - DEBUG - ****************************************************
2018-01-22 09:43:05,360 - DEBUG - Current Time is 09:43AM
2018-01-22 09:43:05,361 - DEBUG - Starting Pos Mgmt H E
2018-01-22 09:43:05,361 - DEBUG - Connecting to database
2018-01-22 09:43:05,388 - DEBUG - Connected to database
2018-01-22 09:43:05,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:05,390 - DEBUG - Order Profit is 0
2018-01-22 09:43:05,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:05,392 - DEBUG - Stop ID is 0
2018-01-22 09:43:05,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:05,393 - DEBUG - Entry ID is 0
2018-01-22 09:43:05,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 09:43:05,395 - DEBUG - OCA ID is 1
2018-01-22 09:43:05,396 - DEBUG - Connecting to IBController
2018-01-22 09:43:06,404 - DEBUG - Connected to IBController
2018-01-22 09:43:06,404 - DEBUG - Position requested
2018-01-22 09:43:06,406 - DEBUG - Pos Mgmt -12987
2018-01-22 09:43:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 09:43:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 09:43:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 09:43:06,407 - DEBUG - Position is -12987
2018-01-22 09:43:06,408 - DEBUG - Pos Mgmt 1
2018-01-22 09:43:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA58>, pos=1, avgCost=48882.9>
2018-01-22 09:43:06,408 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 09:43:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-22 09:43:06,409 - DEBUG - Position is 1
2018-01-22 09:43:07,406 - DEBUG - Open Orders requested
2018-01-22 09:43:07,412 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CCC0>, order=<ib.ext.Order.Order object at 0x000000000211CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-22 09:43:07,417 - DEBUG - Order OrderID 116
2018-01-22 09:43:07,421 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:43:07,421 - DEBUG - Order status PreSubmitted
2018-01-22 09:43:07,422 - DEBUG - Order Identification 116
2018-01-22 09:43:07,422 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:43:07,422 - DEBUG - Profit ID from database is 0
2018-01-22 09:43:07,422 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:43:07,423 - DEBUG - Stop ID database is 0
2018-01-22 09:43:07,423 - DEBUG - Entry ID database is 0
2018-01-22 09:43:08,533 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CCC0>, order=<ib.ext.Order.Order object at 0x000000000211CFD0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1198>>
2018-01-22 09:43:08,537 - DEBUG - Order OrderID 116
2018-01-22 09:43:08,540 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:43:08,540 - DEBUG - Order status PreSubmitted
2018-01-22 09:43:08,540 - DEBUG - Order Identification 116
2018-01-22 09:43:08,541 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:43:08,541 - DEBUG - Profit ID from database is 0
2018-01-22 09:43:08,541 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:43:08,541 - DEBUG - Stop ID database is 0
2018-01-22 09:43:08,542 - DEBUG - Entry ID database is 0
2018-01-22 09:43:08,743 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CCC0>, order=<ib.ext.Order.Order object at 0x000000000211CFD0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1240>>
2018-01-22 09:43:08,743 - DEBUG - Order OrderID 116
2018-01-22 09:43:08,743 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:43:08,744 - DEBUG - Order status PreSubmitted
2018-01-22 09:43:08,744 - DEBUG - Order Identification 116
2018-01-22 09:43:08,744 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:43:08,744 - DEBUG - Profit ID from database is 0
2018-01-22 09:43:08,745 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:43:08,745 - DEBUG - Stop ID database is 0
2018-01-22 09:43:08,745 - DEBUG - Entry ID database is 0
2018-01-22 09:43:08,746 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CCC0>, order=<ib.ext.Order.Order object at 0x000000000211CFD0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1320>>
2018-01-22 09:43:08,747 - DEBUG - Order OrderID 116
2018-01-22 09:43:08,747 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:43:08,747 - DEBUG - Order status PreSubmitted
2018-01-22 09:43:08,748 - DEBUG - Order Identification 116
2018-01-22 09:43:08,748 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:43:08,748 - DEBUG - Profit ID from database is 0
2018-01-22 09:43:08,748 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:43:08,749 - DEBUG - Stop ID database is 0
2018-01-22 09:43:08,749 - DEBUG - Entry ID database is 0
2018-01-22 09:43:09,406 - DEBUG - Connecting to database
2018-01-22 09:43:09,413 - DEBUG - Connected to database
2018-01-22 09:43:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,414 - DEBUG - Stop loss value is 0
2018-01-22 09:43:09,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,416 - DEBUG - Stop loss value is 0
2018-01-22 09:43:09,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,418 - DEBUG - EntryPrice value is 0
2018-01-22 09:43:09,419 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,419 - DEBUG - Stop quantity 0
2018-01-22 09:43:09,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,421 - DEBUG - Direction is 0
2018-01-22 09:43:09,422 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,423 - DEBUG - Count is 0
2018-01-22 09:43:09,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 09:43:09,424 - DEBUG - Stop Loss Flag is 0
2018-01-22 09:43:09,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 09:43:09,426 - DEBUG - Max ID Order is (116,)
2018-01-22 09:43:09,426 - DEBUG - Today is 2018-01-22
2018-01-22 09:43:09,427 - DEBUG - Day of the week 0
2018-01-22 09:43:09,427 - DEBUG - Yesterday is 01/19/2018
2018-01-22 09:43:09,427 - DEBUG - In Position is  0
2018-01-22 09:43:09,427 - DEBUG - In Position is  <class 'int'>
2018-01-22 09:43:09,428 - DEBUG - curStopLossFlag is  0
2018-01-22 09:43:09,428 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 09:43:09,428 - DEBUG - Checking if Entry has been filled
2018-01-22 09:43:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:43:09,430 - DEBUG - EntryPend is 0
2018-01-22 09:43:09,430 - DEBUG - Try to Cancel Stop
2018-01-22 09:43:09,430 - DEBUG - Stop API ID 0
2018-01-22 09:43:09,430 - DEBUG - Profit API ID 0
2018-01-22 09:43:09,431 - DEBUG - Stop API ID <class 'int'>
2018-01-22 09:43:09,431 - DEBUG - Profit API ID <class 'int'>
2018-01-22 09:43:09,431 - DEBUG - Pos is 0
2018-01-22 09:43:09,431 - DEBUG - CurCount is 0
2018-01-22 09:43:09,432 - DEBUG - In Pos 0
2018-01-22 09:43:09,432 - DEBUG - Stop ID is 0
2018-01-22 09:43:09,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:43:09,433 - DEBUG - EntryPend is 0
2018-01-22 09:43:09,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 09:43:09,434 - DEBUG - Entry Date is 10
2018-01-22 09:43:09,434 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 09:43:09,434 - DEBUG - Order Profit ID is 0
2018-01-22 09:43:09,435 - DEBUG - Order Entry ID is 0
2018-01-22 09:43:09,435 - DEBUG - API ID is  0
2018-01-22 09:43:09,435 - DEBUG - Current Position is 0
2018-01-22 09:43:09,435 - DEBUG - Current Position is <class 'str'>
2018-01-22 09:43:09,435 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 09:43:09,436 - DEBUG - Time is 9
2018-01-22 09:43:09,436 - DEBUG - Time is <class 'int'>
2018-01-22 09:43:09,436 - DEBUG - Time is 43
2018-01-22 09:43:09,436 - DEBUG - Time is <class 'int'>
2018-01-22 09:43:09,437 - DEBUG - Disconnected from IBController
2018-01-22 09:43:09,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 09:48:05,387 - DEBUG - ****************************************************
2018-01-22 09:48:05,387 - DEBUG - Current Time is 09:48AM
2018-01-22 09:48:05,388 - DEBUG - Starting Pos Mgmt H E
2018-01-22 09:48:05,388 - DEBUG - Connecting to database
2018-01-22 09:48:05,410 - DEBUG - Connected to database
2018-01-22 09:48:05,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:05,412 - DEBUG - Order Profit is 0
2018-01-22 09:48:05,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:05,414 - DEBUG - Stop ID is 0
2018-01-22 09:48:05,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:05,416 - DEBUG - Entry ID is 0
2018-01-22 09:48:05,416 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 09:48:05,417 - DEBUG - OCA ID is 1
2018-01-22 09:48:05,418 - DEBUG - Connecting to IBController
2018-01-22 09:48:06,422 - DEBUG - Connected to IBController
2018-01-22 09:48:06,422 - DEBUG - Position requested
2018-01-22 09:48:06,424 - DEBUG - Pos Mgmt -12987
2018-01-22 09:48:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 09:48:06,425 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 09:48:06,425 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 09:48:06,425 - DEBUG - Position is -12987
2018-01-22 09:48:06,426 - DEBUG - Pos Mgmt 1
2018-01-22 09:48:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CAC8>, pos=1, avgCost=48882.9>
2018-01-22 09:48:06,426 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 09:48:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-22 09:48:06,427 - DEBUG - Position is 1
2018-01-22 09:48:07,424 - DEBUG - Open Orders requested
2018-01-22 09:48:07,427 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CD30>, order=<ib.ext.Order.Order object at 0x000000000211CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B10F0>>
2018-01-22 09:48:07,428 - DEBUG - Order OrderID 116
2018-01-22 09:48:07,428 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:48:07,429 - DEBUG - Order status PreSubmitted
2018-01-22 09:48:07,429 - DEBUG - Order Identification 116
2018-01-22 09:48:07,429 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:48:07,429 - DEBUG - Profit ID from database is 0
2018-01-22 09:48:07,430 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:48:07,430 - DEBUG - Stop ID database is 0
2018-01-22 09:48:07,430 - DEBUG - Entry ID database is 0
2018-01-22 09:48:09,429 - DEBUG - Connecting to database
2018-01-22 09:48:09,436 - DEBUG - Connected to database
2018-01-22 09:48:09,438 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,439 - DEBUG - Stop loss value is 0
2018-01-22 09:48:09,440 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,441 - DEBUG - Stop loss value is 0
2018-01-22 09:48:09,442 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,442 - DEBUG - EntryPrice value is 0
2018-01-22 09:48:09,444 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,444 - DEBUG - Stop quantity 0
2018-01-22 09:48:09,445 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,446 - DEBUG - Direction is 0
2018-01-22 09:48:09,447 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,447 - DEBUG - Count is 0
2018-01-22 09:48:09,449 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 09:48:09,449 - DEBUG - Stop Loss Flag is 0
2018-01-22 09:48:09,450 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 09:48:09,451 - DEBUG - Max ID Order is (116,)
2018-01-22 09:48:09,451 - DEBUG - Today is 2018-01-22
2018-01-22 09:48:09,451 - DEBUG - Day of the week 0
2018-01-22 09:48:09,452 - DEBUG - Yesterday is 01/19/2018
2018-01-22 09:48:09,452 - DEBUG - In Position is  0
2018-01-22 09:48:09,452 - DEBUG - In Position is  <class 'int'>
2018-01-22 09:48:09,452 - DEBUG - curStopLossFlag is  0
2018-01-22 09:48:09,453 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 09:48:09,453 - DEBUG - Checking if Entry has been filled
2018-01-22 09:48:09,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:48:09,455 - DEBUG - EntryPend is 0
2018-01-22 09:48:09,455 - DEBUG - Try to Cancel Stop
2018-01-22 09:48:09,455 - DEBUG - Stop API ID 0
2018-01-22 09:48:09,455 - DEBUG - Profit API ID 0
2018-01-22 09:48:09,455 - DEBUG - Stop API ID <class 'int'>
2018-01-22 09:48:09,456 - DEBUG - Profit API ID <class 'int'>
2018-01-22 09:48:09,456 - DEBUG - Pos is 0
2018-01-22 09:48:09,456 - DEBUG - CurCount is 0
2018-01-22 09:48:09,456 - DEBUG - In Pos 0
2018-01-22 09:48:09,456 - DEBUG - Stop ID is 0
2018-01-22 09:48:09,457 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:48:09,458 - DEBUG - EntryPend is 0
2018-01-22 09:48:09,458 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 09:48:09,459 - DEBUG - Entry Date is 10
2018-01-22 09:48:09,459 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 09:48:09,459 - DEBUG - Order Profit ID is 0
2018-01-22 09:48:09,459 - DEBUG - Order Entry ID is 0
2018-01-22 09:48:09,459 - DEBUG - API ID is  0
2018-01-22 09:48:09,460 - DEBUG - Current Position is 0
2018-01-22 09:48:09,460 - DEBUG - Current Position is <class 'str'>
2018-01-22 09:48:09,460 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 09:48:09,460 - DEBUG - Time is 9
2018-01-22 09:48:09,460 - DEBUG - Time is <class 'int'>
2018-01-22 09:48:09,461 - DEBUG - Time is 48
2018-01-22 09:48:09,461 - DEBUG - Time is <class 'int'>
2018-01-22 09:48:09,461 - DEBUG - Disconnected from IBController
2018-01-22 09:48:09,461 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 09:53:05,382 - DEBUG - ****************************************************
2018-01-22 09:53:05,383 - DEBUG - Current Time is 09:53AM
2018-01-22 09:53:05,383 - DEBUG - Starting Pos Mgmt H E
2018-01-22 09:53:05,384 - DEBUG - Connecting to database
2018-01-22 09:53:05,400 - DEBUG - Connected to database
2018-01-22 09:53:05,400 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:05,402 - DEBUG - Order Profit is 0
2018-01-22 09:53:05,402 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:05,404 - DEBUG - Stop ID is 0
2018-01-22 09:53:05,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:05,405 - DEBUG - Entry ID is 0
2018-01-22 09:53:05,406 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 09:53:05,407 - DEBUG - OCA ID is 1
2018-01-22 09:53:05,407 - DEBUG - Connecting to IBController
2018-01-22 09:53:06,412 - DEBUG - Connected to IBController
2018-01-22 09:53:06,412 - DEBUG - Position requested
2018-01-22 09:53:06,414 - DEBUG - Pos Mgmt -12987
2018-01-22 09:53:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 09:53:06,414 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 09:53:06,415 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 09:53:06,415 - DEBUG - Position is -12987
2018-01-22 09:53:06,415 - DEBUG - Pos Mgmt 1
2018-01-22 09:53:06,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA58>, pos=1, avgCost=48882.9>
2018-01-22 09:53:06,416 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 09:53:06,416 - DEBUG - ccy2 Currency with position is USD
2018-01-22 09:53:06,416 - DEBUG - Position is 1
2018-01-22 09:53:07,413 - DEBUG - Open Orders requested
2018-01-22 09:53:07,415 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CCF8>, order=<ib.ext.Order.Order object at 0x000000000211CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-22 09:53:07,416 - DEBUG - Order OrderID 116
2018-01-22 09:53:07,416 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:53:07,416 - DEBUG - Order status PreSubmitted
2018-01-22 09:53:07,417 - DEBUG - Order Identification 116
2018-01-22 09:53:07,417 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:53:07,417 - DEBUG - Profit ID from database is 0
2018-01-22 09:53:07,417 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:53:07,418 - DEBUG - Stop ID database is 0
2018-01-22 09:53:07,418 - DEBUG - Entry ID database is 0
2018-01-22 09:53:09,414 - DEBUG - Connecting to database
2018-01-22 09:53:09,421 - DEBUG - Connected to database
2018-01-22 09:53:09,422 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,423 - DEBUG - Stop loss value is 0
2018-01-22 09:53:09,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,424 - DEBUG - Stop loss value is 0
2018-01-22 09:53:09,426 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,426 - DEBUG - EntryPrice value is 0
2018-01-22 09:53:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,427 - DEBUG - Stop quantity 0
2018-01-22 09:53:09,429 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,429 - DEBUG - Direction is 0
2018-01-22 09:53:09,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,431 - DEBUG - Count is 0
2018-01-22 09:53:09,432 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 09:53:09,432 - DEBUG - Stop Loss Flag is 0
2018-01-22 09:53:09,434 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 09:53:09,434 - DEBUG - Max ID Order is (116,)
2018-01-22 09:53:09,434 - DEBUG - Today is 2018-01-22
2018-01-22 09:53:09,435 - DEBUG - Day of the week 0
2018-01-22 09:53:09,435 - DEBUG - Yesterday is 01/19/2018
2018-01-22 09:53:09,435 - DEBUG - In Position is  0
2018-01-22 09:53:09,435 - DEBUG - In Position is  <class 'int'>
2018-01-22 09:53:09,436 - DEBUG - curStopLossFlag is  0
2018-01-22 09:53:09,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 09:53:09,436 - DEBUG - Checking if Entry has been filled
2018-01-22 09:53:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:53:09,438 - DEBUG - EntryPend is 0
2018-01-22 09:53:09,438 - DEBUG - Try to Cancel Stop
2018-01-22 09:53:09,438 - DEBUG - Stop API ID 0
2018-01-22 09:53:09,438 - DEBUG - Profit API ID 0
2018-01-22 09:53:09,438 - DEBUG - Stop API ID <class 'int'>
2018-01-22 09:53:09,439 - DEBUG - Profit API ID <class 'int'>
2018-01-22 09:53:09,439 - DEBUG - Pos is 0
2018-01-22 09:53:09,439 - DEBUG - CurCount is 0
2018-01-22 09:53:09,439 - DEBUG - In Pos 0
2018-01-22 09:53:09,440 - DEBUG - Stop ID is 0
2018-01-22 09:53:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:53:09,441 - DEBUG - EntryPend is 0
2018-01-22 09:53:09,441 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 09:53:09,442 - DEBUG - Entry Date is 10
2018-01-22 09:53:09,442 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 09:53:09,442 - DEBUG - Order Profit ID is 0
2018-01-22 09:53:09,442 - DEBUG - Order Entry ID is 0
2018-01-22 09:53:09,442 - DEBUG - API ID is  0
2018-01-22 09:53:09,443 - DEBUG - Current Position is 0
2018-01-22 09:53:09,443 - DEBUG - Current Position is <class 'str'>
2018-01-22 09:53:09,443 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 09:53:09,443 - DEBUG - Time is 9
2018-01-22 09:53:09,444 - DEBUG - Time is <class 'int'>
2018-01-22 09:53:09,444 - DEBUG - Time is 53
2018-01-22 09:53:09,444 - DEBUG - Time is <class 'int'>
2018-01-22 09:53:09,444 - DEBUG - Disconnected from IBController
2018-01-22 09:53:09,445 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 09:58:05,351 - DEBUG - ****************************************************
2018-01-22 09:58:05,351 - DEBUG - Current Time is 09:58AM
2018-01-22 09:58:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-22 09:58:05,352 - DEBUG - Connecting to database
2018-01-22 09:58:05,373 - DEBUG - Connected to database
2018-01-22 09:58:05,373 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:05,375 - DEBUG - Order Profit is 0
2018-01-22 09:58:05,375 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:05,376 - DEBUG - Stop ID is 0
2018-01-22 09:58:05,376 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:05,378 - DEBUG - Entry ID is 0
2018-01-22 09:58:05,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 09:58:05,379 - DEBUG - OCA ID is 1
2018-01-22 09:58:05,380 - DEBUG - Connecting to IBController
2018-01-22 09:58:06,383 - DEBUG - Connected to IBController
2018-01-22 09:58:06,383 - DEBUG - Position requested
2018-01-22 09:58:06,385 - DEBUG - Pos Mgmt -12987
2018-01-22 09:58:06,385 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 09:58:06,386 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 09:58:06,386 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 09:58:06,386 - DEBUG - Position is -12987
2018-01-22 09:58:06,386 - DEBUG - Pos Mgmt 1
2018-01-22 09:58:06,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDA58>, pos=1, avgCost=48882.9>
2018-01-22 09:58:06,387 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 09:58:06,387 - DEBUG - ccy2 Currency with position is USD
2018-01-22 09:58:06,387 - DEBUG - Position is 1
2018-01-22 09:58:07,384 - DEBUG - Open Orders requested
2018-01-22 09:58:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020DDDD8>, order=<ib.ext.Order.Order object at 0x00000000020DDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021720F0>>
2018-01-22 09:58:07,387 - DEBUG - Order OrderID 116
2018-01-22 09:58:07,388 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 09:58:07,388 - DEBUG - Order status PreSubmitted
2018-01-22 09:58:07,388 - DEBUG - Order Identification 116
2018-01-22 09:58:07,388 - DEBUG - Order Identification <class 'int'>
2018-01-22 09:58:07,389 - DEBUG - Profit ID from database is 0
2018-01-22 09:58:07,389 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 09:58:07,389 - DEBUG - Stop ID database is 0
2018-01-22 09:58:07,389 - DEBUG - Entry ID database is 0
2018-01-22 09:58:09,387 - DEBUG - Connecting to database
2018-01-22 09:58:09,394 - DEBUG - Connected to database
2018-01-22 09:58:09,395 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,396 - DEBUG - Stop loss value is 0
2018-01-22 09:58:09,397 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,398 - DEBUG - Stop loss value is 0
2018-01-22 09:58:09,399 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,399 - DEBUG - EntryPrice value is 0
2018-01-22 09:58:09,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,401 - DEBUG - Stop quantity 0
2018-01-22 09:58:09,402 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,403 - DEBUG - Direction is 0
2018-01-22 09:58:09,404 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,404 - DEBUG - Count is 0
2018-01-22 09:58:09,405 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 09:58:09,406 - DEBUG - Stop Loss Flag is 0
2018-01-22 09:58:09,407 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 09:58:09,407 - DEBUG - Max ID Order is (116,)
2018-01-22 09:58:09,408 - DEBUG - Today is 2018-01-22
2018-01-22 09:58:09,408 - DEBUG - Day of the week 0
2018-01-22 09:58:09,408 - DEBUG - Yesterday is 01/19/2018
2018-01-22 09:58:09,408 - DEBUG - In Position is  0
2018-01-22 09:58:09,409 - DEBUG - In Position is  <class 'int'>
2018-01-22 09:58:09,409 - DEBUG - curStopLossFlag is  0
2018-01-22 09:58:09,409 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 09:58:09,409 - DEBUG - Checking if Entry has been filled
2018-01-22 09:58:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:58:09,411 - DEBUG - EntryPend is 0
2018-01-22 09:58:09,411 - DEBUG - Try to Cancel Stop
2018-01-22 09:58:09,411 - DEBUG - Stop API ID 0
2018-01-22 09:58:09,412 - DEBUG - Profit API ID 0
2018-01-22 09:58:09,412 - DEBUG - Stop API ID <class 'int'>
2018-01-22 09:58:09,412 - DEBUG - Profit API ID <class 'int'>
2018-01-22 09:58:09,412 - DEBUG - Pos is 0
2018-01-22 09:58:09,413 - DEBUG - CurCount is 0
2018-01-22 09:58:09,413 - DEBUG - In Pos 0
2018-01-22 09:58:09,413 - DEBUG - Stop ID is 0
2018-01-22 09:58:09,413 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 09:58:09,415 - DEBUG - EntryPend is 0
2018-01-22 09:58:09,415 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 09:58:09,415 - DEBUG - Entry Date is 10
2018-01-22 09:58:09,415 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 09:58:09,416 - DEBUG - Order Profit ID is 0
2018-01-22 09:58:09,416 - DEBUG - Order Entry ID is 0
2018-01-22 09:58:09,416 - DEBUG - API ID is  0
2018-01-22 09:58:09,416 - DEBUG - Current Position is 0
2018-01-22 09:58:09,416 - DEBUG - Current Position is <class 'str'>
2018-01-22 09:58:09,417 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 09:58:09,417 - DEBUG - Time is 9
2018-01-22 09:58:09,417 - DEBUG - Time is <class 'int'>
2018-01-22 09:58:09,417 - DEBUG - Time is 58
2018-01-22 09:58:09,418 - DEBUG - Time is <class 'int'>
2018-01-22 09:58:09,418 - DEBUG - Disconnected from IBController
2018-01-22 09:58:09,418 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:03:05,372 - DEBUG - ****************************************************
2018-01-22 10:03:05,373 - DEBUG - Current Time is 10:03AM
2018-01-22 10:03:05,373 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:03:05,373 - DEBUG - Connecting to database
2018-01-22 10:03:05,391 - DEBUG - Connected to database
2018-01-22 10:03:05,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:05,393 - DEBUG - Order Profit is 0
2018-01-22 10:03:05,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:05,395 - DEBUG - Stop ID is 0
2018-01-22 10:03:05,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:05,396 - DEBUG - Entry ID is 0
2018-01-22 10:03:05,397 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:03:05,398 - DEBUG - OCA ID is 1
2018-01-22 10:03:05,398 - DEBUG - Connecting to IBController
2018-01-22 10:03:06,404 - DEBUG - Connected to IBController
2018-01-22 10:03:06,404 - DEBUG - Position requested
2018-01-22 10:03:06,407 - DEBUG - Pos Mgmt -12987
2018-01-22 10:03:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:03:06,408 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:03:06,408 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:03:06,408 - DEBUG - Position is -12987
2018-01-22 10:03:06,408 - DEBUG - Pos Mgmt 1
2018-01-22 10:03:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 10:03:06,409 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:03:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:03:06,409 - DEBUG - Position is 1
2018-01-22 10:03:07,405 - DEBUG - Open Orders requested
2018-01-22 10:03:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-22 10:03:07,408 - DEBUG - Order OrderID 116
2018-01-22 10:03:07,408 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:03:07,409 - DEBUG - Order status PreSubmitted
2018-01-22 10:03:07,409 - DEBUG - Order Identification 116
2018-01-22 10:03:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:03:07,409 - DEBUG - Profit ID from database is 0
2018-01-22 10:03:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:03:07,410 - DEBUG - Stop ID database is 0
2018-01-22 10:03:07,410 - DEBUG - Entry ID database is 0
2018-01-22 10:03:09,405 - DEBUG - Connecting to database
2018-01-22 10:03:09,412 - DEBUG - Connected to database
2018-01-22 10:03:09,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,414 - DEBUG - Stop loss value is 0
2018-01-22 10:03:09,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,415 - DEBUG - Stop loss value is 0
2018-01-22 10:03:09,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,417 - DEBUG - EntryPrice value is 0
2018-01-22 10:03:09,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,419 - DEBUG - Stop quantity 0
2018-01-22 10:03:09,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,420 - DEBUG - Direction is 0
2018-01-22 10:03:09,422 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,422 - DEBUG - Count is 0
2018-01-22 10:03:09,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:03:09,424 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:03:09,425 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:03:09,426 - DEBUG - Max ID Order is (116,)
2018-01-22 10:03:09,426 - DEBUG - Today is 2018-01-22
2018-01-22 10:03:09,426 - DEBUG - Day of the week 0
2018-01-22 10:03:09,427 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:03:09,427 - DEBUG - In Position is  0
2018-01-22 10:03:09,427 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:03:09,427 - DEBUG - curStopLossFlag is  0
2018-01-22 10:03:09,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:03:09,428 - DEBUG - Checking if Entry has been filled
2018-01-22 10:03:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:03:09,429 - DEBUG - EntryPend is 0
2018-01-22 10:03:09,430 - DEBUG - Try to Cancel Stop
2018-01-22 10:03:09,430 - DEBUG - Stop API ID 0
2018-01-22 10:03:09,430 - DEBUG - Profit API ID 0
2018-01-22 10:03:09,430 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:03:09,431 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:03:09,431 - DEBUG - Pos is 0
2018-01-22 10:03:09,431 - DEBUG - CurCount is 0
2018-01-22 10:03:09,431 - DEBUG - In Pos 0
2018-01-22 10:03:09,431 - DEBUG - Stop ID is 0
2018-01-22 10:03:09,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:03:09,433 - DEBUG - EntryPend is 0
2018-01-22 10:03:09,433 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:03:09,433 - DEBUG - Entry Date is 10
2018-01-22 10:03:09,434 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:03:09,434 - DEBUG - Order Profit ID is 0
2018-01-22 10:03:09,434 - DEBUG - Order Entry ID is 0
2018-01-22 10:03:09,434 - DEBUG - API ID is  0
2018-01-22 10:03:09,435 - DEBUG - Current Position is 0
2018-01-22 10:03:09,435 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:03:09,435 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:03:09,435 - DEBUG - Time is 10
2018-01-22 10:03:09,435 - DEBUG - Time is <class 'int'>
2018-01-22 10:03:09,436 - DEBUG - Time is 3
2018-01-22 10:03:09,436 - DEBUG - Time is <class 'int'>
2018-01-22 10:03:09,436 - DEBUG - Disconnected from IBController
2018-01-22 10:03:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:08:05,365 - DEBUG - ****************************************************
2018-01-22 10:08:05,366 - DEBUG - Current Time is 10:08AM
2018-01-22 10:08:05,366 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:08:05,367 - DEBUG - Connecting to database
2018-01-22 10:08:05,389 - DEBUG - Connected to database
2018-01-22 10:08:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:05,391 - DEBUG - Order Profit is 0
2018-01-22 10:08:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:05,393 - DEBUG - Stop ID is 0
2018-01-22 10:08:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:05,394 - DEBUG - Entry ID is 0
2018-01-22 10:08:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:08:05,396 - DEBUG - OCA ID is 1
2018-01-22 10:08:05,396 - DEBUG - Connecting to IBController
2018-01-22 10:08:06,400 - DEBUG - Connected to IBController
2018-01-22 10:08:06,400 - DEBUG - Position requested
2018-01-22 10:08:06,402 - DEBUG - Pos Mgmt -12987
2018-01-22 10:08:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:08:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:08:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:08:06,403 - DEBUG - Position is -12987
2018-01-22 10:08:06,403 - DEBUG - Pos Mgmt 1
2018-01-22 10:08:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 10:08:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:08:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:08:06,404 - DEBUG - Position is 1
2018-01-22 10:08:07,401 - DEBUG - Open Orders requested
2018-01-22 10:08:07,412 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, order=<ib.ext.Order.Order object at 0x000000000211DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-22 10:08:07,413 - DEBUG - Order OrderID 116
2018-01-22 10:08:07,413 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:08:07,414 - DEBUG - Order status PreSubmitted
2018-01-22 10:08:07,414 - DEBUG - Order Identification 116
2018-01-22 10:08:07,414 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:08:07,414 - DEBUG - Profit ID from database is 0
2018-01-22 10:08:07,415 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:08:07,415 - DEBUG - Stop ID database is 0
2018-01-22 10:08:07,415 - DEBUG - Entry ID database is 0
2018-01-22 10:08:09,402 - DEBUG - Connecting to database
2018-01-22 10:08:09,409 - DEBUG - Connected to database
2018-01-22 10:08:09,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,411 - DEBUG - Stop loss value is 0
2018-01-22 10:08:09,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,412 - DEBUG - Stop loss value is 0
2018-01-22 10:08:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,414 - DEBUG - EntryPrice value is 0
2018-01-22 10:08:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,416 - DEBUG - Stop quantity 0
2018-01-22 10:08:09,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,417 - DEBUG - Direction is 0
2018-01-22 10:08:09,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,419 - DEBUG - Count is 0
2018-01-22 10:08:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:08:09,420 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:08:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:08:09,422 - DEBUG - Max ID Order is (116,)
2018-01-22 10:08:09,422 - DEBUG - Today is 2018-01-22
2018-01-22 10:08:09,423 - DEBUG - Day of the week 0
2018-01-22 10:08:09,423 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:08:09,423 - DEBUG - In Position is  0
2018-01-22 10:08:09,423 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:08:09,424 - DEBUG - curStopLossFlag is  0
2018-01-22 10:08:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:08:09,424 - DEBUG - Checking if Entry has been filled
2018-01-22 10:08:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:08:09,426 - DEBUG - EntryPend is 0
2018-01-22 10:08:09,426 - DEBUG - Try to Cancel Stop
2018-01-22 10:08:09,426 - DEBUG - Stop API ID 0
2018-01-22 10:08:09,426 - DEBUG - Profit API ID 0
2018-01-22 10:08:09,426 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:08:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:08:09,427 - DEBUG - Pos is 0
2018-01-22 10:08:09,427 - DEBUG - CurCount is 0
2018-01-22 10:08:09,427 - DEBUG - In Pos 0
2018-01-22 10:08:09,428 - DEBUG - Stop ID is 0
2018-01-22 10:08:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:08:09,429 - DEBUG - EntryPend is 0
2018-01-22 10:08:09,429 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:08:09,430 - DEBUG - Entry Date is 10
2018-01-22 10:08:09,430 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:08:09,430 - DEBUG - Order Profit ID is 0
2018-01-22 10:08:09,430 - DEBUG - Order Entry ID is 0
2018-01-22 10:08:09,430 - DEBUG - API ID is  0
2018-01-22 10:08:09,431 - DEBUG - Current Position is 0
2018-01-22 10:08:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:08:09,431 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:08:09,431 - DEBUG - Time is 10
2018-01-22 10:08:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 10:08:09,432 - DEBUG - Time is 8
2018-01-22 10:08:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 10:08:09,432 - DEBUG - Disconnected from IBController
2018-01-22 10:08:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:13:05,365 - DEBUG - ****************************************************
2018-01-22 10:13:05,366 - DEBUG - Current Time is 10:13AM
2018-01-22 10:13:05,366 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:13:05,367 - DEBUG - Connecting to database
2018-01-22 10:13:05,384 - DEBUG - Connected to database
2018-01-22 10:13:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:05,386 - DEBUG - Order Profit is 0
2018-01-22 10:13:05,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:05,388 - DEBUG - Stop ID is 0
2018-01-22 10:13:05,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:05,389 - DEBUG - Entry ID is 0
2018-01-22 10:13:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:13:05,391 - DEBUG - OCA ID is 1
2018-01-22 10:13:05,391 - DEBUG - Connecting to IBController
2018-01-22 10:13:06,419 - DEBUG - Connected to IBController
2018-01-22 10:13:06,419 - DEBUG - Position requested
2018-01-22 10:13:06,421 - DEBUG - Pos Mgmt -12987
2018-01-22 10:13:06,422 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:13:06,423 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:13:06,423 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:13:06,423 - DEBUG - Position is -12987
2018-01-22 10:13:06,423 - DEBUG - Pos Mgmt 1
2018-01-22 10:13:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDA58>, pos=1, avgCost=48882.9>
2018-01-22 10:13:06,424 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:13:06,424 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:13:06,424 - DEBUG - Position is 1
2018-01-22 10:13:07,419 - DEBUG - Open Orders requested
2018-01-22 10:13:07,422 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020CDCC0>, order=<ib.ext.Order.Order object at 0x00000000020CDD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162080>>
2018-01-22 10:13:07,423 - DEBUG - Order OrderID 116
2018-01-22 10:13:07,423 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:13:07,423 - DEBUG - Order status PreSubmitted
2018-01-22 10:13:07,424 - DEBUG - Order Identification 116
2018-01-22 10:13:07,424 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:13:07,424 - DEBUG - Profit ID from database is 0
2018-01-22 10:13:07,425 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:13:07,425 - DEBUG - Stop ID database is 0
2018-01-22 10:13:07,425 - DEBUG - Entry ID database is 0
2018-01-22 10:13:09,419 - DEBUG - Connecting to database
2018-01-22 10:13:09,426 - DEBUG - Connected to database
2018-01-22 10:13:09,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,428 - DEBUG - Stop loss value is 0
2018-01-22 10:13:09,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,430 - DEBUG - Stop loss value is 0
2018-01-22 10:13:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,431 - DEBUG - EntryPrice value is 0
2018-01-22 10:13:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,433 - DEBUG - Stop quantity 0
2018-01-22 10:13:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,435 - DEBUG - Direction is 0
2018-01-22 10:13:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,436 - DEBUG - Count is 0
2018-01-22 10:13:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:13:09,438 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:13:09,439 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:13:09,439 - DEBUG - Max ID Order is (116,)
2018-01-22 10:13:09,440 - DEBUG - Today is 2018-01-22
2018-01-22 10:13:09,440 - DEBUG - Day of the week 0
2018-01-22 10:13:09,440 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:13:09,441 - DEBUG - In Position is  0
2018-01-22 10:13:09,441 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:13:09,441 - DEBUG - curStopLossFlag is  0
2018-01-22 10:13:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:13:09,442 - DEBUG - Checking if Entry has been filled
2018-01-22 10:13:09,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:13:09,443 - DEBUG - EntryPend is 0
2018-01-22 10:13:09,444 - DEBUG - Try to Cancel Stop
2018-01-22 10:13:09,444 - DEBUG - Stop API ID 0
2018-01-22 10:13:09,444 - DEBUG - Profit API ID 0
2018-01-22 10:13:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:13:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:13:09,445 - DEBUG - Pos is 0
2018-01-22 10:13:09,445 - DEBUG - CurCount is 0
2018-01-22 10:13:09,445 - DEBUG - In Pos 0
2018-01-22 10:13:09,445 - DEBUG - Stop ID is 0
2018-01-22 10:13:09,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:13:09,447 - DEBUG - EntryPend is 0
2018-01-22 10:13:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:13:09,447 - DEBUG - Entry Date is 10
2018-01-22 10:13:09,448 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:13:09,448 - DEBUG - Order Profit ID is 0
2018-01-22 10:13:09,448 - DEBUG - Order Entry ID is 0
2018-01-22 10:13:09,448 - DEBUG - API ID is  0
2018-01-22 10:13:09,448 - DEBUG - Current Position is 0
2018-01-22 10:13:09,449 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:13:09,449 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:13:09,449 - DEBUG - Time is 10
2018-01-22 10:13:09,449 - DEBUG - Time is <class 'int'>
2018-01-22 10:13:09,449 - DEBUG - Time is 13
2018-01-22 10:13:09,450 - DEBUG - Time is <class 'int'>
2018-01-22 10:13:09,450 - DEBUG - Disconnected from IBController
2018-01-22 10:13:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:18:05,354 - DEBUG - ****************************************************
2018-01-22 10:18:05,354 - DEBUG - Current Time is 10:18AM
2018-01-22 10:18:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:18:05,355 - DEBUG - Connecting to database
2018-01-22 10:18:05,379 - DEBUG - Connected to database
2018-01-22 10:18:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:05,382 - DEBUG - Order Profit is 0
2018-01-22 10:18:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:05,383 - DEBUG - Stop ID is 0
2018-01-22 10:18:05,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:05,385 - DEBUG - Entry ID is 0
2018-01-22 10:18:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:18:05,387 - DEBUG - OCA ID is 1
2018-01-22 10:18:05,387 - DEBUG - Connecting to IBController
2018-01-22 10:18:06,390 - DEBUG - Connected to IBController
2018-01-22 10:18:06,393 - DEBUG - Position requested
2018-01-22 10:18:06,394 - DEBUG - Pos Mgmt -12987
2018-01-22 10:18:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CB00>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:18:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:18:06,395 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:18:06,395 - DEBUG - Position is -12987
2018-01-22 10:18:06,395 - DEBUG - Pos Mgmt 1
2018-01-22 10:18:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CBA8>, pos=1, avgCost=48882.9>
2018-01-22 10:18:06,396 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:18:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:18:06,396 - DEBUG - Position is 1
2018-01-22 10:18:07,394 - DEBUG - Open Orders requested
2018-01-22 10:18:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210CD30>, order=<ib.ext.Order.Order object at 0x000000000210CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10F0>>
2018-01-22 10:18:07,398 - DEBUG - Order OrderID 116
2018-01-22 10:18:07,398 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:18:07,399 - DEBUG - Order status PreSubmitted
2018-01-22 10:18:07,399 - DEBUG - Order Identification 116
2018-01-22 10:18:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:18:07,400 - DEBUG - Profit ID from database is 0
2018-01-22 10:18:07,400 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:18:07,400 - DEBUG - Stop ID database is 0
2018-01-22 10:18:07,400 - DEBUG - Entry ID database is 0
2018-01-22 10:18:09,399 - DEBUG - Connecting to database
2018-01-22 10:18:09,406 - DEBUG - Connected to database
2018-01-22 10:18:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,408 - DEBUG - Stop loss value is 0
2018-01-22 10:18:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,410 - DEBUG - Stop loss value is 0
2018-01-22 10:18:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,412 - DEBUG - EntryPrice value is 0
2018-01-22 10:18:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,413 - DEBUG - Stop quantity 0
2018-01-22 10:18:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,415 - DEBUG - Direction is 0
2018-01-22 10:18:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,417 - DEBUG - Count is 0
2018-01-22 10:18:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:18:09,419 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:18:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:18:09,420 - DEBUG - Max ID Order is (116,)
2018-01-22 10:18:09,421 - DEBUG - Today is 2018-01-22
2018-01-22 10:18:09,421 - DEBUG - Day of the week 0
2018-01-22 10:18:09,421 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:18:09,421 - DEBUG - In Position is  0
2018-01-22 10:18:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:18:09,422 - DEBUG - curStopLossFlag is  0
2018-01-22 10:18:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:18:09,422 - DEBUG - Checking if Entry has been filled
2018-01-22 10:18:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:18:09,424 - DEBUG - EntryPend is 0
2018-01-22 10:18:09,424 - DEBUG - Try to Cancel Stop
2018-01-22 10:18:09,424 - DEBUG - Stop API ID 0
2018-01-22 10:18:09,425 - DEBUG - Profit API ID 0
2018-01-22 10:18:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:18:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:18:09,425 - DEBUG - Pos is 0
2018-01-22 10:18:09,425 - DEBUG - CurCount is 0
2018-01-22 10:18:09,426 - DEBUG - In Pos 0
2018-01-22 10:18:09,426 - DEBUG - Stop ID is 0
2018-01-22 10:18:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:18:09,428 - DEBUG - EntryPend is 0
2018-01-22 10:18:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:18:09,428 - DEBUG - Entry Date is 10
2018-01-22 10:18:09,428 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:18:09,428 - DEBUG - Order Profit ID is 0
2018-01-22 10:18:09,429 - DEBUG - Order Entry ID is 0
2018-01-22 10:18:09,429 - DEBUG - API ID is  0
2018-01-22 10:18:09,429 - DEBUG - Current Position is 0
2018-01-22 10:18:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:18:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:18:09,430 - DEBUG - Time is 10
2018-01-22 10:18:09,430 - DEBUG - Time is <class 'int'>
2018-01-22 10:18:09,430 - DEBUG - Time is 18
2018-01-22 10:18:09,430 - DEBUG - Time is <class 'int'>
2018-01-22 10:18:09,431 - DEBUG - Disconnected from IBController
2018-01-22 10:18:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:23:05,378 - DEBUG - ****************************************************
2018-01-22 10:23:05,379 - DEBUG - Current Time is 10:23AM
2018-01-22 10:23:05,379 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:23:05,379 - DEBUG - Connecting to database
2018-01-22 10:23:05,400 - DEBUG - Connected to database
2018-01-22 10:23:05,400 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:05,402 - DEBUG - Order Profit is 0
2018-01-22 10:23:05,402 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:05,403 - DEBUG - Stop ID is 0
2018-01-22 10:23:05,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:05,405 - DEBUG - Entry ID is 0
2018-01-22 10:23:05,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:23:05,407 - DEBUG - OCA ID is 1
2018-01-22 10:23:05,407 - DEBUG - Connecting to IBController
2018-01-22 10:23:06,415 - DEBUG - Connected to IBController
2018-01-22 10:23:06,415 - DEBUG - Position requested
2018-01-22 10:23:06,417 - DEBUG - Pos Mgmt -12987
2018-01-22 10:23:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CDA0>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:23:06,417 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:23:06,418 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:23:06,418 - DEBUG - Position is -12987
2018-01-22 10:23:06,418 - DEBUG - Pos Mgmt 1
2018-01-22 10:23:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215CAC8>, pos=1, avgCost=48882.9>
2018-01-22 10:23:06,419 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:23:06,419 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:23:06,419 - DEBUG - Position is 1
2018-01-22 10:23:07,416 - DEBUG - Open Orders requested
2018-01-22 10:23:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000215CDA0>, order=<ib.ext.Order.Order object at 0x000000000215CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1080>>
2018-01-22 10:23:07,418 - DEBUG - Order OrderID 116
2018-01-22 10:23:07,419 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:23:07,419 - DEBUG - Order status PreSubmitted
2018-01-22 10:23:07,419 - DEBUG - Order Identification 116
2018-01-22 10:23:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:23:07,420 - DEBUG - Profit ID from database is 0
2018-01-22 10:23:07,420 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:23:07,421 - DEBUG - Stop ID database is 0
2018-01-22 10:23:07,421 - DEBUG - Entry ID database is 0
2018-01-22 10:23:09,417 - DEBUG - Connecting to database
2018-01-22 10:23:09,424 - DEBUG - Connected to database
2018-01-22 10:23:09,425 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,425 - DEBUG - Stop loss value is 0
2018-01-22 10:23:09,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,427 - DEBUG - Stop loss value is 0
2018-01-22 10:23:09,428 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,429 - DEBUG - EntryPrice value is 0
2018-01-22 10:23:09,430 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,430 - DEBUG - Stop quantity 0
2018-01-22 10:23:09,432 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,432 - DEBUG - Direction is 0
2018-01-22 10:23:09,433 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,433 - DEBUG - Count is 0
2018-01-22 10:23:09,435 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:23:09,435 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:23:09,436 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:23:09,437 - DEBUG - Max ID Order is (116,)
2018-01-22 10:23:09,437 - DEBUG - Today is 2018-01-22
2018-01-22 10:23:09,437 - DEBUG - Day of the week 0
2018-01-22 10:23:09,438 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:23:09,438 - DEBUG - In Position is  0
2018-01-22 10:23:09,438 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:23:09,438 - DEBUG - curStopLossFlag is  0
2018-01-22 10:23:09,439 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:23:09,439 - DEBUG - Checking if Entry has been filled
2018-01-22 10:23:09,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:23:09,440 - DEBUG - EntryPend is 0
2018-01-22 10:23:09,441 - DEBUG - Try to Cancel Stop
2018-01-22 10:23:09,441 - DEBUG - Stop API ID 0
2018-01-22 10:23:09,441 - DEBUG - Profit API ID 0
2018-01-22 10:23:09,441 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:23:09,441 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:23:09,442 - DEBUG - Pos is 0
2018-01-22 10:23:09,442 - DEBUG - CurCount is 0
2018-01-22 10:23:09,442 - DEBUG - In Pos 0
2018-01-22 10:23:09,442 - DEBUG - Stop ID is 0
2018-01-22 10:23:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:23:09,444 - DEBUG - EntryPend is 0
2018-01-22 10:23:09,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:23:09,444 - DEBUG - Entry Date is 10
2018-01-22 10:23:09,445 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:23:09,445 - DEBUG - Order Profit ID is 0
2018-01-22 10:23:09,445 - DEBUG - Order Entry ID is 0
2018-01-22 10:23:09,445 - DEBUG - API ID is  0
2018-01-22 10:23:09,445 - DEBUG - Current Position is 0
2018-01-22 10:23:09,446 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:23:09,446 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:23:09,446 - DEBUG - Time is 10
2018-01-22 10:23:09,446 - DEBUG - Time is <class 'int'>
2018-01-22 10:23:09,447 - DEBUG - Time is 23
2018-01-22 10:23:09,447 - DEBUG - Time is <class 'int'>
2018-01-22 10:23:09,447 - DEBUG - Disconnected from IBController
2018-01-22 10:23:09,447 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:28:05,345 - DEBUG - ****************************************************
2018-01-22 10:28:05,345 - DEBUG - Current Time is 10:28AM
2018-01-22 10:28:05,346 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:28:05,346 - DEBUG - Connecting to database
2018-01-22 10:28:05,368 - DEBUG - Connected to database
2018-01-22 10:28:05,368 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:05,370 - DEBUG - Order Profit is 0
2018-01-22 10:28:05,370 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:05,372 - DEBUG - Stop ID is 0
2018-01-22 10:28:05,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:05,373 - DEBUG - Entry ID is 0
2018-01-22 10:28:05,373 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:28:05,375 - DEBUG - OCA ID is 1
2018-01-22 10:28:05,375 - DEBUG - Connecting to IBController
2018-01-22 10:28:06,378 - DEBUG - Connected to IBController
2018-01-22 10:28:06,378 - DEBUG - Position requested
2018-01-22 10:28:06,380 - DEBUG - Pos Mgmt -12987
2018-01-22 10:28:06,380 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:28:06,380 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:28:06,381 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:28:06,381 - DEBUG - Position is -12987
2018-01-22 10:28:06,381 - DEBUG - Pos Mgmt 1
2018-01-22 10:28:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DA58>, pos=1, avgCost=48882.9>
2018-01-22 10:28:06,382 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:28:06,382 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:28:06,382 - DEBUG - Position is 1
2018-01-22 10:28:07,379 - DEBUG - Open Orders requested
2018-01-22 10:28:07,382 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000213DDD8>, order=<ib.ext.Order.Order object at 0x000000000213DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D20F0>>
2018-01-22 10:28:07,382 - DEBUG - Order OrderID 116
2018-01-22 10:28:07,383 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:28:07,383 - DEBUG - Order status PreSubmitted
2018-01-22 10:28:07,383 - DEBUG - Order Identification 116
2018-01-22 10:28:07,383 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:28:07,384 - DEBUG - Profit ID from database is 0
2018-01-22 10:28:07,384 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:28:07,384 - DEBUG - Stop ID database is 0
2018-01-22 10:28:07,384 - DEBUG - Entry ID database is 0
2018-01-22 10:28:09,383 - DEBUG - Connecting to database
2018-01-22 10:28:09,390 - DEBUG - Connected to database
2018-01-22 10:28:09,392 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,392 - DEBUG - Stop loss value is 0
2018-01-22 10:28:09,394 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,395 - DEBUG - Stop loss value is 0
2018-01-22 10:28:09,396 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,396 - DEBUG - EntryPrice value is 0
2018-01-22 10:28:09,398 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,398 - DEBUG - Stop quantity 0
2018-01-22 10:28:09,400 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,400 - DEBUG - Direction is 0
2018-01-22 10:28:09,401 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,402 - DEBUG - Count is 0
2018-01-22 10:28:09,403 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:28:09,403 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:28:09,405 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:28:09,405 - DEBUG - Max ID Order is (116,)
2018-01-22 10:28:09,405 - DEBUG - Today is 2018-01-22
2018-01-22 10:28:09,406 - DEBUG - Day of the week 0
2018-01-22 10:28:09,406 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:28:09,406 - DEBUG - In Position is  0
2018-01-22 10:28:09,406 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:28:09,407 - DEBUG - curStopLossFlag is  0
2018-01-22 10:28:09,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:28:09,407 - DEBUG - Checking if Entry has been filled
2018-01-22 10:28:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:28:09,409 - DEBUG - EntryPend is 0
2018-01-22 10:28:09,409 - DEBUG - Try to Cancel Stop
2018-01-22 10:28:09,409 - DEBUG - Stop API ID 0
2018-01-22 10:28:09,409 - DEBUG - Profit API ID 0
2018-01-22 10:28:09,410 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:28:09,410 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:28:09,410 - DEBUG - Pos is 0
2018-01-22 10:28:09,410 - DEBUG - CurCount is 0
2018-01-22 10:28:09,410 - DEBUG - In Pos 0
2018-01-22 10:28:09,411 - DEBUG - Stop ID is 0
2018-01-22 10:28:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:28:09,412 - DEBUG - EntryPend is 0
2018-01-22 10:28:09,413 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:28:09,413 - DEBUG - Entry Date is 10
2018-01-22 10:28:09,413 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:28:09,413 - DEBUG - Order Profit ID is 0
2018-01-22 10:28:09,413 - DEBUG - Order Entry ID is 0
2018-01-22 10:28:09,414 - DEBUG - API ID is  0
2018-01-22 10:28:09,414 - DEBUG - Current Position is 0
2018-01-22 10:28:09,414 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:28:09,414 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:28:09,415 - DEBUG - Time is 10
2018-01-22 10:28:09,415 - DEBUG - Time is <class 'int'>
2018-01-22 10:28:09,415 - DEBUG - Time is 28
2018-01-22 10:28:09,415 - DEBUG - Time is <class 'int'>
2018-01-22 10:28:09,416 - DEBUG - Disconnected from IBController
2018-01-22 10:28:09,416 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:33:05,384 - DEBUG - ****************************************************
2018-01-22 10:33:05,384 - DEBUG - Current Time is 10:33AM
2018-01-22 10:33:05,384 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:33:05,385 - DEBUG - Connecting to database
2018-01-22 10:33:05,401 - DEBUG - Connected to database
2018-01-22 10:33:05,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:05,403 - DEBUG - Order Profit is 0
2018-01-22 10:33:05,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:05,405 - DEBUG - Stop ID is 0
2018-01-22 10:33:05,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:05,406 - DEBUG - Entry ID is 0
2018-01-22 10:33:05,406 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:33:05,408 - DEBUG - OCA ID is 1
2018-01-22 10:33:05,408 - DEBUG - Connecting to IBController
2018-01-22 10:33:06,415 - DEBUG - Connected to IBController
2018-01-22 10:33:06,415 - DEBUG - Position requested
2018-01-22 10:33:06,417 - DEBUG - Pos Mgmt -12987
2018-01-22 10:33:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBC88>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:33:06,417 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:33:06,418 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:33:06,418 - DEBUG - Position is -12987
2018-01-22 10:33:06,418 - DEBUG - Pos Mgmt 1
2018-01-22 10:33:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBA58>, pos=1, avgCost=48882.9>
2018-01-22 10:33:06,419 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:33:06,419 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:33:06,419 - DEBUG - Position is 1
2018-01-22 10:33:07,416 - DEBUG - Open Orders requested
2018-01-22 10:33:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FBDD8>, order=<ib.ext.Order.Order object at 0x00000000020FBD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021900F0>>
2018-01-22 10:33:07,419 - DEBUG - Order OrderID 116
2018-01-22 10:33:07,419 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:33:07,419 - DEBUG - Order status PreSubmitted
2018-01-22 10:33:07,420 - DEBUG - Order Identification 116
2018-01-22 10:33:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:33:07,424 - DEBUG - Profit ID from database is 0
2018-01-22 10:33:07,424 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:33:07,424 - DEBUG - Stop ID database is 0
2018-01-22 10:33:07,424 - DEBUG - Entry ID database is 0
2018-01-22 10:33:09,418 - DEBUG - Connecting to database
2018-01-22 10:33:09,425 - DEBUG - Connected to database
2018-01-22 10:33:09,426 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,426 - DEBUG - Stop loss value is 0
2018-01-22 10:33:09,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,428 - DEBUG - Stop loss value is 0
2018-01-22 10:33:09,429 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,430 - DEBUG - EntryPrice value is 0
2018-01-22 10:33:09,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,432 - DEBUG - Stop quantity 0
2018-01-22 10:33:09,433 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,433 - DEBUG - Direction is 0
2018-01-22 10:33:09,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,435 - DEBUG - Count is 0
2018-01-22 10:33:09,436 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:33:09,436 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:33:09,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:33:09,438 - DEBUG - Max ID Order is (116,)
2018-01-22 10:33:09,438 - DEBUG - Today is 2018-01-22
2018-01-22 10:33:09,439 - DEBUG - Day of the week 0
2018-01-22 10:33:09,439 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:33:09,439 - DEBUG - In Position is  0
2018-01-22 10:33:09,439 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:33:09,440 - DEBUG - curStopLossFlag is  0
2018-01-22 10:33:09,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:33:09,440 - DEBUG - Checking if Entry has been filled
2018-01-22 10:33:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:33:09,442 - DEBUG - EntryPend is 0
2018-01-22 10:33:09,442 - DEBUG - Try to Cancel Stop
2018-01-22 10:33:09,442 - DEBUG - Stop API ID 0
2018-01-22 10:33:09,442 - DEBUG - Profit API ID 0
2018-01-22 10:33:09,443 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:33:09,443 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:33:09,443 - DEBUG - Pos is 0
2018-01-22 10:33:09,443 - DEBUG - CurCount is 0
2018-01-22 10:33:09,443 - DEBUG - In Pos 0
2018-01-22 10:33:09,444 - DEBUG - Stop ID is 0
2018-01-22 10:33:09,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:33:09,445 - DEBUG - EntryPend is 0
2018-01-22 10:33:09,446 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:33:09,446 - DEBUG - Entry Date is 10
2018-01-22 10:33:09,446 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:33:09,446 - DEBUG - Order Profit ID is 0
2018-01-22 10:33:09,446 - DEBUG - Order Entry ID is 0
2018-01-22 10:33:09,447 - DEBUG - API ID is  0
2018-01-22 10:33:09,447 - DEBUG - Current Position is 0
2018-01-22 10:33:09,447 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:33:09,447 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:33:09,447 - DEBUG - Time is 10
2018-01-22 10:33:09,448 - DEBUG - Time is <class 'int'>
2018-01-22 10:33:09,448 - DEBUG - Time is 33
2018-01-22 10:33:09,448 - DEBUG - Time is <class 'int'>
2018-01-22 10:33:09,448 - DEBUG - Disconnected from IBController
2018-01-22 10:33:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:38:05,356 - DEBUG - ****************************************************
2018-01-22 10:38:05,356 - DEBUG - Current Time is 10:38AM
2018-01-22 10:38:05,357 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:38:05,357 - DEBUG - Connecting to database
2018-01-22 10:38:05,394 - DEBUG - Connected to database
2018-01-22 10:38:05,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:05,396 - DEBUG - Order Profit is 0
2018-01-22 10:38:05,396 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:05,398 - DEBUG - Stop ID is 0
2018-01-22 10:38:05,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:05,399 - DEBUG - Entry ID is 0
2018-01-22 10:38:05,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:38:05,401 - DEBUG - OCA ID is 1
2018-01-22 10:38:05,401 - DEBUG - Connecting to IBController
2018-01-22 10:38:06,408 - DEBUG - Connected to IBController
2018-01-22 10:38:06,408 - DEBUG - Position requested
2018-01-22 10:38:06,410 - DEBUG - Pos Mgmt -12987
2018-01-22 10:38:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:38:06,411 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:38:06,411 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:38:06,411 - DEBUG - Position is -12987
2018-01-22 10:38:06,412 - DEBUG - Pos Mgmt 1
2018-01-22 10:38:06,412 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDA58>, pos=1, avgCost=48882.9>
2018-01-22 10:38:06,412 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:38:06,412 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:38:06,413 - DEBUG - Position is 1
2018-01-22 10:38:07,409 - DEBUG - Open Orders requested
2018-01-22 10:38:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020DDD68>, order=<ib.ext.Order.Order object at 0x00000000020DDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172080>>
2018-01-22 10:38:07,412 - DEBUG - Order OrderID 116
2018-01-22 10:38:07,412 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:38:07,412 - DEBUG - Order status PreSubmitted
2018-01-22 10:38:07,413 - DEBUG - Order Identification 116
2018-01-22 10:38:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:38:07,413 - DEBUG - Profit ID from database is 0
2018-01-22 10:38:07,414 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:38:07,414 - DEBUG - Stop ID database is 0
2018-01-22 10:38:07,414 - DEBUG - Entry ID database is 0
2018-01-22 10:38:09,410 - DEBUG - Connecting to database
2018-01-22 10:38:09,417 - DEBUG - Connected to database
2018-01-22 10:38:09,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,419 - DEBUG - Stop loss value is 0
2018-01-22 10:38:09,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,420 - DEBUG - Stop loss value is 0
2018-01-22 10:38:09,422 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,422 - DEBUG - EntryPrice value is 0
2018-01-22 10:38:09,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,424 - DEBUG - Stop quantity 0
2018-01-22 10:38:09,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,425 - DEBUG - Direction is 0
2018-01-22 10:38:09,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,427 - DEBUG - Count is 0
2018-01-22 10:38:09,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:38:09,429 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:38:09,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:38:09,430 - DEBUG - Max ID Order is (116,)
2018-01-22 10:38:09,431 - DEBUG - Today is 2018-01-22
2018-01-22 10:38:09,431 - DEBUG - Day of the week 0
2018-01-22 10:38:09,431 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:38:09,432 - DEBUG - In Position is  0
2018-01-22 10:38:09,432 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:38:09,432 - DEBUG - curStopLossFlag is  0
2018-01-22 10:38:09,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:38:09,433 - DEBUG - Checking if Entry has been filled
2018-01-22 10:38:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:38:09,434 - DEBUG - EntryPend is 0
2018-01-22 10:38:09,434 - DEBUG - Try to Cancel Stop
2018-01-22 10:38:09,435 - DEBUG - Stop API ID 0
2018-01-22 10:38:09,435 - DEBUG - Profit API ID 0
2018-01-22 10:38:09,435 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:38:09,435 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:38:09,436 - DEBUG - Pos is 0
2018-01-22 10:38:09,436 - DEBUG - CurCount is 0
2018-01-22 10:38:09,436 - DEBUG - In Pos 0
2018-01-22 10:38:09,436 - DEBUG - Stop ID is 0
2018-01-22 10:38:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:38:09,438 - DEBUG - EntryPend is 0
2018-01-22 10:38:09,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:38:09,438 - DEBUG - Entry Date is 10
2018-01-22 10:38:09,439 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:38:09,439 - DEBUG - Order Profit ID is 0
2018-01-22 10:38:09,439 - DEBUG - Order Entry ID is 0
2018-01-22 10:38:09,439 - DEBUG - API ID is  0
2018-01-22 10:38:09,440 - DEBUG - Current Position is 0
2018-01-22 10:38:09,440 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:38:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:38:09,440 - DEBUG - Time is 10
2018-01-22 10:38:09,440 - DEBUG - Time is <class 'int'>
2018-01-22 10:38:09,441 - DEBUG - Time is 38
2018-01-22 10:38:09,441 - DEBUG - Time is <class 'int'>
2018-01-22 10:38:09,441 - DEBUG - Disconnected from IBController
2018-01-22 10:38:09,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:43:05,355 - DEBUG - ****************************************************
2018-01-22 10:43:05,355 - DEBUG - Current Time is 10:43AM
2018-01-22 10:43:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:43:05,356 - DEBUG - Connecting to database
2018-01-22 10:43:05,383 - DEBUG - Connected to database
2018-01-22 10:43:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:05,385 - DEBUG - Order Profit is 0
2018-01-22 10:43:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:05,387 - DEBUG - Stop ID is 0
2018-01-22 10:43:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:05,388 - DEBUG - Entry ID is 0
2018-01-22 10:43:05,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:43:05,391 - DEBUG - OCA ID is 1
2018-01-22 10:43:05,391 - DEBUG - Connecting to IBController
2018-01-22 10:43:06,397 - DEBUG - Connected to IBController
2018-01-22 10:43:06,397 - DEBUG - Position requested
2018-01-22 10:43:06,399 - DEBUG - Pos Mgmt -12987
2018-01-22 10:43:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:43:06,401 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:43:06,402 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:43:06,402 - DEBUG - Position is -12987
2018-01-22 10:43:06,402 - DEBUG - Pos Mgmt 1
2018-01-22 10:43:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 10:43:06,403 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:43:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:43:06,403 - DEBUG - Position is 1
2018-01-22 10:43:07,399 - DEBUG - Open Orders requested
2018-01-22 10:43:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-22 10:43:07,401 - DEBUG - Order OrderID 116
2018-01-22 10:43:07,402 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:43:07,402 - DEBUG - Order status PreSubmitted
2018-01-22 10:43:07,403 - DEBUG - Order Identification 116
2018-01-22 10:43:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:43:07,403 - DEBUG - Profit ID from database is 0
2018-01-22 10:43:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:43:07,404 - DEBUG - Stop ID database is 0
2018-01-22 10:43:07,404 - DEBUG - Entry ID database is 0
2018-01-22 10:43:09,400 - DEBUG - Connecting to database
2018-01-22 10:43:09,407 - DEBUG - Connected to database
2018-01-22 10:43:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,409 - DEBUG - Stop loss value is 0
2018-01-22 10:43:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,411 - DEBUG - Stop loss value is 0
2018-01-22 10:43:09,413 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,413 - DEBUG - EntryPrice value is 0
2018-01-22 10:43:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,415 - DEBUG - Stop quantity 0
2018-01-22 10:43:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,417 - DEBUG - Direction is 0
2018-01-22 10:43:09,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,419 - DEBUG - Count is 0
2018-01-22 10:43:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:43:09,420 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:43:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:43:09,422 - DEBUG - Max ID Order is (116,)
2018-01-22 10:43:09,422 - DEBUG - Today is 2018-01-22
2018-01-22 10:43:09,423 - DEBUG - Day of the week 0
2018-01-22 10:43:09,423 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:43:09,423 - DEBUG - In Position is  0
2018-01-22 10:43:09,423 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:43:09,424 - DEBUG - curStopLossFlag is  0
2018-01-22 10:43:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:43:09,424 - DEBUG - Checking if Entry has been filled
2018-01-22 10:43:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:43:09,426 - DEBUG - EntryPend is 0
2018-01-22 10:43:09,426 - DEBUG - Try to Cancel Stop
2018-01-22 10:43:09,426 - DEBUG - Stop API ID 0
2018-01-22 10:43:09,426 - DEBUG - Profit API ID 0
2018-01-22 10:43:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:43:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:43:09,427 - DEBUG - Pos is 0
2018-01-22 10:43:09,427 - DEBUG - CurCount is 0
2018-01-22 10:43:09,427 - DEBUG - In Pos 0
2018-01-22 10:43:09,428 - DEBUG - Stop ID is 0
2018-01-22 10:43:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:43:09,429 - DEBUG - EntryPend is 0
2018-01-22 10:43:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:43:09,430 - DEBUG - Entry Date is 10
2018-01-22 10:43:09,430 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:43:09,430 - DEBUG - Order Profit ID is 0
2018-01-22 10:43:09,430 - DEBUG - Order Entry ID is 0
2018-01-22 10:43:09,431 - DEBUG - API ID is  0
2018-01-22 10:43:09,431 - DEBUG - Current Position is 0
2018-01-22 10:43:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:43:09,431 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:43:09,432 - DEBUG - Time is 10
2018-01-22 10:43:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 10:43:09,432 - DEBUG - Time is 43
2018-01-22 10:43:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 10:43:09,432 - DEBUG - Disconnected from IBController
2018-01-22 10:43:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:48:05,348 - DEBUG - ****************************************************
2018-01-22 10:48:05,349 - DEBUG - Current Time is 10:48AM
2018-01-22 10:48:05,349 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:48:05,349 - DEBUG - Connecting to database
2018-01-22 10:48:05,396 - DEBUG - Connected to database
2018-01-22 10:48:05,396 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:05,398 - DEBUG - Order Profit is 0
2018-01-22 10:48:05,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:05,400 - DEBUG - Stop ID is 0
2018-01-22 10:48:05,400 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:05,401 - DEBUG - Entry ID is 0
2018-01-22 10:48:05,402 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:48:05,403 - DEBUG - OCA ID is 1
2018-01-22 10:48:05,404 - DEBUG - Connecting to IBController
2018-01-22 10:48:06,409 - DEBUG - Connected to IBController
2018-01-22 10:48:06,409 - DEBUG - Position requested
2018-01-22 10:48:06,411 - DEBUG - Pos Mgmt -12987
2018-01-22 10:48:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:48:06,411 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:48:06,412 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:48:06,412 - DEBUG - Position is -12987
2018-01-22 10:48:06,412 - DEBUG - Pos Mgmt 1
2018-01-22 10:48:06,412 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CAC8>, pos=1, avgCost=48882.9>
2018-01-22 10:48:06,413 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:48:06,413 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:48:06,413 - DEBUG - Position is 1
2018-01-22 10:48:07,410 - DEBUG - Open Orders requested
2018-01-22 10:48:07,412 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210CCF8>, order=<ib.ext.Order.Order object at 0x000000000210CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-22 10:48:07,412 - DEBUG - Order OrderID 116
2018-01-22 10:48:07,413 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:48:07,413 - DEBUG - Order status PreSubmitted
2018-01-22 10:48:07,413 - DEBUG - Order Identification 116
2018-01-22 10:48:07,414 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:48:07,414 - DEBUG - Profit ID from database is 0
2018-01-22 10:48:07,414 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:48:07,414 - DEBUG - Stop ID database is 0
2018-01-22 10:48:07,415 - DEBUG - Entry ID database is 0
2018-01-22 10:48:09,411 - DEBUG - Connecting to database
2018-01-22 10:48:09,418 - DEBUG - Connected to database
2018-01-22 10:48:09,419 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,420 - DEBUG - Stop loss value is 0
2018-01-22 10:48:09,421 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,421 - DEBUG - Stop loss value is 0
2018-01-22 10:48:09,422 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,423 - DEBUG - EntryPrice value is 0
2018-01-22 10:48:09,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,424 - DEBUG - Stop quantity 0
2018-01-22 10:48:09,426 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,426 - DEBUG - Direction is 0
2018-01-22 10:48:09,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,428 - DEBUG - Count is 0
2018-01-22 10:48:09,429 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:48:09,429 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:48:09,431 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:48:09,431 - DEBUG - Max ID Order is (116,)
2018-01-22 10:48:09,431 - DEBUG - Today is 2018-01-22
2018-01-22 10:48:09,432 - DEBUG - Day of the week 0
2018-01-22 10:48:09,432 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:48:09,432 - DEBUG - In Position is  0
2018-01-22 10:48:09,432 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:48:09,433 - DEBUG - curStopLossFlag is  0
2018-01-22 10:48:09,433 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:48:09,433 - DEBUG - Checking if Entry has been filled
2018-01-22 10:48:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:48:09,435 - DEBUG - EntryPend is 0
2018-01-22 10:48:09,435 - DEBUG - Try to Cancel Stop
2018-01-22 10:48:09,435 - DEBUG - Stop API ID 0
2018-01-22 10:48:09,435 - DEBUG - Profit API ID 0
2018-01-22 10:48:09,436 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:48:09,436 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:48:09,436 - DEBUG - Pos is 0
2018-01-22 10:48:09,436 - DEBUG - CurCount is 0
2018-01-22 10:48:09,436 - DEBUG - In Pos 0
2018-01-22 10:48:09,437 - DEBUG - Stop ID is 0
2018-01-22 10:48:09,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:48:09,438 - DEBUG - EntryPend is 0
2018-01-22 10:48:09,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:48:09,439 - DEBUG - Entry Date is 10
2018-01-22 10:48:09,439 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:48:09,439 - DEBUG - Order Profit ID is 0
2018-01-22 10:48:09,439 - DEBUG - Order Entry ID is 0
2018-01-22 10:48:09,440 - DEBUG - API ID is  0
2018-01-22 10:48:09,440 - DEBUG - Current Position is 0
2018-01-22 10:48:09,440 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:48:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:48:09,440 - DEBUG - Time is 10
2018-01-22 10:48:09,441 - DEBUG - Time is <class 'int'>
2018-01-22 10:48:09,441 - DEBUG - Time is 48
2018-01-22 10:48:09,441 - DEBUG - Time is <class 'int'>
2018-01-22 10:48:09,441 - DEBUG - Disconnected from IBController
2018-01-22 10:48:09,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:53:05,380 - DEBUG - ****************************************************
2018-01-22 10:53:05,380 - DEBUG - Current Time is 10:53AM
2018-01-22 10:53:05,380 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:53:05,381 - DEBUG - Connecting to database
2018-01-22 10:53:05,401 - DEBUG - Connected to database
2018-01-22 10:53:05,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:05,403 - DEBUG - Order Profit is 0
2018-01-22 10:53:05,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:05,405 - DEBUG - Stop ID is 0
2018-01-22 10:53:05,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:05,406 - DEBUG - Entry ID is 0
2018-01-22 10:53:05,406 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:53:05,408 - DEBUG - OCA ID is 1
2018-01-22 10:53:05,408 - DEBUG - Connecting to IBController
2018-01-22 10:53:06,416 - DEBUG - Connected to IBController
2018-01-22 10:53:06,416 - DEBUG - Position requested
2018-01-22 10:53:06,418 - DEBUG - Pos Mgmt -12987
2018-01-22 10:53:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:53:06,419 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:53:06,419 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:53:06,419 - DEBUG - Position is -12987
2018-01-22 10:53:06,420 - DEBUG - Pos Mgmt 1
2018-01-22 10:53:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CA58>, pos=1, avgCost=48882.9>
2018-01-22 10:53:06,420 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:53:06,421 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:53:06,421 - DEBUG - Position is 1
2018-01-22 10:53:07,418 - DEBUG - Open Orders requested
2018-01-22 10:53:07,420 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000212CD30>, order=<ib.ext.Order.Order object at 0x000000000212CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2080>>
2018-01-22 10:53:07,421 - DEBUG - Order OrderID 116
2018-01-22 10:53:07,421 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:53:07,422 - DEBUG - Order status PreSubmitted
2018-01-22 10:53:07,422 - DEBUG - Order Identification 116
2018-01-22 10:53:07,422 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:53:07,422 - DEBUG - Profit ID from database is 0
2018-01-22 10:53:07,423 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:53:07,423 - DEBUG - Stop ID database is 0
2018-01-22 10:53:07,423 - DEBUG - Entry ID database is 0
2018-01-22 10:53:09,419 - DEBUG - Connecting to database
2018-01-22 10:53:09,426 - DEBUG - Connected to database
2018-01-22 10:53:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,427 - DEBUG - Stop loss value is 0
2018-01-22 10:53:09,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,429 - DEBUG - Stop loss value is 0
2018-01-22 10:53:09,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,431 - DEBUG - EntryPrice value is 0
2018-01-22 10:53:09,432 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,432 - DEBUG - Stop quantity 0
2018-01-22 10:53:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,434 - DEBUG - Direction is 0
2018-01-22 10:53:09,435 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,436 - DEBUG - Count is 0
2018-01-22 10:53:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:53:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:53:09,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:53:09,439 - DEBUG - Max ID Order is (116,)
2018-01-22 10:53:09,439 - DEBUG - Today is 2018-01-22
2018-01-22 10:53:09,440 - DEBUG - Day of the week 0
2018-01-22 10:53:09,440 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:53:09,440 - DEBUG - In Position is  0
2018-01-22 10:53:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:53:09,441 - DEBUG - curStopLossFlag is  0
2018-01-22 10:53:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:53:09,441 - DEBUG - Checking if Entry has been filled
2018-01-22 10:53:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:53:09,443 - DEBUG - EntryPend is 0
2018-01-22 10:53:09,443 - DEBUG - Try to Cancel Stop
2018-01-22 10:53:09,443 - DEBUG - Stop API ID 0
2018-01-22 10:53:09,443 - DEBUG - Profit API ID 0
2018-01-22 10:53:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:53:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:53:09,444 - DEBUG - Pos is 0
2018-01-22 10:53:09,444 - DEBUG - CurCount is 0
2018-01-22 10:53:09,444 - DEBUG - In Pos 0
2018-01-22 10:53:09,445 - DEBUG - Stop ID is 0
2018-01-22 10:53:09,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:53:09,446 - DEBUG - EntryPend is 0
2018-01-22 10:53:09,446 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:53:09,447 - DEBUG - Entry Date is 10
2018-01-22 10:53:09,447 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:53:09,447 - DEBUG - Order Profit ID is 0
2018-01-22 10:53:09,447 - DEBUG - Order Entry ID is 0
2018-01-22 10:53:09,448 - DEBUG - API ID is  0
2018-01-22 10:53:09,448 - DEBUG - Current Position is 0
2018-01-22 10:53:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:53:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:53:09,448 - DEBUG - Time is 10
2018-01-22 10:53:09,449 - DEBUG - Time is <class 'int'>
2018-01-22 10:53:09,449 - DEBUG - Time is 53
2018-01-22 10:53:09,449 - DEBUG - Time is <class 'int'>
2018-01-22 10:53:09,449 - DEBUG - Disconnected from IBController
2018-01-22 10:53:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 10:58:05,353 - DEBUG - ****************************************************
2018-01-22 10:58:05,353 - DEBUG - Current Time is 10:58AM
2018-01-22 10:58:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-22 10:58:05,354 - DEBUG - Connecting to database
2018-01-22 10:58:05,376 - DEBUG - Connected to database
2018-01-22 10:58:05,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:05,378 - DEBUG - Order Profit is 0
2018-01-22 10:58:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:05,380 - DEBUG - Stop ID is 0
2018-01-22 10:58:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:05,381 - DEBUG - Entry ID is 0
2018-01-22 10:58:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 10:58:05,384 - DEBUG - OCA ID is 1
2018-01-22 10:58:05,384 - DEBUG - Connecting to IBController
2018-01-22 10:58:06,390 - DEBUG - Connected to IBController
2018-01-22 10:58:06,390 - DEBUG - Position requested
2018-01-22 10:58:06,393 - DEBUG - Pos Mgmt -12987
2018-01-22 10:58:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 10:58:06,394 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 10:58:06,394 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 10:58:06,394 - DEBUG - Position is -12987
2018-01-22 10:58:06,395 - DEBUG - Pos Mgmt 1
2018-01-22 10:58:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA58>, pos=1, avgCost=48882.9>
2018-01-22 10:58:06,395 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 10:58:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-22 10:58:06,395 - DEBUG - Position is 1
2018-01-22 10:58:07,391 - DEBUG - Open Orders requested
2018-01-22 10:58:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211CDD8>, order=<ib.ext.Order.Order object at 0x000000000211CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B20F0>>
2018-01-22 10:58:07,398 - DEBUG - Order OrderID 116
2018-01-22 10:58:07,399 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 10:58:07,399 - DEBUG - Order status PreSubmitted
2018-01-22 10:58:07,399 - DEBUG - Order Identification 116
2018-01-22 10:58:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-22 10:58:07,400 - DEBUG - Profit ID from database is 0
2018-01-22 10:58:07,400 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 10:58:07,400 - DEBUG - Stop ID database is 0
2018-01-22 10:58:07,401 - DEBUG - Entry ID database is 0
2018-01-22 10:58:09,399 - DEBUG - Connecting to database
2018-01-22 10:58:09,406 - DEBUG - Connected to database
2018-01-22 10:58:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,408 - DEBUG - Stop loss value is 0
2018-01-22 10:58:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,410 - DEBUG - Stop loss value is 0
2018-01-22 10:58:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,411 - DEBUG - EntryPrice value is 0
2018-01-22 10:58:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,413 - DEBUG - Stop quantity 0
2018-01-22 10:58:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,414 - DEBUG - Direction is 0
2018-01-22 10:58:09,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,416 - DEBUG - Count is 0
2018-01-22 10:58:09,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 10:58:09,418 - DEBUG - Stop Loss Flag is 0
2018-01-22 10:58:09,419 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 10:58:09,419 - DEBUG - Max ID Order is (116,)
2018-01-22 10:58:09,420 - DEBUG - Today is 2018-01-22
2018-01-22 10:58:09,420 - DEBUG - Day of the week 0
2018-01-22 10:58:09,420 - DEBUG - Yesterday is 01/19/2018
2018-01-22 10:58:09,421 - DEBUG - In Position is  0
2018-01-22 10:58:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-22 10:58:09,421 - DEBUG - curStopLossFlag is  0
2018-01-22 10:58:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 10:58:09,422 - DEBUG - Checking if Entry has been filled
2018-01-22 10:58:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:58:09,423 - DEBUG - EntryPend is 0
2018-01-22 10:58:09,424 - DEBUG - Try to Cancel Stop
2018-01-22 10:58:09,424 - DEBUG - Stop API ID 0
2018-01-22 10:58:09,424 - DEBUG - Profit API ID 0
2018-01-22 10:58:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-22 10:58:09,424 - DEBUG - Profit API ID <class 'int'>
2018-01-22 10:58:09,425 - DEBUG - Pos is 0
2018-01-22 10:58:09,425 - DEBUG - CurCount is 0
2018-01-22 10:58:09,425 - DEBUG - In Pos 0
2018-01-22 10:58:09,425 - DEBUG - Stop ID is 0
2018-01-22 10:58:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 10:58:09,427 - DEBUG - EntryPend is 0
2018-01-22 10:58:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 10:58:09,427 - DEBUG - Entry Date is 10
2018-01-22 10:58:09,428 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 10:58:09,428 - DEBUG - Order Profit ID is 0
2018-01-22 10:58:09,428 - DEBUG - Order Entry ID is 0
2018-01-22 10:58:09,428 - DEBUG - API ID is  0
2018-01-22 10:58:09,429 - DEBUG - Current Position is 0
2018-01-22 10:58:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-22 10:58:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 10:58:09,429 - DEBUG - Time is 10
2018-01-22 10:58:09,429 - DEBUG - Time is <class 'int'>
2018-01-22 10:58:09,430 - DEBUG - Time is 58
2018-01-22 10:58:09,430 - DEBUG - Time is <class 'int'>
2018-01-22 10:58:09,430 - DEBUG - Disconnected from IBController
2018-01-22 10:58:09,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:03:05,353 - DEBUG - ****************************************************
2018-01-22 11:03:05,354 - DEBUG - Current Time is 11:03AM
2018-01-22 11:03:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:03:05,354 - DEBUG - Connecting to database
2018-01-22 11:03:05,407 - DEBUG - Connected to database
2018-01-22 11:03:05,407 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:05,409 - DEBUG - Order Profit is 0
2018-01-22 11:03:05,409 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:05,410 - DEBUG - Stop ID is 0
2018-01-22 11:03:05,411 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:05,412 - DEBUG - Entry ID is 0
2018-01-22 11:03:05,412 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:03:05,413 - DEBUG - OCA ID is 1
2018-01-22 11:03:05,414 - DEBUG - Connecting to IBController
2018-01-22 11:03:06,420 - DEBUG - Connected to IBController
2018-01-22 11:03:06,420 - DEBUG - Position requested
2018-01-22 11:03:06,422 - DEBUG - Pos Mgmt -12987
2018-01-22 11:03:06,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:03:06,429 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:03:06,431 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:03:06,431 - DEBUG - Position is -12987
2018-01-22 11:03:06,431 - DEBUG - Pos Mgmt 1
2018-01-22 11:03:06,432 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:03:06,432 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:03:06,432 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:03:06,432 - DEBUG - Position is 1
2018-01-22 11:03:07,421 - DEBUG - Open Orders requested
2018-01-22 11:03:07,423 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, order=<ib.ext.Order.Order object at 0x000000000211DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-22 11:03:07,424 - DEBUG - Order OrderID 116
2018-01-22 11:03:07,424 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:03:07,424 - DEBUG - Order status PreSubmitted
2018-01-22 11:03:07,425 - DEBUG - Order Identification 116
2018-01-22 11:03:07,425 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:03:07,425 - DEBUG - Profit ID from database is 0
2018-01-22 11:03:07,426 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:03:07,426 - DEBUG - Stop ID database is 0
2018-01-22 11:03:07,426 - DEBUG - Entry ID database is 0
2018-01-22 11:03:09,423 - DEBUG - Connecting to database
2018-01-22 11:03:09,430 - DEBUG - Connected to database
2018-01-22 11:03:09,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,432 - DEBUG - Stop loss value is 0
2018-01-22 11:03:09,433 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,434 - DEBUG - Stop loss value is 0
2018-01-22 11:03:09,435 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,435 - DEBUG - EntryPrice value is 0
2018-01-22 11:03:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,437 - DEBUG - Stop quantity 0
2018-01-22 11:03:09,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,439 - DEBUG - Direction is 0
2018-01-22 11:03:09,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,440 - DEBUG - Count is 0
2018-01-22 11:03:09,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:03:09,442 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:03:09,443 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:03:09,443 - DEBUG - Max ID Order is (116,)
2018-01-22 11:03:09,444 - DEBUG - Today is 2018-01-22
2018-01-22 11:03:09,444 - DEBUG - Day of the week 0
2018-01-22 11:03:09,444 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:03:09,445 - DEBUG - In Position is  0
2018-01-22 11:03:09,445 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:03:09,445 - DEBUG - curStopLossFlag is  0
2018-01-22 11:03:09,445 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:03:09,446 - DEBUG - Checking if Entry has been filled
2018-01-22 11:03:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:03:09,447 - DEBUG - EntryPend is 0
2018-01-22 11:03:09,447 - DEBUG - Try to Cancel Stop
2018-01-22 11:03:09,448 - DEBUG - Stop API ID 0
2018-01-22 11:03:09,448 - DEBUG - Profit API ID 0
2018-01-22 11:03:09,448 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:03:09,448 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:03:09,449 - DEBUG - Pos is 0
2018-01-22 11:03:09,449 - DEBUG - CurCount is 0
2018-01-22 11:03:09,449 - DEBUG - In Pos 0
2018-01-22 11:03:09,449 - DEBUG - Stop ID is 0
2018-01-22 11:03:09,449 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:03:09,451 - DEBUG - EntryPend is 0
2018-01-22 11:03:09,451 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:03:09,451 - DEBUG - Entry Date is 10
2018-01-22 11:03:09,451 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:03:09,452 - DEBUG - Order Profit ID is 0
2018-01-22 11:03:09,452 - DEBUG - Order Entry ID is 0
2018-01-22 11:03:09,452 - DEBUG - API ID is  0
2018-01-22 11:03:09,452 - DEBUG - Current Position is 0
2018-01-22 11:03:09,453 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:03:09,453 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:03:09,453 - DEBUG - Time is 11
2018-01-22 11:03:09,453 - DEBUG - Time is <class 'int'>
2018-01-22 11:03:09,453 - DEBUG - Time is 3
2018-01-22 11:03:09,454 - DEBUG - Time is <class 'int'>
2018-01-22 11:03:09,454 - DEBUG - Disconnected from IBController
2018-01-22 11:03:09,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:08:05,373 - DEBUG - ****************************************************
2018-01-22 11:08:05,374 - DEBUG - Current Time is 11:08AM
2018-01-22 11:08:05,374 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:08:05,375 - DEBUG - Connecting to database
2018-01-22 11:08:05,409 - DEBUG - Connected to database
2018-01-22 11:08:05,409 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:05,411 - DEBUG - Order Profit is 0
2018-01-22 11:08:05,411 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:05,412 - DEBUG - Stop ID is 0
2018-01-22 11:08:05,413 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:05,414 - DEBUG - Entry ID is 0
2018-01-22 11:08:05,414 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:08:05,416 - DEBUG - OCA ID is 1
2018-01-22 11:08:05,416 - DEBUG - Connecting to IBController
2018-01-22 11:08:06,428 - DEBUG - Connected to IBController
2018-01-22 11:08:06,428 - DEBUG - Position requested
2018-01-22 11:08:06,430 - DEBUG - Pos Mgmt -12987
2018-01-22 11:08:06,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:08:06,431 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:08:06,431 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:08:06,431 - DEBUG - Position is -12987
2018-01-22 11:08:06,431 - DEBUG - Pos Mgmt 1
2018-01-22 11:08:06,432 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDA58>, pos=1, avgCost=48882.9>
2018-01-22 11:08:06,432 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:08:06,432 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:08:06,432 - DEBUG - Position is 1
2018-01-22 11:08:07,429 - DEBUG - Open Orders requested
2018-01-22 11:08:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020DDDD8>, order=<ib.ext.Order.Order object at 0x00000000020DDD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021710F0>>
2018-01-22 11:08:07,432 - DEBUG - Order OrderID 116
2018-01-22 11:08:07,432 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:08:07,432 - DEBUG - Order status PreSubmitted
2018-01-22 11:08:07,433 - DEBUG - Order Identification 116
2018-01-22 11:08:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:08:07,433 - DEBUG - Profit ID from database is 0
2018-01-22 11:08:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:08:07,434 - DEBUG - Stop ID database is 0
2018-01-22 11:08:07,434 - DEBUG - Entry ID database is 0
2018-01-22 11:08:09,431 - DEBUG - Connecting to database
2018-01-22 11:08:09,440 - DEBUG - Connected to database
2018-01-22 11:08:09,441 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,442 - DEBUG - Stop loss value is 0
2018-01-22 11:08:09,443 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,443 - DEBUG - Stop loss value is 0
2018-01-22 11:08:09,445 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,445 - DEBUG - EntryPrice value is 0
2018-01-22 11:08:09,446 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,447 - DEBUG - Stop quantity 0
2018-01-22 11:08:09,448 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,448 - DEBUG - Direction is 0
2018-01-22 11:08:09,450 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,450 - DEBUG - Count is 0
2018-01-22 11:08:09,452 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:08:09,452 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:08:09,453 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:08:09,453 - DEBUG - Max ID Order is (116,)
2018-01-22 11:08:09,454 - DEBUG - Today is 2018-01-22
2018-01-22 11:08:09,454 - DEBUG - Day of the week 0
2018-01-22 11:08:09,454 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:08:09,455 - DEBUG - In Position is  0
2018-01-22 11:08:09,455 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:08:09,455 - DEBUG - curStopLossFlag is  0
2018-01-22 11:08:09,455 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:08:09,456 - DEBUG - Checking if Entry has been filled
2018-01-22 11:08:09,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:08:09,457 - DEBUG - EntryPend is 0
2018-01-22 11:08:09,457 - DEBUG - Try to Cancel Stop
2018-01-22 11:08:09,458 - DEBUG - Stop API ID 0
2018-01-22 11:08:09,458 - DEBUG - Profit API ID 0
2018-01-22 11:08:09,458 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:08:09,458 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:08:09,459 - DEBUG - Pos is 0
2018-01-22 11:08:09,459 - DEBUG - CurCount is 0
2018-01-22 11:08:09,459 - DEBUG - In Pos 0
2018-01-22 11:08:09,459 - DEBUG - Stop ID is 0
2018-01-22 11:08:09,459 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:08:09,461 - DEBUG - EntryPend is 0
2018-01-22 11:08:09,461 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:08:09,461 - DEBUG - Entry Date is 10
2018-01-22 11:08:09,461 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:08:09,462 - DEBUG - Order Profit ID is 0
2018-01-22 11:08:09,462 - DEBUG - Order Entry ID is 0
2018-01-22 11:08:09,462 - DEBUG - API ID is  0
2018-01-22 11:08:09,462 - DEBUG - Current Position is 0
2018-01-22 11:08:09,462 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:08:09,463 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:08:09,463 - DEBUG - Time is 11
2018-01-22 11:08:09,463 - DEBUG - Time is <class 'int'>
2018-01-22 11:08:09,463 - DEBUG - Time is 8
2018-01-22 11:08:09,464 - DEBUG - Time is <class 'int'>
2018-01-22 11:08:09,464 - DEBUG - Disconnected from IBController
2018-01-22 11:08:09,464 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:13:05,366 - DEBUG - ****************************************************
2018-01-22 11:13:05,366 - DEBUG - Current Time is 11:13AM
2018-01-22 11:13:05,367 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:13:05,367 - DEBUG - Connecting to database
2018-01-22 11:13:05,394 - DEBUG - Connected to database
2018-01-22 11:13:05,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:05,395 - DEBUG - Order Profit is 0
2018-01-22 11:13:05,396 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:05,397 - DEBUG - Stop ID is 0
2018-01-22 11:13:05,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:05,399 - DEBUG - Entry ID is 0
2018-01-22 11:13:05,399 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:13:05,400 - DEBUG - OCA ID is 1
2018-01-22 11:13:05,401 - DEBUG - Connecting to IBController
2018-01-22 11:13:06,407 - DEBUG - Connected to IBController
2018-01-22 11:13:06,407 - DEBUG - Position requested
2018-01-22 11:13:06,411 - DEBUG - Pos Mgmt -12987
2018-01-22 11:13:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:13:06,416 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:13:06,416 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:13:06,419 - DEBUG - Position is -12987
2018-01-22 11:13:06,420 - DEBUG - Pos Mgmt 1
2018-01-22 11:13:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CAC8>, pos=1, avgCost=48882.9>
2018-01-22 11:13:06,420 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:13:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:13:06,421 - DEBUG - Position is 1
2018-01-22 11:13:07,411 - DEBUG - Open Orders requested
2018-01-22 11:13:07,413 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000212CCF8>, order=<ib.ext.Order.Order object at 0x000000000212CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2080>>
2018-01-22 11:13:07,414 - DEBUG - Order OrderID 116
2018-01-22 11:13:07,415 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:13:07,415 - DEBUG - Order status PreSubmitted
2018-01-22 11:13:07,415 - DEBUG - Order Identification 116
2018-01-22 11:13:07,415 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:13:07,416 - DEBUG - Profit ID from database is 0
2018-01-22 11:13:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:13:07,416 - DEBUG - Stop ID database is 0
2018-01-22 11:13:07,416 - DEBUG - Entry ID database is 0
2018-01-22 11:13:09,412 - DEBUG - Connecting to database
2018-01-22 11:13:09,419 - DEBUG - Connected to database
2018-01-22 11:13:09,420 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,421 - DEBUG - Stop loss value is 0
2018-01-22 11:13:09,422 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,422 - DEBUG - Stop loss value is 0
2018-01-22 11:13:09,424 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,424 - DEBUG - EntryPrice value is 0
2018-01-22 11:13:09,425 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,426 - DEBUG - Stop quantity 0
2018-01-22 11:13:09,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,427 - DEBUG - Direction is 0
2018-01-22 11:13:09,428 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,429 - DEBUG - Count is 0
2018-01-22 11:13:09,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:13:09,430 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:13:09,432 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:13:09,432 - DEBUG - Max ID Order is (116,)
2018-01-22 11:13:09,432 - DEBUG - Today is 2018-01-22
2018-01-22 11:13:09,433 - DEBUG - Day of the week 0
2018-01-22 11:13:09,433 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:13:09,433 - DEBUG - In Position is  0
2018-01-22 11:13:09,434 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:13:09,434 - DEBUG - curStopLossFlag is  0
2018-01-22 11:13:09,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:13:09,434 - DEBUG - Checking if Entry has been filled
2018-01-22 11:13:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:13:09,436 - DEBUG - EntryPend is 0
2018-01-22 11:13:09,436 - DEBUG - Try to Cancel Stop
2018-01-22 11:13:09,436 - DEBUG - Stop API ID 0
2018-01-22 11:13:09,437 - DEBUG - Profit API ID 0
2018-01-22 11:13:09,437 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:13:09,437 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:13:09,437 - DEBUG - Pos is 0
2018-01-22 11:13:09,437 - DEBUG - CurCount is 0
2018-01-22 11:13:09,438 - DEBUG - In Pos 0
2018-01-22 11:13:09,438 - DEBUG - Stop ID is 0
2018-01-22 11:13:09,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:13:09,439 - DEBUG - EntryPend is 0
2018-01-22 11:13:09,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:13:09,440 - DEBUG - Entry Date is 10
2018-01-22 11:13:09,440 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:13:09,440 - DEBUG - Order Profit ID is 0
2018-01-22 11:13:09,441 - DEBUG - Order Entry ID is 0
2018-01-22 11:13:09,441 - DEBUG - API ID is  0
2018-01-22 11:13:09,441 - DEBUG - Current Position is 0
2018-01-22 11:13:09,441 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:13:09,442 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:13:09,442 - DEBUG - Time is 11
2018-01-22 11:13:09,442 - DEBUG - Time is <class 'int'>
2018-01-22 11:13:09,442 - DEBUG - Time is 13
2018-01-22 11:13:09,442 - DEBUG - Time is <class 'int'>
2018-01-22 11:13:09,443 - DEBUG - Disconnected from IBController
2018-01-22 11:13:09,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:18:05,352 - DEBUG - ****************************************************
2018-01-22 11:18:05,352 - DEBUG - Current Time is 11:18AM
2018-01-22 11:18:05,353 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:18:05,353 - DEBUG - Connecting to database
2018-01-22 11:18:05,390 - DEBUG - Connected to database
2018-01-22 11:18:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:05,391 - DEBUG - Order Profit is 0
2018-01-22 11:18:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:05,393 - DEBUG - Stop ID is 0
2018-01-22 11:18:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:05,395 - DEBUG - Entry ID is 0
2018-01-22 11:18:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:18:05,396 - DEBUG - OCA ID is 1
2018-01-22 11:18:05,397 - DEBUG - Connecting to IBController
2018-01-22 11:18:06,401 - DEBUG - Connected to IBController
2018-01-22 11:18:06,401 - DEBUG - Position requested
2018-01-22 11:18:06,402 - DEBUG - Pos Mgmt -12987
2018-01-22 11:18:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:18:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:18:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:18:06,408 - DEBUG - Position is -12987
2018-01-22 11:18:06,408 - DEBUG - Pos Mgmt 1
2018-01-22 11:18:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DBE0>, pos=1, avgCost=48882.9>
2018-01-22 11:18:06,408 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:18:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:18:06,409 - DEBUG - Position is 1
2018-01-22 11:18:07,407 - DEBUG - Open Orders requested
2018-01-22 11:18:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B10F0>>
2018-01-22 11:18:07,412 - DEBUG - Order OrderID 116
2018-01-22 11:18:07,412 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:18:07,413 - DEBUG - Order status PreSubmitted
2018-01-22 11:18:07,413 - DEBUG - Order Identification 116
2018-01-22 11:18:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:18:07,413 - DEBUG - Profit ID from database is 0
2018-01-22 11:18:07,414 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:18:07,414 - DEBUG - Stop ID database is 0
2018-01-22 11:18:07,414 - DEBUG - Entry ID database is 0
2018-01-22 11:18:09,413 - DEBUG - Connecting to database
2018-01-22 11:18:09,420 - DEBUG - Connected to database
2018-01-22 11:18:09,421 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,422 - DEBUG - Stop loss value is 0
2018-01-22 11:18:09,423 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,424 - DEBUG - Stop loss value is 0
2018-01-22 11:18:09,425 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,425 - DEBUG - EntryPrice value is 0
2018-01-22 11:18:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,427 - DEBUG - Stop quantity 0
2018-01-22 11:18:09,428 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,429 - DEBUG - Direction is 0
2018-01-22 11:18:09,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,430 - DEBUG - Count is 0
2018-01-22 11:18:09,431 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:18:09,432 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:18:09,433 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:18:09,433 - DEBUG - Max ID Order is (116,)
2018-01-22 11:18:09,434 - DEBUG - Today is 2018-01-22
2018-01-22 11:18:09,434 - DEBUG - Day of the week 0
2018-01-22 11:18:09,434 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:18:09,435 - DEBUG - In Position is  0
2018-01-22 11:18:09,435 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:18:09,435 - DEBUG - curStopLossFlag is  0
2018-01-22 11:18:09,435 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:18:09,436 - DEBUG - Checking if Entry has been filled
2018-01-22 11:18:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:18:09,437 - DEBUG - EntryPend is 0
2018-01-22 11:18:09,437 - DEBUG - Try to Cancel Stop
2018-01-22 11:18:09,438 - DEBUG - Stop API ID 0
2018-01-22 11:18:09,438 - DEBUG - Profit API ID 0
2018-01-22 11:18:09,438 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:18:09,438 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:18:09,439 - DEBUG - Pos is 0
2018-01-22 11:18:09,439 - DEBUG - CurCount is 0
2018-01-22 11:18:09,439 - DEBUG - In Pos 0
2018-01-22 11:18:09,439 - DEBUG - Stop ID is 0
2018-01-22 11:18:09,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:18:09,441 - DEBUG - EntryPend is 0
2018-01-22 11:18:09,441 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:18:09,441 - DEBUG - Entry Date is 10
2018-01-22 11:18:09,441 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:18:09,442 - DEBUG - Order Profit ID is 0
2018-01-22 11:18:09,442 - DEBUG - Order Entry ID is 0
2018-01-22 11:18:09,442 - DEBUG - API ID is  0
2018-01-22 11:18:09,442 - DEBUG - Current Position is 0
2018-01-22 11:18:09,443 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:18:09,443 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:18:09,443 - DEBUG - Time is 11
2018-01-22 11:18:09,443 - DEBUG - Time is <class 'int'>
2018-01-22 11:18:09,443 - DEBUG - Time is 18
2018-01-22 11:18:09,444 - DEBUG - Time is <class 'int'>
2018-01-22 11:18:09,444 - DEBUG - Disconnected from IBController
2018-01-22 11:18:09,444 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:23:05,354 - DEBUG - ****************************************************
2018-01-22 11:23:05,354 - DEBUG - Current Time is 11:23AM
2018-01-22 11:23:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:23:05,355 - DEBUG - Connecting to database
2018-01-22 11:23:05,386 - DEBUG - Connected to database
2018-01-22 11:23:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:05,387 - DEBUG - Order Profit is 0
2018-01-22 11:23:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:05,389 - DEBUG - Stop ID is 0
2018-01-22 11:23:05,389 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:05,391 - DEBUG - Entry ID is 0
2018-01-22 11:23:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:23:05,392 - DEBUG - OCA ID is 1
2018-01-22 11:23:05,393 - DEBUG - Connecting to IBController
2018-01-22 11:23:06,400 - DEBUG - Connected to IBController
2018-01-22 11:23:06,400 - DEBUG - Position requested
2018-01-22 11:23:06,402 - DEBUG - Pos Mgmt -12987
2018-01-22 11:23:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:23:06,402 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:23:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:23:06,403 - DEBUG - Position is -12987
2018-01-22 11:23:06,403 - DEBUG - Pos Mgmt 1
2018-01-22 11:23:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DC18>, pos=1, avgCost=48882.9>
2018-01-22 11:23:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:23:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:23:06,404 - DEBUG - Position is 1
2018-01-22 11:23:07,402 - DEBUG - Open Orders requested
2018-01-22 11:23:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000212DA90>, order=<ib.ext.Order.Order object at 0x000000000212DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1080>>
2018-01-22 11:23:07,405 - DEBUG - Order OrderID 116
2018-01-22 11:23:07,406 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:23:07,406 - DEBUG - Order status PreSubmitted
2018-01-22 11:23:07,406 - DEBUG - Order Identification 116
2018-01-22 11:23:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:23:07,407 - DEBUG - Profit ID from database is 0
2018-01-22 11:23:07,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:23:07,407 - DEBUG - Stop ID database is 0
2018-01-22 11:23:07,408 - DEBUG - Entry ID database is 0
2018-01-22 11:23:09,404 - DEBUG - Connecting to database
2018-01-22 11:23:09,411 - DEBUG - Connected to database
2018-01-22 11:23:09,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,413 - DEBUG - Stop loss value is 0
2018-01-22 11:23:09,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,414 - DEBUG - Stop loss value is 0
2018-01-22 11:23:09,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,416 - DEBUG - EntryPrice value is 0
2018-01-22 11:23:09,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,417 - DEBUG - Stop quantity 0
2018-01-22 11:23:09,419 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,419 - DEBUG - Direction is 0
2018-01-22 11:23:09,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,421 - DEBUG - Count is 0
2018-01-22 11:23:09,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:23:09,422 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:23:09,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:23:09,424 - DEBUG - Max ID Order is (116,)
2018-01-22 11:23:09,424 - DEBUG - Today is 2018-01-22
2018-01-22 11:23:09,425 - DEBUG - Day of the week 0
2018-01-22 11:23:09,425 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:23:09,425 - DEBUG - In Position is  0
2018-01-22 11:23:09,426 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:23:09,426 - DEBUG - curStopLossFlag is  0
2018-01-22 11:23:09,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:23:09,426 - DEBUG - Checking if Entry has been filled
2018-01-22 11:23:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:23:09,428 - DEBUG - EntryPend is 0
2018-01-22 11:23:09,428 - DEBUG - Try to Cancel Stop
2018-01-22 11:23:09,428 - DEBUG - Stop API ID 0
2018-01-22 11:23:09,429 - DEBUG - Profit API ID 0
2018-01-22 11:23:09,429 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:23:09,429 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:23:09,429 - DEBUG - Pos is 0
2018-01-22 11:23:09,429 - DEBUG - CurCount is 0
2018-01-22 11:23:09,430 - DEBUG - In Pos 0
2018-01-22 11:23:09,430 - DEBUG - Stop ID is 0
2018-01-22 11:23:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:23:09,431 - DEBUG - EntryPend is 0
2018-01-22 11:23:09,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:23:09,432 - DEBUG - Entry Date is 10
2018-01-22 11:23:09,432 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:23:09,432 - DEBUG - Order Profit ID is 0
2018-01-22 11:23:09,433 - DEBUG - Order Entry ID is 0
2018-01-22 11:23:09,433 - DEBUG - API ID is  0
2018-01-22 11:23:09,433 - DEBUG - Current Position is 0
2018-01-22 11:23:09,433 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:23:09,434 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:23:09,434 - DEBUG - Time is 11
2018-01-22 11:23:09,434 - DEBUG - Time is <class 'int'>
2018-01-22 11:23:09,434 - DEBUG - Time is 23
2018-01-22 11:23:09,434 - DEBUG - Time is <class 'int'>
2018-01-22 11:23:09,435 - DEBUG - Disconnected from IBController
2018-01-22 11:23:09,435 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:28:05,355 - DEBUG - ****************************************************
2018-01-22 11:28:05,355 - DEBUG - Current Time is 11:28AM
2018-01-22 11:28:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:28:05,356 - DEBUG - Connecting to database
2018-01-22 11:28:05,394 - DEBUG - Connected to database
2018-01-22 11:28:05,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:05,396 - DEBUG - Order Profit is 0
2018-01-22 11:28:05,396 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:05,397 - DEBUG - Stop ID is 0
2018-01-22 11:28:05,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:05,399 - DEBUG - Entry ID is 0
2018-01-22 11:28:05,399 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:28:05,401 - DEBUG - OCA ID is 1
2018-01-22 11:28:05,401 - DEBUG - Connecting to IBController
2018-01-22 11:28:06,406 - DEBUG - Connected to IBController
2018-01-22 11:28:06,406 - DEBUG - Position requested
2018-01-22 11:28:06,408 - DEBUG - Pos Mgmt -12987
2018-01-22 11:28:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214AA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:28:06,408 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:28:06,409 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:28:06,409 - DEBUG - Position is -12987
2018-01-22 11:28:06,409 - DEBUG - Pos Mgmt 1
2018-01-22 11:28:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214ABA8>, pos=1, avgCost=48882.9>
2018-01-22 11:28:06,410 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:28:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:28:06,410 - DEBUG - Position is 1
2018-01-22 11:28:07,408 - DEBUG - Open Orders requested
2018-01-22 11:28:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000214AA90>, order=<ib.ext.Order.Order object at 0x000000000214ACF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021DF080>>
2018-01-22 11:28:07,411 - DEBUG - Order OrderID 116
2018-01-22 11:28:07,411 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:28:07,411 - DEBUG - Order status PreSubmitted
2018-01-22 11:28:07,414 - DEBUG - Order Identification 116
2018-01-22 11:28:07,414 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:28:07,417 - DEBUG - Profit ID from database is 0
2018-01-22 11:28:07,418 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:28:07,418 - DEBUG - Stop ID database is 0
2018-01-22 11:28:07,418 - DEBUG - Entry ID database is 0
2018-01-22 11:28:09,409 - DEBUG - Connecting to database
2018-01-22 11:28:09,417 - DEBUG - Connected to database
2018-01-22 11:28:09,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,419 - DEBUG - Stop loss value is 0
2018-01-22 11:28:09,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,421 - DEBUG - Stop loss value is 0
2018-01-22 11:28:09,422 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,422 - DEBUG - EntryPrice value is 0
2018-01-22 11:28:09,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,424 - DEBUG - Stop quantity 0
2018-01-22 11:28:09,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,425 - DEBUG - Direction is 0
2018-01-22 11:28:09,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,427 - DEBUG - Count is 0
2018-01-22 11:28:09,429 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:28:09,429 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:28:09,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:28:09,431 - DEBUG - Max ID Order is (116,)
2018-01-22 11:28:09,431 - DEBUG - Today is 2018-01-22
2018-01-22 11:28:09,431 - DEBUG - Day of the week 0
2018-01-22 11:28:09,432 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:28:09,432 - DEBUG - In Position is  0
2018-01-22 11:28:09,432 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:28:09,432 - DEBUG - curStopLossFlag is  0
2018-01-22 11:28:09,433 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:28:09,433 - DEBUG - Checking if Entry has been filled
2018-01-22 11:28:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:28:09,435 - DEBUG - EntryPend is 0
2018-01-22 11:28:09,435 - DEBUG - Try to Cancel Stop
2018-01-22 11:28:09,435 - DEBUG - Stop API ID 0
2018-01-22 11:28:09,435 - DEBUG - Profit API ID 0
2018-01-22 11:28:09,435 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:28:09,436 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:28:09,436 - DEBUG - Pos is 0
2018-01-22 11:28:09,436 - DEBUG - CurCount is 0
2018-01-22 11:28:09,436 - DEBUG - In Pos 0
2018-01-22 11:28:09,437 - DEBUG - Stop ID is 0
2018-01-22 11:28:09,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:28:09,438 - DEBUG - EntryPend is 0
2018-01-22 11:28:09,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:28:09,439 - DEBUG - Entry Date is 10
2018-01-22 11:28:09,439 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:28:09,439 - DEBUG - Order Profit ID is 0
2018-01-22 11:28:09,439 - DEBUG - Order Entry ID is 0
2018-01-22 11:28:09,440 - DEBUG - API ID is  0
2018-01-22 11:28:09,440 - DEBUG - Current Position is 0
2018-01-22 11:28:09,440 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:28:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:28:09,441 - DEBUG - Time is 11
2018-01-22 11:28:09,441 - DEBUG - Time is <class 'int'>
2018-01-22 11:28:09,441 - DEBUG - Time is 28
2018-01-22 11:28:09,441 - DEBUG - Time is <class 'int'>
2018-01-22 11:28:09,441 - DEBUG - Disconnected from IBController
2018-01-22 11:28:09,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:33:05,349 - DEBUG - ****************************************************
2018-01-22 11:33:05,350 - DEBUG - Current Time is 11:33AM
2018-01-22 11:33:05,350 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:33:05,351 - DEBUG - Connecting to database
2018-01-22 11:33:05,368 - DEBUG - Connected to database
2018-01-22 11:33:05,368 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:05,370 - DEBUG - Order Profit is 0
2018-01-22 11:33:05,370 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:05,371 - DEBUG - Stop ID is 0
2018-01-22 11:33:05,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:05,373 - DEBUG - Entry ID is 0
2018-01-22 11:33:05,373 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:33:05,375 - DEBUG - OCA ID is 1
2018-01-22 11:33:05,375 - DEBUG - Connecting to IBController
2018-01-22 11:33:06,378 - DEBUG - Connected to IBController
2018-01-22 11:33:06,378 - DEBUG - Position requested
2018-01-22 11:33:06,381 - DEBUG - Pos Mgmt -12987
2018-01-22 11:33:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:33:06,382 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:33:06,382 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:33:06,382 - DEBUG - Position is -12987
2018-01-22 11:33:06,382 - DEBUG - Pos Mgmt 1
2018-01-22 11:33:06,383 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:33:06,383 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:33:06,383 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:33:06,383 - DEBUG - Position is 1
2018-01-22 11:33:07,379 - DEBUG - Open Orders requested
2018-01-22 11:33:07,381 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DD30>, order=<ib.ext.Order.Order object at 0x000000000210DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-22 11:33:07,382 - DEBUG - Order OrderID 116
2018-01-22 11:33:07,383 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:33:07,383 - DEBUG - Order status PreSubmitted
2018-01-22 11:33:07,383 - DEBUG - Order Identification 116
2018-01-22 11:33:07,383 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:33:07,384 - DEBUG - Profit ID from database is 0
2018-01-22 11:33:07,384 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:33:07,384 - DEBUG - Stop ID database is 0
2018-01-22 11:33:07,384 - DEBUG - Entry ID database is 0
2018-01-22 11:33:09,381 - DEBUG - Connecting to database
2018-01-22 11:33:09,388 - DEBUG - Connected to database
2018-01-22 11:33:09,390 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,390 - DEBUG - Stop loss value is 0
2018-01-22 11:33:09,391 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,392 - DEBUG - Stop loss value is 0
2018-01-22 11:33:09,393 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,393 - DEBUG - EntryPrice value is 0
2018-01-22 11:33:09,395 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,395 - DEBUG - Stop quantity 0
2018-01-22 11:33:09,396 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,397 - DEBUG - Direction is 0
2018-01-22 11:33:09,398 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,398 - DEBUG - Count is 0
2018-01-22 11:33:09,400 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:33:09,400 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:33:09,401 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:33:09,402 - DEBUG - Max ID Order is (116,)
2018-01-22 11:33:09,402 - DEBUG - Today is 2018-01-22
2018-01-22 11:33:09,402 - DEBUG - Day of the week 0
2018-01-22 11:33:09,403 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:33:09,403 - DEBUG - In Position is  0
2018-01-22 11:33:09,403 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:33:09,403 - DEBUG - curStopLossFlag is  0
2018-01-22 11:33:09,404 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:33:09,404 - DEBUG - Checking if Entry has been filled
2018-01-22 11:33:09,404 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:33:09,405 - DEBUG - EntryPend is 0
2018-01-22 11:33:09,406 - DEBUG - Try to Cancel Stop
2018-01-22 11:33:09,406 - DEBUG - Stop API ID 0
2018-01-22 11:33:09,406 - DEBUG - Profit API ID 0
2018-01-22 11:33:09,406 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:33:09,407 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:33:09,407 - DEBUG - Pos is 0
2018-01-22 11:33:09,407 - DEBUG - CurCount is 0
2018-01-22 11:33:09,407 - DEBUG - In Pos 0
2018-01-22 11:33:09,407 - DEBUG - Stop ID is 0
2018-01-22 11:33:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:33:09,409 - DEBUG - EntryPend is 0
2018-01-22 11:33:09,409 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:33:09,409 - DEBUG - Entry Date is 10
2018-01-22 11:33:09,410 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:33:09,410 - DEBUG - Order Profit ID is 0
2018-01-22 11:33:09,410 - DEBUG - Order Entry ID is 0
2018-01-22 11:33:09,410 - DEBUG - API ID is  0
2018-01-22 11:33:09,411 - DEBUG - Current Position is 0
2018-01-22 11:33:09,411 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:33:09,411 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:33:09,411 - DEBUG - Time is 11
2018-01-22 11:33:09,411 - DEBUG - Time is <class 'int'>
2018-01-22 11:33:09,412 - DEBUG - Time is 33
2018-01-22 11:33:09,412 - DEBUG - Time is <class 'int'>
2018-01-22 11:33:09,412 - DEBUG - Disconnected from IBController
2018-01-22 11:33:09,413 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:38:05,374 - DEBUG - ****************************************************
2018-01-22 11:38:05,374 - DEBUG - Current Time is 11:38AM
2018-01-22 11:38:05,375 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:38:05,375 - DEBUG - Connecting to database
2018-01-22 11:38:05,393 - DEBUG - Connected to database
2018-01-22 11:38:05,394 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:05,395 - DEBUG - Order Profit is 0
2018-01-22 11:38:05,396 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:05,397 - DEBUG - Stop ID is 0
2018-01-22 11:38:05,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:05,399 - DEBUG - Entry ID is 0
2018-01-22 11:38:05,399 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:38:05,400 - DEBUG - OCA ID is 1
2018-01-22 11:38:05,401 - DEBUG - Connecting to IBController
2018-01-22 11:38:06,413 - DEBUG - Connected to IBController
2018-01-22 11:38:06,413 - DEBUG - Position requested
2018-01-22 11:38:06,416 - DEBUG - Pos Mgmt -12987
2018-01-22 11:38:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:38:06,421 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:38:06,421 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:38:06,425 - DEBUG - Position is -12987
2018-01-22 11:38:06,428 - DEBUG - Pos Mgmt 1
2018-01-22 11:38:06,429 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:38:06,429 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:38:06,429 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:38:06,430 - DEBUG - Position is 1
2018-01-22 11:38:07,415 - DEBUG - Open Orders requested
2018-01-22 11:38:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000213DD68>, order=<ib.ext.Order.Order object at 0x000000000213DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D1080>>
2018-01-22 11:38:07,420 - DEBUG - Order OrderID 116
2018-01-22 11:38:07,420 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:38:07,421 - DEBUG - Order status PreSubmitted
2018-01-22 11:38:07,421 - DEBUG - Order Identification 116
2018-01-22 11:38:07,421 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:38:07,421 - DEBUG - Profit ID from database is 0
2018-01-22 11:38:07,422 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:38:07,422 - DEBUG - Stop ID database is 0
2018-01-22 11:38:07,422 - DEBUG - Entry ID database is 0
2018-01-22 11:38:09,417 - DEBUG - Connecting to database
2018-01-22 11:38:09,424 - DEBUG - Connected to database
2018-01-22 11:38:09,425 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,425 - DEBUG - Stop loss value is 0
2018-01-22 11:38:09,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,427 - DEBUG - Stop loss value is 0
2018-01-22 11:38:09,428 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,429 - DEBUG - EntryPrice value is 0
2018-01-22 11:38:09,430 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,430 - DEBUG - Stop quantity 0
2018-01-22 11:38:09,432 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,432 - DEBUG - Direction is 0
2018-01-22 11:38:09,433 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,434 - DEBUG - Count is 0
2018-01-22 11:38:09,435 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:38:09,435 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:38:09,436 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:38:09,437 - DEBUG - Max ID Order is (116,)
2018-01-22 11:38:09,437 - DEBUG - Today is 2018-01-22
2018-01-22 11:38:09,438 - DEBUG - Day of the week 0
2018-01-22 11:38:09,438 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:38:09,438 - DEBUG - In Position is  0
2018-01-22 11:38:09,438 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:38:09,439 - DEBUG - curStopLossFlag is  0
2018-01-22 11:38:09,439 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:38:09,439 - DEBUG - Checking if Entry has been filled
2018-01-22 11:38:09,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:38:09,441 - DEBUG - EntryPend is 0
2018-01-22 11:38:09,441 - DEBUG - Try to Cancel Stop
2018-01-22 11:38:09,441 - DEBUG - Stop API ID 0
2018-01-22 11:38:09,441 - DEBUG - Profit API ID 0
2018-01-22 11:38:09,441 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:38:09,442 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:38:09,442 - DEBUG - Pos is 0
2018-01-22 11:38:09,442 - DEBUG - CurCount is 0
2018-01-22 11:38:09,442 - DEBUG - In Pos 0
2018-01-22 11:38:09,443 - DEBUG - Stop ID is 0
2018-01-22 11:38:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:38:09,444 - DEBUG - EntryPend is 0
2018-01-22 11:38:09,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:38:09,445 - DEBUG - Entry Date is 10
2018-01-22 11:38:09,445 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:38:09,445 - DEBUG - Order Profit ID is 0
2018-01-22 11:38:09,445 - DEBUG - Order Entry ID is 0
2018-01-22 11:38:09,445 - DEBUG - API ID is  0
2018-01-22 11:38:09,446 - DEBUG - Current Position is 0
2018-01-22 11:38:09,446 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:38:09,446 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:38:09,446 - DEBUG - Time is 11
2018-01-22 11:38:09,446 - DEBUG - Time is <class 'int'>
2018-01-22 11:38:09,447 - DEBUG - Time is 38
2018-01-22 11:38:09,447 - DEBUG - Time is <class 'int'>
2018-01-22 11:38:09,447 - DEBUG - Disconnected from IBController
2018-01-22 11:38:09,448 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:43:05,379 - DEBUG - ****************************************************
2018-01-22 11:43:05,380 - DEBUG - Current Time is 11:43AM
2018-01-22 11:43:05,380 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:43:05,380 - DEBUG - Connecting to database
2018-01-22 11:43:05,402 - DEBUG - Connected to database
2018-01-22 11:43:05,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:05,404 - DEBUG - Order Profit is 0
2018-01-22 11:43:05,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:05,406 - DEBUG - Stop ID is 0
2018-01-22 11:43:05,406 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:05,408 - DEBUG - Entry ID is 0
2018-01-22 11:43:05,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:43:05,410 - DEBUG - OCA ID is 1
2018-01-22 11:43:05,410 - DEBUG - Connecting to IBController
2018-01-22 11:43:06,417 - DEBUG - Connected to IBController
2018-01-22 11:43:06,417 - DEBUG - Position requested
2018-01-22 11:43:06,428 - DEBUG - Pos Mgmt -12987
2018-01-22 11:43:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:43:06,437 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:43:06,437 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:43:06,437 - DEBUG - Position is -12987
2018-01-22 11:43:06,438 - DEBUG - Pos Mgmt 1
2018-01-22 11:43:06,438 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DBE0>, pos=1, avgCost=48882.9>
2018-01-22 11:43:06,438 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:43:06,438 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:43:06,439 - DEBUG - Position is 1
2018-01-22 11:43:07,428 - DEBUG - Open Orders requested
2018-01-22 11:43:07,430 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000212DDD8>, order=<ib.ext.Order.Order object at 0x000000000212DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C10F0>>
2018-01-22 11:43:07,431 - DEBUG - Order OrderID 116
2018-01-22 11:43:07,431 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:43:07,432 - DEBUG - Order status PreSubmitted
2018-01-22 11:43:07,432 - DEBUG - Order Identification 116
2018-01-22 11:43:07,432 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:43:07,433 - DEBUG - Profit ID from database is 0
2018-01-22 11:43:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:43:07,433 - DEBUG - Stop ID database is 0
2018-01-22 11:43:07,433 - DEBUG - Entry ID database is 0
2018-01-22 11:43:09,432 - DEBUG - Connecting to database
2018-01-22 11:43:09,439 - DEBUG - Connected to database
2018-01-22 11:43:09,440 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,441 - DEBUG - Stop loss value is 0
2018-01-22 11:43:09,442 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,442 - DEBUG - Stop loss value is 0
2018-01-22 11:43:09,444 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,444 - DEBUG - EntryPrice value is 0
2018-01-22 11:43:09,445 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,446 - DEBUG - Stop quantity 0
2018-01-22 11:43:09,447 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,447 - DEBUG - Direction is 0
2018-01-22 11:43:09,448 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,449 - DEBUG - Count is 0
2018-01-22 11:43:09,450 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:43:09,450 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:43:09,452 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:43:09,452 - DEBUG - Max ID Order is (116,)
2018-01-22 11:43:09,453 - DEBUG - Today is 2018-01-22
2018-01-22 11:43:09,453 - DEBUG - Day of the week 0
2018-01-22 11:43:09,453 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:43:09,453 - DEBUG - In Position is  0
2018-01-22 11:43:09,454 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:43:09,454 - DEBUG - curStopLossFlag is  0
2018-01-22 11:43:09,454 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:43:09,454 - DEBUG - Checking if Entry has been filled
2018-01-22 11:43:09,455 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:43:09,456 - DEBUG - EntryPend is 0
2018-01-22 11:43:09,456 - DEBUG - Try to Cancel Stop
2018-01-22 11:43:09,456 - DEBUG - Stop API ID 0
2018-01-22 11:43:09,457 - DEBUG - Profit API ID 0
2018-01-22 11:43:09,457 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:43:09,457 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:43:09,457 - DEBUG - Pos is 0
2018-01-22 11:43:09,458 - DEBUG - CurCount is 0
2018-01-22 11:43:09,458 - DEBUG - In Pos 0
2018-01-22 11:43:09,458 - DEBUG - Stop ID is 0
2018-01-22 11:43:09,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:43:09,460 - DEBUG - EntryPend is 0
2018-01-22 11:43:09,460 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:43:09,460 - DEBUG - Entry Date is 10
2018-01-22 11:43:09,460 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:43:09,461 - DEBUG - Order Profit ID is 0
2018-01-22 11:43:09,461 - DEBUG - Order Entry ID is 0
2018-01-22 11:43:09,461 - DEBUG - API ID is  0
2018-01-22 11:43:09,461 - DEBUG - Current Position is 0
2018-01-22 11:43:09,461 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:43:09,462 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:43:09,462 - DEBUG - Time is 11
2018-01-22 11:43:09,462 - DEBUG - Time is <class 'int'>
2018-01-22 11:43:09,462 - DEBUG - Time is 43
2018-01-22 11:43:09,463 - DEBUG - Time is <class 'int'>
2018-01-22 11:43:09,463 - DEBUG - Disconnected from IBController
2018-01-22 11:43:09,463 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:48:05,345 - DEBUG - ****************************************************
2018-01-22 11:48:05,345 - DEBUG - Current Time is 11:48AM
2018-01-22 11:48:05,346 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:48:05,346 - DEBUG - Connecting to database
2018-01-22 11:48:05,391 - DEBUG - Connected to database
2018-01-22 11:48:05,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:05,393 - DEBUG - Order Profit is 0
2018-01-22 11:48:05,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:05,394 - DEBUG - Stop ID is 0
2018-01-22 11:48:05,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:05,396 - DEBUG - Entry ID is 0
2018-01-22 11:48:05,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:48:05,398 - DEBUG - OCA ID is 1
2018-01-22 11:48:05,398 - DEBUG - Connecting to IBController
2018-01-22 11:48:06,403 - DEBUG - Connected to IBController
2018-01-22 11:48:06,403 - DEBUG - Position requested
2018-01-22 11:48:06,405 - DEBUG - Pos Mgmt -12987
2018-01-22 11:48:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:48:06,405 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:48:06,406 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:48:06,406 - DEBUG - Position is -12987
2018-01-22 11:48:06,406 - DEBUG - Pos Mgmt 1
2018-01-22 11:48:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:48:06,407 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:48:06,407 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:48:06,407 - DEBUG - Position is 1
2018-01-22 11:48:07,405 - DEBUG - Open Orders requested
2018-01-22 11:48:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DD68>, order=<ib.ext.Order.Order object at 0x000000000210DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-22 11:48:07,408 - DEBUG - Order OrderID 116
2018-01-22 11:48:07,408 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:48:07,409 - DEBUG - Order status PreSubmitted
2018-01-22 11:48:07,409 - DEBUG - Order Identification 116
2018-01-22 11:48:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:48:07,409 - DEBUG - Profit ID from database is 0
2018-01-22 11:48:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:48:07,410 - DEBUG - Stop ID database is 0
2018-01-22 11:48:07,410 - DEBUG - Entry ID database is 0
2018-01-22 11:48:09,406 - DEBUG - Connecting to database
2018-01-22 11:48:09,413 - DEBUG - Connected to database
2018-01-22 11:48:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,415 - DEBUG - Stop loss value is 0
2018-01-22 11:48:09,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,416 - DEBUG - Stop loss value is 0
2018-01-22 11:48:09,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,418 - DEBUG - EntryPrice value is 0
2018-01-22 11:48:09,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,420 - DEBUG - Stop quantity 0
2018-01-22 11:48:09,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,422 - DEBUG - Direction is 0
2018-01-22 11:48:09,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,423 - DEBUG - Count is 0
2018-01-22 11:48:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:48:09,425 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:48:09,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:48:09,427 - DEBUG - Max ID Order is (116,)
2018-01-22 11:48:09,427 - DEBUG - Today is 2018-01-22
2018-01-22 11:48:09,428 - DEBUG - Day of the week 0
2018-01-22 11:48:09,428 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:48:09,428 - DEBUG - In Position is  0
2018-01-22 11:48:09,428 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:48:09,428 - DEBUG - curStopLossFlag is  0
2018-01-22 11:48:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:48:09,429 - DEBUG - Checking if Entry has been filled
2018-01-22 11:48:09,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:48:09,431 - DEBUG - EntryPend is 0
2018-01-22 11:48:09,431 - DEBUG - Try to Cancel Stop
2018-01-22 11:48:09,431 - DEBUG - Stop API ID 0
2018-01-22 11:48:09,431 - DEBUG - Profit API ID 0
2018-01-22 11:48:09,431 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:48:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:48:09,432 - DEBUG - Pos is 0
2018-01-22 11:48:09,432 - DEBUG - CurCount is 0
2018-01-22 11:48:09,432 - DEBUG - In Pos 0
2018-01-22 11:48:09,433 - DEBUG - Stop ID is 0
2018-01-22 11:48:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:48:09,434 - DEBUG - EntryPend is 0
2018-01-22 11:48:09,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:48:09,435 - DEBUG - Entry Date is 10
2018-01-22 11:48:09,435 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:48:09,435 - DEBUG - Order Profit ID is 0
2018-01-22 11:48:09,435 - DEBUG - Order Entry ID is 0
2018-01-22 11:48:09,436 - DEBUG - API ID is  0
2018-01-22 11:48:09,436 - DEBUG - Current Position is 0
2018-01-22 11:48:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:48:09,436 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:48:09,437 - DEBUG - Time is 11
2018-01-22 11:48:09,437 - DEBUG - Time is <class 'int'>
2018-01-22 11:48:09,437 - DEBUG - Time is 48
2018-01-22 11:48:09,437 - DEBUG - Time is <class 'int'>
2018-01-22 11:48:09,438 - DEBUG - Disconnected from IBController
2018-01-22 11:48:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:53:05,380 - DEBUG - ****************************************************
2018-01-22 11:53:05,381 - DEBUG - Current Time is 11:53AM
2018-01-22 11:53:05,381 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:53:05,381 - DEBUG - Connecting to database
2018-01-22 11:53:05,434 - DEBUG - Connected to database
2018-01-22 11:53:05,434 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:05,436 - DEBUG - Order Profit is 0
2018-01-22 11:53:05,436 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:05,437 - DEBUG - Stop ID is 0
2018-01-22 11:53:05,438 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:05,439 - DEBUG - Entry ID is 0
2018-01-22 11:53:05,439 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:53:05,441 - DEBUG - OCA ID is 1
2018-01-22 11:53:05,441 - DEBUG - Connecting to IBController
2018-01-22 11:53:06,444 - DEBUG - Connected to IBController
2018-01-22 11:53:06,444 - DEBUG - Position requested
2018-01-22 11:53:06,446 - DEBUG - Pos Mgmt -12987
2018-01-22 11:53:06,446 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:53:06,447 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:53:06,447 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:53:06,447 - DEBUG - Position is -12987
2018-01-22 11:53:06,448 - DEBUG - Pos Mgmt 1
2018-01-22 11:53:06,448 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:53:06,448 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:53:06,448 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:53:06,449 - DEBUG - Position is 1
2018-01-22 11:53:07,445 - DEBUG - Open Orders requested
2018-01-22 11:53:07,447 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DDD8>, order=<ib.ext.Order.Order object at 0x000000000211DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B10F0>>
2018-01-22 11:53:07,448 - DEBUG - Order OrderID 116
2018-01-22 11:53:07,448 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:53:07,449 - DEBUG - Order status PreSubmitted
2018-01-22 11:53:07,449 - DEBUG - Order Identification 116
2018-01-22 11:53:07,449 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:53:07,450 - DEBUG - Profit ID from database is 0
2018-01-22 11:53:07,450 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:53:07,450 - DEBUG - Stop ID database is 0
2018-01-22 11:53:07,450 - DEBUG - Entry ID database is 0
2018-01-22 11:53:09,448 - DEBUG - Connecting to database
2018-01-22 11:53:09,455 - DEBUG - Connected to database
2018-01-22 11:53:09,456 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,457 - DEBUG - Stop loss value is 0
2018-01-22 11:53:09,458 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,458 - DEBUG - Stop loss value is 0
2018-01-22 11:53:09,460 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,460 - DEBUG - EntryPrice value is 0
2018-01-22 11:53:09,461 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,462 - DEBUG - Stop quantity 0
2018-01-22 11:53:09,463 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,463 - DEBUG - Direction is 0
2018-01-22 11:53:09,465 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,465 - DEBUG - Count is 0
2018-01-22 11:53:09,466 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:53:09,467 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:53:09,468 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:53:09,468 - DEBUG - Max ID Order is (116,)
2018-01-22 11:53:09,469 - DEBUG - Today is 2018-01-22
2018-01-22 11:53:09,469 - DEBUG - Day of the week 0
2018-01-22 11:53:09,469 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:53:09,469 - DEBUG - In Position is  0
2018-01-22 11:53:09,470 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:53:09,470 - DEBUG - curStopLossFlag is  0
2018-01-22 11:53:09,470 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:53:09,470 - DEBUG - Checking if Entry has been filled
2018-01-22 11:53:09,471 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:53:09,472 - DEBUG - EntryPend is 0
2018-01-22 11:53:09,472 - DEBUG - Try to Cancel Stop
2018-01-22 11:53:09,472 - DEBUG - Stop API ID 0
2018-01-22 11:53:09,473 - DEBUG - Profit API ID 0
2018-01-22 11:53:09,473 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:53:09,473 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:53:09,473 - DEBUG - Pos is 0
2018-01-22 11:53:09,473 - DEBUG - CurCount is 0
2018-01-22 11:53:09,474 - DEBUG - In Pos 0
2018-01-22 11:53:09,474 - DEBUG - Stop ID is 0
2018-01-22 11:53:09,474 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:53:09,476 - DEBUG - EntryPend is 0
2018-01-22 11:53:09,476 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:53:09,476 - DEBUG - Entry Date is 10
2018-01-22 11:53:09,476 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:53:09,476 - DEBUG - Order Profit ID is 0
2018-01-22 11:53:09,477 - DEBUG - Order Entry ID is 0
2018-01-22 11:53:09,477 - DEBUG - API ID is  0
2018-01-22 11:53:09,477 - DEBUG - Current Position is 0
2018-01-22 11:53:09,477 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:53:09,478 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:53:09,478 - DEBUG - Time is 11
2018-01-22 11:53:09,478 - DEBUG - Time is <class 'int'>
2018-01-22 11:53:09,478 - DEBUG - Time is 53
2018-01-22 11:53:09,478 - DEBUG - Time is <class 'int'>
2018-01-22 11:53:09,479 - DEBUG - Disconnected from IBController
2018-01-22 11:53:09,479 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 11:58:05,368 - DEBUG - ****************************************************
2018-01-22 11:58:05,368 - DEBUG - Current Time is 11:58AM
2018-01-22 11:58:05,369 - DEBUG - Starting Pos Mgmt H E
2018-01-22 11:58:05,369 - DEBUG - Connecting to database
2018-01-22 11:58:05,386 - DEBUG - Connected to database
2018-01-22 11:58:05,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:05,388 - DEBUG - Order Profit is 0
2018-01-22 11:58:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:05,390 - DEBUG - Stop ID is 0
2018-01-22 11:58:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:05,391 - DEBUG - Entry ID is 0
2018-01-22 11:58:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 11:58:05,393 - DEBUG - OCA ID is 1
2018-01-22 11:58:05,393 - DEBUG - Connecting to IBController
2018-01-22 11:58:06,404 - DEBUG - Connected to IBController
2018-01-22 11:58:06,404 - DEBUG - Position requested
2018-01-22 11:58:06,406 - DEBUG - Pos Mgmt -12987
2018-01-22 11:58:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 11:58:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 11:58:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 11:58:06,407 - DEBUG - Position is -12987
2018-01-22 11:58:06,408 - DEBUG - Pos Mgmt 1
2018-01-22 11:58:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 11:58:06,409 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 11:58:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-22 11:58:06,409 - DEBUG - Position is 1
2018-01-22 11:58:07,406 - DEBUG - Open Orders requested
2018-01-22 11:58:07,408 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DCC0>, order=<ib.ext.Order.Order object at 0x000000000211DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2080>>
2018-01-22 11:58:07,409 - DEBUG - Order OrderID 116
2018-01-22 11:58:07,409 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 11:58:07,410 - DEBUG - Order status PreSubmitted
2018-01-22 11:58:07,410 - DEBUG - Order Identification 116
2018-01-22 11:58:07,410 - DEBUG - Order Identification <class 'int'>
2018-01-22 11:58:07,411 - DEBUG - Profit ID from database is 0
2018-01-22 11:58:07,411 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 11:58:07,411 - DEBUG - Stop ID database is 0
2018-01-22 11:58:07,411 - DEBUG - Entry ID database is 0
2018-01-22 11:58:09,407 - DEBUG - Connecting to database
2018-01-22 11:58:09,414 - DEBUG - Connected to database
2018-01-22 11:58:09,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,416 - DEBUG - Stop loss value is 0
2018-01-22 11:58:09,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,418 - DEBUG - Stop loss value is 0
2018-01-22 11:58:09,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,419 - DEBUG - EntryPrice value is 0
2018-01-22 11:58:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,421 - DEBUG - Stop quantity 0
2018-01-22 11:58:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,422 - DEBUG - Direction is 0
2018-01-22 11:58:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,424 - DEBUG - Count is 0
2018-01-22 11:58:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 11:58:09,426 - DEBUG - Stop Loss Flag is 0
2018-01-22 11:58:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 11:58:09,427 - DEBUG - Max ID Order is (116,)
2018-01-22 11:58:09,428 - DEBUG - Today is 2018-01-22
2018-01-22 11:58:09,428 - DEBUG - Day of the week 0
2018-01-22 11:58:09,428 - DEBUG - Yesterday is 01/19/2018
2018-01-22 11:58:09,429 - DEBUG - In Position is  0
2018-01-22 11:58:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-22 11:58:09,429 - DEBUG - curStopLossFlag is  0
2018-01-22 11:58:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 11:58:09,429 - DEBUG - Checking if Entry has been filled
2018-01-22 11:58:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:58:09,431 - DEBUG - EntryPend is 0
2018-01-22 11:58:09,431 - DEBUG - Try to Cancel Stop
2018-01-22 11:58:09,431 - DEBUG - Stop API ID 0
2018-01-22 11:58:09,432 - DEBUG - Profit API ID 0
2018-01-22 11:58:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-22 11:58:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-22 11:58:09,432 - DEBUG - Pos is 0
2018-01-22 11:58:09,433 - DEBUG - CurCount is 0
2018-01-22 11:58:09,433 - DEBUG - In Pos 0
2018-01-22 11:58:09,433 - DEBUG - Stop ID is 0
2018-01-22 11:58:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 11:58:09,435 - DEBUG - EntryPend is 0
2018-01-22 11:58:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 11:58:09,435 - DEBUG - Entry Date is 10
2018-01-22 11:58:09,435 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 11:58:09,436 - DEBUG - Order Profit ID is 0
2018-01-22 11:58:09,436 - DEBUG - Order Entry ID is 0
2018-01-22 11:58:09,436 - DEBUG - API ID is  0
2018-01-22 11:58:09,436 - DEBUG - Current Position is 0
2018-01-22 11:58:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-22 11:58:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 11:58:09,437 - DEBUG - Time is 11
2018-01-22 11:58:09,437 - DEBUG - Time is <class 'int'>
2018-01-22 11:58:09,437 - DEBUG - Time is 58
2018-01-22 11:58:09,438 - DEBUG - Time is <class 'int'>
2018-01-22 11:58:09,438 - DEBUG - Disconnected from IBController
2018-01-22 11:58:09,439 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:03:05,374 - DEBUG - ****************************************************
2018-01-22 12:03:05,375 - DEBUG - Current Time is 12:03PM
2018-01-22 12:03:05,375 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:03:05,375 - DEBUG - Connecting to database
2018-01-22 12:03:05,404 - DEBUG - Connected to database
2018-01-22 12:03:05,404 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:05,406 - DEBUG - Order Profit is 0
2018-01-22 12:03:05,406 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:05,407 - DEBUG - Stop ID is 0
2018-01-22 12:03:05,407 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:05,409 - DEBUG - Entry ID is 0
2018-01-22 12:03:05,409 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:03:05,411 - DEBUG - OCA ID is 1
2018-01-22 12:03:05,411 - DEBUG - Connecting to IBController
2018-01-22 12:03:06,415 - DEBUG - Connected to IBController
2018-01-22 12:03:06,415 - DEBUG - Position requested
2018-01-22 12:03:06,417 - DEBUG - Pos Mgmt -12987
2018-01-22 12:03:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:03:06,417 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:03:06,417 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:03:06,418 - DEBUG - Position is -12987
2018-01-22 12:03:06,418 - DEBUG - Pos Mgmt 1
2018-01-22 12:03:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDA58>, pos=1, avgCost=48882.9>
2018-01-22 12:03:06,419 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:03:06,419 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:03:06,419 - DEBUG - Position is 1
2018-01-22 12:03:07,416 - DEBUG - Open Orders requested
2018-01-22 12:03:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FDDD8>, order=<ib.ext.Order.Order object at 0x00000000020FDA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021910F0>>
2018-01-22 12:03:07,419 - DEBUG - Order OrderID 116
2018-01-22 12:03:07,419 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:03:07,420 - DEBUG - Order status PreSubmitted
2018-01-22 12:03:07,420 - DEBUG - Order Identification 116
2018-01-22 12:03:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:03:07,420 - DEBUG - Profit ID from database is 0
2018-01-22 12:03:07,421 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:03:07,421 - DEBUG - Stop ID database is 0
2018-01-22 12:03:07,421 - DEBUG - Entry ID database is 0
2018-01-22 12:03:09,419 - DEBUG - Connecting to database
2018-01-22 12:03:09,426 - DEBUG - Connected to database
2018-01-22 12:03:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,428 - DEBUG - Stop loss value is 0
2018-01-22 12:03:09,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,429 - DEBUG - Stop loss value is 0
2018-01-22 12:03:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,431 - DEBUG - EntryPrice value is 0
2018-01-22 12:03:09,432 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,433 - DEBUG - Stop quantity 0
2018-01-22 12:03:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,434 - DEBUG - Direction is 0
2018-01-22 12:03:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,436 - DEBUG - Count is 0
2018-01-22 12:03:09,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:03:09,437 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:03:09,439 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:03:09,439 - DEBUG - Max ID Order is (116,)
2018-01-22 12:03:09,440 - DEBUG - Today is 2018-01-22
2018-01-22 12:03:09,440 - DEBUG - Day of the week 0
2018-01-22 12:03:09,440 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:03:09,440 - DEBUG - In Position is  0
2018-01-22 12:03:09,441 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:03:09,441 - DEBUG - curStopLossFlag is  0
2018-01-22 12:03:09,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:03:09,441 - DEBUG - Checking if Entry has been filled
2018-01-22 12:03:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:03:09,443 - DEBUG - EntryPend is 0
2018-01-22 12:03:09,443 - DEBUG - Try to Cancel Stop
2018-01-22 12:03:09,443 - DEBUG - Stop API ID 0
2018-01-22 12:03:09,444 - DEBUG - Profit API ID 0
2018-01-22 12:03:09,444 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:03:09,444 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:03:09,444 - DEBUG - Pos is 0
2018-01-22 12:03:09,444 - DEBUG - CurCount is 0
2018-01-22 12:03:09,445 - DEBUG - In Pos 0
2018-01-22 12:03:09,445 - DEBUG - Stop ID is 0
2018-01-22 12:03:09,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:03:09,446 - DEBUG - EntryPend is 0
2018-01-22 12:03:09,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:03:09,447 - DEBUG - Entry Date is 10
2018-01-22 12:03:09,447 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:03:09,447 - DEBUG - Order Profit ID is 0
2018-01-22 12:03:09,447 - DEBUG - Order Entry ID is 0
2018-01-22 12:03:09,448 - DEBUG - API ID is  0
2018-01-22 12:03:09,448 - DEBUG - Current Position is 0
2018-01-22 12:03:09,448 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:03:09,448 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:03:09,449 - DEBUG - Time is 12
2018-01-22 12:03:09,449 - DEBUG - Time is <class 'int'>
2018-01-22 12:03:09,449 - DEBUG - Time is 3
2018-01-22 12:03:09,449 - DEBUG - Time is <class 'int'>
2018-01-22 12:03:09,449 - DEBUG - Disconnected from IBController
2018-01-22 12:03:09,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:08:05,359 - DEBUG - ****************************************************
2018-01-22 12:08:05,359 - DEBUG - Current Time is 12:08PM
2018-01-22 12:08:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:08:05,360 - DEBUG - Connecting to database
2018-01-22 12:08:05,398 - DEBUG - Connected to database
2018-01-22 12:08:05,399 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:05,400 - DEBUG - Order Profit is 0
2018-01-22 12:08:05,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:05,402 - DEBUG - Stop ID is 0
2018-01-22 12:08:05,402 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:05,404 - DEBUG - Entry ID is 0
2018-01-22 12:08:05,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:08:05,405 - DEBUG - OCA ID is 1
2018-01-22 12:08:05,406 - DEBUG - Connecting to IBController
2018-01-22 12:08:06,410 - DEBUG - Connected to IBController
2018-01-22 12:08:06,410 - DEBUG - Position requested
2018-01-22 12:08:06,414 - DEBUG - Pos Mgmt -12987
2018-01-22 12:08:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:08:06,415 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:08:06,415 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:08:06,415 - DEBUG - Position is -12987
2018-01-22 12:08:06,416 - DEBUG - Pos Mgmt 1
2018-01-22 12:08:06,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCA58>, pos=1, avgCost=48882.9>
2018-01-22 12:08:06,416 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:08:06,416 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:08:06,417 - DEBUG - Position is 1
2018-01-22 12:08:07,414 - DEBUG - Open Orders requested
2018-01-22 12:08:07,416 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020DCCF8>, order=<ib.ext.Order.Order object at 0x00000000020DCD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172080>>
2018-01-22 12:08:07,417 - DEBUG - Order OrderID 116
2018-01-22 12:08:07,417 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:08:07,418 - DEBUG - Order status PreSubmitted
2018-01-22 12:08:07,418 - DEBUG - Order Identification 116
2018-01-22 12:08:07,418 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:08:07,419 - DEBUG - Profit ID from database is 0
2018-01-22 12:08:07,419 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:08:07,419 - DEBUG - Stop ID database is 0
2018-01-22 12:08:07,419 - DEBUG - Entry ID database is 0
2018-01-22 12:08:09,415 - DEBUG - Connecting to database
2018-01-22 12:08:09,422 - DEBUG - Connected to database
2018-01-22 12:08:09,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,424 - DEBUG - Stop loss value is 0
2018-01-22 12:08:09,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,425 - DEBUG - Stop loss value is 0
2018-01-22 12:08:09,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,427 - DEBUG - EntryPrice value is 0
2018-01-22 12:08:09,428 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,429 - DEBUG - Stop quantity 0
2018-01-22 12:08:09,430 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,430 - DEBUG - Direction is 0
2018-01-22 12:08:09,432 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,432 - DEBUG - Count is 0
2018-01-22 12:08:09,433 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:08:09,434 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:08:09,435 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:08:09,435 - DEBUG - Max ID Order is (116,)
2018-01-22 12:08:09,436 - DEBUG - Today is 2018-01-22
2018-01-22 12:08:09,436 - DEBUG - Day of the week 0
2018-01-22 12:08:09,436 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:08:09,437 - DEBUG - In Position is  0
2018-01-22 12:08:09,437 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:08:09,437 - DEBUG - curStopLossFlag is  0
2018-01-22 12:08:09,437 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:08:09,438 - DEBUG - Checking if Entry has been filled
2018-01-22 12:08:09,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:08:09,439 - DEBUG - EntryPend is 0
2018-01-22 12:08:09,439 - DEBUG - Try to Cancel Stop
2018-01-22 12:08:09,440 - DEBUG - Stop API ID 0
2018-01-22 12:08:09,440 - DEBUG - Profit API ID 0
2018-01-22 12:08:09,440 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:08:09,440 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:08:09,441 - DEBUG - Pos is 0
2018-01-22 12:08:09,441 - DEBUG - CurCount is 0
2018-01-22 12:08:09,441 - DEBUG - In Pos 0
2018-01-22 12:08:09,441 - DEBUG - Stop ID is 0
2018-01-22 12:08:09,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:08:09,443 - DEBUG - EntryPend is 0
2018-01-22 12:08:09,443 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:08:09,443 - DEBUG - Entry Date is 10
2018-01-22 12:08:09,444 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:08:09,444 - DEBUG - Order Profit ID is 0
2018-01-22 12:08:09,444 - DEBUG - Order Entry ID is 0
2018-01-22 12:08:09,444 - DEBUG - API ID is  0
2018-01-22 12:08:09,444 - DEBUG - Current Position is 0
2018-01-22 12:08:09,445 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:08:09,445 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:08:09,445 - DEBUG - Time is 12
2018-01-22 12:08:09,445 - DEBUG - Time is <class 'int'>
2018-01-22 12:08:09,445 - DEBUG - Time is 8
2018-01-22 12:08:09,446 - DEBUG - Time is <class 'int'>
2018-01-22 12:08:09,446 - DEBUG - Disconnected from IBController
2018-01-22 12:08:09,446 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:13:05,342 - DEBUG - ****************************************************
2018-01-22 12:13:05,343 - DEBUG - Current Time is 12:13PM
2018-01-22 12:13:05,343 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:13:05,344 - DEBUG - Connecting to database
2018-01-22 12:13:05,371 - DEBUG - Connected to database
2018-01-22 12:13:05,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:05,373 - DEBUG - Order Profit is 0
2018-01-22 12:13:05,373 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:05,375 - DEBUG - Stop ID is 0
2018-01-22 12:13:05,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:05,376 - DEBUG - Entry ID is 0
2018-01-22 12:13:05,377 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:13:05,378 - DEBUG - OCA ID is 1
2018-01-22 12:13:05,378 - DEBUG - Connecting to IBController
2018-01-22 12:13:06,384 - DEBUG - Connected to IBController
2018-01-22 12:13:06,384 - DEBUG - Position requested
2018-01-22 12:13:06,386 - DEBUG - Pos Mgmt -12987
2018-01-22 12:13:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:13:06,387 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:13:06,387 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:13:06,387 - DEBUG - Position is -12987
2018-01-22 12:13:06,387 - DEBUG - Pos Mgmt 1
2018-01-22 12:13:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BA58>, pos=1, avgCost=48882.9>
2018-01-22 12:13:06,388 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:13:06,388 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:13:06,388 - DEBUG - Position is 1
2018-01-22 12:13:07,385 - DEBUG - Open Orders requested
2018-01-22 12:13:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210BCF8>, order=<ib.ext.Order.Order object at 0x000000000210BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A0080>>
2018-01-22 12:13:07,387 - DEBUG - Order OrderID 116
2018-01-22 12:13:07,388 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:13:07,388 - DEBUG - Order status PreSubmitted
2018-01-22 12:13:07,388 - DEBUG - Order Identification 116
2018-01-22 12:13:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:13:07,389 - DEBUG - Profit ID from database is 0
2018-01-22 12:13:07,389 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:13:07,389 - DEBUG - Stop ID database is 0
2018-01-22 12:13:07,390 - DEBUG - Entry ID database is 0
2018-01-22 12:13:09,386 - DEBUG - Connecting to database
2018-01-22 12:13:09,393 - DEBUG - Connected to database
2018-01-22 12:13:09,394 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,395 - DEBUG - Stop loss value is 0
2018-01-22 12:13:09,396 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,396 - DEBUG - Stop loss value is 0
2018-01-22 12:13:09,398 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,398 - DEBUG - EntryPrice value is 0
2018-01-22 12:13:09,399 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,400 - DEBUG - Stop quantity 0
2018-01-22 12:13:09,401 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,401 - DEBUG - Direction is 0
2018-01-22 12:13:09,403 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,403 - DEBUG - Count is 0
2018-01-22 12:13:09,404 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:13:09,405 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:13:09,406 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:13:09,406 - DEBUG - Max ID Order is (116,)
2018-01-22 12:13:09,407 - DEBUG - Today is 2018-01-22
2018-01-22 12:13:09,407 - DEBUG - Day of the week 0
2018-01-22 12:13:09,407 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:13:09,408 - DEBUG - In Position is  0
2018-01-22 12:13:09,408 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:13:09,408 - DEBUG - curStopLossFlag is  0
2018-01-22 12:13:09,408 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:13:09,409 - DEBUG - Checking if Entry has been filled
2018-01-22 12:13:09,409 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:13:09,410 - DEBUG - EntryPend is 0
2018-01-22 12:13:09,410 - DEBUG - Try to Cancel Stop
2018-01-22 12:13:09,411 - DEBUG - Stop API ID 0
2018-01-22 12:13:09,411 - DEBUG - Profit API ID 0
2018-01-22 12:13:09,411 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:13:09,411 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:13:09,412 - DEBUG - Pos is 0
2018-01-22 12:13:09,412 - DEBUG - CurCount is 0
2018-01-22 12:13:09,412 - DEBUG - In Pos 0
2018-01-22 12:13:09,412 - DEBUG - Stop ID is 0
2018-01-22 12:13:09,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:13:09,414 - DEBUG - EntryPend is 0
2018-01-22 12:13:09,414 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:13:09,414 - DEBUG - Entry Date is 10
2018-01-22 12:13:09,414 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:13:09,415 - DEBUG - Order Profit ID is 0
2018-01-22 12:13:09,415 - DEBUG - Order Entry ID is 0
2018-01-22 12:13:09,415 - DEBUG - API ID is  0
2018-01-22 12:13:09,415 - DEBUG - Current Position is 0
2018-01-22 12:13:09,416 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:13:09,416 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:13:09,416 - DEBUG - Time is 12
2018-01-22 12:13:09,416 - DEBUG - Time is <class 'int'>
2018-01-22 12:13:09,417 - DEBUG - Time is 13
2018-01-22 12:13:09,417 - DEBUG - Time is <class 'int'>
2018-01-22 12:13:09,417 - DEBUG - Disconnected from IBController
2018-01-22 12:13:09,417 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:18:05,358 - DEBUG - ****************************************************
2018-01-22 12:18:05,359 - DEBUG - Current Time is 12:18PM
2018-01-22 12:18:05,359 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:18:05,359 - DEBUG - Connecting to database
2018-01-22 12:18:05,385 - DEBUG - Connected to database
2018-01-22 12:18:05,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:05,387 - DEBUG - Order Profit is 0
2018-01-22 12:18:05,387 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:05,389 - DEBUG - Stop ID is 0
2018-01-22 12:18:05,389 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:05,390 - DEBUG - Entry ID is 0
2018-01-22 12:18:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:18:05,392 - DEBUG - OCA ID is 1
2018-01-22 12:18:05,392 - DEBUG - Connecting to IBController
2018-01-22 12:18:06,398 - DEBUG - Connected to IBController
2018-01-22 12:18:06,398 - DEBUG - Position requested
2018-01-22 12:18:06,400 - DEBUG - Pos Mgmt -12987
2018-01-22 12:18:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:18:06,400 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:18:06,400 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:18:06,401 - DEBUG - Position is -12987
2018-01-22 12:18:06,401 - DEBUG - Pos Mgmt 1
2018-01-22 12:18:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCAC8>, pos=1, avgCost=48882.9>
2018-01-22 12:18:06,402 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:18:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:18:06,402 - DEBUG - Position is 1
2018-01-22 12:18:07,399 - DEBUG - Open Orders requested
2018-01-22 12:18:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FCCF8>, order=<ib.ext.Order.Order object at 0x00000000020FCB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191080>>
2018-01-22 12:18:07,401 - DEBUG - Order OrderID 116
2018-01-22 12:18:07,402 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:18:07,402 - DEBUG - Order status PreSubmitted
2018-01-22 12:18:07,402 - DEBUG - Order Identification 116
2018-01-22 12:18:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:18:07,403 - DEBUG - Profit ID from database is 0
2018-01-22 12:18:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:18:07,403 - DEBUG - Stop ID database is 0
2018-01-22 12:18:07,403 - DEBUG - Entry ID database is 0
2018-01-22 12:18:09,399 - DEBUG - Connecting to database
2018-01-22 12:18:09,406 - DEBUG - Connected to database
2018-01-22 12:18:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,407 - DEBUG - Stop loss value is 0
2018-01-22 12:18:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,409 - DEBUG - Stop loss value is 0
2018-01-22 12:18:09,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,410 - DEBUG - EntryPrice value is 0
2018-01-22 12:18:09,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,412 - DEBUG - Stop quantity 0
2018-01-22 12:18:09,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,414 - DEBUG - Direction is 0
2018-01-22 12:18:09,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,415 - DEBUG - Count is 0
2018-01-22 12:18:09,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:18:09,417 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:18:09,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:18:09,418 - DEBUG - Max ID Order is (116,)
2018-01-22 12:18:09,419 - DEBUG - Today is 2018-01-22
2018-01-22 12:18:09,419 - DEBUG - Day of the week 0
2018-01-22 12:18:09,419 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:18:09,420 - DEBUG - In Position is  0
2018-01-22 12:18:09,420 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:18:09,420 - DEBUG - curStopLossFlag is  0
2018-01-22 12:18:09,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:18:09,421 - DEBUG - Checking if Entry has been filled
2018-01-22 12:18:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:18:09,422 - DEBUG - EntryPend is 0
2018-01-22 12:18:09,422 - DEBUG - Try to Cancel Stop
2018-01-22 12:18:09,423 - DEBUG - Stop API ID 0
2018-01-22 12:18:09,423 - DEBUG - Profit API ID 0
2018-01-22 12:18:09,423 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:18:09,423 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:18:09,424 - DEBUG - Pos is 0
2018-01-22 12:18:09,424 - DEBUG - CurCount is 0
2018-01-22 12:18:09,424 - DEBUG - In Pos 0
2018-01-22 12:18:09,424 - DEBUG - Stop ID is 0
2018-01-22 12:18:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:18:09,426 - DEBUG - EntryPend is 0
2018-01-22 12:18:09,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:18:09,426 - DEBUG - Entry Date is 10
2018-01-22 12:18:09,426 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:18:09,427 - DEBUG - Order Profit ID is 0
2018-01-22 12:18:09,427 - DEBUG - Order Entry ID is 0
2018-01-22 12:18:09,427 - DEBUG - API ID is  0
2018-01-22 12:18:09,427 - DEBUG - Current Position is 0
2018-01-22 12:18:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:18:09,428 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:18:09,428 - DEBUG - Time is 12
2018-01-22 12:18:09,428 - DEBUG - Time is <class 'int'>
2018-01-22 12:18:09,428 - DEBUG - Time is 18
2018-01-22 12:18:09,429 - DEBUG - Time is <class 'int'>
2018-01-22 12:18:09,429 - DEBUG - Disconnected from IBController
2018-01-22 12:18:09,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:23:05,351 - DEBUG - ****************************************************
2018-01-22 12:23:05,352 - DEBUG - Current Time is 12:23PM
2018-01-22 12:23:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:23:05,352 - DEBUG - Connecting to database
2018-01-22 12:23:05,374 - DEBUG - Connected to database
2018-01-22 12:23:05,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:05,375 - DEBUG - Order Profit is 0
2018-01-22 12:23:05,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:05,377 - DEBUG - Stop ID is 0
2018-01-22 12:23:05,377 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:05,379 - DEBUG - Entry ID is 0
2018-01-22 12:23:05,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:23:05,380 - DEBUG - OCA ID is 1
2018-01-22 12:23:05,381 - DEBUG - Connecting to IBController
2018-01-22 12:23:06,384 - DEBUG - Connected to IBController
2018-01-22 12:23:06,384 - DEBUG - Position requested
2018-01-22 12:23:06,385 - DEBUG - Pos Mgmt -12987
2018-01-22 12:23:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:23:06,386 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:23:06,386 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:23:06,387 - DEBUG - Position is -12987
2018-01-22 12:23:06,387 - DEBUG - Pos Mgmt 1
2018-01-22 12:23:06,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BA58>, pos=1, avgCost=48882.9>
2018-01-22 12:23:06,388 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:23:06,388 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:23:06,388 - DEBUG - Position is 1
2018-01-22 12:23:07,385 - DEBUG - Open Orders requested
2018-01-22 12:23:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210BCF8>, order=<ib.ext.Order.Order object at 0x000000000210BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A0080>>
2018-01-22 12:23:07,388 - DEBUG - Order OrderID 116
2018-01-22 12:23:07,388 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:23:07,389 - DEBUG - Order status PreSubmitted
2018-01-22 12:23:07,389 - DEBUG - Order Identification 116
2018-01-22 12:23:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:23:07,389 - DEBUG - Profit ID from database is 0
2018-01-22 12:23:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:23:07,390 - DEBUG - Stop ID database is 0
2018-01-22 12:23:07,390 - DEBUG - Entry ID database is 0
2018-01-22 12:23:09,386 - DEBUG - Connecting to database
2018-01-22 12:23:09,393 - DEBUG - Connected to database
2018-01-22 12:23:09,394 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,395 - DEBUG - Stop loss value is 0
2018-01-22 12:23:09,396 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,396 - DEBUG - Stop loss value is 0
2018-01-22 12:23:09,398 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,398 - DEBUG - EntryPrice value is 0
2018-01-22 12:23:09,399 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,400 - DEBUG - Stop quantity 0
2018-01-22 12:23:09,401 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,401 - DEBUG - Direction is 0
2018-01-22 12:23:09,403 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,403 - DEBUG - Count is 0
2018-01-22 12:23:09,404 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:23:09,404 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:23:09,406 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:23:09,406 - DEBUG - Max ID Order is (116,)
2018-01-22 12:23:09,406 - DEBUG - Today is 2018-01-22
2018-01-22 12:23:09,407 - DEBUG - Day of the week 0
2018-01-22 12:23:09,407 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:23:09,407 - DEBUG - In Position is  0
2018-01-22 12:23:09,408 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:23:09,408 - DEBUG - curStopLossFlag is  0
2018-01-22 12:23:09,408 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:23:09,408 - DEBUG - Checking if Entry has been filled
2018-01-22 12:23:09,409 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:23:09,410 - DEBUG - EntryPend is 0
2018-01-22 12:23:09,410 - DEBUG - Try to Cancel Stop
2018-01-22 12:23:09,410 - DEBUG - Stop API ID 0
2018-01-22 12:23:09,411 - DEBUG - Profit API ID 0
2018-01-22 12:23:09,411 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:23:09,411 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:23:09,411 - DEBUG - Pos is 0
2018-01-22 12:23:09,411 - DEBUG - CurCount is 0
2018-01-22 12:23:09,412 - DEBUG - In Pos 0
2018-01-22 12:23:09,412 - DEBUG - Stop ID is 0
2018-01-22 12:23:09,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:23:09,414 - DEBUG - EntryPend is 0
2018-01-22 12:23:09,414 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:23:09,414 - DEBUG - Entry Date is 10
2018-01-22 12:23:09,414 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:23:09,414 - DEBUG - Order Profit ID is 0
2018-01-22 12:23:09,415 - DEBUG - Order Entry ID is 0
2018-01-22 12:23:09,415 - DEBUG - API ID is  0
2018-01-22 12:23:09,415 - DEBUG - Current Position is 0
2018-01-22 12:23:09,415 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:23:09,415 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:23:09,416 - DEBUG - Time is 12
2018-01-22 12:23:09,416 - DEBUG - Time is <class 'int'>
2018-01-22 12:23:09,416 - DEBUG - Time is 23
2018-01-22 12:23:09,416 - DEBUG - Time is <class 'int'>
2018-01-22 12:23:09,417 - DEBUG - Disconnected from IBController
2018-01-22 12:23:09,417 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:28:05,338 - DEBUG - ****************************************************
2018-01-22 12:28:05,339 - DEBUG - Current Time is 12:28PM
2018-01-22 12:28:05,339 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:28:05,339 - DEBUG - Connecting to database
2018-01-22 12:28:05,357 - DEBUG - Connected to database
2018-01-22 12:28:05,357 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:05,358 - DEBUG - Order Profit is 0
2018-01-22 12:28:05,359 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:05,360 - DEBUG - Stop ID is 0
2018-01-22 12:28:05,360 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:05,362 - DEBUG - Entry ID is 0
2018-01-22 12:28:05,362 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:28:05,363 - DEBUG - OCA ID is 1
2018-01-22 12:28:05,364 - DEBUG - Connecting to IBController
2018-01-22 12:28:06,369 - DEBUG - Connected to IBController
2018-01-22 12:28:06,369 - DEBUG - Position requested
2018-01-22 12:28:06,370 - DEBUG - Pos Mgmt -12987
2018-01-22 12:28:06,371 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCDD8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:28:06,371 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:28:06,371 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:28:06,372 - DEBUG - Position is -12987
2018-01-22 12:28:06,372 - DEBUG - Pos Mgmt 1
2018-01-22 12:28:06,372 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCAC8>, pos=1, avgCost=48882.9>
2018-01-22 12:28:06,372 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:28:06,373 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:28:06,373 - DEBUG - Position is 1
2018-01-22 12:28:07,370 - DEBUG - Open Orders requested
2018-01-22 12:28:07,372 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FCD30>, order=<ib.ext.Order.Order object at 0x00000000020FCB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021920F0>>
2018-01-22 12:28:07,372 - DEBUG - Order OrderID 116
2018-01-22 12:28:07,373 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:28:07,373 - DEBUG - Order status PreSubmitted
2018-01-22 12:28:07,373 - DEBUG - Order Identification 116
2018-01-22 12:28:07,373 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:28:07,374 - DEBUG - Profit ID from database is 0
2018-01-22 12:28:07,374 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:28:07,374 - DEBUG - Stop ID database is 0
2018-01-22 12:28:07,374 - DEBUG - Entry ID database is 0
2018-01-22 12:28:09,372 - DEBUG - Connecting to database
2018-01-22 12:28:09,379 - DEBUG - Connected to database
2018-01-22 12:28:09,380 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,380 - DEBUG - Stop loss value is 0
2018-01-22 12:28:09,382 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,382 - DEBUG - Stop loss value is 0
2018-01-22 12:28:09,383 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,384 - DEBUG - EntryPrice value is 0
2018-01-22 12:28:09,385 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,385 - DEBUG - Stop quantity 0
2018-01-22 12:28:09,387 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,387 - DEBUG - Direction is 0
2018-01-22 12:28:09,388 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,389 - DEBUG - Count is 0
2018-01-22 12:28:09,390 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:28:09,390 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:28:09,392 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:28:09,392 - DEBUG - Max ID Order is (116,)
2018-01-22 12:28:09,392 - DEBUG - Today is 2018-01-22
2018-01-22 12:28:09,393 - DEBUG - Day of the week 0
2018-01-22 12:28:09,393 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:28:09,393 - DEBUG - In Position is  0
2018-01-22 12:28:09,394 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:28:09,394 - DEBUG - curStopLossFlag is  0
2018-01-22 12:28:09,394 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:28:09,394 - DEBUG - Checking if Entry has been filled
2018-01-22 12:28:09,394 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:28:09,396 - DEBUG - EntryPend is 0
2018-01-22 12:28:09,396 - DEBUG - Try to Cancel Stop
2018-01-22 12:28:09,396 - DEBUG - Stop API ID 0
2018-01-22 12:28:09,396 - DEBUG - Profit API ID 0
2018-01-22 12:28:09,397 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:28:09,397 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:28:09,397 - DEBUG - Pos is 0
2018-01-22 12:28:09,397 - DEBUG - CurCount is 0
2018-01-22 12:28:09,398 - DEBUG - In Pos 0
2018-01-22 12:28:09,398 - DEBUG - Stop ID is 0
2018-01-22 12:28:09,398 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:28:09,399 - DEBUG - EntryPend is 0
2018-01-22 12:28:09,400 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:28:09,400 - DEBUG - Entry Date is 10
2018-01-22 12:28:09,400 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:28:09,400 - DEBUG - Order Profit ID is 0
2018-01-22 12:28:09,401 - DEBUG - Order Entry ID is 0
2018-01-22 12:28:09,401 - DEBUG - API ID is  0
2018-01-22 12:28:09,401 - DEBUG - Current Position is 0
2018-01-22 12:28:09,401 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:28:09,401 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:28:09,402 - DEBUG - Time is 12
2018-01-22 12:28:09,402 - DEBUG - Time is <class 'int'>
2018-01-22 12:28:09,402 - DEBUG - Time is 28
2018-01-22 12:28:09,402 - DEBUG - Time is <class 'int'>
2018-01-22 12:28:09,403 - DEBUG - Disconnected from IBController
2018-01-22 12:28:09,403 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:33:05,347 - DEBUG - ****************************************************
2018-01-22 12:33:05,348 - DEBUG - Current Time is 12:33PM
2018-01-22 12:33:05,348 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:33:05,348 - DEBUG - Connecting to database
2018-01-22 12:33:05,382 - DEBUG - Connected to database
2018-01-22 12:33:05,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:05,384 - DEBUG - Order Profit is 0
2018-01-22 12:33:05,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:05,386 - DEBUG - Stop ID is 0
2018-01-22 12:33:05,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:05,387 - DEBUG - Entry ID is 0
2018-01-22 12:33:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:33:05,389 - DEBUG - OCA ID is 1
2018-01-22 12:33:05,390 - DEBUG - Connecting to IBController
2018-01-22 12:33:06,394 - DEBUG - Connected to IBController
2018-01-22 12:33:06,394 - DEBUG - Position requested
2018-01-22 12:33:06,396 - DEBUG - Pos Mgmt -12987
2018-01-22 12:33:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCCF8>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:33:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:33:06,397 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:33:06,397 - DEBUG - Position is -12987
2018-01-22 12:33:06,397 - DEBUG - Pos Mgmt 1
2018-01-22 12:33:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCAC8>, pos=1, avgCost=48882.9>
2018-01-22 12:33:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:33:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:33:06,398 - DEBUG - Position is 1
2018-01-22 12:33:07,395 - DEBUG - Open Orders requested
2018-01-22 12:33:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FCCF8>, order=<ib.ext.Order.Order object at 0x00000000020FCDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192080>>
2018-01-22 12:33:07,397 - DEBUG - Order OrderID 116
2018-01-22 12:33:07,398 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:33:07,398 - DEBUG - Order status PreSubmitted
2018-01-22 12:33:07,398 - DEBUG - Order Identification 116
2018-01-22 12:33:07,398 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:33:07,399 - DEBUG - Profit ID from database is 0
2018-01-22 12:33:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:33:07,399 - DEBUG - Stop ID database is 0
2018-01-22 12:33:07,399 - DEBUG - Entry ID database is 0
2018-01-22 12:33:09,396 - DEBUG - Connecting to database
2018-01-22 12:33:09,403 - DEBUG - Connected to database
2018-01-22 12:33:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,405 - DEBUG - Stop loss value is 0
2018-01-22 12:33:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,407 - DEBUG - Stop loss value is 0
2018-01-22 12:33:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,408 - DEBUG - EntryPrice value is 0
2018-01-22 12:33:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,410 - DEBUG - Stop quantity 0
2018-01-22 12:33:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,411 - DEBUG - Direction is 0
2018-01-22 12:33:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,413 - DEBUG - Count is 0
2018-01-22 12:33:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:33:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:33:09,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:33:09,416 - DEBUG - Max ID Order is (116,)
2018-01-22 12:33:09,417 - DEBUG - Today is 2018-01-22
2018-01-22 12:33:09,417 - DEBUG - Day of the week 0
2018-01-22 12:33:09,417 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:33:09,418 - DEBUG - In Position is  0
2018-01-22 12:33:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:33:09,418 - DEBUG - curStopLossFlag is  0
2018-01-22 12:33:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:33:09,419 - DEBUG - Checking if Entry has been filled
2018-01-22 12:33:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:33:09,420 - DEBUG - EntryPend is 0
2018-01-22 12:33:09,420 - DEBUG - Try to Cancel Stop
2018-01-22 12:33:09,421 - DEBUG - Stop API ID 0
2018-01-22 12:33:09,421 - DEBUG - Profit API ID 0
2018-01-22 12:33:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:33:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:33:09,422 - DEBUG - Pos is 0
2018-01-22 12:33:09,422 - DEBUG - CurCount is 0
2018-01-22 12:33:09,422 - DEBUG - In Pos 0
2018-01-22 12:33:09,422 - DEBUG - Stop ID is 0
2018-01-22 12:33:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:33:09,424 - DEBUG - EntryPend is 0
2018-01-22 12:33:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:33:09,424 - DEBUG - Entry Date is 10
2018-01-22 12:33:09,425 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:33:09,425 - DEBUG - Order Profit ID is 0
2018-01-22 12:33:09,425 - DEBUG - Order Entry ID is 0
2018-01-22 12:33:09,425 - DEBUG - API ID is  0
2018-01-22 12:33:09,425 - DEBUG - Current Position is 0
2018-01-22 12:33:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:33:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:33:09,426 - DEBUG - Time is 12
2018-01-22 12:33:09,426 - DEBUG - Time is <class 'int'>
2018-01-22 12:33:09,427 - DEBUG - Time is 33
2018-01-22 12:33:09,427 - DEBUG - Time is <class 'int'>
2018-01-22 12:33:09,427 - DEBUG - Disconnected from IBController
2018-01-22 12:33:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:38:05,362 - DEBUG - ****************************************************
2018-01-22 12:38:05,363 - DEBUG - Current Time is 12:38PM
2018-01-22 12:38:05,363 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:38:05,364 - DEBUG - Connecting to database
2018-01-22 12:38:05,380 - DEBUG - Connected to database
2018-01-22 12:38:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:05,382 - DEBUG - Order Profit is 0
2018-01-22 12:38:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:05,383 - DEBUG - Stop ID is 0
2018-01-22 12:38:05,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:05,385 - DEBUG - Entry ID is 0
2018-01-22 12:38:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:38:05,386 - DEBUG - OCA ID is 1
2018-01-22 12:38:05,387 - DEBUG - Connecting to IBController
2018-01-22 12:38:06,394 - DEBUG - Connected to IBController
2018-01-22 12:38:06,394 - DEBUG - Position requested
2018-01-22 12:38:06,395 - DEBUG - Pos Mgmt -12987
2018-01-22 12:38:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:38:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:38:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:38:06,397 - DEBUG - Position is -12987
2018-01-22 12:38:06,397 - DEBUG - Pos Mgmt 1
2018-01-22 12:38:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 12:38:06,397 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:38:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:38:06,398 - DEBUG - Position is 1
2018-01-22 12:38:07,395 - DEBUG - Open Orders requested
2018-01-22 12:38:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DDD8>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10F0>>
2018-01-22 12:38:07,397 - DEBUG - Order OrderID 116
2018-01-22 12:38:07,398 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:38:07,398 - DEBUG - Order status PreSubmitted
2018-01-22 12:38:07,399 - DEBUG - Order Identification 116
2018-01-22 12:38:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:38:07,399 - DEBUG - Profit ID from database is 0
2018-01-22 12:38:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:38:07,399 - DEBUG - Stop ID database is 0
2018-01-22 12:38:07,400 - DEBUG - Entry ID database is 0
2018-01-22 12:38:09,397 - DEBUG - Connecting to database
2018-01-22 12:38:09,404 - DEBUG - Connected to database
2018-01-22 12:38:09,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,405 - DEBUG - Stop loss value is 0
2018-01-22 12:38:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,407 - DEBUG - Stop loss value is 0
2018-01-22 12:38:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,409 - DEBUG - EntryPrice value is 0
2018-01-22 12:38:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,410 - DEBUG - Stop quantity 0
2018-01-22 12:38:09,412 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,412 - DEBUG - Direction is 0
2018-01-22 12:38:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,414 - DEBUG - Count is 0
2018-01-22 12:38:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:38:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:38:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:38:09,417 - DEBUG - Max ID Order is (116,)
2018-01-22 12:38:09,417 - DEBUG - Today is 2018-01-22
2018-01-22 12:38:09,418 - DEBUG - Day of the week 0
2018-01-22 12:38:09,418 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:38:09,418 - DEBUG - In Position is  0
2018-01-22 12:38:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:38:09,419 - DEBUG - curStopLossFlag is  0
2018-01-22 12:38:09,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:38:09,419 - DEBUG - Checking if Entry has been filled
2018-01-22 12:38:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:38:09,421 - DEBUG - EntryPend is 0
2018-01-22 12:38:09,421 - DEBUG - Try to Cancel Stop
2018-01-22 12:38:09,421 - DEBUG - Stop API ID 0
2018-01-22 12:38:09,421 - DEBUG - Profit API ID 0
2018-01-22 12:38:09,422 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:38:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:38:09,422 - DEBUG - Pos is 0
2018-01-22 12:38:09,422 - DEBUG - CurCount is 0
2018-01-22 12:38:09,423 - DEBUG - In Pos 0
2018-01-22 12:38:09,423 - DEBUG - Stop ID is 0
2018-01-22 12:38:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:38:09,424 - DEBUG - EntryPend is 0
2018-01-22 12:38:09,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:38:09,425 - DEBUG - Entry Date is 10
2018-01-22 12:38:09,425 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:38:09,425 - DEBUG - Order Profit ID is 0
2018-01-22 12:38:09,426 - DEBUG - Order Entry ID is 0
2018-01-22 12:38:09,426 - DEBUG - API ID is  0
2018-01-22 12:38:09,426 - DEBUG - Current Position is 0
2018-01-22 12:38:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:38:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:38:09,427 - DEBUG - Time is 12
2018-01-22 12:38:09,427 - DEBUG - Time is <class 'int'>
2018-01-22 12:38:09,427 - DEBUG - Time is 38
2018-01-22 12:38:09,427 - DEBUG - Time is <class 'int'>
2018-01-22 12:38:09,428 - DEBUG - Disconnected from IBController
2018-01-22 12:38:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:43:05,345 - DEBUG - ****************************************************
2018-01-22 12:43:05,346 - DEBUG - Current Time is 12:43PM
2018-01-22 12:43:05,346 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:43:05,346 - DEBUG - Connecting to database
2018-01-22 12:43:05,364 - DEBUG - Connected to database
2018-01-22 12:43:05,364 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:05,366 - DEBUG - Order Profit is 0
2018-01-22 12:43:05,366 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:05,367 - DEBUG - Stop ID is 0
2018-01-22 12:43:05,368 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:05,369 - DEBUG - Entry ID is 0
2018-01-22 12:43:05,369 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:43:05,371 - DEBUG - OCA ID is 1
2018-01-22 12:43:05,371 - DEBUG - Connecting to IBController
2018-01-22 12:43:06,376 - DEBUG - Connected to IBController
2018-01-22 12:43:06,376 - DEBUG - Position requested
2018-01-22 12:43:06,378 - DEBUG - Pos Mgmt -12987
2018-01-22 12:43:06,378 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:43:06,378 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:43:06,379 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:43:06,379 - DEBUG - Position is -12987
2018-01-22 12:43:06,379 - DEBUG - Pos Mgmt 1
2018-01-22 12:43:06,380 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 12:43:06,380 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:43:06,386 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:43:06,387 - DEBUG - Position is 1
2018-01-22 12:43:07,376 - DEBUG - Open Orders requested
2018-01-22 12:43:07,378 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DD30>, order=<ib.ext.Order.Order object at 0x000000000211DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2080>>
2018-01-22 12:43:07,378 - DEBUG - Order OrderID 116
2018-01-22 12:43:07,379 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:43:07,379 - DEBUG - Order status PreSubmitted
2018-01-22 12:43:07,380 - DEBUG - Order Identification 116
2018-01-22 12:43:07,380 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:43:07,380 - DEBUG - Profit ID from database is 0
2018-01-22 12:43:07,380 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:43:07,380 - DEBUG - Stop ID database is 0
2018-01-22 12:43:07,381 - DEBUG - Entry ID database is 0
2018-01-22 12:43:09,377 - DEBUG - Connecting to database
2018-01-22 12:43:09,384 - DEBUG - Connected to database
2018-01-22 12:43:09,385 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,386 - DEBUG - Stop loss value is 0
2018-01-22 12:43:09,387 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,387 - DEBUG - Stop loss value is 0
2018-01-22 12:43:09,389 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,389 - DEBUG - EntryPrice value is 0
2018-01-22 12:43:09,390 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,391 - DEBUG - Stop quantity 0
2018-01-22 12:43:09,392 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,392 - DEBUG - Direction is 0
2018-01-22 12:43:09,393 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,394 - DEBUG - Count is 0
2018-01-22 12:43:09,395 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:43:09,395 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:43:09,397 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:43:09,397 - DEBUG - Max ID Order is (116,)
2018-01-22 12:43:09,397 - DEBUG - Today is 2018-01-22
2018-01-22 12:43:09,398 - DEBUG - Day of the week 0
2018-01-22 12:43:09,398 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:43:09,398 - DEBUG - In Position is  0
2018-01-22 12:43:09,398 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:43:09,399 - DEBUG - curStopLossFlag is  0
2018-01-22 12:43:09,399 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:43:09,399 - DEBUG - Checking if Entry has been filled
2018-01-22 12:43:09,399 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:43:09,401 - DEBUG - EntryPend is 0
2018-01-22 12:43:09,401 - DEBUG - Try to Cancel Stop
2018-01-22 12:43:09,401 - DEBUG - Stop API ID 0
2018-01-22 12:43:09,401 - DEBUG - Profit API ID 0
2018-01-22 12:43:09,401 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:43:09,402 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:43:09,402 - DEBUG - Pos is 0
2018-01-22 12:43:09,402 - DEBUG - CurCount is 0
2018-01-22 12:43:09,402 - DEBUG - In Pos 0
2018-01-22 12:43:09,403 - DEBUG - Stop ID is 0
2018-01-22 12:43:09,403 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:43:09,404 - DEBUG - EntryPend is 0
2018-01-22 12:43:09,404 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:43:09,405 - DEBUG - Entry Date is 10
2018-01-22 12:43:09,405 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:43:09,405 - DEBUG - Order Profit ID is 0
2018-01-22 12:43:09,405 - DEBUG - Order Entry ID is 0
2018-01-22 12:43:09,406 - DEBUG - API ID is  0
2018-01-22 12:43:09,406 - DEBUG - Current Position is 0
2018-01-22 12:43:09,406 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:43:09,406 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:43:09,406 - DEBUG - Time is 12
2018-01-22 12:43:09,407 - DEBUG - Time is <class 'int'>
2018-01-22 12:43:09,407 - DEBUG - Time is 43
2018-01-22 12:43:09,407 - DEBUG - Time is <class 'int'>
2018-01-22 12:43:09,407 - DEBUG - Disconnected from IBController
2018-01-22 12:43:09,408 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:48:05,353 - DEBUG - ****************************************************
2018-01-22 12:48:05,354 - DEBUG - Current Time is 12:48PM
2018-01-22 12:48:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:48:05,355 - DEBUG - Connecting to database
2018-01-22 12:48:05,390 - DEBUG - Connected to database
2018-01-22 12:48:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:05,391 - DEBUG - Order Profit is 0
2018-01-22 12:48:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:05,393 - DEBUG - Stop ID is 0
2018-01-22 12:48:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:05,395 - DEBUG - Entry ID is 0
2018-01-22 12:48:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:48:05,396 - DEBUG - OCA ID is 1
2018-01-22 12:48:05,397 - DEBUG - Connecting to IBController
2018-01-22 12:48:06,400 - DEBUG - Connected to IBController
2018-01-22 12:48:06,400 - DEBUG - Position requested
2018-01-22 12:48:06,403 - DEBUG - Pos Mgmt -12987
2018-01-22 12:48:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:48:06,404 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:48:06,404 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:48:06,404 - DEBUG - Position is -12987
2018-01-22 12:48:06,404 - DEBUG - Pos Mgmt 1
2018-01-22 12:48:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DA58>, pos=1, avgCost=48882.9>
2018-01-22 12:48:06,405 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:48:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:48:06,405 - DEBUG - Position is 1
2018-01-22 12:48:07,401 - DEBUG - Open Orders requested
2018-01-22 12:48:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211DCC0>, order=<ib.ext.Order.Order object at 0x000000000211DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-22 12:48:07,403 - DEBUG - Order OrderID 116
2018-01-22 12:48:07,404 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:48:07,404 - DEBUG - Order status PreSubmitted
2018-01-22 12:48:07,404 - DEBUG - Order Identification 116
2018-01-22 12:48:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:48:07,405 - DEBUG - Profit ID from database is 0
2018-01-22 12:48:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:48:07,405 - DEBUG - Stop ID database is 0
2018-01-22 12:48:07,405 - DEBUG - Entry ID database is 0
2018-01-22 12:48:09,402 - DEBUG - Connecting to database
2018-01-22 12:48:09,409 - DEBUG - Connected to database
2018-01-22 12:48:09,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,411 - DEBUG - Stop loss value is 0
2018-01-22 12:48:09,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,412 - DEBUG - Stop loss value is 0
2018-01-22 12:48:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,414 - DEBUG - EntryPrice value is 0
2018-01-22 12:48:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,416 - DEBUG - Stop quantity 0
2018-01-22 12:48:09,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,417 - DEBUG - Direction is 0
2018-01-22 12:48:09,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,419 - DEBUG - Count is 0
2018-01-22 12:48:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:48:09,420 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:48:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:48:09,422 - DEBUG - Max ID Order is (116,)
2018-01-22 12:48:09,422 - DEBUG - Today is 2018-01-22
2018-01-22 12:48:09,423 - DEBUG - Day of the week 0
2018-01-22 12:48:09,423 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:48:09,423 - DEBUG - In Position is  0
2018-01-22 12:48:09,423 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:48:09,424 - DEBUG - curStopLossFlag is  0
2018-01-22 12:48:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:48:09,424 - DEBUG - Checking if Entry has been filled
2018-01-22 12:48:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:48:09,426 - DEBUG - EntryPend is 0
2018-01-22 12:48:09,426 - DEBUG - Try to Cancel Stop
2018-01-22 12:48:09,426 - DEBUG - Stop API ID 0
2018-01-22 12:48:09,426 - DEBUG - Profit API ID 0
2018-01-22 12:48:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:48:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:48:09,427 - DEBUG - Pos is 0
2018-01-22 12:48:09,427 - DEBUG - CurCount is 0
2018-01-22 12:48:09,427 - DEBUG - In Pos 0
2018-01-22 12:48:09,428 - DEBUG - Stop ID is 0
2018-01-22 12:48:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:48:09,429 - DEBUG - EntryPend is 0
2018-01-22 12:48:09,429 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:48:09,430 - DEBUG - Entry Date is 10
2018-01-22 12:48:09,430 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:48:09,430 - DEBUG - Order Profit ID is 0
2018-01-22 12:48:09,430 - DEBUG - Order Entry ID is 0
2018-01-22 12:48:09,431 - DEBUG - API ID is  0
2018-01-22 12:48:09,431 - DEBUG - Current Position is 0
2018-01-22 12:48:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:48:09,431 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:48:09,431 - DEBUG - Time is 12
2018-01-22 12:48:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 12:48:09,432 - DEBUG - Time is 48
2018-01-22 12:48:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 12:48:09,432 - DEBUG - Disconnected from IBController
2018-01-22 12:48:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:53:05,369 - DEBUG - ****************************************************
2018-01-22 12:53:05,369 - DEBUG - Current Time is 12:53PM
2018-01-22 12:53:05,369 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:53:05,370 - DEBUG - Connecting to database
2018-01-22 12:53:05,392 - DEBUG - Connected to database
2018-01-22 12:53:05,392 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:05,393 - DEBUG - Order Profit is 0
2018-01-22 12:53:05,394 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:05,395 - DEBUG - Stop ID is 0
2018-01-22 12:53:05,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:05,397 - DEBUG - Entry ID is 0
2018-01-22 12:53:05,397 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:53:05,398 - DEBUG - OCA ID is 1
2018-01-22 12:53:05,399 - DEBUG - Connecting to IBController
2018-01-22 12:53:06,404 - DEBUG - Connected to IBController
2018-01-22 12:53:06,404 - DEBUG - Position requested
2018-01-22 12:53:06,405 - DEBUG - Pos Mgmt -12987
2018-01-22 12:53:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:53:06,406 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:53:06,406 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:53:06,407 - DEBUG - Position is -12987
2018-01-22 12:53:06,407 - DEBUG - Pos Mgmt 1
2018-01-22 12:53:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DA58>, pos=1, avgCost=48882.9>
2018-01-22 12:53:06,408 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:53:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:53:06,408 - DEBUG - Position is 1
2018-01-22 12:53:07,405 - DEBUG - Open Orders requested
2018-01-22 12:53:07,407 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000213DCC0>, order=<ib.ext.Order.Order object at 0x000000000213DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2080>>
2018-01-22 12:53:07,407 - DEBUG - Order OrderID 116
2018-01-22 12:53:07,408 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:53:07,408 - DEBUG - Order status PreSubmitted
2018-01-22 12:53:07,408 - DEBUG - Order Identification 116
2018-01-22 12:53:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:53:07,409 - DEBUG - Profit ID from database is 0
2018-01-22 12:53:07,409 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:53:07,410 - DEBUG - Stop ID database is 0
2018-01-22 12:53:07,410 - DEBUG - Entry ID database is 0
2018-01-22 12:53:09,406 - DEBUG - Connecting to database
2018-01-22 12:53:09,413 - DEBUG - Connected to database
2018-01-22 12:53:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,415 - DEBUG - Stop loss value is 0
2018-01-22 12:53:09,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,416 - DEBUG - Stop loss value is 0
2018-01-22 12:53:09,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,418 - DEBUG - EntryPrice value is 0
2018-01-22 12:53:09,419 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,420 - DEBUG - Stop quantity 0
2018-01-22 12:53:09,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,421 - DEBUG - Direction is 0
2018-01-22 12:53:09,422 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,423 - DEBUG - Count is 0
2018-01-22 12:53:09,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:53:09,424 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:53:09,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:53:09,426 - DEBUG - Max ID Order is (116,)
2018-01-22 12:53:09,426 - DEBUG - Today is 2018-01-22
2018-01-22 12:53:09,427 - DEBUG - Day of the week 0
2018-01-22 12:53:09,427 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:53:09,427 - DEBUG - In Position is  0
2018-01-22 12:53:09,428 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:53:09,428 - DEBUG - curStopLossFlag is  0
2018-01-22 12:53:09,428 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:53:09,428 - DEBUG - Checking if Entry has been filled
2018-01-22 12:53:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:53:09,430 - DEBUG - EntryPend is 0
2018-01-22 12:53:09,430 - DEBUG - Try to Cancel Stop
2018-01-22 12:53:09,430 - DEBUG - Stop API ID 0
2018-01-22 12:53:09,431 - DEBUG - Profit API ID 0
2018-01-22 12:53:09,431 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:53:09,431 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:53:09,431 - DEBUG - Pos is 0
2018-01-22 12:53:09,432 - DEBUG - CurCount is 0
2018-01-22 12:53:09,432 - DEBUG - In Pos 0
2018-01-22 12:53:09,432 - DEBUG - Stop ID is 0
2018-01-22 12:53:09,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:53:09,434 - DEBUG - EntryPend is 0
2018-01-22 12:53:09,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:53:09,434 - DEBUG - Entry Date is 10
2018-01-22 12:53:09,434 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:53:09,434 - DEBUG - Order Profit ID is 0
2018-01-22 12:53:09,435 - DEBUG - Order Entry ID is 0
2018-01-22 12:53:09,435 - DEBUG - API ID is  0
2018-01-22 12:53:09,435 - DEBUG - Current Position is 0
2018-01-22 12:53:09,435 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:53:09,436 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:53:09,436 - DEBUG - Time is 12
2018-01-22 12:53:09,436 - DEBUG - Time is <class 'int'>
2018-01-22 12:53:09,436 - DEBUG - Time is 53
2018-01-22 12:53:09,436 - DEBUG - Time is <class 'int'>
2018-01-22 12:53:09,437 - DEBUG - Disconnected from IBController
2018-01-22 12:53:09,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 12:58:05,345 - DEBUG - ****************************************************
2018-01-22 12:58:05,346 - DEBUG - Current Time is 12:58PM
2018-01-22 12:58:05,346 - DEBUG - Starting Pos Mgmt H E
2018-01-22 12:58:05,346 - DEBUG - Connecting to database
2018-01-22 12:58:05,370 - DEBUG - Connected to database
2018-01-22 12:58:05,370 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:05,372 - DEBUG - Order Profit is 0
2018-01-22 12:58:05,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:05,373 - DEBUG - Stop ID is 0
2018-01-22 12:58:05,374 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:05,375 - DEBUG - Entry ID is 0
2018-01-22 12:58:05,375 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 12:58:05,377 - DEBUG - OCA ID is 1
2018-01-22 12:58:05,377 - DEBUG - Connecting to IBController
2018-01-22 12:58:06,381 - DEBUG - Connected to IBController
2018-01-22 12:58:06,381 - DEBUG - Position requested
2018-01-22 12:58:06,383 - DEBUG - Pos Mgmt -12987
2018-01-22 12:58:06,383 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 12:58:06,383 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 12:58:06,384 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 12:58:06,384 - DEBUG - Position is -12987
2018-01-22 12:58:06,384 - DEBUG - Pos Mgmt 1
2018-01-22 12:58:06,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, pos=1, avgCost=48882.9>
2018-01-22 12:58:06,385 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 12:58:06,385 - DEBUG - ccy2 Currency with position is USD
2018-01-22 12:58:06,385 - DEBUG - Position is 1
2018-01-22 12:58:07,382 - DEBUG - Open Orders requested
2018-01-22 12:58:07,384 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020BCD68>, order=<ib.ext.Order.Order object at 0x00000000020BCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151080>>
2018-01-22 12:58:07,384 - DEBUG - Order OrderID 116
2018-01-22 12:58:07,385 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 12:58:07,385 - DEBUG - Order status PreSubmitted
2018-01-22 12:58:07,385 - DEBUG - Order Identification 116
2018-01-22 12:58:07,385 - DEBUG - Order Identification <class 'int'>
2018-01-22 12:58:07,386 - DEBUG - Profit ID from database is 0
2018-01-22 12:58:07,386 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 12:58:07,386 - DEBUG - Stop ID database is 0
2018-01-22 12:58:07,387 - DEBUG - Entry ID database is 0
2018-01-22 12:58:09,383 - DEBUG - Connecting to database
2018-01-22 12:58:09,391 - DEBUG - Connected to database
2018-01-22 12:58:09,393 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,393 - DEBUG - Stop loss value is 0
2018-01-22 12:58:09,394 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,395 - DEBUG - Stop loss value is 0
2018-01-22 12:58:09,396 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,396 - DEBUG - EntryPrice value is 0
2018-01-22 12:58:09,398 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,398 - DEBUG - Stop quantity 0
2018-01-22 12:58:09,400 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,400 - DEBUG - Direction is 0
2018-01-22 12:58:09,401 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,402 - DEBUG - Count is 0
2018-01-22 12:58:09,403 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 12:58:09,403 - DEBUG - Stop Loss Flag is 0
2018-01-22 12:58:09,405 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 12:58:09,405 - DEBUG - Max ID Order is (116,)
2018-01-22 12:58:09,405 - DEBUG - Today is 2018-01-22
2018-01-22 12:58:09,406 - DEBUG - Day of the week 0
2018-01-22 12:58:09,406 - DEBUG - Yesterday is 01/19/2018
2018-01-22 12:58:09,406 - DEBUG - In Position is  0
2018-01-22 12:58:09,406 - DEBUG - In Position is  <class 'int'>
2018-01-22 12:58:09,407 - DEBUG - curStopLossFlag is  0
2018-01-22 12:58:09,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 12:58:09,407 - DEBUG - Checking if Entry has been filled
2018-01-22 12:58:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:58:09,409 - DEBUG - EntryPend is 0
2018-01-22 12:58:09,409 - DEBUG - Try to Cancel Stop
2018-01-22 12:58:09,409 - DEBUG - Stop API ID 0
2018-01-22 12:58:09,409 - DEBUG - Profit API ID 0
2018-01-22 12:58:09,409 - DEBUG - Stop API ID <class 'int'>
2018-01-22 12:58:09,410 - DEBUG - Profit API ID <class 'int'>
2018-01-22 12:58:09,410 - DEBUG - Pos is 0
2018-01-22 12:58:09,410 - DEBUG - CurCount is 0
2018-01-22 12:58:09,410 - DEBUG - In Pos 0
2018-01-22 12:58:09,411 - DEBUG - Stop ID is 0
2018-01-22 12:58:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 12:58:09,412 - DEBUG - EntryPend is 0
2018-01-22 12:58:09,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 12:58:09,413 - DEBUG - Entry Date is 10
2018-01-22 12:58:09,413 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 12:58:09,413 - DEBUG - Order Profit ID is 0
2018-01-22 12:58:09,413 - DEBUG - Order Entry ID is 0
2018-01-22 12:58:09,413 - DEBUG - API ID is  0
2018-01-22 12:58:09,414 - DEBUG - Current Position is 0
2018-01-22 12:58:09,414 - DEBUG - Current Position is <class 'str'>
2018-01-22 12:58:09,414 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 12:58:09,414 - DEBUG - Time is 12
2018-01-22 12:58:09,414 - DEBUG - Time is <class 'int'>
2018-01-22 12:58:09,415 - DEBUG - Time is 58
2018-01-22 12:58:09,415 - DEBUG - Time is <class 'int'>
2018-01-22 12:58:09,415 - DEBUG - Disconnected from IBController
2018-01-22 12:58:09,416 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:03:05,358 - DEBUG - ****************************************************
2018-01-22 13:03:05,359 - DEBUG - Current Time is 01:03PM
2018-01-22 13:03:05,359 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:03:05,359 - DEBUG - Connecting to database
2018-01-22 13:03:05,383 - DEBUG - Connected to database
2018-01-22 13:03:05,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:05,385 - DEBUG - Order Profit is 0
2018-01-22 13:03:05,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:05,387 - DEBUG - Stop ID is 0
2018-01-22 13:03:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:05,389 - DEBUG - Entry ID is 0
2018-01-22 13:03:05,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:03:05,390 - DEBUG - OCA ID is 1
2018-01-22 13:03:05,390 - DEBUG - Connecting to IBController
2018-01-22 13:03:06,395 - DEBUG - Connected to IBController
2018-01-22 13:03:06,395 - DEBUG - Position requested
2018-01-22 13:03:06,397 - DEBUG - Pos Mgmt -12987
2018-01-22 13:03:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:03:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:03:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:03:06,399 - DEBUG - Position is -12987
2018-01-22 13:03:06,405 - DEBUG - Pos Mgmt 1
2018-01-22 13:03:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BC50>, pos=1, avgCost=48882.9>
2018-01-22 13:03:06,406 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:03:06,406 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:03:06,406 - DEBUG - Position is 1
2018-01-22 13:03:07,398 - DEBUG - Open Orders requested
2018-01-22 13:03:07,409 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000211BA90>, order=<ib.ext.Order.Order object at 0x000000000211BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B0080>>
2018-01-22 13:03:07,415 - DEBUG - Order OrderID 116
2018-01-22 13:03:07,416 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:03:07,416 - DEBUG - Order status PreSubmitted
2018-01-22 13:03:07,417 - DEBUG - Order Identification 116
2018-01-22 13:03:07,417 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:03:07,417 - DEBUG - Profit ID from database is 0
2018-01-22 13:03:07,417 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:03:07,418 - DEBUG - Stop ID database is 0
2018-01-22 13:03:07,418 - DEBUG - Entry ID database is 0
2018-01-22 13:03:09,399 - DEBUG - Connecting to database
2018-01-22 13:03:09,406 - DEBUG - Connected to database
2018-01-22 13:03:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,407 - DEBUG - Stop loss value is 0
2018-01-22 13:03:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,409 - DEBUG - Stop loss value is 0
2018-01-22 13:03:09,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,410 - DEBUG - EntryPrice value is 0
2018-01-22 13:03:09,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,412 - DEBUG - Stop quantity 0
2018-01-22 13:03:09,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,414 - DEBUG - Direction is 0
2018-01-22 13:03:09,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,415 - DEBUG - Count is 0
2018-01-22 13:03:09,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:03:09,417 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:03:09,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:03:09,418 - DEBUG - Max ID Order is (116,)
2018-01-22 13:03:09,419 - DEBUG - Today is 2018-01-22
2018-01-22 13:03:09,419 - DEBUG - Day of the week 0
2018-01-22 13:03:09,419 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:03:09,420 - DEBUG - In Position is  0
2018-01-22 13:03:09,420 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:03:09,420 - DEBUG - curStopLossFlag is  0
2018-01-22 13:03:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:03:09,421 - DEBUG - Checking if Entry has been filled
2018-01-22 13:03:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:03:09,422 - DEBUG - EntryPend is 0
2018-01-22 13:03:09,423 - DEBUG - Try to Cancel Stop
2018-01-22 13:03:09,423 - DEBUG - Stop API ID 0
2018-01-22 13:03:09,423 - DEBUG - Profit API ID 0
2018-01-22 13:03:09,423 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:03:09,423 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:03:09,424 - DEBUG - Pos is 0
2018-01-22 13:03:09,424 - DEBUG - CurCount is 0
2018-01-22 13:03:09,424 - DEBUG - In Pos 0
2018-01-22 13:03:09,424 - DEBUG - Stop ID is 0
2018-01-22 13:03:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:03:09,426 - DEBUG - EntryPend is 0
2018-01-22 13:03:09,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:03:09,426 - DEBUG - Entry Date is 10
2018-01-22 13:03:09,427 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:03:09,427 - DEBUG - Order Profit ID is 0
2018-01-22 13:03:09,427 - DEBUG - Order Entry ID is 0
2018-01-22 13:03:09,427 - DEBUG - API ID is  0
2018-01-22 13:03:09,428 - DEBUG - Current Position is 0
2018-01-22 13:03:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:03:09,428 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:03:09,428 - DEBUG - Time is 13
2018-01-22 13:03:09,428 - DEBUG - Time is <class 'int'>
2018-01-22 13:03:09,429 - DEBUG - Time is 3
2018-01-22 13:03:09,429 - DEBUG - Time is <class 'int'>
2018-01-22 13:03:09,429 - DEBUG - Disconnected from IBController
2018-01-22 13:03:09,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:08:05,360 - DEBUG - ****************************************************
2018-01-22 13:08:05,361 - DEBUG - Current Time is 01:08PM
2018-01-22 13:08:05,361 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:08:05,362 - DEBUG - Connecting to database
2018-01-22 13:08:05,378 - DEBUG - Connected to database
2018-01-22 13:08:05,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:05,380 - DEBUG - Order Profit is 0
2018-01-22 13:08:05,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:05,382 - DEBUG - Stop ID is 0
2018-01-22 13:08:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:05,383 - DEBUG - Entry ID is 0
2018-01-22 13:08:05,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:08:05,385 - DEBUG - OCA ID is 1
2018-01-22 13:08:05,385 - DEBUG - Connecting to IBController
2018-01-22 13:08:06,394 - DEBUG - Connected to IBController
2018-01-22 13:08:06,394 - DEBUG - Position requested
2018-01-22 13:08:06,395 - DEBUG - Pos Mgmt -12987
2018-01-22 13:08:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:08:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:08:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:08:06,397 - DEBUG - Position is -12987
2018-01-22 13:08:06,397 - DEBUG - Pos Mgmt 1
2018-01-22 13:08:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCA58>, pos=1, avgCost=48882.9>
2018-01-22 13:08:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:08:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:08:06,398 - DEBUG - Position is 1
2018-01-22 13:08:07,395 - DEBUG - Open Orders requested
2018-01-22 13:08:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020FCDD8>, order=<ib.ext.Order.Order object at 0x00000000020FCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192080>>
2018-01-22 13:08:07,403 - DEBUG - Order OrderID 116
2018-01-22 13:08:07,403 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:08:07,404 - DEBUG - Order status PreSubmitted
2018-01-22 13:08:07,404 - DEBUG - Order Identification 116
2018-01-22 13:08:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:08:07,405 - DEBUG - Profit ID from database is 0
2018-01-22 13:08:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:08:07,405 - DEBUG - Stop ID database is 0
2018-01-22 13:08:07,405 - DEBUG - Entry ID database is 0
2018-01-22 13:08:09,402 - DEBUG - Connecting to database
2018-01-22 13:08:09,409 - DEBUG - Connected to database
2018-01-22 13:08:09,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,411 - DEBUG - Stop loss value is 0
2018-01-22 13:08:09,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,412 - DEBUG - Stop loss value is 0
2018-01-22 13:08:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,414 - DEBUG - EntryPrice value is 0
2018-01-22 13:08:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,416 - DEBUG - Stop quantity 0
2018-01-22 13:08:09,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,417 - DEBUG - Direction is 0
2018-01-22 13:08:09,419 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,419 - DEBUG - Count is 0
2018-01-22 13:08:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:08:09,421 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:08:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:08:09,422 - DEBUG - Max ID Order is (116,)
2018-01-22 13:08:09,423 - DEBUG - Today is 2018-01-22
2018-01-22 13:08:09,423 - DEBUG - Day of the week 0
2018-01-22 13:08:09,423 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:08:09,424 - DEBUG - In Position is  0
2018-01-22 13:08:09,424 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:08:09,424 - DEBUG - curStopLossFlag is  0
2018-01-22 13:08:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:08:09,425 - DEBUG - Checking if Entry has been filled
2018-01-22 13:08:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:08:09,426 - DEBUG - EntryPend is 0
2018-01-22 13:08:09,426 - DEBUG - Try to Cancel Stop
2018-01-22 13:08:09,427 - DEBUG - Stop API ID 0
2018-01-22 13:08:09,427 - DEBUG - Profit API ID 0
2018-01-22 13:08:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:08:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:08:09,427 - DEBUG - Pos is 0
2018-01-22 13:08:09,428 - DEBUG - CurCount is 0
2018-01-22 13:08:09,428 - DEBUG - In Pos 0
2018-01-22 13:08:09,428 - DEBUG - Stop ID is 0
2018-01-22 13:08:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:08:09,430 - DEBUG - EntryPend is 0
2018-01-22 13:08:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:08:09,430 - DEBUG - Entry Date is 10
2018-01-22 13:08:09,430 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:08:09,431 - DEBUG - Order Profit ID is 0
2018-01-22 13:08:09,431 - DEBUG - Order Entry ID is 0
2018-01-22 13:08:09,431 - DEBUG - API ID is  0
2018-01-22 13:08:09,431 - DEBUG - Current Position is 0
2018-01-22 13:08:09,432 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:08:09,432 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:08:09,432 - DEBUG - Time is 13
2018-01-22 13:08:09,432 - DEBUG - Time is <class 'int'>
2018-01-22 13:08:09,432 - DEBUG - Time is 8
2018-01-22 13:08:09,433 - DEBUG - Time is <class 'int'>
2018-01-22 13:08:09,433 - DEBUG - Disconnected from IBController
2018-01-22 13:08:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:13:05,367 - DEBUG - ****************************************************
2018-01-22 13:13:05,368 - DEBUG - Current Time is 01:13PM
2018-01-22 13:13:05,368 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:13:05,369 - DEBUG - Connecting to database
2018-01-22 13:13:05,392 - DEBUG - Connected to database
2018-01-22 13:13:05,392 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:05,394 - DEBUG - Order Profit is 0
2018-01-22 13:13:05,394 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:05,396 - DEBUG - Stop ID is 0
2018-01-22 13:13:05,396 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:05,397 - DEBUG - Entry ID is 0
2018-01-22 13:13:05,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:13:05,399 - DEBUG - OCA ID is 1
2018-01-22 13:13:05,399 - DEBUG - Connecting to IBController
2018-01-22 13:13:06,404 - DEBUG - Connected to IBController
2018-01-22 13:13:06,404 - DEBUG - Position requested
2018-01-22 13:13:06,406 - DEBUG - Pos Mgmt -12987
2018-01-22 13:13:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C5CA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:13:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:13:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:13:06,407 - DEBUG - Position is -12987
2018-01-22 13:13:06,408 - DEBUG - Pos Mgmt 1
2018-01-22 13:13:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C5CC50>, pos=1, avgCost=48882.9>
2018-01-22 13:13:06,408 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:13:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:13:06,409 - DEBUG - Position is 1
2018-01-22 13:13:07,406 - DEBUG - Open Orders requested
2018-01-22 13:13:07,408 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x0000000001C5CA90>, order=<ib.ext.Order.Order object at 0x0000000001C5CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181080>>
2018-01-22 13:13:07,408 - DEBUG - Order OrderID 116
2018-01-22 13:13:07,409 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:13:07,415 - DEBUG - Order status PreSubmitted
2018-01-22 13:13:07,416 - DEBUG - Order Identification 116
2018-01-22 13:13:07,416 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:13:07,416 - DEBUG - Profit ID from database is 0
2018-01-22 13:13:07,416 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:13:07,417 - DEBUG - Stop ID database is 0
2018-01-22 13:13:07,417 - DEBUG - Entry ID database is 0
2018-01-22 13:13:09,407 - DEBUG - Connecting to database
2018-01-22 13:13:09,414 - DEBUG - Connected to database
2018-01-22 13:13:09,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,416 - DEBUG - Stop loss value is 0
2018-01-22 13:13:09,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,417 - DEBUG - Stop loss value is 0
2018-01-22 13:13:09,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,419 - DEBUG - EntryPrice value is 0
2018-01-22 13:13:09,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,420 - DEBUG - Stop quantity 0
2018-01-22 13:13:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,422 - DEBUG - Direction is 0
2018-01-22 13:13:09,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,424 - DEBUG - Count is 0
2018-01-22 13:13:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:13:09,426 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:13:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:13:09,427 - DEBUG - Max ID Order is (116,)
2018-01-22 13:13:09,428 - DEBUG - Today is 2018-01-22
2018-01-22 13:13:09,428 - DEBUG - Day of the week 0
2018-01-22 13:13:09,428 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:13:09,429 - DEBUG - In Position is  0
2018-01-22 13:13:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:13:09,429 - DEBUG - curStopLossFlag is  0
2018-01-22 13:13:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:13:09,429 - DEBUG - Checking if Entry has been filled
2018-01-22 13:13:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:13:09,431 - DEBUG - EntryPend is 0
2018-01-22 13:13:09,431 - DEBUG - Try to Cancel Stop
2018-01-22 13:13:09,432 - DEBUG - Stop API ID 0
2018-01-22 13:13:09,432 - DEBUG - Profit API ID 0
2018-01-22 13:13:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:13:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:13:09,432 - DEBUG - Pos is 0
2018-01-22 13:13:09,433 - DEBUG - CurCount is 0
2018-01-22 13:13:09,433 - DEBUG - In Pos 0
2018-01-22 13:13:09,433 - DEBUG - Stop ID is 0
2018-01-22 13:13:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:13:09,435 - DEBUG - EntryPend is 0
2018-01-22 13:13:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:13:09,435 - DEBUG - Entry Date is 10
2018-01-22 13:13:09,435 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:13:09,436 - DEBUG - Order Profit ID is 0
2018-01-22 13:13:09,436 - DEBUG - Order Entry ID is 0
2018-01-22 13:13:09,436 - DEBUG - API ID is  0
2018-01-22 13:13:09,436 - DEBUG - Current Position is 0
2018-01-22 13:13:09,437 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:13:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:13:09,437 - DEBUG - Time is 13
2018-01-22 13:13:09,437 - DEBUG - Time is <class 'int'>
2018-01-22 13:13:09,437 - DEBUG - Time is 13
2018-01-22 13:13:09,438 - DEBUG - Time is <class 'int'>
2018-01-22 13:13:09,438 - DEBUG - Disconnected from IBController
2018-01-22 13:13:09,439 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:18:05,361 - DEBUG - ****************************************************
2018-01-22 13:18:05,362 - DEBUG - Current Time is 01:18PM
2018-01-22 13:18:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:18:05,362 - DEBUG - Connecting to database
2018-01-22 13:18:05,400 - DEBUG - Connected to database
2018-01-22 13:18:05,400 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:05,402 - DEBUG - Order Profit is 0
2018-01-22 13:18:05,402 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:05,405 - DEBUG - Stop ID is 0
2018-01-22 13:18:05,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:05,406 - DEBUG - Entry ID is 0
2018-01-22 13:18:05,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:18:05,408 - DEBUG - OCA ID is 1
2018-01-22 13:18:05,408 - DEBUG - Connecting to IBController
2018-01-22 13:18:06,412 - DEBUG - Connected to IBController
2018-01-22 13:18:06,412 - DEBUG - Position requested
2018-01-22 13:18:06,414 - DEBUG - Pos Mgmt -12987
2018-01-22 13:18:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:18:06,414 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:18:06,415 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:18:06,415 - DEBUG - Position is -12987
2018-01-22 13:18:06,415 - DEBUG - Pos Mgmt 1
2018-01-22 13:18:06,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA58>, pos=1, avgCost=48882.9>
2018-01-22 13:18:06,416 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:18:06,416 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:18:06,416 - DEBUG - Position is 1
2018-01-22 13:18:07,413 - DEBUG - Open Orders requested
2018-01-22 13:18:07,415 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x00000000020EDDD8>, order=<ib.ext.Order.Order object at 0x00000000020EDD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021810F0>>
2018-01-22 13:18:07,416 - DEBUG - Order OrderID 116
2018-01-22 13:18:07,416 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:18:07,416 - DEBUG - Order status PreSubmitted
2018-01-22 13:18:07,417 - DEBUG - Order Identification 116
2018-01-22 13:18:07,417 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:18:07,417 - DEBUG - Profit ID from database is 0
2018-01-22 13:18:07,417 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:18:07,418 - DEBUG - Stop ID database is 0
2018-01-22 13:18:07,418 - DEBUG - Entry ID database is 0
2018-01-22 13:18:09,415 - DEBUG - Connecting to database
2018-01-22 13:18:09,422 - DEBUG - Connected to database
2018-01-22 13:18:09,424 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,424 - DEBUG - Stop loss value is 0
2018-01-22 13:18:09,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,426 - DEBUG - Stop loss value is 0
2018-01-22 13:18:09,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,428 - DEBUG - EntryPrice value is 0
2018-01-22 13:18:09,429 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,429 - DEBUG - Stop quantity 0
2018-01-22 13:18:09,431 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,431 - DEBUG - Direction is 0
2018-01-22 13:18:09,433 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,433 - DEBUG - Count is 0
2018-01-22 13:18:09,434 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:18:09,435 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:18:09,436 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:18:09,437 - DEBUG - Max ID Order is (116,)
2018-01-22 13:18:09,437 - DEBUG - Today is 2018-01-22
2018-01-22 13:18:09,437 - DEBUG - Day of the week 0
2018-01-22 13:18:09,438 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:18:09,438 - DEBUG - In Position is  0
2018-01-22 13:18:09,438 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:18:09,438 - DEBUG - curStopLossFlag is  0
2018-01-22 13:18:09,438 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:18:09,439 - DEBUG - Checking if Entry has been filled
2018-01-22 13:18:09,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:18:09,440 - DEBUG - EntryPend is 0
2018-01-22 13:18:09,441 - DEBUG - Try to Cancel Stop
2018-01-22 13:18:09,441 - DEBUG - Stop API ID 0
2018-01-22 13:18:09,441 - DEBUG - Profit API ID 0
2018-01-22 13:18:09,441 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:18:09,441 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:18:09,442 - DEBUG - Pos is 0
2018-01-22 13:18:09,442 - DEBUG - CurCount is 0
2018-01-22 13:18:09,442 - DEBUG - In Pos 0
2018-01-22 13:18:09,442 - DEBUG - Stop ID is 0
2018-01-22 13:18:09,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:18:09,444 - DEBUG - EntryPend is 0
2018-01-22 13:18:09,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:18:09,444 - DEBUG - Entry Date is 10
2018-01-22 13:18:09,445 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:18:09,445 - DEBUG - Order Profit ID is 0
2018-01-22 13:18:09,445 - DEBUG - Order Entry ID is 0
2018-01-22 13:18:09,445 - DEBUG - API ID is  0
2018-01-22 13:18:09,446 - DEBUG - Current Position is 0
2018-01-22 13:18:09,446 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:18:09,446 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:18:09,446 - DEBUG - Time is 13
2018-01-22 13:18:09,446 - DEBUG - Time is <class 'int'>
2018-01-22 13:18:09,447 - DEBUG - Time is 18
2018-01-22 13:18:09,447 - DEBUG - Time is <class 'int'>
2018-01-22 13:18:09,447 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-22 13:18:09,448 - ERROR - Canceled Order 0
2018-01-22 13:18:09,448 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-22 13:18:09,463 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-22 13:18:09,477 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-22 13:18:09,490 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-22 13:18:09,504 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-22 13:18:09,517 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-22 13:18:09,532 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-22 13:18:09,546 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-22 13:18:09,560 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-22 13:18:09,574 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-22 13:18:09,590 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-22 13:18:09,604 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-22 13:18:09,618 - DEBUG - Disconnected from IBController
2018-01-22 13:18:09,618 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:23:05,374 - DEBUG - ****************************************************
2018-01-22 13:23:05,374 - DEBUG - Current Time is 01:23PM
2018-01-22 13:23:05,375 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:23:05,375 - DEBUG - Connecting to database
2018-01-22 13:23:05,410 - DEBUG - Connected to database
2018-01-22 13:23:05,410 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:05,411 - DEBUG - Order Profit is 0
2018-01-22 13:23:05,412 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:05,413 - DEBUG - Stop ID is 0
2018-01-22 13:23:05,413 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:05,415 - DEBUG - Entry ID is 0
2018-01-22 13:23:05,415 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:23:05,416 - DEBUG - OCA ID is 1
2018-01-22 13:23:05,417 - DEBUG - Connecting to IBController
2018-01-22 13:23:06,421 - DEBUG - Connected to IBController
2018-01-22 13:23:06,421 - DEBUG - Position requested
2018-01-22 13:23:06,422 - DEBUG - Pos Mgmt -12987
2018-01-22 13:23:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DD68>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:23:06,423 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:23:06,423 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:23:06,424 - DEBUG - Position is -12987
2018-01-22 13:23:06,424 - DEBUG - Pos Mgmt 1
2018-01-22 13:23:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DA58>, pos=1, avgCost=48882.9>
2018-01-22 13:23:06,425 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:23:06,425 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:23:06,425 - DEBUG - Position is 1
2018-01-22 13:23:07,423 - DEBUG - Open Orders requested
2018-01-22 13:23:07,425 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000210DD68>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1080>>
2018-01-22 13:23:07,425 - DEBUG - Order OrderID 116
2018-01-22 13:23:07,426 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:23:07,426 - DEBUG - Order status PreSubmitted
2018-01-22 13:23:07,426 - DEBUG - Order Identification 116
2018-01-22 13:23:07,427 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:23:07,427 - DEBUG - Profit ID from database is 0
2018-01-22 13:23:07,427 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:23:07,427 - DEBUG - Stop ID database is 0
2018-01-22 13:23:07,428 - DEBUG - Entry ID database is 0
2018-01-22 13:23:09,424 - DEBUG - Connecting to database
2018-01-22 13:23:09,431 - DEBUG - Connected to database
2018-01-22 13:23:09,432 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,433 - DEBUG - Stop loss value is 0
2018-01-22 13:23:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,434 - DEBUG - Stop loss value is 0
2018-01-22 13:23:09,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,436 - DEBUG - EntryPrice value is 0
2018-01-22 13:23:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,437 - DEBUG - Stop quantity 0
2018-01-22 13:23:09,439 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,439 - DEBUG - Direction is 0
2018-01-22 13:23:09,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,441 - DEBUG - Count is 0
2018-01-22 13:23:09,442 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:23:09,442 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:23:09,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:23:09,444 - DEBUG - Max ID Order is (116,)
2018-01-22 13:23:09,445 - DEBUG - Today is 2018-01-22
2018-01-22 13:23:09,445 - DEBUG - Day of the week 0
2018-01-22 13:23:09,445 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:23:09,445 - DEBUG - In Position is  0
2018-01-22 13:23:09,446 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:23:09,446 - DEBUG - curStopLossFlag is  0
2018-01-22 13:23:09,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:23:09,446 - DEBUG - Checking if Entry has been filled
2018-01-22 13:23:09,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:23:09,448 - DEBUG - EntryPend is 0
2018-01-22 13:23:09,448 - DEBUG - Try to Cancel Stop
2018-01-22 13:23:09,448 - DEBUG - Stop API ID 0
2018-01-22 13:23:09,449 - DEBUG - Profit API ID 0
2018-01-22 13:23:09,449 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:23:09,449 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:23:09,449 - DEBUG - Pos is 0
2018-01-22 13:23:09,449 - DEBUG - CurCount is 0
2018-01-22 13:23:09,450 - DEBUG - In Pos 0
2018-01-22 13:23:09,450 - DEBUG - Stop ID is 0
2018-01-22 13:23:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:23:09,452 - DEBUG - EntryPend is 0
2018-01-22 13:23:09,452 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:23:09,452 - DEBUG - Entry Date is 10
2018-01-22 13:23:09,452 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:23:09,452 - DEBUG - Order Profit ID is 0
2018-01-22 13:23:09,453 - DEBUG - Order Entry ID is 0
2018-01-22 13:23:09,453 - DEBUG - API ID is  0
2018-01-22 13:23:09,453 - DEBUG - Current Position is 0
2018-01-22 13:23:09,453 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:23:09,454 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:23:09,454 - DEBUG - Time is 13
2018-01-22 13:23:09,454 - DEBUG - Time is <class 'int'>
2018-01-22 13:23:09,454 - DEBUG - Time is 23
2018-01-22 13:23:09,454 - DEBUG - Time is <class 'int'>
2018-01-22 13:23:09,455 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-22 13:23:09,455 - ERROR - Canceled Order 0
2018-01-22 13:23:09,456 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-22 13:23:09,470 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-22 13:23:09,483 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-22 13:23:09,496 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-22 13:23:09,509 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-22 13:23:09,522 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-22 13:23:09,535 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-22 13:23:09,549 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-22 13:23:09,561 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-22 13:23:09,575 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-22 13:23:09,588 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-22 13:23:09,601 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-22 13:23:09,614 - DEBUG - Disconnected from IBController
2018-01-22 13:23:09,614 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:28:05,362 - DEBUG - ****************************************************
2018-01-22 13:28:05,362 - DEBUG - Current Time is 01:28PM
2018-01-22 13:28:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:28:05,363 - DEBUG - Connecting to database
2018-01-22 13:28:05,399 - DEBUG - Connected to database
2018-01-22 13:28:05,400 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:05,401 - DEBUG - Order Profit is 0
2018-01-22 13:28:05,401 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:05,403 - DEBUG - Stop ID is 0
2018-01-22 13:28:05,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:05,404 - DEBUG - Entry ID is 0
2018-01-22 13:28:05,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:28:05,406 - DEBUG - OCA ID is 1
2018-01-22 13:28:05,406 - DEBUG - Connecting to IBController
2018-01-22 13:28:06,411 - DEBUG - Connected to IBController
2018-01-22 13:28:06,411 - DEBUG - Position requested
2018-01-22 13:28:06,412 - DEBUG - Pos Mgmt -12987
2018-01-22 13:28:06,413 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DC88>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:28:06,413 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:28:06,414 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:28:06,414 - DEBUG - Position is -12987
2018-01-22 13:28:06,414 - DEBUG - Pos Mgmt 1
2018-01-22 13:28:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DA58>, pos=1, avgCost=48882.9>
2018-01-22 13:28:06,415 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:28:06,415 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:28:06,415 - DEBUG - Position is 1
2018-01-22 13:28:07,413 - DEBUG - Open Orders requested
2018-01-22 13:28:07,415 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000215DC88>, order=<ib.ext.Order.Order object at 0x000000000215DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1080>>
2018-01-22 13:28:07,415 - DEBUG - Order OrderID 116
2018-01-22 13:28:07,416 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:28:07,416 - DEBUG - Order status PreSubmitted
2018-01-22 13:28:07,416 - DEBUG - Order Identification 116
2018-01-22 13:28:07,417 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:28:07,417 - DEBUG - Profit ID from database is 0
2018-01-22 13:28:07,417 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:28:07,417 - DEBUG - Stop ID database is 0
2018-01-22 13:28:07,418 - DEBUG - Entry ID database is 0
2018-01-22 13:28:09,414 - DEBUG - Connecting to database
2018-01-22 13:28:09,421 - DEBUG - Connected to database
2018-01-22 13:28:09,422 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,423 - DEBUG - Stop loss value is 0
2018-01-22 13:28:09,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,424 - DEBUG - Stop loss value is 0
2018-01-22 13:28:09,426 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,426 - DEBUG - EntryPrice value is 0
2018-01-22 13:28:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,428 - DEBUG - Stop quantity 0
2018-01-22 13:28:09,429 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,429 - DEBUG - Direction is 0
2018-01-22 13:28:09,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,434 - DEBUG - Count is 0
2018-01-22 13:28:09,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:28:09,448 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:28:09,449 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:28:09,450 - DEBUG - Max ID Order is (116,)
2018-01-22 13:28:09,450 - DEBUG - Today is 2018-01-22
2018-01-22 13:28:09,450 - DEBUG - Day of the week 0
2018-01-22 13:28:09,451 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:28:09,451 - DEBUG - In Position is  0
2018-01-22 13:28:09,451 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:28:09,451 - DEBUG - curStopLossFlag is  0
2018-01-22 13:28:09,451 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:28:09,452 - DEBUG - Checking if Entry has been filled
2018-01-22 13:28:09,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:28:09,453 - DEBUG - EntryPend is 0
2018-01-22 13:28:09,453 - DEBUG - Try to Cancel Stop
2018-01-22 13:28:09,454 - DEBUG - Stop API ID 0
2018-01-22 13:28:09,454 - DEBUG - Profit API ID 0
2018-01-22 13:28:09,454 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:28:09,454 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:28:09,454 - DEBUG - Pos is 0
2018-01-22 13:28:09,455 - DEBUG - CurCount is 0
2018-01-22 13:28:09,455 - DEBUG - In Pos 0
2018-01-22 13:28:09,455 - DEBUG - Stop ID is 0
2018-01-22 13:28:09,455 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:28:09,457 - DEBUG - EntryPend is 0
2018-01-22 13:28:09,458 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:28:09,458 - DEBUG - Entry Date is 10
2018-01-22 13:28:09,458 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:28:09,458 - DEBUG - Order Profit ID is 0
2018-01-22 13:28:09,459 - DEBUG - Order Entry ID is 0
2018-01-22 13:28:09,459 - DEBUG - API ID is  0
2018-01-22 13:28:09,459 - DEBUG - Current Position is 0
2018-01-22 13:28:09,459 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:28:09,459 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:28:09,460 - DEBUG - Time is 13
2018-01-22 13:28:09,460 - DEBUG - Time is <class 'int'>
2018-01-22 13:28:09,460 - DEBUG - Time is 28
2018-01-22 13:28:09,460 - DEBUG - Time is <class 'int'>
2018-01-22 13:28:09,460 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-22 13:28:09,461 - ERROR - Canceled Order 0
2018-01-22 13:28:09,461 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-22 13:28:09,476 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-22 13:28:09,489 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-22 13:28:09,504 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-22 13:28:09,521 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-22 13:28:09,535 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-22 13:28:09,548 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-22 13:28:09,562 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-22 13:28:09,582 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-22 13:28:09,597 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-22 13:28:09,610 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-22 13:28:09,624 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-22 13:28:09,637 - DEBUG - Disconnected from IBController
2018-01-22 13:28:09,638 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:33:05,360 - DEBUG - ****************************************************
2018-01-22 13:33:05,361 - DEBUG - Current Time is 01:33PM
2018-01-22 13:33:05,361 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:33:05,361 - DEBUG - Connecting to database
2018-01-22 13:33:05,383 - DEBUG - Connected to database
2018-01-22 13:33:05,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:05,385 - DEBUG - Order Profit is 0
2018-01-22 13:33:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:05,387 - DEBUG - Stop ID is 0
2018-01-22 13:33:05,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:05,389 - DEBUG - Entry ID is 0
2018-01-22 13:33:05,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:33:05,391 - DEBUG - OCA ID is 1
2018-01-22 13:33:05,391 - DEBUG - Connecting to IBController
2018-01-22 13:33:06,394 - DEBUG - Connected to IBController
2018-01-22 13:33:06,394 - DEBUG - Position requested
2018-01-22 13:33:06,395 - DEBUG - Pos Mgmt -12987
2018-01-22 13:33:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:33:06,396 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:33:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:33:06,397 - DEBUG - Position is -12987
2018-01-22 13:33:06,397 - DEBUG - Pos Mgmt 1
2018-01-22 13:33:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DA58>, pos=1, avgCost=48882.9>
2018-01-22 13:33:06,397 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:33:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:33:06,398 - DEBUG - Position is 1
2018-01-22 13:33:07,395 - DEBUG - Open Orders requested
2018-01-22 13:33:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000214DDD8>, order=<ib.ext.Order.Order object at 0x000000000214DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E10F0>>
2018-01-22 13:33:07,397 - DEBUG - Order OrderID 116
2018-01-22 13:33:07,398 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:33:07,398 - DEBUG - Order status PreSubmitted
2018-01-22 13:33:07,399 - DEBUG - Order Identification 116
2018-01-22 13:33:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:33:07,399 - DEBUG - Profit ID from database is 0
2018-01-22 13:33:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:33:07,399 - DEBUG - Stop ID database is 0
2018-01-22 13:33:07,400 - DEBUG - Entry ID database is 0
2018-01-22 13:33:09,397 - DEBUG - Connecting to database
2018-01-22 13:33:09,404 - DEBUG - Connected to database
2018-01-22 13:33:09,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,406 - DEBUG - Stop loss value is 0
2018-01-22 13:33:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,407 - DEBUG - Stop loss value is 0
2018-01-22 13:33:09,409 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,409 - DEBUG - EntryPrice value is 0
2018-01-22 13:33:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,411 - DEBUG - Stop quantity 0
2018-01-22 13:33:09,412 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,412 - DEBUG - Direction is 0
2018-01-22 13:33:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,414 - DEBUG - Count is 0
2018-01-22 13:33:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:33:09,415 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:33:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:33:09,417 - DEBUG - Max ID Order is (116,)
2018-01-22 13:33:09,417 - DEBUG - Today is 2018-01-22
2018-01-22 13:33:09,418 - DEBUG - Day of the week 0
2018-01-22 13:33:09,418 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:33:09,418 - DEBUG - In Position is  0
2018-01-22 13:33:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:33:09,419 - DEBUG - curStopLossFlag is  0
2018-01-22 13:33:09,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:33:09,419 - DEBUG - Checking if Entry has been filled
2018-01-22 13:33:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:33:09,421 - DEBUG - EntryPend is 0
2018-01-22 13:33:09,421 - DEBUG - Try to Cancel Stop
2018-01-22 13:33:09,421 - DEBUG - Stop API ID 0
2018-01-22 13:33:09,421 - DEBUG - Profit API ID 0
2018-01-22 13:33:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:33:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:33:09,422 - DEBUG - Pos is 0
2018-01-22 13:33:09,422 - DEBUG - CurCount is 0
2018-01-22 13:33:09,422 - DEBUG - In Pos 0
2018-01-22 13:33:09,423 - DEBUG - Stop ID is 0
2018-01-22 13:33:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:33:09,424 - DEBUG - EntryPend is 0
2018-01-22 13:33:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:33:09,425 - DEBUG - Entry Date is 10
2018-01-22 13:33:09,425 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:33:09,425 - DEBUG - Order Profit ID is 0
2018-01-22 13:33:09,425 - DEBUG - Order Entry ID is 0
2018-01-22 13:33:09,425 - DEBUG - API ID is  0
2018-01-22 13:33:09,426 - DEBUG - Current Position is 0
2018-01-22 13:33:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:33:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:33:09,426 - DEBUG - Time is 13
2018-01-22 13:33:09,426 - DEBUG - Time is <class 'int'>
2018-01-22 13:33:09,427 - DEBUG - Time is 33
2018-01-22 13:33:09,427 - DEBUG - Time is <class 'int'>
2018-01-22 13:33:09,427 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-22 13:33:09,427 - ERROR - Canceled Order 0
2018-01-22 13:33:09,428 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-22 13:33:09,445 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-22 13:33:09,458 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-22 13:33:09,471 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-22 13:33:09,484 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-22 13:33:09,497 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-22 13:33:09,510 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-22 13:33:09,523 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-22 13:33:09,538 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-22 13:33:09,551 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-22 13:33:09,564 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-22 13:33:09,578 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-22 13:33:09,591 - DEBUG - Disconnected from IBController
2018-01-22 13:33:09,592 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-22 13:38:05,342 - DEBUG - ****************************************************
2018-01-22 13:38:05,342 - DEBUG - Current Time is 01:38PM
2018-01-22 13:38:05,343 - DEBUG - Starting Pos Mgmt H E
2018-01-22 13:38:05,343 - DEBUG - Connecting to database
2018-01-22 13:38:05,372 - DEBUG - Connected to database
2018-01-22 13:38:05,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:05,373 - DEBUG - Order Profit is 0
2018-01-22 13:38:05,374 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:05,375 - DEBUG - Stop ID is 0
2018-01-22 13:38:05,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:05,377 - DEBUG - Entry ID is 0
2018-01-22 13:38:05,377 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-22 13:38:05,378 - DEBUG - OCA ID is 1
2018-01-22 13:38:05,379 - DEBUG - Connecting to IBController
2018-01-22 13:38:06,387 - DEBUG - Connected to IBController
2018-01-22 13:38:06,387 - DEBUG - Position requested
2018-01-22 13:38:06,388 - DEBUG - Pos Mgmt -12987
2018-01-22 13:38:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DA90>, pos=-12987, avgCost=0.95368235>
2018-01-22 13:38:06,389 - DEBUG - ccy1 Symbol with position is NZD
2018-01-22 13:38:06,390 - DEBUG - ccy2 Currency with position is CAD
2018-01-22 13:38:06,390 - DEBUG - Position is -12987
2018-01-22 13:38:06,390 - DEBUG - Pos Mgmt 1
2018-01-22 13:38:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DA20>, pos=1, avgCost=48882.9>
2018-01-22 13:38:06,391 - DEBUG - ccy1 Symbol with position is LE
2018-01-22 13:38:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-22 13:38:06,391 - DEBUG - Position is 1
2018-01-22 13:38:07,389 - DEBUG - Open Orders requested
2018-01-22 13:38:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=116, contract=<ib.ext.Contract.Contract object at 0x000000000214DA90>, order=<ib.ext.Order.Order object at 0x000000000214DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1080>>
2018-01-22 13:38:07,393 - DEBUG - Order OrderID 116
2018-01-22 13:38:07,396 - DEBUG - reply handler status <orderStatus orderId=116, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=432371429, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-22 13:38:07,397 - DEBUG - Order status PreSubmitted
2018-01-22 13:38:07,400 - DEBUG - Order Identification 116
2018-01-22 13:38:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-22 13:38:07,400 - DEBUG - Profit ID from database is 0
2018-01-22 13:38:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-22 13:38:07,401 - DEBUG - Stop ID database is 0
2018-01-22 13:38:07,401 - DEBUG - Entry ID database is 0
2018-01-22 13:38:09,389 - DEBUG - Connecting to database
2018-01-22 13:38:09,396 - DEBUG - Connected to database
2018-01-22 13:38:09,397 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,398 - DEBUG - Stop loss value is 0
2018-01-22 13:38:09,399 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,399 - DEBUG - Stop loss value is 0
2018-01-22 13:38:09,401 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,401 - DEBUG - EntryPrice value is 0
2018-01-22 13:38:09,403 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,403 - DEBUG - Stop quantity 0
2018-01-22 13:38:09,404 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,405 - DEBUG - Direction is 0
2018-01-22 13:38:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,407 - DEBUG - Count is 0
2018-01-22 13:38:09,409 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-22 13:38:09,409 - DEBUG - Stop Loss Flag is 0
2018-01-22 13:38:09,410 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-22 13:38:09,411 - DEBUG - Max ID Order is (116,)
2018-01-22 13:38:09,411 - DEBUG - Today is 2018-01-22
2018-01-22 13:38:09,411 - DEBUG - Day of the week 0
2018-01-22 13:38:09,412 - DEBUG - Yesterday is 01/19/2018
2018-01-22 13:38:09,412 - DEBUG - In Position is  0
2018-01-22 13:38:09,412 - DEBUG - In Position is  <class 'int'>
2018-01-22 13:38:09,412 - DEBUG - curStopLossFlag is  0
2018-01-22 13:38:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-22 13:38:09,413 - DEBUG - Checking if Entry has been filled
2018-01-22 13:38:09,413 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:38:09,414 - DEBUG - EntryPend is 0
2018-01-22 13:38:09,415 - DEBUG - Try to Cancel Stop
2018-01-22 13:38:09,415 - DEBUG - Stop API ID 0
2018-01-22 13:38:09,415 - DEBUG - Profit API ID 0
2018-01-22 13:38:09,415 - DEBUG - Stop API ID <class 'int'>
2018-01-22 13:38:09,416 - DEBUG - Profit API ID <class 'int'>
2018-01-22 13:38:09,416 - DEBUG - Pos is 0
2018-01-22 13:38:09,416 - DEBUG - CurCount is 0
2018-01-22 13:38:09,416 - DEBUG - In Pos 0
2018-01-22 13:38:09,417 - DEBUG - Stop ID is 0
2018-01-22 13:38:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-22 13:38:09,418 - DEBUG - EntryPend is 0
2018-01-22 13:38:09,418 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-22 13:38:09,419 - DEBUG - Entry Date is 10
2018-01-22 13:38:09,419 - DEBUG - confirming yesterday is 01/19/2018
2018-01-22 13:38:09,419 - DEBUG - Order Profit ID is 0
2018-01-22 13:38:09,419 - DEBUG - Order Entry ID is 0
2018-01-22 13:38:09,420 - DEBUG - API ID is  0
2018-01-22 13:38:09,420 - DEBUG - Current Position is 0
2018-01-22 13:38:09,420 - DEBUG - Current Position is <class 'str'>
2018-01-22 13:38:09,420 - DEBUG - Checking if Positions should be close at EOD
2018-01-22 13:38:09,420 - DEBUG - Time is 13
2018-01-22 13:38:09,421 - DEBUG - Time is <class 'int'>
2018-01-22 13:38:09,421 - DEBUG - Time is 38
2018-01-22 13:38:09,421 - DEBUG - Time is <class 'int'>
2018-01-22 13:38:09,421 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-01-22 13:38:09,422 - ERROR - Canceled Order 0
2018-01-22 13:38:09,423 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-22 13:38:09,437 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-01-22 13:38:09,451 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-01-22 13:38:09,464 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-01-22 13:38:09,478 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-01-22 13:38:09,491 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-01-22 13:38:09,504 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-01-22 13:38:09,517 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-01-22 13:38:09,531 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-01-22 13:38:09,545 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-01-22 13:38:09,558 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-01-22 13:38:09,572 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-01-22 13:38:09,586 - DEBUG - Disconnected from IBController
2018-01-22 13:38:09,587 - DEBUG - END POS MGMT SCRIPT :-!
