2018-02-26 09:36:01,491 - DEBUG - ****************************************************
2018-02-26 09:36:01,491 - DEBUG - Current Time is 09:36AM
2018-02-26 09:36:01,492 - DEBUG - Starting Pos Mgmt H E
2018-02-26 09:36:01,492 - DEBUG - Connecting to database
2018-02-26 09:36:01,556 - DEBUG - Connected to database
2018-02-26 09:36:01,556 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:01,558 - DEBUG - Order Profit is 0
2018-02-26 09:36:01,558 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:01,564 - DEBUG - Stop ID is 0
2018-02-26 09:36:01,564 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:01,567 - DEBUG - Entry ID is 230
2018-02-26 09:36:01,567 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:36:01,568 - DEBUG - OCA ID is 1
2018-02-26 09:36:01,569 - DEBUG - Connecting to IBController
2018-02-26 09:36:02,579 - DEBUG - Connected to IBController
2018-02-26 09:36:02,579 - DEBUG - Position requested
2018-02-26 09:36:02,581 - DEBUG - Pos Mgmt -12987
2018-02-26 09:36:02,582 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADDA0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:36:02,582 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:36:02,582 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:36:02,583 - DEBUG - Position is -12987
2018-02-26 09:36:03,581 - DEBUG - Open Orders requested
2018-02-26 09:36:03,583 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCF8>, order=<ib.ext.Order.Order object at 0x00000000020ADA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140198>>
2018-02-26 09:36:03,584 - DEBUG - Order OrderID 230
2018-02-26 09:36:03,584 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:36:03,585 - DEBUG - Order status PreSubmitted
2018-02-26 09:36:03,585 - DEBUG - Order Identification 230
2018-02-26 09:36:03,585 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:36:03,586 - DEBUG - Profit ID from database is 0
2018-02-26 09:36:03,586 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:36:03,586 - DEBUG - Stop ID database is 0
2018-02-26 09:36:03,586 - DEBUG - Entry ID database is 230
2018-02-26 09:36:03,587 - DEBUG - Entry API ID is 230
2018-02-26 09:36:03,588 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCF8>, order=<ib.ext.Order.Order object at 0x00000000020ADA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140208>>
2018-02-26 09:36:03,588 - DEBUG - Order OrderID 225
2018-02-26 09:36:03,588 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:36:03,589 - DEBUG - Order status PreSubmitted
2018-02-26 09:36:03,589 - DEBUG - Order Identification 225
2018-02-26 09:36:03,589 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:36:03,589 - DEBUG - Profit ID from database is 0
2018-02-26 09:36:03,590 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:36:03,590 - DEBUG - Stop ID database is 0
2018-02-26 09:36:03,590 - DEBUG - Entry ID database is 230
2018-02-26 09:36:03,591 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCF8>, order=<ib.ext.Order.Order object at 0x00000000020ADA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021402E8>>
2018-02-26 09:36:03,592 - DEBUG - Order OrderID 227
2018-02-26 09:36:03,592 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:36:03,592 - DEBUG - Order status PreSubmitted
2018-02-26 09:36:03,593 - DEBUG - Order Identification 227
2018-02-26 09:36:03,593 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:36:03,593 - DEBUG - Profit ID from database is 0
2018-02-26 09:36:03,593 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:36:03,593 - DEBUG - Stop ID database is 0
2018-02-26 09:36:03,594 - DEBUG - Entry ID database is 230
2018-02-26 09:36:03,595 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x00000000020ADCF8>, order=<ib.ext.Order.Order object at 0x00000000020ADA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140358>>
2018-02-26 09:36:03,595 - DEBUG - Order OrderID 229
2018-02-26 09:36:03,596 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:36:03,596 - DEBUG - Order status PreSubmitted
2018-02-26 09:36:03,596 - DEBUG - Order Identification 229
2018-02-26 09:36:03,596 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:36:03,597 - DEBUG - Profit ID from database is 0
2018-02-26 09:36:03,597 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:36:03,597 - DEBUG - Stop ID database is 0
2018-02-26 09:36:03,597 - DEBUG - Entry ID database is 230
2018-02-26 09:36:05,582 - DEBUG - Connecting to database
2018-02-26 09:36:05,589 - DEBUG - Connected to database
2018-02-26 09:36:05,590 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,591 - DEBUG - Stop loss value is 69.25
2018-02-26 09:36:05,592 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,593 - DEBUG - Stop loss value is 82.575
2018-02-26 09:36:05,594 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,594 - DEBUG - EntryPrice value is 71.87
2018-02-26 09:36:05,596 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,596 - DEBUG - Stop quantity 1
2018-02-26 09:36:05,598 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,598 - DEBUG - Direction is Long
2018-02-26 09:36:05,599 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,600 - DEBUG - Count is 0
2018-02-26 09:36:05,601 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 09:36:05,601 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:36:05,603 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:36:05,603 - DEBUG - Max ID Order is (230,)
2018-02-26 09:36:05,604 - DEBUG - Today is 2018-02-26
2018-02-26 09:36:05,604 - DEBUG - Day of the week 0
2018-02-26 09:36:05,604 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:36:05,604 - DEBUG - In Position is  0
2018-02-26 09:36:05,605 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:36:05,605 - DEBUG - curStopLossFlag is  0
2018-02-26 09:36:05,605 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:36:05,605 - DEBUG - Checking if Entry has been filled
2018-02-26 09:36:05,605 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:36:05,607 - DEBUG - EntryPend is 1
2018-02-26 09:36:05,607 - DEBUG - Try to Cancel Stop
2018-02-26 09:36:05,607 - DEBUG - Stop API ID 0
2018-02-26 09:36:05,608 - DEBUG - Profit API ID 0
2018-02-26 09:36:05,608 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:36:05,608 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:36:05,608 - DEBUG - Pos is 0
2018-02-26 09:36:05,609 - DEBUG - CurCount is 0
2018-02-26 09:36:05,609 - DEBUG - In Pos 0
2018-02-26 09:36:05,609 - DEBUG - Stop ID is 0
2018-02-26 09:36:05,609 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:36:05,611 - DEBUG - EntryPend is 1
2018-02-26 09:36:05,611 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:36:05,611 - DEBUG - Entry Date is 10
2018-02-26 09:36:05,611 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:36:05,612 - DEBUG - Order Profit ID is 0
2018-02-26 09:36:05,612 - DEBUG - Order Entry ID is 230
2018-02-26 09:36:05,612 - DEBUG - API ID is  0
2018-02-26 09:36:05,612 - DEBUG - Current Position is 0
2018-02-26 09:36:05,613 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:36:05,613 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:36:05,613 - DEBUG - Time is 9
2018-02-26 09:36:05,613 - DEBUG - Time is <class 'int'>
2018-02-26 09:36:05,613 - DEBUG - Time is 36
2018-02-26 09:36:05,614 - DEBUG - Time is <class 'int'>
2018-02-26 09:36:05,614 - DEBUG - Disconnected from IBController
2018-02-26 09:36:05,614 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:41:01,352 - DEBUG - ****************************************************
2018-02-26 09:41:01,352 - DEBUG - Current Time is 09:41AM
2018-02-26 09:41:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 09:41:01,353 - DEBUG - Connecting to database
2018-02-26 09:41:01,384 - DEBUG - Connected to database
2018-02-26 09:41:01,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:01,386 - DEBUG - Order Profit is 0
2018-02-26 09:41:01,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:01,387 - DEBUG - Stop ID is 0
2018-02-26 09:41:01,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:01,389 - DEBUG - Entry ID is 230
2018-02-26 09:41:01,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:41:01,391 - DEBUG - OCA ID is 1
2018-02-26 09:41:01,391 - DEBUG - Connecting to IBController
2018-02-26 09:41:02,402 - DEBUG - Connected to IBController
2018-02-26 09:41:02,402 - DEBUG - Position requested
2018-02-26 09:41:02,403 - DEBUG - Pos Mgmt -12987
2018-02-26 09:41:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DEF0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:41:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:41:02,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:41:02,405 - DEBUG - Position is -12987
2018-02-26 09:41:03,404 - DEBUG - Open Orders requested
2018-02-26 09:41:03,406 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120208>>
2018-02-26 09:41:03,407 - DEBUG - Order OrderID 230
2018-02-26 09:41:03,407 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:41:03,408 - DEBUG - Order status PreSubmitted
2018-02-26 09:41:03,408 - DEBUG - Order Identification 230
2018-02-26 09:41:03,408 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:41:03,409 - DEBUG - Profit ID from database is 0
2018-02-26 09:41:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:41:03,409 - DEBUG - Stop ID database is 0
2018-02-26 09:41:03,409 - DEBUG - Entry ID database is 230
2018-02-26 09:41:03,409 - DEBUG - Entry API ID is 230
2018-02-26 09:41:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021200B8>>
2018-02-26 09:41:03,411 - DEBUG - Order OrderID 225
2018-02-26 09:41:03,411 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:41:03,412 - DEBUG - Order status PreSubmitted
2018-02-26 09:41:03,412 - DEBUG - Order Identification 225
2018-02-26 09:41:03,412 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:41:03,412 - DEBUG - Profit ID from database is 0
2018-02-26 09:41:03,413 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:41:03,413 - DEBUG - Stop ID database is 0
2018-02-26 09:41:03,413 - DEBUG - Entry ID database is 230
2018-02-26 09:41:03,414 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120278>>
2018-02-26 09:41:03,414 - DEBUG - Order OrderID 227
2018-02-26 09:41:03,415 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:41:03,415 - DEBUG - Order status PreSubmitted
2018-02-26 09:41:03,415 - DEBUG - Order Identification 227
2018-02-26 09:41:03,416 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:41:03,416 - DEBUG - Profit ID from database is 0
2018-02-26 09:41:03,416 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:41:03,416 - DEBUG - Stop ID database is 0
2018-02-26 09:41:03,417 - DEBUG - Entry ID database is 230
2018-02-26 09:41:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, order=<ib.ext.Order.Order object at 0x000000000208DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120358>>
2018-02-26 09:41:03,418 - DEBUG - Order OrderID 229
2018-02-26 09:41:03,418 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:41:03,419 - DEBUG - Order status PreSubmitted
2018-02-26 09:41:03,419 - DEBUG - Order Identification 229
2018-02-26 09:41:03,419 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:41:03,420 - DEBUG - Profit ID from database is 0
2018-02-26 09:41:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:41:03,420 - DEBUG - Stop ID database is 0
2018-02-26 09:41:03,420 - DEBUG - Entry ID database is 230
2018-02-26 09:41:05,407 - DEBUG - Connecting to database
2018-02-26 09:41:05,414 - DEBUG - Connected to database
2018-02-26 09:41:05,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,416 - DEBUG - Stop loss value is 69.25
2018-02-26 09:41:05,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,418 - DEBUG - Stop loss value is 82.575
2018-02-26 09:41:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,420 - DEBUG - EntryPrice value is 71.87
2018-02-26 09:41:05,422 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,422 - DEBUG - Stop quantity 1
2018-02-26 09:41:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,424 - DEBUG - Direction is Long
2018-02-26 09:41:05,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,425 - DEBUG - Count is 0
2018-02-26 09:41:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 09:41:05,427 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:41:05,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:41:05,429 - DEBUG - Max ID Order is (230,)
2018-02-26 09:41:05,429 - DEBUG - Today is 2018-02-26
2018-02-26 09:41:05,430 - DEBUG - Day of the week 0
2018-02-26 09:41:05,430 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:41:05,430 - DEBUG - In Position is  0
2018-02-26 09:41:05,430 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:41:05,431 - DEBUG - curStopLossFlag is  0
2018-02-26 09:41:05,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:41:05,431 - DEBUG - Checking if Entry has been filled
2018-02-26 09:41:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:41:05,433 - DEBUG - EntryPend is 1
2018-02-26 09:41:05,433 - DEBUG - Try to Cancel Stop
2018-02-26 09:41:05,433 - DEBUG - Stop API ID 0
2018-02-26 09:41:05,433 - DEBUG - Profit API ID 0
2018-02-26 09:41:05,434 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:41:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:41:05,434 - DEBUG - Pos is 0
2018-02-26 09:41:05,434 - DEBUG - CurCount is 0
2018-02-26 09:41:05,434 - DEBUG - In Pos 0
2018-02-26 09:41:05,435 - DEBUG - Stop ID is 0
2018-02-26 09:41:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:41:05,436 - DEBUG - EntryPend is 1
2018-02-26 09:41:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:41:05,437 - DEBUG - Entry Date is 10
2018-02-26 09:41:05,437 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:41:05,437 - DEBUG - Order Profit ID is 0
2018-02-26 09:41:05,437 - DEBUG - Order Entry ID is 230
2018-02-26 09:41:05,438 - DEBUG - API ID is  0
2018-02-26 09:41:05,438 - DEBUG - Current Position is 0
2018-02-26 09:41:05,438 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:41:05,438 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:41:05,439 - DEBUG - Time is 9
2018-02-26 09:41:05,439 - DEBUG - Time is <class 'int'>
2018-02-26 09:41:05,439 - DEBUG - Time is 41
2018-02-26 09:41:05,439 - DEBUG - Time is <class 'int'>
2018-02-26 09:41:05,440 - DEBUG - Disconnected from IBController
2018-02-26 09:41:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:46:01,355 - DEBUG - ****************************************************
2018-02-26 09:46:01,355 - DEBUG - Current Time is 09:46AM
2018-02-26 09:46:01,355 - DEBUG - Starting Pos Mgmt H E
2018-02-26 09:46:01,356 - DEBUG - Connecting to database
2018-02-26 09:46:01,380 - DEBUG - Connected to database
2018-02-26 09:46:01,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:01,382 - DEBUG - Order Profit is 0
2018-02-26 09:46:01,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:01,384 - DEBUG - Stop ID is 0
2018-02-26 09:46:01,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:01,386 - DEBUG - Entry ID is 230
2018-02-26 09:46:01,386 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:46:01,387 - DEBUG - OCA ID is 1
2018-02-26 09:46:01,388 - DEBUG - Connecting to IBController
2018-02-26 09:46:02,397 - DEBUG - Connected to IBController
2018-02-26 09:46:02,397 - DEBUG - Position requested
2018-02-26 09:46:02,410 - DEBUG - Pos Mgmt -12987
2018-02-26 09:46:02,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DA58>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:46:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:46:02,411 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:46:02,411 - DEBUG - Position is -12987
2018-02-26 09:46:03,398 - DEBUG - Open Orders requested
2018-02-26 09:46:03,400 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000201DB70>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0198>>
2018-02-26 09:46:03,401 - DEBUG - Order OrderID 230
2018-02-26 09:46:03,401 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:46:03,402 - DEBUG - Order status PreSubmitted
2018-02-26 09:46:03,402 - DEBUG - Order Identification 230
2018-02-26 09:46:03,402 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:46:03,403 - DEBUG - Profit ID from database is 0
2018-02-26 09:46:03,403 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:46:03,403 - DEBUG - Stop ID database is 0
2018-02-26 09:46:03,403 - DEBUG - Entry ID database is 230
2018-02-26 09:46:03,404 - DEBUG - Entry API ID is 230
2018-02-26 09:46:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DB70>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0208>>
2018-02-26 09:46:03,405 - DEBUG - Order OrderID 225
2018-02-26 09:46:03,405 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:46:03,406 - DEBUG - Order status PreSubmitted
2018-02-26 09:46:03,406 - DEBUG - Order Identification 225
2018-02-26 09:46:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:46:03,406 - DEBUG - Profit ID from database is 0
2018-02-26 09:46:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:46:03,407 - DEBUG - Stop ID database is 0
2018-02-26 09:46:03,407 - DEBUG - Entry ID database is 230
2018-02-26 09:46:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000201DB70>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B02E8>>
2018-02-26 09:46:03,408 - DEBUG - Order OrderID 227
2018-02-26 09:46:03,409 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:46:03,409 - DEBUG - Order status PreSubmitted
2018-02-26 09:46:03,409 - DEBUG - Order Identification 227
2018-02-26 09:46:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:46:03,410 - DEBUG - Profit ID from database is 0
2018-02-26 09:46:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:46:03,410 - DEBUG - Stop ID database is 0
2018-02-26 09:46:03,410 - DEBUG - Entry ID database is 230
2018-02-26 09:46:03,412 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000201DB70>, order=<ib.ext.Order.Order object at 0x000000000201DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B0358>>
2018-02-26 09:46:03,412 - DEBUG - Order OrderID 229
2018-02-26 09:46:03,412 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:46:03,413 - DEBUG - Order status PreSubmitted
2018-02-26 09:46:03,413 - DEBUG - Order Identification 229
2018-02-26 09:46:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:46:03,413 - DEBUG - Profit ID from database is 0
2018-02-26 09:46:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:46:03,414 - DEBUG - Stop ID database is 0
2018-02-26 09:46:03,414 - DEBUG - Entry ID database is 230
2018-02-26 09:46:05,399 - DEBUG - Connecting to database
2018-02-26 09:46:05,406 - DEBUG - Connected to database
2018-02-26 09:46:05,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,408 - DEBUG - Stop loss value is 69.25
2018-02-26 09:46:05,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,410 - DEBUG - Stop loss value is 82.575
2018-02-26 09:46:05,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,412 - DEBUG - EntryPrice value is 71.87
2018-02-26 09:46:05,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,414 - DEBUG - Stop quantity 1
2018-02-26 09:46:05,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,416 - DEBUG - Direction is Long
2018-02-26 09:46:05,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,417 - DEBUG - Count is 0
2018-02-26 09:46:05,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 09:46:05,419 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:46:05,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:46:05,421 - DEBUG - Max ID Order is (230,)
2018-02-26 09:46:05,421 - DEBUG - Today is 2018-02-26
2018-02-26 09:46:05,421 - DEBUG - Day of the week 0
2018-02-26 09:46:05,422 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:46:05,422 - DEBUG - In Position is  0
2018-02-26 09:46:05,422 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:46:05,422 - DEBUG - curStopLossFlag is  0
2018-02-26 09:46:05,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:46:05,423 - DEBUG - Checking if Entry has been filled
2018-02-26 09:46:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:46:05,424 - DEBUG - EntryPend is 1
2018-02-26 09:46:05,425 - DEBUG - Try to Cancel Stop
2018-02-26 09:46:05,425 - DEBUG - Stop API ID 0
2018-02-26 09:46:05,425 - DEBUG - Profit API ID 0
2018-02-26 09:46:05,425 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:46:05,426 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:46:05,426 - DEBUG - Pos is 0
2018-02-26 09:46:05,426 - DEBUG - CurCount is 0
2018-02-26 09:46:05,426 - DEBUG - In Pos 0
2018-02-26 09:46:05,426 - DEBUG - Stop ID is 0
2018-02-26 09:46:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:46:05,428 - DEBUG - EntryPend is 1
2018-02-26 09:46:05,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:46:05,428 - DEBUG - Entry Date is 10
2018-02-26 09:46:05,429 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:46:05,429 - DEBUG - Order Profit ID is 0
2018-02-26 09:46:05,429 - DEBUG - Order Entry ID is 230
2018-02-26 09:46:05,429 - DEBUG - API ID is  0
2018-02-26 09:46:05,430 - DEBUG - Current Position is 0
2018-02-26 09:46:05,430 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:46:05,430 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:46:05,430 - DEBUG - Time is 9
2018-02-26 09:46:05,431 - DEBUG - Time is <class 'int'>
2018-02-26 09:46:05,431 - DEBUG - Time is 46
2018-02-26 09:46:05,431 - DEBUG - Time is <class 'int'>
2018-02-26 09:46:05,431 - DEBUG - Disconnected from IBController
2018-02-26 09:46:05,432 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:51:01,354 - DEBUG - ****************************************************
2018-02-26 09:51:01,354 - DEBUG - Current Time is 09:51AM
2018-02-26 09:51:01,355 - DEBUG - Starting Pos Mgmt H E
2018-02-26 09:51:01,355 - DEBUG - Connecting to database
2018-02-26 09:51:01,378 - DEBUG - Connected to database
2018-02-26 09:51:01,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:01,380 - DEBUG - Order Profit is 0
2018-02-26 09:51:01,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:01,382 - DEBUG - Stop ID is 0
2018-02-26 09:51:01,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:01,384 - DEBUG - Entry ID is 230
2018-02-26 09:51:01,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:51:01,385 - DEBUG - OCA ID is 1
2018-02-26 09:51:01,386 - DEBUG - Connecting to IBController
2018-02-26 09:51:02,397 - DEBUG - Connected to IBController
2018-02-26 09:51:02,397 - DEBUG - Position requested
2018-02-26 09:51:02,399 - DEBUG - Pos Mgmt -12987
2018-02-26 09:51:02,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BEF0>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:51:02,399 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:51:02,400 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:51:02,400 - DEBUG - Position is -12987
2018-02-26 09:51:03,399 - DEBUG - Open Orders requested
2018-02-26 09:51:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000206BC88>, order=<ib.ext.Order.Order object at 0x000000000206BA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020FF208>>
2018-02-26 09:51:03,402 - DEBUG - Order OrderID 230
2018-02-26 09:51:03,402 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:51:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 09:51:03,403 - DEBUG - Order Identification 230
2018-02-26 09:51:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:51:03,404 - DEBUG - Profit ID from database is 0
2018-02-26 09:51:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:51:03,404 - DEBUG - Stop ID database is 0
2018-02-26 09:51:03,404 - DEBUG - Entry ID database is 230
2018-02-26 09:51:03,405 - DEBUG - Entry API ID is 230
2018-02-26 09:51:03,406 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206BC88>, order=<ib.ext.Order.Order object at 0x000000000206BA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020FF0B8>>
2018-02-26 09:51:03,406 - DEBUG - Order OrderID 225
2018-02-26 09:51:03,406 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:51:03,407 - DEBUG - Order status PreSubmitted
2018-02-26 09:51:03,407 - DEBUG - Order Identification 225
2018-02-26 09:51:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:51:03,407 - DEBUG - Profit ID from database is 0
2018-02-26 09:51:03,408 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:51:03,408 - DEBUG - Stop ID database is 0
2018-02-26 09:51:03,408 - DEBUG - Entry ID database is 230
2018-02-26 09:51:03,409 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206BC88>, order=<ib.ext.Order.Order object at 0x000000000206BA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020FF278>>
2018-02-26 09:51:03,409 - DEBUG - Order OrderID 227
2018-02-26 09:51:03,410 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:51:03,410 - DEBUG - Order status PreSubmitted
2018-02-26 09:51:03,410 - DEBUG - Order Identification 227
2018-02-26 09:51:03,411 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:51:03,411 - DEBUG - Profit ID from database is 0
2018-02-26 09:51:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:51:03,411 - DEBUG - Stop ID database is 0
2018-02-26 09:51:03,411 - DEBUG - Entry ID database is 230
2018-02-26 09:51:03,412 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206BC88>, order=<ib.ext.Order.Order object at 0x000000000206BA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020FF358>>
2018-02-26 09:51:03,413 - DEBUG - Order OrderID 229
2018-02-26 09:51:03,413 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:51:03,413 - DEBUG - Order status PreSubmitted
2018-02-26 09:51:03,414 - DEBUG - Order Identification 229
2018-02-26 09:51:03,414 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:51:03,414 - DEBUG - Profit ID from database is 0
2018-02-26 09:51:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:51:03,415 - DEBUG - Stop ID database is 0
2018-02-26 09:51:03,415 - DEBUG - Entry ID database is 230
2018-02-26 09:51:05,402 - DEBUG - Connecting to database
2018-02-26 09:51:05,409 - DEBUG - Connected to database
2018-02-26 09:51:05,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,411 - DEBUG - Stop loss value is 69.25
2018-02-26 09:51:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,413 - DEBUG - Stop loss value is 82.575
2018-02-26 09:51:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,415 - DEBUG - EntryPrice value is 71.87
2018-02-26 09:51:05,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,417 - DEBUG - Stop quantity 1
2018-02-26 09:51:05,419 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,419 - DEBUG - Direction is Long
2018-02-26 09:51:05,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,421 - DEBUG - Count is 0
2018-02-26 09:51:05,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 09:51:05,423 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:51:05,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:51:05,424 - DEBUG - Max ID Order is (230,)
2018-02-26 09:51:05,425 - DEBUG - Today is 2018-02-26
2018-02-26 09:51:05,425 - DEBUG - Day of the week 0
2018-02-26 09:51:05,425 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:51:05,426 - DEBUG - In Position is  0
2018-02-26 09:51:05,426 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:51:05,426 - DEBUG - curStopLossFlag is  0
2018-02-26 09:51:05,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:51:05,426 - DEBUG - Checking if Entry has been filled
2018-02-26 09:51:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:51:05,428 - DEBUG - EntryPend is 1
2018-02-26 09:51:05,428 - DEBUG - Try to Cancel Stop
2018-02-26 09:51:05,429 - DEBUG - Stop API ID 0
2018-02-26 09:51:05,429 - DEBUG - Profit API ID 0
2018-02-26 09:51:05,429 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:51:05,429 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:51:05,430 - DEBUG - Pos is 0
2018-02-26 09:51:05,430 - DEBUG - CurCount is 0
2018-02-26 09:51:05,430 - DEBUG - In Pos 0
2018-02-26 09:51:05,430 - DEBUG - Stop ID is 0
2018-02-26 09:51:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:51:05,432 - DEBUG - EntryPend is 1
2018-02-26 09:51:05,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:51:05,432 - DEBUG - Entry Date is 10
2018-02-26 09:51:05,432 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:51:05,433 - DEBUG - Order Profit ID is 0
2018-02-26 09:51:05,433 - DEBUG - Order Entry ID is 230
2018-02-26 09:51:05,433 - DEBUG - API ID is  0
2018-02-26 09:51:05,433 - DEBUG - Current Position is 0
2018-02-26 09:51:05,434 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:51:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:51:05,434 - DEBUG - Time is 9
2018-02-26 09:51:05,434 - DEBUG - Time is <class 'int'>
2018-02-26 09:51:05,434 - DEBUG - Time is 51
2018-02-26 09:51:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 09:51:05,435 - DEBUG - Disconnected from IBController
2018-02-26 09:51:05,435 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 09:56:01,356 - DEBUG - ****************************************************
2018-02-26 09:56:01,356 - DEBUG - Current Time is 09:56AM
2018-02-26 09:56:01,357 - DEBUG - Starting Pos Mgmt H E
2018-02-26 09:56:01,357 - DEBUG - Connecting to database
2018-02-26 09:56:01,377 - DEBUG - Connected to database
2018-02-26 09:56:01,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:01,379 - DEBUG - Order Profit is 0
2018-02-26 09:56:01,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:01,381 - DEBUG - Stop ID is 0
2018-02-26 09:56:01,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:01,382 - DEBUG - Entry ID is 230
2018-02-26 09:56:01,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 09:56:01,384 - DEBUG - OCA ID is 1
2018-02-26 09:56:01,384 - DEBUG - Connecting to IBController
2018-02-26 09:56:02,396 - DEBUG - Connected to IBController
2018-02-26 09:56:02,396 - DEBUG - Position requested
2018-02-26 09:56:02,404 - DEBUG - Pos Mgmt -12987
2018-02-26 09:56:02,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CAC8>, pos=-12987, avgCost=0.95368235>
2018-02-26 09:56:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 09:56:02,411 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 09:56:02,412 - DEBUG - Position is -12987
2018-02-26 09:56:03,402 - DEBUG - Open Orders requested
2018-02-26 09:56:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111198>>
2018-02-26 09:56:03,405 - DEBUG - Order OrderID 230
2018-02-26 09:56:03,406 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:56:03,406 - DEBUG - Order status PreSubmitted
2018-02-26 09:56:03,406 - DEBUG - Order Identification 230
2018-02-26 09:56:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:56:03,407 - DEBUG - Profit ID from database is 0
2018-02-26 09:56:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:56:03,407 - DEBUG - Stop ID database is 0
2018-02-26 09:56:03,407 - DEBUG - Entry ID database is 230
2018-02-26 09:56:03,408 - DEBUG - Entry API ID is 230
2018-02-26 09:56:03,409 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111278>>
2018-02-26 09:56:03,409 - DEBUG - Order OrderID 225
2018-02-26 09:56:03,410 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:56:03,410 - DEBUG - Order status PreSubmitted
2018-02-26 09:56:03,410 - DEBUG - Order Identification 225
2018-02-26 09:56:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:56:03,411 - DEBUG - Profit ID from database is 0
2018-02-26 09:56:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:56:03,411 - DEBUG - Stop ID database is 0
2018-02-26 09:56:03,411 - DEBUG - Entry ID database is 230
2018-02-26 09:56:03,412 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021112E8>>
2018-02-26 09:56:03,413 - DEBUG - Order OrderID 227
2018-02-26 09:56:03,413 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:56:03,414 - DEBUG - Order status PreSubmitted
2018-02-26 09:56:03,414 - DEBUG - Order Identification 227
2018-02-26 09:56:03,414 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:56:03,414 - DEBUG - Profit ID from database is 0
2018-02-26 09:56:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:56:03,415 - DEBUG - Stop ID database is 0
2018-02-26 09:56:03,415 - DEBUG - Entry ID database is 230
2018-02-26 09:56:03,416 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111320>>
2018-02-26 09:56:03,416 - DEBUG - Order OrderID 229
2018-02-26 09:56:03,417 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 09:56:03,417 - DEBUG - Order status PreSubmitted
2018-02-26 09:56:03,418 - DEBUG - Order Identification 229
2018-02-26 09:56:03,418 - DEBUG - Order Identification <class 'int'>
2018-02-26 09:56:03,418 - DEBUG - Profit ID from database is 0
2018-02-26 09:56:03,418 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 09:56:03,419 - DEBUG - Stop ID database is 0
2018-02-26 09:56:03,419 - DEBUG - Entry ID database is 230
2018-02-26 09:56:05,404 - DEBUG - Connecting to database
2018-02-26 09:56:05,411 - DEBUG - Connected to database
2018-02-26 09:56:05,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,413 - DEBUG - Stop loss value is 69.25
2018-02-26 09:56:05,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,415 - DEBUG - Stop loss value is 82.575
2018-02-26 09:56:05,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,417 - DEBUG - EntryPrice value is 71.87
2018-02-26 09:56:05,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,418 - DEBUG - Stop quantity 1
2018-02-26 09:56:05,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,420 - DEBUG - Direction is Long
2018-02-26 09:56:05,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,422 - DEBUG - Count is 0
2018-02-26 09:56:05,423 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 09:56:05,423 - DEBUG - Stop Loss Flag is 0
2018-02-26 09:56:05,425 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 09:56:05,425 - DEBUG - Max ID Order is (230,)
2018-02-26 09:56:05,425 - DEBUG - Today is 2018-02-26
2018-02-26 09:56:05,426 - DEBUG - Day of the week 0
2018-02-26 09:56:05,426 - DEBUG - Yesterday is 02/23/2018
2018-02-26 09:56:05,426 - DEBUG - In Position is  0
2018-02-26 09:56:05,427 - DEBUG - In Position is  <class 'int'>
2018-02-26 09:56:05,427 - DEBUG - curStopLossFlag is  0
2018-02-26 09:56:05,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 09:56:05,427 - DEBUG - Checking if Entry has been filled
2018-02-26 09:56:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:56:05,429 - DEBUG - EntryPend is 1
2018-02-26 09:56:05,429 - DEBUG - Try to Cancel Stop
2018-02-26 09:56:05,429 - DEBUG - Stop API ID 0
2018-02-26 09:56:05,430 - DEBUG - Profit API ID 0
2018-02-26 09:56:05,430 - DEBUG - Stop API ID <class 'int'>
2018-02-26 09:56:05,430 - DEBUG - Profit API ID <class 'int'>
2018-02-26 09:56:05,430 - DEBUG - Pos is 0
2018-02-26 09:56:05,430 - DEBUG - CurCount is 0
2018-02-26 09:56:05,431 - DEBUG - In Pos 0
2018-02-26 09:56:05,431 - DEBUG - Stop ID is 0
2018-02-26 09:56:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 09:56:05,432 - DEBUG - EntryPend is 1
2018-02-26 09:56:05,433 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 09:56:05,433 - DEBUG - Entry Date is 10
2018-02-26 09:56:05,433 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 09:56:05,433 - DEBUG - Order Profit ID is 0
2018-02-26 09:56:05,433 - DEBUG - Order Entry ID is 230
2018-02-26 09:56:05,434 - DEBUG - API ID is  0
2018-02-26 09:56:05,434 - DEBUG - Current Position is 0
2018-02-26 09:56:05,434 - DEBUG - Current Position is <class 'str'>
2018-02-26 09:56:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 09:56:05,435 - DEBUG - Time is 9
2018-02-26 09:56:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 09:56:05,435 - DEBUG - Time is 56
2018-02-26 09:56:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 09:56:05,436 - DEBUG - Disconnected from IBController
2018-02-26 09:56:05,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:01:01,354 - DEBUG - ****************************************************
2018-02-26 10:01:01,355 - DEBUG - Current Time is 10:01AM
2018-02-26 10:01:01,355 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:01:01,355 - DEBUG - Connecting to database
2018-02-26 10:01:01,388 - DEBUG - Connected to database
2018-02-26 10:01:01,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:01,390 - DEBUG - Order Profit is 0
2018-02-26 10:01:01,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:01,393 - DEBUG - Stop ID is 0
2018-02-26 10:01:01,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:01,394 - DEBUG - Entry ID is 230
2018-02-26 10:01:01,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:01:01,396 - DEBUG - OCA ID is 1
2018-02-26 10:01:01,397 - DEBUG - Connecting to IBController
2018-02-26 10:01:02,404 - DEBUG - Connected to IBController
2018-02-26 10:01:02,404 - DEBUG - Position requested
2018-02-26 10:01:02,406 - DEBUG - Pos Mgmt -12987
2018-02-26 10:01:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207BB70>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:01:02,406 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:01:02,407 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:01:02,407 - DEBUG - Position is -12987
2018-02-26 10:01:03,405 - DEBUG - Open Orders requested
2018-02-26 10:01:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000207BE10>, order=<ib.ext.Order.Order object at 0x000000000207BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000210F208>>
2018-02-26 10:01:03,408 - DEBUG - Order OrderID 230
2018-02-26 10:01:03,409 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:01:03,409 - DEBUG - Order status PreSubmitted
2018-02-26 10:01:03,409 - DEBUG - Order Identification 230
2018-02-26 10:01:03,409 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:01:03,410 - DEBUG - Profit ID from database is 0
2018-02-26 10:01:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:01:03,410 - DEBUG - Stop ID database is 0
2018-02-26 10:01:03,410 - DEBUG - Entry ID database is 230
2018-02-26 10:01:03,411 - DEBUG - Entry API ID is 230
2018-02-26 10:01:03,412 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207BE10>, order=<ib.ext.Order.Order object at 0x000000000207BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000210F080>>
2018-02-26 10:01:03,412 - DEBUG - Order OrderID 225
2018-02-26 10:01:03,413 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:01:03,413 - DEBUG - Order status PreSubmitted
2018-02-26 10:01:03,413 - DEBUG - Order Identification 225
2018-02-26 10:01:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:01:03,414 - DEBUG - Profit ID from database is 0
2018-02-26 10:01:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:01:03,414 - DEBUG - Stop ID database is 0
2018-02-26 10:01:03,414 - DEBUG - Entry ID database is 230
2018-02-26 10:01:03,415 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000207BE10>, order=<ib.ext.Order.Order object at 0x000000000207BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000210F278>>
2018-02-26 10:01:03,416 - DEBUG - Order OrderID 227
2018-02-26 10:01:03,416 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:01:03,416 - DEBUG - Order status PreSubmitted
2018-02-26 10:01:03,417 - DEBUG - Order Identification 227
2018-02-26 10:01:03,417 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:01:03,417 - DEBUG - Profit ID from database is 0
2018-02-26 10:01:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:01:03,417 - DEBUG - Stop ID database is 0
2018-02-26 10:01:03,418 - DEBUG - Entry ID database is 230
2018-02-26 10:01:03,419 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000207BE10>, order=<ib.ext.Order.Order object at 0x000000000207BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000210F358>>
2018-02-26 10:01:03,419 - DEBUG - Order OrderID 229
2018-02-26 10:01:03,419 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:01:03,420 - DEBUG - Order status PreSubmitted
2018-02-26 10:01:03,420 - DEBUG - Order Identification 229
2018-02-26 10:01:03,420 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:01:03,421 - DEBUG - Profit ID from database is 0
2018-02-26 10:01:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:01:03,421 - DEBUG - Stop ID database is 0
2018-02-26 10:01:03,421 - DEBUG - Entry ID database is 230
2018-02-26 10:01:05,408 - DEBUG - Connecting to database
2018-02-26 10:01:05,416 - DEBUG - Connected to database
2018-02-26 10:01:05,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,418 - DEBUG - Stop loss value is 69.25
2018-02-26 10:01:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,420 - DEBUG - Stop loss value is 82.575
2018-02-26 10:01:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,421 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:01:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,423 - DEBUG - Stop quantity 1
2018-02-26 10:01:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,425 - DEBUG - Direction is Long
2018-02-26 10:01:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,427 - DEBUG - Count is 0
2018-02-26 10:01:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:01:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:01:05,429 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:01:05,430 - DEBUG - Max ID Order is (230,)
2018-02-26 10:01:05,430 - DEBUG - Today is 2018-02-26
2018-02-26 10:01:05,431 - DEBUG - Day of the week 0
2018-02-26 10:01:05,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:01:05,431 - DEBUG - In Position is  0
2018-02-26 10:01:05,431 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:01:05,432 - DEBUG - curStopLossFlag is  0
2018-02-26 10:01:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:01:05,432 - DEBUG - Checking if Entry has been filled
2018-02-26 10:01:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:01:05,434 - DEBUG - EntryPend is 1
2018-02-26 10:01:05,434 - DEBUG - Try to Cancel Stop
2018-02-26 10:01:05,434 - DEBUG - Stop API ID 0
2018-02-26 10:01:05,435 - DEBUG - Profit API ID 0
2018-02-26 10:01:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:01:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:01:05,435 - DEBUG - Pos is 0
2018-02-26 10:01:05,436 - DEBUG - CurCount is 0
2018-02-26 10:01:05,436 - DEBUG - In Pos 0
2018-02-26 10:01:05,436 - DEBUG - Stop ID is 0
2018-02-26 10:01:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:01:05,438 - DEBUG - EntryPend is 1
2018-02-26 10:01:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:01:05,438 - DEBUG - Entry Date is 10
2018-02-26 10:01:05,438 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:01:05,439 - DEBUG - Order Profit ID is 0
2018-02-26 10:01:05,439 - DEBUG - Order Entry ID is 230
2018-02-26 10:01:05,439 - DEBUG - API ID is  0
2018-02-26 10:01:05,439 - DEBUG - Current Position is 0
2018-02-26 10:01:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:01:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:01:05,440 - DEBUG - Time is 10
2018-02-26 10:01:05,440 - DEBUG - Time is <class 'int'>
2018-02-26 10:01:05,441 - DEBUG - Time is 1
2018-02-26 10:01:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 10:01:05,441 - DEBUG - Disconnected from IBController
2018-02-26 10:01:05,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:06:01,355 - DEBUG - ****************************************************
2018-02-26 10:06:01,356 - DEBUG - Current Time is 10:06AM
2018-02-26 10:06:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:06:01,356 - DEBUG - Connecting to database
2018-02-26 10:06:01,394 - DEBUG - Connected to database
2018-02-26 10:06:01,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:01,397 - DEBUG - Order Profit is 0
2018-02-26 10:06:01,397 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:01,398 - DEBUG - Stop ID is 0
2018-02-26 10:06:01,399 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:01,400 - DEBUG - Entry ID is 230
2018-02-26 10:06:01,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:06:01,402 - DEBUG - OCA ID is 1
2018-02-26 10:06:01,402 - DEBUG - Connecting to IBController
2018-02-26 10:06:02,429 - DEBUG - Connected to IBController
2018-02-26 10:06:02,429 - DEBUG - Position requested
2018-02-26 10:06:02,431 - DEBUG - Pos Mgmt -12987
2018-02-26 10:06:02,431 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:06:02,431 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:06:02,432 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:06:02,432 - DEBUG - Position is -12987
2018-02-26 10:06:03,430 - DEBUG - Open Orders requested
2018-02-26 10:06:03,433 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100198>>
2018-02-26 10:06:03,433 - DEBUG - Order OrderID 230
2018-02-26 10:06:03,434 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:06:03,434 - DEBUG - Order status PreSubmitted
2018-02-26 10:06:03,434 - DEBUG - Order Identification 230
2018-02-26 10:06:03,434 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:06:03,435 - DEBUG - Profit ID from database is 0
2018-02-26 10:06:03,435 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:06:03,435 - DEBUG - Stop ID database is 0
2018-02-26 10:06:03,435 - DEBUG - Entry ID database is 230
2018-02-26 10:06:03,436 - DEBUG - Entry API ID is 230
2018-02-26 10:06:03,437 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100208>>
2018-02-26 10:06:03,437 - DEBUG - Order OrderID 225
2018-02-26 10:06:03,438 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:06:03,438 - DEBUG - Order status PreSubmitted
2018-02-26 10:06:03,438 - DEBUG - Order Identification 225
2018-02-26 10:06:03,438 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:06:03,439 - DEBUG - Profit ID from database is 0
2018-02-26 10:06:03,439 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:06:03,439 - DEBUG - Stop ID database is 0
2018-02-26 10:06:03,439 - DEBUG - Entry ID database is 230
2018-02-26 10:06:03,440 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021002E8>>
2018-02-26 10:06:03,441 - DEBUG - Order OrderID 227
2018-02-26 10:06:03,441 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:06:03,441 - DEBUG - Order status PreSubmitted
2018-02-26 10:06:03,442 - DEBUG - Order Identification 227
2018-02-26 10:06:03,442 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:06:03,442 - DEBUG - Profit ID from database is 0
2018-02-26 10:06:03,442 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:06:03,443 - DEBUG - Stop ID database is 0
2018-02-26 10:06:03,443 - DEBUG - Entry ID database is 230
2018-02-26 10:06:03,444 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100358>>
2018-02-26 10:06:03,444 - DEBUG - Order OrderID 229
2018-02-26 10:06:03,445 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:06:03,445 - DEBUG - Order status PreSubmitted
2018-02-26 10:06:03,445 - DEBUG - Order Identification 229
2018-02-26 10:06:03,445 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:06:03,446 - DEBUG - Profit ID from database is 0
2018-02-26 10:06:03,446 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:06:03,446 - DEBUG - Stop ID database is 0
2018-02-26 10:06:03,446 - DEBUG - Entry ID database is 230
2018-02-26 10:06:05,432 - DEBUG - Connecting to database
2018-02-26 10:06:05,439 - DEBUG - Connected to database
2018-02-26 10:06:05,441 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,441 - DEBUG - Stop loss value is 69.25
2018-02-26 10:06:05,443 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,443 - DEBUG - Stop loss value is 82.575
2018-02-26 10:06:05,445 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,445 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:06:05,446 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,447 - DEBUG - Stop quantity 1
2018-02-26 10:06:05,448 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,448 - DEBUG - Direction is Long
2018-02-26 10:06:05,450 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,450 - DEBUG - Count is 0
2018-02-26 10:06:05,451 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:06:05,452 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:06:05,453 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:06:05,454 - DEBUG - Max ID Order is (230,)
2018-02-26 10:06:05,454 - DEBUG - Today is 2018-02-26
2018-02-26 10:06:05,454 - DEBUG - Day of the week 0
2018-02-26 10:06:05,455 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:06:05,455 - DEBUG - In Position is  0
2018-02-26 10:06:05,455 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:06:05,455 - DEBUG - curStopLossFlag is  0
2018-02-26 10:06:05,456 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:06:05,456 - DEBUG - Checking if Entry has been filled
2018-02-26 10:06:05,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:06:05,457 - DEBUG - EntryPend is 1
2018-02-26 10:06:05,458 - DEBUG - Try to Cancel Stop
2018-02-26 10:06:05,458 - DEBUG - Stop API ID 0
2018-02-26 10:06:05,458 - DEBUG - Profit API ID 0
2018-02-26 10:06:05,458 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:06:05,458 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:06:05,459 - DEBUG - Pos is 0
2018-02-26 10:06:05,459 - DEBUG - CurCount is 0
2018-02-26 10:06:05,459 - DEBUG - In Pos 0
2018-02-26 10:06:05,459 - DEBUG - Stop ID is 0
2018-02-26 10:06:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:06:05,461 - DEBUG - EntryPend is 1
2018-02-26 10:06:05,461 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:06:05,461 - DEBUG - Entry Date is 10
2018-02-26 10:06:05,462 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:06:05,462 - DEBUG - Order Profit ID is 0
2018-02-26 10:06:05,462 - DEBUG - Order Entry ID is 230
2018-02-26 10:06:05,462 - DEBUG - API ID is  0
2018-02-26 10:06:05,463 - DEBUG - Current Position is 0
2018-02-26 10:06:05,463 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:06:05,463 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:06:05,463 - DEBUG - Time is 10
2018-02-26 10:06:05,464 - DEBUG - Time is <class 'int'>
2018-02-26 10:06:05,464 - DEBUG - Time is 6
2018-02-26 10:06:05,464 - DEBUG - Time is <class 'int'>
2018-02-26 10:06:05,464 - DEBUG - Disconnected from IBController
2018-02-26 10:06:05,465 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:11:01,405 - DEBUG - ****************************************************
2018-02-26 10:11:01,405 - DEBUG - Current Time is 10:11AM
2018-02-26 10:11:01,406 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:11:01,406 - DEBUG - Connecting to database
2018-02-26 10:11:01,435 - DEBUG - Connected to database
2018-02-26 10:11:01,435 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:01,436 - DEBUG - Order Profit is 0
2018-02-26 10:11:01,437 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:01,438 - DEBUG - Stop ID is 0
2018-02-26 10:11:01,438 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:01,440 - DEBUG - Entry ID is 230
2018-02-26 10:11:01,440 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:11:01,441 - DEBUG - OCA ID is 1
2018-02-26 10:11:01,442 - DEBUG - Connecting to IBController
2018-02-26 10:11:02,453 - DEBUG - Connected to IBController
2018-02-26 10:11:02,453 - DEBUG - Position requested
2018-02-26 10:11:02,455 - DEBUG - Pos Mgmt -12987
2018-02-26 10:11:02,455 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB70>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:11:02,455 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:11:02,456 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:11:02,456 - DEBUG - Position is -12987
2018-02-26 10:11:03,454 - DEBUG - Open Orders requested
2018-02-26 10:11:03,457 - DEBUG - Reply Handler Orders is <openOrder orderId=230, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100208>>
2018-02-26 10:11:03,457 - DEBUG - Order OrderID 230
2018-02-26 10:11:03,458 - DEBUG - reply handler status <orderStatus orderId=230, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011420, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:11:03,458 - DEBUG - Order status PreSubmitted
2018-02-26 10:11:03,459 - DEBUG - Order Identification 230
2018-02-26 10:11:03,459 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:11:03,459 - DEBUG - Profit ID from database is 0
2018-02-26 10:11:03,459 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:11:03,460 - DEBUG - Stop ID database is 0
2018-02-26 10:11:03,460 - DEBUG - Entry ID database is 230
2018-02-26 10:11:03,460 - DEBUG - Entry API ID is 230
2018-02-26 10:11:03,461 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100080>>
2018-02-26 10:11:03,462 - DEBUG - Order OrderID 225
2018-02-26 10:11:03,462 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:11:03,462 - DEBUG - Order status PreSubmitted
2018-02-26 10:11:03,462 - DEBUG - Order Identification 225
2018-02-26 10:11:03,463 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:11:03,463 - DEBUG - Profit ID from database is 0
2018-02-26 10:11:03,463 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:11:03,463 - DEBUG - Stop ID database is 0
2018-02-26 10:11:03,463 - DEBUG - Entry ID database is 230
2018-02-26 10:11:03,465 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100278>>
2018-02-26 10:11:03,465 - DEBUG - Order OrderID 227
2018-02-26 10:11:03,465 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:11:03,466 - DEBUG - Order status PreSubmitted
2018-02-26 10:11:03,466 - DEBUG - Order Identification 227
2018-02-26 10:11:03,466 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:11:03,466 - DEBUG - Profit ID from database is 0
2018-02-26 10:11:03,467 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:11:03,467 - DEBUG - Stop ID database is 0
2018-02-26 10:11:03,467 - DEBUG - Entry ID database is 230
2018-02-26 10:11:03,468 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100358>>
2018-02-26 10:11:03,469 - DEBUG - Order OrderID 229
2018-02-26 10:11:03,469 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:11:03,469 - DEBUG - Order status PreSubmitted
2018-02-26 10:11:03,470 - DEBUG - Order Identification 229
2018-02-26 10:11:03,470 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:11:03,470 - DEBUG - Profit ID from database is 0
2018-02-26 10:11:03,470 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:11:03,471 - DEBUG - Stop ID database is 0
2018-02-26 10:11:03,471 - DEBUG - Entry ID database is 230
2018-02-26 10:11:05,457 - DEBUG - Connecting to database
2018-02-26 10:11:05,464 - DEBUG - Connected to database
2018-02-26 10:11:05,466 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,466 - DEBUG - Stop loss value is 69.25
2018-02-26 10:11:05,468 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,468 - DEBUG - Stop loss value is 82.575
2018-02-26 10:11:05,469 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,470 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:11:05,471 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,471 - DEBUG - Stop quantity 1
2018-02-26 10:11:05,473 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,474 - DEBUG - Direction is Long
2018-02-26 10:11:05,475 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,475 - DEBUG - Count is 0
2018-02-26 10:11:05,477 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:11:05,477 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:11:05,478 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:11:05,479 - DEBUG - Max ID Order is (230,)
2018-02-26 10:11:05,479 - DEBUG - Today is 2018-02-26
2018-02-26 10:11:05,479 - DEBUG - Day of the week 0
2018-02-26 10:11:05,480 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:11:05,480 - DEBUG - In Position is  0
2018-02-26 10:11:05,480 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:11:05,480 - DEBUG - curStopLossFlag is  0
2018-02-26 10:11:05,481 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:11:05,481 - DEBUG - Checking if Entry has been filled
2018-02-26 10:11:05,481 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:11:05,483 - DEBUG - EntryPend is 1
2018-02-26 10:11:05,483 - DEBUG - Try to Cancel Stop
2018-02-26 10:11:05,483 - DEBUG - Stop API ID 0
2018-02-26 10:11:05,483 - DEBUG - Profit API ID 0
2018-02-26 10:11:05,484 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:11:05,484 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:11:05,484 - DEBUG - Pos is 0
2018-02-26 10:11:05,484 - DEBUG - CurCount is 0
2018-02-26 10:11:05,485 - DEBUG - In Pos 0
2018-02-26 10:11:05,485 - DEBUG - Stop ID is 0
2018-02-26 10:11:05,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:11:05,486 - DEBUG - EntryPend is 1
2018-02-26 10:11:05,487 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:11:05,487 - DEBUG - Entry Date is 10
2018-02-26 10:11:05,487 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:11:05,487 - DEBUG - Order Profit ID is 0
2018-02-26 10:11:05,488 - DEBUG - Order Entry ID is 230
2018-02-26 10:11:05,488 - DEBUG - API ID is  0
2018-02-26 10:11:05,488 - DEBUG - Current Position is 0
2018-02-26 10:11:05,488 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:11:05,489 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:11:05,489 - DEBUG - Time is 10
2018-02-26 10:11:05,489 - DEBUG - Time is <class 'int'>
2018-02-26 10:11:05,489 - DEBUG - Time is 11
2018-02-26 10:11:05,489 - DEBUG - Time is <class 'int'>
2018-02-26 10:11:05,490 - DEBUG - Disconnected from IBController
2018-02-26 10:11:05,490 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:16:01,371 - DEBUG - ****************************************************
2018-02-26 10:16:01,371 - DEBUG - Current Time is 10:16AM
2018-02-26 10:16:01,372 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:16:01,372 - DEBUG - Connecting to database
2018-02-26 10:16:01,397 - DEBUG - Connected to database
2018-02-26 10:16:01,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:01,399 - DEBUG - Order Profit is 0
2018-02-26 10:16:01,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:01,401 - DEBUG - Stop ID is 0
2018-02-26 10:16:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:01,403 - DEBUG - Entry ID is 230
2018-02-26 10:16:01,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:16:01,405 - DEBUG - OCA ID is 1
2018-02-26 10:16:01,405 - DEBUG - Connecting to IBController
2018-02-26 10:16:02,417 - DEBUG - Connected to IBController
2018-02-26 10:16:02,417 - DEBUG - Position requested
2018-02-26 10:16:02,419 - DEBUG - Pos Mgmt 1
2018-02-26 10:16:02,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, pos=1, avgCost=28732.900000000005>
2018-02-26 10:16:02,420 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:16:02,420 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:16:02,420 - DEBUG - Position is 1
2018-02-26 10:16:02,420 - DEBUG - In Position
2018-02-26 10:16:02,421 - DEBUG - Position is 1
2018-02-26 10:16:02,421 - DEBUG - Pos Mgmt -12987
2018-02-26 10:16:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:16:02,422 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:16:02,422 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:16:02,422 - DEBUG - Position is -12987
2018-02-26 10:16:03,419 - DEBUG - Open Orders requested
2018-02-26 10:16:03,421 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DF60>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021011D0>>
2018-02-26 10:16:03,422 - DEBUG - Order OrderID 225
2018-02-26 10:16:03,423 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:16:03,423 - DEBUG - Order status PreSubmitted
2018-02-26 10:16:03,423 - DEBUG - Order Identification 225
2018-02-26 10:16:03,423 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:03,424 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:03,424 - DEBUG - Stop ID database is 0
2018-02-26 10:16:03,425 - DEBUG - Entry ID database is 230
2018-02-26 10:16:03,426 - DEBUG - Reply Handler Orders is <openOrder orderId=227, contract=<ib.ext.Contract.Contract object at 0x000000000206DF60>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-02-26 10:16:03,426 - DEBUG - Order OrderID 227
2018-02-26 10:16:03,426 - DEBUG - reply handler status <orderStatus orderId=227, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:16:03,427 - DEBUG - Order status PreSubmitted
2018-02-26 10:16:03,427 - DEBUG - Order Identification 227
2018-02-26 10:16:03,427 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:03,427 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:03,428 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:03,428 - DEBUG - Stop ID database is 0
2018-02-26 10:16:03,428 - DEBUG - Entry ID database is 230
2018-02-26 10:16:03,429 - DEBUG - Reply Handler Orders is <openOrder orderId=229, contract=<ib.ext.Contract.Contract object at 0x000000000206DF60>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101240>>
2018-02-26 10:16:03,430 - DEBUG - Order OrderID 229
2018-02-26 10:16:03,430 - DEBUG - reply handler status <orderStatus orderId=229, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:16:03,430 - DEBUG - Order status PreSubmitted
2018-02-26 10:16:03,430 - DEBUG - Order Identification 229
2018-02-26 10:16:03,431 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:03,431 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:03,431 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:03,431 - DEBUG - Stop ID database is 0
2018-02-26 10:16:03,432 - DEBUG - Entry ID database is 230
2018-02-26 10:16:05,422 - DEBUG - Connecting to database
2018-02-26 10:16:05,430 - DEBUG - Connected to database
2018-02-26 10:16:05,431 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,432 - DEBUG - Stop loss value is 69.25
2018-02-26 10:16:05,433 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,433 - DEBUG - Stop loss value is 82.575
2018-02-26 10:16:05,435 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,435 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:16:05,436 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,437 - DEBUG - Stop quantity 1
2018-02-26 10:16:05,438 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,439 - DEBUG - Direction is Long
2018-02-26 10:16:05,440 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,440 - DEBUG - Count is 0
2018-02-26 10:16:05,442 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:16:05,442 - DEBUG - Stop Loss Flag is 0
2018-02-26 10:16:05,443 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:16:05,443 - DEBUG - Max ID Order is (230,)
2018-02-26 10:16:05,444 - DEBUG - Today is 2018-02-26
2018-02-26 10:16:05,444 - DEBUG - Day of the week 0
2018-02-26 10:16:05,445 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:16:05,445 - DEBUG - In Position is  1
2018-02-26 10:16:05,445 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:16:05,445 - DEBUG - curStopLossFlag is  0
2018-02-26 10:16:05,445 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:16:05,446 - DEBUG - Checking if Entry has been filled
2018-02-26 10:16:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:16:05,447 - DEBUG - EntryPend is 1
2018-02-26 10:16:05,448 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2018-02-26 10:16:05,448 - DEBUG - Order Profit is ('0',)
2018-02-26 10:16:05,448 - DEBUG - Incremented Order ID for stop loss 231
2018-02-26 10:16:05,448 - DEBUG - Symbol, secType, exchange is H FUT GLOBEX
2018-02-26 10:16:05,449 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000002101128>
2018-02-26 10:16:05,449 - DEBUG - Entry Trade Direction is Long
2018-02-26 10:16:05,449 - DEBUG - In Long direction.
2018-02-26 10:16:05,449 - DEBUG - Counter action, qty, limit, OID and Pos Size are Sell 1 1 231 1
2018-02-26 10:16:05,450 - DEBUG - In TRAIL STOP function
2018-02-26 10:16:05,450 - DEBUG - Order action Sell
2018-02-26 10:16:05,450 - DEBUG - Limit value is 1
2018-02-26 10:16:05,450 - DEBUG - In Sell action. TRAIL price is 69.2500
2018-02-26 10:16:05,451 - DEBUG - In Sell action. AUX price is 1.0
2018-02-26 10:16:05,451 - DEBUG - Transmit is True
2018-02-26 10:16:05,453 - DEBUG - Long stop order placed
2018-02-26 10:16:05,454 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'HE'
2018-02-26 10:16:05,454 - DEBUG - BB POSITION Set to 1.  No More positions should be taken
2018-02-26 10:16:05,500 - DEBUG - Master Fill set to 1
2018-02-26 10:16:05,500 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-26 10:16:05,502 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x00000000021013C8>, order=<ib.ext.Order.Order object at 0x0000000002101160>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101668>>
2018-02-26 10:16:05,502 - DEBUG - Entry ID is 228
2018-02-26 10:16:05,502 - DEBUG - Order OrderID 231
2018-02-26 10:16:05,503 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:16:05,503 - DEBUG - Order status PreSubmitted
2018-02-26 10:16:05,504 - DEBUG - Order Identification 231
2018-02-26 10:16:05,504 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:05,504 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:05,504 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:05,504 - DEBUG - Stop ID database is 0
2018-02-26 10:16:05,505 - DEBUG - Entry ID database is 230
2018-02-26 10:16:05,505 - DEBUG - Canceled Order 228
2018-02-26 10:16:05,506 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'M6E'
2018-02-26 10:16:05,514 - DEBUG - Entry ID is 227
2018-02-26 10:16:05,515 - ERROR - Canceled Order 227
2018-02-26 10:16:05,515 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'LE'
2018-02-26 10:16:05,522 - DEBUG - Entry ID is 229
2018-02-26 10:16:05,526 - ERROR - Canceled Order 229
2018-02-26 10:16:05,527 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 227;
2018-02-26 10:16:05,541 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 228;
2018-02-26 10:16:05,565 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 229;
2018-02-26 10:16:05,566 - DEBUG - reply handler status <orderStatus orderId=227, status=Cancelled, filled=0, remaining=5, avgFillPrice=0.0, permId=480011417, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2018-02-26 10:16:05,566 - DEBUG - Order status Cancelled
2018-02-26 10:16:05,567 - DEBUG - Order Identification 227
2018-02-26 10:16:05,567 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:05,567 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:05,567 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:05,567 - DEBUG - Stop ID database is 0
2018-02-26 10:16:05,568 - DEBUG - Entry ID database is 230
2018-02-26 10:16:05,568 - DEBUG - reply handler status <orderStatus orderId=229, status=Cancelled, filled=0, remaining=1, avgFillPrice=0.0, permId=480011419, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2018-02-26 10:16:05,568 - DEBUG - Order status Cancelled
2018-02-26 10:16:05,569 - DEBUG - Order Identification 229
2018-02-26 10:16:05,569 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:16:05,569 - DEBUG - Profit ID from database is 0
2018-02-26 10:16:05,569 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:16:05,569 - DEBUG - Stop ID database is 0
2018-02-26 10:16:05,570 - DEBUG - Entry ID database is 230
2018-02-26 10:16:05,581 - DEBUG - Max Positions is (-12.0,)
2018-02-26 10:16:05,582 - DEBUG - Max Positions2 is -11.0
2018-02-26 10:16:05,582 - DEBUG - Query is UPDATE RiskParameters SET RiskParametersValue = -11.0 where idRiskParameters = 15
2018-02-26 10:16:05,600 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='HE';
2018-02-26 10:16:05,614 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'HE'
2018-02-26 10:16:05,628 - DEBUG - StopLossVal2 is 69.25
2018-02-26 10:16:05,628 - DEBUG - ProfitVal2 is 82.575
2018-02-26 10:16:05,655 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 230;
2018-02-26 10:16:05,671 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:16:05,672 - DEBUG - Max ID Order is (231,)
2018-02-26 10:16:05,672 - DEBUG - Incremented Order ID for profit target 232
2018-02-26 10:16:05,672 - DEBUG - Try to Cancel Stop
2018-02-26 10:16:05,673 - DEBUG - Stop API ID 0
2018-02-26 10:16:05,673 - DEBUG - Profit API ID 0
2018-02-26 10:16:05,673 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:16:05,673 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:16:05,674 - DEBUG - Pos is 1
2018-02-26 10:16:05,674 - DEBUG - CurCount is 0
2018-02-26 10:16:05,674 - DEBUG - In Pos 1
2018-02-26 10:16:05,674 - DEBUG - Stop ID is 0
2018-02-26 10:16:05,674 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:16:05,676 - DEBUG - EntryPend is 0
2018-02-26 10:16:05,676 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:16:05,676 - DEBUG - Entry Date is 10
2018-02-26 10:16:05,677 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:16:05,677 - DEBUG - Order Profit ID is 0
2018-02-26 10:16:05,677 - DEBUG - Order Entry ID is 230
2018-02-26 10:16:05,677 - DEBUG - API ID is  0
2018-02-26 10:16:05,678 - DEBUG - Current Position is 0
2018-02-26 10:16:05,678 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:16:05,678 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:16:05,678 - DEBUG - Time is 10
2018-02-26 10:16:05,678 - DEBUG - Time is <class 'int'>
2018-02-26 10:16:05,679 - DEBUG - Time is 16
2018-02-26 10:16:05,679 - DEBUG - Time is <class 'int'>
2018-02-26 10:16:05,679 - DEBUG - Disconnected from IBController
2018-02-26 10:16:05,680 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:21:01,412 - DEBUG - ****************************************************
2018-02-26 10:21:01,413 - DEBUG - Current Time is 10:21AM
2018-02-26 10:21:01,413 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:21:01,413 - DEBUG - Connecting to database
2018-02-26 10:21:01,438 - DEBUG - Connected to database
2018-02-26 10:21:01,438 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:01,440 - DEBUG - Order Profit is 0
2018-02-26 10:21:01,440 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:01,442 - DEBUG - Stop ID is 231
2018-02-26 10:21:01,442 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:01,444 - DEBUG - Entry ID is 230
2018-02-26 10:21:01,444 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:21:01,445 - DEBUG - OCA ID is 1
2018-02-26 10:21:01,446 - DEBUG - Connecting to IBController
2018-02-26 10:21:02,457 - DEBUG - Connected to IBController
2018-02-26 10:21:02,457 - DEBUG - Position requested
2018-02-26 10:21:02,459 - DEBUG - Pos Mgmt 1
2018-02-26 10:21:02,459 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=1, avgCost=28732.9>
2018-02-26 10:21:02,460 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:21:02,460 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:21:02,460 - DEBUG - Position is 1
2018-02-26 10:21:02,460 - DEBUG - In Position
2018-02-26 10:21:02,461 - DEBUG - Position is 1
2018-02-26 10:21:02,461 - DEBUG - Pos Mgmt -12987
2018-02-26 10:21:02,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:21:02,462 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:21:02,462 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:21:02,462 - DEBUG - Position is -12987
2018-02-26 10:21:03,458 - DEBUG - Open Orders requested
2018-02-26 10:21:03,460 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, order=<ib.ext.Order.Order object at 0x000000000208DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-26 10:21:03,461 - DEBUG - Order OrderID 225
2018-02-26 10:21:03,461 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:21:03,462 - DEBUG - Order status PreSubmitted
2018-02-26 10:21:03,462 - DEBUG - Order Identification 225
2018-02-26 10:21:03,462 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:21:03,462 - DEBUG - Profit ID from database is 0
2018-02-26 10:21:03,463 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:21:03,463 - DEBUG - Stop ID database is 231
2018-02-26 10:21:03,463 - DEBUG - Entry ID database is 230
2018-02-26 10:21:03,464 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121198>>
2018-02-26 10:21:03,464 - DEBUG - Order OrderID 231
2018-02-26 10:21:03,465 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:21:03,465 - DEBUG - Order status PreSubmitted
2018-02-26 10:21:03,465 - DEBUG - Order Identification 231
2018-02-26 10:21:03,466 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:21:03,466 - DEBUG - Profit ID from database is 0
2018-02-26 10:21:03,466 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:21:03,466 - DEBUG - Stop ID database is 231
2018-02-26 10:21:03,467 - DEBUG - Entry ID database is 230
2018-02-26 10:21:03,467 - DEBUG - Stop API ID is 231
2018-02-26 10:21:05,459 - DEBUG - Connecting to database
2018-02-26 10:21:05,467 - DEBUG - Connected to database
2018-02-26 10:21:05,468 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,469 - DEBUG - Stop loss value is 69.25
2018-02-26 10:21:05,470 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,471 - DEBUG - Stop loss value is 82.575
2018-02-26 10:21:05,472 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,472 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:21:05,474 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,474 - DEBUG - Stop quantity 1
2018-02-26 10:21:05,475 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,476 - DEBUG - Direction is Long
2018-02-26 10:21:05,477 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,478 - DEBUG - Count is 1
2018-02-26 10:21:05,479 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:21:05,479 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:21:05,481 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:21:05,481 - DEBUG - Max ID Order is (231,)
2018-02-26 10:21:05,481 - DEBUG - Today is 2018-02-26
2018-02-26 10:21:05,482 - DEBUG - Day of the week 0
2018-02-26 10:21:05,482 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:21:05,482 - DEBUG - In Position is  1
2018-02-26 10:21:05,482 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:21:05,483 - DEBUG - curStopLossFlag is  1
2018-02-26 10:21:05,483 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:21:05,483 - DEBUG - Checking if Entry has been filled
2018-02-26 10:21:05,483 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:21:05,485 - DEBUG - EntryPend is 0
2018-02-26 10:21:05,485 - DEBUG - Try to Cancel Stop
2018-02-26 10:21:05,485 - DEBUG - Stop API ID 231
2018-02-26 10:21:05,485 - DEBUG - Profit API ID 0
2018-02-26 10:21:05,486 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:21:05,486 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:21:05,486 - DEBUG - Pos is 1
2018-02-26 10:21:05,486 - DEBUG - CurCount is 1
2018-02-26 10:21:05,487 - DEBUG - In Pos 1
2018-02-26 10:21:05,487 - DEBUG - Stop ID is 231
2018-02-26 10:21:05,487 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:21:05,488 - DEBUG - EntryPend is 0
2018-02-26 10:21:05,489 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:21:05,489 - DEBUG - Entry Date is 10
2018-02-26 10:21:05,489 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:21:05,489 - DEBUG - Order Profit ID is 0
2018-02-26 10:21:05,489 - DEBUG - Order Entry ID is 230
2018-02-26 10:21:05,490 - DEBUG - API ID is  0
2018-02-26 10:21:05,490 - DEBUG - Current Position is 1
2018-02-26 10:21:05,490 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:21:05,490 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:21:05,491 - DEBUG - Time is 10
2018-02-26 10:21:05,491 - DEBUG - Time is <class 'int'>
2018-02-26 10:21:05,491 - DEBUG - Time is 21
2018-02-26 10:21:05,491 - DEBUG - Time is <class 'int'>
2018-02-26 10:21:05,491 - DEBUG - Disconnected from IBController
2018-02-26 10:21:05,492 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:26:01,350 - DEBUG - ****************************************************
2018-02-26 10:26:01,351 - DEBUG - Current Time is 10:26AM
2018-02-26 10:26:01,351 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:26:01,351 - DEBUG - Connecting to database
2018-02-26 10:26:01,383 - DEBUG - Connected to database
2018-02-26 10:26:01,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:01,385 - DEBUG - Order Profit is 0
2018-02-26 10:26:01,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:01,387 - DEBUG - Stop ID is 231
2018-02-26 10:26:01,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:01,389 - DEBUG - Entry ID is 230
2018-02-26 10:26:01,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:26:01,390 - DEBUG - OCA ID is 1
2018-02-26 10:26:01,390 - DEBUG - Connecting to IBController
2018-02-26 10:26:02,398 - DEBUG - Connected to IBController
2018-02-26 10:26:02,398 - DEBUG - Position requested
2018-02-26 10:26:02,400 - DEBUG - Pos Mgmt 1
2018-02-26 10:26:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BE10>, pos=1, avgCost=28732.9>
2018-02-26 10:26:02,401 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:26:02,401 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:26:02,401 - DEBUG - Position is 1
2018-02-26 10:26:02,401 - DEBUG - In Position
2018-02-26 10:26:02,401 - DEBUG - Position is 1
2018-02-26 10:26:02,402 - DEBUG - Pos Mgmt -12987
2018-02-26 10:26:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BD68>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:26:02,402 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:26:02,403 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:26:02,403 - DEBUG - Position is -12987
2018-02-26 10:26:03,400 - DEBUG - Open Orders requested
2018-02-26 10:26:03,402 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BF28>, order=<ib.ext.Order.Order object at 0x000000000205BB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0198>>
2018-02-26 10:26:03,403 - DEBUG - Order OrderID 225
2018-02-26 10:26:03,403 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:26:03,404 - DEBUG - Order status PreSubmitted
2018-02-26 10:26:03,404 - DEBUG - Order Identification 225
2018-02-26 10:26:03,404 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:26:03,404 - DEBUG - Profit ID from database is 0
2018-02-26 10:26:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:26:03,405 - DEBUG - Stop ID database is 231
2018-02-26 10:26:03,405 - DEBUG - Entry ID database is 230
2018-02-26 10:26:03,406 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000205BF28>, order=<ib.ext.Order.Order object at 0x000000000205BB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0128>>
2018-02-26 10:26:03,406 - DEBUG - Order OrderID 231
2018-02-26 10:26:03,407 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:26:03,407 - DEBUG - Order status PreSubmitted
2018-02-26 10:26:03,407 - DEBUG - Order Identification 231
2018-02-26 10:26:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:26:03,408 - DEBUG - Profit ID from database is 0
2018-02-26 10:26:03,408 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:26:03,408 - DEBUG - Stop ID database is 231
2018-02-26 10:26:03,408 - DEBUG - Entry ID database is 230
2018-02-26 10:26:03,409 - DEBUG - Stop API ID is 231
2018-02-26 10:26:05,403 - DEBUG - Connecting to database
2018-02-26 10:26:05,411 - DEBUG - Connected to database
2018-02-26 10:26:05,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,412 - DEBUG - Stop loss value is 69.25
2018-02-26 10:26:05,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,414 - DEBUG - Stop loss value is 82.575
2018-02-26 10:26:05,415 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,416 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:26:05,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,417 - DEBUG - Stop quantity 1
2018-02-26 10:26:05,419 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,419 - DEBUG - Direction is Long
2018-02-26 10:26:05,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,421 - DEBUG - Count is 1
2018-02-26 10:26:05,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:26:05,423 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:26:05,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:26:05,425 - DEBUG - Max ID Order is (231,)
2018-02-26 10:26:05,425 - DEBUG - Today is 2018-02-26
2018-02-26 10:26:05,426 - DEBUG - Day of the week 0
2018-02-26 10:26:05,426 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:26:05,426 - DEBUG - In Position is  1
2018-02-26 10:26:05,426 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:26:05,427 - DEBUG - curStopLossFlag is  1
2018-02-26 10:26:05,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:26:05,427 - DEBUG - Checking if Entry has been filled
2018-02-26 10:26:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:26:05,429 - DEBUG - EntryPend is 0
2018-02-26 10:26:05,429 - DEBUG - Try to Cancel Stop
2018-02-26 10:26:05,429 - DEBUG - Stop API ID 231
2018-02-26 10:26:05,429 - DEBUG - Profit API ID 0
2018-02-26 10:26:05,430 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:26:05,430 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:26:05,430 - DEBUG - Pos is 1
2018-02-26 10:26:05,430 - DEBUG - CurCount is 1
2018-02-26 10:26:05,430 - DEBUG - In Pos 1
2018-02-26 10:26:05,431 - DEBUG - Stop ID is 231
2018-02-26 10:26:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:26:05,432 - DEBUG - EntryPend is 0
2018-02-26 10:26:05,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:26:05,433 - DEBUG - Entry Date is 10
2018-02-26 10:26:05,433 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:26:05,433 - DEBUG - Order Profit ID is 0
2018-02-26 10:26:05,433 - DEBUG - Order Entry ID is 230
2018-02-26 10:26:05,434 - DEBUG - API ID is  0
2018-02-26 10:26:05,434 - DEBUG - Current Position is 1
2018-02-26 10:26:05,434 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:26:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:26:05,434 - DEBUG - Time is 10
2018-02-26 10:26:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 10:26:05,435 - DEBUG - Time is 26
2018-02-26 10:26:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 10:26:05,435 - DEBUG - Disconnected from IBController
2018-02-26 10:26:05,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:31:01,352 - DEBUG - ****************************************************
2018-02-26 10:31:01,353 - DEBUG - Current Time is 10:31AM
2018-02-26 10:31:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:31:01,353 - DEBUG - Connecting to database
2018-02-26 10:31:01,372 - DEBUG - Connected to database
2018-02-26 10:31:01,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:01,373 - DEBUG - Order Profit is 0
2018-02-26 10:31:01,374 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:01,375 - DEBUG - Stop ID is 231
2018-02-26 10:31:01,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:01,377 - DEBUG - Entry ID is 230
2018-02-26 10:31:01,377 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:31:01,378 - DEBUG - OCA ID is 1
2018-02-26 10:31:01,379 - DEBUG - Connecting to IBController
2018-02-26 10:31:02,389 - DEBUG - Connected to IBController
2018-02-26 10:31:02,389 - DEBUG - Position requested
2018-02-26 10:31:02,391 - DEBUG - Pos Mgmt 1
2018-02-26 10:31:02,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBE0>, pos=1, avgCost=28732.9>
2018-02-26 10:31:02,394 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:31:02,395 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:31:02,395 - DEBUG - Position is 1
2018-02-26 10:31:02,395 - DEBUG - In Position
2018-02-26 10:31:02,395 - DEBUG - Position is 1
2018-02-26 10:31:02,396 - DEBUG - Pos Mgmt -12987
2018-02-26 10:31:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:31:02,396 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:31:02,396 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:31:02,397 - DEBUG - Position is -12987
2018-02-26 10:31:03,390 - DEBUG - Open Orders requested
2018-02-26 10:31:03,393 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CBE0>, order=<ib.ext.Order.Order object at 0x000000000206CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-26 10:31:03,393 - DEBUG - Order OrderID 225
2018-02-26 10:31:03,394 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:31:03,394 - DEBUG - Order status PreSubmitted
2018-02-26 10:31:03,394 - DEBUG - Order Identification 225
2018-02-26 10:31:03,395 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:31:03,395 - DEBUG - Profit ID from database is 0
2018-02-26 10:31:03,395 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:31:03,395 - DEBUG - Stop ID database is 231
2018-02-26 10:31:03,395 - DEBUG - Entry ID database is 230
2018-02-26 10:31:03,397 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000206CFD0>, order=<ib.ext.Order.Order object at 0x000000000206CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101198>>
2018-02-26 10:31:03,397 - DEBUG - Order OrderID 231
2018-02-26 10:31:03,397 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:31:03,398 - DEBUG - Order status PreSubmitted
2018-02-26 10:31:03,398 - DEBUG - Order Identification 231
2018-02-26 10:31:03,398 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:31:03,398 - DEBUG - Profit ID from database is 0
2018-02-26 10:31:03,398 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:31:03,399 - DEBUG - Stop ID database is 231
2018-02-26 10:31:03,399 - DEBUG - Entry ID database is 230
2018-02-26 10:31:03,399 - DEBUG - Stop API ID is 231
2018-02-26 10:31:05,391 - DEBUG - Connecting to database
2018-02-26 10:31:05,399 - DEBUG - Connected to database
2018-02-26 10:31:05,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,402 - DEBUG - Stop loss value is 69.25
2018-02-26 10:31:05,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,404 - DEBUG - Stop loss value is 82.575
2018-02-26 10:31:05,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,405 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:31:05,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,407 - DEBUG - Stop quantity 1
2018-02-26 10:31:05,408 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,409 - DEBUG - Direction is Long
2018-02-26 10:31:05,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,411 - DEBUG - Count is 1
2018-02-26 10:31:05,412 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:31:05,413 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:31:05,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:31:05,414 - DEBUG - Max ID Order is (231,)
2018-02-26 10:31:05,415 - DEBUG - Today is 2018-02-26
2018-02-26 10:31:05,415 - DEBUG - Day of the week 0
2018-02-26 10:31:05,416 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:31:05,416 - DEBUG - In Position is  1
2018-02-26 10:31:05,416 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:31:05,416 - DEBUG - curStopLossFlag is  1
2018-02-26 10:31:05,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:31:05,417 - DEBUG - Checking if Entry has been filled
2018-02-26 10:31:05,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:31:05,418 - DEBUG - EntryPend is 0
2018-02-26 10:31:05,418 - DEBUG - Try to Cancel Stop
2018-02-26 10:31:05,419 - DEBUG - Stop API ID 231
2018-02-26 10:31:05,419 - DEBUG - Profit API ID 0
2018-02-26 10:31:05,419 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:31:05,419 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:31:05,420 - DEBUG - Pos is 1
2018-02-26 10:31:05,420 - DEBUG - CurCount is 1
2018-02-26 10:31:05,420 - DEBUG - In Pos 1
2018-02-26 10:31:05,420 - DEBUG - Stop ID is 231
2018-02-26 10:31:05,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:31:05,422 - DEBUG - EntryPend is 0
2018-02-26 10:31:05,422 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:31:05,422 - DEBUG - Entry Date is 10
2018-02-26 10:31:05,422 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:31:05,423 - DEBUG - Order Profit ID is 0
2018-02-26 10:31:05,423 - DEBUG - Order Entry ID is 230
2018-02-26 10:31:05,423 - DEBUG - API ID is  0
2018-02-26 10:31:05,423 - DEBUG - Current Position is 1
2018-02-26 10:31:05,423 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:31:05,424 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:31:05,424 - DEBUG - Time is 10
2018-02-26 10:31:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 10:31:05,424 - DEBUG - Time is 31
2018-02-26 10:31:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 10:31:05,425 - DEBUG - Disconnected from IBController
2018-02-26 10:31:05,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:36:01,360 - DEBUG - ****************************************************
2018-02-26 10:36:01,361 - DEBUG - Current Time is 10:36AM
2018-02-26 10:36:01,361 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:36:01,362 - DEBUG - Connecting to database
2018-02-26 10:36:01,394 - DEBUG - Connected to database
2018-02-26 10:36:01,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:01,396 - DEBUG - Order Profit is 0
2018-02-26 10:36:01,397 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:01,398 - DEBUG - Stop ID is 231
2018-02-26 10:36:01,398 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:01,400 - DEBUG - Entry ID is 230
2018-02-26 10:36:01,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:36:01,401 - DEBUG - OCA ID is 1
2018-02-26 10:36:01,402 - DEBUG - Connecting to IBController
2018-02-26 10:36:02,412 - DEBUG - Connected to IBController
2018-02-26 10:36:02,412 - DEBUG - Position requested
2018-02-26 10:36:02,414 - DEBUG - Pos Mgmt 1
2018-02-26 10:36:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BE10>, pos=1, avgCost=28732.9>
2018-02-26 10:36:02,415 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:36:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:36:02,415 - DEBUG - Position is 1
2018-02-26 10:36:02,415 - DEBUG - In Position
2018-02-26 10:36:02,415 - DEBUG - Position is 1
2018-02-26 10:36:02,416 - DEBUG - Pos Mgmt -12987
2018-02-26 10:36:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BDD8>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:36:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:36:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:36:02,417 - DEBUG - Position is -12987
2018-02-26 10:36:03,414 - DEBUG - Open Orders requested
2018-02-26 10:36:03,416 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208BF28>, order=<ib.ext.Order.Order object at 0x000000000208BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120198>>
2018-02-26 10:36:03,417 - DEBUG - Order OrderID 225
2018-02-26 10:36:03,417 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:36:03,418 - DEBUG - Order status PreSubmitted
2018-02-26 10:36:03,418 - DEBUG - Order Identification 225
2018-02-26 10:36:03,418 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:36:03,418 - DEBUG - Profit ID from database is 0
2018-02-26 10:36:03,419 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:36:03,419 - DEBUG - Stop ID database is 231
2018-02-26 10:36:03,419 - DEBUG - Entry ID database is 230
2018-02-26 10:36:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000208BF28>, order=<ib.ext.Order.Order object at 0x000000000208BD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120080>>
2018-02-26 10:36:03,420 - DEBUG - Order OrderID 231
2018-02-26 10:36:03,421 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:36:03,421 - DEBUG - Order status PreSubmitted
2018-02-26 10:36:03,421 - DEBUG - Order Identification 231
2018-02-26 10:36:03,421 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:36:03,422 - DEBUG - Profit ID from database is 0
2018-02-26 10:36:03,422 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:36:03,422 - DEBUG - Stop ID database is 231
2018-02-26 10:36:03,422 - DEBUG - Entry ID database is 230
2018-02-26 10:36:03,422 - DEBUG - Stop API ID is 231
2018-02-26 10:36:05,417 - DEBUG - Connecting to database
2018-02-26 10:36:05,425 - DEBUG - Connected to database
2018-02-26 10:36:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,427 - DEBUG - Stop loss value is 69.25
2018-02-26 10:36:05,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,429 - DEBUG - Stop loss value is 82.575
2018-02-26 10:36:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,431 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:36:05,432 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,432 - DEBUG - Stop quantity 1
2018-02-26 10:36:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,434 - DEBUG - Direction is Long
2018-02-26 10:36:05,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,436 - DEBUG - Count is 1
2018-02-26 10:36:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:36:05,438 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:36:05,439 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:36:05,439 - DEBUG - Max ID Order is (231,)
2018-02-26 10:36:05,440 - DEBUG - Today is 2018-02-26
2018-02-26 10:36:05,440 - DEBUG - Day of the week 0
2018-02-26 10:36:05,440 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:36:05,441 - DEBUG - In Position is  1
2018-02-26 10:36:05,441 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:36:05,441 - DEBUG - curStopLossFlag is  1
2018-02-26 10:36:05,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:36:05,442 - DEBUG - Checking if Entry has been filled
2018-02-26 10:36:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:36:05,443 - DEBUG - EntryPend is 0
2018-02-26 10:36:05,443 - DEBUG - Try to Cancel Stop
2018-02-26 10:36:05,444 - DEBUG - Stop API ID 231
2018-02-26 10:36:05,444 - DEBUG - Profit API ID 0
2018-02-26 10:36:05,444 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:36:05,444 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:36:05,445 - DEBUG - Pos is 1
2018-02-26 10:36:05,445 - DEBUG - CurCount is 1
2018-02-26 10:36:05,445 - DEBUG - In Pos 1
2018-02-26 10:36:05,445 - DEBUG - Stop ID is 231
2018-02-26 10:36:05,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:36:05,447 - DEBUG - EntryPend is 0
2018-02-26 10:36:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:36:05,447 - DEBUG - Entry Date is 10
2018-02-26 10:36:05,448 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:36:05,448 - DEBUG - Order Profit ID is 0
2018-02-26 10:36:05,448 - DEBUG - Order Entry ID is 230
2018-02-26 10:36:05,448 - DEBUG - API ID is  0
2018-02-26 10:36:05,448 - DEBUG - Current Position is 1
2018-02-26 10:36:05,449 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:36:05,449 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:36:05,449 - DEBUG - Time is 10
2018-02-26 10:36:05,449 - DEBUG - Time is <class 'int'>
2018-02-26 10:36:05,450 - DEBUG - Time is 36
2018-02-26 10:36:05,450 - DEBUG - Time is <class 'int'>
2018-02-26 10:36:05,450 - DEBUG - Disconnected from IBController
2018-02-26 10:36:05,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:41:01,353 - DEBUG - ****************************************************
2018-02-26 10:41:01,354 - DEBUG - Current Time is 10:41AM
2018-02-26 10:41:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:41:01,354 - DEBUG - Connecting to database
2018-02-26 10:41:01,381 - DEBUG - Connected to database
2018-02-26 10:41:01,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:01,383 - DEBUG - Order Profit is 0
2018-02-26 10:41:01,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:01,384 - DEBUG - Stop ID is 231
2018-02-26 10:41:01,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:01,386 - DEBUG - Entry ID is 230
2018-02-26 10:41:01,386 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:41:01,388 - DEBUG - OCA ID is 1
2018-02-26 10:41:01,388 - DEBUG - Connecting to IBController
2018-02-26 10:41:02,394 - DEBUG - Connected to IBController
2018-02-26 10:41:02,394 - DEBUG - Position requested
2018-02-26 10:41:02,396 - DEBUG - Pos Mgmt 1
2018-02-26 10:41:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC18>, pos=1, avgCost=28732.9>
2018-02-26 10:41:02,397 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:41:02,399 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:41:02,399 - DEBUG - Position is 1
2018-02-26 10:41:02,399 - DEBUG - In Position
2018-02-26 10:41:02,400 - DEBUG - Position is 1
2018-02-26 10:41:02,404 - DEBUG - Pos Mgmt -12987
2018-02-26 10:41:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:41:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:41:02,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:41:02,405 - DEBUG - Position is -12987
2018-02-26 10:41:03,395 - DEBUG - Open Orders requested
2018-02-26 10:41:03,397 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CF98>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1198>>
2018-02-26 10:41:03,398 - DEBUG - Order OrderID 225
2018-02-26 10:41:03,398 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:41:03,398 - DEBUG - Order status PreSubmitted
2018-02-26 10:41:03,399 - DEBUG - Order Identification 225
2018-02-26 10:41:03,399 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:41:03,399 - DEBUG - Profit ID from database is 0
2018-02-26 10:41:03,399 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:41:03,400 - DEBUG - Stop ID database is 231
2018-02-26 10:41:03,400 - DEBUG - Entry ID database is 230
2018-02-26 10:41:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000203CF98>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-26 10:41:03,401 - DEBUG - Order OrderID 231
2018-02-26 10:41:03,402 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:41:03,402 - DEBUG - Order status PreSubmitted
2018-02-26 10:41:03,402 - DEBUG - Order Identification 231
2018-02-26 10:41:03,402 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:41:03,403 - DEBUG - Profit ID from database is 0
2018-02-26 10:41:03,403 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:41:03,403 - DEBUG - Stop ID database is 231
2018-02-26 10:41:03,403 - DEBUG - Entry ID database is 230
2018-02-26 10:41:03,403 - DEBUG - Stop API ID is 231
2018-02-26 10:41:05,398 - DEBUG - Connecting to database
2018-02-26 10:41:05,405 - DEBUG - Connected to database
2018-02-26 10:41:05,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,407 - DEBUG - Stop loss value is 69.25
2018-02-26 10:41:05,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,409 - DEBUG - Stop loss value is 82.575
2018-02-26 10:41:05,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,411 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:41:05,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,412 - DEBUG - Stop quantity 1
2018-02-26 10:41:05,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,414 - DEBUG - Direction is Long
2018-02-26 10:41:05,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,416 - DEBUG - Count is 1
2018-02-26 10:41:05,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:41:05,417 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:41:05,419 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:41:05,419 - DEBUG - Max ID Order is (231,)
2018-02-26 10:41:05,419 - DEBUG - Today is 2018-02-26
2018-02-26 10:41:05,420 - DEBUG - Day of the week 0
2018-02-26 10:41:05,420 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:41:05,420 - DEBUG - In Position is  1
2018-02-26 10:41:05,420 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:41:05,421 - DEBUG - curStopLossFlag is  1
2018-02-26 10:41:05,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:41:05,421 - DEBUG - Checking if Entry has been filled
2018-02-26 10:41:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:41:05,423 - DEBUG - EntryPend is 0
2018-02-26 10:41:05,423 - DEBUG - Try to Cancel Stop
2018-02-26 10:41:05,423 - DEBUG - Stop API ID 231
2018-02-26 10:41:05,423 - DEBUG - Profit API ID 0
2018-02-26 10:41:05,424 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:41:05,424 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:41:05,424 - DEBUG - Pos is 1
2018-02-26 10:41:05,424 - DEBUG - CurCount is 1
2018-02-26 10:41:05,425 - DEBUG - In Pos 1
2018-02-26 10:41:05,425 - DEBUG - Stop ID is 231
2018-02-26 10:41:05,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:41:05,426 - DEBUG - EntryPend is 0
2018-02-26 10:41:05,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:41:05,427 - DEBUG - Entry Date is 10
2018-02-26 10:41:05,427 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:41:05,427 - DEBUG - Order Profit ID is 0
2018-02-26 10:41:05,428 - DEBUG - Order Entry ID is 230
2018-02-26 10:41:05,428 - DEBUG - API ID is  0
2018-02-26 10:41:05,428 - DEBUG - Current Position is 1
2018-02-26 10:41:05,428 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:41:05,428 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:41:05,429 - DEBUG - Time is 10
2018-02-26 10:41:05,429 - DEBUG - Time is <class 'int'>
2018-02-26 10:41:05,429 - DEBUG - Time is 41
2018-02-26 10:41:05,429 - DEBUG - Time is <class 'int'>
2018-02-26 10:41:05,430 - DEBUG - Disconnected from IBController
2018-02-26 10:41:05,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:46:01,349 - DEBUG - ****************************************************
2018-02-26 10:46:01,350 - DEBUG - Current Time is 10:46AM
2018-02-26 10:46:01,350 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:46:01,350 - DEBUG - Connecting to database
2018-02-26 10:46:01,401 - DEBUG - Connected to database
2018-02-26 10:46:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:01,403 - DEBUG - Order Profit is 0
2018-02-26 10:46:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:01,405 - DEBUG - Stop ID is 231
2018-02-26 10:46:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:01,406 - DEBUG - Entry ID is 230
2018-02-26 10:46:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:46:01,408 - DEBUG - OCA ID is 1
2018-02-26 10:46:01,408 - DEBUG - Connecting to IBController
2018-02-26 10:46:02,414 - DEBUG - Connected to IBController
2018-02-26 10:46:02,414 - DEBUG - Position requested
2018-02-26 10:46:02,418 - DEBUG - Pos Mgmt 1
2018-02-26 10:46:02,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDBA8>, pos=1, avgCost=28732.9>
2018-02-26 10:46:02,419 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:46:02,420 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:46:02,420 - DEBUG - Position is 1
2018-02-26 10:46:02,420 - DEBUG - In Position
2018-02-26 10:46:02,420 - DEBUG - Position is 1
2018-02-26 10:46:02,421 - DEBUG - Pos Mgmt -12987
2018-02-26 10:46:02,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDAC8>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:46:02,421 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:46:02,421 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:46:02,422 - DEBUG - Position is -12987
2018-02-26 10:46:03,414 - DEBUG - Open Orders requested
2018-02-26 10:46:03,416 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDBA8>, order=<ib.ext.Order.Order object at 0x00000000020BDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151128>>
2018-02-26 10:46:03,417 - DEBUG - Order OrderID 225
2018-02-26 10:46:03,417 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:46:03,418 - DEBUG - Order status PreSubmitted
2018-02-26 10:46:03,418 - DEBUG - Order Identification 225
2018-02-26 10:46:03,418 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:46:03,419 - DEBUG - Profit ID from database is 0
2018-02-26 10:46:03,419 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:46:03,419 - DEBUG - Stop ID database is 231
2018-02-26 10:46:03,419 - DEBUG - Entry ID database is 230
2018-02-26 10:46:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x00000000020BDFD0>, order=<ib.ext.Order.Order object at 0x00000000020BDB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151198>>
2018-02-26 10:46:03,421 - DEBUG - Order OrderID 231
2018-02-26 10:46:03,421 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:46:03,424 - DEBUG - Order status PreSubmitted
2018-02-26 10:46:03,425 - DEBUG - Order Identification 231
2018-02-26 10:46:03,425 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:46:03,425 - DEBUG - Profit ID from database is 0
2018-02-26 10:46:03,425 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:46:03,426 - DEBUG - Stop ID database is 231
2018-02-26 10:46:03,426 - DEBUG - Entry ID database is 230
2018-02-26 10:46:03,426 - DEBUG - Stop API ID is 231
2018-02-26 10:46:05,415 - DEBUG - Connecting to database
2018-02-26 10:46:05,426 - DEBUG - Connected to database
2018-02-26 10:46:05,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,428 - DEBUG - Stop loss value is 69.25
2018-02-26 10:46:05,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,430 - DEBUG - Stop loss value is 82.575
2018-02-26 10:46:05,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,432 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:46:05,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,433 - DEBUG - Stop quantity 1
2018-02-26 10:46:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,435 - DEBUG - Direction is Long
2018-02-26 10:46:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,437 - DEBUG - Count is 1
2018-02-26 10:46:05,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:46:05,438 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:46:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:46:05,440 - DEBUG - Max ID Order is (231,)
2018-02-26 10:46:05,441 - DEBUG - Today is 2018-02-26
2018-02-26 10:46:05,441 - DEBUG - Day of the week 0
2018-02-26 10:46:05,441 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:46:05,441 - DEBUG - In Position is  1
2018-02-26 10:46:05,442 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:46:05,442 - DEBUG - curStopLossFlag is  1
2018-02-26 10:46:05,442 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:46:05,442 - DEBUG - Checking if Entry has been filled
2018-02-26 10:46:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:46:05,444 - DEBUG - EntryPend is 0
2018-02-26 10:46:05,444 - DEBUG - Try to Cancel Stop
2018-02-26 10:46:05,444 - DEBUG - Stop API ID 231
2018-02-26 10:46:05,445 - DEBUG - Profit API ID 0
2018-02-26 10:46:05,445 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:46:05,445 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:46:05,445 - DEBUG - Pos is 1
2018-02-26 10:46:05,445 - DEBUG - CurCount is 1
2018-02-26 10:46:05,446 - DEBUG - In Pos 1
2018-02-26 10:46:05,446 - DEBUG - Stop ID is 231
2018-02-26 10:46:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:46:05,447 - DEBUG - EntryPend is 0
2018-02-26 10:46:05,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:46:05,448 - DEBUG - Entry Date is 10
2018-02-26 10:46:05,448 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:46:05,448 - DEBUG - Order Profit ID is 0
2018-02-26 10:46:05,448 - DEBUG - Order Entry ID is 230
2018-02-26 10:46:05,449 - DEBUG - API ID is  0
2018-02-26 10:46:05,449 - DEBUG - Current Position is 1
2018-02-26 10:46:05,449 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:46:05,449 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:46:05,450 - DEBUG - Time is 10
2018-02-26 10:46:05,450 - DEBUG - Time is <class 'int'>
2018-02-26 10:46:05,450 - DEBUG - Time is 46
2018-02-26 10:46:05,450 - DEBUG - Time is <class 'int'>
2018-02-26 10:46:05,450 - DEBUG - Disconnected from IBController
2018-02-26 10:46:05,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:51:01,348 - DEBUG - ****************************************************
2018-02-26 10:51:01,349 - DEBUG - Current Time is 10:51AM
2018-02-26 10:51:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:51:01,349 - DEBUG - Connecting to database
2018-02-26 10:51:01,382 - DEBUG - Connected to database
2018-02-26 10:51:01,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:01,384 - DEBUG - Order Profit is 0
2018-02-26 10:51:01,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:01,386 - DEBUG - Stop ID is 231
2018-02-26 10:51:01,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:01,387 - DEBUG - Entry ID is 230
2018-02-26 10:51:01,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:51:01,389 - DEBUG - OCA ID is 1
2018-02-26 10:51:01,389 - DEBUG - Connecting to IBController
2018-02-26 10:51:02,395 - DEBUG - Connected to IBController
2018-02-26 10:51:02,395 - DEBUG - Position requested
2018-02-26 10:51:02,396 - DEBUG - Pos Mgmt 1
2018-02-26 10:51:02,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC50>, pos=1, avgCost=28732.9>
2018-02-26 10:51:02,397 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:51:02,397 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:51:02,398 - DEBUG - Position is 1
2018-02-26 10:51:02,398 - DEBUG - In Position
2018-02-26 10:51:02,398 - DEBUG - Position is 1
2018-02-26 10:51:02,399 - DEBUG - Pos Mgmt -12987
2018-02-26 10:51:02,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DD30>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:51:02,399 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:51:02,399 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:51:02,400 - DEBUG - Position is -12987
2018-02-26 10:51:03,396 - DEBUG - Open Orders requested
2018-02-26 10:51:03,398 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DF28>, order=<ib.ext.Order.Order object at 0x000000000202DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2198>>
2018-02-26 10:51:03,399 - DEBUG - Order OrderID 225
2018-02-26 10:51:03,399 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:51:03,399 - DEBUG - Order status PreSubmitted
2018-02-26 10:51:03,400 - DEBUG - Order Identification 225
2018-02-26 10:51:03,400 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:51:03,400 - DEBUG - Profit ID from database is 0
2018-02-26 10:51:03,400 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:51:03,401 - DEBUG - Stop ID database is 231
2018-02-26 10:51:03,401 - DEBUG - Entry ID database is 230
2018-02-26 10:51:03,402 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000202DF28>, order=<ib.ext.Order.Order object at 0x000000000202DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20F0>>
2018-02-26 10:51:03,402 - DEBUG - Order OrderID 231
2018-02-26 10:51:03,403 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:51:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 10:51:03,403 - DEBUG - Order Identification 231
2018-02-26 10:51:03,404 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:51:03,404 - DEBUG - Profit ID from database is 0
2018-02-26 10:51:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:51:03,404 - DEBUG - Stop ID database is 231
2018-02-26 10:51:03,404 - DEBUG - Entry ID database is 230
2018-02-26 10:51:03,405 - DEBUG - Stop API ID is 231
2018-02-26 10:51:05,398 - DEBUG - Connecting to database
2018-02-26 10:51:05,406 - DEBUG - Connected to database
2018-02-26 10:51:05,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,408 - DEBUG - Stop loss value is 69.25
2018-02-26 10:51:05,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,410 - DEBUG - Stop loss value is 82.575
2018-02-26 10:51:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,412 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:51:05,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,413 - DEBUG - Stop quantity 1
2018-02-26 10:51:05,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,415 - DEBUG - Direction is Long
2018-02-26 10:51:05,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,417 - DEBUG - Count is 1
2018-02-26 10:51:05,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:51:05,418 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:51:05,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:51:05,420 - DEBUG - Max ID Order is (231,)
2018-02-26 10:51:05,421 - DEBUG - Today is 2018-02-26
2018-02-26 10:51:05,421 - DEBUG - Day of the week 0
2018-02-26 10:51:05,421 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:51:05,421 - DEBUG - In Position is  1
2018-02-26 10:51:05,422 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:51:05,422 - DEBUG - curStopLossFlag is  1
2018-02-26 10:51:05,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:51:05,422 - DEBUG - Checking if Entry has been filled
2018-02-26 10:51:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:51:05,425 - DEBUG - EntryPend is 0
2018-02-26 10:51:05,426 - DEBUG - Try to Cancel Stop
2018-02-26 10:51:05,426 - DEBUG - Stop API ID 231
2018-02-26 10:51:05,426 - DEBUG - Profit API ID 0
2018-02-26 10:51:05,426 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:51:05,426 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:51:05,427 - DEBUG - Pos is 1
2018-02-26 10:51:05,427 - DEBUG - CurCount is 1
2018-02-26 10:51:05,427 - DEBUG - In Pos 1
2018-02-26 10:51:05,427 - DEBUG - Stop ID is 231
2018-02-26 10:51:05,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:51:05,429 - DEBUG - EntryPend is 0
2018-02-26 10:51:05,429 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:51:05,429 - DEBUG - Entry Date is 10
2018-02-26 10:51:05,430 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:51:05,430 - DEBUG - Order Profit ID is 0
2018-02-26 10:51:05,430 - DEBUG - Order Entry ID is 230
2018-02-26 10:51:05,430 - DEBUG - API ID is  0
2018-02-26 10:51:05,430 - DEBUG - Current Position is 1
2018-02-26 10:51:05,431 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:51:05,431 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:51:05,431 - DEBUG - Time is 10
2018-02-26 10:51:05,432 - DEBUG - Time is <class 'int'>
2018-02-26 10:51:05,432 - DEBUG - Time is 51
2018-02-26 10:51:05,432 - DEBUG - Time is <class 'int'>
2018-02-26 10:51:05,432 - DEBUG - Disconnected from IBController
2018-02-26 10:51:05,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 10:56:01,345 - DEBUG - ****************************************************
2018-02-26 10:56:01,345 - DEBUG - Current Time is 10:56AM
2018-02-26 10:56:01,346 - DEBUG - Starting Pos Mgmt H E
2018-02-26 10:56:01,346 - DEBUG - Connecting to database
2018-02-26 10:56:01,383 - DEBUG - Connected to database
2018-02-26 10:56:01,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:01,385 - DEBUG - Order Profit is 0
2018-02-26 10:56:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:01,386 - DEBUG - Stop ID is 231
2018-02-26 10:56:01,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:01,388 - DEBUG - Entry ID is 230
2018-02-26 10:56:01,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 10:56:01,389 - DEBUG - OCA ID is 1
2018-02-26 10:56:01,390 - DEBUG - Connecting to IBController
2018-02-26 10:56:02,397 - DEBUG - Connected to IBController
2018-02-26 10:56:02,397 - DEBUG - Position requested
2018-02-26 10:56:02,399 - DEBUG - Pos Mgmt 1
2018-02-26 10:56:02,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, pos=1, avgCost=28732.9>
2018-02-26 10:56:02,400 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 10:56:02,400 - DEBUG - ccy2 Currency with position is USD
2018-02-26 10:56:02,400 - DEBUG - Position is 1
2018-02-26 10:56:02,400 - DEBUG - In Position
2018-02-26 10:56:02,400 - DEBUG - Position is 1
2018-02-26 10:56:02,401 - DEBUG - Pos Mgmt -12987
2018-02-26 10:56:02,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCF8>, pos=-12987, avgCost=0.95368235>
2018-02-26 10:56:02,401 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 10:56:02,401 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 10:56:02,402 - DEBUG - Position is -12987
2018-02-26 10:56:03,399 - DEBUG - Open Orders requested
2018-02-26 10:56:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-26 10:56:03,402 - DEBUG - Order OrderID 225
2018-02-26 10:56:03,402 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:56:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 10:56:03,403 - DEBUG - Order Identification 225
2018-02-26 10:56:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:56:03,403 - DEBUG - Profit ID from database is 0
2018-02-26 10:56:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:56:03,404 - DEBUG - Stop ID database is 231
2018-02-26 10:56:03,404 - DEBUG - Entry ID database is 230
2018-02-26 10:56:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2198>>
2018-02-26 10:56:03,405 - DEBUG - Order OrderID 231
2018-02-26 10:56:03,406 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 10:56:03,406 - DEBUG - Order status PreSubmitted
2018-02-26 10:56:03,406 - DEBUG - Order Identification 231
2018-02-26 10:56:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-26 10:56:03,407 - DEBUG - Profit ID from database is 0
2018-02-26 10:56:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 10:56:03,407 - DEBUG - Stop ID database is 231
2018-02-26 10:56:03,407 - DEBUG - Entry ID database is 230
2018-02-26 10:56:03,407 - DEBUG - Stop API ID is 231
2018-02-26 10:56:05,399 - DEBUG - Connecting to database
2018-02-26 10:56:05,406 - DEBUG - Connected to database
2018-02-26 10:56:05,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,408 - DEBUG - Stop loss value is 69.25
2018-02-26 10:56:05,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,410 - DEBUG - Stop loss value is 82.575
2018-02-26 10:56:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,411 - DEBUG - EntryPrice value is 71.87
2018-02-26 10:56:05,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,413 - DEBUG - Stop quantity 1
2018-02-26 10:56:05,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,414 - DEBUG - Direction is Long
2018-02-26 10:56:05,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,416 - DEBUG - Count is 1
2018-02-26 10:56:05,417 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 10:56:05,418 - DEBUG - Stop Loss Flag is 1
2018-02-26 10:56:05,419 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 10:56:05,419 - DEBUG - Max ID Order is (231,)
2018-02-26 10:56:05,420 - DEBUG - Today is 2018-02-26
2018-02-26 10:56:05,420 - DEBUG - Day of the week 0
2018-02-26 10:56:05,421 - DEBUG - Yesterday is 02/23/2018
2018-02-26 10:56:05,421 - DEBUG - In Position is  1
2018-02-26 10:56:05,421 - DEBUG - In Position is  <class 'int'>
2018-02-26 10:56:05,421 - DEBUG - curStopLossFlag is  1
2018-02-26 10:56:05,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 10:56:05,422 - DEBUG - Checking if Entry has been filled
2018-02-26 10:56:05,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:56:05,423 - DEBUG - EntryPend is 0
2018-02-26 10:56:05,423 - DEBUG - Try to Cancel Stop
2018-02-26 10:56:05,424 - DEBUG - Stop API ID 231
2018-02-26 10:56:05,424 - DEBUG - Profit API ID 0
2018-02-26 10:56:05,424 - DEBUG - Stop API ID <class 'int'>
2018-02-26 10:56:05,424 - DEBUG - Profit API ID <class 'int'>
2018-02-26 10:56:05,425 - DEBUG - Pos is 1
2018-02-26 10:56:05,425 - DEBUG - CurCount is 1
2018-02-26 10:56:05,425 - DEBUG - In Pos 1
2018-02-26 10:56:05,425 - DEBUG - Stop ID is 231
2018-02-26 10:56:05,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 10:56:05,427 - DEBUG - EntryPend is 0
2018-02-26 10:56:05,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 10:56:05,427 - DEBUG - Entry Date is 10
2018-02-26 10:56:05,428 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 10:56:05,428 - DEBUG - Order Profit ID is 0
2018-02-26 10:56:05,428 - DEBUG - Order Entry ID is 230
2018-02-26 10:56:05,428 - DEBUG - API ID is  0
2018-02-26 10:56:05,428 - DEBUG - Current Position is 1
2018-02-26 10:56:05,429 - DEBUG - Current Position is <class 'str'>
2018-02-26 10:56:05,429 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 10:56:05,429 - DEBUG - Time is 10
2018-02-26 10:56:05,429 - DEBUG - Time is <class 'int'>
2018-02-26 10:56:05,429 - DEBUG - Time is 56
2018-02-26 10:56:05,430 - DEBUG - Time is <class 'int'>
2018-02-26 10:56:05,430 - DEBUG - Disconnected from IBController
2018-02-26 10:56:05,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:01:01,349 - DEBUG - ****************************************************
2018-02-26 11:01:01,349 - DEBUG - Current Time is 11:01AM
2018-02-26 11:01:01,350 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:01:01,350 - DEBUG - Connecting to database
2018-02-26 11:01:01,405 - DEBUG - Connected to database
2018-02-26 11:01:01,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:01,417 - DEBUG - Order Profit is 0
2018-02-26 11:01:01,417 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:01,453 - DEBUG - Stop ID is 231
2018-02-26 11:01:01,453 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:01,457 - DEBUG - Entry ID is 230
2018-02-26 11:01:01,458 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:01:01,459 - DEBUG - OCA ID is 1
2018-02-26 11:01:01,459 - DEBUG - Connecting to IBController
2018-02-26 11:01:02,465 - DEBUG - Connected to IBController
2018-02-26 11:01:02,465 - DEBUG - Position requested
2018-02-26 11:01:02,467 - DEBUG - Pos Mgmt 1
2018-02-26 11:01:02,467 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, pos=1, avgCost=28732.9>
2018-02-26 11:01:02,467 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:01:02,468 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:01:02,468 - DEBUG - Position is 1
2018-02-26 11:01:02,468 - DEBUG - In Position
2018-02-26 11:01:02,468 - DEBUG - Position is 1
2018-02-26 11:01:02,469 - DEBUG - Pos Mgmt -12987
2018-02-26 11:01:02,469 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CCF8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:01:02,469 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:01:02,470 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:01:02,470 - DEBUG - Position is -12987
2018-02-26 11:01:03,466 - DEBUG - Open Orders requested
2018-02-26 11:01:03,478 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, order=<ib.ext.Order.Order object at 0x000000000204CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-26 11:01:03,479 - DEBUG - Order OrderID 225
2018-02-26 11:01:03,479 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:01:03,480 - DEBUG - Order status PreSubmitted
2018-02-26 11:01:03,480 - DEBUG - Order Identification 225
2018-02-26 11:01:03,480 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:01:03,480 - DEBUG - Profit ID from database is 0
2018-02-26 11:01:03,481 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:01:03,481 - DEBUG - Stop ID database is 231
2018-02-26 11:01:03,481 - DEBUG - Entry ID database is 230
2018-02-26 11:01:03,482 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000204CFD0>, order=<ib.ext.Order.Order object at 0x000000000204CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2198>>
2018-02-26 11:01:03,483 - DEBUG - Order OrderID 231
2018-02-26 11:01:03,483 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:01:03,483 - DEBUG - Order status PreSubmitted
2018-02-26 11:01:03,483 - DEBUG - Order Identification 231
2018-02-26 11:01:03,484 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:01:03,484 - DEBUG - Profit ID from database is 0
2018-02-26 11:01:03,484 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:01:03,484 - DEBUG - Stop ID database is 231
2018-02-26 11:01:03,484 - DEBUG - Entry ID database is 230
2018-02-26 11:01:03,485 - DEBUG - Stop API ID is 231
2018-02-26 11:01:05,466 - DEBUG - Connecting to database
2018-02-26 11:01:05,473 - DEBUG - Connected to database
2018-02-26 11:01:05,475 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,475 - DEBUG - Stop loss value is 69.25
2018-02-26 11:01:05,477 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,477 - DEBUG - Stop loss value is 82.575
2018-02-26 11:01:05,478 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,479 - DEBUG - EntryPrice value is 71.87
2018-02-26 11:01:05,480 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,480 - DEBUG - Stop quantity 1
2018-02-26 11:01:05,482 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,482 - DEBUG - Direction is Long
2018-02-26 11:01:05,483 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,484 - DEBUG - Count is 1
2018-02-26 11:01:05,485 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:01:05,486 - DEBUG - Stop Loss Flag is 1
2018-02-26 11:01:05,487 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:01:05,487 - DEBUG - Max ID Order is (231,)
2018-02-26 11:01:05,488 - DEBUG - Today is 2018-02-26
2018-02-26 11:01:05,488 - DEBUG - Day of the week 0
2018-02-26 11:01:05,488 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:01:05,489 - DEBUG - In Position is  1
2018-02-26 11:01:05,489 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:01:05,489 - DEBUG - curStopLossFlag is  1
2018-02-26 11:01:05,489 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:01:05,490 - DEBUG - Checking if Entry has been filled
2018-02-26 11:01:05,490 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:01:05,491 - DEBUG - EntryPend is 0
2018-02-26 11:01:05,492 - DEBUG - Try to Cancel Stop
2018-02-26 11:01:05,492 - DEBUG - Stop API ID 231
2018-02-26 11:01:05,492 - DEBUG - Profit API ID 0
2018-02-26 11:01:05,492 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:01:05,493 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:01:05,493 - DEBUG - Pos is 1
2018-02-26 11:01:05,493 - DEBUG - CurCount is 1
2018-02-26 11:01:05,493 - DEBUG - In Pos 1
2018-02-26 11:01:05,493 - DEBUG - Stop ID is 231
2018-02-26 11:01:05,494 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:01:05,495 - DEBUG - EntryPend is 0
2018-02-26 11:01:05,495 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:01:05,496 - DEBUG - Entry Date is 10
2018-02-26 11:01:05,496 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:01:05,496 - DEBUG - Order Profit ID is 0
2018-02-26 11:01:05,496 - DEBUG - Order Entry ID is 230
2018-02-26 11:01:05,496 - DEBUG - API ID is  0
2018-02-26 11:01:05,497 - DEBUG - Current Position is 1
2018-02-26 11:01:05,497 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:01:05,497 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:01:05,497 - DEBUG - Time is 11
2018-02-26 11:01:05,497 - DEBUG - Time is <class 'int'>
2018-02-26 11:01:05,498 - DEBUG - Time is 1
2018-02-26 11:01:05,498 - DEBUG - Time is <class 'int'>
2018-02-26 11:01:05,498 - DEBUG - Disconnected from IBController
2018-02-26 11:01:05,499 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:06:01,350 - DEBUG - ****************************************************
2018-02-26 11:06:01,351 - DEBUG - Current Time is 11:06AM
2018-02-26 11:06:01,351 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:06:01,352 - DEBUG - Connecting to database
2018-02-26 11:06:01,387 - DEBUG - Connected to database
2018-02-26 11:06:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:01,389 - DEBUG - Order Profit is 0
2018-02-26 11:06:01,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:01,390 - DEBUG - Stop ID is 231
2018-02-26 11:06:01,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:01,392 - DEBUG - Entry ID is 230
2018-02-26 11:06:01,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:06:01,394 - DEBUG - OCA ID is 1
2018-02-26 11:06:01,394 - DEBUG - Connecting to IBController
2018-02-26 11:06:02,399 - DEBUG - Connected to IBController
2018-02-26 11:06:02,399 - DEBUG - Position requested
2018-02-26 11:06:02,401 - DEBUG - Pos Mgmt 1
2018-02-26 11:06:02,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209BE10>, pos=1, avgCost=28732.9>
2018-02-26 11:06:02,401 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:06:02,402 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:06:02,402 - DEBUG - Position is 1
2018-02-26 11:06:02,402 - DEBUG - In Position
2018-02-26 11:06:02,402 - DEBUG - Position is 1
2018-02-26 11:06:02,403 - DEBUG - Pos Mgmt -12987
2018-02-26 11:06:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209BAC8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:06:02,403 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:06:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:06:02,404 - DEBUG - Position is -12987
2018-02-26 11:06:03,401 - DEBUG - Open Orders requested
2018-02-26 11:06:03,403 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209BF28>, order=<ib.ext.Order.Order object at 0x000000000209BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130198>>
2018-02-26 11:06:03,404 - DEBUG - Order OrderID 225
2018-02-26 11:06:03,404 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:06:03,404 - DEBUG - Order status PreSubmitted
2018-02-26 11:06:03,405 - DEBUG - Order Identification 225
2018-02-26 11:06:03,405 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:06:03,405 - DEBUG - Profit ID from database is 0
2018-02-26 11:06:03,405 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:06:03,406 - DEBUG - Stop ID database is 231
2018-02-26 11:06:03,406 - DEBUG - Entry ID database is 230
2018-02-26 11:06:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=231, contract=<ib.ext.Contract.Contract object at 0x000000000209BF28>, order=<ib.ext.Order.Order object at 0x000000000209BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002130160>>
2018-02-26 11:06:03,407 - DEBUG - Order OrderID 231
2018-02-26 11:06:03,408 - DEBUG - reply handler status <orderStatus orderId=231, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=480011421, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:06:03,408 - DEBUG - Order status PreSubmitted
2018-02-26 11:06:03,408 - DEBUG - Order Identification 231
2018-02-26 11:06:03,408 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:06:03,409 - DEBUG - Profit ID from database is 0
2018-02-26 11:06:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:06:03,409 - DEBUG - Stop ID database is 231
2018-02-26 11:06:03,409 - DEBUG - Entry ID database is 230
2018-02-26 11:06:03,409 - DEBUG - Stop API ID is 231
2018-02-26 11:06:05,403 - DEBUG - Connecting to database
2018-02-26 11:06:05,410 - DEBUG - Connected to database
2018-02-26 11:06:05,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,412 - DEBUG - Stop loss value is 69.25
2018-02-26 11:06:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,414 - DEBUG - Stop loss value is 82.575
2018-02-26 11:06:05,415 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,415 - DEBUG - EntryPrice value is 71.87
2018-02-26 11:06:05,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,417 - DEBUG - Stop quantity 1
2018-02-26 11:06:05,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,419 - DEBUG - Direction is Long
2018-02-26 11:06:05,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,420 - DEBUG - Count is 1
2018-02-26 11:06:05,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:06:05,422 - DEBUG - Stop Loss Flag is 1
2018-02-26 11:06:05,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:06:05,424 - DEBUG - Max ID Order is (231,)
2018-02-26 11:06:05,424 - DEBUG - Today is 2018-02-26
2018-02-26 11:06:05,424 - DEBUG - Day of the week 0
2018-02-26 11:06:05,425 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:06:05,425 - DEBUG - In Position is  1
2018-02-26 11:06:05,425 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:06:05,425 - DEBUG - curStopLossFlag is  1
2018-02-26 11:06:05,425 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:06:05,426 - DEBUG - Checking if Entry has been filled
2018-02-26 11:06:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:06:05,427 - DEBUG - EntryPend is 0
2018-02-26 11:06:05,428 - DEBUG - Try to Cancel Stop
2018-02-26 11:06:05,428 - DEBUG - Stop API ID 231
2018-02-26 11:06:05,428 - DEBUG - Profit API ID 0
2018-02-26 11:06:05,428 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:06:05,428 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:06:05,429 - DEBUG - Pos is 1
2018-02-26 11:06:05,429 - DEBUG - CurCount is 1
2018-02-26 11:06:05,429 - DEBUG - In Pos 1
2018-02-26 11:06:05,429 - DEBUG - Stop ID is 231
2018-02-26 11:06:05,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:06:05,431 - DEBUG - EntryPend is 0
2018-02-26 11:06:05,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:06:05,431 - DEBUG - Entry Date is 10
2018-02-26 11:06:05,431 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:06:05,431 - DEBUG - Order Profit ID is 0
2018-02-26 11:06:05,432 - DEBUG - Order Entry ID is 230
2018-02-26 11:06:05,432 - DEBUG - API ID is  0
2018-02-26 11:06:05,432 - DEBUG - Current Position is 1
2018-02-26 11:06:05,432 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:06:05,432 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:06:05,433 - DEBUG - Time is 11
2018-02-26 11:06:05,433 - DEBUG - Time is <class 'int'>
2018-02-26 11:06:05,433 - DEBUG - Time is 6
2018-02-26 11:06:05,433 - DEBUG - Time is <class 'int'>
2018-02-26 11:06:05,434 - DEBUG - Disconnected from IBController
2018-02-26 11:06:05,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:11:01,349 - DEBUG - ****************************************************
2018-02-26 11:11:01,349 - DEBUG - Current Time is 11:11AM
2018-02-26 11:11:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:11:01,350 - DEBUG - Connecting to database
2018-02-26 11:11:01,370 - DEBUG - Connected to database
2018-02-26 11:11:01,370 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:01,371 - DEBUG - Order Profit is 0
2018-02-26 11:11:01,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:01,373 - DEBUG - Stop ID is 231
2018-02-26 11:11:01,373 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:01,375 - DEBUG - Entry ID is 230
2018-02-26 11:11:01,376 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:11:01,377 - DEBUG - OCA ID is 1
2018-02-26 11:11:01,377 - DEBUG - Connecting to IBController
2018-02-26 11:11:02,383 - DEBUG - Connected to IBController
2018-02-26 11:11:02,383 - DEBUG - Position requested
2018-02-26 11:11:02,385 - DEBUG - Pos Mgmt 0
2018-02-26 11:11:02,385 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BDA0>, pos=0, avgCost=0.0>
2018-02-26 11:11:02,385 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:11:02,386 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:11:02,386 - DEBUG - Position is 0
2018-02-26 11:11:02,387 - DEBUG - Pos Mgmt -12987
2018-02-26 11:11:02,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BCC0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:11:02,387 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:11:02,387 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:11:02,387 - DEBUG - Position is -12987
2018-02-26 11:11:03,384 - DEBUG - Open Orders requested
2018-02-26 11:11:03,386 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203BE48>, order=<ib.ext.Order.Order object at 0x000000000203BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0128>>
2018-02-26 11:11:03,386 - DEBUG - Order OrderID 225
2018-02-26 11:11:03,387 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:11:03,387 - DEBUG - Order status PreSubmitted
2018-02-26 11:11:03,388 - DEBUG - Order Identification 225
2018-02-26 11:11:03,388 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:11:03,388 - DEBUG - Profit ID from database is 0
2018-02-26 11:11:03,388 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:11:03,389 - DEBUG - Stop ID database is 231
2018-02-26 11:11:03,389 - DEBUG - Entry ID database is 230
2018-02-26 11:11:05,386 - DEBUG - Connecting to database
2018-02-26 11:11:05,393 - DEBUG - Connected to database
2018-02-26 11:11:05,395 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,395 - DEBUG - Stop loss value is 69.25
2018-02-26 11:11:05,396 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,397 - DEBUG - Stop loss value is 82.575
2018-02-26 11:11:05,398 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,399 - DEBUG - EntryPrice value is 71.87
2018-02-26 11:11:05,400 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,400 - DEBUG - Stop quantity 1
2018-02-26 11:11:05,402 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,402 - DEBUG - Direction is Long
2018-02-26 11:11:05,403 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,404 - DEBUG - Count is 1
2018-02-26 11:11:05,405 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:11:05,405 - DEBUG - Stop Loss Flag is 1
2018-02-26 11:11:05,407 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:11:05,407 - DEBUG - Max ID Order is (231,)
2018-02-26 11:11:05,407 - DEBUG - Today is 2018-02-26
2018-02-26 11:11:05,408 - DEBUG - Day of the week 0
2018-02-26 11:11:05,408 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:11:05,408 - DEBUG - In Position is  0
2018-02-26 11:11:05,409 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:11:05,409 - DEBUG - curStopLossFlag is  1
2018-02-26 11:11:05,409 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:11:05,409 - DEBUG - Checking if Entry has been filled
2018-02-26 11:11:05,409 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:11:05,411 - DEBUG - EntryPend is 0
2018-02-26 11:11:05,411 - DEBUG - Try to Cancel Stop
2018-02-26 11:11:05,411 - DEBUG - Stop API ID 0
2018-02-26 11:11:05,411 - DEBUG - Profit API ID 0
2018-02-26 11:11:05,412 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:11:05,412 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:11:05,412 - DEBUG - Pos is 0
2018-02-26 11:11:05,412 - DEBUG - CurCount is 1
2018-02-26 11:11:05,413 - DEBUG - In Pos 0
2018-02-26 11:11:05,413 - DEBUG - Stop ID is 231
2018-02-26 11:11:05,413 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:11:05,414 - DEBUG - EntryPend is 0
2018-02-26 11:11:05,415 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:11:05,415 - DEBUG - Stop Loss Hit! Clearing Position information
2018-02-26 11:11:05,415 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 231;
2018-02-26 11:11:05,429 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 11:11:05,444 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY ='HE';
2018-02-26 11:11:05,459 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 11:11:05,475 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 11:11:05,489 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 11:11:05,504 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 0 where CCY = 'HE'
2018-02-26 11:11:05,519 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 11:11:05,533 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 11:11:05,549 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 11:11:05,564 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 11:11:05,579 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 11:11:05,594 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 11:11:05,609 - DEBUG - Max Positions is (-11.0,)
2018-02-26 11:11:05,610 - DEBUG - Max Positions is -11.0
2018-02-26 11:11:05,610 - DEBUG - Query is UPDATE RiskParameters SET RiskParametersValue = -12.0 where idRiskParameters = 15
2018-02-26 11:11:05,625 - DEBUG - Entry Date is 10
2018-02-26 11:11:05,626 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:11:05,626 - DEBUG - Order Profit ID is 0
2018-02-26 11:11:05,626 - DEBUG - Order Entry ID is 230
2018-02-26 11:11:05,626 - DEBUG - API ID is  0
2018-02-26 11:11:05,627 - DEBUG - Current Position is 1
2018-02-26 11:11:05,627 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:11:05,627 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:11:05,627 - DEBUG - Time is 11
2018-02-26 11:11:05,628 - DEBUG - Time is <class 'int'>
2018-02-26 11:11:05,628 - DEBUG - Time is 11
2018-02-26 11:11:05,628 - DEBUG - Time is <class 'int'>
2018-02-26 11:11:05,628 - DEBUG - Disconnected from IBController
2018-02-26 11:11:05,629 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:16:01,346 - DEBUG - ****************************************************
2018-02-26 11:16:01,347 - DEBUG - Current Time is 11:16AM
2018-02-26 11:16:01,347 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:16:01,347 - DEBUG - Connecting to database
2018-02-26 11:16:01,387 - DEBUG - Connected to database
2018-02-26 11:16:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:01,390 - DEBUG - Order Profit is 0
2018-02-26 11:16:01,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:01,391 - DEBUG - Stop ID is 0
2018-02-26 11:16:01,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:01,393 - DEBUG - Entry ID is 0
2018-02-26 11:16:01,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:16:01,394 - DEBUG - OCA ID is 1
2018-02-26 11:16:01,395 - DEBUG - Connecting to IBController
2018-02-26 11:16:02,401 - DEBUG - Connected to IBController
2018-02-26 11:16:02,401 - DEBUG - Position requested
2018-02-26 11:16:02,403 - DEBUG - Pos Mgmt 0
2018-02-26 11:16:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA90>, pos=0, avgCost=0.0>
2018-02-26 11:16:02,403 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:16:02,404 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:16:02,404 - DEBUG - Position is 0
2018-02-26 11:16:02,404 - DEBUG - Pos Mgmt -12987
2018-02-26 11:16:02,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:16:02,405 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:16:02,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:16:02,405 - DEBUG - Position is -12987
2018-02-26 11:16:03,403 - DEBUG - Open Orders requested
2018-02-26 11:16:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 11:16:03,405 - DEBUG - Order OrderID 225
2018-02-26 11:16:03,406 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:16:03,406 - DEBUG - Order status PreSubmitted
2018-02-26 11:16:03,407 - DEBUG - Order Identification 225
2018-02-26 11:16:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:16:03,407 - DEBUG - Profit ID from database is 0
2018-02-26 11:16:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:16:03,408 - DEBUG - Stop ID database is 0
2018-02-26 11:16:03,408 - DEBUG - Entry ID database is 0
2018-02-26 11:16:05,405 - DEBUG - Connecting to database
2018-02-26 11:16:05,412 - DEBUG - Connected to database
2018-02-26 11:16:05,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,414 - DEBUG - Stop loss value is 0
2018-02-26 11:16:05,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,416 - DEBUG - Stop loss value is 0
2018-02-26 11:16:05,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,417 - DEBUG - EntryPrice value is 0
2018-02-26 11:16:05,419 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,419 - DEBUG - Stop quantity 0
2018-02-26 11:16:05,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,420 - DEBUG - Direction is 0
2018-02-26 11:16:05,422 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,422 - DEBUG - Count is 0
2018-02-26 11:16:05,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:16:05,424 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:16:05,425 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:16:05,426 - DEBUG - Max ID Order is (231,)
2018-02-26 11:16:05,426 - DEBUG - Today is 2018-02-26
2018-02-26 11:16:05,426 - DEBUG - Day of the week 0
2018-02-26 11:16:05,427 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:16:05,427 - DEBUG - In Position is  0
2018-02-26 11:16:05,427 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:16:05,427 - DEBUG - curStopLossFlag is  0
2018-02-26 11:16:05,428 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:16:05,428 - DEBUG - Checking if Entry has been filled
2018-02-26 11:16:05,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:16:05,429 - DEBUG - EntryPend is 0
2018-02-26 11:16:05,430 - DEBUG - Try to Cancel Stop
2018-02-26 11:16:05,430 - DEBUG - Stop API ID 0
2018-02-26 11:16:05,430 - DEBUG - Profit API ID 0
2018-02-26 11:16:05,430 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:16:05,431 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:16:05,431 - DEBUG - Pos is 0
2018-02-26 11:16:05,431 - DEBUG - CurCount is 0
2018-02-26 11:16:05,431 - DEBUG - In Pos 0
2018-02-26 11:16:05,431 - DEBUG - Stop ID is 0
2018-02-26 11:16:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:16:05,433 - DEBUG - EntryPend is 0
2018-02-26 11:16:05,433 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:16:05,434 - DEBUG - Entry Date is 10
2018-02-26 11:16:05,434 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:16:05,434 - DEBUG - Order Profit ID is 0
2018-02-26 11:16:05,434 - DEBUG - Order Entry ID is 0
2018-02-26 11:16:05,435 - DEBUG - API ID is  0
2018-02-26 11:16:05,435 - DEBUG - Current Position is 0
2018-02-26 11:16:05,435 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:16:05,435 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:16:05,435 - DEBUG - Time is 11
2018-02-26 11:16:05,436 - DEBUG - Time is <class 'int'>
2018-02-26 11:16:05,436 - DEBUG - Time is 16
2018-02-26 11:16:05,436 - DEBUG - Time is <class 'int'>
2018-02-26 11:16:05,436 - DEBUG - Disconnected from IBController
2018-02-26 11:16:05,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:21:01,348 - DEBUG - ****************************************************
2018-02-26 11:21:01,349 - DEBUG - Current Time is 11:21AM
2018-02-26 11:21:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:21:01,349 - DEBUG - Connecting to database
2018-02-26 11:21:01,387 - DEBUG - Connected to database
2018-02-26 11:21:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:01,388 - DEBUG - Order Profit is 0
2018-02-26 11:21:01,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:01,390 - DEBUG - Stop ID is 0
2018-02-26 11:21:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:01,392 - DEBUG - Entry ID is 0
2018-02-26 11:21:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:21:01,393 - DEBUG - OCA ID is 1
2018-02-26 11:21:01,394 - DEBUG - Connecting to IBController
2018-02-26 11:21:02,400 - DEBUG - Connected to IBController
2018-02-26 11:21:02,400 - DEBUG - Position requested
2018-02-26 11:21:02,402 - DEBUG - Pos Mgmt 0
2018-02-26 11:21:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, pos=0, avgCost=0.0>
2018-02-26 11:21:02,402 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:21:02,403 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:21:02,403 - DEBUG - Position is 0
2018-02-26 11:21:02,403 - DEBUG - Pos Mgmt -12987
2018-02-26 11:21:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:21:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:21:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:21:02,404 - DEBUG - Position is -12987
2018-02-26 11:21:03,402 - DEBUG - Open Orders requested
2018-02-26 11:21:03,404 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, order=<ib.ext.Order.Order object at 0x000000000207CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-26 11:21:03,404 - DEBUG - Order OrderID 225
2018-02-26 11:21:03,405 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:21:03,405 - DEBUG - Order status PreSubmitted
2018-02-26 11:21:03,406 - DEBUG - Order Identification 225
2018-02-26 11:21:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:21:03,406 - DEBUG - Profit ID from database is 0
2018-02-26 11:21:03,406 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:21:03,407 - DEBUG - Stop ID database is 0
2018-02-26 11:21:03,407 - DEBUG - Entry ID database is 0
2018-02-26 11:21:05,404 - DEBUG - Connecting to database
2018-02-26 11:21:05,411 - DEBUG - Connected to database
2018-02-26 11:21:05,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,413 - DEBUG - Stop loss value is 0
2018-02-26 11:21:05,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,415 - DEBUG - Stop loss value is 0
2018-02-26 11:21:05,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,417 - DEBUG - EntryPrice value is 0
2018-02-26 11:21:05,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,418 - DEBUG - Stop quantity 0
2018-02-26 11:21:05,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,420 - DEBUG - Direction is 0
2018-02-26 11:21:05,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,421 - DEBUG - Count is 0
2018-02-26 11:21:05,423 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:21:05,423 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:21:05,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:21:05,425 - DEBUG - Max ID Order is (231,)
2018-02-26 11:21:05,425 - DEBUG - Today is 2018-02-26
2018-02-26 11:21:05,426 - DEBUG - Day of the week 0
2018-02-26 11:21:05,426 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:21:05,426 - DEBUG - In Position is  0
2018-02-26 11:21:05,426 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:21:05,427 - DEBUG - curStopLossFlag is  0
2018-02-26 11:21:05,427 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:21:05,427 - DEBUG - Checking if Entry has been filled
2018-02-26 11:21:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:21:05,429 - DEBUG - EntryPend is 0
2018-02-26 11:21:05,429 - DEBUG - Try to Cancel Stop
2018-02-26 11:21:05,429 - DEBUG - Stop API ID 0
2018-02-26 11:21:05,429 - DEBUG - Profit API ID 0
2018-02-26 11:21:05,429 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:21:05,430 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:21:05,430 - DEBUG - Pos is 0
2018-02-26 11:21:05,430 - DEBUG - CurCount is 0
2018-02-26 11:21:05,430 - DEBUG - In Pos 0
2018-02-26 11:21:05,431 - DEBUG - Stop ID is 0
2018-02-26 11:21:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:21:05,432 - DEBUG - EntryPend is 0
2018-02-26 11:21:05,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:21:05,433 - DEBUG - Entry Date is 10
2018-02-26 11:21:05,433 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:21:05,433 - DEBUG - Order Profit ID is 0
2018-02-26 11:21:05,433 - DEBUG - Order Entry ID is 0
2018-02-26 11:21:05,434 - DEBUG - API ID is  0
2018-02-26 11:21:05,434 - DEBUG - Current Position is 0
2018-02-26 11:21:05,434 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:21:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:21:05,434 - DEBUG - Time is 11
2018-02-26 11:21:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 11:21:05,435 - DEBUG - Time is 21
2018-02-26 11:21:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 11:21:05,435 - DEBUG - Disconnected from IBController
2018-02-26 11:21:05,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:26:01,348 - DEBUG - ****************************************************
2018-02-26 11:26:01,348 - DEBUG - Current Time is 11:26AM
2018-02-26 11:26:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:26:01,349 - DEBUG - Connecting to database
2018-02-26 11:26:01,412 - DEBUG - Connected to database
2018-02-26 11:26:01,412 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:01,414 - DEBUG - Order Profit is 0
2018-02-26 11:26:01,414 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:01,415 - DEBUG - Stop ID is 0
2018-02-26 11:26:01,416 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:01,417 - DEBUG - Entry ID is 0
2018-02-26 11:26:01,417 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:26:01,418 - DEBUG - OCA ID is 1
2018-02-26 11:26:01,419 - DEBUG - Connecting to IBController
2018-02-26 11:26:02,425 - DEBUG - Connected to IBController
2018-02-26 11:26:02,425 - DEBUG - Position requested
2018-02-26 11:26:02,427 - DEBUG - Pos Mgmt 0
2018-02-26 11:26:02,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=0, avgCost=0.0>
2018-02-26 11:26:02,427 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:26:02,428 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:26:02,428 - DEBUG - Position is 0
2018-02-26 11:26:02,428 - DEBUG - Pos Mgmt -12987
2018-02-26 11:26:02,429 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:26:02,429 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:26:02,429 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:26:02,429 - DEBUG - Position is -12987
2018-02-26 11:26:03,426 - DEBUG - Open Orders requested
2018-02-26 11:26:03,428 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-26 11:26:03,428 - DEBUG - Order OrderID 225
2018-02-26 11:26:03,429 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:26:03,429 - DEBUG - Order status PreSubmitted
2018-02-26 11:26:03,429 - DEBUG - Order Identification 225
2018-02-26 11:26:03,430 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:26:03,430 - DEBUG - Profit ID from database is 0
2018-02-26 11:26:03,430 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:26:03,430 - DEBUG - Stop ID database is 0
2018-02-26 11:26:03,431 - DEBUG - Entry ID database is 0
2018-02-26 11:26:05,428 - DEBUG - Connecting to database
2018-02-26 11:26:05,435 - DEBUG - Connected to database
2018-02-26 11:26:05,437 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,437 - DEBUG - Stop loss value is 0
2018-02-26 11:26:05,439 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,439 - DEBUG - Stop loss value is 0
2018-02-26 11:26:05,440 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,441 - DEBUG - EntryPrice value is 0
2018-02-26 11:26:05,442 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,442 - DEBUG - Stop quantity 0
2018-02-26 11:26:05,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,444 - DEBUG - Direction is 0
2018-02-26 11:26:05,445 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,446 - DEBUG - Count is 0
2018-02-26 11:26:05,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:26:05,447 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:26:05,449 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:26:05,449 - DEBUG - Max ID Order is (231,)
2018-02-26 11:26:05,449 - DEBUG - Today is 2018-02-26
2018-02-26 11:26:05,450 - DEBUG - Day of the week 0
2018-02-26 11:26:05,450 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:26:05,450 - DEBUG - In Position is  0
2018-02-26 11:26:05,451 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:26:05,451 - DEBUG - curStopLossFlag is  0
2018-02-26 11:26:05,451 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:26:05,451 - DEBUG - Checking if Entry has been filled
2018-02-26 11:26:05,451 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:26:05,453 - DEBUG - EntryPend is 0
2018-02-26 11:26:05,453 - DEBUG - Try to Cancel Stop
2018-02-26 11:26:05,453 - DEBUG - Stop API ID 0
2018-02-26 11:26:05,454 - DEBUG - Profit API ID 0
2018-02-26 11:26:05,454 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:26:05,454 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:26:05,455 - DEBUG - Pos is 0
2018-02-26 11:26:05,455 - DEBUG - CurCount is 0
2018-02-26 11:26:05,455 - DEBUG - In Pos 0
2018-02-26 11:26:05,455 - DEBUG - Stop ID is 0
2018-02-26 11:26:05,455 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:26:05,457 - DEBUG - EntryPend is 0
2018-02-26 11:26:05,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:26:05,457 - DEBUG - Entry Date is 10
2018-02-26 11:26:05,458 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:26:05,458 - DEBUG - Order Profit ID is 0
2018-02-26 11:26:05,458 - DEBUG - Order Entry ID is 0
2018-02-26 11:26:05,458 - DEBUG - API ID is  0
2018-02-26 11:26:05,459 - DEBUG - Current Position is 0
2018-02-26 11:26:05,459 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:26:05,459 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:26:05,459 - DEBUG - Time is 11
2018-02-26 11:26:05,459 - DEBUG - Time is <class 'int'>
2018-02-26 11:26:05,460 - DEBUG - Time is 26
2018-02-26 11:26:05,460 - DEBUG - Time is <class 'int'>
2018-02-26 11:26:05,460 - DEBUG - Disconnected from IBController
2018-02-26 11:26:05,461 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:31:01,348 - DEBUG - ****************************************************
2018-02-26 11:31:01,348 - DEBUG - Current Time is 11:31AM
2018-02-26 11:31:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:31:01,349 - DEBUG - Connecting to database
2018-02-26 11:31:01,372 - DEBUG - Connected to database
2018-02-26 11:31:01,373 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:01,374 - DEBUG - Order Profit is 0
2018-02-26 11:31:01,375 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:01,376 - DEBUG - Stop ID is 0
2018-02-26 11:31:01,376 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:01,378 - DEBUG - Entry ID is 0
2018-02-26 11:31:01,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:31:01,379 - DEBUG - OCA ID is 1
2018-02-26 11:31:01,380 - DEBUG - Connecting to IBController
2018-02-26 11:31:02,386 - DEBUG - Connected to IBController
2018-02-26 11:31:02,386 - DEBUG - Position requested
2018-02-26 11:31:02,388 - DEBUG - Pos Mgmt 0
2018-02-26 11:31:02,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CDD8>, pos=0, avgCost=0.0>
2018-02-26 11:31:02,388 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:31:02,389 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:31:02,389 - DEBUG - Position is 0
2018-02-26 11:31:02,389 - DEBUG - Pos Mgmt -12987
2018-02-26 11:31:02,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:31:02,390 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:31:02,390 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:31:02,390 - DEBUG - Position is -12987
2018-02-26 11:31:03,387 - DEBUG - Open Orders requested
2018-02-26 11:31:03,389 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CD30>, order=<ib.ext.Order.Order object at 0x000000000205CAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-26 11:31:03,390 - DEBUG - Order OrderID 225
2018-02-26 11:31:03,390 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:31:03,390 - DEBUG - Order status PreSubmitted
2018-02-26 11:31:03,391 - DEBUG - Order Identification 225
2018-02-26 11:31:03,391 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:31:03,391 - DEBUG - Profit ID from database is 0
2018-02-26 11:31:03,392 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:31:03,392 - DEBUG - Stop ID database is 0
2018-02-26 11:31:03,392 - DEBUG - Entry ID database is 0
2018-02-26 11:31:05,389 - DEBUG - Connecting to database
2018-02-26 11:31:05,396 - DEBUG - Connected to database
2018-02-26 11:31:05,397 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,398 - DEBUG - Stop loss value is 0
2018-02-26 11:31:05,399 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,400 - DEBUG - Stop loss value is 0
2018-02-26 11:31:05,401 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,401 - DEBUG - EntryPrice value is 0
2018-02-26 11:31:05,403 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,403 - DEBUG - Stop quantity 0
2018-02-26 11:31:05,404 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,405 - DEBUG - Direction is 0
2018-02-26 11:31:05,406 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,406 - DEBUG - Count is 0
2018-02-26 11:31:05,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:31:05,408 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:31:05,409 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:31:05,409 - DEBUG - Max ID Order is (231,)
2018-02-26 11:31:05,410 - DEBUG - Today is 2018-02-26
2018-02-26 11:31:05,410 - DEBUG - Day of the week 0
2018-02-26 11:31:05,410 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:31:05,411 - DEBUG - In Position is  0
2018-02-26 11:31:05,411 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:31:05,411 - DEBUG - curStopLossFlag is  0
2018-02-26 11:31:05,411 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:31:05,412 - DEBUG - Checking if Entry has been filled
2018-02-26 11:31:05,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:31:05,413 - DEBUG - EntryPend is 0
2018-02-26 11:31:05,413 - DEBUG - Try to Cancel Stop
2018-02-26 11:31:05,414 - DEBUG - Stop API ID 0
2018-02-26 11:31:05,414 - DEBUG - Profit API ID 0
2018-02-26 11:31:05,414 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:31:05,414 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:31:05,415 - DEBUG - Pos is 0
2018-02-26 11:31:05,415 - DEBUG - CurCount is 0
2018-02-26 11:31:05,415 - DEBUG - In Pos 0
2018-02-26 11:31:05,415 - DEBUG - Stop ID is 0
2018-02-26 11:31:05,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:31:05,417 - DEBUG - EntryPend is 0
2018-02-26 11:31:05,417 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:31:05,418 - DEBUG - Entry Date is 10
2018-02-26 11:31:05,418 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:31:05,418 - DEBUG - Order Profit ID is 0
2018-02-26 11:31:05,418 - DEBUG - Order Entry ID is 0
2018-02-26 11:31:05,418 - DEBUG - API ID is  0
2018-02-26 11:31:05,419 - DEBUG - Current Position is 0
2018-02-26 11:31:05,419 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:31:05,419 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:31:05,419 - DEBUG - Time is 11
2018-02-26 11:31:05,420 - DEBUG - Time is <class 'int'>
2018-02-26 11:31:05,420 - DEBUG - Time is 31
2018-02-26 11:31:05,420 - DEBUG - Time is <class 'int'>
2018-02-26 11:31:05,420 - DEBUG - Disconnected from IBController
2018-02-26 11:31:05,421 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:36:01,349 - DEBUG - ****************************************************
2018-02-26 11:36:01,349 - DEBUG - Current Time is 11:36AM
2018-02-26 11:36:01,350 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:36:01,350 - DEBUG - Connecting to database
2018-02-26 11:36:01,374 - DEBUG - Connected to database
2018-02-26 11:36:01,375 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:01,376 - DEBUG - Order Profit is 0
2018-02-26 11:36:01,377 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:01,378 - DEBUG - Stop ID is 0
2018-02-26 11:36:01,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:01,380 - DEBUG - Entry ID is 0
2018-02-26 11:36:01,380 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:36:01,381 - DEBUG - OCA ID is 1
2018-02-26 11:36:01,382 - DEBUG - Connecting to IBController
2018-02-26 11:36:02,387 - DEBUG - Connected to IBController
2018-02-26 11:36:02,387 - DEBUG - Position requested
2018-02-26 11:36:02,389 - DEBUG - Pos Mgmt 0
2018-02-26 11:36:02,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=0, avgCost=0.0>
2018-02-26 11:36:02,389 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:36:02,390 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:36:02,390 - DEBUG - Position is 0
2018-02-26 11:36:02,390 - DEBUG - Pos Mgmt -12987
2018-02-26 11:36:02,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:36:02,391 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:36:02,391 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:36:02,391 - DEBUG - Position is -12987
2018-02-26 11:36:03,389 - DEBUG - Open Orders requested
2018-02-26 11:36:03,391 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-26 11:36:03,391 - DEBUG - Order OrderID 225
2018-02-26 11:36:03,392 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:36:03,392 - DEBUG - Order status PreSubmitted
2018-02-26 11:36:03,392 - DEBUG - Order Identification 225
2018-02-26 11:36:03,393 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:36:03,393 - DEBUG - Profit ID from database is 0
2018-02-26 11:36:03,393 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:36:03,393 - DEBUG - Stop ID database is 0
2018-02-26 11:36:03,394 - DEBUG - Entry ID database is 0
2018-02-26 11:36:05,391 - DEBUG - Connecting to database
2018-02-26 11:36:05,398 - DEBUG - Connected to database
2018-02-26 11:36:05,400 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,400 - DEBUG - Stop loss value is 0
2018-02-26 11:36:05,402 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,402 - DEBUG - Stop loss value is 0
2018-02-26 11:36:05,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,404 - DEBUG - EntryPrice value is 0
2018-02-26 11:36:05,405 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,405 - DEBUG - Stop quantity 0
2018-02-26 11:36:05,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,407 - DEBUG - Direction is 0
2018-02-26 11:36:05,409 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,409 - DEBUG - Count is 0
2018-02-26 11:36:05,410 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:36:05,411 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:36:05,412 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:36:05,412 - DEBUG - Max ID Order is (231,)
2018-02-26 11:36:05,413 - DEBUG - Today is 2018-02-26
2018-02-26 11:36:05,413 - DEBUG - Day of the week 0
2018-02-26 11:36:05,413 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:36:05,413 - DEBUG - In Position is  0
2018-02-26 11:36:05,414 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:36:05,414 - DEBUG - curStopLossFlag is  0
2018-02-26 11:36:05,414 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:36:05,414 - DEBUG - Checking if Entry has been filled
2018-02-26 11:36:05,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:36:05,416 - DEBUG - EntryPend is 0
2018-02-26 11:36:05,416 - DEBUG - Try to Cancel Stop
2018-02-26 11:36:05,417 - DEBUG - Stop API ID 0
2018-02-26 11:36:05,417 - DEBUG - Profit API ID 0
2018-02-26 11:36:05,417 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:36:05,417 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:36:05,418 - DEBUG - Pos is 0
2018-02-26 11:36:05,418 - DEBUG - CurCount is 0
2018-02-26 11:36:05,418 - DEBUG - In Pos 0
2018-02-26 11:36:05,418 - DEBUG - Stop ID is 0
2018-02-26 11:36:05,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:36:05,420 - DEBUG - EntryPend is 0
2018-02-26 11:36:05,420 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:36:05,420 - DEBUG - Entry Date is 10
2018-02-26 11:36:05,421 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:36:05,421 - DEBUG - Order Profit ID is 0
2018-02-26 11:36:05,421 - DEBUG - Order Entry ID is 0
2018-02-26 11:36:05,421 - DEBUG - API ID is  0
2018-02-26 11:36:05,422 - DEBUG - Current Position is 0
2018-02-26 11:36:05,422 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:36:05,422 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:36:05,422 - DEBUG - Time is 11
2018-02-26 11:36:05,423 - DEBUG - Time is <class 'int'>
2018-02-26 11:36:05,423 - DEBUG - Time is 36
2018-02-26 11:36:05,423 - DEBUG - Time is <class 'int'>
2018-02-26 11:36:05,423 - DEBUG - Disconnected from IBController
2018-02-26 11:36:05,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:41:01,352 - DEBUG - ****************************************************
2018-02-26 11:41:01,352 - DEBUG - Current Time is 11:41AM
2018-02-26 11:41:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:41:01,353 - DEBUG - Connecting to database
2018-02-26 11:41:01,387 - DEBUG - Connected to database
2018-02-26 11:41:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:01,389 - DEBUG - Order Profit is 0
2018-02-26 11:41:01,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:01,390 - DEBUG - Stop ID is 0
2018-02-26 11:41:01,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:01,392 - DEBUG - Entry ID is 0
2018-02-26 11:41:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:41:01,394 - DEBUG - OCA ID is 1
2018-02-26 11:41:01,394 - DEBUG - Connecting to IBController
2018-02-26 11:41:02,399 - DEBUG - Connected to IBController
2018-02-26 11:41:02,399 - DEBUG - Position requested
2018-02-26 11:41:02,400 - DEBUG - Pos Mgmt 0
2018-02-26 11:41:02,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CDA0>, pos=0, avgCost=0.0>
2018-02-26 11:41:02,401 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:41:02,401 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:41:02,402 - DEBUG - Position is 0
2018-02-26 11:41:02,402 - DEBUG - Pos Mgmt -12987
2018-02-26 11:41:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:41:02,403 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:41:02,403 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:41:02,403 - DEBUG - Position is -12987
2018-02-26 11:41:03,400 - DEBUG - Open Orders requested
2018-02-26 11:41:03,402 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CD30>, order=<ib.ext.Order.Order object at 0x000000000208CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 11:41:03,402 - DEBUG - Order OrderID 225
2018-02-26 11:41:03,403 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:41:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 11:41:03,404 - DEBUG - Order Identification 225
2018-02-26 11:41:03,404 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:41:03,404 - DEBUG - Profit ID from database is 0
2018-02-26 11:41:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:41:03,405 - DEBUG - Stop ID database is 0
2018-02-26 11:41:03,405 - DEBUG - Entry ID database is 0
2018-02-26 11:41:05,402 - DEBUG - Connecting to database
2018-02-26 11:41:05,409 - DEBUG - Connected to database
2018-02-26 11:41:05,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,411 - DEBUG - Stop loss value is 0
2018-02-26 11:41:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,413 - DEBUG - Stop loss value is 0
2018-02-26 11:41:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,414 - DEBUG - EntryPrice value is 0
2018-02-26 11:41:05,416 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,416 - DEBUG - Stop quantity 0
2018-02-26 11:41:05,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,418 - DEBUG - Direction is 0
2018-02-26 11:41:05,419 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,420 - DEBUG - Count is 0
2018-02-26 11:41:05,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:41:05,421 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:41:05,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:41:05,423 - DEBUG - Max ID Order is (231,)
2018-02-26 11:41:05,423 - DEBUG - Today is 2018-02-26
2018-02-26 11:41:05,424 - DEBUG - Day of the week 0
2018-02-26 11:41:05,424 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:41:05,424 - DEBUG - In Position is  0
2018-02-26 11:41:05,424 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:41:05,425 - DEBUG - curStopLossFlag is  0
2018-02-26 11:41:05,425 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:41:05,425 - DEBUG - Checking if Entry has been filled
2018-02-26 11:41:05,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:41:05,427 - DEBUG - EntryPend is 0
2018-02-26 11:41:05,427 - DEBUG - Try to Cancel Stop
2018-02-26 11:41:05,427 - DEBUG - Stop API ID 0
2018-02-26 11:41:05,427 - DEBUG - Profit API ID 0
2018-02-26 11:41:05,428 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:41:05,428 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:41:05,428 - DEBUG - Pos is 0
2018-02-26 11:41:05,428 - DEBUG - CurCount is 0
2018-02-26 11:41:05,428 - DEBUG - In Pos 0
2018-02-26 11:41:05,429 - DEBUG - Stop ID is 0
2018-02-26 11:41:05,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:41:05,431 - DEBUG - EntryPend is 0
2018-02-26 11:41:05,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:41:05,431 - DEBUG - Entry Date is 10
2018-02-26 11:41:05,431 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:41:05,432 - DEBUG - Order Profit ID is 0
2018-02-26 11:41:05,432 - DEBUG - Order Entry ID is 0
2018-02-26 11:41:05,432 - DEBUG - API ID is  0
2018-02-26 11:41:05,432 - DEBUG - Current Position is 0
2018-02-26 11:41:05,432 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:41:05,433 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:41:05,433 - DEBUG - Time is 11
2018-02-26 11:41:05,433 - DEBUG - Time is <class 'int'>
2018-02-26 11:41:05,433 - DEBUG - Time is 41
2018-02-26 11:41:05,434 - DEBUG - Time is <class 'int'>
2018-02-26 11:41:05,434 - DEBUG - Disconnected from IBController
2018-02-26 11:41:05,434 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:46:01,349 - DEBUG - ****************************************************
2018-02-26 11:46:01,349 - DEBUG - Current Time is 11:46AM
2018-02-26 11:46:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:46:01,350 - DEBUG - Connecting to database
2018-02-26 11:46:01,369 - DEBUG - Connected to database
2018-02-26 11:46:01,369 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:01,371 - DEBUG - Order Profit is 0
2018-02-26 11:46:01,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:01,372 - DEBUG - Stop ID is 0
2018-02-26 11:46:01,372 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:01,374 - DEBUG - Entry ID is 0
2018-02-26 11:46:01,374 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:46:01,376 - DEBUG - OCA ID is 1
2018-02-26 11:46:01,376 - DEBUG - Connecting to IBController
2018-02-26 11:46:02,384 - DEBUG - Connected to IBController
2018-02-26 11:46:02,384 - DEBUG - Position requested
2018-02-26 11:46:02,386 - DEBUG - Pos Mgmt 0
2018-02-26 11:46:02,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=0, avgCost=0.0>
2018-02-26 11:46:02,386 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:46:02,387 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:46:02,387 - DEBUG - Position is 0
2018-02-26 11:46:02,387 - DEBUG - Pos Mgmt -12987
2018-02-26 11:46:02,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA20>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:46:02,388 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:46:02,388 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:46:02,388 - DEBUG - Position is -12987
2018-02-26 11:46:03,386 - DEBUG - Open Orders requested
2018-02-26 11:46:03,388 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-26 11:46:03,388 - DEBUG - Order OrderID 225
2018-02-26 11:46:03,389 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:46:03,389 - DEBUG - Order status PreSubmitted
2018-02-26 11:46:03,389 - DEBUG - Order Identification 225
2018-02-26 11:46:03,390 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:46:03,390 - DEBUG - Profit ID from database is 0
2018-02-26 11:46:03,390 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:46:03,390 - DEBUG - Stop ID database is 0
2018-02-26 11:46:03,391 - DEBUG - Entry ID database is 0
2018-02-26 11:46:05,388 - DEBUG - Connecting to database
2018-02-26 11:46:05,395 - DEBUG - Connected to database
2018-02-26 11:46:05,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,397 - DEBUG - Stop loss value is 0
2018-02-26 11:46:05,398 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,398 - DEBUG - Stop loss value is 0
2018-02-26 11:46:05,400 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,400 - DEBUG - EntryPrice value is 0
2018-02-26 11:46:05,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,402 - DEBUG - Stop quantity 0
2018-02-26 11:46:05,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,404 - DEBUG - Direction is 0
2018-02-26 11:46:05,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,405 - DEBUG - Count is 0
2018-02-26 11:46:05,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:46:05,407 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:46:05,408 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:46:05,409 - DEBUG - Max ID Order is (231,)
2018-02-26 11:46:05,409 - DEBUG - Today is 2018-02-26
2018-02-26 11:46:05,409 - DEBUG - Day of the week 0
2018-02-26 11:46:05,410 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:46:05,410 - DEBUG - In Position is  0
2018-02-26 11:46:05,410 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:46:05,410 - DEBUG - curStopLossFlag is  0
2018-02-26 11:46:05,411 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:46:05,411 - DEBUG - Checking if Entry has been filled
2018-02-26 11:46:05,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:46:05,413 - DEBUG - EntryPend is 0
2018-02-26 11:46:05,413 - DEBUG - Try to Cancel Stop
2018-02-26 11:46:05,413 - DEBUG - Stop API ID 0
2018-02-26 11:46:05,413 - DEBUG - Profit API ID 0
2018-02-26 11:46:05,413 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:46:05,414 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:46:05,414 - DEBUG - Pos is 0
2018-02-26 11:46:05,414 - DEBUG - CurCount is 0
2018-02-26 11:46:05,414 - DEBUG - In Pos 0
2018-02-26 11:46:05,415 - DEBUG - Stop ID is 0
2018-02-26 11:46:05,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:46:05,416 - DEBUG - EntryPend is 0
2018-02-26 11:46:05,416 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:46:05,417 - DEBUG - Entry Date is 10
2018-02-26 11:46:05,417 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:46:05,417 - DEBUG - Order Profit ID is 0
2018-02-26 11:46:05,417 - DEBUG - Order Entry ID is 0
2018-02-26 11:46:05,417 - DEBUG - API ID is  0
2018-02-26 11:46:05,418 - DEBUG - Current Position is 0
2018-02-26 11:46:05,418 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:46:05,418 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:46:05,418 - DEBUG - Time is 11
2018-02-26 11:46:05,419 - DEBUG - Time is <class 'int'>
2018-02-26 11:46:05,419 - DEBUG - Time is 46
2018-02-26 11:46:05,419 - DEBUG - Time is <class 'int'>
2018-02-26 11:46:05,419 - DEBUG - Disconnected from IBController
2018-02-26 11:46:05,420 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:51:01,350 - DEBUG - ****************************************************
2018-02-26 11:51:01,350 - DEBUG - Current Time is 11:51AM
2018-02-26 11:51:01,351 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:51:01,351 - DEBUG - Connecting to database
2018-02-26 11:51:01,378 - DEBUG - Connected to database
2018-02-26 11:51:01,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:01,380 - DEBUG - Order Profit is 0
2018-02-26 11:51:01,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:01,381 - DEBUG - Stop ID is 0
2018-02-26 11:51:01,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:01,383 - DEBUG - Entry ID is 0
2018-02-26 11:51:01,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:51:01,384 - DEBUG - OCA ID is 1
2018-02-26 11:51:01,385 - DEBUG - Connecting to IBController
2018-02-26 11:51:02,390 - DEBUG - Connected to IBController
2018-02-26 11:51:02,390 - DEBUG - Position requested
2018-02-26 11:51:02,395 - DEBUG - Pos Mgmt 0
2018-02-26 11:51:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CCF8>, pos=0, avgCost=0.0>
2018-02-26 11:51:02,396 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:51:02,396 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:51:02,396 - DEBUG - Position is 0
2018-02-26 11:51:02,397 - DEBUG - Pos Mgmt -12987
2018-02-26 11:51:02,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:51:02,397 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:51:02,398 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:51:02,398 - DEBUG - Position is -12987
2018-02-26 11:51:03,391 - DEBUG - Open Orders requested
2018-02-26 11:51:03,393 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202CD30>, order=<ib.ext.Order.Order object at 0x000000000202CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20B8>>
2018-02-26 11:51:03,394 - DEBUG - Order OrderID 225
2018-02-26 11:51:03,394 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:51:03,395 - DEBUG - Order status PreSubmitted
2018-02-26 11:51:03,395 - DEBUG - Order Identification 225
2018-02-26 11:51:03,395 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:51:03,395 - DEBUG - Profit ID from database is 0
2018-02-26 11:51:03,396 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:51:03,396 - DEBUG - Stop ID database is 0
2018-02-26 11:51:03,396 - DEBUG - Entry ID database is 0
2018-02-26 11:51:05,393 - DEBUG - Connecting to database
2018-02-26 11:51:05,400 - DEBUG - Connected to database
2018-02-26 11:51:05,402 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,402 - DEBUG - Stop loss value is 0
2018-02-26 11:51:05,404 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,404 - DEBUG - Stop loss value is 0
2018-02-26 11:51:05,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,406 - DEBUG - EntryPrice value is 0
2018-02-26 11:51:05,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,408 - DEBUG - Stop quantity 0
2018-02-26 11:51:05,409 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,410 - DEBUG - Direction is 0
2018-02-26 11:51:05,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,411 - DEBUG - Count is 0
2018-02-26 11:51:05,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:51:05,413 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:51:05,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:51:05,415 - DEBUG - Max ID Order is (231,)
2018-02-26 11:51:05,415 - DEBUG - Today is 2018-02-26
2018-02-26 11:51:05,416 - DEBUG - Day of the week 0
2018-02-26 11:51:05,416 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:51:05,416 - DEBUG - In Position is  0
2018-02-26 11:51:05,416 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:51:05,417 - DEBUG - curStopLossFlag is  0
2018-02-26 11:51:05,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:51:05,417 - DEBUG - Checking if Entry has been filled
2018-02-26 11:51:05,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:51:05,419 - DEBUG - EntryPend is 0
2018-02-26 11:51:05,419 - DEBUG - Try to Cancel Stop
2018-02-26 11:51:05,419 - DEBUG - Stop API ID 0
2018-02-26 11:51:05,419 - DEBUG - Profit API ID 0
2018-02-26 11:51:05,420 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:51:05,420 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:51:05,420 - DEBUG - Pos is 0
2018-02-26 11:51:05,420 - DEBUG - CurCount is 0
2018-02-26 11:51:05,421 - DEBUG - In Pos 0
2018-02-26 11:51:05,421 - DEBUG - Stop ID is 0
2018-02-26 11:51:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:51:05,422 - DEBUG - EntryPend is 0
2018-02-26 11:51:05,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:51:05,423 - DEBUG - Entry Date is 10
2018-02-26 11:51:05,423 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:51:05,423 - DEBUG - Order Profit ID is 0
2018-02-26 11:51:05,423 - DEBUG - Order Entry ID is 0
2018-02-26 11:51:05,424 - DEBUG - API ID is  0
2018-02-26 11:51:05,424 - DEBUG - Current Position is 0
2018-02-26 11:51:05,424 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:51:05,425 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:51:05,425 - DEBUG - Time is 11
2018-02-26 11:51:05,425 - DEBUG - Time is <class 'int'>
2018-02-26 11:51:05,425 - DEBUG - Time is 51
2018-02-26 11:51:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 11:51:05,426 - DEBUG - Disconnected from IBController
2018-02-26 11:51:05,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 11:56:01,355 - DEBUG - ****************************************************
2018-02-26 11:56:01,356 - DEBUG - Current Time is 11:56AM
2018-02-26 11:56:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-26 11:56:01,357 - DEBUG - Connecting to database
2018-02-26 11:56:01,389 - DEBUG - Connected to database
2018-02-26 11:56:01,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:01,391 - DEBUG - Order Profit is 0
2018-02-26 11:56:01,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:01,393 - DEBUG - Stop ID is 0
2018-02-26 11:56:01,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:01,394 - DEBUG - Entry ID is 0
2018-02-26 11:56:01,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 11:56:01,396 - DEBUG - OCA ID is 1
2018-02-26 11:56:01,396 - DEBUG - Connecting to IBController
2018-02-26 11:56:02,404 - DEBUG - Connected to IBController
2018-02-26 11:56:02,404 - DEBUG - Position requested
2018-02-26 11:56:02,406 - DEBUG - Pos Mgmt 0
2018-02-26 11:56:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BA90>, pos=0, avgCost=0.0>
2018-02-26 11:56:02,407 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 11:56:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-26 11:56:02,407 - DEBUG - Position is 0
2018-02-26 11:56:02,408 - DEBUG - Pos Mgmt -12987
2018-02-26 11:56:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 11:56:02,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 11:56:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 11:56:02,409 - DEBUG - Position is -12987
2018-02-26 11:56:03,406 - DEBUG - Open Orders requested
2018-02-26 11:56:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208BDD8>, order=<ib.ext.Order.Order object at 0x000000000208BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002120048>>
2018-02-26 11:56:03,409 - DEBUG - Order OrderID 225
2018-02-26 11:56:03,409 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 11:56:03,409 - DEBUG - Order status PreSubmitted
2018-02-26 11:56:03,410 - DEBUG - Order Identification 225
2018-02-26 11:56:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-26 11:56:03,410 - DEBUG - Profit ID from database is 0
2018-02-26 11:56:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 11:56:03,411 - DEBUG - Stop ID database is 0
2018-02-26 11:56:03,411 - DEBUG - Entry ID database is 0
2018-02-26 11:56:05,408 - DEBUG - Connecting to database
2018-02-26 11:56:05,415 - DEBUG - Connected to database
2018-02-26 11:56:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,417 - DEBUG - Stop loss value is 0
2018-02-26 11:56:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,419 - DEBUG - Stop loss value is 0
2018-02-26 11:56:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,421 - DEBUG - EntryPrice value is 0
2018-02-26 11:56:05,422 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,422 - DEBUG - Stop quantity 0
2018-02-26 11:56:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,424 - DEBUG - Direction is 0
2018-02-26 11:56:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,426 - DEBUG - Count is 0
2018-02-26 11:56:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 11:56:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 11:56:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 11:56:05,430 - DEBUG - Max ID Order is (231,)
2018-02-26 11:56:05,430 - DEBUG - Today is 2018-02-26
2018-02-26 11:56:05,431 - DEBUG - Day of the week 0
2018-02-26 11:56:05,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 11:56:05,431 - DEBUG - In Position is  0
2018-02-26 11:56:05,431 - DEBUG - In Position is  <class 'int'>
2018-02-26 11:56:05,432 - DEBUG - curStopLossFlag is  0
2018-02-26 11:56:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 11:56:05,432 - DEBUG - Checking if Entry has been filled
2018-02-26 11:56:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:56:05,434 - DEBUG - EntryPend is 0
2018-02-26 11:56:05,434 - DEBUG - Try to Cancel Stop
2018-02-26 11:56:05,434 - DEBUG - Stop API ID 0
2018-02-26 11:56:05,435 - DEBUG - Profit API ID 0
2018-02-26 11:56:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 11:56:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 11:56:05,435 - DEBUG - Pos is 0
2018-02-26 11:56:05,435 - DEBUG - CurCount is 0
2018-02-26 11:56:05,436 - DEBUG - In Pos 0
2018-02-26 11:56:05,436 - DEBUG - Stop ID is 0
2018-02-26 11:56:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 11:56:05,438 - DEBUG - EntryPend is 0
2018-02-26 11:56:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 11:56:05,438 - DEBUG - Entry Date is 10
2018-02-26 11:56:05,438 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 11:56:05,438 - DEBUG - Order Profit ID is 0
2018-02-26 11:56:05,439 - DEBUG - Order Entry ID is 0
2018-02-26 11:56:05,439 - DEBUG - API ID is  0
2018-02-26 11:56:05,439 - DEBUG - Current Position is 0
2018-02-26 11:56:05,439 - DEBUG - Current Position is <class 'str'>
2018-02-26 11:56:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 11:56:05,440 - DEBUG - Time is 11
2018-02-26 11:56:05,440 - DEBUG - Time is <class 'int'>
2018-02-26 11:56:05,440 - DEBUG - Time is 56
2018-02-26 11:56:05,440 - DEBUG - Time is <class 'int'>
2018-02-26 11:56:05,441 - DEBUG - Disconnected from IBController
2018-02-26 11:56:05,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:01:01,357 - DEBUG - ****************************************************
2018-02-26 12:01:01,357 - DEBUG - Current Time is 12:01PM
2018-02-26 12:01:01,358 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:01:01,358 - DEBUG - Connecting to database
2018-02-26 12:01:01,384 - DEBUG - Connected to database
2018-02-26 12:01:01,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:01,386 - DEBUG - Order Profit is 0
2018-02-26 12:01:01,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:01,388 - DEBUG - Stop ID is 0
2018-02-26 12:01:01,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:01,389 - DEBUG - Entry ID is 0
2018-02-26 12:01:01,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:01:01,391 - DEBUG - OCA ID is 1
2018-02-26 12:01:01,392 - DEBUG - Connecting to IBController
2018-02-26 12:01:02,398 - DEBUG - Connected to IBController
2018-02-26 12:01:02,398 - DEBUG - Position requested
2018-02-26 12:01:02,400 - DEBUG - Pos Mgmt 0
2018-02-26 12:01:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CDA0>, pos=0, avgCost=0.0>
2018-02-26 12:01:02,400 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:01:02,401 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:01:02,401 - DEBUG - Position is 0
2018-02-26 12:01:02,401 - DEBUG - Pos Mgmt -12987
2018-02-26 12:01:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CB70>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:01:02,402 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:01:02,402 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:01:02,402 - DEBUG - Position is -12987
2018-02-26 12:01:03,399 - DEBUG - Open Orders requested
2018-02-26 12:01:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CD30>, order=<ib.ext.Order.Order object at 0x000000000208CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 12:01:03,402 - DEBUG - Order OrderID 225
2018-02-26 12:01:03,402 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:01:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 12:01:03,403 - DEBUG - Order Identification 225
2018-02-26 12:01:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:01:03,403 - DEBUG - Profit ID from database is 0
2018-02-26 12:01:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:01:03,404 - DEBUG - Stop ID database is 0
2018-02-26 12:01:03,404 - DEBUG - Entry ID database is 0
2018-02-26 12:01:05,401 - DEBUG - Connecting to database
2018-02-26 12:01:05,409 - DEBUG - Connected to database
2018-02-26 12:01:05,411 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,411 - DEBUG - Stop loss value is 0
2018-02-26 12:01:05,413 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,413 - DEBUG - Stop loss value is 0
2018-02-26 12:01:05,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,415 - DEBUG - EntryPrice value is 0
2018-02-26 12:01:05,416 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,416 - DEBUG - Stop quantity 0
2018-02-26 12:01:05,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,418 - DEBUG - Direction is 0
2018-02-26 12:01:05,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,420 - DEBUG - Count is 0
2018-02-26 12:01:05,421 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:01:05,422 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:01:05,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:01:05,423 - DEBUG - Max ID Order is (231,)
2018-02-26 12:01:05,424 - DEBUG - Today is 2018-02-26
2018-02-26 12:01:05,424 - DEBUG - Day of the week 0
2018-02-26 12:01:05,424 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:01:05,425 - DEBUG - In Position is  0
2018-02-26 12:01:05,425 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:01:05,425 - DEBUG - curStopLossFlag is  0
2018-02-26 12:01:05,425 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:01:05,426 - DEBUG - Checking if Entry has been filled
2018-02-26 12:01:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:01:05,427 - DEBUG - EntryPend is 0
2018-02-26 12:01:05,427 - DEBUG - Try to Cancel Stop
2018-02-26 12:01:05,428 - DEBUG - Stop API ID 0
2018-02-26 12:01:05,428 - DEBUG - Profit API ID 0
2018-02-26 12:01:05,428 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:01:05,428 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:01:05,429 - DEBUG - Pos is 0
2018-02-26 12:01:05,429 - DEBUG - CurCount is 0
2018-02-26 12:01:05,429 - DEBUG - In Pos 0
2018-02-26 12:01:05,429 - DEBUG - Stop ID is 0
2018-02-26 12:01:05,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:01:05,431 - DEBUG - EntryPend is 0
2018-02-26 12:01:05,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:01:05,431 - DEBUG - Entry Date is 10
2018-02-26 12:01:05,432 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:01:05,432 - DEBUG - Order Profit ID is 0
2018-02-26 12:01:05,432 - DEBUG - Order Entry ID is 0
2018-02-26 12:01:05,432 - DEBUG - API ID is  0
2018-02-26 12:01:05,432 - DEBUG - Current Position is 0
2018-02-26 12:01:05,433 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:01:05,433 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:01:05,433 - DEBUG - Time is 12
2018-02-26 12:01:05,433 - DEBUG - Time is <class 'int'>
2018-02-26 12:01:05,434 - DEBUG - Time is 1
2018-02-26 12:01:05,434 - DEBUG - Time is <class 'int'>
2018-02-26 12:01:05,434 - DEBUG - Disconnected from IBController
2018-02-26 12:01:05,435 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:06:01,352 - DEBUG - ****************************************************
2018-02-26 12:06:01,353 - DEBUG - Current Time is 12:06PM
2018-02-26 12:06:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:06:01,353 - DEBUG - Connecting to database
2018-02-26 12:06:01,372 - DEBUG - Connected to database
2018-02-26 12:06:01,373 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:01,374 - DEBUG - Order Profit is 0
2018-02-26 12:06:01,374 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:01,376 - DEBUG - Stop ID is 0
2018-02-26 12:06:01,376 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:01,377 - DEBUG - Entry ID is 0
2018-02-26 12:06:01,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:06:01,379 - DEBUG - OCA ID is 1
2018-02-26 12:06:01,380 - DEBUG - Connecting to IBController
2018-02-26 12:06:02,389 - DEBUG - Connected to IBController
2018-02-26 12:06:02,389 - DEBUG - Position requested
2018-02-26 12:06:02,391 - DEBUG - Pos Mgmt 0
2018-02-26 12:06:02,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=0, avgCost=0.0>
2018-02-26 12:06:02,391 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:06:02,392 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:06:02,392 - DEBUG - Position is 0
2018-02-26 12:06:02,392 - DEBUG - Pos Mgmt -12987
2018-02-26 12:06:02,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:06:02,393 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:06:02,393 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:06:02,393 - DEBUG - Position is -12987
2018-02-26 12:06:03,390 - DEBUG - Open Orders requested
2018-02-26 12:06:03,392 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-26 12:06:03,393 - DEBUG - Order OrderID 225
2018-02-26 12:06:03,393 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:06:03,393 - DEBUG - Order status PreSubmitted
2018-02-26 12:06:03,394 - DEBUG - Order Identification 225
2018-02-26 12:06:03,394 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:06:03,394 - DEBUG - Profit ID from database is 0
2018-02-26 12:06:03,394 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:06:03,395 - DEBUG - Stop ID database is 0
2018-02-26 12:06:03,395 - DEBUG - Entry ID database is 0
2018-02-26 12:06:05,392 - DEBUG - Connecting to database
2018-02-26 12:06:05,400 - DEBUG - Connected to database
2018-02-26 12:06:05,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,402 - DEBUG - Stop loss value is 0
2018-02-26 12:06:05,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,403 - DEBUG - Stop loss value is 0
2018-02-26 12:06:05,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,405 - DEBUG - EntryPrice value is 0
2018-02-26 12:06:05,406 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,407 - DEBUG - Stop quantity 0
2018-02-26 12:06:05,408 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,408 - DEBUG - Direction is 0
2018-02-26 12:06:05,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,410 - DEBUG - Count is 0
2018-02-26 12:06:05,412 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:06:05,412 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:06:05,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:06:05,414 - DEBUG - Max ID Order is (231,)
2018-02-26 12:06:05,414 - DEBUG - Today is 2018-02-26
2018-02-26 12:06:05,415 - DEBUG - Day of the week 0
2018-02-26 12:06:05,415 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:06:05,415 - DEBUG - In Position is  0
2018-02-26 12:06:05,415 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:06:05,416 - DEBUG - curStopLossFlag is  0
2018-02-26 12:06:05,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:06:05,416 - DEBUG - Checking if Entry has been filled
2018-02-26 12:06:05,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:06:05,418 - DEBUG - EntryPend is 0
2018-02-26 12:06:05,418 - DEBUG - Try to Cancel Stop
2018-02-26 12:06:05,418 - DEBUG - Stop API ID 0
2018-02-26 12:06:05,418 - DEBUG - Profit API ID 0
2018-02-26 12:06:05,419 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:06:05,419 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:06:05,419 - DEBUG - Pos is 0
2018-02-26 12:06:05,419 - DEBUG - CurCount is 0
2018-02-26 12:06:05,419 - DEBUG - In Pos 0
2018-02-26 12:06:05,420 - DEBUG - Stop ID is 0
2018-02-26 12:06:05,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:06:05,421 - DEBUG - EntryPend is 0
2018-02-26 12:06:05,422 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:06:05,422 - DEBUG - Entry Date is 10
2018-02-26 12:06:05,422 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:06:05,422 - DEBUG - Order Profit ID is 0
2018-02-26 12:06:05,422 - DEBUG - Order Entry ID is 0
2018-02-26 12:06:05,423 - DEBUG - API ID is  0
2018-02-26 12:06:05,423 - DEBUG - Current Position is 0
2018-02-26 12:06:05,423 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:06:05,423 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:06:05,424 - DEBUG - Time is 12
2018-02-26 12:06:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 12:06:05,424 - DEBUG - Time is 6
2018-02-26 12:06:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 12:06:05,425 - DEBUG - Disconnected from IBController
2018-02-26 12:06:05,425 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:11:01,356 - DEBUG - ****************************************************
2018-02-26 12:11:01,356 - DEBUG - Current Time is 12:11PM
2018-02-26 12:11:01,357 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:11:01,357 - DEBUG - Connecting to database
2018-02-26 12:11:01,379 - DEBUG - Connected to database
2018-02-26 12:11:01,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:01,381 - DEBUG - Order Profit is 0
2018-02-26 12:11:01,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:01,383 - DEBUG - Stop ID is 0
2018-02-26 12:11:01,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:01,385 - DEBUG - Entry ID is 0
2018-02-26 12:11:01,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:11:01,386 - DEBUG - OCA ID is 1
2018-02-26 12:11:01,387 - DEBUG - Connecting to IBController
2018-02-26 12:11:02,393 - DEBUG - Connected to IBController
2018-02-26 12:11:02,393 - DEBUG - Position requested
2018-02-26 12:11:02,394 - DEBUG - Pos Mgmt 0
2018-02-26 12:11:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CCC0>, pos=0, avgCost=0.0>
2018-02-26 12:11:02,395 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:11:02,395 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:11:02,396 - DEBUG - Position is 0
2018-02-26 12:11:02,396 - DEBUG - Pos Mgmt -12987
2018-02-26 12:11:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:11:02,397 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:11:02,397 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:11:02,397 - DEBUG - Position is -12987
2018-02-26 12:11:03,394 - DEBUG - Open Orders requested
2018-02-26 12:11:03,396 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CDD8>, order=<ib.ext.Order.Order object at 0x000000000208CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-26 12:11:03,396 - DEBUG - Order OrderID 225
2018-02-26 12:11:03,397 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:11:03,397 - DEBUG - Order status PreSubmitted
2018-02-26 12:11:03,398 - DEBUG - Order Identification 225
2018-02-26 12:11:03,398 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:11:03,398 - DEBUG - Profit ID from database is 0
2018-02-26 12:11:03,398 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:11:03,399 - DEBUG - Stop ID database is 0
2018-02-26 12:11:03,399 - DEBUG - Entry ID database is 0
2018-02-26 12:11:05,396 - DEBUG - Connecting to database
2018-02-26 12:11:05,403 - DEBUG - Connected to database
2018-02-26 12:11:05,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,405 - DEBUG - Stop loss value is 0
2018-02-26 12:11:05,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,407 - DEBUG - Stop loss value is 0
2018-02-26 12:11:05,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,408 - DEBUG - EntryPrice value is 0
2018-02-26 12:11:05,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,410 - DEBUG - Stop quantity 0
2018-02-26 12:11:05,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,412 - DEBUG - Direction is 0
2018-02-26 12:11:05,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,413 - DEBUG - Count is 0
2018-02-26 12:11:05,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:11:05,416 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:11:05,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:11:05,417 - DEBUG - Max ID Order is (231,)
2018-02-26 12:11:05,418 - DEBUG - Today is 2018-02-26
2018-02-26 12:11:05,418 - DEBUG - Day of the week 0
2018-02-26 12:11:05,418 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:11:05,418 - DEBUG - In Position is  0
2018-02-26 12:11:05,419 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:11:05,419 - DEBUG - curStopLossFlag is  0
2018-02-26 12:11:05,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:11:05,419 - DEBUG - Checking if Entry has been filled
2018-02-26 12:11:05,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:11:05,421 - DEBUG - EntryPend is 0
2018-02-26 12:11:05,421 - DEBUG - Try to Cancel Stop
2018-02-26 12:11:05,421 - DEBUG - Stop API ID 0
2018-02-26 12:11:05,421 - DEBUG - Profit API ID 0
2018-02-26 12:11:05,422 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:11:05,422 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:11:05,422 - DEBUG - Pos is 0
2018-02-26 12:11:05,422 - DEBUG - CurCount is 0
2018-02-26 12:11:05,422 - DEBUG - In Pos 0
2018-02-26 12:11:05,423 - DEBUG - Stop ID is 0
2018-02-26 12:11:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:11:05,424 - DEBUG - EntryPend is 0
2018-02-26 12:11:05,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:11:05,425 - DEBUG - Entry Date is 10
2018-02-26 12:11:05,425 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:11:05,425 - DEBUG - Order Profit ID is 0
2018-02-26 12:11:05,425 - DEBUG - Order Entry ID is 0
2018-02-26 12:11:05,426 - DEBUG - API ID is  0
2018-02-26 12:11:05,426 - DEBUG - Current Position is 0
2018-02-26 12:11:05,426 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:11:05,426 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:11:05,426 - DEBUG - Time is 12
2018-02-26 12:11:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 12:11:05,427 - DEBUG - Time is 11
2018-02-26 12:11:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 12:11:05,427 - DEBUG - Disconnected from IBController
2018-02-26 12:11:05,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:16:01,353 - DEBUG - ****************************************************
2018-02-26 12:16:01,353 - DEBUG - Current Time is 12:16PM
2018-02-26 12:16:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:16:01,354 - DEBUG - Connecting to database
2018-02-26 12:16:01,378 - DEBUG - Connected to database
2018-02-26 12:16:01,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:01,380 - DEBUG - Order Profit is 0
2018-02-26 12:16:01,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:01,382 - DEBUG - Stop ID is 0
2018-02-26 12:16:01,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:01,383 - DEBUG - Entry ID is 0
2018-02-26 12:16:01,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:16:01,385 - DEBUG - OCA ID is 1
2018-02-26 12:16:01,385 - DEBUG - Connecting to IBController
2018-02-26 12:16:02,391 - DEBUG - Connected to IBController
2018-02-26 12:16:02,391 - DEBUG - Position requested
2018-02-26 12:16:02,393 - DEBUG - Pos Mgmt 0
2018-02-26 12:16:02,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, pos=0, avgCost=0.0>
2018-02-26 12:16:02,393 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:16:02,394 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:16:02,394 - DEBUG - Position is 0
2018-02-26 12:16:02,394 - DEBUG - Pos Mgmt -12987
2018-02-26 12:16:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:16:02,395 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:16:02,395 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:16:02,395 - DEBUG - Position is -12987
2018-02-26 12:16:03,392 - DEBUG - Open Orders requested
2018-02-26 12:16:03,394 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, order=<ib.ext.Order.Order object at 0x000000000203CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-26 12:16:03,395 - DEBUG - Order OrderID 225
2018-02-26 12:16:03,395 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:16:03,395 - DEBUG - Order status PreSubmitted
2018-02-26 12:16:03,396 - DEBUG - Order Identification 225
2018-02-26 12:16:03,396 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:16:03,396 - DEBUG - Profit ID from database is 0
2018-02-26 12:16:03,397 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:16:03,397 - DEBUG - Stop ID database is 0
2018-02-26 12:16:03,397 - DEBUG - Entry ID database is 0
2018-02-26 12:16:05,392 - DEBUG - Connecting to database
2018-02-26 12:16:05,399 - DEBUG - Connected to database
2018-02-26 12:16:05,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,401 - DEBUG - Stop loss value is 0
2018-02-26 12:16:05,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,403 - DEBUG - Stop loss value is 0
2018-02-26 12:16:05,404 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,405 - DEBUG - EntryPrice value is 0
2018-02-26 12:16:05,406 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,406 - DEBUG - Stop quantity 0
2018-02-26 12:16:05,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,408 - DEBUG - Direction is 0
2018-02-26 12:16:05,409 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,409 - DEBUG - Count is 0
2018-02-26 12:16:05,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:16:05,411 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:16:05,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:16:05,413 - DEBUG - Max ID Order is (231,)
2018-02-26 12:16:05,413 - DEBUG - Today is 2018-02-26
2018-02-26 12:16:05,414 - DEBUG - Day of the week 0
2018-02-26 12:16:05,414 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:16:05,414 - DEBUG - In Position is  0
2018-02-26 12:16:05,414 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:16:05,415 - DEBUG - curStopLossFlag is  0
2018-02-26 12:16:05,415 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:16:05,415 - DEBUG - Checking if Entry has been filled
2018-02-26 12:16:05,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:16:05,417 - DEBUG - EntryPend is 0
2018-02-26 12:16:05,417 - DEBUG - Try to Cancel Stop
2018-02-26 12:16:05,417 - DEBUG - Stop API ID 0
2018-02-26 12:16:05,417 - DEBUG - Profit API ID 0
2018-02-26 12:16:05,418 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:16:05,418 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:16:05,418 - DEBUG - Pos is 0
2018-02-26 12:16:05,418 - DEBUG - CurCount is 0
2018-02-26 12:16:05,418 - DEBUG - In Pos 0
2018-02-26 12:16:05,419 - DEBUG - Stop ID is 0
2018-02-26 12:16:05,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:16:05,420 - DEBUG - EntryPend is 0
2018-02-26 12:16:05,420 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:16:05,421 - DEBUG - Entry Date is 10
2018-02-26 12:16:05,421 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:16:05,421 - DEBUG - Order Profit ID is 0
2018-02-26 12:16:05,421 - DEBUG - Order Entry ID is 0
2018-02-26 12:16:05,422 - DEBUG - API ID is  0
2018-02-26 12:16:05,422 - DEBUG - Current Position is 0
2018-02-26 12:16:05,422 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:16:05,422 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:16:05,422 - DEBUG - Time is 12
2018-02-26 12:16:05,423 - DEBUG - Time is <class 'int'>
2018-02-26 12:16:05,423 - DEBUG - Time is 16
2018-02-26 12:16:05,423 - DEBUG - Time is <class 'int'>
2018-02-26 12:16:05,423 - DEBUG - Disconnected from IBController
2018-02-26 12:16:05,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:21:01,352 - DEBUG - ****************************************************
2018-02-26 12:21:01,353 - DEBUG - Current Time is 12:21PM
2018-02-26 12:21:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:21:01,353 - DEBUG - Connecting to database
2018-02-26 12:21:01,377 - DEBUG - Connected to database
2018-02-26 12:21:01,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:01,379 - DEBUG - Order Profit is 0
2018-02-26 12:21:01,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:01,380 - DEBUG - Stop ID is 0
2018-02-26 12:21:01,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:01,382 - DEBUG - Entry ID is 0
2018-02-26 12:21:01,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:21:01,383 - DEBUG - OCA ID is 1
2018-02-26 12:21:01,384 - DEBUG - Connecting to IBController
2018-02-26 12:21:02,390 - DEBUG - Connected to IBController
2018-02-26 12:21:02,390 - DEBUG - Position requested
2018-02-26 12:21:02,391 - DEBUG - Pos Mgmt 0
2018-02-26 12:21:02,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BCC0>, pos=0, avgCost=0.0>
2018-02-26 12:21:02,392 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:21:02,393 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:21:02,393 - DEBUG - Position is 0
2018-02-26 12:21:02,393 - DEBUG - Pos Mgmt -12987
2018-02-26 12:21:02,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210BB38>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:21:02,394 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:21:02,394 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:21:02,394 - DEBUG - Position is -12987
2018-02-26 12:21:03,391 - DEBUG - Open Orders requested
2018-02-26 12:21:03,393 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000210BDD8>, order=<ib.ext.Order.Order object at 0x000000000210BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A00B8>>
2018-02-26 12:21:03,394 - DEBUG - Order OrderID 225
2018-02-26 12:21:03,394 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:21:03,395 - DEBUG - Order status PreSubmitted
2018-02-26 12:21:03,395 - DEBUG - Order Identification 225
2018-02-26 12:21:03,395 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:21:03,395 - DEBUG - Profit ID from database is 0
2018-02-26 12:21:03,396 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:21:03,396 - DEBUG - Stop ID database is 0
2018-02-26 12:21:03,396 - DEBUG - Entry ID database is 0
2018-02-26 12:21:05,393 - DEBUG - Connecting to database
2018-02-26 12:21:05,400 - DEBUG - Connected to database
2018-02-26 12:21:05,402 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,402 - DEBUG - Stop loss value is 0
2018-02-26 12:21:05,404 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,404 - DEBUG - Stop loss value is 0
2018-02-26 12:21:05,405 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,406 - DEBUG - EntryPrice value is 0
2018-02-26 12:21:05,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,407 - DEBUG - Stop quantity 0
2018-02-26 12:21:05,409 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,409 - DEBUG - Direction is 0
2018-02-26 12:21:05,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,411 - DEBUG - Count is 0
2018-02-26 12:21:05,412 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:21:05,412 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:21:05,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:21:05,414 - DEBUG - Max ID Order is (231,)
2018-02-26 12:21:05,414 - DEBUG - Today is 2018-02-26
2018-02-26 12:21:05,415 - DEBUG - Day of the week 0
2018-02-26 12:21:05,415 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:21:05,415 - DEBUG - In Position is  0
2018-02-26 12:21:05,415 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:21:05,416 - DEBUG - curStopLossFlag is  0
2018-02-26 12:21:05,416 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:21:05,416 - DEBUG - Checking if Entry has been filled
2018-02-26 12:21:05,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:21:05,418 - DEBUG - EntryPend is 0
2018-02-26 12:21:05,418 - DEBUG - Try to Cancel Stop
2018-02-26 12:21:05,418 - DEBUG - Stop API ID 0
2018-02-26 12:21:05,418 - DEBUG - Profit API ID 0
2018-02-26 12:21:05,419 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:21:05,419 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:21:05,419 - DEBUG - Pos is 0
2018-02-26 12:21:05,419 - DEBUG - CurCount is 0
2018-02-26 12:21:05,420 - DEBUG - In Pos 0
2018-02-26 12:21:05,420 - DEBUG - Stop ID is 0
2018-02-26 12:21:05,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:21:05,421 - DEBUG - EntryPend is 0
2018-02-26 12:21:05,422 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:21:05,422 - DEBUG - Entry Date is 10
2018-02-26 12:21:05,422 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:21:05,422 - DEBUG - Order Profit ID is 0
2018-02-26 12:21:05,423 - DEBUG - Order Entry ID is 0
2018-02-26 12:21:05,423 - DEBUG - API ID is  0
2018-02-26 12:21:05,423 - DEBUG - Current Position is 0
2018-02-26 12:21:05,423 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:21:05,424 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:21:05,424 - DEBUG - Time is 12
2018-02-26 12:21:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 12:21:05,424 - DEBUG - Time is 21
2018-02-26 12:21:05,424 - DEBUG - Time is <class 'int'>
2018-02-26 12:21:05,425 - DEBUG - Disconnected from IBController
2018-02-26 12:21:05,425 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:26:01,353 - DEBUG - ****************************************************
2018-02-26 12:26:01,353 - DEBUG - Current Time is 12:26PM
2018-02-26 12:26:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:26:01,354 - DEBUG - Connecting to database
2018-02-26 12:26:01,402 - DEBUG - Connected to database
2018-02-26 12:26:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:01,404 - DEBUG - Order Profit is 0
2018-02-26 12:26:01,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:01,405 - DEBUG - Stop ID is 0
2018-02-26 12:26:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:01,407 - DEBUG - Entry ID is 0
2018-02-26 12:26:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:26:01,408 - DEBUG - OCA ID is 1
2018-02-26 12:26:01,409 - DEBUG - Connecting to IBController
2018-02-26 12:26:02,414 - DEBUG - Connected to IBController
2018-02-26 12:26:02,414 - DEBUG - Position requested
2018-02-26 12:26:02,416 - DEBUG - Pos Mgmt 0
2018-02-26 12:26:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CC88>, pos=0, avgCost=0.0>
2018-02-26 12:26:02,416 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:26:02,417 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:26:02,417 - DEBUG - Position is 0
2018-02-26 12:26:02,417 - DEBUG - Pos Mgmt -12987
2018-02-26 12:26:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CB70>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:26:02,418 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:26:02,418 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:26:02,418 - DEBUG - Position is -12987
2018-02-26 12:26:03,415 - DEBUG - Open Orders requested
2018-02-26 12:26:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CDD8>, order=<ib.ext.Order.Order object at 0x000000000205CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-26 12:26:03,418 - DEBUG - Order OrderID 225
2018-02-26 12:26:03,418 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:26:03,419 - DEBUG - Order status PreSubmitted
2018-02-26 12:26:03,419 - DEBUG - Order Identification 225
2018-02-26 12:26:03,419 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:26:03,419 - DEBUG - Profit ID from database is 0
2018-02-26 12:26:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:26:03,420 - DEBUG - Stop ID database is 0
2018-02-26 12:26:03,420 - DEBUG - Entry ID database is 0
2018-02-26 12:26:05,418 - DEBUG - Connecting to database
2018-02-26 12:26:05,425 - DEBUG - Connected to database
2018-02-26 12:26:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,428 - DEBUG - Stop loss value is 0
2018-02-26 12:26:05,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,429 - DEBUG - Stop loss value is 0
2018-02-26 12:26:05,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,431 - DEBUG - EntryPrice value is 0
2018-02-26 12:26:05,432 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,433 - DEBUG - Stop quantity 0
2018-02-26 12:26:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,434 - DEBUG - Direction is 0
2018-02-26 12:26:05,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,436 - DEBUG - Count is 0
2018-02-26 12:26:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:26:05,438 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:26:05,439 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:26:05,439 - DEBUG - Max ID Order is (231,)
2018-02-26 12:26:05,440 - DEBUG - Today is 2018-02-26
2018-02-26 12:26:05,440 - DEBUG - Day of the week 0
2018-02-26 12:26:05,441 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:26:05,441 - DEBUG - In Position is  0
2018-02-26 12:26:05,441 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:26:05,441 - DEBUG - curStopLossFlag is  0
2018-02-26 12:26:05,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:26:05,442 - DEBUG - Checking if Entry has been filled
2018-02-26 12:26:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:26:05,443 - DEBUG - EntryPend is 0
2018-02-26 12:26:05,444 - DEBUG - Try to Cancel Stop
2018-02-26 12:26:05,444 - DEBUG - Stop API ID 0
2018-02-26 12:26:05,444 - DEBUG - Profit API ID 0
2018-02-26 12:26:05,444 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:26:05,444 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:26:05,445 - DEBUG - Pos is 0
2018-02-26 12:26:05,445 - DEBUG - CurCount is 0
2018-02-26 12:26:05,445 - DEBUG - In Pos 0
2018-02-26 12:26:05,445 - DEBUG - Stop ID is 0
2018-02-26 12:26:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:26:05,447 - DEBUG - EntryPend is 0
2018-02-26 12:26:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:26:05,447 - DEBUG - Entry Date is 10
2018-02-26 12:26:05,448 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:26:05,448 - DEBUG - Order Profit ID is 0
2018-02-26 12:26:05,448 - DEBUG - Order Entry ID is 0
2018-02-26 12:26:05,448 - DEBUG - API ID is  0
2018-02-26 12:26:05,448 - DEBUG - Current Position is 0
2018-02-26 12:26:05,449 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:26:05,449 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:26:05,449 - DEBUG - Time is 12
2018-02-26 12:26:05,449 - DEBUG - Time is <class 'int'>
2018-02-26 12:26:05,450 - DEBUG - Time is 26
2018-02-26 12:26:05,450 - DEBUG - Time is <class 'int'>
2018-02-26 12:26:05,450 - DEBUG - Disconnected from IBController
2018-02-26 12:26:05,451 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:31:01,351 - DEBUG - ****************************************************
2018-02-26 12:31:01,352 - DEBUG - Current Time is 12:31PM
2018-02-26 12:31:01,352 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:31:01,353 - DEBUG - Connecting to database
2018-02-26 12:31:01,377 - DEBUG - Connected to database
2018-02-26 12:31:01,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:01,379 - DEBUG - Order Profit is 0
2018-02-26 12:31:01,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:01,380 - DEBUG - Stop ID is 0
2018-02-26 12:31:01,381 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:01,382 - DEBUG - Entry ID is 0
2018-02-26 12:31:01,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:31:01,384 - DEBUG - OCA ID is 1
2018-02-26 12:31:01,384 - DEBUG - Connecting to IBController
2018-02-26 12:31:02,391 - DEBUG - Connected to IBController
2018-02-26 12:31:02,391 - DEBUG - Position requested
2018-02-26 12:31:02,393 - DEBUG - Pos Mgmt 0
2018-02-26 12:31:02,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204BA90>, pos=0, avgCost=0.0>
2018-02-26 12:31:02,393 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:31:02,394 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:31:02,394 - DEBUG - Position is 0
2018-02-26 12:31:02,394 - DEBUG - Pos Mgmt -12987
2018-02-26 12:31:02,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204BA20>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:31:02,395 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:31:02,395 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:31:02,395 - DEBUG - Position is -12987
2018-02-26 12:31:03,393 - DEBUG - Open Orders requested
2018-02-26 12:31:03,395 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204BDD8>, order=<ib.ext.Order.Order object at 0x000000000204BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E00B8>>
2018-02-26 12:31:03,395 - DEBUG - Order OrderID 225
2018-02-26 12:31:03,396 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:31:03,396 - DEBUG - Order status PreSubmitted
2018-02-26 12:31:03,397 - DEBUG - Order Identification 225
2018-02-26 12:31:03,397 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:31:03,397 - DEBUG - Profit ID from database is 0
2018-02-26 12:31:03,397 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:31:03,398 - DEBUG - Stop ID database is 0
2018-02-26 12:31:03,398 - DEBUG - Entry ID database is 0
2018-02-26 12:31:05,395 - DEBUG - Connecting to database
2018-02-26 12:31:05,402 - DEBUG - Connected to database
2018-02-26 12:31:05,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,404 - DEBUG - Stop loss value is 0
2018-02-26 12:31:05,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,406 - DEBUG - Stop loss value is 0
2018-02-26 12:31:05,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,408 - DEBUG - EntryPrice value is 0
2018-02-26 12:31:05,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,409 - DEBUG - Stop quantity 0
2018-02-26 12:31:05,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,411 - DEBUG - Direction is 0
2018-02-26 12:31:05,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,413 - DEBUG - Count is 0
2018-02-26 12:31:05,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:31:05,415 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:31:05,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:31:05,417 - DEBUG - Max ID Order is (231,)
2018-02-26 12:31:05,417 - DEBUG - Today is 2018-02-26
2018-02-26 12:31:05,417 - DEBUG - Day of the week 0
2018-02-26 12:31:05,418 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:31:05,418 - DEBUG - In Position is  0
2018-02-26 12:31:05,418 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:31:05,418 - DEBUG - curStopLossFlag is  0
2018-02-26 12:31:05,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:31:05,419 - DEBUG - Checking if Entry has been filled
2018-02-26 12:31:05,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:31:05,420 - DEBUG - EntryPend is 0
2018-02-26 12:31:05,421 - DEBUG - Try to Cancel Stop
2018-02-26 12:31:05,421 - DEBUG - Stop API ID 0
2018-02-26 12:31:05,421 - DEBUG - Profit API ID 0
2018-02-26 12:31:05,421 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:31:05,422 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:31:05,422 - DEBUG - Pos is 0
2018-02-26 12:31:05,422 - DEBUG - CurCount is 0
2018-02-26 12:31:05,422 - DEBUG - In Pos 0
2018-02-26 12:31:05,422 - DEBUG - Stop ID is 0
2018-02-26 12:31:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:31:05,424 - DEBUG - EntryPend is 0
2018-02-26 12:31:05,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:31:05,425 - DEBUG - Entry Date is 10
2018-02-26 12:31:05,425 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:31:05,425 - DEBUG - Order Profit ID is 0
2018-02-26 12:31:05,426 - DEBUG - Order Entry ID is 0
2018-02-26 12:31:05,426 - DEBUG - API ID is  0
2018-02-26 12:31:05,426 - DEBUG - Current Position is 0
2018-02-26 12:31:05,426 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:31:05,427 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:31:05,427 - DEBUG - Time is 12
2018-02-26 12:31:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 12:31:05,427 - DEBUG - Time is 31
2018-02-26 12:31:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 12:31:05,428 - DEBUG - Disconnected from IBController
2018-02-26 12:31:05,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:36:01,351 - DEBUG - ****************************************************
2018-02-26 12:36:01,351 - DEBUG - Current Time is 12:36PM
2018-02-26 12:36:01,352 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:36:01,352 - DEBUG - Connecting to database
2018-02-26 12:36:01,370 - DEBUG - Connected to database
2018-02-26 12:36:01,370 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:01,372 - DEBUG - Order Profit is 0
2018-02-26 12:36:01,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:01,374 - DEBUG - Stop ID is 0
2018-02-26 12:36:01,374 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:01,375 - DEBUG - Entry ID is 0
2018-02-26 12:36:01,375 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:36:01,377 - DEBUG - OCA ID is 1
2018-02-26 12:36:01,377 - DEBUG - Connecting to IBController
2018-02-26 12:36:02,383 - DEBUG - Connected to IBController
2018-02-26 12:36:02,383 - DEBUG - Position requested
2018-02-26 12:36:02,385 - DEBUG - Pos Mgmt 0
2018-02-26 12:36:02,385 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DCC0>, pos=0, avgCost=0.0>
2018-02-26 12:36:02,386 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:36:02,386 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:36:02,386 - DEBUG - Position is 0
2018-02-26 12:36:02,386 - DEBUG - Pos Mgmt -12987
2018-02-26 12:36:02,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DB38>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:36:02,387 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:36:02,387 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:36:02,388 - DEBUG - Position is -12987
2018-02-26 12:36:03,384 - DEBUG - Open Orders requested
2018-02-26 12:36:03,386 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201DDD8>, order=<ib.ext.Order.Order object at 0x000000000201DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B10B8>>
2018-02-26 12:36:03,387 - DEBUG - Order OrderID 225
2018-02-26 12:36:03,387 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:36:03,388 - DEBUG - Order status PreSubmitted
2018-02-26 12:36:03,388 - DEBUG - Order Identification 225
2018-02-26 12:36:03,388 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:36:03,388 - DEBUG - Profit ID from database is 0
2018-02-26 12:36:03,389 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:36:03,389 - DEBUG - Stop ID database is 0
2018-02-26 12:36:03,389 - DEBUG - Entry ID database is 0
2018-02-26 12:36:05,386 - DEBUG - Connecting to database
2018-02-26 12:36:05,394 - DEBUG - Connected to database
2018-02-26 12:36:05,395 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,396 - DEBUG - Stop loss value is 0
2018-02-26 12:36:05,397 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,397 - DEBUG - Stop loss value is 0
2018-02-26 12:36:05,399 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,399 - DEBUG - EntryPrice value is 0
2018-02-26 12:36:05,400 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,401 - DEBUG - Stop quantity 0
2018-02-26 12:36:05,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,403 - DEBUG - Direction is 0
2018-02-26 12:36:05,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,405 - DEBUG - Count is 0
2018-02-26 12:36:05,406 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:36:05,407 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:36:05,408 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:36:05,408 - DEBUG - Max ID Order is (231,)
2018-02-26 12:36:05,409 - DEBUG - Today is 2018-02-26
2018-02-26 12:36:05,409 - DEBUG - Day of the week 0
2018-02-26 12:36:05,410 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:36:05,410 - DEBUG - In Position is  0
2018-02-26 12:36:05,410 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:36:05,410 - DEBUG - curStopLossFlag is  0
2018-02-26 12:36:05,410 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:36:05,411 - DEBUG - Checking if Entry has been filled
2018-02-26 12:36:05,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:36:05,412 - DEBUG - EntryPend is 0
2018-02-26 12:36:05,413 - DEBUG - Try to Cancel Stop
2018-02-26 12:36:05,413 - DEBUG - Stop API ID 0
2018-02-26 12:36:05,413 - DEBUG - Profit API ID 0
2018-02-26 12:36:05,413 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:36:05,413 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:36:05,414 - DEBUG - Pos is 0
2018-02-26 12:36:05,414 - DEBUG - CurCount is 0
2018-02-26 12:36:05,414 - DEBUG - In Pos 0
2018-02-26 12:36:05,414 - DEBUG - Stop ID is 0
2018-02-26 12:36:05,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:36:05,416 - DEBUG - EntryPend is 0
2018-02-26 12:36:05,416 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:36:05,416 - DEBUG - Entry Date is 10
2018-02-26 12:36:05,416 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:36:05,417 - DEBUG - Order Profit ID is 0
2018-02-26 12:36:05,417 - DEBUG - Order Entry ID is 0
2018-02-26 12:36:05,417 - DEBUG - API ID is  0
2018-02-26 12:36:05,417 - DEBUG - Current Position is 0
2018-02-26 12:36:05,418 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:36:05,418 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:36:05,418 - DEBUG - Time is 12
2018-02-26 12:36:05,418 - DEBUG - Time is <class 'int'>
2018-02-26 12:36:05,419 - DEBUG - Time is 36
2018-02-26 12:36:05,419 - DEBUG - Time is <class 'int'>
2018-02-26 12:36:05,419 - DEBUG - Disconnected from IBController
2018-02-26 12:36:05,420 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:41:01,357 - DEBUG - ****************************************************
2018-02-26 12:41:01,357 - DEBUG - Current Time is 12:41PM
2018-02-26 12:41:01,358 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:41:01,358 - DEBUG - Connecting to database
2018-02-26 12:41:01,377 - DEBUG - Connected to database
2018-02-26 12:41:01,377 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:01,379 - DEBUG - Order Profit is 0
2018-02-26 12:41:01,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:01,380 - DEBUG - Stop ID is 0
2018-02-26 12:41:01,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:01,382 - DEBUG - Entry ID is 0
2018-02-26 12:41:01,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:41:01,383 - DEBUG - OCA ID is 1
2018-02-26 12:41:01,384 - DEBUG - Connecting to IBController
2018-02-26 12:41:02,390 - DEBUG - Connected to IBController
2018-02-26 12:41:02,390 - DEBUG - Position requested
2018-02-26 12:41:02,392 - DEBUG - Pos Mgmt 0
2018-02-26 12:41:02,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDA90>, pos=0, avgCost=0.0>
2018-02-26 12:41:02,392 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:41:02,393 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:41:02,393 - DEBUG - Position is 0
2018-02-26 12:41:02,393 - DEBUG - Pos Mgmt -12987
2018-02-26 12:41:02,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:41:02,394 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:41:02,394 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:41:02,394 - DEBUG - Position is -12987
2018-02-26 12:41:03,392 - DEBUG - Open Orders requested
2018-02-26 12:41:03,394 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDDD8>, order=<ib.ext.Order.Order object at 0x00000000020BDA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510B8>>
2018-02-26 12:41:03,394 - DEBUG - Order OrderID 225
2018-02-26 12:41:03,395 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:41:03,395 - DEBUG - Order status PreSubmitted
2018-02-26 12:41:03,396 - DEBUG - Order Identification 225
2018-02-26 12:41:03,396 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:41:03,396 - DEBUG - Profit ID from database is 0
2018-02-26 12:41:03,396 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:41:03,396 - DEBUG - Stop ID database is 0
2018-02-26 12:41:03,397 - DEBUG - Entry ID database is 0
2018-02-26 12:41:05,394 - DEBUG - Connecting to database
2018-02-26 12:41:05,401 - DEBUG - Connected to database
2018-02-26 12:41:05,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,403 - DEBUG - Stop loss value is 0
2018-02-26 12:41:05,404 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,405 - DEBUG - Stop loss value is 0
2018-02-26 12:41:05,406 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,406 - DEBUG - EntryPrice value is 0
2018-02-26 12:41:05,408 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,409 - DEBUG - Stop quantity 0
2018-02-26 12:41:05,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,410 - DEBUG - Direction is 0
2018-02-26 12:41:05,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,412 - DEBUG - Count is 0
2018-02-26 12:41:05,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:41:05,414 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:41:05,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:41:05,415 - DEBUG - Max ID Order is (231,)
2018-02-26 12:41:05,416 - DEBUG - Today is 2018-02-26
2018-02-26 12:41:05,416 - DEBUG - Day of the week 0
2018-02-26 12:41:05,416 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:41:05,417 - DEBUG - In Position is  0
2018-02-26 12:41:05,417 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:41:05,417 - DEBUG - curStopLossFlag is  0
2018-02-26 12:41:05,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:41:05,417 - DEBUG - Checking if Entry has been filled
2018-02-26 12:41:05,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:41:05,419 - DEBUG - EntryPend is 0
2018-02-26 12:41:05,419 - DEBUG - Try to Cancel Stop
2018-02-26 12:41:05,420 - DEBUG - Stop API ID 0
2018-02-26 12:41:05,420 - DEBUG - Profit API ID 0
2018-02-26 12:41:05,420 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:41:05,420 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:41:05,420 - DEBUG - Pos is 0
2018-02-26 12:41:05,421 - DEBUG - CurCount is 0
2018-02-26 12:41:05,421 - DEBUG - In Pos 0
2018-02-26 12:41:05,421 - DEBUG - Stop ID is 0
2018-02-26 12:41:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:41:05,423 - DEBUG - EntryPend is 0
2018-02-26 12:41:05,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:41:05,423 - DEBUG - Entry Date is 10
2018-02-26 12:41:05,423 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:41:05,424 - DEBUG - Order Profit ID is 0
2018-02-26 12:41:05,424 - DEBUG - Order Entry ID is 0
2018-02-26 12:41:05,424 - DEBUG - API ID is  0
2018-02-26 12:41:05,424 - DEBUG - Current Position is 0
2018-02-26 12:41:05,425 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:41:05,425 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:41:05,425 - DEBUG - Time is 12
2018-02-26 12:41:05,425 - DEBUG - Time is <class 'int'>
2018-02-26 12:41:05,426 - DEBUG - Time is 41
2018-02-26 12:41:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 12:41:05,426 - DEBUG - Disconnected from IBController
2018-02-26 12:41:05,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:46:01,353 - DEBUG - ****************************************************
2018-02-26 12:46:01,354 - DEBUG - Current Time is 12:46PM
2018-02-26 12:46:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:46:01,355 - DEBUG - Connecting to database
2018-02-26 12:46:01,397 - DEBUG - Connected to database
2018-02-26 12:46:01,397 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:01,399 - DEBUG - Order Profit is 0
2018-02-26 12:46:01,399 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:01,400 - DEBUG - Stop ID is 0
2018-02-26 12:46:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:01,402 - DEBUG - Entry ID is 0
2018-02-26 12:46:01,402 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:46:01,404 - DEBUG - OCA ID is 1
2018-02-26 12:46:01,404 - DEBUG - Connecting to IBController
2018-02-26 12:46:02,415 - DEBUG - Connected to IBController
2018-02-26 12:46:02,415 - DEBUG - Position requested
2018-02-26 12:46:02,417 - DEBUG - Pos Mgmt 0
2018-02-26 12:46:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DD68>, pos=0, avgCost=0.0>
2018-02-26 12:46:02,418 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:46:02,418 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:46:02,418 - DEBUG - Position is 0
2018-02-26 12:46:02,419 - DEBUG - Pos Mgmt -12987
2018-02-26 12:46:02,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:46:02,419 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:46:02,423 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:46:02,424 - DEBUG - Position is -12987
2018-02-26 12:46:03,416 - DEBUG - Open Orders requested
2018-02-26 12:46:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, order=<ib.ext.Order.Order object at 0x000000000206DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 12:46:03,419 - DEBUG - Order OrderID 225
2018-02-26 12:46:03,419 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:46:03,419 - DEBUG - Order status PreSubmitted
2018-02-26 12:46:03,420 - DEBUG - Order Identification 225
2018-02-26 12:46:03,420 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:46:03,420 - DEBUG - Profit ID from database is 0
2018-02-26 12:46:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:46:03,421 - DEBUG - Stop ID database is 0
2018-02-26 12:46:03,421 - DEBUG - Entry ID database is 0
2018-02-26 12:46:05,418 - DEBUG - Connecting to database
2018-02-26 12:46:05,425 - DEBUG - Connected to database
2018-02-26 12:46:05,426 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,427 - DEBUG - Stop loss value is 0
2018-02-26 12:46:05,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,428 - DEBUG - Stop loss value is 0
2018-02-26 12:46:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,430 - DEBUG - EntryPrice value is 0
2018-02-26 12:46:05,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,432 - DEBUG - Stop quantity 0
2018-02-26 12:46:05,433 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,433 - DEBUG - Direction is 0
2018-02-26 12:46:05,435 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,435 - DEBUG - Count is 0
2018-02-26 12:46:05,436 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:46:05,437 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:46:05,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:46:05,438 - DEBUG - Max ID Order is (231,)
2018-02-26 12:46:05,439 - DEBUG - Today is 2018-02-26
2018-02-26 12:46:05,439 - DEBUG - Day of the week 0
2018-02-26 12:46:05,439 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:46:05,440 - DEBUG - In Position is  0
2018-02-26 12:46:05,440 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:46:05,440 - DEBUG - curStopLossFlag is  0
2018-02-26 12:46:05,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:46:05,441 - DEBUG - Checking if Entry has been filled
2018-02-26 12:46:05,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:46:05,442 - DEBUG - EntryPend is 0
2018-02-26 12:46:05,442 - DEBUG - Try to Cancel Stop
2018-02-26 12:46:05,443 - DEBUG - Stop API ID 0
2018-02-26 12:46:05,443 - DEBUG - Profit API ID 0
2018-02-26 12:46:05,443 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:46:05,443 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:46:05,444 - DEBUG - Pos is 0
2018-02-26 12:46:05,444 - DEBUG - CurCount is 0
2018-02-26 12:46:05,444 - DEBUG - In Pos 0
2018-02-26 12:46:05,444 - DEBUG - Stop ID is 0
2018-02-26 12:46:05,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:46:05,446 - DEBUG - EntryPend is 0
2018-02-26 12:46:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:46:05,447 - DEBUG - Entry Date is 10
2018-02-26 12:46:05,447 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:46:05,447 - DEBUG - Order Profit ID is 0
2018-02-26 12:46:05,448 - DEBUG - Order Entry ID is 0
2018-02-26 12:46:05,448 - DEBUG - API ID is  0
2018-02-26 12:46:05,448 - DEBUG - Current Position is 0
2018-02-26 12:46:05,448 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:46:05,448 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:46:05,449 - DEBUG - Time is 12
2018-02-26 12:46:05,449 - DEBUG - Time is <class 'int'>
2018-02-26 12:46:05,449 - DEBUG - Time is 46
2018-02-26 12:46:05,449 - DEBUG - Time is <class 'int'>
2018-02-26 12:46:05,450 - DEBUG - Disconnected from IBController
2018-02-26 12:46:05,450 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:51:01,356 - DEBUG - ****************************************************
2018-02-26 12:51:01,356 - DEBUG - Current Time is 12:51PM
2018-02-26 12:51:01,357 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:51:01,357 - DEBUG - Connecting to database
2018-02-26 12:51:01,391 - DEBUG - Connected to database
2018-02-26 12:51:01,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:01,393 - DEBUG - Order Profit is 0
2018-02-26 12:51:01,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:01,394 - DEBUG - Stop ID is 0
2018-02-26 12:51:01,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:01,396 - DEBUG - Entry ID is 0
2018-02-26 12:51:01,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:51:01,398 - DEBUG - OCA ID is 1
2018-02-26 12:51:01,398 - DEBUG - Connecting to IBController
2018-02-26 12:51:02,404 - DEBUG - Connected to IBController
2018-02-26 12:51:02,404 - DEBUG - Position requested
2018-02-26 12:51:02,406 - DEBUG - Pos Mgmt 0
2018-02-26 12:51:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BA90>, pos=0, avgCost=0.0>
2018-02-26 12:51:02,406 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:51:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:51:02,407 - DEBUG - Position is 0
2018-02-26 12:51:02,407 - DEBUG - Pos Mgmt -12987
2018-02-26 12:51:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BB38>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:51:02,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:51:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:51:02,408 - DEBUG - Position is -12987
2018-02-26 12:51:03,406 - DEBUG - Open Orders requested
2018-02-26 12:51:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203BDD8>, order=<ib.ext.Order.Order object at 0x000000000203BA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0048>>
2018-02-26 12:51:03,408 - DEBUG - Order OrderID 225
2018-02-26 12:51:03,409 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:51:03,409 - DEBUG - Order status PreSubmitted
2018-02-26 12:51:03,410 - DEBUG - Order Identification 225
2018-02-26 12:51:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:51:03,410 - DEBUG - Profit ID from database is 0
2018-02-26 12:51:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:51:03,411 - DEBUG - Stop ID database is 0
2018-02-26 12:51:03,411 - DEBUG - Entry ID database is 0
2018-02-26 12:51:05,408 - DEBUG - Connecting to database
2018-02-26 12:51:05,416 - DEBUG - Connected to database
2018-02-26 12:51:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,418 - DEBUG - Stop loss value is 0
2018-02-26 12:51:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,420 - DEBUG - Stop loss value is 0
2018-02-26 12:51:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,422 - DEBUG - EntryPrice value is 0
2018-02-26 12:51:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,423 - DEBUG - Stop quantity 0
2018-02-26 12:51:05,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,425 - DEBUG - Direction is 0
2018-02-26 12:51:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,427 - DEBUG - Count is 0
2018-02-26 12:51:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:51:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:51:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:51:05,430 - DEBUG - Max ID Order is (231,)
2018-02-26 12:51:05,430 - DEBUG - Today is 2018-02-26
2018-02-26 12:51:05,431 - DEBUG - Day of the week 0
2018-02-26 12:51:05,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:51:05,431 - DEBUG - In Position is  0
2018-02-26 12:51:05,432 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:51:05,432 - DEBUG - curStopLossFlag is  0
2018-02-26 12:51:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:51:05,432 - DEBUG - Checking if Entry has been filled
2018-02-26 12:51:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:51:05,434 - DEBUG - EntryPend is 0
2018-02-26 12:51:05,434 - DEBUG - Try to Cancel Stop
2018-02-26 12:51:05,434 - DEBUG - Stop API ID 0
2018-02-26 12:51:05,435 - DEBUG - Profit API ID 0
2018-02-26 12:51:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:51:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:51:05,435 - DEBUG - Pos is 0
2018-02-26 12:51:05,436 - DEBUG - CurCount is 0
2018-02-26 12:51:05,436 - DEBUG - In Pos 0
2018-02-26 12:51:05,436 - DEBUG - Stop ID is 0
2018-02-26 12:51:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:51:05,438 - DEBUG - EntryPend is 0
2018-02-26 12:51:05,439 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:51:05,439 - DEBUG - Entry Date is 10
2018-02-26 12:51:05,439 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:51:05,439 - DEBUG - Order Profit ID is 0
2018-02-26 12:51:05,440 - DEBUG - Order Entry ID is 0
2018-02-26 12:51:05,440 - DEBUG - API ID is  0
2018-02-26 12:51:05,440 - DEBUG - Current Position is 0
2018-02-26 12:51:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:51:05,441 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:51:05,441 - DEBUG - Time is 12
2018-02-26 12:51:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 12:51:05,441 - DEBUG - Time is 51
2018-02-26 12:51:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 12:51:05,442 - DEBUG - Disconnected from IBController
2018-02-26 12:51:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 12:56:01,352 - DEBUG - ****************************************************
2018-02-26 12:56:01,352 - DEBUG - Current Time is 12:56PM
2018-02-26 12:56:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-26 12:56:01,353 - DEBUG - Connecting to database
2018-02-26 12:56:01,382 - DEBUG - Connected to database
2018-02-26 12:56:01,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:01,384 - DEBUG - Order Profit is 0
2018-02-26 12:56:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:01,386 - DEBUG - Stop ID is 0
2018-02-26 12:56:01,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:01,388 - DEBUG - Entry ID is 0
2018-02-26 12:56:01,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 12:56:01,389 - DEBUG - OCA ID is 1
2018-02-26 12:56:01,390 - DEBUG - Connecting to IBController
2018-02-26 12:56:02,395 - DEBUG - Connected to IBController
2018-02-26 12:56:02,395 - DEBUG - Position requested
2018-02-26 12:56:02,406 - DEBUG - Pos Mgmt 0
2018-02-26 12:56:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BA90>, pos=0, avgCost=0.0>
2018-02-26 12:56:02,407 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 12:56:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-26 12:56:02,408 - DEBUG - Position is 0
2018-02-26 12:56:02,408 - DEBUG - Pos Mgmt -12987
2018-02-26 12:56:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BA20>, pos=-12987, avgCost=0.95368235>
2018-02-26 12:56:02,409 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 12:56:02,409 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 12:56:02,409 - DEBUG - Position is -12987
2018-02-26 12:56:03,407 - DEBUG - Open Orders requested
2018-02-26 12:56:03,409 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206BDD8>, order=<ib.ext.Order.Order object at 0x000000000206BD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021000B8>>
2018-02-26 12:56:03,409 - DEBUG - Order OrderID 225
2018-02-26 12:56:03,410 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 12:56:03,410 - DEBUG - Order status PreSubmitted
2018-02-26 12:56:03,411 - DEBUG - Order Identification 225
2018-02-26 12:56:03,411 - DEBUG - Order Identification <class 'int'>
2018-02-26 12:56:03,411 - DEBUG - Profit ID from database is 0
2018-02-26 12:56:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 12:56:03,412 - DEBUG - Stop ID database is 0
2018-02-26 12:56:03,412 - DEBUG - Entry ID database is 0
2018-02-26 12:56:05,409 - DEBUG - Connecting to database
2018-02-26 12:56:05,416 - DEBUG - Connected to database
2018-02-26 12:56:05,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,418 - DEBUG - Stop loss value is 0
2018-02-26 12:56:05,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,420 - DEBUG - Stop loss value is 0
2018-02-26 12:56:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,422 - DEBUG - EntryPrice value is 0
2018-02-26 12:56:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,423 - DEBUG - Stop quantity 0
2018-02-26 12:56:05,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,425 - DEBUG - Direction is 0
2018-02-26 12:56:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,427 - DEBUG - Count is 0
2018-02-26 12:56:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 12:56:05,429 - DEBUG - Stop Loss Flag is 0
2018-02-26 12:56:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 12:56:05,430 - DEBUG - Max ID Order is (231,)
2018-02-26 12:56:05,431 - DEBUG - Today is 2018-02-26
2018-02-26 12:56:05,431 - DEBUG - Day of the week 0
2018-02-26 12:56:05,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 12:56:05,432 - DEBUG - In Position is  0
2018-02-26 12:56:05,432 - DEBUG - In Position is  <class 'int'>
2018-02-26 12:56:05,432 - DEBUG - curStopLossFlag is  0
2018-02-26 12:56:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 12:56:05,433 - DEBUG - Checking if Entry has been filled
2018-02-26 12:56:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:56:05,434 - DEBUG - EntryPend is 0
2018-02-26 12:56:05,435 - DEBUG - Try to Cancel Stop
2018-02-26 12:56:05,435 - DEBUG - Stop API ID 0
2018-02-26 12:56:05,435 - DEBUG - Profit API ID 0
2018-02-26 12:56:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 12:56:05,436 - DEBUG - Profit API ID <class 'int'>
2018-02-26 12:56:05,436 - DEBUG - Pos is 0
2018-02-26 12:56:05,436 - DEBUG - CurCount is 0
2018-02-26 12:56:05,436 - DEBUG - In Pos 0
2018-02-26 12:56:05,436 - DEBUG - Stop ID is 0
2018-02-26 12:56:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 12:56:05,438 - DEBUG - EntryPend is 0
2018-02-26 12:56:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 12:56:05,438 - DEBUG - Entry Date is 10
2018-02-26 12:56:05,439 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 12:56:05,439 - DEBUG - Order Profit ID is 0
2018-02-26 12:56:05,439 - DEBUG - Order Entry ID is 0
2018-02-26 12:56:05,439 - DEBUG - API ID is  0
2018-02-26 12:56:05,440 - DEBUG - Current Position is 0
2018-02-26 12:56:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-26 12:56:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 12:56:05,440 - DEBUG - Time is 12
2018-02-26 12:56:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 12:56:05,441 - DEBUG - Time is 56
2018-02-26 12:56:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 12:56:05,441 - DEBUG - Disconnected from IBController
2018-02-26 12:56:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:01:01,365 - DEBUG - ****************************************************
2018-02-26 13:01:01,365 - DEBUG - Current Time is 01:01PM
2018-02-26 13:01:01,366 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:01:01,366 - DEBUG - Connecting to database
2018-02-26 13:01:01,436 - DEBUG - Connected to database
2018-02-26 13:01:01,436 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:01,438 - DEBUG - Order Profit is 0
2018-02-26 13:01:01,438 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:01,440 - DEBUG - Stop ID is 0
2018-02-26 13:01:01,440 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:01,444 - DEBUG - Entry ID is 0
2018-02-26 13:01:01,444 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:01:01,446 - DEBUG - OCA ID is 1
2018-02-26 13:01:01,446 - DEBUG - Connecting to IBController
2018-02-26 13:01:02,452 - DEBUG - Connected to IBController
2018-02-26 13:01:02,452 - DEBUG - Position requested
2018-02-26 13:01:02,453 - DEBUG - Pos Mgmt 0
2018-02-26 13:01:02,454 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CB00>, pos=0, avgCost=0.0>
2018-02-26 13:01:02,454 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:01:02,455 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:01:02,455 - DEBUG - Position is 0
2018-02-26 13:01:02,455 - DEBUG - Pos Mgmt -12987
2018-02-26 13:01:02,455 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CC88>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:01:02,456 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:01:02,456 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:01:02,456 - DEBUG - Position is -12987
2018-02-26 13:01:03,454 - DEBUG - Open Orders requested
2018-02-26 13:01:03,456 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CD30>, order=<ib.ext.Order.Order object at 0x000000000204CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2048>>
2018-02-26 13:01:03,456 - DEBUG - Order OrderID 225
2018-02-26 13:01:03,457 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:01:03,457 - DEBUG - Order status PreSubmitted
2018-02-26 13:01:03,457 - DEBUG - Order Identification 225
2018-02-26 13:01:03,458 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:01:03,458 - DEBUG - Profit ID from database is 0
2018-02-26 13:01:03,458 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:01:03,459 - DEBUG - Stop ID database is 0
2018-02-26 13:01:03,459 - DEBUG - Entry ID database is 0
2018-02-26 13:01:05,456 - DEBUG - Connecting to database
2018-02-26 13:01:05,463 - DEBUG - Connected to database
2018-02-26 13:01:05,464 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,465 - DEBUG - Stop loss value is 0
2018-02-26 13:01:05,466 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,467 - DEBUG - Stop loss value is 0
2018-02-26 13:01:05,468 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,468 - DEBUG - EntryPrice value is 0
2018-02-26 13:01:05,469 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,470 - DEBUG - Stop quantity 0
2018-02-26 13:01:05,471 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,471 - DEBUG - Direction is 0
2018-02-26 13:01:05,473 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,473 - DEBUG - Count is 0
2018-02-26 13:01:05,474 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:01:05,475 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:01:05,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:01:05,476 - DEBUG - Max ID Order is (231,)
2018-02-26 13:01:05,477 - DEBUG - Today is 2018-02-26
2018-02-26 13:01:05,477 - DEBUG - Day of the week 0
2018-02-26 13:01:05,477 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:01:05,478 - DEBUG - In Position is  0
2018-02-26 13:01:05,478 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:01:05,478 - DEBUG - curStopLossFlag is  0
2018-02-26 13:01:05,478 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:01:05,479 - DEBUG - Checking if Entry has been filled
2018-02-26 13:01:05,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:01:05,480 - DEBUG - EntryPend is 0
2018-02-26 13:01:05,480 - DEBUG - Try to Cancel Stop
2018-02-26 13:01:05,481 - DEBUG - Stop API ID 0
2018-02-26 13:01:05,481 - DEBUG - Profit API ID 0
2018-02-26 13:01:05,481 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:01:05,481 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:01:05,482 - DEBUG - Pos is 0
2018-02-26 13:01:05,482 - DEBUG - CurCount is 0
2018-02-26 13:01:05,482 - DEBUG - In Pos 0
2018-02-26 13:01:05,482 - DEBUG - Stop ID is 0
2018-02-26 13:01:05,482 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:01:05,484 - DEBUG - EntryPend is 0
2018-02-26 13:01:05,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:01:05,484 - DEBUG - Entry Date is 10
2018-02-26 13:01:05,484 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:01:05,485 - DEBUG - Order Profit ID is 0
2018-02-26 13:01:05,485 - DEBUG - Order Entry ID is 0
2018-02-26 13:01:05,485 - DEBUG - API ID is  0
2018-02-26 13:01:05,485 - DEBUG - Current Position is 0
2018-02-26 13:01:05,485 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:01:05,486 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:01:05,486 - DEBUG - Time is 13
2018-02-26 13:01:05,486 - DEBUG - Time is <class 'int'>
2018-02-26 13:01:05,486 - DEBUG - Time is 1
2018-02-26 13:01:05,487 - DEBUG - Time is <class 'int'>
2018-02-26 13:01:05,487 - DEBUG - Disconnected from IBController
2018-02-26 13:01:05,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:06:01,353 - DEBUG - ****************************************************
2018-02-26 13:06:01,353 - DEBUG - Current Time is 01:06PM
2018-02-26 13:06:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:06:01,354 - DEBUG - Connecting to database
2018-02-26 13:06:01,387 - DEBUG - Connected to database
2018-02-26 13:06:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:01,389 - DEBUG - Order Profit is 0
2018-02-26 13:06:01,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:01,390 - DEBUG - Stop ID is 0
2018-02-26 13:06:01,391 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:01,392 - DEBUG - Entry ID is 0
2018-02-26 13:06:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:06:01,393 - DEBUG - OCA ID is 1
2018-02-26 13:06:01,394 - DEBUG - Connecting to IBController
2018-02-26 13:06:02,400 - DEBUG - Connected to IBController
2018-02-26 13:06:02,400 - DEBUG - Position requested
2018-02-26 13:06:02,402 - DEBUG - Pos Mgmt 0
2018-02-26 13:06:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCF8>, pos=0, avgCost=0.0>
2018-02-26 13:06:02,402 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:06:02,403 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:06:02,403 - DEBUG - Position is 0
2018-02-26 13:06:02,404 - DEBUG - Pos Mgmt -12987
2018-02-26 13:06:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB38>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:06:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:06:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:06:02,405 - DEBUG - Position is -12987
2018-02-26 13:06:03,401 - DEBUG - Open Orders requested
2018-02-26 13:06:03,403 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CD30>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-26 13:06:03,404 - DEBUG - Order OrderID 225
2018-02-26 13:06:03,404 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:06:03,406 - DEBUG - Order status PreSubmitted
2018-02-26 13:06:03,406 - DEBUG - Order Identification 225
2018-02-26 13:06:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:06:03,407 - DEBUG - Profit ID from database is 0
2018-02-26 13:06:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:06:03,407 - DEBUG - Stop ID database is 0
2018-02-26 13:06:03,407 - DEBUG - Entry ID database is 0
2018-02-26 13:06:05,403 - DEBUG - Connecting to database
2018-02-26 13:06:05,411 - DEBUG - Connected to database
2018-02-26 13:06:05,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,413 - DEBUG - Stop loss value is 0
2018-02-26 13:06:05,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,414 - DEBUG - Stop loss value is 0
2018-02-26 13:06:05,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,416 - DEBUG - EntryPrice value is 0
2018-02-26 13:06:05,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,417 - DEBUG - Stop quantity 0
2018-02-26 13:06:05,419 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,419 - DEBUG - Direction is 0
2018-02-26 13:06:05,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,421 - DEBUG - Count is 0
2018-02-26 13:06:05,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:06:05,422 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:06:05,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:06:05,424 - DEBUG - Max ID Order is (231,)
2018-02-26 13:06:05,425 - DEBUG - Today is 2018-02-26
2018-02-26 13:06:05,425 - DEBUG - Day of the week 0
2018-02-26 13:06:05,425 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:06:05,426 - DEBUG - In Position is  0
2018-02-26 13:06:05,426 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:06:05,426 - DEBUG - curStopLossFlag is  0
2018-02-26 13:06:05,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:06:05,426 - DEBUG - Checking if Entry has been filled
2018-02-26 13:06:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:06:05,428 - DEBUG - EntryPend is 0
2018-02-26 13:06:05,428 - DEBUG - Try to Cancel Stop
2018-02-26 13:06:05,429 - DEBUG - Stop API ID 0
2018-02-26 13:06:05,429 - DEBUG - Profit API ID 0
2018-02-26 13:06:05,429 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:06:05,429 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:06:05,429 - DEBUG - Pos is 0
2018-02-26 13:06:05,430 - DEBUG - CurCount is 0
2018-02-26 13:06:05,430 - DEBUG - In Pos 0
2018-02-26 13:06:05,430 - DEBUG - Stop ID is 0
2018-02-26 13:06:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:06:05,432 - DEBUG - EntryPend is 0
2018-02-26 13:06:05,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:06:05,432 - DEBUG - Entry Date is 10
2018-02-26 13:06:05,432 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:06:05,433 - DEBUG - Order Profit ID is 0
2018-02-26 13:06:05,433 - DEBUG - Order Entry ID is 0
2018-02-26 13:06:05,433 - DEBUG - API ID is  0
2018-02-26 13:06:05,433 - DEBUG - Current Position is 0
2018-02-26 13:06:05,434 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:06:05,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:06:05,434 - DEBUG - Time is 13
2018-02-26 13:06:05,434 - DEBUG - Time is <class 'int'>
2018-02-26 13:06:05,435 - DEBUG - Time is 6
2018-02-26 13:06:05,435 - DEBUG - Time is <class 'int'>
2018-02-26 13:06:05,435 - DEBUG - Disconnected from IBController
2018-02-26 13:06:05,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:11:01,350 - DEBUG - ****************************************************
2018-02-26 13:11:01,351 - DEBUG - Current Time is 01:11PM
2018-02-26 13:11:01,351 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:11:01,351 - DEBUG - Connecting to database
2018-02-26 13:11:01,387 - DEBUG - Connected to database
2018-02-26 13:11:01,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:01,389 - DEBUG - Order Profit is 0
2018-02-26 13:11:01,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:01,391 - DEBUG - Stop ID is 0
2018-02-26 13:11:01,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:01,393 - DEBUG - Entry ID is 0
2018-02-26 13:11:01,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:11:01,395 - DEBUG - OCA ID is 1
2018-02-26 13:11:01,395 - DEBUG - Connecting to IBController
2018-02-26 13:11:02,405 - DEBUG - Connected to IBController
2018-02-26 13:11:02,405 - DEBUG - Position requested
2018-02-26 13:11:02,406 - DEBUG - Pos Mgmt 0
2018-02-26 13:11:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA90>, pos=0, avgCost=0.0>
2018-02-26 13:11:02,407 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:11:02,408 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:11:02,408 - DEBUG - Position is 0
2018-02-26 13:11:02,408 - DEBUG - Pos Mgmt -12987
2018-02-26 13:11:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:11:02,409 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:11:02,409 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:11:02,409 - DEBUG - Position is -12987
2018-02-26 13:11:03,407 - DEBUG - Open Orders requested
2018-02-26 13:11:03,409 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CDD8>, order=<ib.ext.Order.Order object at 0x000000000206CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020B8>>
2018-02-26 13:11:03,409 - DEBUG - Order OrderID 225
2018-02-26 13:11:03,410 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:11:03,410 - DEBUG - Order status PreSubmitted
2018-02-26 13:11:03,411 - DEBUG - Order Identification 225
2018-02-26 13:11:03,411 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:11:03,411 - DEBUG - Profit ID from database is 0
2018-02-26 13:11:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:11:03,411 - DEBUG - Stop ID database is 0
2018-02-26 13:11:03,412 - DEBUG - Entry ID database is 0
2018-02-26 13:11:05,409 - DEBUG - Connecting to database
2018-02-26 13:11:05,416 - DEBUG - Connected to database
2018-02-26 13:11:05,418 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,418 - DEBUG - Stop loss value is 0
2018-02-26 13:11:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,420 - DEBUG - Stop loss value is 0
2018-02-26 13:11:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,421 - DEBUG - EntryPrice value is 0
2018-02-26 13:11:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,423 - DEBUG - Stop quantity 0
2018-02-26 13:11:05,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,425 - DEBUG - Direction is 0
2018-02-26 13:11:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,427 - DEBUG - Count is 0
2018-02-26 13:11:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:11:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:11:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:11:05,430 - DEBUG - Max ID Order is (231,)
2018-02-26 13:11:05,431 - DEBUG - Today is 2018-02-26
2018-02-26 13:11:05,431 - DEBUG - Day of the week 0
2018-02-26 13:11:05,431 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:11:05,432 - DEBUG - In Position is  0
2018-02-26 13:11:05,432 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:11:05,432 - DEBUG - curStopLossFlag is  0
2018-02-26 13:11:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:11:05,432 - DEBUG - Checking if Entry has been filled
2018-02-26 13:11:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:11:05,434 - DEBUG - EntryPend is 0
2018-02-26 13:11:05,434 - DEBUG - Try to Cancel Stop
2018-02-26 13:11:05,434 - DEBUG - Stop API ID 0
2018-02-26 13:11:05,435 - DEBUG - Profit API ID 0
2018-02-26 13:11:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:11:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:11:05,435 - DEBUG - Pos is 0
2018-02-26 13:11:05,436 - DEBUG - CurCount is 0
2018-02-26 13:11:05,436 - DEBUG - In Pos 0
2018-02-26 13:11:05,436 - DEBUG - Stop ID is 0
2018-02-26 13:11:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:11:05,438 - DEBUG - EntryPend is 0
2018-02-26 13:11:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:11:05,438 - DEBUG - Entry Date is 10
2018-02-26 13:11:05,438 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:11:05,439 - DEBUG - Order Profit ID is 0
2018-02-26 13:11:05,439 - DEBUG - Order Entry ID is 0
2018-02-26 13:11:05,439 - DEBUG - API ID is  0
2018-02-26 13:11:05,439 - DEBUG - Current Position is 0
2018-02-26 13:11:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:11:05,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:11:05,440 - DEBUG - Time is 13
2018-02-26 13:11:05,440 - DEBUG - Time is <class 'int'>
2018-02-26 13:11:05,441 - DEBUG - Time is 11
2018-02-26 13:11:05,441 - DEBUG - Time is <class 'int'>
2018-02-26 13:11:05,441 - DEBUG - Disconnected from IBController
2018-02-26 13:11:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:16:01,348 - DEBUG - ****************************************************
2018-02-26 13:16:01,349 - DEBUG - Current Time is 01:16PM
2018-02-26 13:16:01,349 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:16:01,349 - DEBUG - Connecting to database
2018-02-26 13:16:01,374 - DEBUG - Connected to database
2018-02-26 13:16:01,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:01,376 - DEBUG - Order Profit is 0
2018-02-26 13:16:01,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:01,377 - DEBUG - Stop ID is 0
2018-02-26 13:16:01,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:01,379 - DEBUG - Entry ID is 0
2018-02-26 13:16:01,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:16:01,381 - DEBUG - OCA ID is 1
2018-02-26 13:16:01,381 - DEBUG - Connecting to IBController
2018-02-26 13:16:02,392 - DEBUG - Connected to IBController
2018-02-26 13:16:02,392 - DEBUG - Position requested
2018-02-26 13:16:02,394 - DEBUG - Pos Mgmt 0
2018-02-26 13:16:02,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BC88>, pos=0, avgCost=0.0>
2018-02-26 13:16:02,394 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:16:02,395 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:16:02,395 - DEBUG - Position is 0
2018-02-26 13:16:02,395 - DEBUG - Pos Mgmt -12987
2018-02-26 13:16:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208BC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:16:02,396 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:16:02,396 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:16:02,396 - DEBUG - Position is -12987
2018-02-26 13:16:03,393 - DEBUG - Open Orders requested
2018-02-26 13:16:03,395 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208BDD8>, order=<ib.ext.Order.Order object at 0x000000000208BA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021200B8>>
2018-02-26 13:16:03,396 - DEBUG - Order OrderID 225
2018-02-26 13:16:03,396 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:16:03,397 - DEBUG - Order status PreSubmitted
2018-02-26 13:16:03,397 - DEBUG - Order Identification 225
2018-02-26 13:16:03,397 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:16:03,397 - DEBUG - Profit ID from database is 0
2018-02-26 13:16:03,398 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:16:03,398 - DEBUG - Stop ID database is 0
2018-02-26 13:16:03,398 - DEBUG - Entry ID database is 0
2018-02-26 13:16:05,395 - DEBUG - Connecting to database
2018-02-26 13:16:05,402 - DEBUG - Connected to database
2018-02-26 13:16:05,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,404 - DEBUG - Stop loss value is 0
2018-02-26 13:16:05,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,406 - DEBUG - Stop loss value is 0
2018-02-26 13:16:05,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,408 - DEBUG - EntryPrice value is 0
2018-02-26 13:16:05,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,409 - DEBUG - Stop quantity 0
2018-02-26 13:16:05,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,411 - DEBUG - Direction is 0
2018-02-26 13:16:05,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,413 - DEBUG - Count is 0
2018-02-26 13:16:05,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:16:05,415 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:16:05,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:16:05,416 - DEBUG - Max ID Order is (231,)
2018-02-26 13:16:05,417 - DEBUG - Today is 2018-02-26
2018-02-26 13:16:05,417 - DEBUG - Day of the week 0
2018-02-26 13:16:05,417 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:16:05,417 - DEBUG - In Position is  0
2018-02-26 13:16:05,418 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:16:05,418 - DEBUG - curStopLossFlag is  0
2018-02-26 13:16:05,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:16:05,418 - DEBUG - Checking if Entry has been filled
2018-02-26 13:16:05,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:16:05,420 - DEBUG - EntryPend is 0
2018-02-26 13:16:05,420 - DEBUG - Try to Cancel Stop
2018-02-26 13:16:05,420 - DEBUG - Stop API ID 0
2018-02-26 13:16:05,421 - DEBUG - Profit API ID 0
2018-02-26 13:16:05,421 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:16:05,421 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:16:05,421 - DEBUG - Pos is 0
2018-02-26 13:16:05,422 - DEBUG - CurCount is 0
2018-02-26 13:16:05,422 - DEBUG - In Pos 0
2018-02-26 13:16:05,422 - DEBUG - Stop ID is 0
2018-02-26 13:16:05,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:16:05,424 - DEBUG - EntryPend is 0
2018-02-26 13:16:05,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:16:05,424 - DEBUG - Entry Date is 10
2018-02-26 13:16:05,424 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:16:05,425 - DEBUG - Order Profit ID is 0
2018-02-26 13:16:05,425 - DEBUG - Order Entry ID is 0
2018-02-26 13:16:05,425 - DEBUG - API ID is  0
2018-02-26 13:16:05,425 - DEBUG - Current Position is 0
2018-02-26 13:16:05,425 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:16:05,426 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:16:05,426 - DEBUG - Time is 13
2018-02-26 13:16:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 13:16:05,426 - DEBUG - Time is 16
2018-02-26 13:16:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 13:16:05,427 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 13:16:05,427 - ERROR - Canceled Order 0
2018-02-26 13:16:05,428 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 13:16:05,443 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 13:16:05,458 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 13:16:05,473 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 13:16:05,489 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 13:16:05,504 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-26 13:16:05,518 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 13:16:05,675 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 13:16:05,691 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-26 13:16:05,705 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 13:16:05,723 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 13:16:05,738 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 13:16:05,753 - DEBUG - Disconnected from IBController
2018-02-26 13:16:05,754 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:21:01,347 - DEBUG - ****************************************************
2018-02-26 13:21:01,347 - DEBUG - Current Time is 01:21PM
2018-02-26 13:21:01,348 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:21:01,348 - DEBUG - Connecting to database
2018-02-26 13:21:01,381 - DEBUG - Connected to database
2018-02-26 13:21:01,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:01,383 - DEBUG - Order Profit is 0
2018-02-26 13:21:01,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:01,384 - DEBUG - Stop ID is 0
2018-02-26 13:21:01,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:01,386 - DEBUG - Entry ID is 0
2018-02-26 13:21:01,386 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:21:01,388 - DEBUG - OCA ID is 1
2018-02-26 13:21:01,388 - DEBUG - Connecting to IBController
2018-02-26 13:21:02,394 - DEBUG - Connected to IBController
2018-02-26 13:21:02,394 - DEBUG - Position requested
2018-02-26 13:21:02,396 - DEBUG - Pos Mgmt 0
2018-02-26 13:21:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BCC0>, pos=0, avgCost=0.0>
2018-02-26 13:21:02,396 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:21:02,396 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:21:02,397 - DEBUG - Position is 0
2018-02-26 13:21:02,397 - DEBUG - Pos Mgmt -12987
2018-02-26 13:21:02,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:21:02,398 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:21:02,398 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:21:02,399 - DEBUG - Position is -12987
2018-02-26 13:21:03,395 - DEBUG - Open Orders requested
2018-02-26 13:21:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BCC0>, order=<ib.ext.Order.Order object at 0x000000000205BC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0048>>
2018-02-26 13:21:03,402 - DEBUG - Order OrderID 225
2018-02-26 13:21:03,403 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:21:03,403 - DEBUG - Order status PreSubmitted
2018-02-26 13:21:03,403 - DEBUG - Order Identification 225
2018-02-26 13:21:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:21:03,404 - DEBUG - Profit ID from database is 0
2018-02-26 13:21:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:21:03,404 - DEBUG - Stop ID database is 0
2018-02-26 13:21:03,404 - DEBUG - Entry ID database is 0
2018-02-26 13:21:05,395 - DEBUG - Connecting to database
2018-02-26 13:21:05,402 - DEBUG - Connected to database
2018-02-26 13:21:05,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,404 - DEBUG - Stop loss value is 0
2018-02-26 13:21:05,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,406 - DEBUG - Stop loss value is 0
2018-02-26 13:21:05,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,407 - DEBUG - EntryPrice value is 0
2018-02-26 13:21:05,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,409 - DEBUG - Stop quantity 0
2018-02-26 13:21:05,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,411 - DEBUG - Direction is 0
2018-02-26 13:21:05,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,412 - DEBUG - Count is 0
2018-02-26 13:21:05,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:21:05,414 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:21:05,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:21:05,416 - DEBUG - Max ID Order is (231,)
2018-02-26 13:21:05,416 - DEBUG - Today is 2018-02-26
2018-02-26 13:21:05,417 - DEBUG - Day of the week 0
2018-02-26 13:21:05,417 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:21:05,417 - DEBUG - In Position is  0
2018-02-26 13:21:05,417 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:21:05,418 - DEBUG - curStopLossFlag is  0
2018-02-26 13:21:05,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:21:05,418 - DEBUG - Checking if Entry has been filled
2018-02-26 13:21:05,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:21:05,420 - DEBUG - EntryPend is 0
2018-02-26 13:21:05,420 - DEBUG - Try to Cancel Stop
2018-02-26 13:21:05,420 - DEBUG - Stop API ID 0
2018-02-26 13:21:05,421 - DEBUG - Profit API ID 0
2018-02-26 13:21:05,421 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:21:05,421 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:21:05,421 - DEBUG - Pos is 0
2018-02-26 13:21:05,422 - DEBUG - CurCount is 0
2018-02-26 13:21:05,422 - DEBUG - In Pos 0
2018-02-26 13:21:05,422 - DEBUG - Stop ID is 0
2018-02-26 13:21:05,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:21:05,424 - DEBUG - EntryPend is 0
2018-02-26 13:21:05,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:21:05,424 - DEBUG - Entry Date is 10
2018-02-26 13:21:05,424 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:21:05,424 - DEBUG - Order Profit ID is 0
2018-02-26 13:21:05,425 - DEBUG - Order Entry ID is 0
2018-02-26 13:21:05,425 - DEBUG - API ID is  0
2018-02-26 13:21:05,425 - DEBUG - Current Position is 0
2018-02-26 13:21:05,425 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:21:05,425 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:21:05,426 - DEBUG - Time is 13
2018-02-26 13:21:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 13:21:05,426 - DEBUG - Time is 21
2018-02-26 13:21:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 13:21:05,427 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 13:21:05,427 - ERROR - Canceled Order 0
2018-02-26 13:21:05,428 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 13:21:05,442 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 13:21:05,457 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 13:21:05,472 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 13:21:05,486 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 13:21:05,500 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-26 13:21:05,524 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 13:21:05,539 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 13:21:05,553 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-26 13:21:05,568 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 13:21:05,581 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 13:21:05,595 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 13:21:05,610 - DEBUG - Disconnected from IBController
2018-02-26 13:21:05,611 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:26:01,350 - DEBUG - ****************************************************
2018-02-26 13:26:01,351 - DEBUG - Current Time is 01:26PM
2018-02-26 13:26:01,351 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:26:01,351 - DEBUG - Connecting to database
2018-02-26 13:26:01,393 - DEBUG - Connected to database
2018-02-26 13:26:01,393 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:01,395 - DEBUG - Order Profit is 0
2018-02-26 13:26:01,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:01,396 - DEBUG - Stop ID is 0
2018-02-26 13:26:01,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:01,398 - DEBUG - Entry ID is 0
2018-02-26 13:26:01,398 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:26:01,400 - DEBUG - OCA ID is 1
2018-02-26 13:26:01,400 - DEBUG - Connecting to IBController
2018-02-26 13:26:02,407 - DEBUG - Connected to IBController
2018-02-26 13:26:02,407 - DEBUG - Position requested
2018-02-26 13:26:02,409 - DEBUG - Pos Mgmt 0
2018-02-26 13:26:02,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BBA90>, pos=0, avgCost=0.0>
2018-02-26 13:26:02,410 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:26:02,411 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:26:02,411 - DEBUG - Position is 0
2018-02-26 13:26:02,411 - DEBUG - Pos Mgmt -12987
2018-02-26 13:26:02,412 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BBC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:26:02,412 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:26:02,412 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:26:02,412 - DEBUG - Position is -12987
2018-02-26 13:26:03,409 - DEBUG - Open Orders requested
2018-02-26 13:26:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BBDD8>, order=<ib.ext.Order.Order object at 0x00000000020BBDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002150048>>
2018-02-26 13:26:03,411 - DEBUG - Order OrderID 225
2018-02-26 13:26:03,412 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:26:03,412 - DEBUG - Order status PreSubmitted
2018-02-26 13:26:03,412 - DEBUG - Order Identification 225
2018-02-26 13:26:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:26:03,413 - DEBUG - Profit ID from database is 0
2018-02-26 13:26:03,413 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:26:03,413 - DEBUG - Stop ID database is 0
2018-02-26 13:26:03,414 - DEBUG - Entry ID database is 0
2018-02-26 13:26:05,411 - DEBUG - Connecting to database
2018-02-26 13:26:05,418 - DEBUG - Connected to database
2018-02-26 13:26:05,420 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,420 - DEBUG - Stop loss value is 0
2018-02-26 13:26:05,422 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,422 - DEBUG - Stop loss value is 0
2018-02-26 13:26:05,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,424 - DEBUG - EntryPrice value is 0
2018-02-26 13:26:05,425 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,425 - DEBUG - Stop quantity 0
2018-02-26 13:26:05,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,427 - DEBUG - Direction is 0
2018-02-26 13:26:05,428 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,429 - DEBUG - Count is 0
2018-02-26 13:26:05,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:26:05,431 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:26:05,432 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:26:05,432 - DEBUG - Max ID Order is (231,)
2018-02-26 13:26:05,433 - DEBUG - Today is 2018-02-26
2018-02-26 13:26:05,433 - DEBUG - Day of the week 0
2018-02-26 13:26:05,433 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:26:05,434 - DEBUG - In Position is  0
2018-02-26 13:26:05,434 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:26:05,434 - DEBUG - curStopLossFlag is  0
2018-02-26 13:26:05,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:26:05,435 - DEBUG - Checking if Entry has been filled
2018-02-26 13:26:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:26:05,436 - DEBUG - EntryPend is 0
2018-02-26 13:26:05,437 - DEBUG - Try to Cancel Stop
2018-02-26 13:26:05,437 - DEBUG - Stop API ID 0
2018-02-26 13:26:05,437 - DEBUG - Profit API ID 0
2018-02-26 13:26:05,437 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:26:05,437 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:26:05,438 - DEBUG - Pos is 0
2018-02-26 13:26:05,438 - DEBUG - CurCount is 0
2018-02-26 13:26:05,438 - DEBUG - In Pos 0
2018-02-26 13:26:05,438 - DEBUG - Stop ID is 0
2018-02-26 13:26:05,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:26:05,440 - DEBUG - EntryPend is 0
2018-02-26 13:26:05,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:26:05,441 - DEBUG - Entry Date is 10
2018-02-26 13:26:05,441 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:26:05,441 - DEBUG - Order Profit ID is 0
2018-02-26 13:26:05,441 - DEBUG - Order Entry ID is 0
2018-02-26 13:26:05,441 - DEBUG - API ID is  0
2018-02-26 13:26:05,442 - DEBUG - Current Position is 0
2018-02-26 13:26:05,442 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:26:05,442 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:26:05,442 - DEBUG - Time is 13
2018-02-26 13:26:05,443 - DEBUG - Time is <class 'int'>
2018-02-26 13:26:05,443 - DEBUG - Time is 26
2018-02-26 13:26:05,443 - DEBUG - Time is <class 'int'>
2018-02-26 13:26:05,443 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 13:26:05,444 - ERROR - Canceled Order 0
2018-02-26 13:26:05,444 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 13:26:05,459 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 13:26:05,473 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 13:26:05,488 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 13:26:05,502 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 13:26:05,516 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-26 13:26:05,530 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 13:26:05,544 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 13:26:05,558 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-26 13:26:05,573 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 13:26:05,587 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 13:26:05,601 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 13:26:05,616 - DEBUG - Disconnected from IBController
2018-02-26 13:26:05,616 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:31:01,347 - DEBUG - ****************************************************
2018-02-26 13:31:01,347 - DEBUG - Current Time is 01:31PM
2018-02-26 13:31:01,348 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:31:01,348 - DEBUG - Connecting to database
2018-02-26 13:31:01,380 - DEBUG - Connected to database
2018-02-26 13:31:01,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:01,382 - DEBUG - Order Profit is 0
2018-02-26 13:31:01,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:01,384 - DEBUG - Stop ID is 0
2018-02-26 13:31:01,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:01,385 - DEBUG - Entry ID is 0
2018-02-26 13:31:01,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:31:01,387 - DEBUG - OCA ID is 1
2018-02-26 13:31:01,387 - DEBUG - Connecting to IBController
2018-02-26 13:31:02,392 - DEBUG - Connected to IBController
2018-02-26 13:31:02,392 - DEBUG - Position requested
2018-02-26 13:31:02,393 - DEBUG - Pos Mgmt 0
2018-02-26 13:31:02,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=0, avgCost=0.0>
2018-02-26 13:31:02,394 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:31:02,395 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:31:02,395 - DEBUG - Position is 0
2018-02-26 13:31:02,395 - DEBUG - Pos Mgmt -12987
2018-02-26 13:31:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:31:02,396 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:31:02,396 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:31:02,396 - DEBUG - Position is -12987
2018-02-26 13:31:03,393 - DEBUG - Open Orders requested
2018-02-26 13:31:03,395 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, order=<ib.ext.Order.Order object at 0x000000000207DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-26 13:31:03,395 - DEBUG - Order OrderID 225
2018-02-26 13:31:03,396 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:31:03,396 - DEBUG - Order status PreSubmitted
2018-02-26 13:31:03,397 - DEBUG - Order Identification 225
2018-02-26 13:31:03,397 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:31:03,397 - DEBUG - Profit ID from database is 0
2018-02-26 13:31:03,397 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:31:03,398 - DEBUG - Stop ID database is 0
2018-02-26 13:31:03,398 - DEBUG - Entry ID database is 0
2018-02-26 13:31:05,395 - DEBUG - Connecting to database
2018-02-26 13:31:05,402 - DEBUG - Connected to database
2018-02-26 13:31:05,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,404 - DEBUG - Stop loss value is 0
2018-02-26 13:31:05,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,406 - DEBUG - Stop loss value is 0
2018-02-26 13:31:05,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,408 - DEBUG - EntryPrice value is 0
2018-02-26 13:31:05,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,409 - DEBUG - Stop quantity 0
2018-02-26 13:31:05,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,411 - DEBUG - Direction is 0
2018-02-26 13:31:05,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,413 - DEBUG - Count is 0
2018-02-26 13:31:05,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:31:05,414 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:31:05,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:31:05,416 - DEBUG - Max ID Order is (231,)
2018-02-26 13:31:05,417 - DEBUG - Today is 2018-02-26
2018-02-26 13:31:05,417 - DEBUG - Day of the week 0
2018-02-26 13:31:05,417 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:31:05,418 - DEBUG - In Position is  0
2018-02-26 13:31:05,418 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:31:05,418 - DEBUG - curStopLossFlag is  0
2018-02-26 13:31:05,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:31:05,418 - DEBUG - Checking if Entry has been filled
2018-02-26 13:31:05,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:31:05,420 - DEBUG - EntryPend is 0
2018-02-26 13:31:05,420 - DEBUG - Try to Cancel Stop
2018-02-26 13:31:05,421 - DEBUG - Stop API ID 0
2018-02-26 13:31:05,421 - DEBUG - Profit API ID 0
2018-02-26 13:31:05,421 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:31:05,421 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:31:05,421 - DEBUG - Pos is 0
2018-02-26 13:31:05,422 - DEBUG - CurCount is 0
2018-02-26 13:31:05,422 - DEBUG - In Pos 0
2018-02-26 13:31:05,422 - DEBUG - Stop ID is 0
2018-02-26 13:31:05,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:31:05,424 - DEBUG - EntryPend is 0
2018-02-26 13:31:05,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:31:05,424 - DEBUG - Entry Date is 10
2018-02-26 13:31:05,425 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:31:05,425 - DEBUG - Order Profit ID is 0
2018-02-26 13:31:05,425 - DEBUG - Order Entry ID is 0
2018-02-26 13:31:05,425 - DEBUG - API ID is  0
2018-02-26 13:31:05,426 - DEBUG - Current Position is 0
2018-02-26 13:31:05,426 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:31:05,426 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:31:05,426 - DEBUG - Time is 13
2018-02-26 13:31:05,426 - DEBUG - Time is <class 'int'>
2018-02-26 13:31:05,427 - DEBUG - Time is 31
2018-02-26 13:31:05,427 - DEBUG - Time is <class 'int'>
2018-02-26 13:31:05,427 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 13:31:05,428 - ERROR - Canceled Order 0
2018-02-26 13:31:05,428 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 13:31:05,443 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 13:31:05,458 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 13:31:05,472 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 13:31:05,487 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 13:31:05,501 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-26 13:31:05,515 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 13:31:05,529 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 13:31:05,543 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-26 13:31:05,559 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 13:31:05,574 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 13:31:05,589 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 13:31:05,604 - DEBUG - Disconnected from IBController
2018-02-26 13:31:05,605 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-26 13:36:01,360 - DEBUG - ****************************************************
2018-02-26 13:36:01,361 - DEBUG - Current Time is 01:36PM
2018-02-26 13:36:01,361 - DEBUG - Starting Pos Mgmt H E
2018-02-26 13:36:01,361 - DEBUG - Connecting to database
2018-02-26 13:36:01,414 - DEBUG - Connected to database
2018-02-26 13:36:01,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:01,416 - DEBUG - Order Profit is 0
2018-02-26 13:36:01,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:01,417 - DEBUG - Stop ID is 0
2018-02-26 13:36:01,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:01,419 - DEBUG - Entry ID is 0
2018-02-26 13:36:01,419 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-26 13:36:01,421 - DEBUG - OCA ID is 1
2018-02-26 13:36:01,421 - DEBUG - Connecting to IBController
2018-02-26 13:36:02,426 - DEBUG - Connected to IBController
2018-02-26 13:36:02,426 - DEBUG - Position requested
2018-02-26 13:36:02,428 - DEBUG - Pos Mgmt 0
2018-02-26 13:36:02,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=0, avgCost=0.0>
2018-02-26 13:36:02,429 - DEBUG - ccy1 Symbol with position is HE
2018-02-26 13:36:02,429 - DEBUG - ccy2 Currency with position is USD
2018-02-26 13:36:02,429 - DEBUG - Position is 0
2018-02-26 13:36:02,430 - DEBUG - Pos Mgmt -12987
2018-02-26 13:36:02,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC18>, pos=-12987, avgCost=0.95368235>
2018-02-26 13:36:02,430 - DEBUG - ccy1 Symbol with position is NZD
2018-02-26 13:36:02,431 - DEBUG - ccy2 Currency with position is CAD
2018-02-26 13:36:02,431 - DEBUG - Position is -12987
2018-02-26 13:36:03,428 - DEBUG - Open Orders requested
2018-02-26 13:36:03,430 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-26 13:36:03,431 - DEBUG - Order OrderID 225
2018-02-26 13:36:03,431 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-26 13:36:03,432 - DEBUG - Order status PreSubmitted
2018-02-26 13:36:03,432 - DEBUG - Order Identification 225
2018-02-26 13:36:03,432 - DEBUG - Order Identification <class 'int'>
2018-02-26 13:36:03,432 - DEBUG - Profit ID from database is 0
2018-02-26 13:36:03,432 - DEBUG - Profit ID from database is <class 'str'>
2018-02-26 13:36:03,433 - DEBUG - Stop ID database is 0
2018-02-26 13:36:03,433 - DEBUG - Entry ID database is 0
2018-02-26 13:36:05,430 - DEBUG - Connecting to database
2018-02-26 13:36:05,437 - DEBUG - Connected to database
2018-02-26 13:36:05,438 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,439 - DEBUG - Stop loss value is 0
2018-02-26 13:36:05,440 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,441 - DEBUG - Stop loss value is 0
2018-02-26 13:36:05,442 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,443 - DEBUG - EntryPrice value is 0
2018-02-26 13:36:05,444 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,444 - DEBUG - Stop quantity 0
2018-02-26 13:36:05,446 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,446 - DEBUG - Direction is 0
2018-02-26 13:36:05,447 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,448 - DEBUG - Count is 0
2018-02-26 13:36:05,449 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-26 13:36:05,449 - DEBUG - Stop Loss Flag is 0
2018-02-26 13:36:05,451 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-26 13:36:05,451 - DEBUG - Max ID Order is (231,)
2018-02-26 13:36:05,451 - DEBUG - Today is 2018-02-26
2018-02-26 13:36:05,452 - DEBUG - Day of the week 0
2018-02-26 13:36:05,452 - DEBUG - Yesterday is 02/23/2018
2018-02-26 13:36:05,452 - DEBUG - In Position is  0
2018-02-26 13:36:05,452 - DEBUG - In Position is  <class 'int'>
2018-02-26 13:36:05,453 - DEBUG - curStopLossFlag is  0
2018-02-26 13:36:05,453 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-26 13:36:05,453 - DEBUG - Checking if Entry has been filled
2018-02-26 13:36:05,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:36:05,455 - DEBUG - EntryPend is 0
2018-02-26 13:36:05,456 - DEBUG - Try to Cancel Stop
2018-02-26 13:36:05,456 - DEBUG - Stop API ID 0
2018-02-26 13:36:05,456 - DEBUG - Profit API ID 0
2018-02-26 13:36:05,456 - DEBUG - Stop API ID <class 'int'>
2018-02-26 13:36:05,457 - DEBUG - Profit API ID <class 'int'>
2018-02-26 13:36:05,457 - DEBUG - Pos is 0
2018-02-26 13:36:05,457 - DEBUG - CurCount is 0
2018-02-26 13:36:05,457 - DEBUG - In Pos 0
2018-02-26 13:36:05,457 - DEBUG - Stop ID is 0
2018-02-26 13:36:05,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-26 13:36:05,459 - DEBUG - EntryPend is 0
2018-02-26 13:36:05,459 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-26 13:36:05,460 - DEBUG - Entry Date is 10
2018-02-26 13:36:05,460 - DEBUG - confirming yesterday is 02/23/2018
2018-02-26 13:36:05,460 - DEBUG - Order Profit ID is 0
2018-02-26 13:36:05,460 - DEBUG - Order Entry ID is 0
2018-02-26 13:36:05,461 - DEBUG - API ID is  0
2018-02-26 13:36:05,461 - DEBUG - Current Position is 0
2018-02-26 13:36:05,461 - DEBUG - Current Position is <class 'str'>
2018-02-26 13:36:05,461 - DEBUG - Checking if Positions should be close at EOD
2018-02-26 13:36:05,462 - DEBUG - Time is 13
2018-02-26 13:36:05,462 - DEBUG - Time is <class 'int'>
2018-02-26 13:36:05,462 - DEBUG - Time is 36
2018-02-26 13:36:05,462 - DEBUG - Time is <class 'int'>
2018-02-26 13:36:05,463 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-26 13:36:05,463 - ERROR - Canceled Order 0
2018-02-26 13:36:05,463 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-26 13:36:05,478 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-26 13:36:05,494 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-26 13:36:05,509 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-26 13:36:05,523 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-26 13:36:05,538 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-26 13:36:05,552 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-26 13:36:05,566 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-26 13:36:05,580 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-26 13:36:05,594 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-26 13:36:05,608 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-26 13:36:05,622 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-26 13:36:05,636 - DEBUG - Disconnected from IBController
2018-02-26 13:36:05,637 - DEBUG - END POS MGMT SCRIPT :-!
