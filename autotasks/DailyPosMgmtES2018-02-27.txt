2018-02-27 02:10:00,419 - DEBUG - ****************************************************
2018-02-27 02:10:00,420 - DEBUG - Current Time is 02:10AM
2018-02-27 02:10:00,420 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:10:00,420 - DEBUG - Connecting to database
2018-02-27 02:10:00,457 - DEBUG - Connected to database
2018-02-27 02:10:00,458 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:00,460 - DEBUG - Order Profit is 0
2018-02-27 02:10:00,460 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:00,461 - DEBUG - Stop ID is 0
2018-02-27 02:10:00,462 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:00,463 - DEBUG - Entry ID is 233
2018-02-27 02:10:00,463 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:10:00,465 - DEBUG - OCA ID is 1
2018-02-27 02:10:00,465 - DEBUG - Connecting to IBController
2018-02-27 02:10:01,476 - DEBUG - Connected to IBController
2018-02-27 02:10:01,476 - DEBUG - Position requested
2018-02-27 02:10:01,479 - DEBUG - Pos Mgmt -12987
2018-02-27 02:10:01,479 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BBBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:10:01,479 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:10:01,480 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:10:01,480 - DEBUG - Position is -12987
2018-02-27 02:10:02,477 - DEBUG - Open Orders requested
2018-02-27 02:10:02,484 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BBAC8>, order=<ib.ext.Order.Order object at 0x00000000020BBCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002150128>>
2018-02-27 02:10:02,484 - DEBUG - Order OrderID 225
2018-02-27 02:10:02,485 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:10:02,485 - DEBUG - Order status PreSubmitted
2018-02-27 02:10:02,485 - DEBUG - Order Identification 225
2018-02-27 02:10:02,486 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:10:02,486 - DEBUG - Profit ID from database is 0
2018-02-27 02:10:02,486 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:10:02,486 - DEBUG - Stop ID database is 0
2018-02-27 02:10:02,486 - DEBUG - Entry ID database is 233
2018-02-27 02:10:02,488 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020BBFD0>, order=<ib.ext.Order.Order object at 0x00000000020BBCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021500B8>>
2018-02-27 02:10:02,488 - DEBUG - Order OrderID 232
2018-02-27 02:10:02,488 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:10:02,489 - DEBUG - Order status PreSubmitted
2018-02-27 02:10:02,489 - DEBUG - Order Identification 232
2018-02-27 02:10:02,489 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:10:02,489 - DEBUG - Profit ID from database is 0
2018-02-27 02:10:02,490 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:10:02,490 - DEBUG - Stop ID database is 0
2018-02-27 02:10:02,490 - DEBUG - Entry ID database is 233
2018-02-27 02:10:04,484 - DEBUG - Connecting to database
2018-02-27 02:10:04,491 - DEBUG - Connected to database
2018-02-27 02:10:04,493 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,493 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:10:04,495 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,495 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:10:04,497 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,497 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:10:04,499 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,499 - DEBUG - Stop quantity 1
2018-02-27 02:10:04,500 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,501 - DEBUG - Direction is Long
2018-02-27 02:10:04,502 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,503 - DEBUG - Count is 0
2018-02-27 02:10:04,504 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:10:04,504 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:10:04,506 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:10:04,506 - DEBUG - Max ID Order is (233,)
2018-02-27 02:10:04,507 - DEBUG - Today is 2018-02-27
2018-02-27 02:10:04,507 - DEBUG - Day of the week 1
2018-02-27 02:10:04,507 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:10:04,507 - DEBUG - In Position is  0
2018-02-27 02:10:04,508 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:10:04,508 - DEBUG - curStopLossFlag is  0
2018-02-27 02:10:04,508 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:10:04,508 - DEBUG - Checking if Entry has been filled
2018-02-27 02:10:04,509 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:10:04,510 - DEBUG - EntryPend is 1
2018-02-27 02:10:04,510 - DEBUG - Try to Cancel Stop
2018-02-27 02:10:04,510 - DEBUG - Stop API ID 0
2018-02-27 02:10:04,511 - DEBUG - Profit API ID 0
2018-02-27 02:10:04,511 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:10:04,511 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:10:04,511 - DEBUG - Pos is 0
2018-02-27 02:10:04,512 - DEBUG - CurCount is 0
2018-02-27 02:10:04,512 - DEBUG - In Pos 0
2018-02-27 02:10:04,512 - DEBUG - Stop ID is 0
2018-02-27 02:10:04,512 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:10:04,514 - DEBUG - EntryPend is 1
2018-02-27 02:10:04,514 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:10:04,515 - DEBUG - Entry Date is 10
2018-02-27 02:10:04,515 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:10:04,515 - DEBUG - Order Profit ID is 0
2018-02-27 02:10:04,515 - DEBUG - Order Entry ID is 233
2018-02-27 02:10:04,516 - DEBUG - API ID is  0
2018-02-27 02:10:04,516 - DEBUG - Current Position is 0
2018-02-27 02:10:04,516 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:10:04,516 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:10:04,517 - DEBUG - Time is 2
2018-02-27 02:10:04,517 - DEBUG - Time is <class 'int'>
2018-02-27 02:10:04,517 - DEBUG - Disconnected from IBController
2018-02-27 02:10:04,517 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:15:00,269 - DEBUG - ****************************************************
2018-02-27 02:15:00,270 - DEBUG - Current Time is 02:15AM
2018-02-27 02:15:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:15:00,270 - DEBUG - Connecting to database
2018-02-27 02:15:00,291 - DEBUG - Connected to database
2018-02-27 02:15:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:00,295 - DEBUG - Order Profit is 0
2018-02-27 02:15:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:00,296 - DEBUG - Stop ID is 0
2018-02-27 02:15:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:00,298 - DEBUG - Entry ID is 233
2018-02-27 02:15:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:15:00,300 - DEBUG - OCA ID is 1
2018-02-27 02:15:00,300 - DEBUG - Connecting to IBController
2018-02-27 02:15:01,307 - DEBUG - Connected to IBController
2018-02-27 02:15:01,307 - DEBUG - Position requested
2018-02-27 02:15:01,309 - DEBUG - Pos Mgmt -12987
2018-02-27 02:15:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:15:01,310 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:15:01,310 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:15:01,310 - DEBUG - Position is -12987
2018-02-27 02:15:02,309 - DEBUG - Open Orders requested
2018-02-27 02:15:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DC88>, order=<ib.ext.Order.Order object at 0x000000000204DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 02:15:02,312 - DEBUG - Order OrderID 225
2018-02-27 02:15:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:15:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 02:15:02,313 - DEBUG - Order Identification 225
2018-02-27 02:15:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:15:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 02:15:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:15:02,314 - DEBUG - Stop ID database is 0
2018-02-27 02:15:02,315 - DEBUG - Entry ID database is 233
2018-02-27 02:15:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2080>>
2018-02-27 02:15:02,318 - DEBUG - Order OrderID 232
2018-02-27 02:15:02,319 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:15:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 02:15:02,319 - DEBUG - Order Identification 232
2018-02-27 02:15:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:15:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 02:15:02,320 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:15:02,320 - DEBUG - Stop ID database is 0
2018-02-27 02:15:02,320 - DEBUG - Entry ID database is 233
2018-02-27 02:15:04,312 - DEBUG - Connecting to database
2018-02-27 02:15:04,319 - DEBUG - Connected to database
2018-02-27 02:15:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:15:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:15:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:15:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,327 - DEBUG - Stop quantity 1
2018-02-27 02:15:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,328 - DEBUG - Direction is Long
2018-02-27 02:15:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,330 - DEBUG - Count is 0
2018-02-27 02:15:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:15:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:15:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:15:04,334 - DEBUG - Max ID Order is (233,)
2018-02-27 02:15:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 02:15:04,334 - DEBUG - Day of the week 1
2018-02-27 02:15:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:15:04,335 - DEBUG - In Position is  0
2018-02-27 02:15:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:15:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 02:15:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:15:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 02:15:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:15:04,338 - DEBUG - EntryPend is 1
2018-02-27 02:15:04,338 - DEBUG - Try to Cancel Stop
2018-02-27 02:15:04,338 - DEBUG - Stop API ID 0
2018-02-27 02:15:04,338 - DEBUG - Profit API ID 0
2018-02-27 02:15:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:15:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:15:04,339 - DEBUG - Pos is 0
2018-02-27 02:15:04,339 - DEBUG - CurCount is 0
2018-02-27 02:15:04,340 - DEBUG - In Pos 0
2018-02-27 02:15:04,340 - DEBUG - Stop ID is 0
2018-02-27 02:15:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:15:04,341 - DEBUG - EntryPend is 1
2018-02-27 02:15:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:15:04,342 - DEBUG - Entry Date is 10
2018-02-27 02:15:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:15:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 02:15:04,343 - DEBUG - Order Entry ID is 233
2018-02-27 02:15:04,343 - DEBUG - API ID is  0
2018-02-27 02:15:04,343 - DEBUG - Current Position is 0
2018-02-27 02:15:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:15:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:15:04,344 - DEBUG - Time is 2
2018-02-27 02:15:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 02:15:04,344 - DEBUG - Disconnected from IBController
2018-02-27 02:15:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:20:00,264 - DEBUG - ****************************************************
2018-02-27 02:20:00,265 - DEBUG - Current Time is 02:20AM
2018-02-27 02:20:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:20:00,265 - DEBUG - Connecting to database
2018-02-27 02:20:00,312 - DEBUG - Connected to database
2018-02-27 02:20:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:00,314 - DEBUG - Order Profit is 0
2018-02-27 02:20:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:00,316 - DEBUG - Stop ID is 0
2018-02-27 02:20:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:00,318 - DEBUG - Entry ID is 233
2018-02-27 02:20:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:20:00,319 - DEBUG - OCA ID is 1
2018-02-27 02:20:00,320 - DEBUG - Connecting to IBController
2018-02-27 02:20:01,338 - DEBUG - Connected to IBController
2018-02-27 02:20:01,338 - DEBUG - Position requested
2018-02-27 02:20:01,341 - DEBUG - Pos Mgmt -12987
2018-02-27 02:20:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:20:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:20:01,342 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:20:01,342 - DEBUG - Position is -12987
2018-02-27 02:20:02,341 - DEBUG - Open Orders requested
2018-02-27 02:20:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DAC8>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 02:20:02,346 - DEBUG - Order OrderID 225
2018-02-27 02:20:02,346 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:20:02,346 - DEBUG - Order status PreSubmitted
2018-02-27 02:20:02,347 - DEBUG - Order Identification 225
2018-02-27 02:20:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:20:02,347 - DEBUG - Profit ID from database is 0
2018-02-27 02:20:02,347 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:20:02,348 - DEBUG - Stop ID database is 0
2018-02-27 02:20:02,348 - DEBUG - Entry ID database is 233
2018-02-27 02:20:02,349 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DFD0>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-02-27 02:20:02,349 - DEBUG - Order OrderID 232
2018-02-27 02:20:02,350 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:20:02,350 - DEBUG - Order status PreSubmitted
2018-02-27 02:20:02,350 - DEBUG - Order Identification 232
2018-02-27 02:20:02,351 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:20:02,351 - DEBUG - Profit ID from database is 0
2018-02-27 02:20:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:20:02,351 - DEBUG - Stop ID database is 0
2018-02-27 02:20:02,351 - DEBUG - Entry ID database is 233
2018-02-27 02:20:04,345 - DEBUG - Connecting to database
2018-02-27 02:20:04,355 - DEBUG - Connected to database
2018-02-27 02:20:04,356 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,357 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:20:04,358 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,358 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:20:04,359 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,360 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:20:04,361 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,362 - DEBUG - Stop quantity 1
2018-02-27 02:20:04,363 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,363 - DEBUG - Direction is Long
2018-02-27 02:20:04,365 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,365 - DEBUG - Count is 0
2018-02-27 02:20:04,366 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:20:04,367 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:20:04,368 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:20:04,368 - DEBUG - Max ID Order is (233,)
2018-02-27 02:20:04,369 - DEBUG - Today is 2018-02-27
2018-02-27 02:20:04,369 - DEBUG - Day of the week 1
2018-02-27 02:20:04,370 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:20:04,370 - DEBUG - In Position is  0
2018-02-27 02:20:04,370 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:20:04,370 - DEBUG - curStopLossFlag is  0
2018-02-27 02:20:04,371 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:20:04,371 - DEBUG - Checking if Entry has been filled
2018-02-27 02:20:04,371 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:20:04,373 - DEBUG - EntryPend is 1
2018-02-27 02:20:04,373 - DEBUG - Try to Cancel Stop
2018-02-27 02:20:04,374 - DEBUG - Stop API ID 0
2018-02-27 02:20:04,374 - DEBUG - Profit API ID 0
2018-02-27 02:20:04,374 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:20:04,374 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:20:04,375 - DEBUG - Pos is 0
2018-02-27 02:20:04,375 - DEBUG - CurCount is 0
2018-02-27 02:20:04,375 - DEBUG - In Pos 0
2018-02-27 02:20:04,375 - DEBUG - Stop ID is 0
2018-02-27 02:20:04,376 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:20:04,379 - DEBUG - EntryPend is 1
2018-02-27 02:20:04,379 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:20:04,379 - DEBUG - Entry Date is 10
2018-02-27 02:20:04,379 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:20:04,380 - DEBUG - Order Profit ID is 0
2018-02-27 02:20:04,380 - DEBUG - Order Entry ID is 233
2018-02-27 02:20:04,380 - DEBUG - API ID is  0
2018-02-27 02:20:04,380 - DEBUG - Current Position is 0
2018-02-27 02:20:04,380 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:20:04,381 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:20:04,381 - DEBUG - Time is 2
2018-02-27 02:20:04,381 - DEBUG - Time is <class 'int'>
2018-02-27 02:20:04,381 - DEBUG - Disconnected from IBController
2018-02-27 02:20:04,382 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:25:00,257 - DEBUG - ****************************************************
2018-02-27 02:25:00,258 - DEBUG - Current Time is 02:25AM
2018-02-27 02:25:00,258 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:25:00,258 - DEBUG - Connecting to database
2018-02-27 02:25:00,306 - DEBUG - Connected to database
2018-02-27 02:25:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:00,308 - DEBUG - Order Profit is 0
2018-02-27 02:25:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:00,310 - DEBUG - Stop ID is 0
2018-02-27 02:25:00,310 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:00,311 - DEBUG - Entry ID is 233
2018-02-27 02:25:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:25:00,313 - DEBUG - OCA ID is 1
2018-02-27 02:25:00,313 - DEBUG - Connecting to IBController
2018-02-27 02:25:01,321 - DEBUG - Connected to IBController
2018-02-27 02:25:01,321 - DEBUG - Position requested
2018-02-27 02:25:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 02:25:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:25:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:25:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:25:01,324 - DEBUG - Position is -12987
2018-02-27 02:25:02,323 - DEBUG - Open Orders requested
2018-02-27 02:25:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-27 02:25:02,326 - DEBUG - Order OrderID 225
2018-02-27 02:25:02,327 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:25:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 02:25:02,327 - DEBUG - Order Identification 225
2018-02-27 02:25:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:25:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 02:25:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:25:02,328 - DEBUG - Stop ID database is 0
2018-02-27 02:25:02,329 - DEBUG - Entry ID database is 233
2018-02-27 02:25:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20F0>>
2018-02-27 02:25:02,330 - DEBUG - Order OrderID 232
2018-02-27 02:25:02,331 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:25:02,331 - DEBUG - Order status PreSubmitted
2018-02-27 02:25:02,331 - DEBUG - Order Identification 232
2018-02-27 02:25:02,331 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:25:02,332 - DEBUG - Profit ID from database is 0
2018-02-27 02:25:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:25:02,332 - DEBUG - Stop ID database is 0
2018-02-27 02:25:02,332 - DEBUG - Entry ID database is 233
2018-02-27 02:25:04,326 - DEBUG - Connecting to database
2018-02-27 02:25:04,333 - DEBUG - Connected to database
2018-02-27 02:25:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,336 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:25:04,337 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,338 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:25:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,339 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:25:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,341 - DEBUG - Stop quantity 1
2018-02-27 02:25:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,343 - DEBUG - Direction is Long
2018-02-27 02:25:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,344 - DEBUG - Count is 0
2018-02-27 02:25:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:25:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:25:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:25:04,348 - DEBUG - Max ID Order is (233,)
2018-02-27 02:25:04,348 - DEBUG - Today is 2018-02-27
2018-02-27 02:25:04,349 - DEBUG - Day of the week 1
2018-02-27 02:25:04,349 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:25:04,349 - DEBUG - In Position is  0
2018-02-27 02:25:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:25:04,350 - DEBUG - curStopLossFlag is  0
2018-02-27 02:25:04,350 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:25:04,350 - DEBUG - Checking if Entry has been filled
2018-02-27 02:25:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:25:04,352 - DEBUG - EntryPend is 1
2018-02-27 02:25:04,352 - DEBUG - Try to Cancel Stop
2018-02-27 02:25:04,352 - DEBUG - Stop API ID 0
2018-02-27 02:25:04,352 - DEBUG - Profit API ID 0
2018-02-27 02:25:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:25:04,353 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:25:04,353 - DEBUG - Pos is 0
2018-02-27 02:25:04,353 - DEBUG - CurCount is 0
2018-02-27 02:25:04,353 - DEBUG - In Pos 0
2018-02-27 02:25:04,354 - DEBUG - Stop ID is 0
2018-02-27 02:25:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:25:04,355 - DEBUG - EntryPend is 1
2018-02-27 02:25:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:25:04,356 - DEBUG - Entry Date is 10
2018-02-27 02:25:04,356 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:25:04,356 - DEBUG - Order Profit ID is 0
2018-02-27 02:25:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 02:25:04,357 - DEBUG - API ID is  0
2018-02-27 02:25:04,357 - DEBUG - Current Position is 0
2018-02-27 02:25:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:25:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:25:04,358 - DEBUG - Time is 2
2018-02-27 02:25:04,358 - DEBUG - Time is <class 'int'>
2018-02-27 02:25:04,358 - DEBUG - Disconnected from IBController
2018-02-27 02:25:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:30:00,262 - DEBUG - ****************************************************
2018-02-27 02:30:00,262 - DEBUG - Current Time is 02:30AM
2018-02-27 02:30:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:30:00,263 - DEBUG - Connecting to database
2018-02-27 02:30:00,303 - DEBUG - Connected to database
2018-02-27 02:30:00,303 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:00,305 - DEBUG - Order Profit is 0
2018-02-27 02:30:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:00,307 - DEBUG - Stop ID is 0
2018-02-27 02:30:00,307 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:00,309 - DEBUG - Entry ID is 233
2018-02-27 02:30:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:30:00,311 - DEBUG - OCA ID is 1
2018-02-27 02:30:00,311 - DEBUG - Connecting to IBController
2018-02-27 02:30:01,327 - DEBUG - Connected to IBController
2018-02-27 02:30:01,327 - DEBUG - Position requested
2018-02-27 02:30:01,329 - DEBUG - Pos Mgmt -12987
2018-02-27 02:30:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:30:01,330 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:30:01,330 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:30:01,330 - DEBUG - Position is -12987
2018-02-27 02:30:02,329 - DEBUG - Open Orders requested
2018-02-27 02:30:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 02:30:02,333 - DEBUG - Order OrderID 225
2018-02-27 02:30:02,333 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:30:02,333 - DEBUG - Order status PreSubmitted
2018-02-27 02:30:02,334 - DEBUG - Order Identification 225
2018-02-27 02:30:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:30:02,334 - DEBUG - Profit ID from database is 0
2018-02-27 02:30:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:30:02,335 - DEBUG - Stop ID database is 0
2018-02-27 02:30:02,335 - DEBUG - Entry ID database is 233
2018-02-27 02:30:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 02:30:02,336 - DEBUG - Order OrderID 232
2018-02-27 02:30:02,337 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:30:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 02:30:02,337 - DEBUG - Order Identification 232
2018-02-27 02:30:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:30:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 02:30:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:30:02,338 - DEBUG - Stop ID database is 0
2018-02-27 02:30:02,338 - DEBUG - Entry ID database is 233
2018-02-27 02:30:04,332 - DEBUG - Connecting to database
2018-02-27 02:30:04,340 - DEBUG - Connected to database
2018-02-27 02:30:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,342 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:30:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,344 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:30:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,346 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:30:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,347 - DEBUG - Stop quantity 1
2018-02-27 02:30:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,349 - DEBUG - Direction is Long
2018-02-27 02:30:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,350 - DEBUG - Count is 0
2018-02-27 02:30:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:30:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:30:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:30:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 02:30:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 02:30:04,355 - DEBUG - Day of the week 1
2018-02-27 02:30:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:30:04,355 - DEBUG - In Position is  0
2018-02-27 02:30:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:30:04,356 - DEBUG - curStopLossFlag is  0
2018-02-27 02:30:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:30:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 02:30:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:30:04,358 - DEBUG - EntryPend is 1
2018-02-27 02:30:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 02:30:04,358 - DEBUG - Stop API ID 0
2018-02-27 02:30:04,359 - DEBUG - Profit API ID 0
2018-02-27 02:30:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:30:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:30:04,359 - DEBUG - Pos is 0
2018-02-27 02:30:04,360 - DEBUG - CurCount is 0
2018-02-27 02:30:04,360 - DEBUG - In Pos 0
2018-02-27 02:30:04,360 - DEBUG - Stop ID is 0
2018-02-27 02:30:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:30:04,362 - DEBUG - EntryPend is 1
2018-02-27 02:30:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:30:04,362 - DEBUG - Entry Date is 10
2018-02-27 02:30:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:30:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 02:30:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 02:30:04,363 - DEBUG - API ID is  0
2018-02-27 02:30:04,363 - DEBUG - Current Position is 0
2018-02-27 02:30:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:30:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:30:04,364 - DEBUG - Time is 2
2018-02-27 02:30:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 02:30:04,364 - DEBUG - Disconnected from IBController
2018-02-27 02:30:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:35:00,265 - DEBUG - ****************************************************
2018-02-27 02:35:00,265 - DEBUG - Current Time is 02:35AM
2018-02-27 02:35:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:35:00,266 - DEBUG - Connecting to database
2018-02-27 02:35:00,295 - DEBUG - Connected to database
2018-02-27 02:35:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:00,297 - DEBUG - Order Profit is 0
2018-02-27 02:35:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:00,299 - DEBUG - Stop ID is 0
2018-02-27 02:35:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:00,302 - DEBUG - Entry ID is 233
2018-02-27 02:35:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:35:00,304 - DEBUG - OCA ID is 1
2018-02-27 02:35:00,304 - DEBUG - Connecting to IBController
2018-02-27 02:35:01,316 - DEBUG - Connected to IBController
2018-02-27 02:35:01,316 - DEBUG - Position requested
2018-02-27 02:35:01,318 - DEBUG - Pos Mgmt -12987
2018-02-27 02:35:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ECB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:35:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:35:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:35:01,319 - DEBUG - Position is -12987
2018-02-27 02:35:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ECCC0>, order=<ib.ext.Order.Order object at 0x00000000020ECA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021820F0>>
2018-02-27 02:35:02,321 - DEBUG - Open Orders requested
2018-02-27 02:35:02,321 - DEBUG - Order OrderID 225
2018-02-27 02:35:02,326 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:35:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 02:35:02,327 - DEBUG - Order Identification 225
2018-02-27 02:35:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:35:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 02:35:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:35:02,328 - DEBUG - Stop ID database is 0
2018-02-27 02:35:02,328 - DEBUG - Entry ID database is 233
2018-02-27 02:35:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020ECEF0>, order=<ib.ext.Order.Order object at 0x00000000020ECA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002182080>>
2018-02-27 02:35:02,329 - DEBUG - Order OrderID 232
2018-02-27 02:35:02,330 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:35:02,330 - DEBUG - Order status PreSubmitted
2018-02-27 02:35:02,330 - DEBUG - Order Identification 232
2018-02-27 02:35:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:35:02,331 - DEBUG - Profit ID from database is 0
2018-02-27 02:35:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:35:02,331 - DEBUG - Stop ID database is 0
2018-02-27 02:35:02,331 - DEBUG - Entry ID database is 233
2018-02-27 02:35:04,326 - DEBUG - Connecting to database
2018-02-27 02:35:04,333 - DEBUG - Connected to database
2018-02-27 02:35:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,335 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:35:04,337 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,337 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:35:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,339 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:35:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,340 - DEBUG - Stop quantity 1
2018-02-27 02:35:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,342 - DEBUG - Direction is Long
2018-02-27 02:35:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,344 - DEBUG - Count is 0
2018-02-27 02:35:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:35:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:35:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:35:04,347 - DEBUG - Max ID Order is (233,)
2018-02-27 02:35:04,348 - DEBUG - Today is 2018-02-27
2018-02-27 02:35:04,348 - DEBUG - Day of the week 1
2018-02-27 02:35:04,349 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:35:04,349 - DEBUG - In Position is  0
2018-02-27 02:35:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:35:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 02:35:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:35:04,350 - DEBUG - Checking if Entry has been filled
2018-02-27 02:35:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:35:04,351 - DEBUG - EntryPend is 1
2018-02-27 02:35:04,352 - DEBUG - Try to Cancel Stop
2018-02-27 02:35:04,352 - DEBUG - Stop API ID 0
2018-02-27 02:35:04,352 - DEBUG - Profit API ID 0
2018-02-27 02:35:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:35:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:35:04,353 - DEBUG - Pos is 0
2018-02-27 02:35:04,353 - DEBUG - CurCount is 0
2018-02-27 02:35:04,353 - DEBUG - In Pos 0
2018-02-27 02:35:04,353 - DEBUG - Stop ID is 0
2018-02-27 02:35:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:35:04,355 - DEBUG - EntryPend is 1
2018-02-27 02:35:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:35:04,355 - DEBUG - Entry Date is 10
2018-02-27 02:35:04,356 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:35:04,356 - DEBUG - Order Profit ID is 0
2018-02-27 02:35:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 02:35:04,356 - DEBUG - API ID is  0
2018-02-27 02:35:04,357 - DEBUG - Current Position is 0
2018-02-27 02:35:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:35:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:35:04,357 - DEBUG - Time is 2
2018-02-27 02:35:04,358 - DEBUG - Time is <class 'int'>
2018-02-27 02:35:04,358 - DEBUG - Disconnected from IBController
2018-02-27 02:35:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:40:00,265 - DEBUG - ****************************************************
2018-02-27 02:40:00,265 - DEBUG - Current Time is 02:40AM
2018-02-27 02:40:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:40:00,266 - DEBUG - Connecting to database
2018-02-27 02:40:00,291 - DEBUG - Connected to database
2018-02-27 02:40:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:00,293 - DEBUG - Order Profit is 0
2018-02-27 02:40:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:00,295 - DEBUG - Stop ID is 0
2018-02-27 02:40:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:00,297 - DEBUG - Entry ID is 233
2018-02-27 02:40:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:40:00,298 - DEBUG - OCA ID is 1
2018-02-27 02:40:00,298 - DEBUG - Connecting to IBController
2018-02-27 02:40:01,307 - DEBUG - Connected to IBController
2018-02-27 02:40:01,307 - DEBUG - Position requested
2018-02-27 02:40:01,309 - DEBUG - Pos Mgmt -12987
2018-02-27 02:40:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:40:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:40:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:40:01,313 - DEBUG - Position is -12987
2018-02-27 02:40:02,309 - DEBUG - Open Orders requested
2018-02-27 02:40:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 02:40:02,312 - DEBUG - Order OrderID 225
2018-02-27 02:40:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:40:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 02:40:02,313 - DEBUG - Order Identification 225
2018-02-27 02:40:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:40:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 02:40:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:40:02,314 - DEBUG - Stop ID database is 0
2018-02-27 02:40:02,314 - DEBUG - Entry ID database is 233
2018-02-27 02:40:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112048>>
2018-02-27 02:40:02,316 - DEBUG - Order OrderID 232
2018-02-27 02:40:02,316 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:40:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 02:40:02,317 - DEBUG - Order Identification 232
2018-02-27 02:40:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:40:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 02:40:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:40:02,318 - DEBUG - Stop ID database is 0
2018-02-27 02:40:02,318 - DEBUG - Entry ID database is 233
2018-02-27 02:40:04,312 - DEBUG - Connecting to database
2018-02-27 02:40:04,319 - DEBUG - Connected to database
2018-02-27 02:40:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:40:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:40:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:40:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,327 - DEBUG - Stop quantity 1
2018-02-27 02:40:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,328 - DEBUG - Direction is Long
2018-02-27 02:40:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,330 - DEBUG - Count is 0
2018-02-27 02:40:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:40:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:40:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:40:04,333 - DEBUG - Max ID Order is (233,)
2018-02-27 02:40:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 02:40:04,334 - DEBUG - Day of the week 1
2018-02-27 02:40:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:40:04,335 - DEBUG - In Position is  0
2018-02-27 02:40:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:40:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 02:40:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:40:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 02:40:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:40:04,337 - DEBUG - EntryPend is 1
2018-02-27 02:40:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 02:40:04,338 - DEBUG - Stop API ID 0
2018-02-27 02:40:04,338 - DEBUG - Profit API ID 0
2018-02-27 02:40:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:40:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:40:04,339 - DEBUG - Pos is 0
2018-02-27 02:40:04,339 - DEBUG - CurCount is 0
2018-02-27 02:40:04,339 - DEBUG - In Pos 0
2018-02-27 02:40:04,339 - DEBUG - Stop ID is 0
2018-02-27 02:40:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:40:04,341 - DEBUG - EntryPend is 1
2018-02-27 02:40:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:40:04,341 - DEBUG - Entry Date is 10
2018-02-27 02:40:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:40:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 02:40:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 02:40:04,342 - DEBUG - API ID is  0
2018-02-27 02:40:04,343 - DEBUG - Current Position is 0
2018-02-27 02:40:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:40:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:40:04,343 - DEBUG - Time is 2
2018-02-27 02:40:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 02:40:04,344 - DEBUG - Disconnected from IBController
2018-02-27 02:40:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:45:00,267 - DEBUG - ****************************************************
2018-02-27 02:45:00,267 - DEBUG - Current Time is 02:45AM
2018-02-27 02:45:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:45:00,268 - DEBUG - Connecting to database
2018-02-27 02:45:00,308 - DEBUG - Connected to database
2018-02-27 02:45:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:00,310 - DEBUG - Order Profit is 0
2018-02-27 02:45:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:00,312 - DEBUG - Stop ID is 0
2018-02-27 02:45:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:00,313 - DEBUG - Entry ID is 233
2018-02-27 02:45:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:45:00,315 - DEBUG - OCA ID is 1
2018-02-27 02:45:00,315 - DEBUG - Connecting to IBController
2018-02-27 02:45:01,321 - DEBUG - Connected to IBController
2018-02-27 02:45:01,321 - DEBUG - Position requested
2018-02-27 02:45:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 02:45:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:45:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:45:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:45:01,325 - DEBUG - Position is -12987
2018-02-27 02:45:02,322 - DEBUG - Open Orders requested
2018-02-27 02:45:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-27 02:45:02,336 - DEBUG - Order OrderID 225
2018-02-27 02:45:02,337 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:45:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 02:45:02,338 - DEBUG - Order Identification 225
2018-02-27 02:45:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:45:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 02:45:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:45:02,339 - DEBUG - Stop ID database is 0
2018-02-27 02:45:02,339 - DEBUG - Entry ID database is 233
2018-02-27 02:45:02,340 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DF60>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-27 02:45:02,340 - DEBUG - Order OrderID 232
2018-02-27 02:45:02,341 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:45:02,341 - DEBUG - Order status PreSubmitted
2018-02-27 02:45:02,341 - DEBUG - Order Identification 232
2018-02-27 02:45:02,342 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:45:02,342 - DEBUG - Profit ID from database is 0
2018-02-27 02:45:02,342 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:45:02,342 - DEBUG - Stop ID database is 0
2018-02-27 02:45:02,343 - DEBUG - Entry ID database is 233
2018-02-27 02:45:04,323 - DEBUG - Connecting to database
2018-02-27 02:45:04,330 - DEBUG - Connected to database
2018-02-27 02:45:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:45:04,333 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:45:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,335 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:45:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,337 - DEBUG - Stop quantity 1
2018-02-27 02:45:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,339 - DEBUG - Direction is Long
2018-02-27 02:45:04,340 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,340 - DEBUG - Count is 0
2018-02-27 02:45:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:45:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:45:04,343 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:45:04,344 - DEBUG - Max ID Order is (233,)
2018-02-27 02:45:04,344 - DEBUG - Today is 2018-02-27
2018-02-27 02:45:04,345 - DEBUG - Day of the week 1
2018-02-27 02:45:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:45:04,345 - DEBUG - In Position is  0
2018-02-27 02:45:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:45:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 02:45:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:45:04,346 - DEBUG - Checking if Entry has been filled
2018-02-27 02:45:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:45:04,348 - DEBUG - EntryPend is 1
2018-02-27 02:45:04,348 - DEBUG - Try to Cancel Stop
2018-02-27 02:45:04,348 - DEBUG - Stop API ID 0
2018-02-27 02:45:04,348 - DEBUG - Profit API ID 0
2018-02-27 02:45:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:45:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:45:04,349 - DEBUG - Pos is 0
2018-02-27 02:45:04,349 - DEBUG - CurCount is 0
2018-02-27 02:45:04,349 - DEBUG - In Pos 0
2018-02-27 02:45:04,350 - DEBUG - Stop ID is 0
2018-02-27 02:45:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:45:04,351 - DEBUG - EntryPend is 1
2018-02-27 02:45:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:45:04,352 - DEBUG - Entry Date is 10
2018-02-27 02:45:04,352 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:45:04,352 - DEBUG - Order Profit ID is 0
2018-02-27 02:45:04,352 - DEBUG - Order Entry ID is 233
2018-02-27 02:45:04,353 - DEBUG - API ID is  0
2018-02-27 02:45:04,353 - DEBUG - Current Position is 0
2018-02-27 02:45:04,353 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:45:04,353 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:45:04,354 - DEBUG - Time is 2
2018-02-27 02:45:04,354 - DEBUG - Time is <class 'int'>
2018-02-27 02:45:04,354 - DEBUG - Disconnected from IBController
2018-02-27 02:45:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:50:00,262 - DEBUG - ****************************************************
2018-02-27 02:50:00,263 - DEBUG - Current Time is 02:50AM
2018-02-27 02:50:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:50:00,263 - DEBUG - Connecting to database
2018-02-27 02:50:00,295 - DEBUG - Connected to database
2018-02-27 02:50:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:00,297 - DEBUG - Order Profit is 0
2018-02-27 02:50:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:00,299 - DEBUG - Stop ID is 0
2018-02-27 02:50:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:00,300 - DEBUG - Entry ID is 233
2018-02-27 02:50:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:50:00,302 - DEBUG - OCA ID is 1
2018-02-27 02:50:00,303 - DEBUG - Connecting to IBController
2018-02-27 02:50:01,322 - DEBUG - Connected to IBController
2018-02-27 02:50:01,322 - DEBUG - Position requested
2018-02-27 02:50:01,324 - DEBUG - Pos Mgmt -12987
2018-02-27 02:50:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:50:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:50:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:50:01,325 - DEBUG - Position is -12987
2018-02-27 02:50:02,324 - DEBUG - Open Orders requested
2018-02-27 02:50:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 02:50:02,328 - DEBUG - Order OrderID 225
2018-02-27 02:50:02,329 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:50:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 02:50:02,330 - DEBUG - Order Identification 225
2018-02-27 02:50:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:50:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 02:50:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:50:02,331 - DEBUG - Stop ID database is 0
2018-02-27 02:50:02,335 - DEBUG - Entry ID database is 233
2018-02-27 02:50:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DFD0>, order=<ib.ext.Order.Order object at 0x000000000206DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-02-27 02:50:02,336 - DEBUG - Order OrderID 232
2018-02-27 02:50:02,337 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:50:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 02:50:02,337 - DEBUG - Order Identification 232
2018-02-27 02:50:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:50:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 02:50:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:50:02,338 - DEBUG - Stop ID database is 0
2018-02-27 02:50:02,339 - DEBUG - Entry ID database is 233
2018-02-27 02:50:04,328 - DEBUG - Connecting to database
2018-02-27 02:50:04,335 - DEBUG - Connected to database
2018-02-27 02:50:04,337 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,337 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:50:04,339 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,339 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:50:04,340 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,341 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:50:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,342 - DEBUG - Stop quantity 1
2018-02-27 02:50:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,344 - DEBUG - Direction is Long
2018-02-27 02:50:04,346 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,346 - DEBUG - Count is 0
2018-02-27 02:50:04,347 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:50:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:50:04,349 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:50:04,349 - DEBUG - Max ID Order is (233,)
2018-02-27 02:50:04,350 - DEBUG - Today is 2018-02-27
2018-02-27 02:50:04,350 - DEBUG - Day of the week 1
2018-02-27 02:50:04,351 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:50:04,351 - DEBUG - In Position is  0
2018-02-27 02:50:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:50:04,351 - DEBUG - curStopLossFlag is  0
2018-02-27 02:50:04,352 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:50:04,352 - DEBUG - Checking if Entry has been filled
2018-02-27 02:50:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:50:04,354 - DEBUG - EntryPend is 1
2018-02-27 02:50:04,354 - DEBUG - Try to Cancel Stop
2018-02-27 02:50:04,354 - DEBUG - Stop API ID 0
2018-02-27 02:50:04,354 - DEBUG - Profit API ID 0
2018-02-27 02:50:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:50:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:50:04,355 - DEBUG - Pos is 0
2018-02-27 02:50:04,355 - DEBUG - CurCount is 0
2018-02-27 02:50:04,355 - DEBUG - In Pos 0
2018-02-27 02:50:04,356 - DEBUG - Stop ID is 0
2018-02-27 02:50:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:50:04,357 - DEBUG - EntryPend is 1
2018-02-27 02:50:04,358 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:50:04,358 - DEBUG - Entry Date is 10
2018-02-27 02:50:04,358 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:50:04,358 - DEBUG - Order Profit ID is 0
2018-02-27 02:50:04,359 - DEBUG - Order Entry ID is 233
2018-02-27 02:50:04,359 - DEBUG - API ID is  0
2018-02-27 02:50:04,359 - DEBUG - Current Position is 0
2018-02-27 02:50:04,359 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:50:04,359 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:50:04,360 - DEBUG - Time is 2
2018-02-27 02:50:04,360 - DEBUG - Time is <class 'int'>
2018-02-27 02:50:04,360 - DEBUG - Disconnected from IBController
2018-02-27 02:50:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 02:55:00,272 - DEBUG - ****************************************************
2018-02-27 02:55:00,272 - DEBUG - Current Time is 02:55AM
2018-02-27 02:55:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 02:55:00,273 - DEBUG - Connecting to database
2018-02-27 02:55:00,299 - DEBUG - Connected to database
2018-02-27 02:55:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:00,301 - DEBUG - Order Profit is 0
2018-02-27 02:55:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:00,303 - DEBUG - Stop ID is 0
2018-02-27 02:55:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:00,304 - DEBUG - Entry ID is 233
2018-02-27 02:55:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 02:55:00,306 - DEBUG - OCA ID is 1
2018-02-27 02:55:00,306 - DEBUG - Connecting to IBController
2018-02-27 02:55:01,312 - DEBUG - Connected to IBController
2018-02-27 02:55:01,312 - DEBUG - Position requested
2018-02-27 02:55:01,314 - DEBUG - Pos Mgmt -12987
2018-02-27 02:55:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 02:55:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 02:55:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 02:55:01,315 - DEBUG - Position is -12987
2018-02-27 02:55:02,313 - DEBUG - Open Orders requested
2018-02-27 02:55:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, order=<ib.ext.Order.Order object at 0x00000000020ADB70>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002142128>>
2018-02-27 02:55:02,316 - DEBUG - Order OrderID 225
2018-02-27 02:55:02,317 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:55:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 02:55:02,317 - DEBUG - Order Identification 225
2018-02-27 02:55:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:55:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 02:55:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:55:02,318 - DEBUG - Stop ID database is 0
2018-02-27 02:55:02,318 - DEBUG - Entry ID database is 233
2018-02-27 02:55:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020ADFD0>, order=<ib.ext.Order.Order object at 0x00000000020ADB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021420B8>>
2018-02-27 02:55:02,320 - DEBUG - Order OrderID 232
2018-02-27 02:55:02,320 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 02:55:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 02:55:02,321 - DEBUG - Order Identification 232
2018-02-27 02:55:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 02:55:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 02:55:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 02:55:02,322 - DEBUG - Stop ID database is 0
2018-02-27 02:55:02,322 - DEBUG - Entry ID database is 233
2018-02-27 02:55:04,316 - DEBUG - Connecting to database
2018-02-27 02:55:04,323 - DEBUG - Connected to database
2018-02-27 02:55:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,325 - DEBUG - Stop loss value is 2742.75
2018-02-27 02:55:04,327 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,327 - DEBUG - Stop loss value is 2797.0
2018-02-27 02:55:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,329 - DEBUG - EntryPrice value is 2787.5
2018-02-27 02:55:04,330 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,331 - DEBUG - Stop quantity 1
2018-02-27 02:55:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,332 - DEBUG - Direction is Long
2018-02-27 02:55:04,333 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,334 - DEBUG - Count is 0
2018-02-27 02:55:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 02:55:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 02:55:04,337 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 02:55:04,337 - DEBUG - Max ID Order is (233,)
2018-02-27 02:55:04,338 - DEBUG - Today is 2018-02-27
2018-02-27 02:55:04,338 - DEBUG - Day of the week 1
2018-02-27 02:55:04,338 - DEBUG - Yesterday is 02/26/2018
2018-02-27 02:55:04,339 - DEBUG - In Position is  0
2018-02-27 02:55:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-27 02:55:04,339 - DEBUG - curStopLossFlag is  0
2018-02-27 02:55:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 02:55:04,339 - DEBUG - Checking if Entry has been filled
2018-02-27 02:55:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:55:04,341 - DEBUG - EntryPend is 1
2018-02-27 02:55:04,341 - DEBUG - Try to Cancel Stop
2018-02-27 02:55:04,342 - DEBUG - Stop API ID 0
2018-02-27 02:55:04,342 - DEBUG - Profit API ID 0
2018-02-27 02:55:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-27 02:55:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-27 02:55:04,342 - DEBUG - Pos is 0
2018-02-27 02:55:04,343 - DEBUG - CurCount is 0
2018-02-27 02:55:04,343 - DEBUG - In Pos 0
2018-02-27 02:55:04,343 - DEBUG - Stop ID is 0
2018-02-27 02:55:04,343 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 02:55:04,345 - DEBUG - EntryPend is 1
2018-02-27 02:55:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 02:55:04,345 - DEBUG - Entry Date is 10
2018-02-27 02:55:04,345 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 02:55:04,346 - DEBUG - Order Profit ID is 0
2018-02-27 02:55:04,346 - DEBUG - Order Entry ID is 233
2018-02-27 02:55:04,346 - DEBUG - API ID is  0
2018-02-27 02:55:04,346 - DEBUG - Current Position is 0
2018-02-27 02:55:04,347 - DEBUG - Current Position is <class 'str'>
2018-02-27 02:55:04,347 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 02:55:04,347 - DEBUG - Time is 2
2018-02-27 02:55:04,347 - DEBUG - Time is <class 'int'>
2018-02-27 02:55:04,347 - DEBUG - Disconnected from IBController
2018-02-27 02:55:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:00:00,261 - DEBUG - ****************************************************
2018-02-27 03:00:00,261 - DEBUG - Current Time is 03:00AM
2018-02-27 03:00:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:00:00,262 - DEBUG - Connecting to database
2018-02-27 03:00:00,300 - DEBUG - Connected to database
2018-02-27 03:00:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:00,302 - DEBUG - Order Profit is 0
2018-02-27 03:00:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:00,304 - DEBUG - Stop ID is 0
2018-02-27 03:00:00,304 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:00,306 - DEBUG - Entry ID is 233
2018-02-27 03:00:00,306 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:00:00,307 - DEBUG - OCA ID is 1
2018-02-27 03:00:00,308 - DEBUG - Connecting to IBController
2018-02-27 03:00:01,317 - DEBUG - Connected to IBController
2018-02-27 03:00:01,317 - DEBUG - Position requested
2018-02-27 03:00:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 03:00:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:00:01,320 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:00:01,320 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:00:01,320 - DEBUG - Position is -12987
2018-02-27 03:00:02,319 - DEBUG - Open Orders requested
2018-02-27 03:00:02,321 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 03:00:02,322 - DEBUG - Order OrderID 225
2018-02-27 03:00:02,323 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:00:02,323 - DEBUG - Order status PreSubmitted
2018-02-27 03:00:02,323 - DEBUG - Order Identification 225
2018-02-27 03:00:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:00:02,324 - DEBUG - Profit ID from database is 0
2018-02-27 03:00:02,324 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:00:02,324 - DEBUG - Stop ID database is 0
2018-02-27 03:00:02,324 - DEBUG - Entry ID database is 233
2018-02-27 03:00:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-27 03:00:02,326 - DEBUG - Order OrderID 232
2018-02-27 03:00:02,326 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:00:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 03:00:02,327 - DEBUG - Order Identification 232
2018-02-27 03:00:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:00:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 03:00:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:00:02,328 - DEBUG - Stop ID database is 0
2018-02-27 03:00:02,328 - DEBUG - Entry ID database is 233
2018-02-27 03:00:04,322 - DEBUG - Connecting to database
2018-02-27 03:00:04,329 - DEBUG - Connected to database
2018-02-27 03:00:04,331 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,331 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:00:04,333 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,333 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:00:04,334 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,335 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:00:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,336 - DEBUG - Stop quantity 1
2018-02-27 03:00:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,338 - DEBUG - Direction is Long
2018-02-27 03:00:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,340 - DEBUG - Count is 0
2018-02-27 03:00:04,341 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:00:04,341 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:00:04,343 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:00:04,343 - DEBUG - Max ID Order is (233,)
2018-02-27 03:00:04,343 - DEBUG - Today is 2018-02-27
2018-02-27 03:00:04,344 - DEBUG - Day of the week 1
2018-02-27 03:00:04,344 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:00:04,344 - DEBUG - In Position is  0
2018-02-27 03:00:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:00:04,345 - DEBUG - curStopLossFlag is  0
2018-02-27 03:00:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:00:04,345 - DEBUG - Checking if Entry has been filled
2018-02-27 03:00:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:00:04,347 - DEBUG - EntryPend is 1
2018-02-27 03:00:04,347 - DEBUG - Try to Cancel Stop
2018-02-27 03:00:04,347 - DEBUG - Stop API ID 0
2018-02-27 03:00:04,348 - DEBUG - Profit API ID 0
2018-02-27 03:00:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:00:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:00:04,348 - DEBUG - Pos is 0
2018-02-27 03:00:04,349 - DEBUG - CurCount is 0
2018-02-27 03:00:04,349 - DEBUG - In Pos 0
2018-02-27 03:00:04,349 - DEBUG - Stop ID is 0
2018-02-27 03:00:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:00:04,351 - DEBUG - EntryPend is 1
2018-02-27 03:00:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:00:04,351 - DEBUG - Entry Date is 10
2018-02-27 03:00:04,351 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:00:04,351 - DEBUG - Order Profit ID is 0
2018-02-27 03:00:04,352 - DEBUG - Order Entry ID is 233
2018-02-27 03:00:04,352 - DEBUG - API ID is  0
2018-02-27 03:00:04,352 - DEBUG - Current Position is 0
2018-02-27 03:00:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:00:04,353 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:00:04,353 - DEBUG - Time is 3
2018-02-27 03:00:04,353 - DEBUG - Time is <class 'int'>
2018-02-27 03:00:04,353 - DEBUG - Disconnected from IBController
2018-02-27 03:00:04,354 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:05:00,273 - DEBUG - ****************************************************
2018-02-27 03:05:00,274 - DEBUG - Current Time is 03:05AM
2018-02-27 03:05:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:05:00,274 - DEBUG - Connecting to database
2018-02-27 03:05:00,291 - DEBUG - Connected to database
2018-02-27 03:05:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:00,294 - DEBUG - Order Profit is 0
2018-02-27 03:05:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:00,296 - DEBUG - Stop ID is 0
2018-02-27 03:05:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:00,299 - DEBUG - Entry ID is 233
2018-02-27 03:05:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:05:00,300 - DEBUG - OCA ID is 1
2018-02-27 03:05:00,301 - DEBUG - Connecting to IBController
2018-02-27 03:05:01,310 - DEBUG - Connected to IBController
2018-02-27 03:05:01,310 - DEBUG - Position requested
2018-02-27 03:05:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 03:05:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:05:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:05:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:05:01,313 - DEBUG - Position is -12987
2018-02-27 03:05:02,311 - DEBUG - Open Orders requested
2018-02-27 03:05:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CA20>, order=<ib.ext.Order.Order object at 0x000000000204CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 03:05:02,315 - DEBUG - Order OrderID 225
2018-02-27 03:05:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:05:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 03:05:02,316 - DEBUG - Order Identification 225
2018-02-27 03:05:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:05:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 03:05:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:05:02,317 - DEBUG - Stop ID database is 0
2018-02-27 03:05:02,317 - DEBUG - Entry ID database is 233
2018-02-27 03:05:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204CFD0>, order=<ib.ext.Order.Order object at 0x000000000204CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20B8>>
2018-02-27 03:05:02,319 - DEBUG - Order OrderID 232
2018-02-27 03:05:02,319 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:05:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 03:05:02,320 - DEBUG - Order Identification 232
2018-02-27 03:05:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:05:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 03:05:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:05:02,321 - DEBUG - Stop ID database is 0
2018-02-27 03:05:02,321 - DEBUG - Entry ID database is 233
2018-02-27 03:05:04,315 - DEBUG - Connecting to database
2018-02-27 03:05:04,323 - DEBUG - Connected to database
2018-02-27 03:05:04,324 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,325 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:05:04,326 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,327 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:05:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,328 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:05:04,330 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,330 - DEBUG - Stop quantity 1
2018-02-27 03:05:04,331 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,332 - DEBUG - Direction is Long
2018-02-27 03:05:04,333 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,333 - DEBUG - Count is 0
2018-02-27 03:05:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:05:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:05:04,337 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:05:04,337 - DEBUG - Max ID Order is (233,)
2018-02-27 03:05:04,338 - DEBUG - Today is 2018-02-27
2018-02-27 03:05:04,338 - DEBUG - Day of the week 1
2018-02-27 03:05:04,339 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:05:04,339 - DEBUG - In Position is  0
2018-02-27 03:05:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:05:04,339 - DEBUG - curStopLossFlag is  0
2018-02-27 03:05:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:05:04,340 - DEBUG - Checking if Entry has been filled
2018-02-27 03:05:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:05:04,341 - DEBUG - EntryPend is 1
2018-02-27 03:05:04,342 - DEBUG - Try to Cancel Stop
2018-02-27 03:05:04,342 - DEBUG - Stop API ID 0
2018-02-27 03:05:04,342 - DEBUG - Profit API ID 0
2018-02-27 03:05:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:05:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:05:04,343 - DEBUG - Pos is 0
2018-02-27 03:05:04,343 - DEBUG - CurCount is 0
2018-02-27 03:05:04,343 - DEBUG - In Pos 0
2018-02-27 03:05:04,344 - DEBUG - Stop ID is 0
2018-02-27 03:05:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:05:04,345 - DEBUG - EntryPend is 1
2018-02-27 03:05:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:05:04,346 - DEBUG - Entry Date is 10
2018-02-27 03:05:04,346 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:05:04,346 - DEBUG - Order Profit ID is 0
2018-02-27 03:05:04,346 - DEBUG - Order Entry ID is 233
2018-02-27 03:05:04,346 - DEBUG - API ID is  0
2018-02-27 03:05:04,347 - DEBUG - Current Position is 0
2018-02-27 03:05:04,347 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:05:04,347 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:05:04,347 - DEBUG - Time is 3
2018-02-27 03:05:04,348 - DEBUG - Time is <class 'int'>
2018-02-27 03:05:04,348 - DEBUG - Disconnected from IBController
2018-02-27 03:05:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:10:00,260 - DEBUG - ****************************************************
2018-02-27 03:10:00,261 - DEBUG - Current Time is 03:10AM
2018-02-27 03:10:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:10:00,261 - DEBUG - Connecting to database
2018-02-27 03:10:00,301 - DEBUG - Connected to database
2018-02-27 03:10:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:00,303 - DEBUG - Order Profit is 0
2018-02-27 03:10:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:00,305 - DEBUG - Stop ID is 0
2018-02-27 03:10:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:00,307 - DEBUG - Entry ID is 233
2018-02-27 03:10:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:10:00,311 - DEBUG - OCA ID is 1
2018-02-27 03:10:00,311 - DEBUG - Connecting to IBController
2018-02-27 03:10:01,320 - DEBUG - Connected to IBController
2018-02-27 03:10:01,320 - DEBUG - Position requested
2018-02-27 03:10:01,322 - DEBUG - Pos Mgmt -12987
2018-02-27 03:10:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:10:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:10:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:10:01,323 - DEBUG - Position is -12987
2018-02-27 03:10:02,322 - DEBUG - Open Orders requested
2018-02-27 03:10:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-27 03:10:02,325 - DEBUG - Order OrderID 225
2018-02-27 03:10:02,326 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:10:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 03:10:02,326 - DEBUG - Order Identification 225
2018-02-27 03:10:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:10:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 03:10:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:10:02,327 - DEBUG - Stop ID database is 0
2018-02-27 03:10:02,328 - DEBUG - Entry ID database is 233
2018-02-27 03:10:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DF98>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 03:10:02,329 - DEBUG - Order OrderID 232
2018-02-27 03:10:02,330 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:10:02,330 - DEBUG - Order status PreSubmitted
2018-02-27 03:10:02,330 - DEBUG - Order Identification 232
2018-02-27 03:10:02,331 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:10:02,331 - DEBUG - Profit ID from database is 0
2018-02-27 03:10:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:10:02,331 - DEBUG - Stop ID database is 0
2018-02-27 03:10:02,331 - DEBUG - Entry ID database is 233
2018-02-27 03:10:04,323 - DEBUG - Connecting to database
2018-02-27 03:10:04,330 - DEBUG - Connected to database
2018-02-27 03:10:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:10:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:10:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,336 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:10:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,337 - DEBUG - Stop quantity 1
2018-02-27 03:10:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,339 - DEBUG - Direction is Long
2018-02-27 03:10:04,340 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,341 - DEBUG - Count is 0
2018-02-27 03:10:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:10:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:10:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:10:04,344 - DEBUG - Max ID Order is (233,)
2018-02-27 03:10:04,344 - DEBUG - Today is 2018-02-27
2018-02-27 03:10:04,345 - DEBUG - Day of the week 1
2018-02-27 03:10:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:10:04,345 - DEBUG - In Position is  0
2018-02-27 03:10:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:10:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 03:10:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:10:04,346 - DEBUG - Checking if Entry has been filled
2018-02-27 03:10:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:10:04,348 - DEBUG - EntryPend is 1
2018-02-27 03:10:04,348 - DEBUG - Try to Cancel Stop
2018-02-27 03:10:04,348 - DEBUG - Stop API ID 0
2018-02-27 03:10:04,348 - DEBUG - Profit API ID 0
2018-02-27 03:10:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:10:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:10:04,349 - DEBUG - Pos is 0
2018-02-27 03:10:04,349 - DEBUG - CurCount is 0
2018-02-27 03:10:04,350 - DEBUG - In Pos 0
2018-02-27 03:10:04,350 - DEBUG - Stop ID is 0
2018-02-27 03:10:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:10:04,352 - DEBUG - EntryPend is 1
2018-02-27 03:10:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:10:04,352 - DEBUG - Entry Date is 10
2018-02-27 03:10:04,352 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:10:04,352 - DEBUG - Order Profit ID is 0
2018-02-27 03:10:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 03:10:04,353 - DEBUG - API ID is  0
2018-02-27 03:10:04,353 - DEBUG - Current Position is 0
2018-02-27 03:10:04,353 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:10:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:10:04,354 - DEBUG - Time is 3
2018-02-27 03:10:04,354 - DEBUG - Time is <class 'int'>
2018-02-27 03:10:04,354 - DEBUG - Disconnected from IBController
2018-02-27 03:10:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:15:00,267 - DEBUG - ****************************************************
2018-02-27 03:15:00,267 - DEBUG - Current Time is 03:15AM
2018-02-27 03:15:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:15:00,268 - DEBUG - Connecting to database
2018-02-27 03:15:00,298 - DEBUG - Connected to database
2018-02-27 03:15:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:00,300 - DEBUG - Order Profit is 0
2018-02-27 03:15:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:00,303 - DEBUG - Stop ID is 0
2018-02-27 03:15:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:00,304 - DEBUG - Entry ID is 233
2018-02-27 03:15:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:15:00,306 - DEBUG - OCA ID is 1
2018-02-27 03:15:00,307 - DEBUG - Connecting to IBController
2018-02-27 03:15:01,315 - DEBUG - Connected to IBController
2018-02-27 03:15:01,315 - DEBUG - Position requested
2018-02-27 03:15:01,324 - DEBUG - Pos Mgmt -12987
2018-02-27 03:15:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:15:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:15:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:15:01,326 - DEBUG - Position is -12987
2018-02-27 03:15:02,324 - DEBUG - Open Orders requested
2018-02-27 03:15:02,327 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADA90>, order=<ib.ext.Order.Order object at 0x00000000020ADDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021410B8>>
2018-02-27 03:15:02,328 - DEBUG - Order OrderID 225
2018-02-27 03:15:02,328 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:15:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 03:15:02,329 - DEBUG - Order Identification 225
2018-02-27 03:15:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:15:02,329 - DEBUG - Profit ID from database is 0
2018-02-27 03:15:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:15:02,330 - DEBUG - Stop ID database is 0
2018-02-27 03:15:02,330 - DEBUG - Entry ID database is 233
2018-02-27 03:15:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020ADF98>, order=<ib.ext.Order.Order object at 0x00000000020ADDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-27 03:15:02,332 - DEBUG - Order OrderID 232
2018-02-27 03:15:02,333 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:15:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 03:15:02,336 - DEBUG - Order Identification 232
2018-02-27 03:15:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:15:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 03:15:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:15:02,337 - DEBUG - Stop ID database is 0
2018-02-27 03:15:02,338 - DEBUG - Entry ID database is 233
2018-02-27 03:15:04,326 - DEBUG - Connecting to database
2018-02-27 03:15:04,334 - DEBUG - Connected to database
2018-02-27 03:15:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,336 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:15:04,337 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,338 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:15:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,339 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:15:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,341 - DEBUG - Stop quantity 1
2018-02-27 03:15:04,343 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,343 - DEBUG - Direction is Long
2018-02-27 03:15:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,345 - DEBUG - Count is 0
2018-02-27 03:15:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:15:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:15:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:15:04,348 - DEBUG - Max ID Order is (233,)
2018-02-27 03:15:04,349 - DEBUG - Today is 2018-02-27
2018-02-27 03:15:04,349 - DEBUG - Day of the week 1
2018-02-27 03:15:04,349 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:15:04,350 - DEBUG - In Position is  0
2018-02-27 03:15:04,350 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:15:04,350 - DEBUG - curStopLossFlag is  0
2018-02-27 03:15:04,350 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:15:04,351 - DEBUG - Checking if Entry has been filled
2018-02-27 03:15:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:15:04,352 - DEBUG - EntryPend is 1
2018-02-27 03:15:04,353 - DEBUG - Try to Cancel Stop
2018-02-27 03:15:04,353 - DEBUG - Stop API ID 0
2018-02-27 03:15:04,353 - DEBUG - Profit API ID 0
2018-02-27 03:15:04,353 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:15:04,353 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:15:04,354 - DEBUG - Pos is 0
2018-02-27 03:15:04,354 - DEBUG - CurCount is 0
2018-02-27 03:15:04,354 - DEBUG - In Pos 0
2018-02-27 03:15:04,354 - DEBUG - Stop ID is 0
2018-02-27 03:15:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:15:04,356 - DEBUG - EntryPend is 1
2018-02-27 03:15:04,356 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:15:04,356 - DEBUG - Entry Date is 10
2018-02-27 03:15:04,357 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:15:04,357 - DEBUG - Order Profit ID is 0
2018-02-27 03:15:04,357 - DEBUG - Order Entry ID is 233
2018-02-27 03:15:04,357 - DEBUG - API ID is  0
2018-02-27 03:15:04,358 - DEBUG - Current Position is 0
2018-02-27 03:15:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:15:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:15:04,358 - DEBUG - Time is 3
2018-02-27 03:15:04,359 - DEBUG - Time is <class 'int'>
2018-02-27 03:15:04,359 - DEBUG - Disconnected from IBController
2018-02-27 03:15:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:20:00,250 - DEBUG - ****************************************************
2018-02-27 03:20:00,250 - DEBUG - Current Time is 03:20AM
2018-02-27 03:20:00,251 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:20:00,251 - DEBUG - Connecting to database
2018-02-27 03:20:00,300 - DEBUG - Connected to database
2018-02-27 03:20:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:00,302 - DEBUG - Order Profit is 0
2018-02-27 03:20:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:00,305 - DEBUG - Stop ID is 0
2018-02-27 03:20:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:00,306 - DEBUG - Entry ID is 233
2018-02-27 03:20:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:20:00,308 - DEBUG - OCA ID is 1
2018-02-27 03:20:00,309 - DEBUG - Connecting to IBController
2018-02-27 03:20:01,332 - DEBUG - Connected to IBController
2018-02-27 03:20:01,332 - DEBUG - Position requested
2018-02-27 03:20:01,334 - DEBUG - Pos Mgmt -12987
2018-02-27 03:20:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:20:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:20:01,335 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:20:01,335 - DEBUG - Position is -12987
2018-02-27 03:20:02,334 - DEBUG - Open Orders requested
2018-02-27 03:20:02,337 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DD30>, order=<ib.ext.Order.Order object at 0x000000000203DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10B8>>
2018-02-27 03:20:02,339 - DEBUG - Order OrderID 225
2018-02-27 03:20:02,340 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:20:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 03:20:02,341 - DEBUG - Order Identification 225
2018-02-27 03:20:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:20:02,341 - DEBUG - Profit ID from database is 0
2018-02-27 03:20:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:20:02,342 - DEBUG - Stop ID database is 0
2018-02-27 03:20:02,342 - DEBUG - Entry ID database is 233
2018-02-27 03:20:02,343 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DF60>, order=<ib.ext.Order.Order object at 0x000000000203DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 03:20:02,350 - DEBUG - Order OrderID 232
2018-02-27 03:20:02,351 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:20:02,351 - DEBUG - Order status PreSubmitted
2018-02-27 03:20:02,351 - DEBUG - Order Identification 232
2018-02-27 03:20:02,351 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:20:02,352 - DEBUG - Profit ID from database is 0
2018-02-27 03:20:02,352 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:20:02,352 - DEBUG - Stop ID database is 0
2018-02-27 03:20:02,352 - DEBUG - Entry ID database is 233
2018-02-27 03:20:04,334 - DEBUG - Connecting to database
2018-02-27 03:20:04,341 - DEBUG - Connected to database
2018-02-27 03:20:04,343 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,343 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:20:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,345 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:20:04,346 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,347 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:20:04,348 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,348 - DEBUG - Stop quantity 1
2018-02-27 03:20:04,350 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,350 - DEBUG - Direction is Long
2018-02-27 03:20:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,352 - DEBUG - Count is 0
2018-02-27 03:20:04,353 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:20:04,353 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:20:04,355 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:20:04,355 - DEBUG - Max ID Order is (233,)
2018-02-27 03:20:04,355 - DEBUG - Today is 2018-02-27
2018-02-27 03:20:04,356 - DEBUG - Day of the week 1
2018-02-27 03:20:04,356 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:20:04,356 - DEBUG - In Position is  0
2018-02-27 03:20:04,356 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:20:04,357 - DEBUG - curStopLossFlag is  0
2018-02-27 03:20:04,357 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:20:04,357 - DEBUG - Checking if Entry has been filled
2018-02-27 03:20:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:20:04,359 - DEBUG - EntryPend is 1
2018-02-27 03:20:04,359 - DEBUG - Try to Cancel Stop
2018-02-27 03:20:04,360 - DEBUG - Stop API ID 0
2018-02-27 03:20:04,360 - DEBUG - Profit API ID 0
2018-02-27 03:20:04,360 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:20:04,360 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:20:04,361 - DEBUG - Pos is 0
2018-02-27 03:20:04,361 - DEBUG - CurCount is 0
2018-02-27 03:20:04,361 - DEBUG - In Pos 0
2018-02-27 03:20:04,361 - DEBUG - Stop ID is 0
2018-02-27 03:20:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:20:04,363 - DEBUG - EntryPend is 1
2018-02-27 03:20:04,363 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:20:04,363 - DEBUG - Entry Date is 10
2018-02-27 03:20:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:20:04,364 - DEBUG - Order Profit ID is 0
2018-02-27 03:20:04,364 - DEBUG - Order Entry ID is 233
2018-02-27 03:20:04,364 - DEBUG - API ID is  0
2018-02-27 03:20:04,364 - DEBUG - Current Position is 0
2018-02-27 03:20:04,365 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:20:04,365 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:20:04,365 - DEBUG - Time is 3
2018-02-27 03:20:04,365 - DEBUG - Time is <class 'int'>
2018-02-27 03:20:04,366 - DEBUG - Disconnected from IBController
2018-02-27 03:20:04,366 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:25:00,266 - DEBUG - ****************************************************
2018-02-27 03:25:00,266 - DEBUG - Current Time is 03:25AM
2018-02-27 03:25:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:25:00,267 - DEBUG - Connecting to database
2018-02-27 03:25:00,314 - DEBUG - Connected to database
2018-02-27 03:25:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:00,316 - DEBUG - Order Profit is 0
2018-02-27 03:25:00,317 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:00,318 - DEBUG - Stop ID is 0
2018-02-27 03:25:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:00,321 - DEBUG - Entry ID is 233
2018-02-27 03:25:00,322 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:25:00,323 - DEBUG - OCA ID is 1
2018-02-27 03:25:00,324 - DEBUG - Connecting to IBController
2018-02-27 03:25:01,336 - DEBUG - Connected to IBController
2018-02-27 03:25:01,336 - DEBUG - Position requested
2018-02-27 03:25:01,338 - DEBUG - Pos Mgmt -12987
2018-02-27 03:25:01,338 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:25:01,339 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:25:01,339 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:25:01,339 - DEBUG - Position is -12987
2018-02-27 03:25:02,337 - DEBUG - Open Orders requested
2018-02-27 03:25:02,340 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 03:25:02,340 - DEBUG - Order OrderID 225
2018-02-27 03:25:02,341 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:25:02,341 - DEBUG - Order status PreSubmitted
2018-02-27 03:25:02,341 - DEBUG - Order Identification 225
2018-02-27 03:25:02,342 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:25:02,345 - DEBUG - Profit ID from database is 0
2018-02-27 03:25:02,345 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:25:02,345 - DEBUG - Stop ID database is 0
2018-02-27 03:25:02,346 - DEBUG - Entry ID database is 233
2018-02-27 03:25:02,347 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206CFD0>, order=<ib.ext.Order.Order object at 0x000000000206CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-27 03:25:02,347 - DEBUG - Order OrderID 232
2018-02-27 03:25:02,347 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:25:02,348 - DEBUG - Order status PreSubmitted
2018-02-27 03:25:02,348 - DEBUG - Order Identification 232
2018-02-27 03:25:02,348 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:25:02,349 - DEBUG - Profit ID from database is 0
2018-02-27 03:25:02,349 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:25:02,349 - DEBUG - Stop ID database is 0
2018-02-27 03:25:02,349 - DEBUG - Entry ID database is 233
2018-02-27 03:25:04,340 - DEBUG - Connecting to database
2018-02-27 03:25:04,347 - DEBUG - Connected to database
2018-02-27 03:25:04,349 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,349 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:25:04,351 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,351 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:25:04,353 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,353 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:25:04,355 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,355 - DEBUG - Stop quantity 1
2018-02-27 03:25:04,357 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,357 - DEBUG - Direction is Long
2018-02-27 03:25:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,359 - DEBUG - Count is 0
2018-02-27 03:25:04,360 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:25:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:25:04,362 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:25:04,362 - DEBUG - Max ID Order is (233,)
2018-02-27 03:25:04,363 - DEBUG - Today is 2018-02-27
2018-02-27 03:25:04,363 - DEBUG - Day of the week 1
2018-02-27 03:25:04,363 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:25:04,364 - DEBUG - In Position is  0
2018-02-27 03:25:04,364 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:25:04,364 - DEBUG - curStopLossFlag is  0
2018-02-27 03:25:04,364 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:25:04,364 - DEBUG - Checking if Entry has been filled
2018-02-27 03:25:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:25:04,366 - DEBUG - EntryPend is 1
2018-02-27 03:25:04,366 - DEBUG - Try to Cancel Stop
2018-02-27 03:25:04,367 - DEBUG - Stop API ID 0
2018-02-27 03:25:04,367 - DEBUG - Profit API ID 0
2018-02-27 03:25:04,367 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:25:04,367 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:25:04,368 - DEBUG - Pos is 0
2018-02-27 03:25:04,368 - DEBUG - CurCount is 0
2018-02-27 03:25:04,368 - DEBUG - In Pos 0
2018-02-27 03:25:04,368 - DEBUG - Stop ID is 0
2018-02-27 03:25:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:25:04,370 - DEBUG - EntryPend is 1
2018-02-27 03:25:04,370 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:25:04,370 - DEBUG - Entry Date is 10
2018-02-27 03:25:04,371 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:25:04,371 - DEBUG - Order Profit ID is 0
2018-02-27 03:25:04,371 - DEBUG - Order Entry ID is 233
2018-02-27 03:25:04,371 - DEBUG - API ID is  0
2018-02-27 03:25:04,372 - DEBUG - Current Position is 0
2018-02-27 03:25:04,372 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:25:04,372 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:25:04,372 - DEBUG - Time is 3
2018-02-27 03:25:04,373 - DEBUG - Time is <class 'int'>
2018-02-27 03:25:04,373 - DEBUG - Disconnected from IBController
2018-02-27 03:25:04,373 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:30:00,259 - DEBUG - ****************************************************
2018-02-27 03:30:00,260 - DEBUG - Current Time is 03:30AM
2018-02-27 03:30:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:30:00,261 - DEBUG - Connecting to database
2018-02-27 03:30:00,299 - DEBUG - Connected to database
2018-02-27 03:30:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:00,300 - DEBUG - Order Profit is 0
2018-02-27 03:30:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:00,302 - DEBUG - Stop ID is 0
2018-02-27 03:30:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:00,304 - DEBUG - Entry ID is 233
2018-02-27 03:30:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:30:00,305 - DEBUG - OCA ID is 1
2018-02-27 03:30:00,306 - DEBUG - Connecting to IBController
2018-02-27 03:30:01,316 - DEBUG - Connected to IBController
2018-02-27 03:30:01,316 - DEBUG - Position requested
2018-02-27 03:30:01,318 - DEBUG - Pos Mgmt -12987
2018-02-27 03:30:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:30:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:30:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:30:01,319 - DEBUG - Position is -12987
2018-02-27 03:30:02,318 - DEBUG - Open Orders requested
2018-02-27 03:30:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DAC8>, order=<ib.ext.Order.Order object at 0x000000000202DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1128>>
2018-02-27 03:30:02,331 - DEBUG - Order OrderID 225
2018-02-27 03:30:02,331 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:30:02,331 - DEBUG - Order status PreSubmitted
2018-02-27 03:30:02,332 - DEBUG - Order Identification 225
2018-02-27 03:30:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:30:02,332 - DEBUG - Profit ID from database is 0
2018-02-27 03:30:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:30:02,333 - DEBUG - Stop ID database is 0
2018-02-27 03:30:02,333 - DEBUG - Entry ID database is 233
2018-02-27 03:30:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202DFD0>, order=<ib.ext.Order.Order object at 0x000000000202DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 03:30:02,334 - DEBUG - Order OrderID 232
2018-02-27 03:30:02,335 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:30:02,335 - DEBUG - Order status PreSubmitted
2018-02-27 03:30:02,335 - DEBUG - Order Identification 232
2018-02-27 03:30:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:30:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 03:30:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:30:02,336 - DEBUG - Stop ID database is 0
2018-02-27 03:30:02,336 - DEBUG - Entry ID database is 233
2018-02-27 03:30:04,330 - DEBUG - Connecting to database
2018-02-27 03:30:04,337 - DEBUG - Connected to database
2018-02-27 03:30:04,338 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,339 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:30:04,340 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,341 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:30:04,342 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,342 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:30:04,344 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,344 - DEBUG - Stop quantity 1
2018-02-27 03:30:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,346 - DEBUG - Direction is Long
2018-02-27 03:30:04,347 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,347 - DEBUG - Count is 0
2018-02-27 03:30:04,349 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:30:04,349 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:30:04,350 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:30:04,351 - DEBUG - Max ID Order is (233,)
2018-02-27 03:30:04,351 - DEBUG - Today is 2018-02-27
2018-02-27 03:30:04,352 - DEBUG - Day of the week 1
2018-02-27 03:30:04,352 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:30:04,352 - DEBUG - In Position is  0
2018-02-27 03:30:04,352 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:30:04,353 - DEBUG - curStopLossFlag is  0
2018-02-27 03:30:04,353 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:30:04,353 - DEBUG - Checking if Entry has been filled
2018-02-27 03:30:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:30:04,355 - DEBUG - EntryPend is 1
2018-02-27 03:30:04,355 - DEBUG - Try to Cancel Stop
2018-02-27 03:30:04,355 - DEBUG - Stop API ID 0
2018-02-27 03:30:04,355 - DEBUG - Profit API ID 0
2018-02-27 03:30:04,356 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:30:04,356 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:30:04,356 - DEBUG - Pos is 0
2018-02-27 03:30:04,356 - DEBUG - CurCount is 0
2018-02-27 03:30:04,357 - DEBUG - In Pos 0
2018-02-27 03:30:04,357 - DEBUG - Stop ID is 0
2018-02-27 03:30:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:30:04,358 - DEBUG - EntryPend is 1
2018-02-27 03:30:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:30:04,359 - DEBUG - Entry Date is 10
2018-02-27 03:30:04,359 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:30:04,359 - DEBUG - Order Profit ID is 0
2018-02-27 03:30:04,360 - DEBUG - Order Entry ID is 233
2018-02-27 03:30:04,360 - DEBUG - API ID is  0
2018-02-27 03:30:04,360 - DEBUG - Current Position is 0
2018-02-27 03:30:04,360 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:30:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:30:04,361 - DEBUG - Time is 3
2018-02-27 03:30:04,361 - DEBUG - Time is <class 'int'>
2018-02-27 03:30:04,361 - DEBUG - Disconnected from IBController
2018-02-27 03:30:04,362 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:35:00,258 - DEBUG - ****************************************************
2018-02-27 03:35:00,259 - DEBUG - Current Time is 03:35AM
2018-02-27 03:35:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:35:00,259 - DEBUG - Connecting to database
2018-02-27 03:35:00,283 - DEBUG - Connected to database
2018-02-27 03:35:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:00,285 - DEBUG - Order Profit is 0
2018-02-27 03:35:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:00,287 - DEBUG - Stop ID is 0
2018-02-27 03:35:00,287 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:00,289 - DEBUG - Entry ID is 233
2018-02-27 03:35:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:35:00,290 - DEBUG - OCA ID is 1
2018-02-27 03:35:00,291 - DEBUG - Connecting to IBController
2018-02-27 03:35:01,297 - DEBUG - Connected to IBController
2018-02-27 03:35:01,297 - DEBUG - Position requested
2018-02-27 03:35:01,301 - DEBUG - Pos Mgmt -12987
2018-02-27 03:35:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CAC8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:35:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:35:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:35:01,303 - DEBUG - Position is -12987
2018-02-27 03:35:02,297 - DEBUG - Open Orders requested
2018-02-27 03:35:02,301 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-27 03:35:02,301 - DEBUG - Order OrderID 225
2018-02-27 03:35:02,302 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:35:02,302 - DEBUG - Order status PreSubmitted
2018-02-27 03:35:02,302 - DEBUG - Order Identification 225
2018-02-27 03:35:02,303 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:35:02,303 - DEBUG - Profit ID from database is 0
2018-02-27 03:35:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:35:02,303 - DEBUG - Stop ID database is 0
2018-02-27 03:35:02,304 - DEBUG - Entry ID database is 233
2018-02-27 03:35:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207CFD0>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 03:35:02,305 - DEBUG - Order OrderID 232
2018-02-27 03:35:02,305 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:35:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 03:35:02,306 - DEBUG - Order Identification 232
2018-02-27 03:35:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:35:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 03:35:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:35:02,307 - DEBUG - Stop ID database is 0
2018-02-27 03:35:02,307 - DEBUG - Entry ID database is 233
2018-02-27 03:35:04,297 - DEBUG - Connecting to database
2018-02-27 03:35:04,304 - DEBUG - Connected to database
2018-02-27 03:35:04,306 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,306 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:35:04,308 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,308 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:35:04,309 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,310 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:35:04,311 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,311 - DEBUG - Stop quantity 1
2018-02-27 03:35:04,313 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,313 - DEBUG - Direction is Long
2018-02-27 03:35:04,314 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,315 - DEBUG - Count is 0
2018-02-27 03:35:04,316 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:35:04,316 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:35:04,318 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:35:04,318 - DEBUG - Max ID Order is (233,)
2018-02-27 03:35:04,318 - DEBUG - Today is 2018-02-27
2018-02-27 03:35:04,319 - DEBUG - Day of the week 1
2018-02-27 03:35:04,319 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:35:04,319 - DEBUG - In Position is  0
2018-02-27 03:35:04,320 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:35:04,320 - DEBUG - curStopLossFlag is  0
2018-02-27 03:35:04,320 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:35:04,320 - DEBUG - Checking if Entry has been filled
2018-02-27 03:35:04,321 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:35:04,322 - DEBUG - EntryPend is 1
2018-02-27 03:35:04,322 - DEBUG - Try to Cancel Stop
2018-02-27 03:35:04,323 - DEBUG - Stop API ID 0
2018-02-27 03:35:04,323 - DEBUG - Profit API ID 0
2018-02-27 03:35:04,323 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:35:04,323 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:35:04,323 - DEBUG - Pos is 0
2018-02-27 03:35:04,324 - DEBUG - CurCount is 0
2018-02-27 03:35:04,324 - DEBUG - In Pos 0
2018-02-27 03:35:04,324 - DEBUG - Stop ID is 0
2018-02-27 03:35:04,324 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:35:04,326 - DEBUG - EntryPend is 1
2018-02-27 03:35:04,326 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:35:04,326 - DEBUG - Entry Date is 10
2018-02-27 03:35:04,326 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:35:04,327 - DEBUG - Order Profit ID is 0
2018-02-27 03:35:04,327 - DEBUG - Order Entry ID is 233
2018-02-27 03:35:04,327 - DEBUG - API ID is  0
2018-02-27 03:35:04,327 - DEBUG - Current Position is 0
2018-02-27 03:35:04,328 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:35:04,328 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:35:04,328 - DEBUG - Time is 3
2018-02-27 03:35:04,328 - DEBUG - Time is <class 'int'>
2018-02-27 03:35:04,329 - DEBUG - Disconnected from IBController
2018-02-27 03:35:04,329 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:40:00,264 - DEBUG - ****************************************************
2018-02-27 03:40:00,265 - DEBUG - Current Time is 03:40AM
2018-02-27 03:40:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:40:00,265 - DEBUG - Connecting to database
2018-02-27 03:40:00,308 - DEBUG - Connected to database
2018-02-27 03:40:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:00,310 - DEBUG - Order Profit is 0
2018-02-27 03:40:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:00,312 - DEBUG - Stop ID is 0
2018-02-27 03:40:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:00,314 - DEBUG - Entry ID is 233
2018-02-27 03:40:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:40:00,316 - DEBUG - OCA ID is 1
2018-02-27 03:40:00,316 - DEBUG - Connecting to IBController
2018-02-27 03:40:01,325 - DEBUG - Connected to IBController
2018-02-27 03:40:01,325 - DEBUG - Position requested
2018-02-27 03:40:01,327 - DEBUG - Pos Mgmt -12987
2018-02-27 03:40:01,327 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:40:01,327 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:40:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:40:01,328 - DEBUG - Position is -12987
2018-02-27 03:40:02,326 - DEBUG - Open Orders requested
2018-02-27 03:40:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CA20>, order=<ib.ext.Order.Order object at 0x000000000203CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-27 03:40:02,329 - DEBUG - Order OrderID 225
2018-02-27 03:40:02,329 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:40:02,330 - DEBUG - Order status PreSubmitted
2018-02-27 03:40:02,330 - DEBUG - Order Identification 225
2018-02-27 03:40:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:40:02,331 - DEBUG - Profit ID from database is 0
2018-02-27 03:40:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:40:02,331 - DEBUG - Stop ID database is 0
2018-02-27 03:40:02,331 - DEBUG - Entry ID database is 233
2018-02-27 03:40:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CFD0>, order=<ib.ext.Order.Order object at 0x000000000203CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2080>>
2018-02-27 03:40:02,333 - DEBUG - Order OrderID 232
2018-02-27 03:40:02,333 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:40:02,338 - DEBUG - Order status PreSubmitted
2018-02-27 03:40:02,338 - DEBUG - Order Identification 232
2018-02-27 03:40:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:40:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 03:40:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:40:02,339 - DEBUG - Stop ID database is 0
2018-02-27 03:40:02,339 - DEBUG - Entry ID database is 233
2018-02-27 03:40:04,329 - DEBUG - Connecting to database
2018-02-27 03:40:04,336 - DEBUG - Connected to database
2018-02-27 03:40:04,338 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,338 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:40:04,341 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,342 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:40:04,343 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,343 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:40:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,345 - DEBUG - Stop quantity 1
2018-02-27 03:40:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,347 - DEBUG - Direction is Long
2018-02-27 03:40:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,348 - DEBUG - Count is 0
2018-02-27 03:40:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:40:04,350 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:40:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:40:04,352 - DEBUG - Max ID Order is (233,)
2018-02-27 03:40:04,352 - DEBUG - Today is 2018-02-27
2018-02-27 03:40:04,352 - DEBUG - Day of the week 1
2018-02-27 03:40:04,353 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:40:04,353 - DEBUG - In Position is  0
2018-02-27 03:40:04,353 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:40:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 03:40:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:40:04,354 - DEBUG - Checking if Entry has been filled
2018-02-27 03:40:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:40:04,356 - DEBUG - EntryPend is 1
2018-02-27 03:40:04,356 - DEBUG - Try to Cancel Stop
2018-02-27 03:40:04,356 - DEBUG - Stop API ID 0
2018-02-27 03:40:04,356 - DEBUG - Profit API ID 0
2018-02-27 03:40:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:40:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:40:04,357 - DEBUG - Pos is 0
2018-02-27 03:40:04,357 - DEBUG - CurCount is 0
2018-02-27 03:40:04,357 - DEBUG - In Pos 0
2018-02-27 03:40:04,358 - DEBUG - Stop ID is 0
2018-02-27 03:40:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:40:04,359 - DEBUG - EntryPend is 1
2018-02-27 03:40:04,360 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:40:04,360 - DEBUG - Entry Date is 10
2018-02-27 03:40:04,360 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:40:04,360 - DEBUG - Order Profit ID is 0
2018-02-27 03:40:04,360 - DEBUG - Order Entry ID is 233
2018-02-27 03:40:04,361 - DEBUG - API ID is  0
2018-02-27 03:40:04,361 - DEBUG - Current Position is 0
2018-02-27 03:40:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:40:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:40:04,362 - DEBUG - Time is 3
2018-02-27 03:40:04,362 - DEBUG - Time is <class 'int'>
2018-02-27 03:40:04,362 - DEBUG - Disconnected from IBController
2018-02-27 03:40:04,363 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:45:00,267 - DEBUG - ****************************************************
2018-02-27 03:45:00,267 - DEBUG - Current Time is 03:45AM
2018-02-27 03:45:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:45:00,268 - DEBUG - Connecting to database
2018-02-27 03:45:00,292 - DEBUG - Connected to database
2018-02-27 03:45:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:00,293 - DEBUG - Order Profit is 0
2018-02-27 03:45:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:00,295 - DEBUG - Stop ID is 0
2018-02-27 03:45:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:00,297 - DEBUG - Entry ID is 233
2018-02-27 03:45:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:45:00,298 - DEBUG - OCA ID is 1
2018-02-27 03:45:00,298 - DEBUG - Connecting to IBController
2018-02-27 03:45:01,306 - DEBUG - Connected to IBController
2018-02-27 03:45:01,306 - DEBUG - Position requested
2018-02-27 03:45:01,308 - DEBUG - Pos Mgmt -12987
2018-02-27 03:45:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:45:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:45:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:45:01,309 - DEBUG - Position is -12987
2018-02-27 03:45:02,308 - DEBUG - Open Orders requested
2018-02-27 03:45:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CE10>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 03:45:02,311 - DEBUG - Order OrderID 225
2018-02-27 03:45:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:45:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 03:45:02,312 - DEBUG - Order Identification 225
2018-02-27 03:45:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:45:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 03:45:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:45:02,313 - DEBUG - Stop ID database is 0
2018-02-27 03:45:02,313 - DEBUG - Entry ID database is 233
2018-02-27 03:45:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207CFD0>, order=<ib.ext.Order.Order object at 0x000000000207CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112048>>
2018-02-27 03:45:02,315 - DEBUG - Order OrderID 232
2018-02-27 03:45:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:45:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 03:45:02,316 - DEBUG - Order Identification 232
2018-02-27 03:45:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:45:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 03:45:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:45:02,317 - DEBUG - Stop ID database is 0
2018-02-27 03:45:02,317 - DEBUG - Entry ID database is 233
2018-02-27 03:45:04,311 - DEBUG - Connecting to database
2018-02-27 03:45:04,318 - DEBUG - Connected to database
2018-02-27 03:45:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:45:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:45:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:45:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,325 - DEBUG - Stop quantity 1
2018-02-27 03:45:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,327 - DEBUG - Direction is Long
2018-02-27 03:45:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,329 - DEBUG - Count is 0
2018-02-27 03:45:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:45:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:45:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:45:04,332 - DEBUG - Max ID Order is (233,)
2018-02-27 03:45:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 03:45:04,333 - DEBUG - Day of the week 1
2018-02-27 03:45:04,333 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:45:04,334 - DEBUG - In Position is  0
2018-02-27 03:45:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:45:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 03:45:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:45:04,334 - DEBUG - Checking if Entry has been filled
2018-02-27 03:45:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:45:04,336 - DEBUG - EntryPend is 1
2018-02-27 03:45:04,336 - DEBUG - Try to Cancel Stop
2018-02-27 03:45:04,337 - DEBUG - Stop API ID 0
2018-02-27 03:45:04,337 - DEBUG - Profit API ID 0
2018-02-27 03:45:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:45:04,337 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:45:04,338 - DEBUG - Pos is 0
2018-02-27 03:45:04,338 - DEBUG - CurCount is 0
2018-02-27 03:45:04,338 - DEBUG - In Pos 0
2018-02-27 03:45:04,339 - DEBUG - Stop ID is 0
2018-02-27 03:45:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:45:04,340 - DEBUG - EntryPend is 1
2018-02-27 03:45:04,340 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:45:04,341 - DEBUG - Entry Date is 10
2018-02-27 03:45:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:45:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 03:45:04,341 - DEBUG - Order Entry ID is 233
2018-02-27 03:45:04,342 - DEBUG - API ID is  0
2018-02-27 03:45:04,342 - DEBUG - Current Position is 0
2018-02-27 03:45:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:45:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:45:04,343 - DEBUG - Time is 3
2018-02-27 03:45:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 03:45:04,343 - DEBUG - Disconnected from IBController
2018-02-27 03:45:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:50:00,274 - DEBUG - ****************************************************
2018-02-27 03:50:00,275 - DEBUG - Current Time is 03:50AM
2018-02-27 03:50:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:50:00,275 - DEBUG - Connecting to database
2018-02-27 03:50:00,319 - DEBUG - Connected to database
2018-02-27 03:50:00,320 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:00,321 - DEBUG - Order Profit is 0
2018-02-27 03:50:00,322 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:00,323 - DEBUG - Stop ID is 0
2018-02-27 03:50:00,323 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:00,324 - DEBUG - Entry ID is 233
2018-02-27 03:50:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:50:00,326 - DEBUG - OCA ID is 1
2018-02-27 03:50:00,327 - DEBUG - Connecting to IBController
2018-02-27 03:50:01,336 - DEBUG - Connected to IBController
2018-02-27 03:50:01,336 - DEBUG - Position requested
2018-02-27 03:50:01,340 - DEBUG - Pos Mgmt -12987
2018-02-27 03:50:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:50:01,341 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:50:01,342 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:50:01,342 - DEBUG - Position is -12987
2018-02-27 03:50:02,337 - DEBUG - Open Orders requested
2018-02-27 03:50:02,341 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 03:50:02,341 - DEBUG - Order OrderID 225
2018-02-27 03:50:02,342 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:50:02,342 - DEBUG - Order status PreSubmitted
2018-02-27 03:50:02,343 - DEBUG - Order Identification 225
2018-02-27 03:50:02,343 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:50:02,343 - DEBUG - Profit ID from database is 0
2018-02-27 03:50:02,343 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:50:02,344 - DEBUG - Stop ID database is 0
2018-02-27 03:50:02,344 - DEBUG - Entry ID database is 233
2018-02-27 03:50:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121080>>
2018-02-27 03:50:02,345 - DEBUG - Order OrderID 232
2018-02-27 03:50:02,346 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:50:02,346 - DEBUG - Order status PreSubmitted
2018-02-27 03:50:02,346 - DEBUG - Order Identification 232
2018-02-27 03:50:02,346 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:50:02,347 - DEBUG - Profit ID from database is 0
2018-02-27 03:50:02,347 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:50:02,347 - DEBUG - Stop ID database is 0
2018-02-27 03:50:02,347 - DEBUG - Entry ID database is 233
2018-02-27 03:50:04,341 - DEBUG - Connecting to database
2018-02-27 03:50:04,348 - DEBUG - Connected to database
2018-02-27 03:50:04,349 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,350 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:50:04,351 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,352 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:50:04,353 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,353 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:50:04,355 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,355 - DEBUG - Stop quantity 1
2018-02-27 03:50:04,356 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,357 - DEBUG - Direction is Long
2018-02-27 03:50:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,358 - DEBUG - Count is 0
2018-02-27 03:50:04,360 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:50:04,360 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:50:04,361 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:50:04,362 - DEBUG - Max ID Order is (233,)
2018-02-27 03:50:04,362 - DEBUG - Today is 2018-02-27
2018-02-27 03:50:04,362 - DEBUG - Day of the week 1
2018-02-27 03:50:04,363 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:50:04,363 - DEBUG - In Position is  0
2018-02-27 03:50:04,363 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:50:04,363 - DEBUG - curStopLossFlag is  0
2018-02-27 03:50:04,364 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:50:04,364 - DEBUG - Checking if Entry has been filled
2018-02-27 03:50:04,364 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:50:04,365 - DEBUG - EntryPend is 1
2018-02-27 03:50:04,366 - DEBUG - Try to Cancel Stop
2018-02-27 03:50:04,366 - DEBUG - Stop API ID 0
2018-02-27 03:50:04,366 - DEBUG - Profit API ID 0
2018-02-27 03:50:04,366 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:50:04,367 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:50:04,367 - DEBUG - Pos is 0
2018-02-27 03:50:04,367 - DEBUG - CurCount is 0
2018-02-27 03:50:04,367 - DEBUG - In Pos 0
2018-02-27 03:50:04,368 - DEBUG - Stop ID is 0
2018-02-27 03:50:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:50:04,369 - DEBUG - EntryPend is 1
2018-02-27 03:50:04,369 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:50:04,369 - DEBUG - Entry Date is 10
2018-02-27 03:50:04,370 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:50:04,370 - DEBUG - Order Profit ID is 0
2018-02-27 03:50:04,370 - DEBUG - Order Entry ID is 233
2018-02-27 03:50:04,370 - DEBUG - API ID is  0
2018-02-27 03:50:04,371 - DEBUG - Current Position is 0
2018-02-27 03:50:04,371 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:50:04,371 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:50:04,371 - DEBUG - Time is 3
2018-02-27 03:50:04,372 - DEBUG - Time is <class 'int'>
2018-02-27 03:50:04,372 - DEBUG - Disconnected from IBController
2018-02-27 03:50:04,373 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 03:55:00,255 - DEBUG - ****************************************************
2018-02-27 03:55:00,255 - DEBUG - Current Time is 03:55AM
2018-02-27 03:55:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-27 03:55:00,256 - DEBUG - Connecting to database
2018-02-27 03:55:00,277 - DEBUG - Connected to database
2018-02-27 03:55:00,278 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:00,279 - DEBUG - Order Profit is 0
2018-02-27 03:55:00,279 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:00,281 - DEBUG - Stop ID is 0
2018-02-27 03:55:00,281 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:00,282 - DEBUG - Entry ID is 233
2018-02-27 03:55:00,282 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 03:55:00,284 - DEBUG - OCA ID is 1
2018-02-27 03:55:00,284 - DEBUG - Connecting to IBController
2018-02-27 03:55:01,295 - DEBUG - Connected to IBController
2018-02-27 03:55:01,295 - DEBUG - Position requested
2018-02-27 03:55:01,297 - DEBUG - Pos Mgmt -12987
2018-02-27 03:55:01,297 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 03:55:01,297 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 03:55:01,298 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 03:55:01,298 - DEBUG - Position is -12987
2018-02-27 03:55:02,297 - DEBUG - Open Orders requested
2018-02-27 03:55:02,299 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DD30>, order=<ib.ext.Order.Order object at 0x000000000203DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 03:55:02,300 - DEBUG - Order OrderID 225
2018-02-27 03:55:02,300 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:55:02,301 - DEBUG - Order status PreSubmitted
2018-02-27 03:55:02,301 - DEBUG - Order Identification 225
2018-02-27 03:55:02,301 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:55:02,302 - DEBUG - Profit ID from database is 0
2018-02-27 03:55:02,302 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:55:02,302 - DEBUG - Stop ID database is 0
2018-02-27 03:55:02,302 - DEBUG - Entry ID database is 233
2018-02-27 03:55:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-27 03:55:02,304 - DEBUG - Order OrderID 232
2018-02-27 03:55:02,304 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 03:55:02,304 - DEBUG - Order status PreSubmitted
2018-02-27 03:55:02,305 - DEBUG - Order Identification 232
2018-02-27 03:55:02,305 - DEBUG - Order Identification <class 'int'>
2018-02-27 03:55:02,305 - DEBUG - Profit ID from database is 0
2018-02-27 03:55:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 03:55:02,306 - DEBUG - Stop ID database is 0
2018-02-27 03:55:02,306 - DEBUG - Entry ID database is 233
2018-02-27 03:55:04,300 - DEBUG - Connecting to database
2018-02-27 03:55:04,309 - DEBUG - Connected to database
2018-02-27 03:55:04,310 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,311 - DEBUG - Stop loss value is 2742.75
2018-02-27 03:55:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,312 - DEBUG - Stop loss value is 2797.0
2018-02-27 03:55:04,314 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,314 - DEBUG - EntryPrice value is 2787.5
2018-02-27 03:55:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,316 - DEBUG - Stop quantity 1
2018-02-27 03:55:04,317 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,318 - DEBUG - Direction is Long
2018-02-27 03:55:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,319 - DEBUG - Count is 0
2018-02-27 03:55:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 03:55:04,321 - DEBUG - Stop Loss Flag is 0
2018-02-27 03:55:04,322 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 03:55:04,323 - DEBUG - Max ID Order is (233,)
2018-02-27 03:55:04,323 - DEBUG - Today is 2018-02-27
2018-02-27 03:55:04,323 - DEBUG - Day of the week 1
2018-02-27 03:55:04,324 - DEBUG - Yesterday is 02/26/2018
2018-02-27 03:55:04,324 - DEBUG - In Position is  0
2018-02-27 03:55:04,324 - DEBUG - In Position is  <class 'int'>
2018-02-27 03:55:04,324 - DEBUG - curStopLossFlag is  0
2018-02-27 03:55:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 03:55:04,325 - DEBUG - Checking if Entry has been filled
2018-02-27 03:55:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:55:04,326 - DEBUG - EntryPend is 1
2018-02-27 03:55:04,327 - DEBUG - Try to Cancel Stop
2018-02-27 03:55:04,327 - DEBUG - Stop API ID 0
2018-02-27 03:55:04,327 - DEBUG - Profit API ID 0
2018-02-27 03:55:04,327 - DEBUG - Stop API ID <class 'int'>
2018-02-27 03:55:04,327 - DEBUG - Profit API ID <class 'int'>
2018-02-27 03:55:04,328 - DEBUG - Pos is 0
2018-02-27 03:55:04,328 - DEBUG - CurCount is 0
2018-02-27 03:55:04,328 - DEBUG - In Pos 0
2018-02-27 03:55:04,328 - DEBUG - Stop ID is 0
2018-02-27 03:55:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 03:55:04,330 - DEBUG - EntryPend is 1
2018-02-27 03:55:04,330 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 03:55:04,330 - DEBUG - Entry Date is 10
2018-02-27 03:55:04,331 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 03:55:04,331 - DEBUG - Order Profit ID is 0
2018-02-27 03:55:04,331 - DEBUG - Order Entry ID is 233
2018-02-27 03:55:04,331 - DEBUG - API ID is  0
2018-02-27 03:55:04,332 - DEBUG - Current Position is 0
2018-02-27 03:55:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-27 03:55:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 03:55:04,332 - DEBUG - Time is 3
2018-02-27 03:55:04,333 - DEBUG - Time is <class 'int'>
2018-02-27 03:55:04,333 - DEBUG - Disconnected from IBController
2018-02-27 03:55:04,333 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:00:00,263 - DEBUG - ****************************************************
2018-02-27 04:00:00,263 - DEBUG - Current Time is 04:00AM
2018-02-27 04:00:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:00:00,264 - DEBUG - Connecting to database
2018-02-27 04:00:00,289 - DEBUG - Connected to database
2018-02-27 04:00:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:00,291 - DEBUG - Order Profit is 0
2018-02-27 04:00:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:00,293 - DEBUG - Stop ID is 0
2018-02-27 04:00:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:00,294 - DEBUG - Entry ID is 233
2018-02-27 04:00:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:00:00,296 - DEBUG - OCA ID is 1
2018-02-27 04:00:00,296 - DEBUG - Connecting to IBController
2018-02-27 04:00:01,303 - DEBUG - Connected to IBController
2018-02-27 04:00:01,303 - DEBUG - Position requested
2018-02-27 04:00:01,316 - DEBUG - Pos Mgmt -12987
2018-02-27 04:00:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:00:01,317 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:00:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:00:01,317 - DEBUG - Position is -12987
2018-02-27 04:00:02,315 - DEBUG - Open Orders requested
2018-02-27 04:00:02,317 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DD68>, order=<ib.ext.Order.Order object at 0x000000000209DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-27 04:00:02,318 - DEBUG - Order OrderID 225
2018-02-27 04:00:02,318 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:00:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 04:00:02,319 - DEBUG - Order Identification 225
2018-02-27 04:00:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:00:02,319 - DEBUG - Profit ID from database is 0
2018-02-27 04:00:02,320 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:00:02,320 - DEBUG - Stop ID database is 0
2018-02-27 04:00:02,320 - DEBUG - Entry ID database is 233
2018-02-27 04:00:02,321 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209DFD0>, order=<ib.ext.Order.Order object at 0x000000000209DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021310F0>>
2018-02-27 04:00:02,321 - DEBUG - Order OrderID 232
2018-02-27 04:00:02,322 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:00:02,322 - DEBUG - Order status PreSubmitted
2018-02-27 04:00:02,322 - DEBUG - Order Identification 232
2018-02-27 04:00:02,323 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:00:02,323 - DEBUG - Profit ID from database is 0
2018-02-27 04:00:02,323 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:00:02,323 - DEBUG - Stop ID database is 0
2018-02-27 04:00:02,324 - DEBUG - Entry ID database is 233
2018-02-27 04:00:04,318 - DEBUG - Connecting to database
2018-02-27 04:00:04,326 - DEBUG - Connected to database
2018-02-27 04:00:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,328 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:00:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,330 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:00:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:00:04,333 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,333 - DEBUG - Stop quantity 1
2018-02-27 04:00:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,335 - DEBUG - Direction is Long
2018-02-27 04:00:04,336 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,336 - DEBUG - Count is 0
2018-02-27 04:00:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:00:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:00:04,340 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:00:04,340 - DEBUG - Max ID Order is (233,)
2018-02-27 04:00:04,340 - DEBUG - Today is 2018-02-27
2018-02-27 04:00:04,341 - DEBUG - Day of the week 1
2018-02-27 04:00:04,341 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:00:04,341 - DEBUG - In Position is  0
2018-02-27 04:00:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:00:04,342 - DEBUG - curStopLossFlag is  0
2018-02-27 04:00:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:00:04,342 - DEBUG - Checking if Entry has been filled
2018-02-27 04:00:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:00:04,344 - DEBUG - EntryPend is 1
2018-02-27 04:00:04,344 - DEBUG - Try to Cancel Stop
2018-02-27 04:00:04,344 - DEBUG - Stop API ID 0
2018-02-27 04:00:04,345 - DEBUG - Profit API ID 0
2018-02-27 04:00:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:00:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:00:04,345 - DEBUG - Pos is 0
2018-02-27 04:00:04,345 - DEBUG - CurCount is 0
2018-02-27 04:00:04,346 - DEBUG - In Pos 0
2018-02-27 04:00:04,346 - DEBUG - Stop ID is 0
2018-02-27 04:00:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:00:04,347 - DEBUG - EntryPend is 1
2018-02-27 04:00:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:00:04,348 - DEBUG - Entry Date is 10
2018-02-27 04:00:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:00:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 04:00:04,349 - DEBUG - Order Entry ID is 233
2018-02-27 04:00:04,349 - DEBUG - API ID is  0
2018-02-27 04:00:04,349 - DEBUG - Current Position is 0
2018-02-27 04:00:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:00:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:00:04,350 - DEBUG - Time is 4
2018-02-27 04:00:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 04:00:04,350 - DEBUG - Disconnected from IBController
2018-02-27 04:00:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:05:00,251 - DEBUG - ****************************************************
2018-02-27 04:05:00,251 - DEBUG - Current Time is 04:05AM
2018-02-27 04:05:00,252 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:05:00,252 - DEBUG - Connecting to database
2018-02-27 04:05:00,291 - DEBUG - Connected to database
2018-02-27 04:05:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:00,293 - DEBUG - Order Profit is 0
2018-02-27 04:05:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:00,295 - DEBUG - Stop ID is 0
2018-02-27 04:05:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:00,297 - DEBUG - Entry ID is 233
2018-02-27 04:05:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:05:00,299 - DEBUG - OCA ID is 1
2018-02-27 04:05:00,299 - DEBUG - Connecting to IBController
2018-02-27 04:05:01,309 - DEBUG - Connected to IBController
2018-02-27 04:05:01,309 - DEBUG - Position requested
2018-02-27 04:05:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 04:05:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:05:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:05:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:05:01,312 - DEBUG - Position is -12987
2018-02-27 04:05:02,311 - DEBUG - Open Orders requested
2018-02-27 04:05:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202CC88>, order=<ib.ext.Order.Order object at 0x000000000202CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2128>>
2018-02-27 04:05:02,315 - DEBUG - Order OrderID 225
2018-02-27 04:05:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:05:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 04:05:02,316 - DEBUG - Order Identification 225
2018-02-27 04:05:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:05:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 04:05:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:05:02,317 - DEBUG - Stop ID database is 0
2018-02-27 04:05:02,317 - DEBUG - Entry ID database is 233
2018-02-27 04:05:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202CFD0>, order=<ib.ext.Order.Order object at 0x000000000202CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2080>>
2018-02-27 04:05:02,321 - DEBUG - Order OrderID 232
2018-02-27 04:05:02,321 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:05:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 04:05:02,322 - DEBUG - Order Identification 232
2018-02-27 04:05:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:05:02,322 - DEBUG - Profit ID from database is 0
2018-02-27 04:05:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:05:02,322 - DEBUG - Stop ID database is 0
2018-02-27 04:05:02,323 - DEBUG - Entry ID database is 233
2018-02-27 04:05:04,314 - DEBUG - Connecting to database
2018-02-27 04:05:04,321 - DEBUG - Connected to database
2018-02-27 04:05:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:05:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:05:04,327 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:05:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,329 - DEBUG - Stop quantity 1
2018-02-27 04:05:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,330 - DEBUG - Direction is Long
2018-02-27 04:05:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,332 - DEBUG - Count is 0
2018-02-27 04:05:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:05:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:05:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:05:04,336 - DEBUG - Max ID Order is (233,)
2018-02-27 04:05:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 04:05:04,336 - DEBUG - Day of the week 1
2018-02-27 04:05:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:05:04,337 - DEBUG - In Position is  0
2018-02-27 04:05:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:05:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 04:05:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:05:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 04:05:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:05:04,340 - DEBUG - EntryPend is 1
2018-02-27 04:05:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 04:05:04,340 - DEBUG - Stop API ID 0
2018-02-27 04:05:04,340 - DEBUG - Profit API ID 0
2018-02-27 04:05:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:05:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:05:04,341 - DEBUG - Pos is 0
2018-02-27 04:05:04,341 - DEBUG - CurCount is 0
2018-02-27 04:05:04,341 - DEBUG - In Pos 0
2018-02-27 04:05:04,342 - DEBUG - Stop ID is 0
2018-02-27 04:05:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:05:04,343 - DEBUG - EntryPend is 1
2018-02-27 04:05:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:05:04,344 - DEBUG - Entry Date is 10
2018-02-27 04:05:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:05:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 04:05:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 04:05:04,345 - DEBUG - API ID is  0
2018-02-27 04:05:04,345 - DEBUG - Current Position is 0
2018-02-27 04:05:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:05:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:05:04,346 - DEBUG - Time is 4
2018-02-27 04:05:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 04:05:04,346 - DEBUG - Disconnected from IBController
2018-02-27 04:05:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:10:00,264 - DEBUG - ****************************************************
2018-02-27 04:10:00,265 - DEBUG - Current Time is 04:10AM
2018-02-27 04:10:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:10:00,265 - DEBUG - Connecting to database
2018-02-27 04:10:00,289 - DEBUG - Connected to database
2018-02-27 04:10:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:00,291 - DEBUG - Order Profit is 0
2018-02-27 04:10:00,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:00,293 - DEBUG - Stop ID is 0
2018-02-27 04:10:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:00,295 - DEBUG - Entry ID is 233
2018-02-27 04:10:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:10:00,296 - DEBUG - OCA ID is 1
2018-02-27 04:10:00,297 - DEBUG - Connecting to IBController
2018-02-27 04:10:01,310 - DEBUG - Connected to IBController
2018-02-27 04:10:01,310 - DEBUG - Position requested
2018-02-27 04:10:01,314 - DEBUG - Pos Mgmt -12987
2018-02-27 04:10:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:10:01,314 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:10:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:10:01,315 - DEBUG - Position is -12987
2018-02-27 04:10:02,313 - DEBUG - Open Orders requested
2018-02-27 04:10:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DD30>, order=<ib.ext.Order.Order object at 0x000000000205DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-27 04:10:02,319 - DEBUG - Order OrderID 225
2018-02-27 04:10:02,320 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:10:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 04:10:02,321 - DEBUG - Order Identification 225
2018-02-27 04:10:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:10:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 04:10:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:10:02,322 - DEBUG - Stop ID database is 0
2018-02-27 04:10:02,322 - DEBUG - Entry ID database is 233
2018-02-27 04:10:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 04:10:02,323 - DEBUG - Order OrderID 232
2018-02-27 04:10:02,324 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:10:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 04:10:02,324 - DEBUG - Order Identification 232
2018-02-27 04:10:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:10:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 04:10:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:10:02,325 - DEBUG - Stop ID database is 0
2018-02-27 04:10:02,325 - DEBUG - Entry ID database is 233
2018-02-27 04:10:04,318 - DEBUG - Connecting to database
2018-02-27 04:10:04,325 - DEBUG - Connected to database
2018-02-27 04:10:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:10:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:10:04,330 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:10:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,332 - DEBUG - Stop quantity 1
2018-02-27 04:10:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,334 - DEBUG - Direction is Long
2018-02-27 04:10:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,335 - DEBUG - Count is 0
2018-02-27 04:10:04,337 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:10:04,337 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:10:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:10:04,339 - DEBUG - Max ID Order is (233,)
2018-02-27 04:10:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 04:10:04,340 - DEBUG - Day of the week 1
2018-02-27 04:10:04,340 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:10:04,340 - DEBUG - In Position is  0
2018-02-27 04:10:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:10:04,341 - DEBUG - curStopLossFlag is  0
2018-02-27 04:10:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:10:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 04:10:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:10:04,343 - DEBUG - EntryPend is 1
2018-02-27 04:10:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 04:10:04,343 - DEBUG - Stop API ID 0
2018-02-27 04:10:04,343 - DEBUG - Profit API ID 0
2018-02-27 04:10:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:10:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:10:04,344 - DEBUG - Pos is 0
2018-02-27 04:10:04,344 - DEBUG - CurCount is 0
2018-02-27 04:10:04,345 - DEBUG - In Pos 0
2018-02-27 04:10:04,345 - DEBUG - Stop ID is 0
2018-02-27 04:10:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:10:04,346 - DEBUG - EntryPend is 1
2018-02-27 04:10:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:10:04,347 - DEBUG - Entry Date is 10
2018-02-27 04:10:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:10:04,347 - DEBUG - Order Profit ID is 0
2018-02-27 04:10:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 04:10:04,348 - DEBUG - API ID is  0
2018-02-27 04:10:04,348 - DEBUG - Current Position is 0
2018-02-27 04:10:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:10:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:10:04,349 - DEBUG - Time is 4
2018-02-27 04:10:04,349 - DEBUG - Time is <class 'int'>
2018-02-27 04:10:04,349 - DEBUG - Disconnected from IBController
2018-02-27 04:10:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:15:00,258 - DEBUG - ****************************************************
2018-02-27 04:15:00,259 - DEBUG - Current Time is 04:15AM
2018-02-27 04:15:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:15:00,260 - DEBUG - Connecting to database
2018-02-27 04:15:00,281 - DEBUG - Connected to database
2018-02-27 04:15:00,282 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:00,283 - DEBUG - Order Profit is 0
2018-02-27 04:15:00,283 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:00,285 - DEBUG - Stop ID is 0
2018-02-27 04:15:00,285 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:00,286 - DEBUG - Entry ID is 233
2018-02-27 04:15:00,287 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:15:00,288 - DEBUG - OCA ID is 1
2018-02-27 04:15:00,288 - DEBUG - Connecting to IBController
2018-02-27 04:15:01,296 - DEBUG - Connected to IBController
2018-02-27 04:15:01,296 - DEBUG - Position requested
2018-02-27 04:15:01,298 - DEBUG - Pos Mgmt -12987
2018-02-27 04:15:01,298 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:15:01,298 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:15:01,299 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:15:01,299 - DEBUG - Position is -12987
2018-02-27 04:15:02,298 - DEBUG - Open Orders requested
2018-02-27 04:15:02,300 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CDA0>, order=<ib.ext.Order.Order object at 0x000000000209CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-27 04:15:02,301 - DEBUG - Order OrderID 225
2018-02-27 04:15:02,301 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:15:02,302 - DEBUG - Order status PreSubmitted
2018-02-27 04:15:02,302 - DEBUG - Order Identification 225
2018-02-27 04:15:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:15:02,303 - DEBUG - Profit ID from database is 0
2018-02-27 04:15:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:15:02,303 - DEBUG - Stop ID database is 0
2018-02-27 04:15:02,303 - DEBUG - Entry ID database is 233
2018-02-27 04:15:02,304 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209CFD0>, order=<ib.ext.Order.Order object at 0x000000000209CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132048>>
2018-02-27 04:15:02,305 - DEBUG - Order OrderID 232
2018-02-27 04:15:02,305 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:15:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 04:15:02,306 - DEBUG - Order Identification 232
2018-02-27 04:15:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:15:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 04:15:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:15:02,307 - DEBUG - Stop ID database is 0
2018-02-27 04:15:02,307 - DEBUG - Entry ID database is 233
2018-02-27 04:15:04,301 - DEBUG - Connecting to database
2018-02-27 04:15:04,308 - DEBUG - Connected to database
2018-02-27 04:15:04,310 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,310 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:15:04,315 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,315 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:15:04,317 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,318 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:15:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,331 - DEBUG - Stop quantity 1
2018-02-27 04:15:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,333 - DEBUG - Direction is Long
2018-02-27 04:15:04,334 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,335 - DEBUG - Count is 0
2018-02-27 04:15:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:15:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:15:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:15:04,338 - DEBUG - Max ID Order is (233,)
2018-02-27 04:15:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 04:15:04,339 - DEBUG - Day of the week 1
2018-02-27 04:15:04,339 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:15:04,340 - DEBUG - In Position is  0
2018-02-27 04:15:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:15:04,340 - DEBUG - curStopLossFlag is  0
2018-02-27 04:15:04,340 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:15:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 04:15:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:15:04,342 - DEBUG - EntryPend is 1
2018-02-27 04:15:04,342 - DEBUG - Try to Cancel Stop
2018-02-27 04:15:04,343 - DEBUG - Stop API ID 0
2018-02-27 04:15:04,343 - DEBUG - Profit API ID 0
2018-02-27 04:15:04,343 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:15:04,343 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:15:04,344 - DEBUG - Pos is 0
2018-02-27 04:15:04,344 - DEBUG - CurCount is 0
2018-02-27 04:15:04,344 - DEBUG - In Pos 0
2018-02-27 04:15:04,344 - DEBUG - Stop ID is 0
2018-02-27 04:15:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:15:04,346 - DEBUG - EntryPend is 1
2018-02-27 04:15:04,346 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:15:04,347 - DEBUG - Entry Date is 10
2018-02-27 04:15:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:15:04,347 - DEBUG - Order Profit ID is 0
2018-02-27 04:15:04,347 - DEBUG - Order Entry ID is 233
2018-02-27 04:15:04,348 - DEBUG - API ID is  0
2018-02-27 04:15:04,348 - DEBUG - Current Position is 0
2018-02-27 04:15:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:15:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:15:04,349 - DEBUG - Time is 4
2018-02-27 04:15:04,349 - DEBUG - Time is <class 'int'>
2018-02-27 04:15:04,349 - DEBUG - Disconnected from IBController
2018-02-27 04:15:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:20:00,271 - DEBUG - ****************************************************
2018-02-27 04:20:00,271 - DEBUG - Current Time is 04:20AM
2018-02-27 04:20:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:20:00,272 - DEBUG - Connecting to database
2018-02-27 04:20:00,309 - DEBUG - Connected to database
2018-02-27 04:20:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:00,311 - DEBUG - Order Profit is 0
2018-02-27 04:20:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:00,312 - DEBUG - Stop ID is 0
2018-02-27 04:20:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:00,314 - DEBUG - Entry ID is 233
2018-02-27 04:20:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:20:00,316 - DEBUG - OCA ID is 1
2018-02-27 04:20:00,316 - DEBUG - Connecting to IBController
2018-02-27 04:20:01,329 - DEBUG - Connected to IBController
2018-02-27 04:20:01,329 - DEBUG - Position requested
2018-02-27 04:20:01,331 - DEBUG - Pos Mgmt -12987
2018-02-27 04:20:01,331 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:20:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:20:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:20:01,332 - DEBUG - Position is -12987
2018-02-27 04:20:02,330 - DEBUG - Open Orders requested
2018-02-27 04:20:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DAC8>, order=<ib.ext.Order.Order object at 0x000000000202DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1128>>
2018-02-27 04:20:02,333 - DEBUG - Order OrderID 225
2018-02-27 04:20:02,333 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:20:02,334 - DEBUG - Order status PreSubmitted
2018-02-27 04:20:02,337 - DEBUG - Order Identification 225
2018-02-27 04:20:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:20:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 04:20:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:20:02,338 - DEBUG - Stop ID database is 0
2018-02-27 04:20:02,338 - DEBUG - Entry ID database is 233
2018-02-27 04:20:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202DFD0>, order=<ib.ext.Order.Order object at 0x000000000202DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 04:20:02,339 - DEBUG - Order OrderID 232
2018-02-27 04:20:02,340 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:20:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 04:20:02,340 - DEBUG - Order Identification 232
2018-02-27 04:20:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:20:02,341 - DEBUG - Profit ID from database is 0
2018-02-27 04:20:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:20:02,341 - DEBUG - Stop ID database is 0
2018-02-27 04:20:02,341 - DEBUG - Entry ID database is 233
2018-02-27 04:20:04,333 - DEBUG - Connecting to database
2018-02-27 04:20:04,340 - DEBUG - Connected to database
2018-02-27 04:20:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,342 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:20:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,344 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:20:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,345 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:20:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,347 - DEBUG - Stop quantity 1
2018-02-27 04:20:04,349 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,349 - DEBUG - Direction is Long
2018-02-27 04:20:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,351 - DEBUG - Count is 0
2018-02-27 04:20:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:20:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:20:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:20:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 04:20:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 04:20:04,355 - DEBUG - Day of the week 1
2018-02-27 04:20:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:20:04,355 - DEBUG - In Position is  0
2018-02-27 04:20:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:20:04,356 - DEBUG - curStopLossFlag is  0
2018-02-27 04:20:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:20:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 04:20:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:20:04,358 - DEBUG - EntryPend is 1
2018-02-27 04:20:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 04:20:04,358 - DEBUG - Stop API ID 0
2018-02-27 04:20:04,358 - DEBUG - Profit API ID 0
2018-02-27 04:20:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:20:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:20:04,359 - DEBUG - Pos is 0
2018-02-27 04:20:04,359 - DEBUG - CurCount is 0
2018-02-27 04:20:04,360 - DEBUG - In Pos 0
2018-02-27 04:20:04,360 - DEBUG - Stop ID is 0
2018-02-27 04:20:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:20:04,361 - DEBUG - EntryPend is 1
2018-02-27 04:20:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:20:04,362 - DEBUG - Entry Date is 10
2018-02-27 04:20:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:20:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 04:20:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 04:20:04,363 - DEBUG - API ID is  0
2018-02-27 04:20:04,363 - DEBUG - Current Position is 0
2018-02-27 04:20:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:20:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:20:04,364 - DEBUG - Time is 4
2018-02-27 04:20:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 04:20:04,364 - DEBUG - Disconnected from IBController
2018-02-27 04:20:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:25:00,274 - DEBUG - ****************************************************
2018-02-27 04:25:00,275 - DEBUG - Current Time is 04:25AM
2018-02-27 04:25:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:25:00,276 - DEBUG - Connecting to database
2018-02-27 04:25:00,309 - DEBUG - Connected to database
2018-02-27 04:25:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:00,311 - DEBUG - Order Profit is 0
2018-02-27 04:25:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:00,313 - DEBUG - Stop ID is 0
2018-02-27 04:25:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:00,315 - DEBUG - Entry ID is 233
2018-02-27 04:25:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:25:00,317 - DEBUG - OCA ID is 1
2018-02-27 04:25:00,317 - DEBUG - Connecting to IBController
2018-02-27 04:25:01,326 - DEBUG - Connected to IBController
2018-02-27 04:25:01,326 - DEBUG - Position requested
2018-02-27 04:25:01,328 - DEBUG - Pos Mgmt -12987
2018-02-27 04:25:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:25:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:25:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:25:01,329 - DEBUG - Position is -12987
2018-02-27 04:25:02,328 - DEBUG - Open Orders requested
2018-02-27 04:25:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CA90>, order=<ib.ext.Order.Order object at 0x000000000205CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-27 04:25:02,331 - DEBUG - Order OrderID 225
2018-02-27 04:25:02,331 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:25:02,332 - DEBUG - Order status PreSubmitted
2018-02-27 04:25:02,332 - DEBUG - Order Identification 225
2018-02-27 04:25:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:25:02,333 - DEBUG - Profit ID from database is 0
2018-02-27 04:25:02,333 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:25:02,333 - DEBUG - Stop ID database is 0
2018-02-27 04:25:02,333 - DEBUG - Entry ID database is 233
2018-02-27 04:25:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205CFD0>, order=<ib.ext.Order.Order object at 0x000000000205CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-27 04:25:02,335 - DEBUG - Order OrderID 232
2018-02-27 04:25:02,335 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:25:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 04:25:02,336 - DEBUG - Order Identification 232
2018-02-27 04:25:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:25:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 04:25:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:25:02,337 - DEBUG - Stop ID database is 0
2018-02-27 04:25:02,337 - DEBUG - Entry ID database is 233
2018-02-27 04:25:04,331 - DEBUG - Connecting to database
2018-02-27 04:25:04,338 - DEBUG - Connected to database
2018-02-27 04:25:04,340 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,340 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:25:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,342 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:25:04,343 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,344 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:25:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,345 - DEBUG - Stop quantity 1
2018-02-27 04:25:04,347 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,347 - DEBUG - Direction is Long
2018-02-27 04:25:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,349 - DEBUG - Count is 0
2018-02-27 04:25:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:25:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:25:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:25:04,352 - DEBUG - Max ID Order is (233,)
2018-02-27 04:25:04,353 - DEBUG - Today is 2018-02-27
2018-02-27 04:25:04,353 - DEBUG - Day of the week 1
2018-02-27 04:25:04,353 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:25:04,354 - DEBUG - In Position is  0
2018-02-27 04:25:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:25:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 04:25:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:25:04,355 - DEBUG - Checking if Entry has been filled
2018-02-27 04:25:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:25:04,356 - DEBUG - EntryPend is 1
2018-02-27 04:25:04,356 - DEBUG - Try to Cancel Stop
2018-02-27 04:25:04,357 - DEBUG - Stop API ID 0
2018-02-27 04:25:04,357 - DEBUG - Profit API ID 0
2018-02-27 04:25:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:25:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:25:04,358 - DEBUG - Pos is 0
2018-02-27 04:25:04,358 - DEBUG - CurCount is 0
2018-02-27 04:25:04,358 - DEBUG - In Pos 0
2018-02-27 04:25:04,358 - DEBUG - Stop ID is 0
2018-02-27 04:25:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:25:04,360 - DEBUG - EntryPend is 1
2018-02-27 04:25:04,360 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:25:04,360 - DEBUG - Entry Date is 10
2018-02-27 04:25:04,361 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:25:04,361 - DEBUG - Order Profit ID is 0
2018-02-27 04:25:04,361 - DEBUG - Order Entry ID is 233
2018-02-27 04:25:04,361 - DEBUG - API ID is  0
2018-02-27 04:25:04,362 - DEBUG - Current Position is 0
2018-02-27 04:25:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:25:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:25:04,362 - DEBUG - Time is 4
2018-02-27 04:25:04,362 - DEBUG - Time is <class 'int'>
2018-02-27 04:25:04,363 - DEBUG - Disconnected from IBController
2018-02-27 04:25:04,366 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:30:00,268 - DEBUG - ****************************************************
2018-02-27 04:30:00,269 - DEBUG - Current Time is 04:30AM
2018-02-27 04:30:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:30:00,269 - DEBUG - Connecting to database
2018-02-27 04:30:00,293 - DEBUG - Connected to database
2018-02-27 04:30:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:00,295 - DEBUG - Order Profit is 0
2018-02-27 04:30:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:00,296 - DEBUG - Stop ID is 0
2018-02-27 04:30:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:00,298 - DEBUG - Entry ID is 233
2018-02-27 04:30:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:30:00,300 - DEBUG - OCA ID is 1
2018-02-27 04:30:00,300 - DEBUG - Connecting to IBController
2018-02-27 04:30:01,309 - DEBUG - Connected to IBController
2018-02-27 04:30:01,309 - DEBUG - Position requested
2018-02-27 04:30:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 04:30:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:30:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:30:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:30:01,312 - DEBUG - Position is -12987
2018-02-27 04:30:02,310 - DEBUG - Open Orders requested
2018-02-27 04:30:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, order=<ib.ext.Order.Order object at 0x000000000206CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-27 04:30:02,313 - DEBUG - Order OrderID 225
2018-02-27 04:30:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:30:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 04:30:02,314 - DEBUG - Order Identification 225
2018-02-27 04:30:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:30:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 04:30:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:30:02,315 - DEBUG - Stop ID database is 0
2018-02-27 04:30:02,315 - DEBUG - Entry ID database is 233
2018-02-27 04:30:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206CFD0>, order=<ib.ext.Order.Order object at 0x000000000206CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102080>>
2018-02-27 04:30:02,316 - DEBUG - Order OrderID 232
2018-02-27 04:30:02,317 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:30:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 04:30:02,317 - DEBUG - Order Identification 232
2018-02-27 04:30:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:30:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 04:30:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:30:02,318 - DEBUG - Stop ID database is 0
2018-02-27 04:30:02,318 - DEBUG - Entry ID database is 233
2018-02-27 04:30:04,312 - DEBUG - Connecting to database
2018-02-27 04:30:04,319 - DEBUG - Connected to database
2018-02-27 04:30:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:30:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:30:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:30:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,326 - DEBUG - Stop quantity 1
2018-02-27 04:30:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,328 - DEBUG - Direction is Long
2018-02-27 04:30:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,329 - DEBUG - Count is 0
2018-02-27 04:30:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:30:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:30:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:30:04,333 - DEBUG - Max ID Order is (233,)
2018-02-27 04:30:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 04:30:04,334 - DEBUG - Day of the week 1
2018-02-27 04:30:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:30:04,334 - DEBUG - In Position is  0
2018-02-27 04:30:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:30:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 04:30:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:30:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 04:30:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:30:04,337 - DEBUG - EntryPend is 1
2018-02-27 04:30:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 04:30:04,337 - DEBUG - Stop API ID 0
2018-02-27 04:30:04,337 - DEBUG - Profit API ID 0
2018-02-27 04:30:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:30:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:30:04,338 - DEBUG - Pos is 0
2018-02-27 04:30:04,338 - DEBUG - CurCount is 0
2018-02-27 04:30:04,339 - DEBUG - In Pos 0
2018-02-27 04:30:04,339 - DEBUG - Stop ID is 0
2018-02-27 04:30:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:30:04,340 - DEBUG - EntryPend is 1
2018-02-27 04:30:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:30:04,341 - DEBUG - Entry Date is 10
2018-02-27 04:30:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:30:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 04:30:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 04:30:04,342 - DEBUG - API ID is  0
2018-02-27 04:30:04,342 - DEBUG - Current Position is 0
2018-02-27 04:30:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:30:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:30:04,343 - DEBUG - Time is 4
2018-02-27 04:30:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 04:30:04,343 - DEBUG - Disconnected from IBController
2018-02-27 04:30:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:35:00,269 - DEBUG - ****************************************************
2018-02-27 04:35:00,270 - DEBUG - Current Time is 04:35AM
2018-02-27 04:35:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:35:00,271 - DEBUG - Connecting to database
2018-02-27 04:35:00,312 - DEBUG - Connected to database
2018-02-27 04:35:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:00,314 - DEBUG - Order Profit is 0
2018-02-27 04:35:00,314 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:00,315 - DEBUG - Stop ID is 0
2018-02-27 04:35:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:00,317 - DEBUG - Entry ID is 233
2018-02-27 04:35:00,317 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:35:00,319 - DEBUG - OCA ID is 1
2018-02-27 04:35:00,319 - DEBUG - Connecting to IBController
2018-02-27 04:35:01,325 - DEBUG - Connected to IBController
2018-02-27 04:35:01,325 - DEBUG - Position requested
2018-02-27 04:35:01,327 - DEBUG - Pos Mgmt -12987
2018-02-27 04:35:01,327 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:35:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:35:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:35:01,328 - DEBUG - Position is -12987
2018-02-27 04:35:02,327 - DEBUG - Open Orders requested
2018-02-27 04:35:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DC50>, order=<ib.ext.Order.Order object at 0x000000000209DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021320B8>>
2018-02-27 04:35:02,330 - DEBUG - Order OrderID 225
2018-02-27 04:35:02,331 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:35:02,331 - DEBUG - Order status PreSubmitted
2018-02-27 04:35:02,331 - DEBUG - Order Identification 225
2018-02-27 04:35:02,331 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:35:02,332 - DEBUG - Profit ID from database is 0
2018-02-27 04:35:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:35:02,332 - DEBUG - Stop ID database is 0
2018-02-27 04:35:02,332 - DEBUG - Entry ID database is 233
2018-02-27 04:35:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209DF60>, order=<ib.ext.Order.Order object at 0x000000000209DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-27 04:35:02,334 - DEBUG - Order OrderID 232
2018-02-27 04:35:02,334 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:35:02,335 - DEBUG - Order status PreSubmitted
2018-02-27 04:35:02,335 - DEBUG - Order Identification 232
2018-02-27 04:35:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:35:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 04:35:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:35:02,336 - DEBUG - Stop ID database is 0
2018-02-27 04:35:02,336 - DEBUG - Entry ID database is 233
2018-02-27 04:35:04,328 - DEBUG - Connecting to database
2018-02-27 04:35:04,335 - DEBUG - Connected to database
2018-02-27 04:35:04,337 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,337 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:35:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,339 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:35:04,340 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,340 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:35:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,342 - DEBUG - Stop quantity 1
2018-02-27 04:35:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,344 - DEBUG - Direction is Long
2018-02-27 04:35:04,346 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,346 - DEBUG - Count is 0
2018-02-27 04:35:04,347 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:35:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:35:04,349 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:35:04,349 - DEBUG - Max ID Order is (233,)
2018-02-27 04:35:04,350 - DEBUG - Today is 2018-02-27
2018-02-27 04:35:04,350 - DEBUG - Day of the week 1
2018-02-27 04:35:04,351 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:35:04,351 - DEBUG - In Position is  0
2018-02-27 04:35:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:35:04,351 - DEBUG - curStopLossFlag is  0
2018-02-27 04:35:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:35:04,352 - DEBUG - Checking if Entry has been filled
2018-02-27 04:35:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:35:04,353 - DEBUG - EntryPend is 1
2018-02-27 04:35:04,354 - DEBUG - Try to Cancel Stop
2018-02-27 04:35:04,354 - DEBUG - Stop API ID 0
2018-02-27 04:35:04,354 - DEBUG - Profit API ID 0
2018-02-27 04:35:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:35:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:35:04,355 - DEBUG - Pos is 0
2018-02-27 04:35:04,355 - DEBUG - CurCount is 0
2018-02-27 04:35:04,355 - DEBUG - In Pos 0
2018-02-27 04:35:04,355 - DEBUG - Stop ID is 0
2018-02-27 04:35:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:35:04,357 - DEBUG - EntryPend is 1
2018-02-27 04:35:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:35:04,358 - DEBUG - Entry Date is 10
2018-02-27 04:35:04,358 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:35:04,358 - DEBUG - Order Profit ID is 0
2018-02-27 04:35:04,358 - DEBUG - Order Entry ID is 233
2018-02-27 04:35:04,359 - DEBUG - API ID is  0
2018-02-27 04:35:04,359 - DEBUG - Current Position is 0
2018-02-27 04:35:04,359 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:35:04,359 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:35:04,360 - DEBUG - Time is 4
2018-02-27 04:35:04,360 - DEBUG - Time is <class 'int'>
2018-02-27 04:35:04,360 - DEBUG - Disconnected from IBController
2018-02-27 04:35:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:40:00,266 - DEBUG - ****************************************************
2018-02-27 04:40:00,266 - DEBUG - Current Time is 04:40AM
2018-02-27 04:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:40:00,267 - DEBUG - Connecting to database
2018-02-27 04:40:00,304 - DEBUG - Connected to database
2018-02-27 04:40:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:00,306 - DEBUG - Order Profit is 0
2018-02-27 04:40:00,307 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:00,308 - DEBUG - Stop ID is 0
2018-02-27 04:40:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:00,310 - DEBUG - Entry ID is 233
2018-02-27 04:40:00,310 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:40:00,312 - DEBUG - OCA ID is 1
2018-02-27 04:40:00,312 - DEBUG - Connecting to IBController
2018-02-27 04:40:01,320 - DEBUG - Connected to IBController
2018-02-27 04:40:01,320 - DEBUG - Position requested
2018-02-27 04:40:01,324 - DEBUG - Pos Mgmt -12987
2018-02-27 04:40:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:40:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:40:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:40:01,326 - DEBUG - Position is -12987
2018-02-27 04:40:02,321 - DEBUG - Open Orders requested
2018-02-27 04:40:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 04:40:02,324 - DEBUG - Order OrderID 225
2018-02-27 04:40:02,324 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:40:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 04:40:02,325 - DEBUG - Order Identification 225
2018-02-27 04:40:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:40:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 04:40:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:40:02,326 - DEBUG - Stop ID database is 0
2018-02-27 04:40:02,326 - DEBUG - Entry ID database is 233
2018-02-27 04:40:02,327 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-27 04:40:02,327 - DEBUG - Order OrderID 232
2018-02-27 04:40:02,328 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:40:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 04:40:02,328 - DEBUG - Order Identification 232
2018-02-27 04:40:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:40:02,329 - DEBUG - Profit ID from database is 0
2018-02-27 04:40:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:40:02,329 - DEBUG - Stop ID database is 0
2018-02-27 04:40:02,329 - DEBUG - Entry ID database is 233
2018-02-27 04:40:04,323 - DEBUG - Connecting to database
2018-02-27 04:40:04,330 - DEBUG - Connected to database
2018-02-27 04:40:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:40:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:40:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,336 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:40:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,337 - DEBUG - Stop quantity 1
2018-02-27 04:40:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,339 - DEBUG - Direction is Long
2018-02-27 04:40:04,340 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,341 - DEBUG - Count is 0
2018-02-27 04:40:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:40:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:40:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:40:04,344 - DEBUG - Max ID Order is (233,)
2018-02-27 04:40:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 04:40:04,345 - DEBUG - Day of the week 1
2018-02-27 04:40:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:40:04,346 - DEBUG - In Position is  0
2018-02-27 04:40:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:40:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 04:40:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:40:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 04:40:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:40:04,348 - DEBUG - EntryPend is 1
2018-02-27 04:40:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 04:40:04,349 - DEBUG - Stop API ID 0
2018-02-27 04:40:04,349 - DEBUG - Profit API ID 0
2018-02-27 04:40:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:40:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:40:04,350 - DEBUG - Pos is 0
2018-02-27 04:40:04,350 - DEBUG - CurCount is 0
2018-02-27 04:40:04,350 - DEBUG - In Pos 0
2018-02-27 04:40:04,350 - DEBUG - Stop ID is 0
2018-02-27 04:40:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:40:04,352 - DEBUG - EntryPend is 1
2018-02-27 04:40:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:40:04,352 - DEBUG - Entry Date is 10
2018-02-27 04:40:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:40:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 04:40:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 04:40:04,353 - DEBUG - API ID is  0
2018-02-27 04:40:04,354 - DEBUG - Current Position is 0
2018-02-27 04:40:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:40:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:40:04,354 - DEBUG - Time is 4
2018-02-27 04:40:04,354 - DEBUG - Time is <class 'int'>
2018-02-27 04:40:04,355 - DEBUG - Disconnected from IBController
2018-02-27 04:40:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:45:00,264 - DEBUG - ****************************************************
2018-02-27 04:45:00,264 - DEBUG - Current Time is 04:45AM
2018-02-27 04:45:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:45:00,265 - DEBUG - Connecting to database
2018-02-27 04:45:00,293 - DEBUG - Connected to database
2018-02-27 04:45:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:00,295 - DEBUG - Order Profit is 0
2018-02-27 04:45:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:00,296 - DEBUG - Stop ID is 0
2018-02-27 04:45:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:00,298 - DEBUG - Entry ID is 233
2018-02-27 04:45:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:45:00,300 - DEBUG - OCA ID is 1
2018-02-27 04:45:00,300 - DEBUG - Connecting to IBController
2018-02-27 04:45:01,308 - DEBUG - Connected to IBController
2018-02-27 04:45:01,308 - DEBUG - Position requested
2018-02-27 04:45:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 04:45:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:45:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:45:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:45:01,311 - DEBUG - Position is -12987
2018-02-27 04:45:02,310 - DEBUG - Open Orders requested
2018-02-27 04:45:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CE10>, order=<ib.ext.Order.Order object at 0x000000000208CB70>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 04:45:02,313 - DEBUG - Order OrderID 225
2018-02-27 04:45:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:45:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 04:45:02,314 - DEBUG - Order Identification 225
2018-02-27 04:45:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:45:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 04:45:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:45:02,315 - DEBUG - Stop ID database is 0
2018-02-27 04:45:02,315 - DEBUG - Entry ID database is 233
2018-02-27 04:45:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208CFD0>, order=<ib.ext.Order.Order object at 0x000000000208CB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 04:45:02,317 - DEBUG - Order OrderID 232
2018-02-27 04:45:02,317 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:45:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 04:45:02,318 - DEBUG - Order Identification 232
2018-02-27 04:45:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:45:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 04:45:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:45:02,319 - DEBUG - Stop ID database is 0
2018-02-27 04:45:02,319 - DEBUG - Entry ID database is 233
2018-02-27 04:45:04,313 - DEBUG - Connecting to database
2018-02-27 04:45:04,320 - DEBUG - Connected to database
2018-02-27 04:45:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,322 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:45:04,324 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,324 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:45:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,326 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:45:04,327 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,328 - DEBUG - Stop quantity 1
2018-02-27 04:45:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,329 - DEBUG - Direction is Long
2018-02-27 04:45:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,331 - DEBUG - Count is 0
2018-02-27 04:45:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:45:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:45:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:45:04,336 - DEBUG - Max ID Order is (233,)
2018-02-27 04:45:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 04:45:04,337 - DEBUG - Day of the week 1
2018-02-27 04:45:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:45:04,337 - DEBUG - In Position is  0
2018-02-27 04:45:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:45:04,338 - DEBUG - curStopLossFlag is  0
2018-02-27 04:45:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:45:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 04:45:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:45:04,340 - DEBUG - EntryPend is 1
2018-02-27 04:45:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 04:45:04,340 - DEBUG - Stop API ID 0
2018-02-27 04:45:04,341 - DEBUG - Profit API ID 0
2018-02-27 04:45:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:45:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:45:04,341 - DEBUG - Pos is 0
2018-02-27 04:45:04,342 - DEBUG - CurCount is 0
2018-02-27 04:45:04,342 - DEBUG - In Pos 0
2018-02-27 04:45:04,342 - DEBUG - Stop ID is 0
2018-02-27 04:45:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:45:04,344 - DEBUG - EntryPend is 1
2018-02-27 04:45:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:45:04,344 - DEBUG - Entry Date is 10
2018-02-27 04:45:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:45:04,345 - DEBUG - Order Profit ID is 0
2018-02-27 04:45:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 04:45:04,345 - DEBUG - API ID is  0
2018-02-27 04:45:04,345 - DEBUG - Current Position is 0
2018-02-27 04:45:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:45:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:45:04,346 - DEBUG - Time is 4
2018-02-27 04:45:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 04:45:04,347 - DEBUG - Disconnected from IBController
2018-02-27 04:45:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:50:00,259 - DEBUG - ****************************************************
2018-02-27 04:50:00,261 - DEBUG - Current Time is 04:50AM
2018-02-27 04:50:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:50:00,261 - DEBUG - Connecting to database
2018-02-27 04:50:00,281 - DEBUG - Connected to database
2018-02-27 04:50:00,281 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:00,283 - DEBUG - Order Profit is 0
2018-02-27 04:50:00,283 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:00,285 - DEBUG - Stop ID is 0
2018-02-27 04:50:00,285 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:00,286 - DEBUG - Entry ID is 233
2018-02-27 04:50:00,286 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:50:00,288 - DEBUG - OCA ID is 1
2018-02-27 04:50:00,288 - DEBUG - Connecting to IBController
2018-02-27 04:50:01,297 - DEBUG - Connected to IBController
2018-02-27 04:50:01,297 - DEBUG - Position requested
2018-02-27 04:50:01,299 - DEBUG - Pos Mgmt -12987
2018-02-27 04:50:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:50:01,299 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:50:01,300 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:50:01,300 - DEBUG - Position is -12987
2018-02-27 04:50:02,298 - DEBUG - Open Orders requested
2018-02-27 04:50:02,300 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 04:50:02,301 - DEBUG - Order OrderID 225
2018-02-27 04:50:02,301 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:50:02,301 - DEBUG - Order status PreSubmitted
2018-02-27 04:50:02,302 - DEBUG - Order Identification 225
2018-02-27 04:50:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:50:02,302 - DEBUG - Profit ID from database is 0
2018-02-27 04:50:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:50:02,303 - DEBUG - Stop ID database is 0
2018-02-27 04:50:02,304 - DEBUG - Entry ID database is 233
2018-02-27 04:50:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121048>>
2018-02-27 04:50:02,305 - DEBUG - Order OrderID 232
2018-02-27 04:50:02,305 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:50:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 04:50:02,306 - DEBUG - Order Identification 232
2018-02-27 04:50:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:50:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 04:50:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:50:02,310 - DEBUG - Stop ID database is 0
2018-02-27 04:50:02,310 - DEBUG - Entry ID database is 233
2018-02-27 04:50:04,300 - DEBUG - Connecting to database
2018-02-27 04:50:04,307 - DEBUG - Connected to database
2018-02-27 04:50:04,309 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,309 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:50:04,310 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,311 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:50:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,313 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:50:04,314 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,314 - DEBUG - Stop quantity 1
2018-02-27 04:50:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,316 - DEBUG - Direction is Long
2018-02-27 04:50:04,317 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,317 - DEBUG - Count is 0
2018-02-27 04:50:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:50:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:50:04,320 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:50:04,321 - DEBUG - Max ID Order is (233,)
2018-02-27 04:50:04,321 - DEBUG - Today is 2018-02-27
2018-02-27 04:50:04,322 - DEBUG - Day of the week 1
2018-02-27 04:50:04,322 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:50:04,322 - DEBUG - In Position is  0
2018-02-27 04:50:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:50:04,322 - DEBUG - curStopLossFlag is  0
2018-02-27 04:50:04,323 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:50:04,323 - DEBUG - Checking if Entry has been filled
2018-02-27 04:50:04,323 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:50:04,325 - DEBUG - EntryPend is 1
2018-02-27 04:50:04,325 - DEBUG - Try to Cancel Stop
2018-02-27 04:50:04,325 - DEBUG - Stop API ID 0
2018-02-27 04:50:04,325 - DEBUG - Profit API ID 0
2018-02-27 04:50:04,325 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:50:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:50:04,326 - DEBUG - Pos is 0
2018-02-27 04:50:04,326 - DEBUG - CurCount is 0
2018-02-27 04:50:04,326 - DEBUG - In Pos 0
2018-02-27 04:50:04,327 - DEBUG - Stop ID is 0
2018-02-27 04:50:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:50:04,328 - DEBUG - EntryPend is 1
2018-02-27 04:50:04,328 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:50:04,329 - DEBUG - Entry Date is 10
2018-02-27 04:50:04,329 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:50:04,329 - DEBUG - Order Profit ID is 0
2018-02-27 04:50:04,329 - DEBUG - Order Entry ID is 233
2018-02-27 04:50:04,330 - DEBUG - API ID is  0
2018-02-27 04:50:04,330 - DEBUG - Current Position is 0
2018-02-27 04:50:04,330 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:50:04,330 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:50:04,331 - DEBUG - Time is 4
2018-02-27 04:50:04,331 - DEBUG - Time is <class 'int'>
2018-02-27 04:50:04,331 - DEBUG - Disconnected from IBController
2018-02-27 04:50:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 04:55:00,269 - DEBUG - ****************************************************
2018-02-27 04:55:00,270 - DEBUG - Current Time is 04:55AM
2018-02-27 04:55:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 04:55:00,271 - DEBUG - Connecting to database
2018-02-27 04:55:00,298 - DEBUG - Connected to database
2018-02-27 04:55:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:00,300 - DEBUG - Order Profit is 0
2018-02-27 04:55:00,300 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:00,301 - DEBUG - Stop ID is 0
2018-02-27 04:55:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:00,303 - DEBUG - Entry ID is 233
2018-02-27 04:55:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 04:55:00,305 - DEBUG - OCA ID is 1
2018-02-27 04:55:00,305 - DEBUG - Connecting to IBController
2018-02-27 04:55:01,310 - DEBUG - Connected to IBController
2018-02-27 04:55:01,310 - DEBUG - Position requested
2018-02-27 04:55:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 04:55:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 04:55:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 04:55:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 04:55:01,313 - DEBUG - Position is -12987
2018-02-27 04:55:02,313 - DEBUG - Open Orders requested
2018-02-27 04:55:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, order=<ib.ext.Order.Order object at 0x000000000204DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20B8>>
2018-02-27 04:55:02,316 - DEBUG - Order OrderID 225
2018-02-27 04:55:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:55:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 04:55:02,317 - DEBUG - Order Identification 225
2018-02-27 04:55:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:55:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 04:55:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:55:02,318 - DEBUG - Stop ID database is 0
2018-02-27 04:55:02,318 - DEBUG - Entry ID database is 233
2018-02-27 04:55:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DF98>, order=<ib.ext.Order.Order object at 0x000000000204DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 04:55:02,319 - DEBUG - Order OrderID 232
2018-02-27 04:55:02,320 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 04:55:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 04:55:02,320 - DEBUG - Order Identification 232
2018-02-27 04:55:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 04:55:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 04:55:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 04:55:02,321 - DEBUG - Stop ID database is 0
2018-02-27 04:55:02,321 - DEBUG - Entry ID database is 233
2018-02-27 04:55:04,313 - DEBUG - Connecting to database
2018-02-27 04:55:04,321 - DEBUG - Connected to database
2018-02-27 04:55:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 04:55:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 04:55:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 04:55:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,328 - DEBUG - Stop quantity 1
2018-02-27 04:55:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,330 - DEBUG - Direction is Long
2018-02-27 04:55:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,332 - DEBUG - Count is 0
2018-02-27 04:55:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 04:55:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 04:55:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 04:55:04,335 - DEBUG - Max ID Order is (233,)
2018-02-27 04:55:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 04:55:04,336 - DEBUG - Day of the week 1
2018-02-27 04:55:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 04:55:04,337 - DEBUG - In Position is  0
2018-02-27 04:55:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 04:55:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 04:55:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 04:55:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 04:55:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:55:04,340 - DEBUG - EntryPend is 1
2018-02-27 04:55:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 04:55:04,340 - DEBUG - Stop API ID 0
2018-02-27 04:55:04,341 - DEBUG - Profit API ID 0
2018-02-27 04:55:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 04:55:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 04:55:04,341 - DEBUG - Pos is 0
2018-02-27 04:55:04,341 - DEBUG - CurCount is 0
2018-02-27 04:55:04,342 - DEBUG - In Pos 0
2018-02-27 04:55:04,342 - DEBUG - Stop ID is 0
2018-02-27 04:55:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 04:55:04,343 - DEBUG - EntryPend is 1
2018-02-27 04:55:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 04:55:04,344 - DEBUG - Entry Date is 10
2018-02-27 04:55:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 04:55:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 04:55:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 04:55:04,345 - DEBUG - API ID is  0
2018-02-27 04:55:04,345 - DEBUG - Current Position is 0
2018-02-27 04:55:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 04:55:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 04:55:04,346 - DEBUG - Time is 4
2018-02-27 04:55:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 04:55:04,346 - DEBUG - Disconnected from IBController
2018-02-27 04:55:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:00:00,276 - DEBUG - ****************************************************
2018-02-27 05:00:00,277 - DEBUG - Current Time is 05:00AM
2018-02-27 05:00:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:00:00,278 - DEBUG - Connecting to database
2018-02-27 05:00:00,320 - DEBUG - Connected to database
2018-02-27 05:00:00,320 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:00,322 - DEBUG - Order Profit is 0
2018-02-27 05:00:00,322 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:00,324 - DEBUG - Stop ID is 0
2018-02-27 05:00:00,324 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:00,325 - DEBUG - Entry ID is 233
2018-02-27 05:00:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:00:00,327 - DEBUG - OCA ID is 1
2018-02-27 05:00:00,327 - DEBUG - Connecting to IBController
2018-02-27 05:00:01,332 - DEBUG - Connected to IBController
2018-02-27 05:00:01,332 - DEBUG - Position requested
2018-02-27 05:00:01,341 - DEBUG - Pos Mgmt -12987
2018-02-27 05:00:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:00:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:00:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:00:01,343 - DEBUG - Position is -12987
2018-02-27 05:00:02,332 - DEBUG - Open Orders requested
2018-02-27 05:00:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CDA0>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-27 05:00:02,335 - DEBUG - Order OrderID 225
2018-02-27 05:00:02,335 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:00:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 05:00:02,336 - DEBUG - Order Identification 225
2018-02-27 05:00:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:00:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 05:00:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:00:02,337 - DEBUG - Stop ID database is 0
2018-02-27 05:00:02,337 - DEBUG - Entry ID database is 233
2018-02-27 05:00:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CFD0>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D2128>>
2018-02-27 05:00:02,339 - DEBUG - Order OrderID 232
2018-02-27 05:00:02,339 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:00:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 05:00:02,340 - DEBUG - Order Identification 232
2018-02-27 05:00:02,340 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:00:02,340 - DEBUG - Profit ID from database is 0
2018-02-27 05:00:02,340 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:00:02,341 - DEBUG - Stop ID database is 0
2018-02-27 05:00:02,341 - DEBUG - Entry ID database is 233
2018-02-27 05:00:04,332 - DEBUG - Connecting to database
2018-02-27 05:00:04,339 - DEBUG - Connected to database
2018-02-27 05:00:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,341 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:00:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,343 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:00:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,345 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:00:04,346 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,346 - DEBUG - Stop quantity 1
2018-02-27 05:00:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,348 - DEBUG - Direction is Long
2018-02-27 05:00:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,350 - DEBUG - Count is 0
2018-02-27 05:00:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:00:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:00:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:00:04,353 - DEBUG - Max ID Order is (233,)
2018-02-27 05:00:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 05:00:04,354 - DEBUG - Day of the week 1
2018-02-27 05:00:04,354 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:00:04,355 - DEBUG - In Position is  0
2018-02-27 05:00:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:00:04,355 - DEBUG - curStopLossFlag is  0
2018-02-27 05:00:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:00:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 05:00:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:00:04,357 - DEBUG - EntryPend is 1
2018-02-27 05:00:04,357 - DEBUG - Try to Cancel Stop
2018-02-27 05:00:04,358 - DEBUG - Stop API ID 0
2018-02-27 05:00:04,358 - DEBUG - Profit API ID 0
2018-02-27 05:00:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:00:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:00:04,359 - DEBUG - Pos is 0
2018-02-27 05:00:04,359 - DEBUG - CurCount is 0
2018-02-27 05:00:04,359 - DEBUG - In Pos 0
2018-02-27 05:00:04,359 - DEBUG - Stop ID is 0
2018-02-27 05:00:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:00:04,361 - DEBUG - EntryPend is 1
2018-02-27 05:00:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:00:04,362 - DEBUG - Entry Date is 10
2018-02-27 05:00:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:00:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 05:00:04,362 - DEBUG - Order Entry ID is 233
2018-02-27 05:00:04,363 - DEBUG - API ID is  0
2018-02-27 05:00:04,363 - DEBUG - Current Position is 0
2018-02-27 05:00:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:00:04,363 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:00:04,364 - DEBUG - Time is 5
2018-02-27 05:00:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 05:00:04,364 - DEBUG - Disconnected from IBController
2018-02-27 05:00:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:05:00,262 - DEBUG - ****************************************************
2018-02-27 05:05:00,262 - DEBUG - Current Time is 05:05AM
2018-02-27 05:05:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:05:00,263 - DEBUG - Connecting to database
2018-02-27 05:05:00,286 - DEBUG - Connected to database
2018-02-27 05:05:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:00,288 - DEBUG - Order Profit is 0
2018-02-27 05:05:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:00,290 - DEBUG - Stop ID is 0
2018-02-27 05:05:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:00,291 - DEBUG - Entry ID is 233
2018-02-27 05:05:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:05:00,293 - DEBUG - OCA ID is 1
2018-02-27 05:05:00,293 - DEBUG - Connecting to IBController
2018-02-27 05:05:01,300 - DEBUG - Connected to IBController
2018-02-27 05:05:01,300 - DEBUG - Position requested
2018-02-27 05:05:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 05:05:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:05:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:05:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:05:01,305 - DEBUG - Position is -12987
2018-02-27 05:05:02,304 - DEBUG - Open Orders requested
2018-02-27 05:05:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 05:05:02,307 - DEBUG - Order OrderID 225
2018-02-27 05:05:02,307 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:05:02,308 - DEBUG - Order status PreSubmitted
2018-02-27 05:05:02,308 - DEBUG - Order Identification 225
2018-02-27 05:05:02,308 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:05:02,309 - DEBUG - Profit ID from database is 0
2018-02-27 05:05:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:05:02,309 - DEBUG - Stop ID database is 0
2018-02-27 05:05:02,309 - DEBUG - Entry ID database is 233
2018-02-27 05:05:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2080>>
2018-02-27 05:05:02,311 - DEBUG - Order OrderID 232
2018-02-27 05:05:02,311 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:05:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 05:05:02,312 - DEBUG - Order Identification 232
2018-02-27 05:05:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:05:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 05:05:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:05:02,313 - DEBUG - Stop ID database is 0
2018-02-27 05:05:02,313 - DEBUG - Entry ID database is 233
2018-02-27 05:05:04,307 - DEBUG - Connecting to database
2018-02-27 05:05:04,314 - DEBUG - Connected to database
2018-02-27 05:05:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,316 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:05:04,317 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,318 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:05:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:05:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,321 - DEBUG - Stop quantity 1
2018-02-27 05:05:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,323 - DEBUG - Direction is Long
2018-02-27 05:05:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,324 - DEBUG - Count is 0
2018-02-27 05:05:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:05:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:05:04,327 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:05:04,328 - DEBUG - Max ID Order is (233,)
2018-02-27 05:05:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 05:05:04,329 - DEBUG - Day of the week 1
2018-02-27 05:05:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:05:04,329 - DEBUG - In Position is  0
2018-02-27 05:05:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:05:04,329 - DEBUG - curStopLossFlag is  0
2018-02-27 05:05:04,330 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:05:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 05:05:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:05:04,332 - DEBUG - EntryPend is 1
2018-02-27 05:05:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 05:05:04,332 - DEBUG - Stop API ID 0
2018-02-27 05:05:04,332 - DEBUG - Profit API ID 0
2018-02-27 05:05:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:05:04,333 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:05:04,333 - DEBUG - Pos is 0
2018-02-27 05:05:04,333 - DEBUG - CurCount is 0
2018-02-27 05:05:04,333 - DEBUG - In Pos 0
2018-02-27 05:05:04,334 - DEBUG - Stop ID is 0
2018-02-27 05:05:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:05:04,335 - DEBUG - EntryPend is 1
2018-02-27 05:05:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:05:04,336 - DEBUG - Entry Date is 10
2018-02-27 05:05:04,336 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:05:04,336 - DEBUG - Order Profit ID is 0
2018-02-27 05:05:04,336 - DEBUG - Order Entry ID is 233
2018-02-27 05:05:04,336 - DEBUG - API ID is  0
2018-02-27 05:05:04,337 - DEBUG - Current Position is 0
2018-02-27 05:05:04,337 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:05:04,337 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:05:04,337 - DEBUG - Time is 5
2018-02-27 05:05:04,338 - DEBUG - Time is <class 'int'>
2018-02-27 05:05:04,338 - DEBUG - Disconnected from IBController
2018-02-27 05:05:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:10:00,265 - DEBUG - ****************************************************
2018-02-27 05:10:00,265 - DEBUG - Current Time is 05:10AM
2018-02-27 05:10:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:10:00,266 - DEBUG - Connecting to database
2018-02-27 05:10:00,293 - DEBUG - Connected to database
2018-02-27 05:10:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:00,295 - DEBUG - Order Profit is 0
2018-02-27 05:10:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:00,297 - DEBUG - Stop ID is 0
2018-02-27 05:10:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:00,298 - DEBUG - Entry ID is 233
2018-02-27 05:10:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:10:00,300 - DEBUG - OCA ID is 1
2018-02-27 05:10:00,300 - DEBUG - Connecting to IBController
2018-02-27 05:10:01,311 - DEBUG - Connected to IBController
2018-02-27 05:10:01,311 - DEBUG - Position requested
2018-02-27 05:10:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 05:10:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:10:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:10:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:10:01,314 - DEBUG - Position is -12987
2018-02-27 05:10:02,312 - DEBUG - Open Orders requested
2018-02-27 05:10:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA20>, order=<ib.ext.Order.Order object at 0x00000000020BCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151128>>
2018-02-27 05:10:02,315 - DEBUG - Order OrderID 225
2018-02-27 05:10:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:10:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 05:10:02,316 - DEBUG - Order Identification 225
2018-02-27 05:10:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:10:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 05:10:02,323 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:10:02,323 - DEBUG - Stop ID database is 0
2018-02-27 05:10:02,324 - DEBUG - Entry ID database is 233
2018-02-27 05:10:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020BCFD0>, order=<ib.ext.Order.Order object at 0x00000000020BCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510B8>>
2018-02-27 05:10:02,325 - DEBUG - Order OrderID 232
2018-02-27 05:10:02,326 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:10:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 05:10:02,326 - DEBUG - Order Identification 232
2018-02-27 05:10:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:10:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 05:10:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:10:02,327 - DEBUG - Stop ID database is 0
2018-02-27 05:10:02,327 - DEBUG - Entry ID database is 233
2018-02-27 05:10:04,314 - DEBUG - Connecting to database
2018-02-27 05:10:04,322 - DEBUG - Connected to database
2018-02-27 05:10:04,324 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,324 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:10:04,326 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,326 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:10:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:10:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,332 - DEBUG - Stop quantity 1
2018-02-27 05:10:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,334 - DEBUG - Direction is Long
2018-02-27 05:10:04,336 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,336 - DEBUG - Count is 0
2018-02-27 05:10:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:10:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:10:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:10:04,340 - DEBUG - Max ID Order is (233,)
2018-02-27 05:10:04,340 - DEBUG - Today is 2018-02-27
2018-02-27 05:10:04,341 - DEBUG - Day of the week 1
2018-02-27 05:10:04,341 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:10:04,341 - DEBUG - In Position is  0
2018-02-27 05:10:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:10:04,342 - DEBUG - curStopLossFlag is  0
2018-02-27 05:10:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:10:04,342 - DEBUG - Checking if Entry has been filled
2018-02-27 05:10:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:10:04,344 - DEBUG - EntryPend is 1
2018-02-27 05:10:04,344 - DEBUG - Try to Cancel Stop
2018-02-27 05:10:04,344 - DEBUG - Stop API ID 0
2018-02-27 05:10:04,345 - DEBUG - Profit API ID 0
2018-02-27 05:10:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:10:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:10:04,345 - DEBUG - Pos is 0
2018-02-27 05:10:04,346 - DEBUG - CurCount is 0
2018-02-27 05:10:04,346 - DEBUG - In Pos 0
2018-02-27 05:10:04,346 - DEBUG - Stop ID is 0
2018-02-27 05:10:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:10:04,348 - DEBUG - EntryPend is 1
2018-02-27 05:10:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:10:04,348 - DEBUG - Entry Date is 10
2018-02-27 05:10:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:10:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 05:10:04,349 - DEBUG - Order Entry ID is 233
2018-02-27 05:10:04,349 - DEBUG - API ID is  0
2018-02-27 05:10:04,349 - DEBUG - Current Position is 0
2018-02-27 05:10:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:10:04,350 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:10:04,350 - DEBUG - Time is 5
2018-02-27 05:10:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 05:10:04,350 - DEBUG - Disconnected from IBController
2018-02-27 05:10:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:15:00,270 - DEBUG - ****************************************************
2018-02-27 05:15:00,271 - DEBUG - Current Time is 05:15AM
2018-02-27 05:15:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:15:00,271 - DEBUG - Connecting to database
2018-02-27 05:15:00,289 - DEBUG - Connected to database
2018-02-27 05:15:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:00,291 - DEBUG - Order Profit is 0
2018-02-27 05:15:00,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:00,293 - DEBUG - Stop ID is 0
2018-02-27 05:15:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:00,294 - DEBUG - Entry ID is 233
2018-02-27 05:15:00,294 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:15:00,296 - DEBUG - OCA ID is 1
2018-02-27 05:15:00,296 - DEBUG - Connecting to IBController
2018-02-27 05:15:01,301 - DEBUG - Connected to IBController
2018-02-27 05:15:01,301 - DEBUG - Position requested
2018-02-27 05:15:01,304 - DEBUG - Pos Mgmt -12987
2018-02-27 05:15:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:15:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:15:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:15:01,305 - DEBUG - Position is -12987
2018-02-27 05:15:02,301 - DEBUG - Open Orders requested
2018-02-27 05:15:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-27 05:15:02,304 - DEBUG - Order OrderID 225
2018-02-27 05:15:02,304 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:15:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 05:15:02,305 - DEBUG - Order Identification 225
2018-02-27 05:15:02,305 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:15:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 05:15:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:15:02,306 - DEBUG - Stop ID database is 0
2018-02-27 05:15:02,306 - DEBUG - Entry ID database is 233
2018-02-27 05:15:02,308 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DF98>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 05:15:02,308 - DEBUG - Order OrderID 232
2018-02-27 05:15:02,308 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:15:02,309 - DEBUG - Order status PreSubmitted
2018-02-27 05:15:02,309 - DEBUG - Order Identification 232
2018-02-27 05:15:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:15:02,309 - DEBUG - Profit ID from database is 0
2018-02-27 05:15:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:15:02,310 - DEBUG - Stop ID database is 0
2018-02-27 05:15:02,310 - DEBUG - Entry ID database is 233
2018-02-27 05:15:04,301 - DEBUG - Connecting to database
2018-02-27 05:15:04,309 - DEBUG - Connected to database
2018-02-27 05:15:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,312 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:15:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:15:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:15:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,317 - DEBUG - Stop quantity 1
2018-02-27 05:15:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,318 - DEBUG - Direction is Long
2018-02-27 05:15:04,320 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,320 - DEBUG - Count is 0
2018-02-27 05:15:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:15:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:15:04,323 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:15:04,323 - DEBUG - Max ID Order is (233,)
2018-02-27 05:15:04,324 - DEBUG - Today is 2018-02-27
2018-02-27 05:15:04,324 - DEBUG - Day of the week 1
2018-02-27 05:15:04,325 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:15:04,325 - DEBUG - In Position is  0
2018-02-27 05:15:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:15:04,325 - DEBUG - curStopLossFlag is  0
2018-02-27 05:15:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:15:04,326 - DEBUG - Checking if Entry has been filled
2018-02-27 05:15:04,326 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:15:04,327 - DEBUG - EntryPend is 1
2018-02-27 05:15:04,328 - DEBUG - Try to Cancel Stop
2018-02-27 05:15:04,328 - DEBUG - Stop API ID 0
2018-02-27 05:15:04,328 - DEBUG - Profit API ID 0
2018-02-27 05:15:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:15:04,329 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:15:04,329 - DEBUG - Pos is 0
2018-02-27 05:15:04,329 - DEBUG - CurCount is 0
2018-02-27 05:15:04,329 - DEBUG - In Pos 0
2018-02-27 05:15:04,330 - DEBUG - Stop ID is 0
2018-02-27 05:15:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:15:04,331 - DEBUG - EntryPend is 1
2018-02-27 05:15:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:15:04,332 - DEBUG - Entry Date is 10
2018-02-27 05:15:04,332 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:15:04,332 - DEBUG - Order Profit ID is 0
2018-02-27 05:15:04,333 - DEBUG - Order Entry ID is 233
2018-02-27 05:15:04,333 - DEBUG - API ID is  0
2018-02-27 05:15:04,333 - DEBUG - Current Position is 0
2018-02-27 05:15:04,333 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:15:04,333 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:15:04,334 - DEBUG - Time is 5
2018-02-27 05:15:04,334 - DEBUG - Time is <class 'int'>
2018-02-27 05:15:04,334 - DEBUG - Disconnected from IBController
2018-02-27 05:15:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:20:00,264 - DEBUG - ****************************************************
2018-02-27 05:20:00,265 - DEBUG - Current Time is 05:20AM
2018-02-27 05:20:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:20:00,265 - DEBUG - Connecting to database
2018-02-27 05:20:00,314 - DEBUG - Connected to database
2018-02-27 05:20:00,314 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:00,316 - DEBUG - Order Profit is 0
2018-02-27 05:20:00,316 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:00,318 - DEBUG - Stop ID is 0
2018-02-27 05:20:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:00,320 - DEBUG - Entry ID is 233
2018-02-27 05:20:00,320 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:20:00,321 - DEBUG - OCA ID is 1
2018-02-27 05:20:00,322 - DEBUG - Connecting to IBController
2018-02-27 05:20:01,331 - DEBUG - Connected to IBController
2018-02-27 05:20:01,331 - DEBUG - Position requested
2018-02-27 05:20:01,333 - DEBUG - Pos Mgmt -12987
2018-02-27 05:20:01,333 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:20:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:20:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:20:01,334 - DEBUG - Position is -12987
2018-02-27 05:20:02,332 - DEBUG - Open Orders requested
2018-02-27 05:20:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 05:20:02,335 - DEBUG - Order OrderID 225
2018-02-27 05:20:02,336 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:20:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 05:20:02,336 - DEBUG - Order Identification 225
2018-02-27 05:20:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:20:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 05:20:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:20:02,337 - DEBUG - Stop ID database is 0
2018-02-27 05:20:02,337 - DEBUG - Entry ID database is 233
2018-02-27 05:20:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120B8>>
2018-02-27 05:20:02,339 - DEBUG - Order OrderID 232
2018-02-27 05:20:02,339 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:20:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 05:20:02,340 - DEBUG - Order Identification 232
2018-02-27 05:20:02,340 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:20:02,340 - DEBUG - Profit ID from database is 0
2018-02-27 05:20:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:20:02,341 - DEBUG - Stop ID database is 0
2018-02-27 05:20:02,341 - DEBUG - Entry ID database is 233
2018-02-27 05:20:04,335 - DEBUG - Connecting to database
2018-02-27 05:20:04,342 - DEBUG - Connected to database
2018-02-27 05:20:04,344 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,344 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:20:04,345 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,346 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:20:04,347 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,347 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:20:04,349 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,349 - DEBUG - Stop quantity 1
2018-02-27 05:20:04,350 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,351 - DEBUG - Direction is Long
2018-02-27 05:20:04,352 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,352 - DEBUG - Count is 0
2018-02-27 05:20:04,354 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:20:04,354 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:20:04,355 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:20:04,356 - DEBUG - Max ID Order is (233,)
2018-02-27 05:20:04,356 - DEBUG - Today is 2018-02-27
2018-02-27 05:20:04,357 - DEBUG - Day of the week 1
2018-02-27 05:20:04,357 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:20:04,357 - DEBUG - In Position is  0
2018-02-27 05:20:04,357 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:20:04,358 - DEBUG - curStopLossFlag is  0
2018-02-27 05:20:04,358 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:20:04,358 - DEBUG - Checking if Entry has been filled
2018-02-27 05:20:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:20:04,360 - DEBUG - EntryPend is 1
2018-02-27 05:20:04,360 - DEBUG - Try to Cancel Stop
2018-02-27 05:20:04,360 - DEBUG - Stop API ID 0
2018-02-27 05:20:04,361 - DEBUG - Profit API ID 0
2018-02-27 05:20:04,361 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:20:04,361 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:20:04,361 - DEBUG - Pos is 0
2018-02-27 05:20:04,362 - DEBUG - CurCount is 0
2018-02-27 05:20:04,362 - DEBUG - In Pos 0
2018-02-27 05:20:04,362 - DEBUG - Stop ID is 0
2018-02-27 05:20:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:20:04,364 - DEBUG - EntryPend is 1
2018-02-27 05:20:04,364 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:20:04,364 - DEBUG - Entry Date is 10
2018-02-27 05:20:04,364 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:20:04,365 - DEBUG - Order Profit ID is 0
2018-02-27 05:20:04,365 - DEBUG - Order Entry ID is 233
2018-02-27 05:20:04,365 - DEBUG - API ID is  0
2018-02-27 05:20:04,365 - DEBUG - Current Position is 0
2018-02-27 05:20:04,365 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:20:04,366 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:20:04,366 - DEBUG - Time is 5
2018-02-27 05:20:04,366 - DEBUG - Time is <class 'int'>
2018-02-27 05:20:04,367 - DEBUG - Disconnected from IBController
2018-02-27 05:20:04,367 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:25:00,259 - DEBUG - ****************************************************
2018-02-27 05:25:00,259 - DEBUG - Current Time is 05:25AM
2018-02-27 05:25:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:25:00,260 - DEBUG - Connecting to database
2018-02-27 05:25:00,285 - DEBUG - Connected to database
2018-02-27 05:25:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:00,287 - DEBUG - Order Profit is 0
2018-02-27 05:25:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:00,289 - DEBUG - Stop ID is 0
2018-02-27 05:25:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:00,291 - DEBUG - Entry ID is 233
2018-02-27 05:25:00,291 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:25:00,292 - DEBUG - OCA ID is 1
2018-02-27 05:25:00,293 - DEBUG - Connecting to IBController
2018-02-27 05:25:01,313 - DEBUG - Connected to IBController
2018-02-27 05:25:01,313 - DEBUG - Position requested
2018-02-27 05:25:01,315 - DEBUG - Pos Mgmt -12987
2018-02-27 05:25:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:25:01,317 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:25:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:25:01,317 - DEBUG - Position is -12987
2018-02-27 05:25:02,316 - DEBUG - Open Orders requested
2018-02-27 05:25:02,324 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, order=<ib.ext.Order.Order object at 0x000000000206DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 05:25:02,325 - DEBUG - Order OrderID 225
2018-02-27 05:25:02,326 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:25:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 05:25:02,326 - DEBUG - Order Identification 225
2018-02-27 05:25:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:25:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 05:25:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:25:02,327 - DEBUG - Stop ID database is 0
2018-02-27 05:25:02,328 - DEBUG - Entry ID database is 233
2018-02-27 05:25:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DFD0>, order=<ib.ext.Order.Order object at 0x000000000206DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-27 05:25:02,329 - DEBUG - Order OrderID 232
2018-02-27 05:25:02,330 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:25:02,330 - DEBUG - Order status PreSubmitted
2018-02-27 05:25:02,330 - DEBUG - Order Identification 232
2018-02-27 05:25:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:25:02,331 - DEBUG - Profit ID from database is 0
2018-02-27 05:25:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:25:02,331 - DEBUG - Stop ID database is 0
2018-02-27 05:25:02,331 - DEBUG - Entry ID database is 233
2018-02-27 05:25:04,325 - DEBUG - Connecting to database
2018-02-27 05:25:04,332 - DEBUG - Connected to database
2018-02-27 05:25:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,334 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:25:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,336 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:25:04,337 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:25:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,339 - DEBUG - Stop quantity 1
2018-02-27 05:25:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,341 - DEBUG - Direction is Long
2018-02-27 05:25:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,343 - DEBUG - Count is 0
2018-02-27 05:25:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:25:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:25:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:25:04,346 - DEBUG - Max ID Order is (233,)
2018-02-27 05:25:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 05:25:04,347 - DEBUG - Day of the week 1
2018-02-27 05:25:04,347 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:25:04,348 - DEBUG - In Position is  0
2018-02-27 05:25:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:25:04,348 - DEBUG - curStopLossFlag is  0
2018-02-27 05:25:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:25:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 05:25:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:25:04,350 - DEBUG - EntryPend is 1
2018-02-27 05:25:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 05:25:04,351 - DEBUG - Stop API ID 0
2018-02-27 05:25:04,351 - DEBUG - Profit API ID 0
2018-02-27 05:25:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:25:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:25:04,352 - DEBUG - Pos is 0
2018-02-27 05:25:04,352 - DEBUG - CurCount is 0
2018-02-27 05:25:04,352 - DEBUG - In Pos 0
2018-02-27 05:25:04,352 - DEBUG - Stop ID is 0
2018-02-27 05:25:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:25:04,354 - DEBUG - EntryPend is 1
2018-02-27 05:25:04,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:25:04,354 - DEBUG - Entry Date is 10
2018-02-27 05:25:04,355 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:25:04,355 - DEBUG - Order Profit ID is 0
2018-02-27 05:25:04,355 - DEBUG - Order Entry ID is 233
2018-02-27 05:25:04,355 - DEBUG - API ID is  0
2018-02-27 05:25:04,355 - DEBUG - Current Position is 0
2018-02-27 05:25:04,356 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:25:04,356 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:25:04,356 - DEBUG - Time is 5
2018-02-27 05:25:04,356 - DEBUG - Time is <class 'int'>
2018-02-27 05:25:04,357 - DEBUG - Disconnected from IBController
2018-02-27 05:25:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:30:00,272 - DEBUG - ****************************************************
2018-02-27 05:30:00,273 - DEBUG - Current Time is 05:30AM
2018-02-27 05:30:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:30:00,273 - DEBUG - Connecting to database
2018-02-27 05:30:00,302 - DEBUG - Connected to database
2018-02-27 05:30:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:00,304 - DEBUG - Order Profit is 0
2018-02-27 05:30:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:00,305 - DEBUG - Stop ID is 0
2018-02-27 05:30:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:00,307 - DEBUG - Entry ID is 233
2018-02-27 05:30:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:30:00,308 - DEBUG - OCA ID is 1
2018-02-27 05:30:00,309 - DEBUG - Connecting to IBController
2018-02-27 05:30:01,317 - DEBUG - Connected to IBController
2018-02-27 05:30:01,317 - DEBUG - Position requested
2018-02-27 05:30:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 05:30:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:30:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:30:01,320 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:30:01,320 - DEBUG - Position is -12987
2018-02-27 05:30:02,319 - DEBUG - Open Orders requested
2018-02-27 05:30:02,321 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DA90>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-27 05:30:02,326 - DEBUG - Order OrderID 225
2018-02-27 05:30:02,329 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:30:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 05:30:02,330 - DEBUG - Order Identification 225
2018-02-27 05:30:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:30:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 05:30:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:30:02,331 - DEBUG - Stop ID database is 0
2018-02-27 05:30:02,331 - DEBUG - Entry ID database is 233
2018-02-27 05:30:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1048>>
2018-02-27 05:30:02,333 - DEBUG - Order OrderID 232
2018-02-27 05:30:02,333 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:30:02,333 - DEBUG - Order status PreSubmitted
2018-02-27 05:30:02,334 - DEBUG - Order Identification 232
2018-02-27 05:30:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:30:02,334 - DEBUG - Profit ID from database is 0
2018-02-27 05:30:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:30:02,335 - DEBUG - Stop ID database is 0
2018-02-27 05:30:02,335 - DEBUG - Entry ID database is 233
2018-02-27 05:30:04,326 - DEBUG - Connecting to database
2018-02-27 05:30:04,333 - DEBUG - Connected to database
2018-02-27 05:30:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,335 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:30:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,337 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:30:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,339 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:30:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,340 - DEBUG - Stop quantity 1
2018-02-27 05:30:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,342 - DEBUG - Direction is Long
2018-02-27 05:30:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,343 - DEBUG - Count is 0
2018-02-27 05:30:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:30:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:30:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:30:04,347 - DEBUG - Max ID Order is (233,)
2018-02-27 05:30:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 05:30:04,348 - DEBUG - Day of the week 1
2018-02-27 05:30:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:30:04,348 - DEBUG - In Position is  0
2018-02-27 05:30:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:30:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 05:30:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:30:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 05:30:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:30:04,351 - DEBUG - EntryPend is 1
2018-02-27 05:30:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 05:30:04,351 - DEBUG - Stop API ID 0
2018-02-27 05:30:04,351 - DEBUG - Profit API ID 0
2018-02-27 05:30:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:30:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:30:04,352 - DEBUG - Pos is 0
2018-02-27 05:30:04,352 - DEBUG - CurCount is 0
2018-02-27 05:30:04,352 - DEBUG - In Pos 0
2018-02-27 05:30:04,353 - DEBUG - Stop ID is 0
2018-02-27 05:30:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:30:04,354 - DEBUG - EntryPend is 1
2018-02-27 05:30:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:30:04,355 - DEBUG - Entry Date is 10
2018-02-27 05:30:04,355 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:30:04,355 - DEBUG - Order Profit ID is 0
2018-02-27 05:30:04,355 - DEBUG - Order Entry ID is 233
2018-02-27 05:30:04,356 - DEBUG - API ID is  0
2018-02-27 05:30:04,356 - DEBUG - Current Position is 0
2018-02-27 05:30:04,356 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:30:04,356 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:30:04,357 - DEBUG - Time is 5
2018-02-27 05:30:04,357 - DEBUG - Time is <class 'int'>
2018-02-27 05:30:04,357 - DEBUG - Disconnected from IBController
2018-02-27 05:30:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:35:00,266 - DEBUG - ****************************************************
2018-02-27 05:35:00,267 - DEBUG - Current Time is 05:35AM
2018-02-27 05:35:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:35:00,267 - DEBUG - Connecting to database
2018-02-27 05:35:00,313 - DEBUG - Connected to database
2018-02-27 05:35:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:00,315 - DEBUG - Order Profit is 0
2018-02-27 05:35:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:00,316 - DEBUG - Stop ID is 0
2018-02-27 05:35:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:00,318 - DEBUG - Entry ID is 233
2018-02-27 05:35:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:35:00,320 - DEBUG - OCA ID is 1
2018-02-27 05:35:00,320 - DEBUG - Connecting to IBController
2018-02-27 05:35:01,330 - DEBUG - Connected to IBController
2018-02-27 05:35:01,330 - DEBUG - Position requested
2018-02-27 05:35:01,332 - DEBUG - Pos Mgmt -12987
2018-02-27 05:35:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:35:01,333 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:35:01,333 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:35:01,333 - DEBUG - Position is -12987
2018-02-27 05:35:02,331 - DEBUG - Open Orders requested
2018-02-27 05:35:02,333 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CA20>, order=<ib.ext.Order.Order object at 0x000000000209CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-27 05:35:02,334 - DEBUG - Order OrderID 225
2018-02-27 05:35:02,334 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:35:02,335 - DEBUG - Order status PreSubmitted
2018-02-27 05:35:02,335 - DEBUG - Order Identification 225
2018-02-27 05:35:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:35:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 05:35:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:35:02,336 - DEBUG - Stop ID database is 0
2018-02-27 05:35:02,336 - DEBUG - Entry ID database is 233
2018-02-27 05:35:02,337 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209CFD0>, order=<ib.ext.Order.Order object at 0x000000000209CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021320F0>>
2018-02-27 05:35:02,338 - DEBUG - Order OrderID 232
2018-02-27 05:35:02,338 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:35:02,339 - DEBUG - Order status PreSubmitted
2018-02-27 05:35:02,339 - DEBUG - Order Identification 232
2018-02-27 05:35:02,339 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:35:02,339 - DEBUG - Profit ID from database is 0
2018-02-27 05:35:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:35:02,340 - DEBUG - Stop ID database is 0
2018-02-27 05:35:02,340 - DEBUG - Entry ID database is 233
2018-02-27 05:35:04,334 - DEBUG - Connecting to database
2018-02-27 05:35:04,341 - DEBUG - Connected to database
2018-02-27 05:35:04,343 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,343 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:35:04,345 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,345 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:35:04,346 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,347 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:35:04,348 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,348 - DEBUG - Stop quantity 1
2018-02-27 05:35:04,350 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,350 - DEBUG - Direction is Long
2018-02-27 05:35:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,351 - DEBUG - Count is 0
2018-02-27 05:35:04,353 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:35:04,353 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:35:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:35:04,355 - DEBUG - Max ID Order is (233,)
2018-02-27 05:35:04,355 - DEBUG - Today is 2018-02-27
2018-02-27 05:35:04,356 - DEBUG - Day of the week 1
2018-02-27 05:35:04,356 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:35:04,356 - DEBUG - In Position is  0
2018-02-27 05:35:04,356 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:35:04,357 - DEBUG - curStopLossFlag is  0
2018-02-27 05:35:04,357 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:35:04,357 - DEBUG - Checking if Entry has been filled
2018-02-27 05:35:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:35:04,359 - DEBUG - EntryPend is 1
2018-02-27 05:35:04,359 - DEBUG - Try to Cancel Stop
2018-02-27 05:35:04,359 - DEBUG - Stop API ID 0
2018-02-27 05:35:04,359 - DEBUG - Profit API ID 0
2018-02-27 05:35:04,360 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:35:04,360 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:35:04,360 - DEBUG - Pos is 0
2018-02-27 05:35:04,360 - DEBUG - CurCount is 0
2018-02-27 05:35:04,361 - DEBUG - In Pos 0
2018-02-27 05:35:04,361 - DEBUG - Stop ID is 0
2018-02-27 05:35:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:35:04,363 - DEBUG - EntryPend is 1
2018-02-27 05:35:04,363 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:35:04,363 - DEBUG - Entry Date is 10
2018-02-27 05:35:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:35:04,363 - DEBUG - Order Profit ID is 0
2018-02-27 05:35:04,364 - DEBUG - Order Entry ID is 233
2018-02-27 05:35:04,364 - DEBUG - API ID is  0
2018-02-27 05:35:04,364 - DEBUG - Current Position is 0
2018-02-27 05:35:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:35:04,365 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:35:04,365 - DEBUG - Time is 5
2018-02-27 05:35:04,365 - DEBUG - Time is <class 'int'>
2018-02-27 05:35:04,365 - DEBUG - Disconnected from IBController
2018-02-27 05:35:04,366 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:40:00,260 - DEBUG - ****************************************************
2018-02-27 05:40:00,261 - DEBUG - Current Time is 05:40AM
2018-02-27 05:40:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:40:00,261 - DEBUG - Connecting to database
2018-02-27 05:40:00,284 - DEBUG - Connected to database
2018-02-27 05:40:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:00,286 - DEBUG - Order Profit is 0
2018-02-27 05:40:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:00,288 - DEBUG - Stop ID is 0
2018-02-27 05:40:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:00,289 - DEBUG - Entry ID is 233
2018-02-27 05:40:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:40:00,291 - DEBUG - OCA ID is 1
2018-02-27 05:40:00,291 - DEBUG - Connecting to IBController
2018-02-27 05:40:01,300 - DEBUG - Connected to IBController
2018-02-27 05:40:01,300 - DEBUG - Position requested
2018-02-27 05:40:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 05:40:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:40:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:40:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:40:01,303 - DEBUG - Position is -12987
2018-02-27 05:40:02,300 - DEBUG - Open Orders requested
2018-02-27 05:40:02,302 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CCF8>, order=<ib.ext.Order.Order object at 0x000000000205CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-27 05:40:02,303 - DEBUG - Order OrderID 225
2018-02-27 05:40:02,303 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:40:02,304 - DEBUG - Order status PreSubmitted
2018-02-27 05:40:02,304 - DEBUG - Order Identification 225
2018-02-27 05:40:02,304 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:40:02,304 - DEBUG - Profit ID from database is 0
2018-02-27 05:40:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:40:02,305 - DEBUG - Stop ID database is 0
2018-02-27 05:40:02,305 - DEBUG - Entry ID database is 233
2018-02-27 05:40:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205CF98>, order=<ib.ext.Order.Order object at 0x000000000205CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 05:40:02,307 - DEBUG - Order OrderID 232
2018-02-27 05:40:02,307 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:40:02,309 - DEBUG - Order status PreSubmitted
2018-02-27 05:40:02,309 - DEBUG - Order Identification 232
2018-02-27 05:40:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:40:02,310 - DEBUG - Profit ID from database is 0
2018-02-27 05:40:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:40:02,310 - DEBUG - Stop ID database is 0
2018-02-27 05:40:02,310 - DEBUG - Entry ID database is 233
2018-02-27 05:40:04,300 - DEBUG - Connecting to database
2018-02-27 05:40:04,310 - DEBUG - Connected to database
2018-02-27 05:40:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,312 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:40:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:40:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:40:04,317 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,317 - DEBUG - Stop quantity 1
2018-02-27 05:40:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,319 - DEBUG - Direction is Long
2018-02-27 05:40:04,321 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,322 - DEBUG - Count is 0
2018-02-27 05:40:04,323 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:40:04,323 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:40:04,325 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:40:04,325 - DEBUG - Max ID Order is (233,)
2018-02-27 05:40:04,326 - DEBUG - Today is 2018-02-27
2018-02-27 05:40:04,326 - DEBUG - Day of the week 1
2018-02-27 05:40:04,326 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:40:04,326 - DEBUG - In Position is  0
2018-02-27 05:40:04,327 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:40:04,327 - DEBUG - curStopLossFlag is  0
2018-02-27 05:40:04,327 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:40:04,327 - DEBUG - Checking if Entry has been filled
2018-02-27 05:40:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:40:04,329 - DEBUG - EntryPend is 1
2018-02-27 05:40:04,329 - DEBUG - Try to Cancel Stop
2018-02-27 05:40:04,329 - DEBUG - Stop API ID 0
2018-02-27 05:40:04,330 - DEBUG - Profit API ID 0
2018-02-27 05:40:04,330 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:40:04,330 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:40:04,330 - DEBUG - Pos is 0
2018-02-27 05:40:04,331 - DEBUG - CurCount is 0
2018-02-27 05:40:04,331 - DEBUG - In Pos 0
2018-02-27 05:40:04,331 - DEBUG - Stop ID is 0
2018-02-27 05:40:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:40:04,333 - DEBUG - EntryPend is 1
2018-02-27 05:40:04,333 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:40:04,333 - DEBUG - Entry Date is 10
2018-02-27 05:40:04,334 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:40:04,334 - DEBUG - Order Profit ID is 0
2018-02-27 05:40:04,334 - DEBUG - Order Entry ID is 233
2018-02-27 05:40:04,334 - DEBUG - API ID is  0
2018-02-27 05:40:04,334 - DEBUG - Current Position is 0
2018-02-27 05:40:04,335 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:40:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:40:04,335 - DEBUG - Time is 5
2018-02-27 05:40:04,335 - DEBUG - Time is <class 'int'>
2018-02-27 05:40:04,336 - DEBUG - Disconnected from IBController
2018-02-27 05:40:04,337 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:45:00,260 - DEBUG - ****************************************************
2018-02-27 05:45:00,260 - DEBUG - Current Time is 05:45AM
2018-02-27 05:45:00,260 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:45:00,261 - DEBUG - Connecting to database
2018-02-27 05:45:00,321 - DEBUG - Connected to database
2018-02-27 05:45:00,321 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:00,323 - DEBUG - Order Profit is 0
2018-02-27 05:45:00,324 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:00,325 - DEBUG - Stop ID is 0
2018-02-27 05:45:00,325 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:00,327 - DEBUG - Entry ID is 233
2018-02-27 05:45:00,327 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:45:00,329 - DEBUG - OCA ID is 1
2018-02-27 05:45:00,329 - DEBUG - Connecting to IBController
2018-02-27 05:45:01,340 - DEBUG - Connected to IBController
2018-02-27 05:45:01,340 - DEBUG - Position requested
2018-02-27 05:45:01,342 - DEBUG - Pos Mgmt -12987
2018-02-27 05:45:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:45:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:45:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:45:01,343 - DEBUG - Position is -12987
2018-02-27 05:45:02,342 - DEBUG - Open Orders requested
2018-02-27 05:45:02,344 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 05:45:02,345 - DEBUG - Order OrderID 225
2018-02-27 05:45:02,345 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:45:02,346 - DEBUG - Order status PreSubmitted
2018-02-27 05:45:02,346 - DEBUG - Order Identification 225
2018-02-27 05:45:02,346 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:45:02,347 - DEBUG - Profit ID from database is 0
2018-02-27 05:45:02,347 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:45:02,347 - DEBUG - Stop ID database is 0
2018-02-27 05:45:02,347 - DEBUG - Entry ID database is 233
2018-02-27 05:45:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CFD0>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-27 05:45:02,349 - DEBUG - Order OrderID 232
2018-02-27 05:45:02,349 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:45:02,349 - DEBUG - Order status PreSubmitted
2018-02-27 05:45:02,350 - DEBUG - Order Identification 232
2018-02-27 05:45:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:45:02,350 - DEBUG - Profit ID from database is 0
2018-02-27 05:45:02,350 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:45:02,351 - DEBUG - Stop ID database is 0
2018-02-27 05:45:02,351 - DEBUG - Entry ID database is 233
2018-02-27 05:45:04,345 - DEBUG - Connecting to database
2018-02-27 05:45:04,352 - DEBUG - Connected to database
2018-02-27 05:45:04,355 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,355 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:45:04,357 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,357 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:45:04,358 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,359 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:45:04,360 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,361 - DEBUG - Stop quantity 1
2018-02-27 05:45:04,362 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,362 - DEBUG - Direction is Long
2018-02-27 05:45:04,364 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,364 - DEBUG - Count is 0
2018-02-27 05:45:04,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:45:04,366 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:45:04,367 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:45:04,368 - DEBUG - Max ID Order is (233,)
2018-02-27 05:45:04,368 - DEBUG - Today is 2018-02-27
2018-02-27 05:45:04,368 - DEBUG - Day of the week 1
2018-02-27 05:45:04,369 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:45:04,369 - DEBUG - In Position is  0
2018-02-27 05:45:04,369 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:45:04,369 - DEBUG - curStopLossFlag is  0
2018-02-27 05:45:04,370 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:45:04,370 - DEBUG - Checking if Entry has been filled
2018-02-27 05:45:04,370 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:45:04,372 - DEBUG - EntryPend is 1
2018-02-27 05:45:04,372 - DEBUG - Try to Cancel Stop
2018-02-27 05:45:04,372 - DEBUG - Stop API ID 0
2018-02-27 05:45:04,373 - DEBUG - Profit API ID 0
2018-02-27 05:45:04,373 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:45:04,373 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:45:04,373 - DEBUG - Pos is 0
2018-02-27 05:45:04,373 - DEBUG - CurCount is 0
2018-02-27 05:45:04,374 - DEBUG - In Pos 0
2018-02-27 05:45:04,374 - DEBUG - Stop ID is 0
2018-02-27 05:45:04,374 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:45:04,376 - DEBUG - EntryPend is 1
2018-02-27 05:45:04,376 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:45:04,376 - DEBUG - Entry Date is 10
2018-02-27 05:45:04,376 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:45:04,377 - DEBUG - Order Profit ID is 0
2018-02-27 05:45:04,377 - DEBUG - Order Entry ID is 233
2018-02-27 05:45:04,377 - DEBUG - API ID is  0
2018-02-27 05:45:04,377 - DEBUG - Current Position is 0
2018-02-27 05:45:04,378 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:45:04,378 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:45:04,378 - DEBUG - Time is 5
2018-02-27 05:45:04,378 - DEBUG - Time is <class 'int'>
2018-02-27 05:45:04,379 - DEBUG - Disconnected from IBController
2018-02-27 05:45:04,379 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:50:00,260 - DEBUG - ****************************************************
2018-02-27 05:50:00,260 - DEBUG - Current Time is 05:50AM
2018-02-27 05:50:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:50:00,261 - DEBUG - Connecting to database
2018-02-27 05:50:00,296 - DEBUG - Connected to database
2018-02-27 05:50:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:00,298 - DEBUG - Order Profit is 0
2018-02-27 05:50:00,298 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:00,299 - DEBUG - Stop ID is 0
2018-02-27 05:50:00,300 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:00,301 - DEBUG - Entry ID is 233
2018-02-27 05:50:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:50:00,303 - DEBUG - OCA ID is 1
2018-02-27 05:50:00,303 - DEBUG - Connecting to IBController
2018-02-27 05:50:01,311 - DEBUG - Connected to IBController
2018-02-27 05:50:01,311 - DEBUG - Position requested
2018-02-27 05:50:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 05:50:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:50:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:50:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:50:01,314 - DEBUG - Position is -12987
2018-02-27 05:50:02,313 - DEBUG - Open Orders requested
2018-02-27 05:50:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, order=<ib.ext.Order.Order object at 0x000000000209DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-27 05:50:02,316 - DEBUG - Order OrderID 225
2018-02-27 05:50:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:50:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 05:50:02,317 - DEBUG - Order Identification 225
2018-02-27 05:50:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:50:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 05:50:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:50:02,318 - DEBUG - Stop ID database is 0
2018-02-27 05:50:02,318 - DEBUG - Entry ID database is 233
2018-02-27 05:50:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209DFD0>, order=<ib.ext.Order.Order object at 0x000000000209DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132080>>
2018-02-27 05:50:02,320 - DEBUG - Order OrderID 232
2018-02-27 05:50:02,320 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:50:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 05:50:02,321 - DEBUG - Order Identification 232
2018-02-27 05:50:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:50:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 05:50:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:50:02,322 - DEBUG - Stop ID database is 0
2018-02-27 05:50:02,322 - DEBUG - Entry ID database is 233
2018-02-27 05:50:04,315 - DEBUG - Connecting to database
2018-02-27 05:50:04,322 - DEBUG - Connected to database
2018-02-27 05:50:04,324 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,324 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:50:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,326 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:50:04,327 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:50:04,330 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,330 - DEBUG - Stop quantity 1
2018-02-27 05:50:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,332 - DEBUG - Direction is Long
2018-02-27 05:50:04,333 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,334 - DEBUG - Count is 0
2018-02-27 05:50:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:50:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:50:04,337 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:50:04,337 - DEBUG - Max ID Order is (233,)
2018-02-27 05:50:04,337 - DEBUG - Today is 2018-02-27
2018-02-27 05:50:04,338 - DEBUG - Day of the week 1
2018-02-27 05:50:04,338 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:50:04,338 - DEBUG - In Position is  0
2018-02-27 05:50:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:50:04,339 - DEBUG - curStopLossFlag is  0
2018-02-27 05:50:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:50:04,339 - DEBUG - Checking if Entry has been filled
2018-02-27 05:50:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:50:04,341 - DEBUG - EntryPend is 1
2018-02-27 05:50:04,341 - DEBUG - Try to Cancel Stop
2018-02-27 05:50:04,341 - DEBUG - Stop API ID 0
2018-02-27 05:50:04,341 - DEBUG - Profit API ID 0
2018-02-27 05:50:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:50:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:50:04,342 - DEBUG - Pos is 0
2018-02-27 05:50:04,342 - DEBUG - CurCount is 0
2018-02-27 05:50:04,343 - DEBUG - In Pos 0
2018-02-27 05:50:04,343 - DEBUG - Stop ID is 0
2018-02-27 05:50:04,343 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:50:04,344 - DEBUG - EntryPend is 1
2018-02-27 05:50:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:50:04,345 - DEBUG - Entry Date is 10
2018-02-27 05:50:04,345 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:50:04,345 - DEBUG - Order Profit ID is 0
2018-02-27 05:50:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 05:50:04,346 - DEBUG - API ID is  0
2018-02-27 05:50:04,346 - DEBUG - Current Position is 0
2018-02-27 05:50:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:50:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:50:04,347 - DEBUG - Time is 5
2018-02-27 05:50:04,347 - DEBUG - Time is <class 'int'>
2018-02-27 05:50:04,347 - DEBUG - Disconnected from IBController
2018-02-27 05:50:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 05:55:00,269 - DEBUG - ****************************************************
2018-02-27 05:55:00,270 - DEBUG - Current Time is 05:55AM
2018-02-27 05:55:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 05:55:00,270 - DEBUG - Connecting to database
2018-02-27 05:55:00,296 - DEBUG - Connected to database
2018-02-27 05:55:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:00,298 - DEBUG - Order Profit is 0
2018-02-27 05:55:00,298 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:00,299 - DEBUG - Stop ID is 0
2018-02-27 05:55:00,300 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:00,301 - DEBUG - Entry ID is 233
2018-02-27 05:55:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 05:55:00,304 - DEBUG - OCA ID is 1
2018-02-27 05:55:00,304 - DEBUG - Connecting to IBController
2018-02-27 05:55:01,311 - DEBUG - Connected to IBController
2018-02-27 05:55:01,311 - DEBUG - Position requested
2018-02-27 05:55:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 05:55:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 05:55:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 05:55:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 05:55:01,314 - DEBUG - Position is -12987
2018-02-27 05:55:02,312 - DEBUG - Open Orders requested
2018-02-27 05:55:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000209CAC8>, order=<ib.ext.Order.Order object at 0x000000000209CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-27 05:55:02,315 - DEBUG - Order OrderID 225
2018-02-27 05:55:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:55:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 05:55:02,316 - DEBUG - Order Identification 225
2018-02-27 05:55:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:55:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 05:55:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:55:02,319 - DEBUG - Stop ID database is 0
2018-02-27 05:55:02,319 - DEBUG - Entry ID database is 233
2018-02-27 05:55:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000209CFD0>, order=<ib.ext.Order.Order object at 0x000000000209CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131080>>
2018-02-27 05:55:02,320 - DEBUG - Order OrderID 232
2018-02-27 05:55:02,321 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 05:55:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 05:55:02,321 - DEBUG - Order Identification 232
2018-02-27 05:55:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 05:55:02,322 - DEBUG - Profit ID from database is 0
2018-02-27 05:55:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 05:55:02,322 - DEBUG - Stop ID database is 0
2018-02-27 05:55:02,322 - DEBUG - Entry ID database is 233
2018-02-27 05:55:04,315 - DEBUG - Connecting to database
2018-02-27 05:55:04,322 - DEBUG - Connected to database
2018-02-27 05:55:04,324 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,324 - DEBUG - Stop loss value is 2742.75
2018-02-27 05:55:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,326 - DEBUG - Stop loss value is 2797.0
2018-02-27 05:55:04,327 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 05:55:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,329 - DEBUG - Stop quantity 1
2018-02-27 05:55:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,331 - DEBUG - Direction is Long
2018-02-27 05:55:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,333 - DEBUG - Count is 0
2018-02-27 05:55:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 05:55:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 05:55:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 05:55:04,336 - DEBUG - Max ID Order is (233,)
2018-02-27 05:55:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 05:55:04,337 - DEBUG - Day of the week 1
2018-02-27 05:55:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 05:55:04,337 - DEBUG - In Position is  0
2018-02-27 05:55:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-27 05:55:04,338 - DEBUG - curStopLossFlag is  0
2018-02-27 05:55:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 05:55:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 05:55:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:55:04,340 - DEBUG - EntryPend is 1
2018-02-27 05:55:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 05:55:04,340 - DEBUG - Stop API ID 0
2018-02-27 05:55:04,341 - DEBUG - Profit API ID 0
2018-02-27 05:55:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 05:55:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 05:55:04,341 - DEBUG - Pos is 0
2018-02-27 05:55:04,342 - DEBUG - CurCount is 0
2018-02-27 05:55:04,342 - DEBUG - In Pos 0
2018-02-27 05:55:04,342 - DEBUG - Stop ID is 0
2018-02-27 05:55:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 05:55:04,344 - DEBUG - EntryPend is 1
2018-02-27 05:55:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 05:55:04,344 - DEBUG - Entry Date is 10
2018-02-27 05:55:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 05:55:04,345 - DEBUG - Order Profit ID is 0
2018-02-27 05:55:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 05:55:04,345 - DEBUG - API ID is  0
2018-02-27 05:55:04,345 - DEBUG - Current Position is 0
2018-02-27 05:55:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 05:55:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 05:55:04,346 - DEBUG - Time is 5
2018-02-27 05:55:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 05:55:04,347 - DEBUG - Disconnected from IBController
2018-02-27 05:55:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:00:00,267 - DEBUG - ****************************************************
2018-02-27 06:00:00,267 - DEBUG - Current Time is 06:00AM
2018-02-27 06:00:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:00:00,268 - DEBUG - Connecting to database
2018-02-27 06:00:00,300 - DEBUG - Connected to database
2018-02-27 06:00:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:00,302 - DEBUG - Order Profit is 0
2018-02-27 06:00:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:00,303 - DEBUG - Stop ID is 0
2018-02-27 06:00:00,304 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:00,305 - DEBUG - Entry ID is 233
2018-02-27 06:00:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:00:00,307 - DEBUG - OCA ID is 1
2018-02-27 06:00:00,307 - DEBUG - Connecting to IBController
2018-02-27 06:00:01,314 - DEBUG - Connected to IBController
2018-02-27 06:00:01,314 - DEBUG - Position requested
2018-02-27 06:00:01,316 - DEBUG - Pos Mgmt -12987
2018-02-27 06:00:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:00:01,317 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:00:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:00:01,317 - DEBUG - Position is -12987
2018-02-27 06:00:02,314 - DEBUG - Open Orders requested
2018-02-27 06:00:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 06:00:02,317 - DEBUG - Order OrderID 225
2018-02-27 06:00:02,317 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:00:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 06:00:02,320 - DEBUG - Order Identification 225
2018-02-27 06:00:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:00:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 06:00:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:00:02,321 - DEBUG - Stop ID database is 0
2018-02-27 06:00:02,321 - DEBUG - Entry ID database is 233
2018-02-27 06:00:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 06:00:02,323 - DEBUG - Order OrderID 232
2018-02-27 06:00:02,324 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:00:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 06:00:02,324 - DEBUG - Order Identification 232
2018-02-27 06:00:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:00:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 06:00:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:00:02,325 - DEBUG - Stop ID database is 0
2018-02-27 06:00:02,326 - DEBUG - Entry ID database is 233
2018-02-27 06:00:04,314 - DEBUG - Connecting to database
2018-02-27 06:00:04,321 - DEBUG - Connected to database
2018-02-27 06:00:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:00:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:00:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:00:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,328 - DEBUG - Stop quantity 1
2018-02-27 06:00:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,330 - DEBUG - Direction is Long
2018-02-27 06:00:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,332 - DEBUG - Count is 0
2018-02-27 06:00:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:00:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:00:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:00:04,335 - DEBUG - Max ID Order is (233,)
2018-02-27 06:00:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 06:00:04,336 - DEBUG - Day of the week 1
2018-02-27 06:00:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:00:04,336 - DEBUG - In Position is  0
2018-02-27 06:00:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:00:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 06:00:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:00:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 06:00:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:00:04,339 - DEBUG - EntryPend is 1
2018-02-27 06:00:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 06:00:04,340 - DEBUG - Stop API ID 0
2018-02-27 06:00:04,340 - DEBUG - Profit API ID 0
2018-02-27 06:00:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:00:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:00:04,341 - DEBUG - Pos is 0
2018-02-27 06:00:04,341 - DEBUG - CurCount is 0
2018-02-27 06:00:04,341 - DEBUG - In Pos 0
2018-02-27 06:00:04,341 - DEBUG - Stop ID is 0
2018-02-27 06:00:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:00:04,343 - DEBUG - EntryPend is 1
2018-02-27 06:00:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:00:04,344 - DEBUG - Entry Date is 10
2018-02-27 06:00:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:00:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 06:00:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 06:00:04,345 - DEBUG - API ID is  0
2018-02-27 06:00:04,345 - DEBUG - Current Position is 0
2018-02-27 06:00:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:00:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:00:04,346 - DEBUG - Time is 6
2018-02-27 06:00:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 06:00:04,346 - DEBUG - Disconnected from IBController
2018-02-27 06:00:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:05:00,255 - DEBUG - ****************************************************
2018-02-27 06:05:00,256 - DEBUG - Current Time is 06:05AM
2018-02-27 06:05:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:05:00,256 - DEBUG - Connecting to database
2018-02-27 06:05:00,283 - DEBUG - Connected to database
2018-02-27 06:05:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:00,285 - DEBUG - Order Profit is 0
2018-02-27 06:05:00,285 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:00,287 - DEBUG - Stop ID is 0
2018-02-27 06:05:00,287 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:00,288 - DEBUG - Entry ID is 233
2018-02-27 06:05:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:05:00,290 - DEBUG - OCA ID is 1
2018-02-27 06:05:00,290 - DEBUG - Connecting to IBController
2018-02-27 06:05:01,296 - DEBUG - Connected to IBController
2018-02-27 06:05:01,296 - DEBUG - Position requested
2018-02-27 06:05:01,299 - DEBUG - Pos Mgmt -12987
2018-02-27 06:05:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:05:01,300 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:05:01,300 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:05:01,300 - DEBUG - Position is -12987
2018-02-27 06:05:02,297 - DEBUG - Open Orders requested
2018-02-27 06:05:02,299 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, order=<ib.ext.Order.Order object at 0x000000000205DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-27 06:05:02,299 - DEBUG - Order OrderID 225
2018-02-27 06:05:02,300 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:05:02,300 - DEBUG - Order status PreSubmitted
2018-02-27 06:05:02,300 - DEBUG - Order Identification 225
2018-02-27 06:05:02,301 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:05:02,301 - DEBUG - Profit ID from database is 0
2018-02-27 06:05:02,301 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:05:02,301 - DEBUG - Stop ID database is 0
2018-02-27 06:05:02,302 - DEBUG - Entry ID database is 233
2018-02-27 06:05:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-27 06:05:02,303 - DEBUG - Order OrderID 232
2018-02-27 06:05:02,304 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:05:02,304 - DEBUG - Order status PreSubmitted
2018-02-27 06:05:02,304 - DEBUG - Order Identification 232
2018-02-27 06:05:02,304 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:05:02,304 - DEBUG - Profit ID from database is 0
2018-02-27 06:05:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:05:02,305 - DEBUG - Stop ID database is 0
2018-02-27 06:05:02,305 - DEBUG - Entry ID database is 233
2018-02-27 06:05:04,299 - DEBUG - Connecting to database
2018-02-27 06:05:04,306 - DEBUG - Connected to database
2018-02-27 06:05:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,308 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:05:04,309 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,310 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:05:04,311 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,311 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:05:04,314 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,314 - DEBUG - Stop quantity 1
2018-02-27 06:05:04,316 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,316 - DEBUG - Direction is Long
2018-02-27 06:05:04,317 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,318 - DEBUG - Count is 0
2018-02-27 06:05:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:05:04,320 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:05:04,321 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:05:04,321 - DEBUG - Max ID Order is (233,)
2018-02-27 06:05:04,322 - DEBUG - Today is 2018-02-27
2018-02-27 06:05:04,322 - DEBUG - Day of the week 1
2018-02-27 06:05:04,322 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:05:04,323 - DEBUG - In Position is  0
2018-02-27 06:05:04,323 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:05:04,323 - DEBUG - curStopLossFlag is  0
2018-02-27 06:05:04,323 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:05:04,324 - DEBUG - Checking if Entry has been filled
2018-02-27 06:05:04,324 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:05:04,325 - DEBUG - EntryPend is 1
2018-02-27 06:05:04,325 - DEBUG - Try to Cancel Stop
2018-02-27 06:05:04,326 - DEBUG - Stop API ID 0
2018-02-27 06:05:04,326 - DEBUG - Profit API ID 0
2018-02-27 06:05:04,326 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:05:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:05:04,327 - DEBUG - Pos is 0
2018-02-27 06:05:04,327 - DEBUG - CurCount is 0
2018-02-27 06:05:04,327 - DEBUG - In Pos 0
2018-02-27 06:05:04,327 - DEBUG - Stop ID is 0
2018-02-27 06:05:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:05:04,329 - DEBUG - EntryPend is 1
2018-02-27 06:05:04,329 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:05:04,329 - DEBUG - Entry Date is 10
2018-02-27 06:05:04,329 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:05:04,330 - DEBUG - Order Profit ID is 0
2018-02-27 06:05:04,330 - DEBUG - Order Entry ID is 233
2018-02-27 06:05:04,330 - DEBUG - API ID is  0
2018-02-27 06:05:04,330 - DEBUG - Current Position is 0
2018-02-27 06:05:04,331 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:05:04,331 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:05:04,331 - DEBUG - Time is 6
2018-02-27 06:05:04,331 - DEBUG - Time is <class 'int'>
2018-02-27 06:05:04,332 - DEBUG - Disconnected from IBController
2018-02-27 06:05:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:10:00,242 - DEBUG - ****************************************************
2018-02-27 06:10:00,242 - DEBUG - Current Time is 06:10AM
2018-02-27 06:10:00,242 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:10:00,243 - DEBUG - Connecting to database
2018-02-27 06:10:00,280 - DEBUG - Connected to database
2018-02-27 06:10:00,281 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:00,282 - DEBUG - Order Profit is 0
2018-02-27 06:10:00,283 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:00,284 - DEBUG - Stop ID is 0
2018-02-27 06:10:00,284 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:00,286 - DEBUG - Entry ID is 233
2018-02-27 06:10:00,286 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:10:00,288 - DEBUG - OCA ID is 1
2018-02-27 06:10:00,288 - DEBUG - Connecting to IBController
2018-02-27 06:10:01,302 - DEBUG - Connected to IBController
2018-02-27 06:10:01,302 - DEBUG - Position requested
2018-02-27 06:10:01,304 - DEBUG - Pos Mgmt -12987
2018-02-27 06:10:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:10:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:10:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:10:01,305 - DEBUG - Position is -12987
2018-02-27 06:10:02,304 - DEBUG - Open Orders requested
2018-02-27 06:10:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DB70>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-27 06:10:02,307 - DEBUG - Order OrderID 225
2018-02-27 06:10:02,307 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:10:02,307 - DEBUG - Order status PreSubmitted
2018-02-27 06:10:02,308 - DEBUG - Order Identification 225
2018-02-27 06:10:02,308 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:10:02,308 - DEBUG - Profit ID from database is 0
2018-02-27 06:10:02,308 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:10:02,309 - DEBUG - Stop ID database is 0
2018-02-27 06:10:02,309 - DEBUG - Entry ID database is 233
2018-02-27 06:10:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-27 06:10:02,310 - DEBUG - Order OrderID 232
2018-02-27 06:10:02,311 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:10:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 06:10:02,311 - DEBUG - Order Identification 232
2018-02-27 06:10:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:10:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 06:10:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:10:02,312 - DEBUG - Stop ID database is 0
2018-02-27 06:10:02,312 - DEBUG - Entry ID database is 233
2018-02-27 06:10:04,306 - DEBUG - Connecting to database
2018-02-27 06:10:04,313 - DEBUG - Connected to database
2018-02-27 06:10:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,315 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:10:04,317 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,317 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:10:04,318 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:10:04,320 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,321 - DEBUG - Stop quantity 1
2018-02-27 06:10:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,322 - DEBUG - Direction is Long
2018-02-27 06:10:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,324 - DEBUG - Count is 0
2018-02-27 06:10:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:10:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:10:04,327 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:10:04,327 - DEBUG - Max ID Order is (233,)
2018-02-27 06:10:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 06:10:04,328 - DEBUG - Day of the week 1
2018-02-27 06:10:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:10:04,329 - DEBUG - In Position is  0
2018-02-27 06:10:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:10:04,329 - DEBUG - curStopLossFlag is  0
2018-02-27 06:10:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:10:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 06:10:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:10:04,331 - DEBUG - EntryPend is 1
2018-02-27 06:10:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 06:10:04,332 - DEBUG - Stop API ID 0
2018-02-27 06:10:04,332 - DEBUG - Profit API ID 0
2018-02-27 06:10:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:10:04,332 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:10:04,333 - DEBUG - Pos is 0
2018-02-27 06:10:04,333 - DEBUG - CurCount is 0
2018-02-27 06:10:04,333 - DEBUG - In Pos 0
2018-02-27 06:10:04,333 - DEBUG - Stop ID is 0
2018-02-27 06:10:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:10:04,335 - DEBUG - EntryPend is 1
2018-02-27 06:10:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:10:04,336 - DEBUG - Entry Date is 10
2018-02-27 06:10:04,336 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:10:04,336 - DEBUG - Order Profit ID is 0
2018-02-27 06:10:04,336 - DEBUG - Order Entry ID is 233
2018-02-27 06:10:04,336 - DEBUG - API ID is  0
2018-02-27 06:10:04,337 - DEBUG - Current Position is 0
2018-02-27 06:10:04,337 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:10:04,337 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:10:04,337 - DEBUG - Time is 6
2018-02-27 06:10:04,338 - DEBUG - Time is <class 'int'>
2018-02-27 06:10:04,338 - DEBUG - Disconnected from IBController
2018-02-27 06:10:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:15:00,269 - DEBUG - ****************************************************
2018-02-27 06:15:00,270 - DEBUG - Current Time is 06:15AM
2018-02-27 06:15:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:15:00,271 - DEBUG - Connecting to database
2018-02-27 06:15:00,308 - DEBUG - Connected to database
2018-02-27 06:15:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:00,309 - DEBUG - Order Profit is 0
2018-02-27 06:15:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:00,325 - DEBUG - Stop ID is 0
2018-02-27 06:15:00,326 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:00,327 - DEBUG - Entry ID is 233
2018-02-27 06:15:00,327 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:15:00,329 - DEBUG - OCA ID is 1
2018-02-27 06:15:00,329 - DEBUG - Connecting to IBController
2018-02-27 06:15:01,338 - DEBUG - Connected to IBController
2018-02-27 06:15:01,338 - DEBUG - Position requested
2018-02-27 06:15:01,342 - DEBUG - Pos Mgmt -12987
2018-02-27 06:15:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:15:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:15:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:15:01,343 - DEBUG - Position is -12987
2018-02-27 06:15:02,339 - DEBUG - Open Orders requested
2018-02-27 06:15:02,341 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DAC8>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 06:15:02,342 - DEBUG - Order OrderID 225
2018-02-27 06:15:02,342 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:15:02,343 - DEBUG - Order status PreSubmitted
2018-02-27 06:15:02,343 - DEBUG - Order Identification 225
2018-02-27 06:15:02,343 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:15:02,344 - DEBUG - Profit ID from database is 0
2018-02-27 06:15:02,344 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:15:02,344 - DEBUG - Stop ID database is 0
2018-02-27 06:15:02,344 - DEBUG - Entry ID database is 233
2018-02-27 06:15:02,345 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DFD0>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-27 06:15:02,346 - DEBUG - Order OrderID 232
2018-02-27 06:15:02,346 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:15:02,346 - DEBUG - Order status PreSubmitted
2018-02-27 06:15:02,347 - DEBUG - Order Identification 232
2018-02-27 06:15:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:15:02,347 - DEBUG - Profit ID from database is 0
2018-02-27 06:15:02,347 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:15:02,348 - DEBUG - Stop ID database is 0
2018-02-27 06:15:02,348 - DEBUG - Entry ID database is 233
2018-02-27 06:15:04,342 - DEBUG - Connecting to database
2018-02-27 06:15:04,349 - DEBUG - Connected to database
2018-02-27 06:15:04,350 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,351 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:15:04,353 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,353 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:15:04,354 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,355 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:15:04,356 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,356 - DEBUG - Stop quantity 1
2018-02-27 06:15:04,358 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,358 - DEBUG - Direction is Long
2018-02-27 06:15:04,359 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,360 - DEBUG - Count is 0
2018-02-27 06:15:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:15:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:15:04,363 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:15:04,363 - DEBUG - Max ID Order is (233,)
2018-02-27 06:15:04,364 - DEBUG - Today is 2018-02-27
2018-02-27 06:15:04,364 - DEBUG - Day of the week 1
2018-02-27 06:15:04,364 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:15:04,365 - DEBUG - In Position is  0
2018-02-27 06:15:04,365 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:15:04,365 - DEBUG - curStopLossFlag is  0
2018-02-27 06:15:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:15:04,366 - DEBUG - Checking if Entry has been filled
2018-02-27 06:15:04,366 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:15:04,367 - DEBUG - EntryPend is 1
2018-02-27 06:15:04,367 - DEBUG - Try to Cancel Stop
2018-02-27 06:15:04,368 - DEBUG - Stop API ID 0
2018-02-27 06:15:04,368 - DEBUG - Profit API ID 0
2018-02-27 06:15:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:15:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:15:04,368 - DEBUG - Pos is 0
2018-02-27 06:15:04,369 - DEBUG - CurCount is 0
2018-02-27 06:15:04,369 - DEBUG - In Pos 0
2018-02-27 06:15:04,369 - DEBUG - Stop ID is 0
2018-02-27 06:15:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:15:04,371 - DEBUG - EntryPend is 1
2018-02-27 06:15:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:15:04,371 - DEBUG - Entry Date is 10
2018-02-27 06:15:04,371 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:15:04,372 - DEBUG - Order Profit ID is 0
2018-02-27 06:15:04,372 - DEBUG - Order Entry ID is 233
2018-02-27 06:15:04,372 - DEBUG - API ID is  0
2018-02-27 06:15:04,372 - DEBUG - Current Position is 0
2018-02-27 06:15:04,372 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:15:04,373 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:15:04,373 - DEBUG - Time is 6
2018-02-27 06:15:04,373 - DEBUG - Time is <class 'int'>
2018-02-27 06:15:04,373 - DEBUG - Disconnected from IBController
2018-02-27 06:15:04,374 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:20:00,255 - DEBUG - ****************************************************
2018-02-27 06:20:00,256 - DEBUG - Current Time is 06:20AM
2018-02-27 06:20:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:20:00,256 - DEBUG - Connecting to database
2018-02-27 06:20:00,276 - DEBUG - Connected to database
2018-02-27 06:20:00,276 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:00,281 - DEBUG - Order Profit is 0
2018-02-27 06:20:00,281 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:00,283 - DEBUG - Stop ID is 0
2018-02-27 06:20:00,284 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:00,285 - DEBUG - Entry ID is 233
2018-02-27 06:20:00,285 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:20:00,287 - DEBUG - OCA ID is 1
2018-02-27 06:20:00,287 - DEBUG - Connecting to IBController
2018-02-27 06:20:01,304 - DEBUG - Connected to IBController
2018-02-27 06:20:01,304 - DEBUG - Position requested
2018-02-27 06:20:01,306 - DEBUG - Pos Mgmt -12987
2018-02-27 06:20:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:20:01,307 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:20:01,307 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:20:01,307 - DEBUG - Position is -12987
2018-02-27 06:20:02,306 - DEBUG - Open Orders requested
2018-02-27 06:20:02,308 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, order=<ib.ext.Order.Order object at 0x000000000206CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-27 06:20:02,309 - DEBUG - Order OrderID 225
2018-02-27 06:20:02,309 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:20:02,310 - DEBUG - Order status PreSubmitted
2018-02-27 06:20:02,310 - DEBUG - Order Identification 225
2018-02-27 06:20:02,310 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:20:02,311 - DEBUG - Profit ID from database is 0
2018-02-27 06:20:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:20:02,311 - DEBUG - Stop ID database is 0
2018-02-27 06:20:02,311 - DEBUG - Entry ID database is 233
2018-02-27 06:20:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206CFD0>, order=<ib.ext.Order.Order object at 0x000000000206CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020F0>>
2018-02-27 06:20:02,313 - DEBUG - Order OrderID 232
2018-02-27 06:20:02,313 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:20:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 06:20:02,313 - DEBUG - Order Identification 232
2018-02-27 06:20:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:20:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 06:20:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:20:02,314 - DEBUG - Stop ID database is 0
2018-02-27 06:20:02,314 - DEBUG - Entry ID database is 233
2018-02-27 06:20:04,309 - DEBUG - Connecting to database
2018-02-27 06:20:04,317 - DEBUG - Connected to database
2018-02-27 06:20:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:20:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:20:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,322 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:20:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,324 - DEBUG - Stop quantity 1
2018-02-27 06:20:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,326 - DEBUG - Direction is Long
2018-02-27 06:20:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,328 - DEBUG - Count is 0
2018-02-27 06:20:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:20:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:20:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:20:04,333 - DEBUG - Max ID Order is (233,)
2018-02-27 06:20:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 06:20:04,334 - DEBUG - Day of the week 1
2018-02-27 06:20:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:20:04,335 - DEBUG - In Position is  0
2018-02-27 06:20:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:20:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 06:20:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:20:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 06:20:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:20:04,337 - DEBUG - EntryPend is 1
2018-02-27 06:20:04,338 - DEBUG - Try to Cancel Stop
2018-02-27 06:20:04,338 - DEBUG - Stop API ID 0
2018-02-27 06:20:04,338 - DEBUG - Profit API ID 0
2018-02-27 06:20:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:20:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:20:04,339 - DEBUG - Pos is 0
2018-02-27 06:20:04,339 - DEBUG - CurCount is 0
2018-02-27 06:20:04,339 - DEBUG - In Pos 0
2018-02-27 06:20:04,340 - DEBUG - Stop ID is 0
2018-02-27 06:20:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:20:04,343 - DEBUG - EntryPend is 1
2018-02-27 06:20:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:20:04,344 - DEBUG - Entry Date is 10
2018-02-27 06:20:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:20:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 06:20:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 06:20:04,345 - DEBUG - API ID is  0
2018-02-27 06:20:04,345 - DEBUG - Current Position is 0
2018-02-27 06:20:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:20:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:20:04,346 - DEBUG - Time is 6
2018-02-27 06:20:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 06:20:04,346 - DEBUG - Disconnected from IBController
2018-02-27 06:20:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:25:00,264 - DEBUG - ****************************************************
2018-02-27 06:25:00,264 - DEBUG - Current Time is 06:25AM
2018-02-27 06:25:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:25:00,265 - DEBUG - Connecting to database
2018-02-27 06:25:00,283 - DEBUG - Connected to database
2018-02-27 06:25:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:00,285 - DEBUG - Order Profit is 0
2018-02-27 06:25:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:00,287 - DEBUG - Stop ID is 0
2018-02-27 06:25:00,287 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:00,289 - DEBUG - Entry ID is 233
2018-02-27 06:25:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:25:00,290 - DEBUG - OCA ID is 1
2018-02-27 06:25:00,291 - DEBUG - Connecting to IBController
2018-02-27 06:25:01,299 - DEBUG - Connected to IBController
2018-02-27 06:25:01,299 - DEBUG - Position requested
2018-02-27 06:25:01,301 - DEBUG - Pos Mgmt -12987
2018-02-27 06:25:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:25:01,301 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:25:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:25:01,302 - DEBUG - Position is -12987
2018-02-27 06:25:02,300 - DEBUG - Open Orders requested
2018-02-27 06:25:02,302 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122128>>
2018-02-27 06:25:02,302 - DEBUG - Order OrderID 225
2018-02-27 06:25:02,303 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:25:02,303 - DEBUG - Order status PreSubmitted
2018-02-27 06:25:02,304 - DEBUG - Order Identification 225
2018-02-27 06:25:02,304 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:25:02,304 - DEBUG - Profit ID from database is 0
2018-02-27 06:25:02,304 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:25:02,304 - DEBUG - Stop ID database is 0
2018-02-27 06:25:02,305 - DEBUG - Entry ID database is 233
2018-02-27 06:25:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122048>>
2018-02-27 06:25:02,306 - DEBUG - Order OrderID 232
2018-02-27 06:25:02,307 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:25:02,307 - DEBUG - Order status PreSubmitted
2018-02-27 06:25:02,307 - DEBUG - Order Identification 232
2018-02-27 06:25:02,307 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:25:02,308 - DEBUG - Profit ID from database is 0
2018-02-27 06:25:02,308 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:25:02,308 - DEBUG - Stop ID database is 0
2018-02-27 06:25:02,308 - DEBUG - Entry ID database is 233
2018-02-27 06:25:04,302 - DEBUG - Connecting to database
2018-02-27 06:25:04,309 - DEBUG - Connected to database
2018-02-27 06:25:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,311 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:25:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:25:04,314 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:25:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,316 - DEBUG - Stop quantity 1
2018-02-27 06:25:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,318 - DEBUG - Direction is Long
2018-02-27 06:25:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,320 - DEBUG - Count is 0
2018-02-27 06:25:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:25:04,321 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:25:04,323 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:25:04,323 - DEBUG - Max ID Order is (233,)
2018-02-27 06:25:04,323 - DEBUG - Today is 2018-02-27
2018-02-27 06:25:04,324 - DEBUG - Day of the week 1
2018-02-27 06:25:04,324 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:25:04,324 - DEBUG - In Position is  0
2018-02-27 06:25:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:25:04,325 - DEBUG - curStopLossFlag is  0
2018-02-27 06:25:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:25:04,325 - DEBUG - Checking if Entry has been filled
2018-02-27 06:25:04,326 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:25:04,327 - DEBUG - EntryPend is 1
2018-02-27 06:25:04,327 - DEBUG - Try to Cancel Stop
2018-02-27 06:25:04,327 - DEBUG - Stop API ID 0
2018-02-27 06:25:04,328 - DEBUG - Profit API ID 0
2018-02-27 06:25:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:25:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:25:04,328 - DEBUG - Pos is 0
2018-02-27 06:25:04,329 - DEBUG - CurCount is 0
2018-02-27 06:25:04,329 - DEBUG - In Pos 0
2018-02-27 06:25:04,329 - DEBUG - Stop ID is 0
2018-02-27 06:25:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:25:04,331 - DEBUG - EntryPend is 1
2018-02-27 06:25:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:25:04,331 - DEBUG - Entry Date is 10
2018-02-27 06:25:04,331 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:25:04,332 - DEBUG - Order Profit ID is 0
2018-02-27 06:25:04,332 - DEBUG - Order Entry ID is 233
2018-02-27 06:25:04,332 - DEBUG - API ID is  0
2018-02-27 06:25:04,332 - DEBUG - Current Position is 0
2018-02-27 06:25:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:25:04,333 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:25:04,333 - DEBUG - Time is 6
2018-02-27 06:25:04,333 - DEBUG - Time is <class 'int'>
2018-02-27 06:25:04,333 - DEBUG - Disconnected from IBController
2018-02-27 06:25:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:30:00,269 - DEBUG - ****************************************************
2018-02-27 06:30:00,270 - DEBUG - Current Time is 06:30AM
2018-02-27 06:30:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:30:00,270 - DEBUG - Connecting to database
2018-02-27 06:30:00,289 - DEBUG - Connected to database
2018-02-27 06:30:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:00,291 - DEBUG - Order Profit is 0
2018-02-27 06:30:00,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:00,293 - DEBUG - Stop ID is 0
2018-02-27 06:30:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:00,294 - DEBUG - Entry ID is 233
2018-02-27 06:30:00,294 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:30:00,296 - DEBUG - OCA ID is 1
2018-02-27 06:30:00,296 - DEBUG - Connecting to IBController
2018-02-27 06:30:01,313 - DEBUG - Connected to IBController
2018-02-27 06:30:01,313 - DEBUG - Position requested
2018-02-27 06:30:01,315 - DEBUG - Pos Mgmt -12987
2018-02-27 06:30:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:30:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:30:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:30:01,316 - DEBUG - Position is -12987
2018-02-27 06:30:02,314 - DEBUG - Open Orders requested
2018-02-27 06:30:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-27 06:30:02,317 - DEBUG - Order OrderID 225
2018-02-27 06:30:02,317 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:30:02,318 - DEBUG - Order status PreSubmitted
2018-02-27 06:30:02,318 - DEBUG - Order Identification 225
2018-02-27 06:30:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:30:02,319 - DEBUG - Profit ID from database is 0
2018-02-27 06:30:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:30:02,319 - DEBUG - Stop ID database is 0
2018-02-27 06:30:02,319 - DEBUG - Entry ID database is 233
2018-02-27 06:30:02,321 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1048>>
2018-02-27 06:30:02,321 - DEBUG - Order OrderID 232
2018-02-27 06:30:02,322 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:30:02,322 - DEBUG - Order status PreSubmitted
2018-02-27 06:30:02,322 - DEBUG - Order Identification 232
2018-02-27 06:30:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:30:02,323 - DEBUG - Profit ID from database is 0
2018-02-27 06:30:02,323 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:30:02,323 - DEBUG - Stop ID database is 0
2018-02-27 06:30:02,323 - DEBUG - Entry ID database is 233
2018-02-27 06:30:04,317 - DEBUG - Connecting to database
2018-02-27 06:30:04,324 - DEBUG - Connected to database
2018-02-27 06:30:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:30:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:30:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:30:04,343 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,343 - DEBUG - Stop quantity 1
2018-02-27 06:30:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,346 - DEBUG - Direction is Long
2018-02-27 06:30:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,348 - DEBUG - Count is 0
2018-02-27 06:30:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:30:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:30:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:30:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 06:30:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 06:30:04,354 - DEBUG - Day of the week 1
2018-02-27 06:30:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:30:04,355 - DEBUG - In Position is  0
2018-02-27 06:30:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:30:04,355 - DEBUG - curStopLossFlag is  0
2018-02-27 06:30:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:30:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 06:30:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:30:04,358 - DEBUG - EntryPend is 1
2018-02-27 06:30:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 06:30:04,359 - DEBUG - Stop API ID 0
2018-02-27 06:30:04,359 - DEBUG - Profit API ID 0
2018-02-27 06:30:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:30:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:30:04,359 - DEBUG - Pos is 0
2018-02-27 06:30:04,360 - DEBUG - CurCount is 0
2018-02-27 06:30:04,360 - DEBUG - In Pos 0
2018-02-27 06:30:04,360 - DEBUG - Stop ID is 0
2018-02-27 06:30:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:30:04,362 - DEBUG - EntryPend is 1
2018-02-27 06:30:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:30:04,362 - DEBUG - Entry Date is 10
2018-02-27 06:30:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:30:04,363 - DEBUG - Order Profit ID is 0
2018-02-27 06:30:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 06:30:04,363 - DEBUG - API ID is  0
2018-02-27 06:30:04,363 - DEBUG - Current Position is 0
2018-02-27 06:30:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:30:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:30:04,364 - DEBUG - Time is 6
2018-02-27 06:30:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 06:30:04,365 - DEBUG - Disconnected from IBController
2018-02-27 06:30:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:35:00,264 - DEBUG - ****************************************************
2018-02-27 06:35:00,264 - DEBUG - Current Time is 06:35AM
2018-02-27 06:35:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:35:00,265 - DEBUG - Connecting to database
2018-02-27 06:35:00,290 - DEBUG - Connected to database
2018-02-27 06:35:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:00,292 - DEBUG - Order Profit is 0
2018-02-27 06:35:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:00,293 - DEBUG - Stop ID is 0
2018-02-27 06:35:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:00,295 - DEBUG - Entry ID is 233
2018-02-27 06:35:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:35:00,296 - DEBUG - OCA ID is 1
2018-02-27 06:35:00,297 - DEBUG - Connecting to IBController
2018-02-27 06:35:01,304 - DEBUG - Connected to IBController
2018-02-27 06:35:01,304 - DEBUG - Position requested
2018-02-27 06:35:01,306 - DEBUG - Pos Mgmt -12987
2018-02-27 06:35:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:35:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:35:01,307 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:35:01,307 - DEBUG - Position is -12987
2018-02-27 06:35:02,306 - DEBUG - Open Orders requested
2018-02-27 06:35:02,308 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, order=<ib.ext.Order.Order object at 0x000000000203CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 06:35:02,309 - DEBUG - Order OrderID 225
2018-02-27 06:35:02,309 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:35:02,310 - DEBUG - Order status PreSubmitted
2018-02-27 06:35:02,310 - DEBUG - Order Identification 225
2018-02-27 06:35:02,310 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:35:02,311 - DEBUG - Profit ID from database is 0
2018-02-27 06:35:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:35:02,311 - DEBUG - Stop ID database is 0
2018-02-27 06:35:02,311 - DEBUG - Entry ID database is 233
2018-02-27 06:35:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CFD0>, order=<ib.ext.Order.Order object at 0x000000000203CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1080>>
2018-02-27 06:35:02,313 - DEBUG - Order OrderID 232
2018-02-27 06:35:02,313 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:35:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 06:35:02,314 - DEBUG - Order Identification 232
2018-02-27 06:35:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:35:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 06:35:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:35:02,315 - DEBUG - Stop ID database is 0
2018-02-27 06:35:02,315 - DEBUG - Entry ID database is 233
2018-02-27 06:35:04,309 - DEBUG - Connecting to database
2018-02-27 06:35:04,316 - DEBUG - Connected to database
2018-02-27 06:35:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,318 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:35:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,320 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:35:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,322 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:35:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,323 - DEBUG - Stop quantity 1
2018-02-27 06:35:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,326 - DEBUG - Direction is Long
2018-02-27 06:35:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,328 - DEBUG - Count is 0
2018-02-27 06:35:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:35:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:35:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:35:04,331 - DEBUG - Max ID Order is (233,)
2018-02-27 06:35:04,331 - DEBUG - Today is 2018-02-27
2018-02-27 06:35:04,332 - DEBUG - Day of the week 1
2018-02-27 06:35:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:35:04,332 - DEBUG - In Position is  0
2018-02-27 06:35:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:35:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 06:35:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:35:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 06:35:04,333 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:35:04,335 - DEBUG - EntryPend is 1
2018-02-27 06:35:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 06:35:04,335 - DEBUG - Stop API ID 0
2018-02-27 06:35:04,336 - DEBUG - Profit API ID 0
2018-02-27 06:35:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:35:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:35:04,336 - DEBUG - Pos is 0
2018-02-27 06:35:04,337 - DEBUG - CurCount is 0
2018-02-27 06:35:04,337 - DEBUG - In Pos 0
2018-02-27 06:35:04,337 - DEBUG - Stop ID is 0
2018-02-27 06:35:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:35:04,339 - DEBUG - EntryPend is 1
2018-02-27 06:35:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:35:04,339 - DEBUG - Entry Date is 10
2018-02-27 06:35:04,339 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:35:04,340 - DEBUG - Order Profit ID is 0
2018-02-27 06:35:04,340 - DEBUG - Order Entry ID is 233
2018-02-27 06:35:04,340 - DEBUG - API ID is  0
2018-02-27 06:35:04,340 - DEBUG - Current Position is 0
2018-02-27 06:35:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:35:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:35:04,341 - DEBUG - Time is 6
2018-02-27 06:35:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 06:35:04,342 - DEBUG - Disconnected from IBController
2018-02-27 06:35:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:40:00,265 - DEBUG - ****************************************************
2018-02-27 06:40:00,265 - DEBUG - Current Time is 06:40AM
2018-02-27 06:40:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:40:00,266 - DEBUG - Connecting to database
2018-02-27 06:40:00,302 - DEBUG - Connected to database
2018-02-27 06:40:00,303 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:00,304 - DEBUG - Order Profit is 0
2018-02-27 06:40:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:00,306 - DEBUG - Stop ID is 0
2018-02-27 06:40:00,306 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:00,307 - DEBUG - Entry ID is 233
2018-02-27 06:40:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:40:00,309 - DEBUG - OCA ID is 1
2018-02-27 06:40:00,309 - DEBUG - Connecting to IBController
2018-02-27 06:40:01,319 - DEBUG - Connected to IBController
2018-02-27 06:40:01,319 - DEBUG - Position requested
2018-02-27 06:40:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 06:40:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202CA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:40:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:40:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:40:01,324 - DEBUG - Position is -12987
2018-02-27 06:40:02,320 - DEBUG - Open Orders requested
2018-02-27 06:40:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202CAC8>, order=<ib.ext.Order.Order object at 0x000000000202CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C2128>>
2018-02-27 06:40:02,323 - DEBUG - Order OrderID 225
2018-02-27 06:40:02,323 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:40:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 06:40:02,324 - DEBUG - Order Identification 225
2018-02-27 06:40:02,324 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:40:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 06:40:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:40:02,325 - DEBUG - Stop ID database is 0
2018-02-27 06:40:02,325 - DEBUG - Entry ID database is 233
2018-02-27 06:40:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202CFD0>, order=<ib.ext.Order.Order object at 0x000000000202CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20F0>>
2018-02-27 06:40:02,327 - DEBUG - Order OrderID 232
2018-02-27 06:40:02,327 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:40:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 06:40:02,328 - DEBUG - Order Identification 232
2018-02-27 06:40:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:40:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 06:40:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:40:02,329 - DEBUG - Stop ID database is 0
2018-02-27 06:40:02,329 - DEBUG - Entry ID database is 233
2018-02-27 06:40:04,323 - DEBUG - Connecting to database
2018-02-27 06:40:04,331 - DEBUG - Connected to database
2018-02-27 06:40:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,333 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:40:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:40:04,337 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,337 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:40:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,339 - DEBUG - Stop quantity 1
2018-02-27 06:40:04,340 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,340 - DEBUG - Direction is Long
2018-02-27 06:40:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,342 - DEBUG - Count is 0
2018-02-27 06:40:04,343 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:40:04,344 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:40:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:40:04,345 - DEBUG - Max ID Order is (233,)
2018-02-27 06:40:04,346 - DEBUG - Today is 2018-02-27
2018-02-27 06:40:04,346 - DEBUG - Day of the week 1
2018-02-27 06:40:04,346 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:40:04,347 - DEBUG - In Position is  0
2018-02-27 06:40:04,347 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:40:04,347 - DEBUG - curStopLossFlag is  0
2018-02-27 06:40:04,347 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:40:04,348 - DEBUG - Checking if Entry has been filled
2018-02-27 06:40:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:40:04,350 - DEBUG - EntryPend is 1
2018-02-27 06:40:04,350 - DEBUG - Try to Cancel Stop
2018-02-27 06:40:04,350 - DEBUG - Stop API ID 0
2018-02-27 06:40:04,351 - DEBUG - Profit API ID 0
2018-02-27 06:40:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:40:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:40:04,351 - DEBUG - Pos is 0
2018-02-27 06:40:04,351 - DEBUG - CurCount is 0
2018-02-27 06:40:04,352 - DEBUG - In Pos 0
2018-02-27 06:40:04,352 - DEBUG - Stop ID is 0
2018-02-27 06:40:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:40:04,353 - DEBUG - EntryPend is 1
2018-02-27 06:40:04,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:40:04,354 - DEBUG - Entry Date is 10
2018-02-27 06:40:04,354 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:40:04,354 - DEBUG - Order Profit ID is 0
2018-02-27 06:40:04,355 - DEBUG - Order Entry ID is 233
2018-02-27 06:40:04,355 - DEBUG - API ID is  0
2018-02-27 06:40:04,355 - DEBUG - Current Position is 0
2018-02-27 06:40:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:40:04,356 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:40:04,356 - DEBUG - Time is 6
2018-02-27 06:40:04,356 - DEBUG - Time is <class 'int'>
2018-02-27 06:40:04,356 - DEBUG - Disconnected from IBController
2018-02-27 06:40:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:45:00,263 - DEBUG - ****************************************************
2018-02-27 06:45:00,263 - DEBUG - Current Time is 06:45AM
2018-02-27 06:45:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:45:00,264 - DEBUG - Connecting to database
2018-02-27 06:45:00,294 - DEBUG - Connected to database
2018-02-27 06:45:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:00,296 - DEBUG - Order Profit is 0
2018-02-27 06:45:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:00,297 - DEBUG - Stop ID is 0
2018-02-27 06:45:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:00,299 - DEBUG - Entry ID is 233
2018-02-27 06:45:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:45:00,301 - DEBUG - OCA ID is 1
2018-02-27 06:45:00,301 - DEBUG - Connecting to IBController
2018-02-27 06:45:01,315 - DEBUG - Connected to IBController
2018-02-27 06:45:01,315 - DEBUG - Position requested
2018-02-27 06:45:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 06:45:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:45:01,320 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:45:01,320 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:45:01,320 - DEBUG - Position is -12987
2018-02-27 06:45:02,319 - DEBUG - Open Orders requested
2018-02-27 06:45:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208CDA0>, order=<ib.ext.Order.Order object at 0x000000000208CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 06:45:02,332 - DEBUG - Order OrderID 225
2018-02-27 06:45:02,333 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:45:02,333 - DEBUG - Order status PreSubmitted
2018-02-27 06:45:02,333 - DEBUG - Order Identification 225
2018-02-27 06:45:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:45:02,334 - DEBUG - Profit ID from database is 0
2018-02-27 06:45:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:45:02,334 - DEBUG - Stop ID database is 0
2018-02-27 06:45:02,335 - DEBUG - Entry ID database is 233
2018-02-27 06:45:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208CFD0>, order=<ib.ext.Order.Order object at 0x000000000208CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 06:45:02,336 - DEBUG - Order OrderID 232
2018-02-27 06:45:02,337 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:45:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 06:45:02,337 - DEBUG - Order Identification 232
2018-02-27 06:45:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:45:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 06:45:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:45:02,338 - DEBUG - Stop ID database is 0
2018-02-27 06:45:02,338 - DEBUG - Entry ID database is 233
2018-02-27 06:45:04,320 - DEBUG - Connecting to database
2018-02-27 06:45:04,327 - DEBUG - Connected to database
2018-02-27 06:45:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,329 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:45:04,331 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,331 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:45:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,333 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:45:04,334 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,334 - DEBUG - Stop quantity 1
2018-02-27 06:45:04,336 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,336 - DEBUG - Direction is Long
2018-02-27 06:45:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,338 - DEBUG - Count is 0
2018-02-27 06:45:04,339 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:45:04,340 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:45:04,341 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:45:04,341 - DEBUG - Max ID Order is (233,)
2018-02-27 06:45:04,342 - DEBUG - Today is 2018-02-27
2018-02-27 06:45:04,342 - DEBUG - Day of the week 1
2018-02-27 06:45:04,342 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:45:04,343 - DEBUG - In Position is  0
2018-02-27 06:45:04,343 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:45:04,343 - DEBUG - curStopLossFlag is  0
2018-02-27 06:45:04,343 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:45:04,344 - DEBUG - Checking if Entry has been filled
2018-02-27 06:45:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:45:04,345 - DEBUG - EntryPend is 1
2018-02-27 06:45:04,345 - DEBUG - Try to Cancel Stop
2018-02-27 06:45:04,346 - DEBUG - Stop API ID 0
2018-02-27 06:45:04,346 - DEBUG - Profit API ID 0
2018-02-27 06:45:04,346 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:45:04,346 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:45:04,347 - DEBUG - Pos is 0
2018-02-27 06:45:04,347 - DEBUG - CurCount is 0
2018-02-27 06:45:04,347 - DEBUG - In Pos 0
2018-02-27 06:45:04,347 - DEBUG - Stop ID is 0
2018-02-27 06:45:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:45:04,349 - DEBUG - EntryPend is 1
2018-02-27 06:45:04,349 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:45:04,349 - DEBUG - Entry Date is 10
2018-02-27 06:45:04,350 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:45:04,350 - DEBUG - Order Profit ID is 0
2018-02-27 06:45:04,350 - DEBUG - Order Entry ID is 233
2018-02-27 06:45:04,350 - DEBUG - API ID is  0
2018-02-27 06:45:04,350 - DEBUG - Current Position is 0
2018-02-27 06:45:04,351 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:45:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:45:04,351 - DEBUG - Time is 6
2018-02-27 06:45:04,351 - DEBUG - Time is <class 'int'>
2018-02-27 06:45:04,352 - DEBUG - Disconnected from IBController
2018-02-27 06:45:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:50:00,266 - DEBUG - ****************************************************
2018-02-27 06:50:00,266 - DEBUG - Current Time is 06:50AM
2018-02-27 06:50:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:50:00,267 - DEBUG - Connecting to database
2018-02-27 06:50:00,313 - DEBUG - Connected to database
2018-02-27 06:50:00,314 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:00,315 - DEBUG - Order Profit is 0
2018-02-27 06:50:00,316 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:00,317 - DEBUG - Stop ID is 0
2018-02-27 06:50:00,317 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:00,319 - DEBUG - Entry ID is 233
2018-02-27 06:50:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:50:00,320 - DEBUG - OCA ID is 1
2018-02-27 06:50:00,321 - DEBUG - Connecting to IBController
2018-02-27 06:50:01,328 - DEBUG - Connected to IBController
2018-02-27 06:50:01,328 - DEBUG - Position requested
2018-02-27 06:50:01,333 - DEBUG - Pos Mgmt -12987
2018-02-27 06:50:01,333 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:50:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:50:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:50:01,334 - DEBUG - Position is -12987
2018-02-27 06:50:02,329 - DEBUG - Open Orders requested
2018-02-27 06:50:02,333 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-27 06:50:02,334 - DEBUG - Order OrderID 225
2018-02-27 06:50:02,335 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:50:02,335 - DEBUG - Order status PreSubmitted
2018-02-27 06:50:02,335 - DEBUG - Order Identification 225
2018-02-27 06:50:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:50:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 06:50:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:50:02,336 - DEBUG - Stop ID database is 0
2018-02-27 06:50:02,337 - DEBUG - Entry ID database is 233
2018-02-27 06:50:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DF60>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 06:50:02,345 - DEBUG - Order OrderID 232
2018-02-27 06:50:02,346 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:50:02,346 - DEBUG - Order status PreSubmitted
2018-02-27 06:50:02,347 - DEBUG - Order Identification 232
2018-02-27 06:50:02,347 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:50:02,347 - DEBUG - Profit ID from database is 0
2018-02-27 06:50:02,347 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:50:02,348 - DEBUG - Stop ID database is 0
2018-02-27 06:50:02,348 - DEBUG - Entry ID database is 233
2018-02-27 06:50:04,332 - DEBUG - Connecting to database
2018-02-27 06:50:04,340 - DEBUG - Connected to database
2018-02-27 06:50:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,342 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:50:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,344 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:50:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,345 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:50:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,347 - DEBUG - Stop quantity 1
2018-02-27 06:50:04,349 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,349 - DEBUG - Direction is Long
2018-02-27 06:50:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,351 - DEBUG - Count is 0
2018-02-27 06:50:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:50:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:50:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:50:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 06:50:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 06:50:04,355 - DEBUG - Day of the week 1
2018-02-27 06:50:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:50:04,355 - DEBUG - In Position is  0
2018-02-27 06:50:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:50:04,356 - DEBUG - curStopLossFlag is  0
2018-02-27 06:50:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:50:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 06:50:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:50:04,358 - DEBUG - EntryPend is 1
2018-02-27 06:50:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 06:50:04,358 - DEBUG - Stop API ID 0
2018-02-27 06:50:04,359 - DEBUG - Profit API ID 0
2018-02-27 06:50:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:50:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:50:04,359 - DEBUG - Pos is 0
2018-02-27 06:50:04,360 - DEBUG - CurCount is 0
2018-02-27 06:50:04,360 - DEBUG - In Pos 0
2018-02-27 06:50:04,360 - DEBUG - Stop ID is 0
2018-02-27 06:50:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:50:04,362 - DEBUG - EntryPend is 1
2018-02-27 06:50:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:50:04,362 - DEBUG - Entry Date is 10
2018-02-27 06:50:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:50:04,363 - DEBUG - Order Profit ID is 0
2018-02-27 06:50:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 06:50:04,363 - DEBUG - API ID is  0
2018-02-27 06:50:04,364 - DEBUG - Current Position is 0
2018-02-27 06:50:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:50:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:50:04,364 - DEBUG - Time is 6
2018-02-27 06:50:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 06:50:04,365 - DEBUG - Disconnected from IBController
2018-02-27 06:50:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 06:55:00,258 - DEBUG - ****************************************************
2018-02-27 06:55:00,258 - DEBUG - Current Time is 06:55AM
2018-02-27 06:55:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 06:55:00,259 - DEBUG - Connecting to database
2018-02-27 06:55:00,343 - DEBUG - Connected to database
2018-02-27 06:55:00,343 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:00,345 - DEBUG - Order Profit is 0
2018-02-27 06:55:00,345 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:00,346 - DEBUG - Stop ID is 0
2018-02-27 06:55:00,347 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:00,348 - DEBUG - Entry ID is 233
2018-02-27 06:55:00,348 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 06:55:00,349 - DEBUG - OCA ID is 1
2018-02-27 06:55:00,350 - DEBUG - Connecting to IBController
2018-02-27 06:55:01,360 - DEBUG - Connected to IBController
2018-02-27 06:55:01,360 - DEBUG - Position requested
2018-02-27 06:55:01,364 - DEBUG - Pos Mgmt -12987
2018-02-27 06:55:01,364 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 06:55:01,364 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 06:55:01,365 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 06:55:01,365 - DEBUG - Position is -12987
2018-02-27 06:55:02,360 - DEBUG - Open Orders requested
2018-02-27 06:55:02,362 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CDD8>, order=<ib.ext.Order.Order object at 0x000000000205CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-27 06:55:02,363 - DEBUG - Order OrderID 225
2018-02-27 06:55:02,363 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:55:02,364 - DEBUG - Order status PreSubmitted
2018-02-27 06:55:02,364 - DEBUG - Order Identification 225
2018-02-27 06:55:02,364 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:55:02,364 - DEBUG - Profit ID from database is 0
2018-02-27 06:55:02,365 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:55:02,365 - DEBUG - Stop ID database is 0
2018-02-27 06:55:02,365 - DEBUG - Entry ID database is 233
2018-02-27 06:55:02,366 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205CEF0>, order=<ib.ext.Order.Order object at 0x000000000205CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-27 06:55:02,366 - DEBUG - Order OrderID 232
2018-02-27 06:55:02,367 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 06:55:02,367 - DEBUG - Order status PreSubmitted
2018-02-27 06:55:02,368 - DEBUG - Order Identification 232
2018-02-27 06:55:02,368 - DEBUG - Order Identification <class 'int'>
2018-02-27 06:55:02,368 - DEBUG - Profit ID from database is 0
2018-02-27 06:55:02,368 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 06:55:02,369 - DEBUG - Stop ID database is 0
2018-02-27 06:55:02,369 - DEBUG - Entry ID database is 233
2018-02-27 06:55:04,360 - DEBUG - Connecting to database
2018-02-27 06:55:04,367 - DEBUG - Connected to database
2018-02-27 06:55:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,370 - DEBUG - Stop loss value is 2742.75
2018-02-27 06:55:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,371 - DEBUG - Stop loss value is 2797.0
2018-02-27 06:55:04,373 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,373 - DEBUG - EntryPrice value is 2787.5
2018-02-27 06:55:04,374 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,375 - DEBUG - Stop quantity 1
2018-02-27 06:55:04,376 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,376 - DEBUG - Direction is Long
2018-02-27 06:55:04,378 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,378 - DEBUG - Count is 0
2018-02-27 06:55:04,379 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 06:55:04,380 - DEBUG - Stop Loss Flag is 0
2018-02-27 06:55:04,381 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 06:55:04,381 - DEBUG - Max ID Order is (233,)
2018-02-27 06:55:04,382 - DEBUG - Today is 2018-02-27
2018-02-27 06:55:04,382 - DEBUG - Day of the week 1
2018-02-27 06:55:04,383 - DEBUG - Yesterday is 02/26/2018
2018-02-27 06:55:04,383 - DEBUG - In Position is  0
2018-02-27 06:55:04,383 - DEBUG - In Position is  <class 'int'>
2018-02-27 06:55:04,383 - DEBUG - curStopLossFlag is  0
2018-02-27 06:55:04,384 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 06:55:04,384 - DEBUG - Checking if Entry has been filled
2018-02-27 06:55:04,384 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:55:04,386 - DEBUG - EntryPend is 1
2018-02-27 06:55:04,386 - DEBUG - Try to Cancel Stop
2018-02-27 06:55:04,386 - DEBUG - Stop API ID 0
2018-02-27 06:55:04,386 - DEBUG - Profit API ID 0
2018-02-27 06:55:04,387 - DEBUG - Stop API ID <class 'int'>
2018-02-27 06:55:04,387 - DEBUG - Profit API ID <class 'int'>
2018-02-27 06:55:04,387 - DEBUG - Pos is 0
2018-02-27 06:55:04,387 - DEBUG - CurCount is 0
2018-02-27 06:55:04,387 - DEBUG - In Pos 0
2018-02-27 06:55:04,388 - DEBUG - Stop ID is 0
2018-02-27 06:55:04,388 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 06:55:04,389 - DEBUG - EntryPend is 1
2018-02-27 06:55:04,389 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 06:55:04,390 - DEBUG - Entry Date is 10
2018-02-27 06:55:04,390 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 06:55:04,390 - DEBUG - Order Profit ID is 0
2018-02-27 06:55:04,390 - DEBUG - Order Entry ID is 233
2018-02-27 06:55:04,391 - DEBUG - API ID is  0
2018-02-27 06:55:04,391 - DEBUG - Current Position is 0
2018-02-27 06:55:04,391 - DEBUG - Current Position is <class 'str'>
2018-02-27 06:55:04,391 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 06:55:04,391 - DEBUG - Time is 6
2018-02-27 06:55:04,392 - DEBUG - Time is <class 'int'>
2018-02-27 06:55:04,392 - DEBUG - Disconnected from IBController
2018-02-27 06:55:04,392 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:00:00,264 - DEBUG - ****************************************************
2018-02-27 07:00:00,265 - DEBUG - Current Time is 07:00AM
2018-02-27 07:00:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:00:00,266 - DEBUG - Connecting to database
2018-02-27 07:00:00,284 - DEBUG - Connected to database
2018-02-27 07:00:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:00,285 - DEBUG - Order Profit is 0
2018-02-27 07:00:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:00,287 - DEBUG - Stop ID is 0
2018-02-27 07:00:00,287 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:00,289 - DEBUG - Entry ID is 233
2018-02-27 07:00:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:00:00,291 - DEBUG - OCA ID is 1
2018-02-27 07:00:00,291 - DEBUG - Connecting to IBController
2018-02-27 07:00:01,299 - DEBUG - Connected to IBController
2018-02-27 07:00:01,299 - DEBUG - Position requested
2018-02-27 07:00:01,301 - DEBUG - Pos Mgmt -12987
2018-02-27 07:00:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:00:01,301 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:00:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:00:01,302 - DEBUG - Position is -12987
2018-02-27 07:00:02,300 - DEBUG - Open Orders requested
2018-02-27 07:00:02,302 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 07:00:02,303 - DEBUG - Order OrderID 225
2018-02-27 07:00:02,303 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:00:02,303 - DEBUG - Order status PreSubmitted
2018-02-27 07:00:02,304 - DEBUG - Order Identification 225
2018-02-27 07:00:02,304 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:00:02,304 - DEBUG - Profit ID from database is 0
2018-02-27 07:00:02,304 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:00:02,305 - DEBUG - Stop ID database is 0
2018-02-27 07:00:02,305 - DEBUG - Entry ID database is 233
2018-02-27 07:00:02,306 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-27 07:00:02,306 - DEBUG - Order OrderID 232
2018-02-27 07:00:02,307 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:00:02,307 - DEBUG - Order status PreSubmitted
2018-02-27 07:00:02,307 - DEBUG - Order Identification 232
2018-02-27 07:00:02,307 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:00:02,308 - DEBUG - Profit ID from database is 0
2018-02-27 07:00:02,308 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:00:02,308 - DEBUG - Stop ID database is 0
2018-02-27 07:00:02,308 - DEBUG - Entry ID database is 233
2018-02-27 07:00:04,302 - DEBUG - Connecting to database
2018-02-27 07:00:04,309 - DEBUG - Connected to database
2018-02-27 07:00:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,311 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:00:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:00:04,314 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:00:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,317 - DEBUG - Stop quantity 1
2018-02-27 07:00:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,318 - DEBUG - Direction is Long
2018-02-27 07:00:04,320 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,320 - DEBUG - Count is 0
2018-02-27 07:00:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:00:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:00:04,323 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:00:04,323 - DEBUG - Max ID Order is (233,)
2018-02-27 07:00:04,324 - DEBUG - Today is 2018-02-27
2018-02-27 07:00:04,324 - DEBUG - Day of the week 1
2018-02-27 07:00:04,324 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:00:04,325 - DEBUG - In Position is  0
2018-02-27 07:00:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:00:04,325 - DEBUG - curStopLossFlag is  0
2018-02-27 07:00:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:00:04,326 - DEBUG - Checking if Entry has been filled
2018-02-27 07:00:04,326 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:00:04,327 - DEBUG - EntryPend is 1
2018-02-27 07:00:04,327 - DEBUG - Try to Cancel Stop
2018-02-27 07:00:04,328 - DEBUG - Stop API ID 0
2018-02-27 07:00:04,328 - DEBUG - Profit API ID 0
2018-02-27 07:00:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:00:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:00:04,328 - DEBUG - Pos is 0
2018-02-27 07:00:04,329 - DEBUG - CurCount is 0
2018-02-27 07:00:04,329 - DEBUG - In Pos 0
2018-02-27 07:00:04,329 - DEBUG - Stop ID is 0
2018-02-27 07:00:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:00:04,331 - DEBUG - EntryPend is 1
2018-02-27 07:00:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:00:04,331 - DEBUG - Entry Date is 10
2018-02-27 07:00:04,331 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:00:04,332 - DEBUG - Order Profit ID is 0
2018-02-27 07:00:04,332 - DEBUG - Order Entry ID is 233
2018-02-27 07:00:04,332 - DEBUG - API ID is  0
2018-02-27 07:00:04,332 - DEBUG - Current Position is 0
2018-02-27 07:00:04,333 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:00:04,333 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:00:04,333 - DEBUG - Time is 7
2018-02-27 07:00:04,333 - DEBUG - Time is <class 'int'>
2018-02-27 07:00:04,334 - DEBUG - Disconnected from IBController
2018-02-27 07:00:04,334 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:05:00,261 - DEBUG - ****************************************************
2018-02-27 07:05:00,261 - DEBUG - Current Time is 07:05AM
2018-02-27 07:05:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:05:00,262 - DEBUG - Connecting to database
2018-02-27 07:05:00,314 - DEBUG - Connected to database
2018-02-27 07:05:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:00,316 - DEBUG - Order Profit is 0
2018-02-27 07:05:00,317 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:00,318 - DEBUG - Stop ID is 0
2018-02-27 07:05:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:00,320 - DEBUG - Entry ID is 233
2018-02-27 07:05:00,320 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:05:00,321 - DEBUG - OCA ID is 1
2018-02-27 07:05:00,322 - DEBUG - Connecting to IBController
2018-02-27 07:05:01,330 - DEBUG - Connected to IBController
2018-02-27 07:05:01,330 - DEBUG - Position requested
2018-02-27 07:05:01,332 - DEBUG - Pos Mgmt -12987
2018-02-27 07:05:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:05:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:05:01,333 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:05:01,333 - DEBUG - Position is -12987
2018-02-27 07:05:02,332 - DEBUG - Open Orders requested
2018-02-27 07:05:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, order=<ib.ext.Order.Order object at 0x000000000208DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 07:05:02,335 - DEBUG - Order OrderID 225
2018-02-27 07:05:02,335 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:05:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 07:05:02,336 - DEBUG - Order Identification 225
2018-02-27 07:05:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:05:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 07:05:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:05:02,337 - DEBUG - Stop ID database is 0
2018-02-27 07:05:02,337 - DEBUG - Entry ID database is 233
2018-02-27 07:05:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 07:05:02,339 - DEBUG - Order OrderID 232
2018-02-27 07:05:02,339 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:05:02,339 - DEBUG - Order status PreSubmitted
2018-02-27 07:05:02,340 - DEBUG - Order Identification 232
2018-02-27 07:05:02,340 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:05:02,340 - DEBUG - Profit ID from database is 0
2018-02-27 07:05:02,340 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:05:02,340 - DEBUG - Stop ID database is 0
2018-02-27 07:05:02,341 - DEBUG - Entry ID database is 233
2018-02-27 07:05:04,335 - DEBUG - Connecting to database
2018-02-27 07:05:04,342 - DEBUG - Connected to database
2018-02-27 07:05:04,344 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,344 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:05:04,346 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,346 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:05:04,347 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,348 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:05:04,349 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,349 - DEBUG - Stop quantity 1
2018-02-27 07:05:04,351 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,351 - DEBUG - Direction is Long
2018-02-27 07:05:04,352 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,353 - DEBUG - Count is 0
2018-02-27 07:05:04,354 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:05:04,354 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:05:04,356 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:05:04,356 - DEBUG - Max ID Order is (233,)
2018-02-27 07:05:04,356 - DEBUG - Today is 2018-02-27
2018-02-27 07:05:04,357 - DEBUG - Day of the week 1
2018-02-27 07:05:04,357 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:05:04,357 - DEBUG - In Position is  0
2018-02-27 07:05:04,358 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:05:04,358 - DEBUG - curStopLossFlag is  0
2018-02-27 07:05:04,358 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:05:04,358 - DEBUG - Checking if Entry has been filled
2018-02-27 07:05:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:05:04,360 - DEBUG - EntryPend is 1
2018-02-27 07:05:04,360 - DEBUG - Try to Cancel Stop
2018-02-27 07:05:04,361 - DEBUG - Stop API ID 0
2018-02-27 07:05:04,361 - DEBUG - Profit API ID 0
2018-02-27 07:05:04,361 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:05:04,361 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:05:04,362 - DEBUG - Pos is 0
2018-02-27 07:05:04,362 - DEBUG - CurCount is 0
2018-02-27 07:05:04,362 - DEBUG - In Pos 0
2018-02-27 07:05:04,362 - DEBUG - Stop ID is 0
2018-02-27 07:05:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:05:04,364 - DEBUG - EntryPend is 1
2018-02-27 07:05:04,364 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:05:04,364 - DEBUG - Entry Date is 10
2018-02-27 07:05:04,365 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:05:04,365 - DEBUG - Order Profit ID is 0
2018-02-27 07:05:04,365 - DEBUG - Order Entry ID is 233
2018-02-27 07:05:04,365 - DEBUG - API ID is  0
2018-02-27 07:05:04,365 - DEBUG - Current Position is 0
2018-02-27 07:05:04,366 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:05:04,366 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:05:04,366 - DEBUG - Time is 7
2018-02-27 07:05:04,366 - DEBUG - Time is <class 'int'>
2018-02-27 07:05:04,367 - DEBUG - Disconnected from IBController
2018-02-27 07:05:04,367 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:10:00,265 - DEBUG - ****************************************************
2018-02-27 07:10:00,266 - DEBUG - Current Time is 07:10AM
2018-02-27 07:10:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:10:00,266 - DEBUG - Connecting to database
2018-02-27 07:10:00,285 - DEBUG - Connected to database
2018-02-27 07:10:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:00,287 - DEBUG - Order Profit is 0
2018-02-27 07:10:00,287 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:00,288 - DEBUG - Stop ID is 0
2018-02-27 07:10:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:00,290 - DEBUG - Entry ID is 233
2018-02-27 07:10:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:10:00,292 - DEBUG - OCA ID is 1
2018-02-27 07:10:00,292 - DEBUG - Connecting to IBController
2018-02-27 07:10:01,300 - DEBUG - Connected to IBController
2018-02-27 07:10:01,300 - DEBUG - Position requested
2018-02-27 07:10:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 07:10:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:10:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:10:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:10:01,303 - DEBUG - Position is -12987
2018-02-27 07:10:02,301 - DEBUG - Open Orders requested
2018-02-27 07:10:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 07:10:02,304 - DEBUG - Order OrderID 225
2018-02-27 07:10:02,304 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:10:02,304 - DEBUG - Order status PreSubmitted
2018-02-27 07:10:02,305 - DEBUG - Order Identification 225
2018-02-27 07:10:02,305 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:10:02,305 - DEBUG - Profit ID from database is 0
2018-02-27 07:10:02,305 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:10:02,306 - DEBUG - Stop ID database is 0
2018-02-27 07:10:02,306 - DEBUG - Entry ID database is 233
2018-02-27 07:10:02,307 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-27 07:10:02,308 - DEBUG - Order OrderID 232
2018-02-27 07:10:02,308 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:10:02,308 - DEBUG - Order status PreSubmitted
2018-02-27 07:10:02,309 - DEBUG - Order Identification 232
2018-02-27 07:10:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:10:02,309 - DEBUG - Profit ID from database is 0
2018-02-27 07:10:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:10:02,310 - DEBUG - Stop ID database is 0
2018-02-27 07:10:02,310 - DEBUG - Entry ID database is 233
2018-02-27 07:10:04,303 - DEBUG - Connecting to database
2018-02-27 07:10:04,310 - DEBUG - Connected to database
2018-02-27 07:10:04,312 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,312 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:10:04,314 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,314 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:10:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,316 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:10:04,317 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,317 - DEBUG - Stop quantity 1
2018-02-27 07:10:04,319 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,319 - DEBUG - Direction is Long
2018-02-27 07:10:04,320 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,321 - DEBUG - Count is 0
2018-02-27 07:10:04,322 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:10:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:10:04,324 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:10:04,324 - DEBUG - Max ID Order is (233,)
2018-02-27 07:10:04,325 - DEBUG - Today is 2018-02-27
2018-02-27 07:10:04,325 - DEBUG - Day of the week 1
2018-02-27 07:10:04,325 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:10:04,325 - DEBUG - In Position is  0
2018-02-27 07:10:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:10:04,326 - DEBUG - curStopLossFlag is  0
2018-02-27 07:10:04,326 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:10:04,326 - DEBUG - Checking if Entry has been filled
2018-02-27 07:10:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:10:04,328 - DEBUG - EntryPend is 1
2018-02-27 07:10:04,328 - DEBUG - Try to Cancel Stop
2018-02-27 07:10:04,328 - DEBUG - Stop API ID 0
2018-02-27 07:10:04,329 - DEBUG - Profit API ID 0
2018-02-27 07:10:04,329 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:10:04,329 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:10:04,329 - DEBUG - Pos is 0
2018-02-27 07:10:04,330 - DEBUG - CurCount is 0
2018-02-27 07:10:04,330 - DEBUG - In Pos 0
2018-02-27 07:10:04,330 - DEBUG - Stop ID is 0
2018-02-27 07:10:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:10:04,332 - DEBUG - EntryPend is 1
2018-02-27 07:10:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:10:04,332 - DEBUG - Entry Date is 10
2018-02-27 07:10:04,332 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:10:04,333 - DEBUG - Order Profit ID is 0
2018-02-27 07:10:04,333 - DEBUG - Order Entry ID is 233
2018-02-27 07:10:04,333 - DEBUG - API ID is  0
2018-02-27 07:10:04,333 - DEBUG - Current Position is 0
2018-02-27 07:10:04,334 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:10:04,334 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:10:04,334 - DEBUG - Time is 7
2018-02-27 07:10:04,334 - DEBUG - Time is <class 'int'>
2018-02-27 07:10:04,335 - DEBUG - Disconnected from IBController
2018-02-27 07:10:04,336 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:15:00,256 - DEBUG - ****************************************************
2018-02-27 07:15:00,257 - DEBUG - Current Time is 07:15AM
2018-02-27 07:15:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:15:00,257 - DEBUG - Connecting to database
2018-02-27 07:15:00,286 - DEBUG - Connected to database
2018-02-27 07:15:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:00,288 - DEBUG - Order Profit is 0
2018-02-27 07:15:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:00,289 - DEBUG - Stop ID is 0
2018-02-27 07:15:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:00,291 - DEBUG - Entry ID is 233
2018-02-27 07:15:00,291 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:15:00,292 - DEBUG - OCA ID is 1
2018-02-27 07:15:00,293 - DEBUG - Connecting to IBController
2018-02-27 07:15:01,301 - DEBUG - Connected to IBController
2018-02-27 07:15:01,301 - DEBUG - Position requested
2018-02-27 07:15:01,303 - DEBUG - Pos Mgmt -12987
2018-02-27 07:15:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:15:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:15:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:15:01,304 - DEBUG - Position is -12987
2018-02-27 07:15:02,303 - DEBUG - Open Orders requested
2018-02-27 07:15:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDD30>, order=<ib.ext.Order.Order object at 0x00000000020BDBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151128>>
2018-02-27 07:15:02,306 - DEBUG - Order OrderID 225
2018-02-27 07:15:02,306 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:15:02,307 - DEBUG - Order status PreSubmitted
2018-02-27 07:15:02,307 - DEBUG - Order Identification 225
2018-02-27 07:15:02,307 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:15:02,307 - DEBUG - Profit ID from database is 0
2018-02-27 07:15:02,308 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:15:02,308 - DEBUG - Stop ID database is 0
2018-02-27 07:15:02,308 - DEBUG - Entry ID database is 233
2018-02-27 07:15:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020BDFD0>, order=<ib.ext.Order.Order object at 0x00000000020BDBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151048>>
2018-02-27 07:15:02,309 - DEBUG - Order OrderID 232
2018-02-27 07:15:02,310 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:15:02,310 - DEBUG - Order status PreSubmitted
2018-02-27 07:15:02,310 - DEBUG - Order Identification 232
2018-02-27 07:15:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:15:02,311 - DEBUG - Profit ID from database is 0
2018-02-27 07:15:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:15:02,311 - DEBUG - Stop ID database is 0
2018-02-27 07:15:02,312 - DEBUG - Entry ID database is 233
2018-02-27 07:15:04,305 - DEBUG - Connecting to database
2018-02-27 07:15:04,313 - DEBUG - Connected to database
2018-02-27 07:15:04,314 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,315 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:15:04,316 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,316 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:15:04,318 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,318 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:15:04,320 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,320 - DEBUG - Stop quantity 1
2018-02-27 07:15:04,321 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,322 - DEBUG - Direction is Long
2018-02-27 07:15:04,323 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,323 - DEBUG - Count is 0
2018-02-27 07:15:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:15:04,325 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:15:04,326 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:15:04,327 - DEBUG - Max ID Order is (233,)
2018-02-27 07:15:04,327 - DEBUG - Today is 2018-02-27
2018-02-27 07:15:04,327 - DEBUG - Day of the week 1
2018-02-27 07:15:04,328 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:15:04,328 - DEBUG - In Position is  0
2018-02-27 07:15:04,328 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:15:04,329 - DEBUG - curStopLossFlag is  0
2018-02-27 07:15:04,329 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:15:04,329 - DEBUG - Checking if Entry has been filled
2018-02-27 07:15:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:15:04,331 - DEBUG - EntryPend is 1
2018-02-27 07:15:04,331 - DEBUG - Try to Cancel Stop
2018-02-27 07:15:04,331 - DEBUG - Stop API ID 0
2018-02-27 07:15:04,331 - DEBUG - Profit API ID 0
2018-02-27 07:15:04,332 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:15:04,332 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:15:04,332 - DEBUG - Pos is 0
2018-02-27 07:15:04,332 - DEBUG - CurCount is 0
2018-02-27 07:15:04,333 - DEBUG - In Pos 0
2018-02-27 07:15:04,333 - DEBUG - Stop ID is 0
2018-02-27 07:15:04,333 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:15:04,335 - DEBUG - EntryPend is 1
2018-02-27 07:15:04,335 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:15:04,335 - DEBUG - Entry Date is 10
2018-02-27 07:15:04,335 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:15:04,336 - DEBUG - Order Profit ID is 0
2018-02-27 07:15:04,336 - DEBUG - Order Entry ID is 233
2018-02-27 07:15:04,336 - DEBUG - API ID is  0
2018-02-27 07:15:04,336 - DEBUG - Current Position is 0
2018-02-27 07:15:04,336 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:15:04,337 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:15:04,337 - DEBUG - Time is 7
2018-02-27 07:15:04,337 - DEBUG - Time is <class 'int'>
2018-02-27 07:15:04,337 - DEBUG - Disconnected from IBController
2018-02-27 07:15:04,338 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:20:00,265 - DEBUG - ****************************************************
2018-02-27 07:20:00,266 - DEBUG - Current Time is 07:20AM
2018-02-27 07:20:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:20:00,266 - DEBUG - Connecting to database
2018-02-27 07:20:00,292 - DEBUG - Connected to database
2018-02-27 07:20:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:00,294 - DEBUG - Order Profit is 0
2018-02-27 07:20:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:00,295 - DEBUG - Stop ID is 0
2018-02-27 07:20:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:00,297 - DEBUG - Entry ID is 233
2018-02-27 07:20:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:20:00,298 - DEBUG - OCA ID is 1
2018-02-27 07:20:00,299 - DEBUG - Connecting to IBController
2018-02-27 07:20:01,308 - DEBUG - Connected to IBController
2018-02-27 07:20:01,308 - DEBUG - Position requested
2018-02-27 07:20:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 07:20:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:20:01,310 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:20:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:20:01,311 - DEBUG - Position is -12987
2018-02-27 07:20:02,309 - DEBUG - Open Orders requested
2018-02-27 07:20:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, order=<ib.ext.Order.Order object at 0x000000000205DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 07:20:02,312 - DEBUG - Order OrderID 225
2018-02-27 07:20:02,312 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:20:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 07:20:02,313 - DEBUG - Order Identification 225
2018-02-27 07:20:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:20:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 07:20:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:20:02,314 - DEBUG - Stop ID database is 0
2018-02-27 07:20:02,314 - DEBUG - Entry ID database is 233
2018-02-27 07:20:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-27 07:20:02,315 - DEBUG - Order OrderID 232
2018-02-27 07:20:02,316 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:20:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 07:20:02,316 - DEBUG - Order Identification 232
2018-02-27 07:20:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:20:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 07:20:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:20:02,317 - DEBUG - Stop ID database is 0
2018-02-27 07:20:02,317 - DEBUG - Entry ID database is 233
2018-02-27 07:20:04,311 - DEBUG - Connecting to database
2018-02-27 07:20:04,318 - DEBUG - Connected to database
2018-02-27 07:20:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:20:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:20:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:20:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,325 - DEBUG - Stop quantity 1
2018-02-27 07:20:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,328 - DEBUG - Direction is Long
2018-02-27 07:20:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,330 - DEBUG - Count is 0
2018-02-27 07:20:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:20:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:20:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:20:04,333 - DEBUG - Max ID Order is (233,)
2018-02-27 07:20:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 07:20:04,334 - DEBUG - Day of the week 1
2018-02-27 07:20:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:20:04,335 - DEBUG - In Position is  0
2018-02-27 07:20:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:20:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 07:20:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:20:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 07:20:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:20:04,337 - DEBUG - EntryPend is 1
2018-02-27 07:20:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 07:20:04,338 - DEBUG - Stop API ID 0
2018-02-27 07:20:04,338 - DEBUG - Profit API ID 0
2018-02-27 07:20:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:20:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:20:04,339 - DEBUG - Pos is 0
2018-02-27 07:20:04,339 - DEBUG - CurCount is 0
2018-02-27 07:20:04,339 - DEBUG - In Pos 0
2018-02-27 07:20:04,339 - DEBUG - Stop ID is 0
2018-02-27 07:20:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:20:04,341 - DEBUG - EntryPend is 1
2018-02-27 07:20:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:20:04,342 - DEBUG - Entry Date is 10
2018-02-27 07:20:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:20:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 07:20:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 07:20:04,343 - DEBUG - API ID is  0
2018-02-27 07:20:04,343 - DEBUG - Current Position is 0
2018-02-27 07:20:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:20:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:20:04,343 - DEBUG - Time is 7
2018-02-27 07:20:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 07:20:04,344 - DEBUG - Disconnected from IBController
2018-02-27 07:20:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:25:00,258 - DEBUG - ****************************************************
2018-02-27 07:25:00,259 - DEBUG - Current Time is 07:25AM
2018-02-27 07:25:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:25:00,259 - DEBUG - Connecting to database
2018-02-27 07:25:00,283 - DEBUG - Connected to database
2018-02-27 07:25:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:00,285 - DEBUG - Order Profit is 0
2018-02-27 07:25:00,285 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:00,287 - DEBUG - Stop ID is 0
2018-02-27 07:25:00,287 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:00,288 - DEBUG - Entry ID is 233
2018-02-27 07:25:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:25:00,290 - DEBUG - OCA ID is 1
2018-02-27 07:25:00,290 - DEBUG - Connecting to IBController
2018-02-27 07:25:01,296 - DEBUG - Connected to IBController
2018-02-27 07:25:01,296 - DEBUG - Position requested
2018-02-27 07:25:01,298 - DEBUG - Pos Mgmt -12987
2018-02-27 07:25:01,298 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:25:01,298 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:25:01,299 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:25:01,299 - DEBUG - Position is -12987
2018-02-27 07:25:02,298 - DEBUG - Open Orders requested
2018-02-27 07:25:02,300 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, order=<ib.ext.Order.Order object at 0x000000000208DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 07:25:02,301 - DEBUG - Order OrderID 225
2018-02-27 07:25:02,301 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:25:02,302 - DEBUG - Order status PreSubmitted
2018-02-27 07:25:02,302 - DEBUG - Order Identification 225
2018-02-27 07:25:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:25:02,302 - DEBUG - Profit ID from database is 0
2018-02-27 07:25:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:25:02,303 - DEBUG - Stop ID database is 0
2018-02-27 07:25:02,303 - DEBUG - Entry ID database is 233
2018-02-27 07:25:02,304 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 07:25:02,305 - DEBUG - Order OrderID 232
2018-02-27 07:25:02,305 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:25:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 07:25:02,306 - DEBUG - Order Identification 232
2018-02-27 07:25:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:25:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 07:25:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:25:02,307 - DEBUG - Stop ID database is 0
2018-02-27 07:25:02,307 - DEBUG - Entry ID database is 233
2018-02-27 07:25:04,300 - DEBUG - Connecting to database
2018-02-27 07:25:04,307 - DEBUG - Connected to database
2018-02-27 07:25:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,309 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:25:04,310 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,311 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:25:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,312 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:25:04,314 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,314 - DEBUG - Stop quantity 1
2018-02-27 07:25:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,316 - DEBUG - Direction is Long
2018-02-27 07:25:04,317 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,317 - DEBUG - Count is 0
2018-02-27 07:25:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:25:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:25:04,320 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:25:04,321 - DEBUG - Max ID Order is (233,)
2018-02-27 07:25:04,321 - DEBUG - Today is 2018-02-27
2018-02-27 07:25:04,321 - DEBUG - Day of the week 1
2018-02-27 07:25:04,322 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:25:04,322 - DEBUG - In Position is  0
2018-02-27 07:25:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:25:04,322 - DEBUG - curStopLossFlag is  0
2018-02-27 07:25:04,323 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:25:04,323 - DEBUG - Checking if Entry has been filled
2018-02-27 07:25:04,323 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:25:04,324 - DEBUG - EntryPend is 1
2018-02-27 07:25:04,325 - DEBUG - Try to Cancel Stop
2018-02-27 07:25:04,325 - DEBUG - Stop API ID 0
2018-02-27 07:25:04,325 - DEBUG - Profit API ID 0
2018-02-27 07:25:04,325 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:25:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:25:04,326 - DEBUG - Pos is 0
2018-02-27 07:25:04,326 - DEBUG - CurCount is 0
2018-02-27 07:25:04,326 - DEBUG - In Pos 0
2018-02-27 07:25:04,327 - DEBUG - Stop ID is 0
2018-02-27 07:25:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:25:04,328 - DEBUG - EntryPend is 1
2018-02-27 07:25:04,329 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:25:04,329 - DEBUG - Entry Date is 10
2018-02-27 07:25:04,329 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:25:04,329 - DEBUG - Order Profit ID is 0
2018-02-27 07:25:04,330 - DEBUG - Order Entry ID is 233
2018-02-27 07:25:04,330 - DEBUG - API ID is  0
2018-02-27 07:25:04,330 - DEBUG - Current Position is 0
2018-02-27 07:25:04,330 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:25:04,331 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:25:04,331 - DEBUG - Time is 7
2018-02-27 07:25:04,331 - DEBUG - Time is <class 'int'>
2018-02-27 07:25:04,331 - DEBUG - Disconnected from IBController
2018-02-27 07:25:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:30:00,264 - DEBUG - ****************************************************
2018-02-27 07:30:00,264 - DEBUG - Current Time is 07:30AM
2018-02-27 07:30:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:30:00,265 - DEBUG - Connecting to database
2018-02-27 07:30:00,294 - DEBUG - Connected to database
2018-02-27 07:30:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:00,296 - DEBUG - Order Profit is 0
2018-02-27 07:30:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:00,297 - DEBUG - Stop ID is 0
2018-02-27 07:30:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:00,299 - DEBUG - Entry ID is 233
2018-02-27 07:30:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:30:00,300 - DEBUG - OCA ID is 1
2018-02-27 07:30:00,301 - DEBUG - Connecting to IBController
2018-02-27 07:30:01,307 - DEBUG - Connected to IBController
2018-02-27 07:30:01,307 - DEBUG - Position requested
2018-02-27 07:30:01,309 - DEBUG - Pos Mgmt -12987
2018-02-27 07:30:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:30:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:30:01,310 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:30:01,310 - DEBUG - Position is -12987
2018-02-27 07:30:02,308 - DEBUG - Open Orders requested
2018-02-27 07:30:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 07:30:02,311 - DEBUG - Order OrderID 225
2018-02-27 07:30:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:30:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 07:30:02,312 - DEBUG - Order Identification 225
2018-02-27 07:30:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:30:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 07:30:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:30:02,313 - DEBUG - Stop ID database is 0
2018-02-27 07:30:02,313 - DEBUG - Entry ID database is 233
2018-02-27 07:30:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 07:30:02,314 - DEBUG - Order OrderID 232
2018-02-27 07:30:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:30:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 07:30:02,315 - DEBUG - Order Identification 232
2018-02-27 07:30:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:30:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 07:30:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:30:02,316 - DEBUG - Stop ID database is 0
2018-02-27 07:30:02,316 - DEBUG - Entry ID database is 233
2018-02-27 07:30:04,310 - DEBUG - Connecting to database
2018-02-27 07:30:04,319 - DEBUG - Connected to database
2018-02-27 07:30:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:30:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:30:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:30:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,326 - DEBUG - Stop quantity 1
2018-02-27 07:30:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,328 - DEBUG - Direction is Long
2018-02-27 07:30:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,330 - DEBUG - Count is 0
2018-02-27 07:30:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:30:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:30:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:30:04,333 - DEBUG - Max ID Order is (233,)
2018-02-27 07:30:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 07:30:04,334 - DEBUG - Day of the week 1
2018-02-27 07:30:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:30:04,334 - DEBUG - In Position is  0
2018-02-27 07:30:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:30:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 07:30:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:30:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 07:30:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:30:04,337 - DEBUG - EntryPend is 1
2018-02-27 07:30:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 07:30:04,337 - DEBUG - Stop API ID 0
2018-02-27 07:30:04,337 - DEBUG - Profit API ID 0
2018-02-27 07:30:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:30:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:30:04,338 - DEBUG - Pos is 0
2018-02-27 07:30:04,338 - DEBUG - CurCount is 0
2018-02-27 07:30:04,339 - DEBUG - In Pos 0
2018-02-27 07:30:04,339 - DEBUG - Stop ID is 0
2018-02-27 07:30:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:30:04,341 - DEBUG - EntryPend is 1
2018-02-27 07:30:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:30:04,341 - DEBUG - Entry Date is 10
2018-02-27 07:30:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:30:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 07:30:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 07:30:04,342 - DEBUG - API ID is  0
2018-02-27 07:30:04,342 - DEBUG - Current Position is 0
2018-02-27 07:30:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:30:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:30:04,343 - DEBUG - Time is 7
2018-02-27 07:30:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 07:30:04,343 - DEBUG - Disconnected from IBController
2018-02-27 07:30:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:35:00,281 - DEBUG - ****************************************************
2018-02-27 07:35:00,282 - DEBUG - Current Time is 07:35AM
2018-02-27 07:35:00,282 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:35:00,282 - DEBUG - Connecting to database
2018-02-27 07:35:00,309 - DEBUG - Connected to database
2018-02-27 07:35:00,310 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:00,311 - DEBUG - Order Profit is 0
2018-02-27 07:35:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:00,313 - DEBUG - Stop ID is 0
2018-02-27 07:35:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:00,315 - DEBUG - Entry ID is 233
2018-02-27 07:35:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:35:00,316 - DEBUG - OCA ID is 1
2018-02-27 07:35:00,317 - DEBUG - Connecting to IBController
2018-02-27 07:35:01,323 - DEBUG - Connected to IBController
2018-02-27 07:35:01,323 - DEBUG - Position requested
2018-02-27 07:35:01,325 - DEBUG - Pos Mgmt -12987
2018-02-27 07:35:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CAC8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:35:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:35:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:35:01,326 - DEBUG - Position is -12987
2018-02-27 07:35:02,324 - DEBUG - Open Orders requested
2018-02-27 07:35:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-27 07:35:02,327 - DEBUG - Order OrderID 225
2018-02-27 07:35:02,327 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:35:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 07:35:02,328 - DEBUG - Order Identification 225
2018-02-27 07:35:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:35:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 07:35:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:35:02,329 - DEBUG - Stop ID database is 0
2018-02-27 07:35:02,329 - DEBUG - Entry ID database is 233
2018-02-27 07:35:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206CEF0>, order=<ib.ext.Order.Order object at 0x000000000206CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 07:35:02,331 - DEBUG - Order OrderID 232
2018-02-27 07:35:02,331 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:35:02,334 - DEBUG - Order status PreSubmitted
2018-02-27 07:35:02,335 - DEBUG - Order Identification 232
2018-02-27 07:35:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:35:02,335 - DEBUG - Profit ID from database is 0
2018-02-27 07:35:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:35:02,336 - DEBUG - Stop ID database is 0
2018-02-27 07:35:02,336 - DEBUG - Entry ID database is 233
2018-02-27 07:35:04,324 - DEBUG - Connecting to database
2018-02-27 07:35:04,331 - DEBUG - Connected to database
2018-02-27 07:35:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,333 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:35:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:35:04,336 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,337 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:35:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,338 - DEBUG - Stop quantity 1
2018-02-27 07:35:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,340 - DEBUG - Direction is Long
2018-02-27 07:35:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,341 - DEBUG - Count is 0
2018-02-27 07:35:04,343 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:35:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:35:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:35:04,345 - DEBUG - Max ID Order is (233,)
2018-02-27 07:35:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 07:35:04,346 - DEBUG - Day of the week 1
2018-02-27 07:35:04,346 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:35:04,346 - DEBUG - In Position is  0
2018-02-27 07:35:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:35:04,347 - DEBUG - curStopLossFlag is  0
2018-02-27 07:35:04,347 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:35:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 07:35:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:35:04,349 - DEBUG - EntryPend is 1
2018-02-27 07:35:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 07:35:04,349 - DEBUG - Stop API ID 0
2018-02-27 07:35:04,350 - DEBUG - Profit API ID 0
2018-02-27 07:35:04,350 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:35:04,350 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:35:04,350 - DEBUG - Pos is 0
2018-02-27 07:35:04,350 - DEBUG - CurCount is 0
2018-02-27 07:35:04,351 - DEBUG - In Pos 0
2018-02-27 07:35:04,351 - DEBUG - Stop ID is 0
2018-02-27 07:35:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:35:04,353 - DEBUG - EntryPend is 1
2018-02-27 07:35:04,353 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:35:04,353 - DEBUG - Entry Date is 10
2018-02-27 07:35:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:35:04,354 - DEBUG - Order Profit ID is 0
2018-02-27 07:35:04,354 - DEBUG - Order Entry ID is 233
2018-02-27 07:35:04,354 - DEBUG - API ID is  0
2018-02-27 07:35:04,354 - DEBUG - Current Position is 0
2018-02-27 07:35:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:35:04,355 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:35:04,355 - DEBUG - Time is 7
2018-02-27 07:35:04,355 - DEBUG - Time is <class 'int'>
2018-02-27 07:35:04,356 - DEBUG - Disconnected from IBController
2018-02-27 07:35:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:40:00,279 - DEBUG - ****************************************************
2018-02-27 07:40:00,280 - DEBUG - Current Time is 07:40AM
2018-02-27 07:40:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:40:00,281 - DEBUG - Connecting to database
2018-02-27 07:40:00,321 - DEBUG - Connected to database
2018-02-27 07:40:00,321 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:00,323 - DEBUG - Order Profit is 0
2018-02-27 07:40:00,323 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:00,329 - DEBUG - Stop ID is 0
2018-02-27 07:40:00,329 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:00,332 - DEBUG - Entry ID is 233
2018-02-27 07:40:00,332 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:40:00,335 - DEBUG - OCA ID is 1
2018-02-27 07:40:00,336 - DEBUG - Connecting to IBController
2018-02-27 07:40:01,345 - DEBUG - Connected to IBController
2018-02-27 07:40:01,345 - DEBUG - Position requested
2018-02-27 07:40:01,347 - DEBUG - Pos Mgmt -12987
2018-02-27 07:40:01,347 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:40:01,348 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:40:01,348 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:40:01,348 - DEBUG - Position is -12987
2018-02-27 07:40:02,346 - DEBUG - Open Orders requested
2018-02-27 07:40:02,348 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 07:40:02,349 - DEBUG - Order OrderID 225
2018-02-27 07:40:02,349 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:40:02,350 - DEBUG - Order status PreSubmitted
2018-02-27 07:40:02,350 - DEBUG - Order Identification 225
2018-02-27 07:40:02,350 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:40:02,351 - DEBUG - Profit ID from database is 0
2018-02-27 07:40:02,351 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:40:02,351 - DEBUG - Stop ID database is 0
2018-02-27 07:40:02,351 - DEBUG - Entry ID database is 233
2018-02-27 07:40:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210B8>>
2018-02-27 07:40:02,353 - DEBUG - Order OrderID 232
2018-02-27 07:40:02,353 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:40:02,353 - DEBUG - Order status PreSubmitted
2018-02-27 07:40:02,354 - DEBUG - Order Identification 232
2018-02-27 07:40:02,354 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:40:02,354 - DEBUG - Profit ID from database is 0
2018-02-27 07:40:02,354 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:40:02,355 - DEBUG - Stop ID database is 0
2018-02-27 07:40:02,355 - DEBUG - Entry ID database is 233
2018-02-27 07:40:04,349 - DEBUG - Connecting to database
2018-02-27 07:40:04,357 - DEBUG - Connected to database
2018-02-27 07:40:04,358 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,358 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:40:04,360 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,360 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:40:04,362 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,362 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:40:04,363 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,364 - DEBUG - Stop quantity 1
2018-02-27 07:40:04,365 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,365 - DEBUG - Direction is Long
2018-02-27 07:40:04,367 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,367 - DEBUG - Count is 0
2018-02-27 07:40:04,368 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:40:04,369 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:40:04,370 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:40:04,370 - DEBUG - Max ID Order is (233,)
2018-02-27 07:40:04,371 - DEBUG - Today is 2018-02-27
2018-02-27 07:40:04,371 - DEBUG - Day of the week 1
2018-02-27 07:40:04,371 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:40:04,372 - DEBUG - In Position is  0
2018-02-27 07:40:04,372 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:40:04,372 - DEBUG - curStopLossFlag is  0
2018-02-27 07:40:04,372 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:40:04,373 - DEBUG - Checking if Entry has been filled
2018-02-27 07:40:04,373 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:40:04,374 - DEBUG - EntryPend is 1
2018-02-27 07:40:04,374 - DEBUG - Try to Cancel Stop
2018-02-27 07:40:04,375 - DEBUG - Stop API ID 0
2018-02-27 07:40:04,375 - DEBUG - Profit API ID 0
2018-02-27 07:40:04,375 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:40:04,375 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:40:04,376 - DEBUG - Pos is 0
2018-02-27 07:40:04,376 - DEBUG - CurCount is 0
2018-02-27 07:40:04,376 - DEBUG - In Pos 0
2018-02-27 07:40:04,376 - DEBUG - Stop ID is 0
2018-02-27 07:40:04,376 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:40:04,378 - DEBUG - EntryPend is 1
2018-02-27 07:40:04,378 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:40:04,378 - DEBUG - Entry Date is 10
2018-02-27 07:40:04,379 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:40:04,379 - DEBUG - Order Profit ID is 0
2018-02-27 07:40:04,379 - DEBUG - Order Entry ID is 233
2018-02-27 07:40:04,379 - DEBUG - API ID is  0
2018-02-27 07:40:04,380 - DEBUG - Current Position is 0
2018-02-27 07:40:04,380 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:40:04,380 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:40:04,380 - DEBUG - Time is 7
2018-02-27 07:40:04,380 - DEBUG - Time is <class 'int'>
2018-02-27 07:40:04,381 - DEBUG - Disconnected from IBController
2018-02-27 07:40:04,381 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:45:00,260 - DEBUG - ****************************************************
2018-02-27 07:45:00,260 - DEBUG - Current Time is 07:45AM
2018-02-27 07:45:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:45:00,261 - DEBUG - Connecting to database
2018-02-27 07:45:00,301 - DEBUG - Connected to database
2018-02-27 07:45:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:00,305 - DEBUG - Order Profit is 0
2018-02-27 07:45:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:00,307 - DEBUG - Stop ID is 0
2018-02-27 07:45:00,307 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:00,308 - DEBUG - Entry ID is 233
2018-02-27 07:45:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:45:00,310 - DEBUG - OCA ID is 1
2018-02-27 07:45:00,310 - DEBUG - Connecting to IBController
2018-02-27 07:45:01,317 - DEBUG - Connected to IBController
2018-02-27 07:45:01,317 - DEBUG - Position requested
2018-02-27 07:45:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 07:45:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:45:01,320 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:45:01,320 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:45:01,320 - DEBUG - Position is -12987
2018-02-27 07:45:02,317 - DEBUG - Open Orders requested
2018-02-27 07:45:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDDA0>, order=<ib.ext.Order.Order object at 0x00000000020BDBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510B8>>
2018-02-27 07:45:02,320 - DEBUG - Order OrderID 225
2018-02-27 07:45:02,320 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:45:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 07:45:02,321 - DEBUG - Order Identification 225
2018-02-27 07:45:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:45:02,322 - DEBUG - Profit ID from database is 0
2018-02-27 07:45:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:45:02,322 - DEBUG - Stop ID database is 0
2018-02-27 07:45:02,322 - DEBUG - Entry ID database is 233
2018-02-27 07:45:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020BDF98>, order=<ib.ext.Order.Order object at 0x00000000020BDBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002151128>>
2018-02-27 07:45:02,324 - DEBUG - Order OrderID 232
2018-02-27 07:45:02,324 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:45:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 07:45:02,325 - DEBUG - Order Identification 232
2018-02-27 07:45:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:45:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 07:45:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:45:02,326 - DEBUG - Stop ID database is 0
2018-02-27 07:45:02,326 - DEBUG - Entry ID database is 233
2018-02-27 07:45:04,317 - DEBUG - Connecting to database
2018-02-27 07:45:04,325 - DEBUG - Connected to database
2018-02-27 07:45:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:45:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:45:04,330 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:45:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,339 - DEBUG - Stop quantity 1
2018-02-27 07:45:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,348 - DEBUG - Direction is Long
2018-02-27 07:45:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,350 - DEBUG - Count is 0
2018-02-27 07:45:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:45:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:45:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:45:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 07:45:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 07:45:04,354 - DEBUG - Day of the week 1
2018-02-27 07:45:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:45:04,355 - DEBUG - In Position is  0
2018-02-27 07:45:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:45:04,355 - DEBUG - curStopLossFlag is  0
2018-02-27 07:45:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:45:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 07:45:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:45:04,359 - DEBUG - EntryPend is 1
2018-02-27 07:45:04,359 - DEBUG - Try to Cancel Stop
2018-02-27 07:45:04,359 - DEBUG - Stop API ID 0
2018-02-27 07:45:04,359 - DEBUG - Profit API ID 0
2018-02-27 07:45:04,360 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:45:04,360 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:45:04,360 - DEBUG - Pos is 0
2018-02-27 07:45:04,360 - DEBUG - CurCount is 0
2018-02-27 07:45:04,361 - DEBUG - In Pos 0
2018-02-27 07:45:04,361 - DEBUG - Stop ID is 0
2018-02-27 07:45:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:45:04,362 - DEBUG - EntryPend is 1
2018-02-27 07:45:04,363 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:45:04,363 - DEBUG - Entry Date is 10
2018-02-27 07:45:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:45:04,363 - DEBUG - Order Profit ID is 0
2018-02-27 07:45:04,364 - DEBUG - Order Entry ID is 233
2018-02-27 07:45:04,364 - DEBUG - API ID is  0
2018-02-27 07:45:04,364 - DEBUG - Current Position is 0
2018-02-27 07:45:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:45:04,365 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:45:04,365 - DEBUG - Time is 7
2018-02-27 07:45:04,365 - DEBUG - Time is <class 'int'>
2018-02-27 07:45:04,365 - DEBUG - Disconnected from IBController
2018-02-27 07:45:04,366 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:50:00,269 - DEBUG - ****************************************************
2018-02-27 07:50:00,269 - DEBUG - Current Time is 07:50AM
2018-02-27 07:50:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:50:00,270 - DEBUG - Connecting to database
2018-02-27 07:50:00,306 - DEBUG - Connected to database
2018-02-27 07:50:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:00,308 - DEBUG - Order Profit is 0
2018-02-27 07:50:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:00,310 - DEBUG - Stop ID is 0
2018-02-27 07:50:00,310 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:00,311 - DEBUG - Entry ID is 233
2018-02-27 07:50:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:50:00,313 - DEBUG - OCA ID is 1
2018-02-27 07:50:00,314 - DEBUG - Connecting to IBController
2018-02-27 07:50:01,321 - DEBUG - Connected to IBController
2018-02-27 07:50:01,321 - DEBUG - Position requested
2018-02-27 07:50:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 07:50:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:50:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:50:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:50:01,324 - DEBUG - Position is -12987
2018-02-27 07:50:02,322 - DEBUG - Open Orders requested
2018-02-27 07:50:02,324 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-27 07:50:02,325 - DEBUG - Order OrderID 225
2018-02-27 07:50:02,325 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:50:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 07:50:02,326 - DEBUG - Order Identification 225
2018-02-27 07:50:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:50:02,327 - DEBUG - Profit ID from database is 0
2018-02-27 07:50:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:50:02,327 - DEBUG - Stop ID database is 0
2018-02-27 07:50:02,327 - DEBUG - Entry ID database is 233
2018-02-27 07:50:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1080>>
2018-02-27 07:50:02,329 - DEBUG - Order OrderID 232
2018-02-27 07:50:02,329 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:50:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 07:50:02,330 - DEBUG - Order Identification 232
2018-02-27 07:50:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:50:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 07:50:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:50:02,330 - DEBUG - Stop ID database is 0
2018-02-27 07:50:02,331 - DEBUG - Entry ID database is 233
2018-02-27 07:50:04,325 - DEBUG - Connecting to database
2018-02-27 07:50:04,332 - DEBUG - Connected to database
2018-02-27 07:50:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,334 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:50:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,336 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:50:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:50:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,340 - DEBUG - Stop quantity 1
2018-02-27 07:50:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,342 - DEBUG - Direction is Long
2018-02-27 07:50:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,344 - DEBUG - Count is 0
2018-02-27 07:50:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:50:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:50:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:50:04,347 - DEBUG - Max ID Order is (233,)
2018-02-27 07:50:04,348 - DEBUG - Today is 2018-02-27
2018-02-27 07:50:04,348 - DEBUG - Day of the week 1
2018-02-27 07:50:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:50:04,349 - DEBUG - In Position is  0
2018-02-27 07:50:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:50:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 07:50:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:50:04,350 - DEBUG - Checking if Entry has been filled
2018-02-27 07:50:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:50:04,351 - DEBUG - EntryPend is 1
2018-02-27 07:50:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 07:50:04,352 - DEBUG - Stop API ID 0
2018-02-27 07:50:04,352 - DEBUG - Profit API ID 0
2018-02-27 07:50:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:50:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:50:04,353 - DEBUG - Pos is 0
2018-02-27 07:50:04,353 - DEBUG - CurCount is 0
2018-02-27 07:50:04,353 - DEBUG - In Pos 0
2018-02-27 07:50:04,353 - DEBUG - Stop ID is 0
2018-02-27 07:50:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:50:04,355 - DEBUG - EntryPend is 1
2018-02-27 07:50:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:50:04,355 - DEBUG - Entry Date is 10
2018-02-27 07:50:04,356 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:50:04,356 - DEBUG - Order Profit ID is 0
2018-02-27 07:50:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 07:50:04,356 - DEBUG - API ID is  0
2018-02-27 07:50:04,356 - DEBUG - Current Position is 0
2018-02-27 07:50:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:50:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:50:04,357 - DEBUG - Time is 7
2018-02-27 07:50:04,357 - DEBUG - Time is <class 'int'>
2018-02-27 07:50:04,358 - DEBUG - Disconnected from IBController
2018-02-27 07:50:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 07:55:00,267 - DEBUG - ****************************************************
2018-02-27 07:55:00,268 - DEBUG - Current Time is 07:55AM
2018-02-27 07:55:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 07:55:00,269 - DEBUG - Connecting to database
2018-02-27 07:55:00,295 - DEBUG - Connected to database
2018-02-27 07:55:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:00,297 - DEBUG - Order Profit is 0
2018-02-27 07:55:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:00,298 - DEBUG - Stop ID is 0
2018-02-27 07:55:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:00,300 - DEBUG - Entry ID is 233
2018-02-27 07:55:00,300 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 07:55:00,301 - DEBUG - OCA ID is 1
2018-02-27 07:55:00,302 - DEBUG - Connecting to IBController
2018-02-27 07:55:01,311 - DEBUG - Connected to IBController
2018-02-27 07:55:01,311 - DEBUG - Position requested
2018-02-27 07:55:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 07:55:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 07:55:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 07:55:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 07:55:01,314 - DEBUG - Position is -12987
2018-02-27 07:55:02,313 - DEBUG - Open Orders requested
2018-02-27 07:55:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, order=<ib.ext.Order.Order object at 0x000000000207DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 07:55:02,316 - DEBUG - Order OrderID 225
2018-02-27 07:55:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:55:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 07:55:02,317 - DEBUG - Order Identification 225
2018-02-27 07:55:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:55:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 07:55:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:55:02,318 - DEBUG - Stop ID database is 0
2018-02-27 07:55:02,318 - DEBUG - Entry ID database is 233
2018-02-27 07:55:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111048>>
2018-02-27 07:55:02,320 - DEBUG - Order OrderID 232
2018-02-27 07:55:02,320 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 07:55:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 07:55:02,321 - DEBUG - Order Identification 232
2018-02-27 07:55:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 07:55:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 07:55:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 07:55:02,322 - DEBUG - Stop ID database is 0
2018-02-27 07:55:02,322 - DEBUG - Entry ID database is 233
2018-02-27 07:55:04,316 - DEBUG - Connecting to database
2018-02-27 07:55:04,325 - DEBUG - Connected to database
2018-02-27 07:55:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 07:55:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 07:55:04,330 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 07:55:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,332 - DEBUG - Stop quantity 1
2018-02-27 07:55:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,334 - DEBUG - Direction is Long
2018-02-27 07:55:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,336 - DEBUG - Count is 0
2018-02-27 07:55:04,337 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 07:55:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-27 07:55:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 07:55:04,339 - DEBUG - Max ID Order is (233,)
2018-02-27 07:55:04,340 - DEBUG - Today is 2018-02-27
2018-02-27 07:55:04,340 - DEBUG - Day of the week 1
2018-02-27 07:55:04,340 - DEBUG - Yesterday is 02/26/2018
2018-02-27 07:55:04,341 - DEBUG - In Position is  0
2018-02-27 07:55:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-27 07:55:04,341 - DEBUG - curStopLossFlag is  0
2018-02-27 07:55:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 07:55:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 07:55:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:55:04,343 - DEBUG - EntryPend is 1
2018-02-27 07:55:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 07:55:04,344 - DEBUG - Stop API ID 0
2018-02-27 07:55:04,344 - DEBUG - Profit API ID 0
2018-02-27 07:55:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 07:55:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 07:55:04,344 - DEBUG - Pos is 0
2018-02-27 07:55:04,345 - DEBUG - CurCount is 0
2018-02-27 07:55:04,345 - DEBUG - In Pos 0
2018-02-27 07:55:04,345 - DEBUG - Stop ID is 0
2018-02-27 07:55:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 07:55:04,347 - DEBUG - EntryPend is 1
2018-02-27 07:55:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 07:55:04,347 - DEBUG - Entry Date is 10
2018-02-27 07:55:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 07:55:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 07:55:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 07:55:04,348 - DEBUG - API ID is  0
2018-02-27 07:55:04,349 - DEBUG - Current Position is 0
2018-02-27 07:55:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 07:55:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 07:55:04,349 - DEBUG - Time is 7
2018-02-27 07:55:04,349 - DEBUG - Time is <class 'int'>
2018-02-27 07:55:04,350 - DEBUG - Disconnected from IBController
2018-02-27 07:55:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:00:00,269 - DEBUG - ****************************************************
2018-02-27 08:00:00,270 - DEBUG - Current Time is 08:00AM
2018-02-27 08:00:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:00:00,271 - DEBUG - Connecting to database
2018-02-27 08:00:00,301 - DEBUG - Connected to database
2018-02-27 08:00:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:00,303 - DEBUG - Order Profit is 0
2018-02-27 08:00:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:00,305 - DEBUG - Stop ID is 0
2018-02-27 08:00:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:00,307 - DEBUG - Entry ID is 233
2018-02-27 08:00:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:00:00,309 - DEBUG - OCA ID is 1
2018-02-27 08:00:00,309 - DEBUG - Connecting to IBController
2018-02-27 08:00:01,319 - DEBUG - Connected to IBController
2018-02-27 08:00:01,319 - DEBUG - Position requested
2018-02-27 08:00:01,321 - DEBUG - Pos Mgmt -12987
2018-02-27 08:00:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:00:01,321 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:00:01,322 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:00:01,322 - DEBUG - Position is -12987
2018-02-27 08:00:02,320 - DEBUG - Open Orders requested
2018-02-27 08:00:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, order=<ib.ext.Order.Order object at 0x000000000203DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 08:00:02,322 - DEBUG - Order OrderID 225
2018-02-27 08:00:02,323 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:00:02,323 - DEBUG - Order status PreSubmitted
2018-02-27 08:00:02,324 - DEBUG - Order Identification 225
2018-02-27 08:00:02,324 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:00:02,324 - DEBUG - Profit ID from database is 0
2018-02-27 08:00:02,324 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:00:02,325 - DEBUG - Stop ID database is 0
2018-02-27 08:00:02,325 - DEBUG - Entry ID database is 233
2018-02-27 08:00:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1080>>
2018-02-27 08:00:02,326 - DEBUG - Order OrderID 232
2018-02-27 08:00:02,327 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:00:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 08:00:02,327 - DEBUG - Order Identification 232
2018-02-27 08:00:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:00:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 08:00:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:00:02,328 - DEBUG - Stop ID database is 0
2018-02-27 08:00:02,329 - DEBUG - Entry ID database is 233
2018-02-27 08:00:04,322 - DEBUG - Connecting to database
2018-02-27 08:00:04,331 - DEBUG - Connected to database
2018-02-27 08:00:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,334 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:00:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:00:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:00:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,340 - DEBUG - Stop quantity 1
2018-02-27 08:00:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,341 - DEBUG - Direction is Long
2018-02-27 08:00:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,343 - DEBUG - Count is 0
2018-02-27 08:00:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:00:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:00:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:00:04,346 - DEBUG - Max ID Order is (233,)
2018-02-27 08:00:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 08:00:04,347 - DEBUG - Day of the week 1
2018-02-27 08:00:04,347 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:00:04,348 - DEBUG - In Position is  0
2018-02-27 08:00:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:00:04,348 - DEBUG - curStopLossFlag is  0
2018-02-27 08:00:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:00:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 08:00:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:00:04,350 - DEBUG - EntryPend is 1
2018-02-27 08:00:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 08:00:04,351 - DEBUG - Stop API ID 0
2018-02-27 08:00:04,351 - DEBUG - Profit API ID 0
2018-02-27 08:00:04,351 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:00:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:00:04,352 - DEBUG - Pos is 0
2018-02-27 08:00:04,352 - DEBUG - CurCount is 0
2018-02-27 08:00:04,352 - DEBUG - In Pos 0
2018-02-27 08:00:04,352 - DEBUG - Stop ID is 0
2018-02-27 08:00:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:00:04,354 - DEBUG - EntryPend is 1
2018-02-27 08:00:04,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:00:04,354 - DEBUG - Entry Date is 10
2018-02-27 08:00:04,355 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:00:04,355 - DEBUG - Order Profit ID is 0
2018-02-27 08:00:04,355 - DEBUG - Order Entry ID is 233
2018-02-27 08:00:04,355 - DEBUG - API ID is  0
2018-02-27 08:00:04,355 - DEBUG - Current Position is 0
2018-02-27 08:00:04,356 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:00:04,356 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:00:04,356 - DEBUG - Time is 8
2018-02-27 08:00:04,356 - DEBUG - Time is <class 'int'>
2018-02-27 08:00:04,357 - DEBUG - Disconnected from IBController
2018-02-27 08:00:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:05:00,266 - DEBUG - ****************************************************
2018-02-27 08:05:00,267 - DEBUG - Current Time is 08:05AM
2018-02-27 08:05:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:05:00,268 - DEBUG - Connecting to database
2018-02-27 08:05:00,291 - DEBUG - Connected to database
2018-02-27 08:05:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:00,293 - DEBUG - Order Profit is 0
2018-02-27 08:05:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:00,295 - DEBUG - Stop ID is 0
2018-02-27 08:05:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:00,296 - DEBUG - Entry ID is 233
2018-02-27 08:05:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:05:00,298 - DEBUG - OCA ID is 1
2018-02-27 08:05:00,299 - DEBUG - Connecting to IBController
2018-02-27 08:05:01,314 - DEBUG - Connected to IBController
2018-02-27 08:05:01,314 - DEBUG - Position requested
2018-02-27 08:05:01,316 - DEBUG - Pos Mgmt -12987
2018-02-27 08:05:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:05:01,316 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:05:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:05:01,317 - DEBUG - Position is -12987
2018-02-27 08:05:02,316 - DEBUG - Open Orders requested
2018-02-27 08:05:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 08:05:02,319 - DEBUG - Order OrderID 225
2018-02-27 08:05:02,319 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:05:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 08:05:02,320 - DEBUG - Order Identification 225
2018-02-27 08:05:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:05:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 08:05:02,320 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:05:02,321 - DEBUG - Stop ID database is 0
2018-02-27 08:05:02,321 - DEBUG - Entry ID database is 233
2018-02-27 08:05:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111080>>
2018-02-27 08:05:02,322 - DEBUG - Order OrderID 232
2018-02-27 08:05:02,323 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:05:02,323 - DEBUG - Order status PreSubmitted
2018-02-27 08:05:02,328 - DEBUG - Order Identification 232
2018-02-27 08:05:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:05:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 08:05:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:05:02,329 - DEBUG - Stop ID database is 0
2018-02-27 08:05:02,329 - DEBUG - Entry ID database is 233
2018-02-27 08:05:04,318 - DEBUG - Connecting to database
2018-02-27 08:05:04,327 - DEBUG - Connected to database
2018-02-27 08:05:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,329 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:05:04,330 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,331 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:05:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,333 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:05:04,334 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,334 - DEBUG - Stop quantity 1
2018-02-27 08:05:04,336 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,336 - DEBUG - Direction is Long
2018-02-27 08:05:04,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,338 - DEBUG - Count is 0
2018-02-27 08:05:04,339 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:05:04,340 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:05:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:05:04,342 - DEBUG - Max ID Order is (233,)
2018-02-27 08:05:04,343 - DEBUG - Today is 2018-02-27
2018-02-27 08:05:04,343 - DEBUG - Day of the week 1
2018-02-27 08:05:04,343 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:05:04,344 - DEBUG - In Position is  0
2018-02-27 08:05:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:05:04,344 - DEBUG - curStopLossFlag is  0
2018-02-27 08:05:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:05:04,345 - DEBUG - Checking if Entry has been filled
2018-02-27 08:05:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:05:04,346 - DEBUG - EntryPend is 1
2018-02-27 08:05:04,347 - DEBUG - Try to Cancel Stop
2018-02-27 08:05:04,347 - DEBUG - Stop API ID 0
2018-02-27 08:05:04,347 - DEBUG - Profit API ID 0
2018-02-27 08:05:04,347 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:05:04,347 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:05:04,348 - DEBUG - Pos is 0
2018-02-27 08:05:04,348 - DEBUG - CurCount is 0
2018-02-27 08:05:04,348 - DEBUG - In Pos 0
2018-02-27 08:05:04,348 - DEBUG - Stop ID is 0
2018-02-27 08:05:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:05:04,350 - DEBUG - EntryPend is 1
2018-02-27 08:05:04,350 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:05:04,351 - DEBUG - Entry Date is 10
2018-02-27 08:05:04,351 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:05:04,351 - DEBUG - Order Profit ID is 0
2018-02-27 08:05:04,351 - DEBUG - Order Entry ID is 233
2018-02-27 08:05:04,352 - DEBUG - API ID is  0
2018-02-27 08:05:04,352 - DEBUG - Current Position is 0
2018-02-27 08:05:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:05:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:05:04,353 - DEBUG - Time is 8
2018-02-27 08:05:04,353 - DEBUG - Time is <class 'int'>
2018-02-27 08:05:04,353 - DEBUG - Disconnected from IBController
2018-02-27 08:05:04,353 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:10:00,264 - DEBUG - ****************************************************
2018-02-27 08:10:00,264 - DEBUG - Current Time is 08:10AM
2018-02-27 08:10:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:10:00,265 - DEBUG - Connecting to database
2018-02-27 08:10:00,304 - DEBUG - Connected to database
2018-02-27 08:10:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:00,307 - DEBUG - Order Profit is 0
2018-02-27 08:10:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:00,310 - DEBUG - Stop ID is 0
2018-02-27 08:10:00,311 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:00,313 - DEBUG - Entry ID is 233
2018-02-27 08:10:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:10:00,316 - DEBUG - OCA ID is 1
2018-02-27 08:10:00,316 - DEBUG - Connecting to IBController
2018-02-27 08:10:01,324 - DEBUG - Connected to IBController
2018-02-27 08:10:01,324 - DEBUG - Position requested
2018-02-27 08:10:01,326 - DEBUG - Pos Mgmt -12987
2018-02-27 08:10:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:10:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:10:01,327 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:10:01,327 - DEBUG - Position is -12987
2018-02-27 08:10:02,325 - DEBUG - Open Orders requested
2018-02-27 08:10:02,327 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CAC8>, order=<ib.ext.Order.Order object at 0x000000000205CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1128>>
2018-02-27 08:10:02,327 - DEBUG - Order OrderID 225
2018-02-27 08:10:02,328 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:10:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 08:10:02,329 - DEBUG - Order Identification 225
2018-02-27 08:10:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:10:02,329 - DEBUG - Profit ID from database is 0
2018-02-27 08:10:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:10:02,330 - DEBUG - Stop ID database is 0
2018-02-27 08:10:02,330 - DEBUG - Entry ID database is 233
2018-02-27 08:10:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205CFD0>, order=<ib.ext.Order.Order object at 0x000000000205CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-27 08:10:02,331 - DEBUG - Order OrderID 232
2018-02-27 08:10:02,332 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:10:02,332 - DEBUG - Order status PreSubmitted
2018-02-27 08:10:02,332 - DEBUG - Order Identification 232
2018-02-27 08:10:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:10:02,333 - DEBUG - Profit ID from database is 0
2018-02-27 08:10:02,333 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:10:02,333 - DEBUG - Stop ID database is 0
2018-02-27 08:10:02,333 - DEBUG - Entry ID database is 233
2018-02-27 08:10:04,327 - DEBUG - Connecting to database
2018-02-27 08:10:04,334 - DEBUG - Connected to database
2018-02-27 08:10:04,336 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,336 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:10:04,337 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,338 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:10:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,340 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:10:04,341 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,341 - DEBUG - Stop quantity 1
2018-02-27 08:10:04,343 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,343 - DEBUG - Direction is Long
2018-02-27 08:10:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,345 - DEBUG - Count is 0
2018-02-27 08:10:04,346 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:10:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:10:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:10:04,348 - DEBUG - Max ID Order is (233,)
2018-02-27 08:10:04,349 - DEBUG - Today is 2018-02-27
2018-02-27 08:10:04,349 - DEBUG - Day of the week 1
2018-02-27 08:10:04,349 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:10:04,349 - DEBUG - In Position is  0
2018-02-27 08:10:04,350 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:10:04,350 - DEBUG - curStopLossFlag is  0
2018-02-27 08:10:04,350 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:10:04,350 - DEBUG - Checking if Entry has been filled
2018-02-27 08:10:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:10:04,352 - DEBUG - EntryPend is 1
2018-02-27 08:10:04,352 - DEBUG - Try to Cancel Stop
2018-02-27 08:10:04,353 - DEBUG - Stop API ID 0
2018-02-27 08:10:04,353 - DEBUG - Profit API ID 0
2018-02-27 08:10:04,353 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:10:04,354 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:10:04,354 - DEBUG - Pos is 0
2018-02-27 08:10:04,354 - DEBUG - CurCount is 0
2018-02-27 08:10:04,354 - DEBUG - In Pos 0
2018-02-27 08:10:04,355 - DEBUG - Stop ID is 0
2018-02-27 08:10:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:10:04,356 - DEBUG - EntryPend is 1
2018-02-27 08:10:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:10:04,357 - DEBUG - Entry Date is 10
2018-02-27 08:10:04,357 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:10:04,357 - DEBUG - Order Profit ID is 0
2018-02-27 08:10:04,358 - DEBUG - Order Entry ID is 233
2018-02-27 08:10:04,358 - DEBUG - API ID is  0
2018-02-27 08:10:04,358 - DEBUG - Current Position is 0
2018-02-27 08:10:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:10:04,359 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:10:04,359 - DEBUG - Time is 8
2018-02-27 08:10:04,359 - DEBUG - Time is <class 'int'>
2018-02-27 08:10:04,359 - DEBUG - Disconnected from IBController
2018-02-27 08:10:04,360 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:15:00,245 - DEBUG - ****************************************************
2018-02-27 08:15:00,245 - DEBUG - Current Time is 08:15AM
2018-02-27 08:15:00,246 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:15:00,246 - DEBUG - Connecting to database
2018-02-27 08:15:00,270 - DEBUG - Connected to database
2018-02-27 08:15:00,270 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:00,272 - DEBUG - Order Profit is 0
2018-02-27 08:15:00,272 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:00,273 - DEBUG - Stop ID is 0
2018-02-27 08:15:00,274 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:00,275 - DEBUG - Entry ID is 233
2018-02-27 08:15:00,275 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:15:00,277 - DEBUG - OCA ID is 1
2018-02-27 08:15:00,277 - DEBUG - Connecting to IBController
2018-02-27 08:15:01,286 - DEBUG - Connected to IBController
2018-02-27 08:15:01,286 - DEBUG - Position requested
2018-02-27 08:15:01,288 - DEBUG - Pos Mgmt -12987
2018-02-27 08:15:01,288 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:15:01,288 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:15:01,289 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:15:01,289 - DEBUG - Position is -12987
2018-02-27 08:15:02,288 - DEBUG - Open Orders requested
2018-02-27 08:15:02,290 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CE10>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 08:15:02,291 - DEBUG - Order OrderID 225
2018-02-27 08:15:02,291 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:15:02,292 - DEBUG - Order status PreSubmitted
2018-02-27 08:15:02,292 - DEBUG - Order Identification 225
2018-02-27 08:15:02,292 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:15:02,292 - DEBUG - Profit ID from database is 0
2018-02-27 08:15:02,293 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:15:02,293 - DEBUG - Stop ID database is 0
2018-02-27 08:15:02,293 - DEBUG - Entry ID database is 233
2018-02-27 08:15:02,294 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CFD0>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-27 08:15:02,295 - DEBUG - Order OrderID 232
2018-02-27 08:15:02,295 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:15:02,295 - DEBUG - Order status PreSubmitted
2018-02-27 08:15:02,296 - DEBUG - Order Identification 232
2018-02-27 08:15:02,296 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:15:02,296 - DEBUG - Profit ID from database is 0
2018-02-27 08:15:02,296 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:15:02,296 - DEBUG - Stop ID database is 0
2018-02-27 08:15:02,297 - DEBUG - Entry ID database is 233
2018-02-27 08:15:04,290 - DEBUG - Connecting to database
2018-02-27 08:15:04,297 - DEBUG - Connected to database
2018-02-27 08:15:04,299 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,299 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:15:04,301 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,301 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:15:04,303 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,303 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:15:04,307 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,307 - DEBUG - Stop quantity 1
2018-02-27 08:15:04,309 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,309 - DEBUG - Direction is Long
2018-02-27 08:15:04,310 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,311 - DEBUG - Count is 0
2018-02-27 08:15:04,312 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:15:04,313 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:15:04,314 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:15:04,314 - DEBUG - Max ID Order is (233,)
2018-02-27 08:15:04,315 - DEBUG - Today is 2018-02-27
2018-02-27 08:15:04,315 - DEBUG - Day of the week 1
2018-02-27 08:15:04,315 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:15:04,316 - DEBUG - In Position is  0
2018-02-27 08:15:04,316 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:15:04,316 - DEBUG - curStopLossFlag is  0
2018-02-27 08:15:04,316 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:15:04,316 - DEBUG - Checking if Entry has been filled
2018-02-27 08:15:04,317 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:15:04,318 - DEBUG - EntryPend is 1
2018-02-27 08:15:04,318 - DEBUG - Try to Cancel Stop
2018-02-27 08:15:04,319 - DEBUG - Stop API ID 0
2018-02-27 08:15:04,319 - DEBUG - Profit API ID 0
2018-02-27 08:15:04,319 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:15:04,319 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:15:04,320 - DEBUG - Pos is 0
2018-02-27 08:15:04,320 - DEBUG - CurCount is 0
2018-02-27 08:15:04,320 - DEBUG - In Pos 0
2018-02-27 08:15:04,320 - DEBUG - Stop ID is 0
2018-02-27 08:15:04,321 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:15:04,322 - DEBUG - EntryPend is 1
2018-02-27 08:15:04,322 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:15:04,323 - DEBUG - Entry Date is 10
2018-02-27 08:15:04,323 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:15:04,323 - DEBUG - Order Profit ID is 0
2018-02-27 08:15:04,323 - DEBUG - Order Entry ID is 233
2018-02-27 08:15:04,324 - DEBUG - API ID is  0
2018-02-27 08:15:04,324 - DEBUG - Current Position is 0
2018-02-27 08:15:04,324 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:15:04,324 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:15:04,325 - DEBUG - Time is 8
2018-02-27 08:15:04,325 - DEBUG - Time is <class 'int'>
2018-02-27 08:15:04,325 - DEBUG - Disconnected from IBController
2018-02-27 08:15:04,326 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:20:00,262 - DEBUG - ****************************************************
2018-02-27 08:20:00,263 - DEBUG - Current Time is 08:20AM
2018-02-27 08:20:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:20:00,264 - DEBUG - Connecting to database
2018-02-27 08:20:00,294 - DEBUG - Connected to database
2018-02-27 08:20:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:00,296 - DEBUG - Order Profit is 0
2018-02-27 08:20:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:00,298 - DEBUG - Stop ID is 0
2018-02-27 08:20:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:00,299 - DEBUG - Entry ID is 233
2018-02-27 08:20:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:20:00,301 - DEBUG - OCA ID is 1
2018-02-27 08:20:00,301 - DEBUG - Connecting to IBController
2018-02-27 08:20:01,310 - DEBUG - Connected to IBController
2018-02-27 08:20:01,310 - DEBUG - Position requested
2018-02-27 08:20:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 08:20:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:20:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:20:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:20:01,313 - DEBUG - Position is -12987
2018-02-27 08:20:02,312 - DEBUG - Open Orders requested
2018-02-27 08:20:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205CCC0>, order=<ib.ext.Order.Order object at 0x000000000205CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 08:20:02,315 - DEBUG - Order OrderID 225
2018-02-27 08:20:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:20:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 08:20:02,316 - DEBUG - Order Identification 225
2018-02-27 08:20:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:20:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 08:20:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:20:02,317 - DEBUG - Stop ID database is 0
2018-02-27 08:20:02,317 - DEBUG - Entry ID database is 233
2018-02-27 08:20:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205CFD0>, order=<ib.ext.Order.Order object at 0x000000000205CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2080>>
2018-02-27 08:20:02,318 - DEBUG - Order OrderID 232
2018-02-27 08:20:02,319 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:20:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 08:20:02,319 - DEBUG - Order Identification 232
2018-02-27 08:20:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:20:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 08:20:02,320 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:20:02,320 - DEBUG - Stop ID database is 0
2018-02-27 08:20:02,321 - DEBUG - Entry ID database is 233
2018-02-27 08:20:04,314 - DEBUG - Connecting to database
2018-02-27 08:20:04,321 - DEBUG - Connected to database
2018-02-27 08:20:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:20:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:20:04,327 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:20:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,329 - DEBUG - Stop quantity 1
2018-02-27 08:20:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,331 - DEBUG - Direction is Long
2018-02-27 08:20:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,332 - DEBUG - Count is 0
2018-02-27 08:20:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:20:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:20:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:20:04,336 - DEBUG - Max ID Order is (233,)
2018-02-27 08:20:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 08:20:04,337 - DEBUG - Day of the week 1
2018-02-27 08:20:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:20:04,337 - DEBUG - In Position is  0
2018-02-27 08:20:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:20:04,338 - DEBUG - curStopLossFlag is  0
2018-02-27 08:20:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:20:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 08:20:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:20:04,340 - DEBUG - EntryPend is 1
2018-02-27 08:20:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 08:20:04,340 - DEBUG - Stop API ID 0
2018-02-27 08:20:04,340 - DEBUG - Profit API ID 0
2018-02-27 08:20:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:20:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:20:04,341 - DEBUG - Pos is 0
2018-02-27 08:20:04,341 - DEBUG - CurCount is 0
2018-02-27 08:20:04,342 - DEBUG - In Pos 0
2018-02-27 08:20:04,342 - DEBUG - Stop ID is 0
2018-02-27 08:20:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:20:04,343 - DEBUG - EntryPend is 1
2018-02-27 08:20:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:20:04,344 - DEBUG - Entry Date is 10
2018-02-27 08:20:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:20:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 08:20:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 08:20:04,345 - DEBUG - API ID is  0
2018-02-27 08:20:04,345 - DEBUG - Current Position is 0
2018-02-27 08:20:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:20:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:20:04,346 - DEBUG - Time is 8
2018-02-27 08:20:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 08:20:04,346 - DEBUG - Disconnected from IBController
2018-02-27 08:20:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:25:00,260 - DEBUG - ****************************************************
2018-02-27 08:25:00,260 - DEBUG - Current Time is 08:25AM
2018-02-27 08:25:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:25:00,261 - DEBUG - Connecting to database
2018-02-27 08:25:00,279 - DEBUG - Connected to database
2018-02-27 08:25:00,280 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:00,281 - DEBUG - Order Profit is 0
2018-02-27 08:25:00,282 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:00,283 - DEBUG - Stop ID is 0
2018-02-27 08:25:00,283 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:00,285 - DEBUG - Entry ID is 233
2018-02-27 08:25:00,285 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:25:00,286 - DEBUG - OCA ID is 1
2018-02-27 08:25:00,287 - DEBUG - Connecting to IBController
2018-02-27 08:25:01,293 - DEBUG - Connected to IBController
2018-02-27 08:25:01,293 - DEBUG - Position requested
2018-02-27 08:25:01,295 - DEBUG - Pos Mgmt -12987
2018-02-27 08:25:01,295 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:25:01,295 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:25:01,296 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:25:01,296 - DEBUG - Position is -12987
2018-02-27 08:25:02,294 - DEBUG - Open Orders requested
2018-02-27 08:25:02,296 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BAC8>, order=<ib.ext.Order.Order object at 0x000000000205BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0128>>
2018-02-27 08:25:02,300 - DEBUG - Order OrderID 225
2018-02-27 08:25:02,301 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:25:02,302 - DEBUG - Order status PreSubmitted
2018-02-27 08:25:02,302 - DEBUG - Order Identification 225
2018-02-27 08:25:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:25:02,303 - DEBUG - Profit ID from database is 0
2018-02-27 08:25:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:25:02,303 - DEBUG - Stop ID database is 0
2018-02-27 08:25:02,303 - DEBUG - Entry ID database is 233
2018-02-27 08:25:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205BFD0>, order=<ib.ext.Order.Order object at 0x000000000205BDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F0080>>
2018-02-27 08:25:02,305 - DEBUG - Order OrderID 232
2018-02-27 08:25:02,305 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:25:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 08:25:02,306 - DEBUG - Order Identification 232
2018-02-27 08:25:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:25:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 08:25:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:25:02,307 - DEBUG - Stop ID database is 0
2018-02-27 08:25:02,307 - DEBUG - Entry ID database is 233
2018-02-27 08:25:04,299 - DEBUG - Connecting to database
2018-02-27 08:25:04,307 - DEBUG - Connected to database
2018-02-27 08:25:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,308 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:25:04,310 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,310 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:25:04,312 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,312 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:25:04,313 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,314 - DEBUG - Stop quantity 1
2018-02-27 08:25:04,315 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,316 - DEBUG - Direction is Long
2018-02-27 08:25:04,317 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,317 - DEBUG - Count is 0
2018-02-27 08:25:04,319 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:25:04,319 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:25:04,320 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:25:04,321 - DEBUG - Max ID Order is (233,)
2018-02-27 08:25:04,321 - DEBUG - Today is 2018-02-27
2018-02-27 08:25:04,321 - DEBUG - Day of the week 1
2018-02-27 08:25:04,322 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:25:04,322 - DEBUG - In Position is  0
2018-02-27 08:25:04,322 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:25:04,322 - DEBUG - curStopLossFlag is  0
2018-02-27 08:25:04,323 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:25:04,323 - DEBUG - Checking if Entry has been filled
2018-02-27 08:25:04,323 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:25:04,325 - DEBUG - EntryPend is 1
2018-02-27 08:25:04,325 - DEBUG - Try to Cancel Stop
2018-02-27 08:25:04,325 - DEBUG - Stop API ID 0
2018-02-27 08:25:04,325 - DEBUG - Profit API ID 0
2018-02-27 08:25:04,326 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:25:04,326 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:25:04,326 - DEBUG - Pos is 0
2018-02-27 08:25:04,326 - DEBUG - CurCount is 0
2018-02-27 08:25:04,327 - DEBUG - In Pos 0
2018-02-27 08:25:04,327 - DEBUG - Stop ID is 0
2018-02-27 08:25:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:25:04,329 - DEBUG - EntryPend is 1
2018-02-27 08:25:04,329 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:25:04,329 - DEBUG - Entry Date is 10
2018-02-27 08:25:04,329 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:25:04,330 - DEBUG - Order Profit ID is 0
2018-02-27 08:25:04,330 - DEBUG - Order Entry ID is 233
2018-02-27 08:25:04,330 - DEBUG - API ID is  0
2018-02-27 08:25:04,330 - DEBUG - Current Position is 0
2018-02-27 08:25:04,330 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:25:04,331 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:25:04,331 - DEBUG - Time is 8
2018-02-27 08:25:04,331 - DEBUG - Time is <class 'int'>
2018-02-27 08:25:04,331 - DEBUG - Disconnected from IBController
2018-02-27 08:25:04,332 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:30:00,269 - DEBUG - ****************************************************
2018-02-27 08:30:00,269 - DEBUG - Current Time is 08:30AM
2018-02-27 08:30:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:30:00,270 - DEBUG - Connecting to database
2018-02-27 08:30:00,305 - DEBUG - Connected to database
2018-02-27 08:30:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:00,307 - DEBUG - Order Profit is 0
2018-02-27 08:30:00,307 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:00,309 - DEBUG - Stop ID is 0
2018-02-27 08:30:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:00,310 - DEBUG - Entry ID is 233
2018-02-27 08:30:00,310 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:30:00,312 - DEBUG - OCA ID is 1
2018-02-27 08:30:00,313 - DEBUG - Connecting to IBController
2018-02-27 08:30:01,323 - DEBUG - Connected to IBController
2018-02-27 08:30:01,323 - DEBUG - Position requested
2018-02-27 08:30:01,325 - DEBUG - Pos Mgmt -12987
2018-02-27 08:30:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:30:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:30:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:30:01,326 - DEBUG - Position is -12987
2018-02-27 08:30:02,324 - DEBUG - Open Orders requested
2018-02-27 08:30:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 08:30:02,336 - DEBUG - Order OrderID 225
2018-02-27 08:30:02,336 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:30:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 08:30:02,337 - DEBUG - Order Identification 225
2018-02-27 08:30:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:30:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 08:30:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:30:02,338 - DEBUG - Stop ID database is 0
2018-02-27 08:30:02,338 - DEBUG - Entry ID database is 233
2018-02-27 08:30:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111048>>
2018-02-27 08:30:02,340 - DEBUG - Order OrderID 232
2018-02-27 08:30:02,340 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:30:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 08:30:02,341 - DEBUG - Order Identification 232
2018-02-27 08:30:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:30:02,341 - DEBUG - Profit ID from database is 0
2018-02-27 08:30:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:30:02,342 - DEBUG - Stop ID database is 0
2018-02-27 08:30:02,342 - DEBUG - Entry ID database is 233
2018-02-27 08:30:04,335 - DEBUG - Connecting to database
2018-02-27 08:30:04,342 - DEBUG - Connected to database
2018-02-27 08:30:04,344 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,344 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:30:04,346 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,346 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:30:04,347 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,348 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:30:04,349 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,350 - DEBUG - Stop quantity 1
2018-02-27 08:30:04,351 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,351 - DEBUG - Direction is Long
2018-02-27 08:30:04,353 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,353 - DEBUG - Count is 0
2018-02-27 08:30:04,354 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:30:04,355 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:30:04,356 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:30:04,357 - DEBUG - Max ID Order is (233,)
2018-02-27 08:30:04,357 - DEBUG - Today is 2018-02-27
2018-02-27 08:30:04,357 - DEBUG - Day of the week 1
2018-02-27 08:30:04,358 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:30:04,358 - DEBUG - In Position is  0
2018-02-27 08:30:04,358 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:30:04,358 - DEBUG - curStopLossFlag is  0
2018-02-27 08:30:04,359 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:30:04,359 - DEBUG - Checking if Entry has been filled
2018-02-27 08:30:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:30:04,360 - DEBUG - EntryPend is 1
2018-02-27 08:30:04,361 - DEBUG - Try to Cancel Stop
2018-02-27 08:30:04,361 - DEBUG - Stop API ID 0
2018-02-27 08:30:04,361 - DEBUG - Profit API ID 0
2018-02-27 08:30:04,361 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:30:04,362 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:30:04,362 - DEBUG - Pos is 0
2018-02-27 08:30:04,362 - DEBUG - CurCount is 0
2018-02-27 08:30:04,362 - DEBUG - In Pos 0
2018-02-27 08:30:04,362 - DEBUG - Stop ID is 0
2018-02-27 08:30:04,363 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:30:04,364 - DEBUG - EntryPend is 1
2018-02-27 08:30:04,364 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:30:04,365 - DEBUG - Entry Date is 10
2018-02-27 08:30:04,365 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:30:04,365 - DEBUG - Order Profit ID is 0
2018-02-27 08:30:04,365 - DEBUG - Order Entry ID is 233
2018-02-27 08:30:04,365 - DEBUG - API ID is  0
2018-02-27 08:30:04,366 - DEBUG - Current Position is 0
2018-02-27 08:30:04,366 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:30:04,366 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:30:04,366 - DEBUG - Time is 8
2018-02-27 08:30:04,367 - DEBUG - Time is <class 'int'>
2018-02-27 08:30:04,367 - DEBUG - Disconnected from IBController
2018-02-27 08:30:04,367 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:35:00,266 - DEBUG - ****************************************************
2018-02-27 08:35:00,267 - DEBUG - Current Time is 08:35AM
2018-02-27 08:35:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:35:00,267 - DEBUG - Connecting to database
2018-02-27 08:35:00,308 - DEBUG - Connected to database
2018-02-27 08:35:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:00,310 - DEBUG - Order Profit is 0
2018-02-27 08:35:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:00,311 - DEBUG - Stop ID is 0
2018-02-27 08:35:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:00,313 - DEBUG - Entry ID is 233
2018-02-27 08:35:00,313 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:35:00,314 - DEBUG - OCA ID is 1
2018-02-27 08:35:00,315 - DEBUG - Connecting to IBController
2018-02-27 08:35:01,321 - DEBUG - Connected to IBController
2018-02-27 08:35:01,321 - DEBUG - Position requested
2018-02-27 08:35:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 08:35:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:35:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:35:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:35:01,324 - DEBUG - Position is -12987
2018-02-27 08:35:02,322 - DEBUG - Open Orders requested
2018-02-27 08:35:02,324 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206BA90>, order=<ib.ext.Order.Order object at 0x000000000206BCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021000B8>>
2018-02-27 08:35:02,325 - DEBUG - Order OrderID 225
2018-02-27 08:35:02,325 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:35:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 08:35:02,326 - DEBUG - Order Identification 225
2018-02-27 08:35:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:35:02,326 - DEBUG - Profit ID from database is 0
2018-02-27 08:35:02,327 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:35:02,327 - DEBUG - Stop ID database is 0
2018-02-27 08:35:02,327 - DEBUG - Entry ID database is 233
2018-02-27 08:35:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206BF98>, order=<ib.ext.Order.Order object at 0x000000000206BCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100128>>
2018-02-27 08:35:02,329 - DEBUG - Order OrderID 232
2018-02-27 08:35:02,329 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:35:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 08:35:02,330 - DEBUG - Order Identification 232
2018-02-27 08:35:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:35:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 08:35:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:35:02,330 - DEBUG - Stop ID database is 0
2018-02-27 08:35:02,331 - DEBUG - Entry ID database is 233
2018-02-27 08:35:04,323 - DEBUG - Connecting to database
2018-02-27 08:35:04,330 - DEBUG - Connected to database
2018-02-27 08:35:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:35:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:35:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,336 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:35:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,337 - DEBUG - Stop quantity 1
2018-02-27 08:35:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,339 - DEBUG - Direction is Long
2018-02-27 08:35:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,341 - DEBUG - Count is 0
2018-02-27 08:35:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:35:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:35:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:35:04,344 - DEBUG - Max ID Order is (233,)
2018-02-27 08:35:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 08:35:04,345 - DEBUG - Day of the week 1
2018-02-27 08:35:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:35:04,346 - DEBUG - In Position is  0
2018-02-27 08:35:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:35:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 08:35:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:35:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 08:35:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:35:04,348 - DEBUG - EntryPend is 1
2018-02-27 08:35:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 08:35:04,349 - DEBUG - Stop API ID 0
2018-02-27 08:35:04,349 - DEBUG - Profit API ID 0
2018-02-27 08:35:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:35:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:35:04,350 - DEBUG - Pos is 0
2018-02-27 08:35:04,350 - DEBUG - CurCount is 0
2018-02-27 08:35:04,350 - DEBUG - In Pos 0
2018-02-27 08:35:04,350 - DEBUG - Stop ID is 0
2018-02-27 08:35:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:35:04,352 - DEBUG - EntryPend is 1
2018-02-27 08:35:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:35:04,352 - DEBUG - Entry Date is 10
2018-02-27 08:35:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:35:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 08:35:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 08:35:04,353 - DEBUG - API ID is  0
2018-02-27 08:35:04,354 - DEBUG - Current Position is 0
2018-02-27 08:35:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:35:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:35:04,354 - DEBUG - Time is 8
2018-02-27 08:35:04,355 - DEBUG - Time is <class 'int'>
2018-02-27 08:35:04,355 - DEBUG - Disconnected from IBController
2018-02-27 08:35:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:40:00,274 - DEBUG - ****************************************************
2018-02-27 08:40:00,275 - DEBUG - Current Time is 08:40AM
2018-02-27 08:40:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:40:00,275 - DEBUG - Connecting to database
2018-02-27 08:40:00,314 - DEBUG - Connected to database
2018-02-27 08:40:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:00,316 - DEBUG - Order Profit is 0
2018-02-27 08:40:00,316 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:00,318 - DEBUG - Stop ID is 0
2018-02-27 08:40:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:00,320 - DEBUG - Entry ID is 233
2018-02-27 08:40:00,320 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:40:00,321 - DEBUG - OCA ID is 1
2018-02-27 08:40:00,322 - DEBUG - Connecting to IBController
2018-02-27 08:40:01,332 - DEBUG - Connected to IBController
2018-02-27 08:40:01,332 - DEBUG - Position requested
2018-02-27 08:40:01,334 - DEBUG - Pos Mgmt -12987
2018-02-27 08:40:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:40:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:40:01,335 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:40:01,336 - DEBUG - Position is -12987
2018-02-27 08:40:02,333 - DEBUG - Open Orders requested
2018-02-27 08:40:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DAC8>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 08:40:02,336 - DEBUG - Order OrderID 225
2018-02-27 08:40:02,336 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:40:02,337 - DEBUG - Order status PreSubmitted
2018-02-27 08:40:02,337 - DEBUG - Order Identification 225
2018-02-27 08:40:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:40:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 08:40:02,338 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:40:02,338 - DEBUG - Stop ID database is 0
2018-02-27 08:40:02,338 - DEBUG - Entry ID database is 233
2018-02-27 08:40:02,339 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DFD0>, order=<ib.ext.Order.Order object at 0x000000000206DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101048>>
2018-02-27 08:40:02,340 - DEBUG - Order OrderID 232
2018-02-27 08:40:02,340 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:40:02,340 - DEBUG - Order status PreSubmitted
2018-02-27 08:40:02,341 - DEBUG - Order Identification 232
2018-02-27 08:40:02,341 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:40:02,341 - DEBUG - Profit ID from database is 0
2018-02-27 08:40:02,341 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:40:02,341 - DEBUG - Stop ID database is 0
2018-02-27 08:40:02,342 - DEBUG - Entry ID database is 233
2018-02-27 08:40:04,336 - DEBUG - Connecting to database
2018-02-27 08:40:04,343 - DEBUG - Connected to database
2018-02-27 08:40:04,345 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,345 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:40:04,346 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,347 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:40:04,351 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,352 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:40:04,365 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,365 - DEBUG - Stop quantity 1
2018-02-27 08:40:04,367 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,367 - DEBUG - Direction is Long
2018-02-27 08:40:04,368 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,369 - DEBUG - Count is 0
2018-02-27 08:40:04,370 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:40:04,370 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:40:04,372 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:40:04,372 - DEBUG - Max ID Order is (233,)
2018-02-27 08:40:04,373 - DEBUG - Today is 2018-02-27
2018-02-27 08:40:04,373 - DEBUG - Day of the week 1
2018-02-27 08:40:04,373 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:40:04,373 - DEBUG - In Position is  0
2018-02-27 08:40:04,374 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:40:04,374 - DEBUG - curStopLossFlag is  0
2018-02-27 08:40:04,374 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:40:04,374 - DEBUG - Checking if Entry has been filled
2018-02-27 08:40:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:40:04,376 - DEBUG - EntryPend is 1
2018-02-27 08:40:04,376 - DEBUG - Try to Cancel Stop
2018-02-27 08:40:04,377 - DEBUG - Stop API ID 0
2018-02-27 08:40:04,377 - DEBUG - Profit API ID 0
2018-02-27 08:40:04,377 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:40:04,377 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:40:04,377 - DEBUG - Pos is 0
2018-02-27 08:40:04,378 - DEBUG - CurCount is 0
2018-02-27 08:40:04,378 - DEBUG - In Pos 0
2018-02-27 08:40:04,378 - DEBUG - Stop ID is 0
2018-02-27 08:40:04,378 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:40:04,380 - DEBUG - EntryPend is 1
2018-02-27 08:40:04,380 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:40:04,380 - DEBUG - Entry Date is 10
2018-02-27 08:40:04,380 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:40:04,381 - DEBUG - Order Profit ID is 0
2018-02-27 08:40:04,381 - DEBUG - Order Entry ID is 233
2018-02-27 08:40:04,381 - DEBUG - API ID is  0
2018-02-27 08:40:04,381 - DEBUG - Current Position is 0
2018-02-27 08:40:04,382 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:40:04,382 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:40:04,382 - DEBUG - Time is 8
2018-02-27 08:40:04,382 - DEBUG - Time is <class 'int'>
2018-02-27 08:40:04,382 - DEBUG - Disconnected from IBController
2018-02-27 08:40:04,383 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:45:00,260 - DEBUG - ****************************************************
2018-02-27 08:45:00,260 - DEBUG - Current Time is 08:45AM
2018-02-27 08:45:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:45:00,261 - DEBUG - Connecting to database
2018-02-27 08:45:00,279 - DEBUG - Connected to database
2018-02-27 08:45:00,279 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:00,281 - DEBUG - Order Profit is 0
2018-02-27 08:45:00,281 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:00,283 - DEBUG - Stop ID is 0
2018-02-27 08:45:00,283 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:00,284 - DEBUG - Entry ID is 233
2018-02-27 08:45:00,284 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:45:00,286 - DEBUG - OCA ID is 1
2018-02-27 08:45:00,286 - DEBUG - Connecting to IBController
2018-02-27 08:45:01,294 - DEBUG - Connected to IBController
2018-02-27 08:45:01,294 - DEBUG - Position requested
2018-02-27 08:45:01,296 - DEBUG - Pos Mgmt -12987
2018-02-27 08:45:01,296 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:45:01,296 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:45:01,297 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:45:01,297 - DEBUG - Position is -12987
2018-02-27 08:45:02,296 - DEBUG - Open Orders requested
2018-02-27 08:45:02,298 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-27 08:45:02,299 - DEBUG - Order OrderID 225
2018-02-27 08:45:02,299 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:45:02,299 - DEBUG - Order status PreSubmitted
2018-02-27 08:45:02,300 - DEBUG - Order Identification 225
2018-02-27 08:45:02,300 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:45:02,300 - DEBUG - Profit ID from database is 0
2018-02-27 08:45:02,301 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:45:02,301 - DEBUG - Stop ID database is 0
2018-02-27 08:45:02,301 - DEBUG - Entry ID database is 233
2018-02-27 08:45:02,302 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206CFD0>, order=<ib.ext.Order.Order object at 0x000000000206CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021020F0>>
2018-02-27 08:45:02,303 - DEBUG - Order OrderID 232
2018-02-27 08:45:02,303 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:45:02,303 - DEBUG - Order status PreSubmitted
2018-02-27 08:45:02,304 - DEBUG - Order Identification 232
2018-02-27 08:45:02,304 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:45:02,304 - DEBUG - Profit ID from database is 0
2018-02-27 08:45:02,304 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:45:02,304 - DEBUG - Stop ID database is 0
2018-02-27 08:45:02,305 - DEBUG - Entry ID database is 233
2018-02-27 08:45:04,298 - DEBUG - Connecting to database
2018-02-27 08:45:04,306 - DEBUG - Connected to database
2018-02-27 08:45:04,308 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,308 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:45:04,317 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,317 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:45:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:45:04,320 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,321 - DEBUG - Stop quantity 1
2018-02-27 08:45:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,322 - DEBUG - Direction is Long
2018-02-27 08:45:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,324 - DEBUG - Count is 0
2018-02-27 08:45:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:45:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:45:04,327 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:45:04,328 - DEBUG - Max ID Order is (233,)
2018-02-27 08:45:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 08:45:04,329 - DEBUG - Day of the week 1
2018-02-27 08:45:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:45:04,329 - DEBUG - In Position is  0
2018-02-27 08:45:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:45:04,330 - DEBUG - curStopLossFlag is  0
2018-02-27 08:45:04,330 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:45:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 08:45:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:45:04,332 - DEBUG - EntryPend is 1
2018-02-27 08:45:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 08:45:04,332 - DEBUG - Stop API ID 0
2018-02-27 08:45:04,332 - DEBUG - Profit API ID 0
2018-02-27 08:45:04,333 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:45:04,333 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:45:04,333 - DEBUG - Pos is 0
2018-02-27 08:45:04,333 - DEBUG - CurCount is 0
2018-02-27 08:45:04,334 - DEBUG - In Pos 0
2018-02-27 08:45:04,334 - DEBUG - Stop ID is 0
2018-02-27 08:45:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:45:04,336 - DEBUG - EntryPend is 1
2018-02-27 08:45:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:45:04,336 - DEBUG - Entry Date is 10
2018-02-27 08:45:04,337 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:45:04,337 - DEBUG - Order Profit ID is 0
2018-02-27 08:45:04,337 - DEBUG - Order Entry ID is 233
2018-02-27 08:45:04,337 - DEBUG - API ID is  0
2018-02-27 08:45:04,338 - DEBUG - Current Position is 0
2018-02-27 08:45:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:45:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:45:04,338 - DEBUG - Time is 8
2018-02-27 08:45:04,339 - DEBUG - Time is <class 'int'>
2018-02-27 08:45:04,339 - DEBUG - Disconnected from IBController
2018-02-27 08:45:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:50:00,265 - DEBUG - ****************************************************
2018-02-27 08:50:00,265 - DEBUG - Current Time is 08:50AM
2018-02-27 08:50:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:50:00,266 - DEBUG - Connecting to database
2018-02-27 08:50:00,288 - DEBUG - Connected to database
2018-02-27 08:50:00,288 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:00,290 - DEBUG - Order Profit is 0
2018-02-27 08:50:00,290 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:00,291 - DEBUG - Stop ID is 0
2018-02-27 08:50:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:00,293 - DEBUG - Entry ID is 233
2018-02-27 08:50:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:50:00,294 - DEBUG - OCA ID is 1
2018-02-27 08:50:00,295 - DEBUG - Connecting to IBController
2018-02-27 08:50:01,308 - DEBUG - Connected to IBController
2018-02-27 08:50:01,308 - DEBUG - Position requested
2018-02-27 08:50:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 08:50:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:50:01,310 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:50:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:50:01,311 - DEBUG - Position is -12987
2018-02-27 08:50:02,309 - DEBUG - Open Orders requested
2018-02-27 08:50:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 08:50:02,311 - DEBUG - Order OrderID 225
2018-02-27 08:50:02,312 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:50:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 08:50:02,313 - DEBUG - Order Identification 225
2018-02-27 08:50:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:50:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 08:50:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:50:02,313 - DEBUG - Stop ID database is 0
2018-02-27 08:50:02,314 - DEBUG - Entry ID database is 233
2018-02-27 08:50:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DFD0>, order=<ib.ext.Order.Order object at 0x000000000203DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1048>>
2018-02-27 08:50:02,315 - DEBUG - Order OrderID 232
2018-02-27 08:50:02,316 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:50:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 08:50:02,316 - DEBUG - Order Identification 232
2018-02-27 08:50:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:50:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 08:50:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:50:02,317 - DEBUG - Stop ID database is 0
2018-02-27 08:50:02,317 - DEBUG - Entry ID database is 233
2018-02-27 08:50:04,311 - DEBUG - Connecting to database
2018-02-27 08:50:04,318 - DEBUG - Connected to database
2018-02-27 08:50:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:50:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:50:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:50:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,326 - DEBUG - Stop quantity 1
2018-02-27 08:50:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,328 - DEBUG - Direction is Long
2018-02-27 08:50:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,329 - DEBUG - Count is 0
2018-02-27 08:50:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:50:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:50:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:50:04,334 - DEBUG - Max ID Order is (233,)
2018-02-27 08:50:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 08:50:04,335 - DEBUG - Day of the week 1
2018-02-27 08:50:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:50:04,335 - DEBUG - In Position is  0
2018-02-27 08:50:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:50:04,336 - DEBUG - curStopLossFlag is  0
2018-02-27 08:50:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:50:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 08:50:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:50:04,338 - DEBUG - EntryPend is 1
2018-02-27 08:50:04,338 - DEBUG - Try to Cancel Stop
2018-02-27 08:50:04,338 - DEBUG - Stop API ID 0
2018-02-27 08:50:04,338 - DEBUG - Profit API ID 0
2018-02-27 08:50:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:50:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:50:04,339 - DEBUG - Pos is 0
2018-02-27 08:50:04,339 - DEBUG - CurCount is 0
2018-02-27 08:50:04,340 - DEBUG - In Pos 0
2018-02-27 08:50:04,340 - DEBUG - Stop ID is 0
2018-02-27 08:50:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:50:04,341 - DEBUG - EntryPend is 1
2018-02-27 08:50:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:50:04,342 - DEBUG - Entry Date is 10
2018-02-27 08:50:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:50:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 08:50:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 08:50:04,343 - DEBUG - API ID is  0
2018-02-27 08:50:04,343 - DEBUG - Current Position is 0
2018-02-27 08:50:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:50:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:50:04,343 - DEBUG - Time is 8
2018-02-27 08:50:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 08:50:04,344 - DEBUG - Disconnected from IBController
2018-02-27 08:50:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 08:55:00,265 - DEBUG - ****************************************************
2018-02-27 08:55:00,265 - DEBUG - Current Time is 08:55AM
2018-02-27 08:55:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 08:55:00,266 - DEBUG - Connecting to database
2018-02-27 08:55:00,286 - DEBUG - Connected to database
2018-02-27 08:55:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:00,288 - DEBUG - Order Profit is 0
2018-02-27 08:55:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:00,289 - DEBUG - Stop ID is 0
2018-02-27 08:55:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:00,291 - DEBUG - Entry ID is 233
2018-02-27 08:55:00,291 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 08:55:00,293 - DEBUG - OCA ID is 1
2018-02-27 08:55:00,293 - DEBUG - Connecting to IBController
2018-02-27 08:55:01,306 - DEBUG - Connected to IBController
2018-02-27 08:55:01,306 - DEBUG - Position requested
2018-02-27 08:55:01,308 - DEBUG - Pos Mgmt -12987
2018-02-27 08:55:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 08:55:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 08:55:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 08:55:01,309 - DEBUG - Position is -12987
2018-02-27 08:55:02,308 - DEBUG - Open Orders requested
2018-02-27 08:55:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 08:55:02,311 - DEBUG - Order OrderID 225
2018-02-27 08:55:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:55:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 08:55:02,312 - DEBUG - Order Identification 225
2018-02-27 08:55:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:55:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 08:55:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:55:02,313 - DEBUG - Stop ID database is 0
2018-02-27 08:55:02,313 - DEBUG - Entry ID database is 233
2018-02-27 08:55:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111048>>
2018-02-27 08:55:02,315 - DEBUG - Order OrderID 232
2018-02-27 08:55:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 08:55:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 08:55:02,316 - DEBUG - Order Identification 232
2018-02-27 08:55:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 08:55:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 08:55:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 08:55:02,316 - DEBUG - Stop ID database is 0
2018-02-27 08:55:02,317 - DEBUG - Entry ID database is 233
2018-02-27 08:55:04,310 - DEBUG - Connecting to database
2018-02-27 08:55:04,317 - DEBUG - Connected to database
2018-02-27 08:55:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 08:55:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 08:55:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 08:55:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,325 - DEBUG - Stop quantity 1
2018-02-27 08:55:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,327 - DEBUG - Direction is Long
2018-02-27 08:55:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,329 - DEBUG - Count is 0
2018-02-27 08:55:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 08:55:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 08:55:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 08:55:04,332 - DEBUG - Max ID Order is (233,)
2018-02-27 08:55:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 08:55:04,333 - DEBUG - Day of the week 1
2018-02-27 08:55:04,333 - DEBUG - Yesterday is 02/26/2018
2018-02-27 08:55:04,334 - DEBUG - In Position is  0
2018-02-27 08:55:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 08:55:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 08:55:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 08:55:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 08:55:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:55:04,336 - DEBUG - EntryPend is 1
2018-02-27 08:55:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 08:55:04,337 - DEBUG - Stop API ID 0
2018-02-27 08:55:04,337 - DEBUG - Profit API ID 0
2018-02-27 08:55:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 08:55:04,337 - DEBUG - Profit API ID <class 'int'>
2018-02-27 08:55:04,338 - DEBUG - Pos is 0
2018-02-27 08:55:04,338 - DEBUG - CurCount is 0
2018-02-27 08:55:04,338 - DEBUG - In Pos 0
2018-02-27 08:55:04,338 - DEBUG - Stop ID is 0
2018-02-27 08:55:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 08:55:04,341 - DEBUG - EntryPend is 1
2018-02-27 08:55:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 08:55:04,341 - DEBUG - Entry Date is 10
2018-02-27 08:55:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 08:55:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 08:55:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 08:55:04,342 - DEBUG - API ID is  0
2018-02-27 08:55:04,343 - DEBUG - Current Position is 0
2018-02-27 08:55:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 08:55:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 08:55:04,343 - DEBUG - Time is 8
2018-02-27 08:55:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 08:55:04,344 - DEBUG - Disconnected from IBController
2018-02-27 08:55:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:00:00,264 - DEBUG - ****************************************************
2018-02-27 09:00:00,265 - DEBUG - Current Time is 09:00AM
2018-02-27 09:00:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:00:00,265 - DEBUG - Connecting to database
2018-02-27 09:00:00,290 - DEBUG - Connected to database
2018-02-27 09:00:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:00,292 - DEBUG - Order Profit is 0
2018-02-27 09:00:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:00,294 - DEBUG - Stop ID is 0
2018-02-27 09:00:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:00,296 - DEBUG - Entry ID is 233
2018-02-27 09:00:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:00:00,298 - DEBUG - OCA ID is 1
2018-02-27 09:00:00,298 - DEBUG - Connecting to IBController
2018-02-27 09:00:01,309 - DEBUG - Connected to IBController
2018-02-27 09:00:01,309 - DEBUG - Position requested
2018-02-27 09:00:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 09:00:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:00:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:00:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:00:01,312 - DEBUG - Position is -12987
2018-02-27 09:00:02,310 - DEBUG - Open Orders requested
2018-02-27 09:00:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DAC8>, order=<ib.ext.Order.Order object at 0x000000000202DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1128>>
2018-02-27 09:00:02,313 - DEBUG - Order OrderID 225
2018-02-27 09:00:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:00:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 09:00:02,314 - DEBUG - Order Identification 225
2018-02-27 09:00:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:00:02,315 - DEBUG - Profit ID from database is 0
2018-02-27 09:00:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:00:02,315 - DEBUG - Stop ID database is 0
2018-02-27 09:00:02,315 - DEBUG - Entry ID database is 233
2018-02-27 09:00:02,317 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202DFD0>, order=<ib.ext.Order.Order object at 0x000000000202DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10F0>>
2018-02-27 09:00:02,317 - DEBUG - Order OrderID 232
2018-02-27 09:00:02,317 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:00:02,318 - DEBUG - Order status PreSubmitted
2018-02-27 09:00:02,318 - DEBUG - Order Identification 232
2018-02-27 09:00:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:00:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 09:00:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:00:02,319 - DEBUG - Stop ID database is 0
2018-02-27 09:00:02,319 - DEBUG - Entry ID database is 233
2018-02-27 09:00:04,313 - DEBUG - Connecting to database
2018-02-27 09:00:04,321 - DEBUG - Connected to database
2018-02-27 09:00:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,325 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:00:04,327 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,327 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:00:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,329 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:00:04,330 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,330 - DEBUG - Stop quantity 1
2018-02-27 09:00:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,332 - DEBUG - Direction is Long
2018-02-27 09:00:04,333 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,334 - DEBUG - Count is 0
2018-02-27 09:00:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:00:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:00:04,337 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:00:04,337 - DEBUG - Max ID Order is (233,)
2018-02-27 09:00:04,338 - DEBUG - Today is 2018-02-27
2018-02-27 09:00:04,338 - DEBUG - Day of the week 1
2018-02-27 09:00:04,338 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:00:04,339 - DEBUG - In Position is  0
2018-02-27 09:00:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:00:04,339 - DEBUG - curStopLossFlag is  0
2018-02-27 09:00:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:00:04,340 - DEBUG - Checking if Entry has been filled
2018-02-27 09:00:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:00:04,341 - DEBUG - EntryPend is 1
2018-02-27 09:00:04,341 - DEBUG - Try to Cancel Stop
2018-02-27 09:00:04,342 - DEBUG - Stop API ID 0
2018-02-27 09:00:04,342 - DEBUG - Profit API ID 0
2018-02-27 09:00:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:00:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:00:04,343 - DEBUG - Pos is 0
2018-02-27 09:00:04,343 - DEBUG - CurCount is 0
2018-02-27 09:00:04,343 - DEBUG - In Pos 0
2018-02-27 09:00:04,343 - DEBUG - Stop ID is 0
2018-02-27 09:00:04,343 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:00:04,345 - DEBUG - EntryPend is 1
2018-02-27 09:00:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:00:04,345 - DEBUG - Entry Date is 10
2018-02-27 09:00:04,346 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:00:04,346 - DEBUG - Order Profit ID is 0
2018-02-27 09:00:04,346 - DEBUG - Order Entry ID is 233
2018-02-27 09:00:04,346 - DEBUG - API ID is  0
2018-02-27 09:00:04,347 - DEBUG - Current Position is 0
2018-02-27 09:00:04,347 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:00:04,347 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:00:04,347 - DEBUG - Time is 9
2018-02-27 09:00:04,348 - DEBUG - Time is <class 'int'>
2018-02-27 09:00:04,348 - DEBUG - Disconnected from IBController
2018-02-27 09:00:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:05:00,268 - DEBUG - ****************************************************
2018-02-27 09:05:00,269 - DEBUG - Current Time is 09:05AM
2018-02-27 09:05:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:05:00,269 - DEBUG - Connecting to database
2018-02-27 09:05:00,311 - DEBUG - Connected to database
2018-02-27 09:05:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:00,313 - DEBUG - Order Profit is 0
2018-02-27 09:05:00,313 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:00,315 - DEBUG - Stop ID is 0
2018-02-27 09:05:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:00,316 - DEBUG - Entry ID is 233
2018-02-27 09:05:00,317 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:05:00,318 - DEBUG - OCA ID is 1
2018-02-27 09:05:00,318 - DEBUG - Connecting to IBController
2018-02-27 09:05:01,328 - DEBUG - Connected to IBController
2018-02-27 09:05:01,328 - DEBUG - Position requested
2018-02-27 09:05:01,330 - DEBUG - Pos Mgmt -12987
2018-02-27 09:05:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:05:01,330 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:05:01,331 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:05:01,331 - DEBUG - Position is -12987
2018-02-27 09:05:02,329 - DEBUG - Open Orders requested
2018-02-27 09:05:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, order=<ib.ext.Order.Order object at 0x00000000020ADC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141128>>
2018-02-27 09:05:02,332 - DEBUG - Order OrderID 225
2018-02-27 09:05:02,332 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:05:02,333 - DEBUG - Order status PreSubmitted
2018-02-27 09:05:02,333 - DEBUG - Order Identification 225
2018-02-27 09:05:02,333 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:05:02,333 - DEBUG - Profit ID from database is 0
2018-02-27 09:05:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:05:02,334 - DEBUG - Stop ID database is 0
2018-02-27 09:05:02,334 - DEBUG - Entry ID database is 233
2018-02-27 09:05:02,335 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020ADFD0>, order=<ib.ext.Order.Order object at 0x00000000020ADC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002141080>>
2018-02-27 09:05:02,335 - DEBUG - Order OrderID 232
2018-02-27 09:05:02,336 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:05:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 09:05:02,337 - DEBUG - Order Identification 232
2018-02-27 09:05:02,337 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:05:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 09:05:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:05:02,338 - DEBUG - Stop ID database is 0
2018-02-27 09:05:02,338 - DEBUG - Entry ID database is 233
2018-02-27 09:05:04,332 - DEBUG - Connecting to database
2018-02-27 09:05:04,339 - DEBUG - Connected to database
2018-02-27 09:05:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,341 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:05:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,343 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:05:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,344 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:05:04,346 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,346 - DEBUG - Stop quantity 1
2018-02-27 09:05:04,349 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,349 - DEBUG - Direction is Long
2018-02-27 09:05:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,351 - DEBUG - Count is 0
2018-02-27 09:05:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:05:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:05:04,354 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:05:04,354 - DEBUG - Max ID Order is (233,)
2018-02-27 09:05:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 09:05:04,355 - DEBUG - Day of the week 1
2018-02-27 09:05:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:05:04,355 - DEBUG - In Position is  0
2018-02-27 09:05:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:05:04,356 - DEBUG - curStopLossFlag is  0
2018-02-27 09:05:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:05:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 09:05:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:05:04,358 - DEBUG - EntryPend is 1
2018-02-27 09:05:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 09:05:04,358 - DEBUG - Stop API ID 0
2018-02-27 09:05:04,358 - DEBUG - Profit API ID 0
2018-02-27 09:05:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:05:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:05:04,359 - DEBUG - Pos is 0
2018-02-27 09:05:04,359 - DEBUG - CurCount is 0
2018-02-27 09:05:04,359 - DEBUG - In Pos 0
2018-02-27 09:05:04,360 - DEBUG - Stop ID is 0
2018-02-27 09:05:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:05:04,361 - DEBUG - EntryPend is 1
2018-02-27 09:05:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:05:04,362 - DEBUG - Entry Date is 10
2018-02-27 09:05:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:05:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 09:05:04,362 - DEBUG - Order Entry ID is 233
2018-02-27 09:05:04,363 - DEBUG - API ID is  0
2018-02-27 09:05:04,363 - DEBUG - Current Position is 0
2018-02-27 09:05:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:05:04,363 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:05:04,364 - DEBUG - Time is 9
2018-02-27 09:05:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 09:05:04,364 - DEBUG - Disconnected from IBController
2018-02-27 09:05:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:10:00,262 - DEBUG - ****************************************************
2018-02-27 09:10:00,262 - DEBUG - Current Time is 09:10AM
2018-02-27 09:10:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:10:00,263 - DEBUG - Connecting to database
2018-02-27 09:10:00,286 - DEBUG - Connected to database
2018-02-27 09:10:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:00,288 - DEBUG - Order Profit is 0
2018-02-27 09:10:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:00,290 - DEBUG - Stop ID is 0
2018-02-27 09:10:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:00,291 - DEBUG - Entry ID is 233
2018-02-27 09:10:00,291 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:10:00,293 - DEBUG - OCA ID is 1
2018-02-27 09:10:00,293 - DEBUG - Connecting to IBController
2018-02-27 09:10:01,301 - DEBUG - Connected to IBController
2018-02-27 09:10:01,301 - DEBUG - Position requested
2018-02-27 09:10:01,303 - DEBUG - Pos Mgmt -12987
2018-02-27 09:10:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:10:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:10:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:10:01,304 - DEBUG - Position is -12987
2018-02-27 09:10:02,303 - DEBUG - Open Orders requested
2018-02-27 09:10:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CCC0>, order=<ib.ext.Order.Order object at 0x000000000204CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 09:10:02,306 - DEBUG - Order OrderID 225
2018-02-27 09:10:02,306 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:10:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 09:10:02,307 - DEBUG - Order Identification 225
2018-02-27 09:10:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:10:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 09:10:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:10:02,313 - DEBUG - Stop ID database is 0
2018-02-27 09:10:02,313 - DEBUG - Entry ID database is 233
2018-02-27 09:10:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204CFD0>, order=<ib.ext.Order.Order object at 0x000000000204CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-27 09:10:02,314 - DEBUG - Order OrderID 232
2018-02-27 09:10:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:10:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 09:10:02,316 - DEBUG - Order Identification 232
2018-02-27 09:10:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:10:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 09:10:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:10:02,316 - DEBUG - Stop ID database is 0
2018-02-27 09:10:02,317 - DEBUG - Entry ID database is 233
2018-02-27 09:10:04,306 - DEBUG - Connecting to database
2018-02-27 09:10:04,315 - DEBUG - Connected to database
2018-02-27 09:10:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,317 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:10:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,319 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:10:04,320 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,321 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:10:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,323 - DEBUG - Stop quantity 1
2018-02-27 09:10:04,324 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,325 - DEBUG - Direction is Long
2018-02-27 09:10:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,327 - DEBUG - Count is 0
2018-02-27 09:10:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:10:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:10:04,330 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:10:04,330 - DEBUG - Max ID Order is (233,)
2018-02-27 09:10:04,331 - DEBUG - Today is 2018-02-27
2018-02-27 09:10:04,331 - DEBUG - Day of the week 1
2018-02-27 09:10:04,331 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:10:04,332 - DEBUG - In Position is  0
2018-02-27 09:10:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:10:04,332 - DEBUG - curStopLossFlag is  0
2018-02-27 09:10:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:10:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 09:10:04,333 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:10:04,334 - DEBUG - EntryPend is 1
2018-02-27 09:10:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 09:10:04,335 - DEBUG - Stop API ID 0
2018-02-27 09:10:04,335 - DEBUG - Profit API ID 0
2018-02-27 09:10:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:10:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:10:04,336 - DEBUG - Pos is 0
2018-02-27 09:10:04,336 - DEBUG - CurCount is 0
2018-02-27 09:10:04,336 - DEBUG - In Pos 0
2018-02-27 09:10:04,337 - DEBUG - Stop ID is 0
2018-02-27 09:10:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:10:04,338 - DEBUG - EntryPend is 1
2018-02-27 09:10:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:10:04,339 - DEBUG - Entry Date is 10
2018-02-27 09:10:04,339 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:10:04,339 - DEBUG - Order Profit ID is 0
2018-02-27 09:10:04,339 - DEBUG - Order Entry ID is 233
2018-02-27 09:10:04,340 - DEBUG - API ID is  0
2018-02-27 09:10:04,340 - DEBUG - Current Position is 0
2018-02-27 09:10:04,340 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:10:04,340 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:10:04,340 - DEBUG - Time is 9
2018-02-27 09:10:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 09:10:04,341 - DEBUG - Disconnected from IBController
2018-02-27 09:10:04,341 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:15:00,264 - DEBUG - ****************************************************
2018-02-27 09:15:00,264 - DEBUG - Current Time is 09:15AM
2018-02-27 09:15:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:15:00,265 - DEBUG - Connecting to database
2018-02-27 09:15:00,286 - DEBUG - Connected to database
2018-02-27 09:15:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:00,289 - DEBUG - Order Profit is 0
2018-02-27 09:15:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:00,291 - DEBUG - Stop ID is 0
2018-02-27 09:15:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:00,292 - DEBUG - Entry ID is 233
2018-02-27 09:15:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:15:00,294 - DEBUG - OCA ID is 1
2018-02-27 09:15:00,294 - DEBUG - Connecting to IBController
2018-02-27 09:15:01,300 - DEBUG - Connected to IBController
2018-02-27 09:15:01,300 - DEBUG - Position requested
2018-02-27 09:15:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 09:15:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:15:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:15:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:15:01,303 - DEBUG - Position is -12987
2018-02-27 09:15:02,302 - DEBUG - Open Orders requested
2018-02-27 09:15:02,304 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, order=<ib.ext.Order.Order object at 0x000000000207DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 09:15:02,305 - DEBUG - Order OrderID 225
2018-02-27 09:15:02,305 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:15:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 09:15:02,306 - DEBUG - Order Identification 225
2018-02-27 09:15:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:15:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 09:15:02,307 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:15:02,307 - DEBUG - Stop ID database is 0
2018-02-27 09:15:02,307 - DEBUG - Entry ID database is 233
2018-02-27 09:15:02,308 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DFD0>, order=<ib.ext.Order.Order object at 0x000000000207DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 09:15:02,308 - DEBUG - Order OrderID 232
2018-02-27 09:15:02,309 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:15:02,309 - DEBUG - Order status PreSubmitted
2018-02-27 09:15:02,309 - DEBUG - Order Identification 232
2018-02-27 09:15:02,310 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:15:02,310 - DEBUG - Profit ID from database is 0
2018-02-27 09:15:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:15:02,310 - DEBUG - Stop ID database is 0
2018-02-27 09:15:02,311 - DEBUG - Entry ID database is 233
2018-02-27 09:15:04,305 - DEBUG - Connecting to database
2018-02-27 09:15:04,321 - DEBUG - Connected to database
2018-02-27 09:15:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:15:04,324 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:15:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:15:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,328 - DEBUG - Stop quantity 1
2018-02-27 09:15:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,330 - DEBUG - Direction is Long
2018-02-27 09:15:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,332 - DEBUG - Count is 0
2018-02-27 09:15:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:15:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:15:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:15:04,335 - DEBUG - Max ID Order is (233,)
2018-02-27 09:15:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 09:15:04,336 - DEBUG - Day of the week 1
2018-02-27 09:15:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:15:04,336 - DEBUG - In Position is  0
2018-02-27 09:15:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:15:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 09:15:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:15:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 09:15:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:15:04,339 - DEBUG - EntryPend is 1
2018-02-27 09:15:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 09:15:04,339 - DEBUG - Stop API ID 0
2018-02-27 09:15:04,340 - DEBUG - Profit API ID 0
2018-02-27 09:15:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:15:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:15:04,341 - DEBUG - Pos is 0
2018-02-27 09:15:04,341 - DEBUG - CurCount is 0
2018-02-27 09:15:04,341 - DEBUG - In Pos 0
2018-02-27 09:15:04,341 - DEBUG - Stop ID is 0
2018-02-27 09:15:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:15:04,343 - DEBUG - EntryPend is 1
2018-02-27 09:15:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:15:04,343 - DEBUG - Entry Date is 10
2018-02-27 09:15:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:15:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 09:15:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 09:15:04,344 - DEBUG - API ID is  0
2018-02-27 09:15:04,344 - DEBUG - Current Position is 0
2018-02-27 09:15:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:15:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:15:04,345 - DEBUG - Time is 9
2018-02-27 09:15:04,345 - DEBUG - Time is <class 'int'>
2018-02-27 09:15:04,346 - DEBUG - Disconnected from IBController
2018-02-27 09:15:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:20:00,272 - DEBUG - ****************************************************
2018-02-27 09:20:00,272 - DEBUG - Current Time is 09:20AM
2018-02-27 09:20:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:20:00,273 - DEBUG - Connecting to database
2018-02-27 09:20:00,292 - DEBUG - Connected to database
2018-02-27 09:20:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:00,294 - DEBUG - Order Profit is 0
2018-02-27 09:20:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:00,296 - DEBUG - Stop ID is 0
2018-02-27 09:20:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:00,297 - DEBUG - Entry ID is 233
2018-02-27 09:20:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:20:00,299 - DEBUG - OCA ID is 1
2018-02-27 09:20:00,300 - DEBUG - Connecting to IBController
2018-02-27 09:20:01,307 - DEBUG - Connected to IBController
2018-02-27 09:20:01,307 - DEBUG - Position requested
2018-02-27 09:20:01,309 - DEBUG - Pos Mgmt -12987
2018-02-27 09:20:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:20:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:20:01,310 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:20:01,310 - DEBUG - Position is -12987
2018-02-27 09:20:02,308 - DEBUG - Open Orders requested
2018-02-27 09:20:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1128>>
2018-02-27 09:20:02,311 - DEBUG - Order OrderID 225
2018-02-27 09:20:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:20:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 09:20:02,312 - DEBUG - Order Identification 225
2018-02-27 09:20:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:20:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 09:20:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:20:02,313 - DEBUG - Stop ID database is 0
2018-02-27 09:20:02,313 - DEBUG - Entry ID database is 233
2018-02-27 09:20:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DFD0>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-27 09:20:02,314 - DEBUG - Order OrderID 232
2018-02-27 09:20:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:20:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 09:20:02,316 - DEBUG - Order Identification 232
2018-02-27 09:20:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:20:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 09:20:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:20:02,316 - DEBUG - Stop ID database is 0
2018-02-27 09:20:02,317 - DEBUG - Entry ID database is 233
2018-02-27 09:20:04,310 - DEBUG - Connecting to database
2018-02-27 09:20:04,317 - DEBUG - Connected to database
2018-02-27 09:20:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:20:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:20:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:20:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,324 - DEBUG - Stop quantity 1
2018-02-27 09:20:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,326 - DEBUG - Direction is Long
2018-02-27 09:20:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,328 - DEBUG - Count is 0
2018-02-27 09:20:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:20:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:20:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:20:04,331 - DEBUG - Max ID Order is (233,)
2018-02-27 09:20:04,332 - DEBUG - Today is 2018-02-27
2018-02-27 09:20:04,332 - DEBUG - Day of the week 1
2018-02-27 09:20:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:20:04,332 - DEBUG - In Position is  0
2018-02-27 09:20:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:20:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 09:20:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:20:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 09:20:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:20:04,335 - DEBUG - EntryPend is 1
2018-02-27 09:20:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 09:20:04,336 - DEBUG - Stop API ID 0
2018-02-27 09:20:04,336 - DEBUG - Profit API ID 0
2018-02-27 09:20:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:20:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:20:04,336 - DEBUG - Pos is 0
2018-02-27 09:20:04,337 - DEBUG - CurCount is 0
2018-02-27 09:20:04,337 - DEBUG - In Pos 0
2018-02-27 09:20:04,337 - DEBUG - Stop ID is 0
2018-02-27 09:20:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:20:04,339 - DEBUG - EntryPend is 1
2018-02-27 09:20:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:20:04,339 - DEBUG - Entry Date is 10
2018-02-27 09:20:04,340 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:20:04,340 - DEBUG - Order Profit ID is 0
2018-02-27 09:20:04,340 - DEBUG - Order Entry ID is 233
2018-02-27 09:20:04,340 - DEBUG - API ID is  0
2018-02-27 09:20:04,340 - DEBUG - Current Position is 0
2018-02-27 09:20:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:20:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:20:04,341 - DEBUG - Time is 9
2018-02-27 09:20:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 09:20:04,342 - DEBUG - Disconnected from IBController
2018-02-27 09:20:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:25:00,264 - DEBUG - ****************************************************
2018-02-27 09:25:00,265 - DEBUG - Current Time is 09:25AM
2018-02-27 09:25:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:25:00,266 - DEBUG - Connecting to database
2018-02-27 09:25:00,289 - DEBUG - Connected to database
2018-02-27 09:25:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:00,291 - DEBUG - Order Profit is 0
2018-02-27 09:25:00,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:00,293 - DEBUG - Stop ID is 0
2018-02-27 09:25:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:00,294 - DEBUG - Entry ID is 233
2018-02-27 09:25:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:25:00,296 - DEBUG - OCA ID is 1
2018-02-27 09:25:00,296 - DEBUG - Connecting to IBController
2018-02-27 09:25:01,306 - DEBUG - Connected to IBController
2018-02-27 09:25:01,306 - DEBUG - Position requested
2018-02-27 09:25:01,308 - DEBUG - Pos Mgmt -12987
2018-02-27 09:25:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:25:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:25:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:25:01,309 - DEBUG - Position is -12987
2018-02-27 09:25:02,308 - DEBUG - Open Orders requested
2018-02-27 09:25:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, order=<ib.ext.Order.Order object at 0x000000000205DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F2128>>
2018-02-27 09:25:02,311 - DEBUG - Order OrderID 225
2018-02-27 09:25:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:25:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 09:25:02,312 - DEBUG - Order Identification 225
2018-02-27 09:25:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:25:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 09:25:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:25:02,313 - DEBUG - Stop ID database is 0
2018-02-27 09:25:02,313 - DEBUG - Entry ID database is 233
2018-02-27 09:25:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DFD0>, order=<ib.ext.Order.Order object at 0x000000000205DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20B8>>
2018-02-27 09:25:02,314 - DEBUG - Order OrderID 232
2018-02-27 09:25:02,315 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:25:02,315 - DEBUG - Order status PreSubmitted
2018-02-27 09:25:02,315 - DEBUG - Order Identification 232
2018-02-27 09:25:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:25:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 09:25:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:25:02,316 - DEBUG - Stop ID database is 0
2018-02-27 09:25:02,316 - DEBUG - Entry ID database is 233
2018-02-27 09:25:04,310 - DEBUG - Connecting to database
2018-02-27 09:25:04,317 - DEBUG - Connected to database
2018-02-27 09:25:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:25:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:25:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:25:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,324 - DEBUG - Stop quantity 1
2018-02-27 09:25:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,326 - DEBUG - Direction is Long
2018-02-27 09:25:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,328 - DEBUG - Count is 0
2018-02-27 09:25:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:25:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:25:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:25:04,331 - DEBUG - Max ID Order is (233,)
2018-02-27 09:25:04,332 - DEBUG - Today is 2018-02-27
2018-02-27 09:25:04,332 - DEBUG - Day of the week 1
2018-02-27 09:25:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:25:04,332 - DEBUG - In Position is  0
2018-02-27 09:25:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:25:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 09:25:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:25:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 09:25:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:25:04,335 - DEBUG - EntryPend is 1
2018-02-27 09:25:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 09:25:04,336 - DEBUG - Stop API ID 0
2018-02-27 09:25:04,336 - DEBUG - Profit API ID 0
2018-02-27 09:25:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:25:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:25:04,337 - DEBUG - Pos is 0
2018-02-27 09:25:04,337 - DEBUG - CurCount is 0
2018-02-27 09:25:04,337 - DEBUG - In Pos 0
2018-02-27 09:25:04,337 - DEBUG - Stop ID is 0
2018-02-27 09:25:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:25:04,339 - DEBUG - EntryPend is 1
2018-02-27 09:25:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:25:04,339 - DEBUG - Entry Date is 10
2018-02-27 09:25:04,340 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:25:04,340 - DEBUG - Order Profit ID is 0
2018-02-27 09:25:04,340 - DEBUG - Order Entry ID is 233
2018-02-27 09:25:04,340 - DEBUG - API ID is  0
2018-02-27 09:25:04,341 - DEBUG - Current Position is 0
2018-02-27 09:25:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:25:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:25:04,341 - DEBUG - Time is 9
2018-02-27 09:25:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 09:25:04,342 - DEBUG - Disconnected from IBController
2018-02-27 09:25:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:30:00,263 - DEBUG - ****************************************************
2018-02-27 09:30:00,263 - DEBUG - Current Time is 09:30AM
2018-02-27 09:30:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:30:00,264 - DEBUG - Connecting to database
2018-02-27 09:30:00,314 - DEBUG - Connected to database
2018-02-27 09:30:00,314 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:00,320 - DEBUG - Order Profit is 0
2018-02-27 09:30:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:00,323 - DEBUG - Stop ID is 0
2018-02-27 09:30:00,323 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:00,324 - DEBUG - Entry ID is 233
2018-02-27 09:30:00,325 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:30:00,326 - DEBUG - OCA ID is 1
2018-02-27 09:30:00,327 - DEBUG - Connecting to IBController
2018-02-27 09:30:01,331 - DEBUG - Connected to IBController
2018-02-27 09:30:01,331 - DEBUG - Position requested
2018-02-27 09:30:01,333 - DEBUG - Pos Mgmt -12987
2018-02-27 09:30:01,333 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:30:01,333 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:30:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:30:01,334 - DEBUG - Position is -12987
2018-02-27 09:30:02,332 - DEBUG - Open Orders requested
2018-02-27 09:30:02,334 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1198>>
2018-02-27 09:30:02,335 - DEBUG - Order OrderID 225
2018-02-27 09:30:02,335 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:30:02,336 - DEBUG - Order status PreSubmitted
2018-02-27 09:30:02,336 - DEBUG - Order Identification 225
2018-02-27 09:30:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:30:02,337 - DEBUG - Profit ID from database is 0
2018-02-27 09:30:02,337 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:30:02,337 - DEBUG - Stop ID database is 0
2018-02-27 09:30:02,337 - DEBUG - Entry ID database is 233
2018-02-27 09:30:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10B8>>
2018-02-27 09:30:02,339 - DEBUG - Order OrderID 234
2018-02-27 09:30:02,339 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:30:02,339 - DEBUG - Order status PreSubmitted
2018-02-27 09:30:02,340 - DEBUG - Order Identification 234
2018-02-27 09:30:02,340 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:30:02,340 - DEBUG - Profit ID from database is 0
2018-02-27 09:30:02,340 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:30:02,341 - DEBUG - Stop ID database is 0
2018-02-27 09:30:02,341 - DEBUG - Entry ID database is 233
2018-02-27 09:30:02,342 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000205DDD8>, order=<ib.ext.Order.Order object at 0x000000000205DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1208>>
2018-02-27 09:30:02,342 - DEBUG - Order OrderID 232
2018-02-27 09:30:02,343 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:30:02,343 - DEBUG - Order status PreSubmitted
2018-02-27 09:30:02,343 - DEBUG - Order Identification 232
2018-02-27 09:30:02,343 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:30:02,343 - DEBUG - Profit ID from database is 0
2018-02-27 09:30:02,344 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:30:02,344 - DEBUG - Stop ID database is 0
2018-02-27 09:30:02,344 - DEBUG - Entry ID database is 233
2018-02-27 09:30:04,335 - DEBUG - Connecting to database
2018-02-27 09:30:04,345 - DEBUG - Connected to database
2018-02-27 09:30:04,347 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,347 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:30:04,349 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,349 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:30:04,350 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,351 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:30:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,352 - DEBUG - Stop quantity 1
2018-02-27 09:30:04,354 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,354 - DEBUG - Direction is Long
2018-02-27 09:30:04,355 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,356 - DEBUG - Count is 0
2018-02-27 09:30:04,358 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:30:04,358 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:30:04,360 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:30:04,360 - DEBUG - Max ID Order is (234,)
2018-02-27 09:30:04,360 - DEBUG - Today is 2018-02-27
2018-02-27 09:30:04,361 - DEBUG - Day of the week 1
2018-02-27 09:30:04,361 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:30:04,361 - DEBUG - In Position is  0
2018-02-27 09:30:04,362 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:30:04,362 - DEBUG - curStopLossFlag is  0
2018-02-27 09:30:04,362 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:30:04,362 - DEBUG - Checking if Entry has been filled
2018-02-27 09:30:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:30:04,364 - DEBUG - EntryPend is 1
2018-02-27 09:30:04,364 - DEBUG - Try to Cancel Stop
2018-02-27 09:30:04,364 - DEBUG - Stop API ID 0
2018-02-27 09:30:04,365 - DEBUG - Profit API ID 0
2018-02-27 09:30:04,365 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:30:04,365 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:30:04,365 - DEBUG - Pos is 0
2018-02-27 09:30:04,366 - DEBUG - CurCount is 0
2018-02-27 09:30:04,366 - DEBUG - In Pos 0
2018-02-27 09:30:04,366 - DEBUG - Stop ID is 0
2018-02-27 09:30:04,366 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:30:04,368 - DEBUG - EntryPend is 1
2018-02-27 09:30:04,368 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:30:04,368 - DEBUG - Entry Date is 10
2018-02-27 09:30:04,368 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:30:04,368 - DEBUG - Order Profit ID is 0
2018-02-27 09:30:04,369 - DEBUG - Order Entry ID is 233
2018-02-27 09:30:04,369 - DEBUG - API ID is  0
2018-02-27 09:30:04,369 - DEBUG - Current Position is 0
2018-02-27 09:30:04,369 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:30:04,370 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:30:04,370 - DEBUG - Time is 9
2018-02-27 09:30:04,370 - DEBUG - Time is <class 'int'>
2018-02-27 09:30:04,370 - DEBUG - Disconnected from IBController
2018-02-27 09:30:04,371 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:35:00,266 - DEBUG - ****************************************************
2018-02-27 09:35:00,267 - DEBUG - Current Time is 09:35AM
2018-02-27 09:35:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:35:00,267 - DEBUG - Connecting to database
2018-02-27 09:35:00,298 - DEBUG - Connected to database
2018-02-27 09:35:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:00,300 - DEBUG - Order Profit is 0
2018-02-27 09:35:00,300 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:00,302 - DEBUG - Stop ID is 0
2018-02-27 09:35:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:00,303 - DEBUG - Entry ID is 233
2018-02-27 09:35:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:35:00,305 - DEBUG - OCA ID is 1
2018-02-27 09:35:00,305 - DEBUG - Connecting to IBController
2018-02-27 09:35:01,313 - DEBUG - Connected to IBController
2018-02-27 09:35:01,313 - DEBUG - Position requested
2018-02-27 09:35:01,315 - DEBUG - Pos Mgmt -12987
2018-02-27 09:35:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:35:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:35:01,316 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:35:01,316 - DEBUG - Position is -12987
2018-02-27 09:35:02,314 - DEBUG - Open Orders requested
2018-02-27 09:35:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0208>>
2018-02-27 09:35:02,317 - DEBUG - Order OrderID 225
2018-02-27 09:35:02,317 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:35:02,318 - DEBUG - Order status PreSubmitted
2018-02-27 09:35:02,318 - DEBUG - Order Identification 225
2018-02-27 09:35:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:35:02,319 - DEBUG - Profit ID from database is 0
2018-02-27 09:35:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:35:02,319 - DEBUG - Stop ID database is 0
2018-02-27 09:35:02,319 - DEBUG - Entry ID database is 233
2018-02-27 09:35:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0080>>
2018-02-27 09:35:02,321 - DEBUG - Order OrderID 234
2018-02-27 09:35:02,321 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:35:02,322 - DEBUG - Order status PreSubmitted
2018-02-27 09:35:02,322 - DEBUG - Order Identification 234
2018-02-27 09:35:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:35:02,322 - DEBUG - Profit ID from database is 0
2018-02-27 09:35:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:35:02,323 - DEBUG - Stop ID database is 0
2018-02-27 09:35:02,323 - DEBUG - Entry ID database is 233
2018-02-27 09:35:02,324 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0278>>
2018-02-27 09:35:02,324 - DEBUG - Order OrderID 235
2018-02-27 09:35:02,325 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:35:02,325 - DEBUG - Order status PreSubmitted
2018-02-27 09:35:02,325 - DEBUG - Order Identification 235
2018-02-27 09:35:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:35:02,326 - DEBUG - Profit ID from database is 0
2018-02-27 09:35:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:35:02,326 - DEBUG - Stop ID database is 0
2018-02-27 09:35:02,327 - DEBUG - Entry ID database is 233
2018-02-27 09:35:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E0358>>
2018-02-27 09:35:02,328 - DEBUG - Order OrderID 232
2018-02-27 09:35:02,328 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:35:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 09:35:02,329 - DEBUG - Order Identification 232
2018-02-27 09:35:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:35:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 09:35:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:35:02,330 - DEBUG - Stop ID database is 0
2018-02-27 09:35:02,330 - DEBUG - Entry ID database is 233
2018-02-27 09:35:04,317 - DEBUG - Connecting to database
2018-02-27 09:35:04,325 - DEBUG - Connected to database
2018-02-27 09:35:04,326 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:35:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:35:04,330 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:35:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,332 - DEBUG - Stop quantity 1
2018-02-27 09:35:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,334 - DEBUG - Direction is Long
2018-02-27 09:35:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,335 - DEBUG - Count is 0
2018-02-27 09:35:04,337 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:35:04,337 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:35:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:35:04,339 - DEBUG - Max ID Order is (235,)
2018-02-27 09:35:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 09:35:04,340 - DEBUG - Day of the week 1
2018-02-27 09:35:04,340 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:35:04,340 - DEBUG - In Position is  0
2018-02-27 09:35:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:35:04,341 - DEBUG - curStopLossFlag is  0
2018-02-27 09:35:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:35:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 09:35:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:35:04,343 - DEBUG - EntryPend is 1
2018-02-27 09:35:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 09:35:04,343 - DEBUG - Stop API ID 0
2018-02-27 09:35:04,343 - DEBUG - Profit API ID 0
2018-02-27 09:35:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:35:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:35:04,344 - DEBUG - Pos is 0
2018-02-27 09:35:04,344 - DEBUG - CurCount is 0
2018-02-27 09:35:04,345 - DEBUG - In Pos 0
2018-02-27 09:35:04,345 - DEBUG - Stop ID is 0
2018-02-27 09:35:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:35:04,347 - DEBUG - EntryPend is 1
2018-02-27 09:35:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:35:04,347 - DEBUG - Entry Date is 10
2018-02-27 09:35:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:35:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 09:35:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 09:35:04,348 - DEBUG - API ID is  0
2018-02-27 09:35:04,348 - DEBUG - Current Position is 0
2018-02-27 09:35:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:35:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:35:04,349 - DEBUG - Time is 9
2018-02-27 09:35:04,349 - DEBUG - Time is <class 'int'>
2018-02-27 09:35:04,349 - DEBUG - Disconnected from IBController
2018-02-27 09:35:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:40:00,266 - DEBUG - ****************************************************
2018-02-27 09:40:00,266 - DEBUG - Current Time is 09:40AM
2018-02-27 09:40:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:40:00,267 - DEBUG - Connecting to database
2018-02-27 09:40:00,291 - DEBUG - Connected to database
2018-02-27 09:40:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:00,293 - DEBUG - Order Profit is 0
2018-02-27 09:40:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:00,295 - DEBUG - Stop ID is 0
2018-02-27 09:40:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:00,297 - DEBUG - Entry ID is 233
2018-02-27 09:40:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:40:00,298 - DEBUG - OCA ID is 1
2018-02-27 09:40:00,299 - DEBUG - Connecting to IBController
2018-02-27 09:40:01,312 - DEBUG - Connected to IBController
2018-02-27 09:40:01,312 - DEBUG - Position requested
2018-02-27 09:40:01,314 - DEBUG - Pos Mgmt -12987
2018-02-27 09:40:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCAC8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:40:01,314 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:40:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:40:01,315 - DEBUG - Position is -12987
2018-02-27 09:40:02,313 - DEBUG - Open Orders requested
2018-02-27 09:40:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020DCB70>, order=<ib.ext.Order.Order object at 0x00000000020DCC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002171160>>
2018-02-27 09:40:02,316 - DEBUG - Order OrderID 225
2018-02-27 09:40:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:40:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 09:40:02,317 - DEBUG - Order Identification 225
2018-02-27 09:40:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:40:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 09:40:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:40:02,318 - DEBUG - Stop ID database is 0
2018-02-27 09:40:02,318 - DEBUG - Entry ID database is 233
2018-02-27 09:40:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x00000000020DCB70>, order=<ib.ext.Order.Order object at 0x00000000020DCC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021711D0>>
2018-02-27 09:40:02,320 - DEBUG - Order OrderID 234
2018-02-27 09:40:02,320 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:40:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 09:40:02,321 - DEBUG - Order Identification 234
2018-02-27 09:40:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:40:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 09:40:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:40:02,322 - DEBUG - Stop ID database is 0
2018-02-27 09:40:02,322 - DEBUG - Entry ID database is 233
2018-02-27 09:40:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x00000000020DCB70>, order=<ib.ext.Order.Order object at 0x00000000020DCC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021712B0>>
2018-02-27 09:40:02,323 - DEBUG - Order OrderID 235
2018-02-27 09:40:02,324 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:40:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 09:40:02,324 - DEBUG - Order Identification 235
2018-02-27 09:40:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:40:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 09:40:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:40:02,325 - DEBUG - Stop ID database is 0
2018-02-27 09:40:02,325 - DEBUG - Entry ID database is 233
2018-02-27 09:40:02,327 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020DCB70>, order=<ib.ext.Order.Order object at 0x00000000020DCC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021713C8>>
2018-02-27 09:40:02,327 - DEBUG - Order OrderID 232
2018-02-27 09:40:02,327 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:40:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 09:40:02,328 - DEBUG - Order Identification 232
2018-02-27 09:40:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:40:02,329 - DEBUG - Profit ID from database is 0
2018-02-27 09:40:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:40:02,329 - DEBUG - Stop ID database is 0
2018-02-27 09:40:02,330 - DEBUG - Entry ID database is 233
2018-02-27 09:40:04,314 - DEBUG - Connecting to database
2018-02-27 09:40:04,321 - DEBUG - Connected to database
2018-02-27 09:40:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:40:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:40:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:40:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,328 - DEBUG - Stop quantity 1
2018-02-27 09:40:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,330 - DEBUG - Direction is Long
2018-02-27 09:40:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,332 - DEBUG - Count is 0
2018-02-27 09:40:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:40:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:40:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:40:04,335 - DEBUG - Max ID Order is (235,)
2018-02-27 09:40:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 09:40:04,336 - DEBUG - Day of the week 1
2018-02-27 09:40:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:40:04,337 - DEBUG - In Position is  0
2018-02-27 09:40:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:40:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 09:40:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:40:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 09:40:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:40:04,339 - DEBUG - EntryPend is 1
2018-02-27 09:40:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 09:40:04,340 - DEBUG - Stop API ID 0
2018-02-27 09:40:04,340 - DEBUG - Profit API ID 0
2018-02-27 09:40:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:40:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:40:04,341 - DEBUG - Pos is 0
2018-02-27 09:40:04,341 - DEBUG - CurCount is 0
2018-02-27 09:40:04,341 - DEBUG - In Pos 0
2018-02-27 09:40:04,341 - DEBUG - Stop ID is 0
2018-02-27 09:40:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:40:04,343 - DEBUG - EntryPend is 1
2018-02-27 09:40:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:40:04,343 - DEBUG - Entry Date is 10
2018-02-27 09:40:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:40:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 09:40:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 09:40:04,344 - DEBUG - API ID is  0
2018-02-27 09:40:04,344 - DEBUG - Current Position is 0
2018-02-27 09:40:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:40:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:40:04,345 - DEBUG - Time is 9
2018-02-27 09:40:04,345 - DEBUG - Time is <class 'int'>
2018-02-27 09:40:04,346 - DEBUG - Disconnected from IBController
2018-02-27 09:40:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:45:00,266 - DEBUG - ****************************************************
2018-02-27 09:45:00,266 - DEBUG - Current Time is 09:45AM
2018-02-27 09:45:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:45:00,267 - DEBUG - Connecting to database
2018-02-27 09:45:00,286 - DEBUG - Connected to database
2018-02-27 09:45:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:00,288 - DEBUG - Order Profit is 0
2018-02-27 09:45:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:00,290 - DEBUG - Stop ID is 0
2018-02-27 09:45:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:00,292 - DEBUG - Entry ID is 233
2018-02-27 09:45:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:45:00,293 - DEBUG - OCA ID is 1
2018-02-27 09:45:00,294 - DEBUG - Connecting to IBController
2018-02-27 09:45:01,303 - DEBUG - Connected to IBController
2018-02-27 09:45:01,303 - DEBUG - Position requested
2018-02-27 09:45:01,305 - DEBUG - Pos Mgmt -12987
2018-02-27 09:45:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CEF0>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:45:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:45:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:45:01,306 - DEBUG - Position is -12987
2018-02-27 09:45:02,305 - DEBUG - Open Orders requested
2018-02-27 09:45:02,307 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0208>>
2018-02-27 09:45:02,308 - DEBUG - Order OrderID 225
2018-02-27 09:45:02,308 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:45:02,309 - DEBUG - Order status PreSubmitted
2018-02-27 09:45:02,309 - DEBUG - Order Identification 225
2018-02-27 09:45:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:45:02,310 - DEBUG - Profit ID from database is 0
2018-02-27 09:45:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:45:02,310 - DEBUG - Stop ID database is 0
2018-02-27 09:45:02,310 - DEBUG - Entry ID database is 233
2018-02-27 09:45:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0080>>
2018-02-27 09:45:02,312 - DEBUG - Order OrderID 234
2018-02-27 09:45:02,312 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:45:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 09:45:02,312 - DEBUG - Order Identification 234
2018-02-27 09:45:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:45:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 09:45:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:45:02,313 - DEBUG - Stop ID database is 0
2018-02-27 09:45:02,313 - DEBUG - Entry ID database is 233
2018-02-27 09:45:02,314 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0278>>
2018-02-27 09:45:02,315 - DEBUG - Order OrderID 235
2018-02-27 09:45:02,315 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:45:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 09:45:02,316 - DEBUG - Order Identification 235
2018-02-27 09:45:02,316 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:45:02,316 - DEBUG - Profit ID from database is 0
2018-02-27 09:45:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:45:02,317 - DEBUG - Stop ID database is 0
2018-02-27 09:45:02,317 - DEBUG - Entry ID database is 233
2018-02-27 09:45:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, order=<ib.ext.Order.Order object at 0x000000000203CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0358>>
2018-02-27 09:45:02,319 - DEBUG - Order OrderID 232
2018-02-27 09:45:02,319 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:45:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 09:45:02,320 - DEBUG - Order Identification 232
2018-02-27 09:45:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:45:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 09:45:02,320 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:45:02,321 - DEBUG - Stop ID database is 0
2018-02-27 09:45:02,321 - DEBUG - Entry ID database is 233
2018-02-27 09:45:04,308 - DEBUG - Connecting to database
2018-02-27 09:45:04,318 - DEBUG - Connected to database
2018-02-27 09:45:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:45:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:45:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:45:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,325 - DEBUG - Stop quantity 1
2018-02-27 09:45:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,327 - DEBUG - Direction is Long
2018-02-27 09:45:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,329 - DEBUG - Count is 0
2018-02-27 09:45:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:45:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:45:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:45:04,333 - DEBUG - Max ID Order is (235,)
2018-02-27 09:45:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 09:45:04,333 - DEBUG - Day of the week 1
2018-02-27 09:45:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:45:04,334 - DEBUG - In Position is  0
2018-02-27 09:45:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:45:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 09:45:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:45:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 09:45:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:45:04,336 - DEBUG - EntryPend is 1
2018-02-27 09:45:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 09:45:04,337 - DEBUG - Stop API ID 0
2018-02-27 09:45:04,337 - DEBUG - Profit API ID 0
2018-02-27 09:45:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:45:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:45:04,338 - DEBUG - Pos is 0
2018-02-27 09:45:04,338 - DEBUG - CurCount is 0
2018-02-27 09:45:04,338 - DEBUG - In Pos 0
2018-02-27 09:45:04,339 - DEBUG - Stop ID is 0
2018-02-27 09:45:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:45:04,340 - DEBUG - EntryPend is 1
2018-02-27 09:45:04,340 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:45:04,341 - DEBUG - Entry Date is 10
2018-02-27 09:45:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:45:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 09:45:04,341 - DEBUG - Order Entry ID is 233
2018-02-27 09:45:04,342 - DEBUG - API ID is  0
2018-02-27 09:45:04,342 - DEBUG - Current Position is 0
2018-02-27 09:45:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:45:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:45:04,343 - DEBUG - Time is 9
2018-02-27 09:45:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 09:45:04,343 - DEBUG - Disconnected from IBController
2018-02-27 09:45:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:50:00,266 - DEBUG - ****************************************************
2018-02-27 09:50:00,266 - DEBUG - Current Time is 09:50AM
2018-02-27 09:50:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:50:00,267 - DEBUG - Connecting to database
2018-02-27 09:50:00,290 - DEBUG - Connected to database
2018-02-27 09:50:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:00,292 - DEBUG - Order Profit is 0
2018-02-27 09:50:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:00,294 - DEBUG - Stop ID is 0
2018-02-27 09:50:00,294 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:00,296 - DEBUG - Entry ID is 233
2018-02-27 09:50:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:50:00,297 - DEBUG - OCA ID is 1
2018-02-27 09:50:00,298 - DEBUG - Connecting to IBController
2018-02-27 09:50:01,304 - DEBUG - Connected to IBController
2018-02-27 09:50:01,304 - DEBUG - Position requested
2018-02-27 09:50:01,306 - DEBUG - Pos Mgmt -12987
2018-02-27 09:50:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:50:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:50:01,307 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:50:01,307 - DEBUG - Position is -12987
2018-02-27 09:50:02,305 - DEBUG - Open Orders requested
2018-02-27 09:50:02,307 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0198>>
2018-02-27 09:50:02,308 - DEBUG - Order OrderID 225
2018-02-27 09:50:02,308 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:50:02,309 - DEBUG - Order status PreSubmitted
2018-02-27 09:50:02,309 - DEBUG - Order Identification 225
2018-02-27 09:50:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:50:02,310 - DEBUG - Profit ID from database is 0
2018-02-27 09:50:02,310 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:50:02,310 - DEBUG - Stop ID database is 0
2018-02-27 09:50:02,310 - DEBUG - Entry ID database is 233
2018-02-27 09:50:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0208>>
2018-02-27 09:50:02,312 - DEBUG - Order OrderID 234
2018-02-27 09:50:02,312 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:50:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 09:50:02,313 - DEBUG - Order Identification 234
2018-02-27 09:50:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:50:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 09:50:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:50:02,314 - DEBUG - Stop ID database is 0
2018-02-27 09:50:02,314 - DEBUG - Entry ID database is 233
2018-02-27 09:50:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D02E8>>
2018-02-27 09:50:02,315 - DEBUG - Order OrderID 235
2018-02-27 09:50:02,316 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:50:02,316 - DEBUG - Order status PreSubmitted
2018-02-27 09:50:02,316 - DEBUG - Order Identification 235
2018-02-27 09:50:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:50:02,317 - DEBUG - Profit ID from database is 0
2018-02-27 09:50:02,317 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:50:02,317 - DEBUG - Stop ID database is 0
2018-02-27 09:50:02,318 - DEBUG - Entry ID database is 233
2018-02-27 09:50:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, order=<ib.ext.Order.Order object at 0x000000000203DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0358>>
2018-02-27 09:50:02,319 - DEBUG - Order OrderID 232
2018-02-27 09:50:02,319 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:50:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 09:50:02,320 - DEBUG - Order Identification 232
2018-02-27 09:50:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:50:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 09:50:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:50:02,321 - DEBUG - Stop ID database is 0
2018-02-27 09:50:02,321 - DEBUG - Entry ID database is 233
2018-02-27 09:50:04,306 - DEBUG - Connecting to database
2018-02-27 09:50:04,314 - DEBUG - Connected to database
2018-02-27 09:50:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,315 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:50:04,317 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,317 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:50:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:50:04,320 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,321 - DEBUG - Stop quantity 1
2018-02-27 09:50:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,323 - DEBUG - Direction is Long
2018-02-27 09:50:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,324 - DEBUG - Count is 0
2018-02-27 09:50:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:50:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:50:04,327 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:50:04,328 - DEBUG - Max ID Order is (235,)
2018-02-27 09:50:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 09:50:04,328 - DEBUG - Day of the week 1
2018-02-27 09:50:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:50:04,329 - DEBUG - In Position is  0
2018-02-27 09:50:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:50:04,329 - DEBUG - curStopLossFlag is  0
2018-02-27 09:50:04,330 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:50:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 09:50:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:50:04,331 - DEBUG - EntryPend is 1
2018-02-27 09:50:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 09:50:04,332 - DEBUG - Stop API ID 0
2018-02-27 09:50:04,332 - DEBUG - Profit API ID 0
2018-02-27 09:50:04,333 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:50:04,333 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:50:04,333 - DEBUG - Pos is 0
2018-02-27 09:50:04,333 - DEBUG - CurCount is 0
2018-02-27 09:50:04,334 - DEBUG - In Pos 0
2018-02-27 09:50:04,334 - DEBUG - Stop ID is 0
2018-02-27 09:50:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:50:04,336 - DEBUG - EntryPend is 1
2018-02-27 09:50:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:50:04,336 - DEBUG - Entry Date is 10
2018-02-27 09:50:04,336 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:50:04,337 - DEBUG - Order Profit ID is 0
2018-02-27 09:50:04,337 - DEBUG - Order Entry ID is 233
2018-02-27 09:50:04,337 - DEBUG - API ID is  0
2018-02-27 09:50:04,337 - DEBUG - Current Position is 0
2018-02-27 09:50:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:50:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:50:04,338 - DEBUG - Time is 9
2018-02-27 09:50:04,338 - DEBUG - Time is <class 'int'>
2018-02-27 09:50:04,340 - DEBUG - Disconnected from IBController
2018-02-27 09:50:04,340 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:55:00,266 - DEBUG - ****************************************************
2018-02-27 09:55:00,266 - DEBUG - Current Time is 09:55AM
2018-02-27 09:55:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 09:55:00,267 - DEBUG - Connecting to database
2018-02-27 09:55:00,292 - DEBUG - Connected to database
2018-02-27 09:55:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:00,294 - DEBUG - Order Profit is 0
2018-02-27 09:55:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:00,296 - DEBUG - Stop ID is 0
2018-02-27 09:55:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:00,297 - DEBUG - Entry ID is 233
2018-02-27 09:55:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:55:00,299 - DEBUG - OCA ID is 1
2018-02-27 09:55:00,299 - DEBUG - Connecting to IBController
2018-02-27 09:55:01,311 - DEBUG - Connected to IBController
2018-02-27 09:55:01,311 - DEBUG - Position requested
2018-02-27 09:55:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 09:55:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CEF0>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:55:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:55:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:55:01,314 - DEBUG - Position is -12987
2018-02-27 09:55:02,313 - DEBUG - Open Orders requested
2018-02-27 09:55:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CCC0>, order=<ib.ext.Order.Order object at 0x000000000207CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021111D0>>
2018-02-27 09:55:02,316 - DEBUG - Order OrderID 225
2018-02-27 09:55:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:55:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 09:55:02,317 - DEBUG - Order Identification 225
2018-02-27 09:55:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:55:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 09:55:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:55:02,318 - DEBUG - Stop ID database is 0
2018-02-27 09:55:02,318 - DEBUG - Entry ID database is 233
2018-02-27 09:55:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000207CCC0>, order=<ib.ext.Order.Order object at 0x000000000207CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110B8>>
2018-02-27 09:55:02,320 - DEBUG - Order OrderID 234
2018-02-27 09:55:02,320 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:55:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 09:55:02,321 - DEBUG - Order Identification 234
2018-02-27 09:55:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:55:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 09:55:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:55:02,322 - DEBUG - Stop ID database is 0
2018-02-27 09:55:02,322 - DEBUG - Entry ID database is 233
2018-02-27 09:55:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000207CCC0>, order=<ib.ext.Order.Order object at 0x000000000207CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111240>>
2018-02-27 09:55:02,324 - DEBUG - Order OrderID 235
2018-02-27 09:55:02,324 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:55:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 09:55:02,325 - DEBUG - Order Identification 235
2018-02-27 09:55:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:55:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 09:55:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:55:02,326 - DEBUG - Stop ID database is 0
2018-02-27 09:55:02,326 - DEBUG - Entry ID database is 233
2018-02-27 09:55:02,327 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207CCC0>, order=<ib.ext.Order.Order object at 0x000000000207CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111320>>
2018-02-27 09:55:02,327 - DEBUG - Order OrderID 232
2018-02-27 09:55:02,328 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:55:02,328 - DEBUG - Order status PreSubmitted
2018-02-27 09:55:02,328 - DEBUG - Order Identification 232
2018-02-27 09:55:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:55:02,329 - DEBUG - Profit ID from database is 0
2018-02-27 09:55:02,329 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:55:02,329 - DEBUG - Stop ID database is 0
2018-02-27 09:55:02,329 - DEBUG - Entry ID database is 233
2018-02-27 09:55:04,316 - DEBUG - Connecting to database
2018-02-27 09:55:04,333 - DEBUG - Connected to database
2018-02-27 09:55:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,335 - DEBUG - Stop loss value is 2742.75
2018-02-27 09:55:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,336 - DEBUG - Stop loss value is 2797.0
2018-02-27 09:55:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 09:55:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,340 - DEBUG - Stop quantity 1
2018-02-27 09:55:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,341 - DEBUG - Direction is Long
2018-02-27 09:55:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,343 - DEBUG - Count is 0
2018-02-27 09:55:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 09:55:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:55:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:55:04,347 - DEBUG - Max ID Order is (235,)
2018-02-27 09:55:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 09:55:04,348 - DEBUG - Day of the week 1
2018-02-27 09:55:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:55:04,348 - DEBUG - In Position is  0
2018-02-27 09:55:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:55:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 09:55:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:55:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 09:55:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:55:04,351 - DEBUG - EntryPend is 1
2018-02-27 09:55:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 09:55:04,351 - DEBUG - Stop API ID 0
2018-02-27 09:55:04,351 - DEBUG - Profit API ID 0
2018-02-27 09:55:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:55:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:55:04,352 - DEBUG - Pos is 0
2018-02-27 09:55:04,352 - DEBUG - CurCount is 0
2018-02-27 09:55:04,352 - DEBUG - In Pos 0
2018-02-27 09:55:04,353 - DEBUG - Stop ID is 0
2018-02-27 09:55:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 09:55:04,354 - DEBUG - EntryPend is 1
2018-02-27 09:55:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:55:04,355 - DEBUG - Entry Date is 10
2018-02-27 09:55:04,355 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:55:04,355 - DEBUG - Order Profit ID is 0
2018-02-27 09:55:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 09:55:04,356 - DEBUG - API ID is  0
2018-02-27 09:55:04,356 - DEBUG - Current Position is 0
2018-02-27 09:55:04,356 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:55:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:55:04,357 - DEBUG - Time is 9
2018-02-27 09:55:04,357 - DEBUG - Time is <class 'int'>
2018-02-27 09:55:04,357 - DEBUG - Disconnected from IBController
2018-02-27 09:55:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:00:00,271 - DEBUG - ****************************************************
2018-02-27 10:00:00,271 - DEBUG - Current Time is 10:00AM
2018-02-27 10:00:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:00:00,272 - DEBUG - Connecting to database
2018-02-27 10:00:00,291 - DEBUG - Connected to database
2018-02-27 10:00:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:00,293 - DEBUG - Order Profit is 0
2018-02-27 10:00:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:00,295 - DEBUG - Stop ID is 0
2018-02-27 10:00:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:00,297 - DEBUG - Entry ID is 233
2018-02-27 10:00:00,297 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:00:00,299 - DEBUG - OCA ID is 1
2018-02-27 10:00:00,299 - DEBUG - Connecting to IBController
2018-02-27 10:00:01,309 - DEBUG - Connected to IBController
2018-02-27 10:00:01,309 - DEBUG - Position requested
2018-02-27 10:00:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 10:00:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:00:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:00:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:00:01,312 - DEBUG - Position is -12987
2018-02-27 10:00:02,310 - DEBUG - Open Orders requested
2018-02-27 10:00:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, order=<ib.ext.Order.Order object at 0x000000000207DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110198>>
2018-02-27 10:00:02,313 - DEBUG - Order OrderID 225
2018-02-27 10:00:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:00:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 10:00:02,314 - DEBUG - Order Identification 225
2018-02-27 10:00:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:00:02,315 - DEBUG - Profit ID from database is 0
2018-02-27 10:00:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:00:02,315 - DEBUG - Stop ID database is 0
2018-02-27 10:00:02,316 - DEBUG - Entry ID database is 233
2018-02-27 10:00:02,317 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, order=<ib.ext.Order.Order object at 0x000000000207DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110208>>
2018-02-27 10:00:02,317 - DEBUG - Order OrderID 234
2018-02-27 10:00:02,318 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:00:02,318 - DEBUG - Order status PreSubmitted
2018-02-27 10:00:02,318 - DEBUG - Order Identification 234
2018-02-27 10:00:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:00:02,319 - DEBUG - Profit ID from database is 0
2018-02-27 10:00:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:00:02,319 - DEBUG - Stop ID database is 0
2018-02-27 10:00:02,319 - DEBUG - Entry ID database is 233
2018-02-27 10:00:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, order=<ib.ext.Order.Order object at 0x000000000207DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021102E8>>
2018-02-27 10:00:02,321 - DEBUG - Order OrderID 235
2018-02-27 10:00:02,321 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:00:02,321 - DEBUG - Order status PreSubmitted
2018-02-27 10:00:02,322 - DEBUG - Order Identification 235
2018-02-27 10:00:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:00:02,322 - DEBUG - Profit ID from database is 0
2018-02-27 10:00:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:00:02,323 - DEBUG - Stop ID database is 0
2018-02-27 10:00:02,323 - DEBUG - Entry ID database is 233
2018-02-27 10:00:02,324 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, order=<ib.ext.Order.Order object at 0x000000000207DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110358>>
2018-02-27 10:00:02,324 - DEBUG - Order OrderID 232
2018-02-27 10:00:02,325 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:00:02,325 - DEBUG - Order status PreSubmitted
2018-02-27 10:00:02,325 - DEBUG - Order Identification 232
2018-02-27 10:00:02,326 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:00:02,326 - DEBUG - Profit ID from database is 0
2018-02-27 10:00:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:00:02,326 - DEBUG - Stop ID database is 0
2018-02-27 10:00:02,327 - DEBUG - Entry ID database is 233
2018-02-27 10:00:04,311 - DEBUG - Connecting to database
2018-02-27 10:00:04,318 - DEBUG - Connected to database
2018-02-27 10:00:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:00:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:00:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:00:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,326 - DEBUG - Stop quantity 1
2018-02-27 10:00:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,327 - DEBUG - Direction is Long
2018-02-27 10:00:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,329 - DEBUG - Count is 0
2018-02-27 10:00:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:00:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:00:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:00:04,332 - DEBUG - Max ID Order is (235,)
2018-02-27 10:00:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 10:00:04,333 - DEBUG - Day of the week 1
2018-02-27 10:00:04,333 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:00:04,334 - DEBUG - In Position is  0
2018-02-27 10:00:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:00:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 10:00:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:00:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 10:00:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:00:04,336 - DEBUG - EntryPend is 1
2018-02-27 10:00:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 10:00:04,337 - DEBUG - Stop API ID 0
2018-02-27 10:00:04,337 - DEBUG - Profit API ID 0
2018-02-27 10:00:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:00:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:00:04,338 - DEBUG - Pos is 0
2018-02-27 10:00:04,338 - DEBUG - CurCount is 0
2018-02-27 10:00:04,338 - DEBUG - In Pos 0
2018-02-27 10:00:04,338 - DEBUG - Stop ID is 0
2018-02-27 10:00:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:00:04,340 - DEBUG - EntryPend is 1
2018-02-27 10:00:04,340 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:00:04,341 - DEBUG - Entry Date is 10
2018-02-27 10:00:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:00:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 10:00:04,341 - DEBUG - Order Entry ID is 233
2018-02-27 10:00:04,342 - DEBUG - API ID is  0
2018-02-27 10:00:04,342 - DEBUG - Current Position is 0
2018-02-27 10:00:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:00:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:00:04,342 - DEBUG - Time is 10
2018-02-27 10:00:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 10:00:04,343 - DEBUG - Disconnected from IBController
2018-02-27 10:00:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:05:00,271 - DEBUG - ****************************************************
2018-02-27 10:05:00,271 - DEBUG - Current Time is 10:05AM
2018-02-27 10:05:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:05:00,272 - DEBUG - Connecting to database
2018-02-27 10:05:00,311 - DEBUG - Connected to database
2018-02-27 10:05:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:00,313 - DEBUG - Order Profit is 0
2018-02-27 10:05:00,313 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:00,314 - DEBUG - Stop ID is 0
2018-02-27 10:05:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:00,316 - DEBUG - Entry ID is 233
2018-02-27 10:05:00,316 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:05:00,318 - DEBUG - OCA ID is 1
2018-02-27 10:05:00,318 - DEBUG - Connecting to IBController
2018-02-27 10:05:01,330 - DEBUG - Connected to IBController
2018-02-27 10:05:01,330 - DEBUG - Position requested
2018-02-27 10:05:01,332 - DEBUG - Pos Mgmt -5
2018-02-27 10:05:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-5, avgCost=15354.669999999998>
2018-02-27 10:05:01,333 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:05:01,333 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:05:01,333 - DEBUG - Position is -5
2018-02-27 10:05:01,333 - DEBUG - Pos Mgmt -12987
2018-02-27 10:05:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:05:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:05:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:05:01,334 - DEBUG - Position is -12987
2018-02-27 10:05:02,331 - DEBUG - Open Orders requested
2018-02-27 10:05:02,333 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, order=<ib.ext.Order.Order object at 0x000000000208DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 10:05:02,333 - DEBUG - Order OrderID 225
2018-02-27 10:05:02,334 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:05:02,334 - DEBUG - Order status PreSubmitted
2018-02-27 10:05:02,335 - DEBUG - Order Identification 225
2018-02-27 10:05:02,335 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:05:02,335 - DEBUG - Profit ID from database is 0
2018-02-27 10:05:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:05:02,336 - DEBUG - Stop ID database is 0
2018-02-27 10:05:02,336 - DEBUG - Entry ID database is 233
2018-02-27 10:05:02,337 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DFD0>, order=<ib.ext.Order.Order object at 0x000000000208DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121160>>
2018-02-27 10:05:02,337 - DEBUG - Order OrderID 236
2018-02-27 10:05:02,338 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:05:02,338 - DEBUG - Order status PreSubmitted
2018-02-27 10:05:02,338 - DEBUG - Order Identification 236
2018-02-27 10:05:02,339 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:05:02,339 - DEBUG - Profit ID from database is 0
2018-02-27 10:05:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:05:02,339 - DEBUG - Stop ID database is 0
2018-02-27 10:05:02,339 - DEBUG - Entry ID database is 233
2018-02-27 10:05:04,333 - DEBUG - Connecting to database
2018-02-27 10:05:04,341 - DEBUG - Connected to database
2018-02-27 10:05:04,342 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,343 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:05:04,344 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,344 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:05:04,346 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,346 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:05:04,348 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,349 - DEBUG - Stop quantity 1
2018-02-27 10:05:04,351 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,352 - DEBUG - Direction is Long
2018-02-27 10:05:04,353 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,353 - DEBUG - Count is 0
2018-02-27 10:05:04,355 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:05:04,355 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:05:04,356 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:05:04,357 - DEBUG - Max ID Order is (236,)
2018-02-27 10:05:04,357 - DEBUG - Today is 2018-02-27
2018-02-27 10:05:04,358 - DEBUG - Day of the week 1
2018-02-27 10:05:04,358 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:05:04,358 - DEBUG - In Position is  0
2018-02-27 10:05:04,358 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:05:04,359 - DEBUG - curStopLossFlag is  0
2018-02-27 10:05:04,359 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:05:04,359 - DEBUG - Checking if Entry has been filled
2018-02-27 10:05:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:05:04,361 - DEBUG - EntryPend is 1
2018-02-27 10:05:04,361 - DEBUG - Try to Cancel Stop
2018-02-27 10:05:04,361 - DEBUG - Stop API ID 0
2018-02-27 10:05:04,362 - DEBUG - Profit API ID 0
2018-02-27 10:05:04,362 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:05:04,362 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:05:04,362 - DEBUG - Pos is 0
2018-02-27 10:05:04,362 - DEBUG - CurCount is 0
2018-02-27 10:05:04,363 - DEBUG - In Pos 0
2018-02-27 10:05:04,363 - DEBUG - Stop ID is 0
2018-02-27 10:05:04,363 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:05:04,365 - DEBUG - EntryPend is 1
2018-02-27 10:05:04,365 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:05:04,365 - DEBUG - Entry Date is 10
2018-02-27 10:05:04,365 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:05:04,366 - DEBUG - Order Profit ID is 0
2018-02-27 10:05:04,366 - DEBUG - Order Entry ID is 233
2018-02-27 10:05:04,366 - DEBUG - API ID is  0
2018-02-27 10:05:04,366 - DEBUG - Current Position is 0
2018-02-27 10:05:04,366 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:05:04,367 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:05:04,367 - DEBUG - Time is 10
2018-02-27 10:05:04,367 - DEBUG - Time is <class 'int'>
2018-02-27 10:05:04,367 - DEBUG - Disconnected from IBController
2018-02-27 10:05:04,368 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:10:00,312 - DEBUG - ****************************************************
2018-02-27 10:10:00,313 - DEBUG - Current Time is 10:10AM
2018-02-27 10:10:00,313 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:10:00,314 - DEBUG - Connecting to database
2018-02-27 10:10:00,366 - DEBUG - Connected to database
2018-02-27 10:10:00,366 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:00,368 - DEBUG - Order Profit is 0
2018-02-27 10:10:00,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:00,369 - DEBUG - Stop ID is 0
2018-02-27 10:10:00,370 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:00,371 - DEBUG - Entry ID is 233
2018-02-27 10:10:00,371 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:10:00,373 - DEBUG - OCA ID is 1
2018-02-27 10:10:00,373 - DEBUG - Connecting to IBController
2018-02-27 10:10:01,380 - DEBUG - Connected to IBController
2018-02-27 10:10:01,380 - DEBUG - Position requested
2018-02-27 10:10:01,394 - DEBUG - Pos Mgmt -10
2018-02-27 10:10:01,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, pos=-10, avgCost=15344.045>
2018-02-27 10:10:01,403 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:10:01,404 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:10:01,404 - DEBUG - Position is -10
2018-02-27 10:10:01,404 - DEBUG - Pos Mgmt -12987
2018-02-27 10:10:01,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:10:01,405 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:10:01,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:10:01,406 - DEBUG - Position is -12987
2018-02-27 10:10:02,385 - DEBUG - Open Orders requested
2018-02-27 10:10:02,387 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, order=<ib.ext.Order.Order object at 0x000000000208DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 10:10:02,387 - DEBUG - Order OrderID 236
2018-02-27 10:10:02,388 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:10:02,388 - DEBUG - Order status PreSubmitted
2018-02-27 10:10:02,389 - DEBUG - Order Identification 236
2018-02-27 10:10:02,389 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:10:02,389 - DEBUG - Profit ID from database is 0
2018-02-27 10:10:02,389 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:10:02,390 - DEBUG - Stop ID database is 0
2018-02-27 10:10:02,390 - DEBUG - Entry ID database is 233
2018-02-27 10:10:04,387 - DEBUG - Connecting to database
2018-02-27 10:10:04,394 - DEBUG - Connected to database
2018-02-27 10:10:04,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,396 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:10:04,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,402 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:10:04,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,404 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:10:04,405 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,405 - DEBUG - Stop quantity 1
2018-02-27 10:10:04,406 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,407 - DEBUG - Direction is Long
2018-02-27 10:10:04,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,412 - DEBUG - Count is 0
2018-02-27 10:10:04,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:10:04,414 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:10:04,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:10:04,415 - DEBUG - Max ID Order is (236,)
2018-02-27 10:10:04,416 - DEBUG - Today is 2018-02-27
2018-02-27 10:10:04,416 - DEBUG - Day of the week 1
2018-02-27 10:10:04,416 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:10:04,417 - DEBUG - In Position is  0
2018-02-27 10:10:04,417 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:10:04,417 - DEBUG - curStopLossFlag is  0
2018-02-27 10:10:04,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:10:04,418 - DEBUG - Checking if Entry has been filled
2018-02-27 10:10:04,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:10:04,420 - DEBUG - EntryPend is 1
2018-02-27 10:10:04,421 - DEBUG - Try to Cancel Stop
2018-02-27 10:10:04,421 - DEBUG - Stop API ID 0
2018-02-27 10:10:04,421 - DEBUG - Profit API ID 0
2018-02-27 10:10:04,421 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:10:04,422 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:10:04,422 - DEBUG - Pos is 0
2018-02-27 10:10:04,423 - DEBUG - CurCount is 0
2018-02-27 10:10:04,423 - DEBUG - In Pos 0
2018-02-27 10:10:04,424 - DEBUG - Stop ID is 0
2018-02-27 10:10:04,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:10:04,427 - DEBUG - EntryPend is 1
2018-02-27 10:10:04,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:10:04,428 - DEBUG - Entry Date is 10
2018-02-27 10:10:04,429 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:10:04,429 - DEBUG - Order Profit ID is 0
2018-02-27 10:10:04,429 - DEBUG - Order Entry ID is 233
2018-02-27 10:10:04,431 - DEBUG - API ID is  0
2018-02-27 10:10:04,432 - DEBUG - Current Position is 0
2018-02-27 10:10:04,433 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:10:04,434 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:10:04,434 - DEBUG - Time is 10
2018-02-27 10:10:04,435 - DEBUG - Time is <class 'int'>
2018-02-27 10:10:04,435 - DEBUG - Disconnected from IBController
2018-02-27 10:10:04,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:15:00,270 - DEBUG - ****************************************************
2018-02-27 10:15:00,271 - DEBUG - Current Time is 10:15AM
2018-02-27 10:15:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:15:00,271 - DEBUG - Connecting to database
2018-02-27 10:15:00,313 - DEBUG - Connected to database
2018-02-27 10:15:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:00,315 - DEBUG - Order Profit is 0
2018-02-27 10:15:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:00,316 - DEBUG - Stop ID is 0
2018-02-27 10:15:00,317 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:00,318 - DEBUG - Entry ID is 233
2018-02-27 10:15:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:15:00,320 - DEBUG - OCA ID is 1
2018-02-27 10:15:00,320 - DEBUG - Connecting to IBController
2018-02-27 10:15:01,328 - DEBUG - Connected to IBController
2018-02-27 10:15:01,328 - DEBUG - Position requested
2018-02-27 10:15:01,330 - DEBUG - Pos Mgmt -10
2018-02-27 10:15:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 10:15:01,330 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:15:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:15:01,331 - DEBUG - Position is -10
2018-02-27 10:15:01,331 - DEBUG - Pos Mgmt -12987
2018-02-27 10:15:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:15:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:15:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:15:01,332 - DEBUG - Position is -12987
2018-02-27 10:15:02,330 - DEBUG - Open Orders requested
2018-02-27 10:15:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 10:15:02,332 - DEBUG - Order OrderID 236
2018-02-27 10:15:02,333 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:15:02,333 - DEBUG - Order status PreSubmitted
2018-02-27 10:15:02,334 - DEBUG - Order Identification 236
2018-02-27 10:15:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:15:02,334 - DEBUG - Profit ID from database is 0
2018-02-27 10:15:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:15:02,335 - DEBUG - Stop ID database is 0
2018-02-27 10:15:02,335 - DEBUG - Entry ID database is 233
2018-02-27 10:15:04,332 - DEBUG - Connecting to database
2018-02-27 10:15:04,339 - DEBUG - Connected to database
2018-02-27 10:15:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,341 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:15:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,343 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:15:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,345 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:15:04,346 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,346 - DEBUG - Stop quantity 1
2018-02-27 10:15:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,348 - DEBUG - Direction is Long
2018-02-27 10:15:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,350 - DEBUG - Count is 0
2018-02-27 10:15:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:15:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:15:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:15:04,354 - DEBUG - Max ID Order is (236,)
2018-02-27 10:15:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 10:15:04,354 - DEBUG - Day of the week 1
2018-02-27 10:15:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:15:04,355 - DEBUG - In Position is  0
2018-02-27 10:15:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:15:04,355 - DEBUG - curStopLossFlag is  0
2018-02-27 10:15:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:15:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 10:15:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:15:04,358 - DEBUG - EntryPend is 1
2018-02-27 10:15:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 10:15:04,358 - DEBUG - Stop API ID 0
2018-02-27 10:15:04,358 - DEBUG - Profit API ID 0
2018-02-27 10:15:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:15:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:15:04,359 - DEBUG - Pos is 0
2018-02-27 10:15:04,359 - DEBUG - CurCount is 0
2018-02-27 10:15:04,359 - DEBUG - In Pos 0
2018-02-27 10:15:04,360 - DEBUG - Stop ID is 0
2018-02-27 10:15:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:15:04,361 - DEBUG - EntryPend is 1
2018-02-27 10:15:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:15:04,362 - DEBUG - Entry Date is 10
2018-02-27 10:15:04,362 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:15:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 10:15:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 10:15:04,363 - DEBUG - API ID is  0
2018-02-27 10:15:04,363 - DEBUG - Current Position is 0
2018-02-27 10:15:04,363 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:15:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:15:04,364 - DEBUG - Time is 10
2018-02-27 10:15:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 10:15:04,364 - DEBUG - Disconnected from IBController
2018-02-27 10:15:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:20:00,270 - DEBUG - ****************************************************
2018-02-27 10:20:00,271 - DEBUG - Current Time is 10:20AM
2018-02-27 10:20:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:20:00,271 - DEBUG - Connecting to database
2018-02-27 10:20:00,313 - DEBUG - Connected to database
2018-02-27 10:20:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:00,315 - DEBUG - Order Profit is 0
2018-02-27 10:20:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:00,316 - DEBUG - Stop ID is 0
2018-02-27 10:20:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:00,318 - DEBUG - Entry ID is 233
2018-02-27 10:20:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:20:00,319 - DEBUG - OCA ID is 1
2018-02-27 10:20:00,320 - DEBUG - Connecting to IBController
2018-02-27 10:20:01,330 - DEBUG - Connected to IBController
2018-02-27 10:20:01,330 - DEBUG - Position requested
2018-02-27 10:20:01,332 - DEBUG - Pos Mgmt -10
2018-02-27 10:20:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 10:20:01,337 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:20:01,338 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:20:01,338 - DEBUG - Position is -10
2018-02-27 10:20:01,339 - DEBUG - Pos Mgmt -12987
2018-02-27 10:20:01,339 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:20:01,339 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:20:01,340 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:20:01,340 - DEBUG - Position is -12987
2018-02-27 10:20:02,336 - DEBUG - Open Orders requested
2018-02-27 10:20:02,338 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, order=<ib.ext.Order.Order object at 0x000000000208DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 10:20:02,338 - DEBUG - Order OrderID 236
2018-02-27 10:20:02,339 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:20:02,339 - DEBUG - Order status PreSubmitted
2018-02-27 10:20:02,340 - DEBUG - Order Identification 236
2018-02-27 10:20:02,340 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:20:02,340 - DEBUG - Profit ID from database is 0
2018-02-27 10:20:02,340 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:20:02,341 - DEBUG - Stop ID database is 0
2018-02-27 10:20:02,341 - DEBUG - Entry ID database is 233
2018-02-27 10:20:04,338 - DEBUG - Connecting to database
2018-02-27 10:20:04,345 - DEBUG - Connected to database
2018-02-27 10:20:04,347 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,347 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:20:04,349 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,349 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:20:04,350 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,351 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:20:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,353 - DEBUG - Stop quantity 1
2018-02-27 10:20:04,354 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,354 - DEBUG - Direction is Long
2018-02-27 10:20:04,356 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,356 - DEBUG - Count is 0
2018-02-27 10:20:04,357 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:20:04,358 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:20:04,359 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:20:04,359 - DEBUG - Max ID Order is (236,)
2018-02-27 10:20:04,360 - DEBUG - Today is 2018-02-27
2018-02-27 10:20:04,360 - DEBUG - Day of the week 1
2018-02-27 10:20:04,361 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:20:04,361 - DEBUG - In Position is  0
2018-02-27 10:20:04,361 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:20:04,361 - DEBUG - curStopLossFlag is  0
2018-02-27 10:20:04,361 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:20:04,362 - DEBUG - Checking if Entry has been filled
2018-02-27 10:20:04,362 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:20:04,363 - DEBUG - EntryPend is 1
2018-02-27 10:20:04,364 - DEBUG - Try to Cancel Stop
2018-02-27 10:20:04,364 - DEBUG - Stop API ID 0
2018-02-27 10:20:04,364 - DEBUG - Profit API ID 0
2018-02-27 10:20:04,364 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:20:04,365 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:20:04,365 - DEBUG - Pos is 0
2018-02-27 10:20:04,365 - DEBUG - CurCount is 0
2018-02-27 10:20:04,365 - DEBUG - In Pos 0
2018-02-27 10:20:04,366 - DEBUG - Stop ID is 0
2018-02-27 10:20:04,366 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:20:04,367 - DEBUG - EntryPend is 1
2018-02-27 10:20:04,367 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:20:04,368 - DEBUG - Entry Date is 10
2018-02-27 10:20:04,368 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:20:04,368 - DEBUG - Order Profit ID is 0
2018-02-27 10:20:04,368 - DEBUG - Order Entry ID is 233
2018-02-27 10:20:04,369 - DEBUG - API ID is  0
2018-02-27 10:20:04,369 - DEBUG - Current Position is 0
2018-02-27 10:20:04,369 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:20:04,369 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:20:04,370 - DEBUG - Time is 10
2018-02-27 10:20:04,370 - DEBUG - Time is <class 'int'>
2018-02-27 10:20:04,370 - DEBUG - Disconnected from IBController
2018-02-27 10:20:04,371 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:25:00,265 - DEBUG - ****************************************************
2018-02-27 10:25:00,266 - DEBUG - Current Time is 10:25AM
2018-02-27 10:25:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:25:00,266 - DEBUG - Connecting to database
2018-02-27 10:25:00,300 - DEBUG - Connected to database
2018-02-27 10:25:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:00,302 - DEBUG - Order Profit is 0
2018-02-27 10:25:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:00,303 - DEBUG - Stop ID is 0
2018-02-27 10:25:00,304 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:00,305 - DEBUG - Entry ID is 233
2018-02-27 10:25:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:25:00,307 - DEBUG - OCA ID is 1
2018-02-27 10:25:00,307 - DEBUG - Connecting to IBController
2018-02-27 10:25:01,320 - DEBUG - Connected to IBController
2018-02-27 10:25:01,320 - DEBUG - Position requested
2018-02-27 10:25:01,324 - DEBUG - Pos Mgmt -10
2018-02-27 10:25:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDD30>, pos=-10, avgCost=15344.045>
2018-02-27 10:25:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:25:01,326 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:25:01,326 - DEBUG - Position is -10
2018-02-27 10:25:01,326 - DEBUG - Pos Mgmt -12987
2018-02-27 10:25:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:25:01,327 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:25:01,327 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:25:01,327 - DEBUG - Position is -12987
2018-02-27 10:25:02,324 - DEBUG - Open Orders requested
2018-02-27 10:25:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE10>, order=<ib.ext.Order.Order object at 0x00000000020CDCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021610F0>>
2018-02-27 10:25:02,326 - DEBUG - Order OrderID 236
2018-02-27 10:25:02,327 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:25:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 10:25:02,328 - DEBUG - Order Identification 236
2018-02-27 10:25:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:25:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 10:25:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:25:02,329 - DEBUG - Stop ID database is 0
2018-02-27 10:25:02,329 - DEBUG - Entry ID database is 233
2018-02-27 10:25:04,326 - DEBUG - Connecting to database
2018-02-27 10:25:04,333 - DEBUG - Connected to database
2018-02-27 10:25:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,335 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:25:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,337 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:25:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:25:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,340 - DEBUG - Stop quantity 1
2018-02-27 10:25:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,342 - DEBUG - Direction is Long
2018-02-27 10:25:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,344 - DEBUG - Count is 0
2018-02-27 10:25:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:25:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:25:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:25:04,347 - DEBUG - Max ID Order is (236,)
2018-02-27 10:25:04,348 - DEBUG - Today is 2018-02-27
2018-02-27 10:25:04,348 - DEBUG - Day of the week 1
2018-02-27 10:25:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:25:04,349 - DEBUG - In Position is  0
2018-02-27 10:25:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:25:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 10:25:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:25:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 10:25:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:25:04,351 - DEBUG - EntryPend is 1
2018-02-27 10:25:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 10:25:04,352 - DEBUG - Stop API ID 0
2018-02-27 10:25:04,352 - DEBUG - Profit API ID 0
2018-02-27 10:25:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:25:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:25:04,353 - DEBUG - Pos is 0
2018-02-27 10:25:04,353 - DEBUG - CurCount is 0
2018-02-27 10:25:04,353 - DEBUG - In Pos 0
2018-02-27 10:25:04,353 - DEBUG - Stop ID is 0
2018-02-27 10:25:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:25:04,356 - DEBUG - EntryPend is 1
2018-02-27 10:25:04,356 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:25:04,357 - DEBUG - Entry Date is 10
2018-02-27 10:25:04,357 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:25:04,357 - DEBUG - Order Profit ID is 0
2018-02-27 10:25:04,357 - DEBUG - Order Entry ID is 233
2018-02-27 10:25:04,358 - DEBUG - API ID is  0
2018-02-27 10:25:04,358 - DEBUG - Current Position is 0
2018-02-27 10:25:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:25:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:25:04,359 - DEBUG - Time is 10
2018-02-27 10:25:04,359 - DEBUG - Time is <class 'int'>
2018-02-27 10:25:04,359 - DEBUG - Disconnected from IBController
2018-02-27 10:25:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:30:00,279 - DEBUG - ****************************************************
2018-02-27 10:30:00,279 - DEBUG - Current Time is 10:30AM
2018-02-27 10:30:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:30:00,280 - DEBUG - Connecting to database
2018-02-27 10:30:00,357 - DEBUG - Connected to database
2018-02-27 10:30:00,357 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:00,359 - DEBUG - Order Profit is 0
2018-02-27 10:30:00,359 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:00,361 - DEBUG - Stop ID is 0
2018-02-27 10:30:00,361 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:00,362 - DEBUG - Entry ID is 233
2018-02-27 10:30:00,363 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:30:00,364 - DEBUG - OCA ID is 1
2018-02-27 10:30:00,364 - DEBUG - Connecting to IBController
2018-02-27 10:30:01,375 - DEBUG - Connected to IBController
2018-02-27 10:30:01,376 - DEBUG - Position requested
2018-02-27 10:30:01,377 - DEBUG - Pos Mgmt -10
2018-02-27 10:30:01,377 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 10:30:01,377 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:30:01,378 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:30:01,378 - DEBUG - Position is -10
2018-02-27 10:30:01,379 - DEBUG - Pos Mgmt -12987
2018-02-27 10:30:01,379 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:30:01,379 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:30:01,379 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:30:01,380 - DEBUG - Position is -12987
2018-02-27 10:30:02,377 - DEBUG - Open Orders requested
2018-02-27 10:30:02,379 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 10:30:02,380 - DEBUG - Order OrderID 236
2018-02-27 10:30:02,380 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:30:02,381 - DEBUG - Order status PreSubmitted
2018-02-27 10:30:02,381 - DEBUG - Order Identification 236
2018-02-27 10:30:02,381 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:30:02,381 - DEBUG - Profit ID from database is 0
2018-02-27 10:30:02,382 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:30:02,382 - DEBUG - Stop ID database is 0
2018-02-27 10:30:02,382 - DEBUG - Entry ID database is 233
2018-02-27 10:30:04,379 - DEBUG - Connecting to database
2018-02-27 10:30:04,418 - DEBUG - Connected to database
2018-02-27 10:30:04,419 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,420 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:30:04,421 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,421 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:30:04,423 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,423 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:30:04,424 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,425 - DEBUG - Stop quantity 1
2018-02-27 10:30:04,426 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,426 - DEBUG - Direction is Long
2018-02-27 10:30:04,428 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,428 - DEBUG - Count is 0
2018-02-27 10:30:04,430 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:30:04,430 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:30:04,431 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:30:04,432 - DEBUG - Max ID Order is (236,)
2018-02-27 10:30:04,432 - DEBUG - Today is 2018-02-27
2018-02-27 10:30:04,432 - DEBUG - Day of the week 1
2018-02-27 10:30:04,433 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:30:04,433 - DEBUG - In Position is  0
2018-02-27 10:30:04,433 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:30:04,433 - DEBUG - curStopLossFlag is  0
2018-02-27 10:30:04,434 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:30:04,434 - DEBUG - Checking if Entry has been filled
2018-02-27 10:30:04,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:30:04,436 - DEBUG - EntryPend is 1
2018-02-27 10:30:04,436 - DEBUG - Try to Cancel Stop
2018-02-27 10:30:04,436 - DEBUG - Stop API ID 0
2018-02-27 10:30:04,436 - DEBUG - Profit API ID 0
2018-02-27 10:30:04,436 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:30:04,437 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:30:04,437 - DEBUG - Pos is 0
2018-02-27 10:30:04,437 - DEBUG - CurCount is 0
2018-02-27 10:30:04,437 - DEBUG - In Pos 0
2018-02-27 10:30:04,438 - DEBUG - Stop ID is 0
2018-02-27 10:30:04,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:30:04,440 - DEBUG - EntryPend is 1
2018-02-27 10:30:04,440 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:30:04,440 - DEBUG - Entry Date is 10
2018-02-27 10:30:04,440 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:30:04,441 - DEBUG - Order Profit ID is 0
2018-02-27 10:30:04,441 - DEBUG - Order Entry ID is 233
2018-02-27 10:30:04,441 - DEBUG - API ID is  0
2018-02-27 10:30:04,441 - DEBUG - Current Position is 0
2018-02-27 10:30:04,441 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:30:04,442 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:30:04,442 - DEBUG - Time is 10
2018-02-27 10:30:04,442 - DEBUG - Time is <class 'int'>
2018-02-27 10:30:04,442 - DEBUG - Disconnected from IBController
2018-02-27 10:30:04,443 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:35:00,263 - DEBUG - ****************************************************
2018-02-27 10:35:00,264 - DEBUG - Current Time is 10:35AM
2018-02-27 10:35:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:35:00,264 - DEBUG - Connecting to database
2018-02-27 10:35:00,289 - DEBUG - Connected to database
2018-02-27 10:35:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:00,291 - DEBUG - Order Profit is 0
2018-02-27 10:35:00,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:00,293 - DEBUG - Stop ID is 0
2018-02-27 10:35:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:00,294 - DEBUG - Entry ID is 233
2018-02-27 10:35:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:35:00,296 - DEBUG - OCA ID is 1
2018-02-27 10:35:00,297 - DEBUG - Connecting to IBController
2018-02-27 10:35:01,313 - DEBUG - Connected to IBController
2018-02-27 10:35:01,313 - DEBUG - Position requested
2018-02-27 10:35:01,315 - DEBUG - Pos Mgmt -10
2018-02-27 10:35:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCF8>, pos=-10, avgCost=15344.045>
2018-02-27 10:35:01,316 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:35:01,316 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:35:01,316 - DEBUG - Position is -10
2018-02-27 10:35:01,316 - DEBUG - Pos Mgmt -12987
2018-02-27 10:35:01,317 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:35:01,317 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:35:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:35:01,317 - DEBUG - Position is -12987
2018-02-27 10:35:02,314 - DEBUG - Open Orders requested
2018-02-27 10:35:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206CE10>, order=<ib.ext.Order.Order object at 0x000000000206CD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-27 10:35:02,316 - DEBUG - Order OrderID 236
2018-02-27 10:35:02,317 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:35:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 10:35:02,317 - DEBUG - Order Identification 236
2018-02-27 10:35:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:35:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 10:35:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:35:02,319 - DEBUG - Stop ID database is 0
2018-02-27 10:35:02,319 - DEBUG - Entry ID database is 233
2018-02-27 10:35:04,316 - DEBUG - Connecting to database
2018-02-27 10:35:04,325 - DEBUG - Connected to database
2018-02-27 10:35:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,328 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:35:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:35:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:35:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,333 - DEBUG - Stop quantity 1
2018-02-27 10:35:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,335 - DEBUG - Direction is Long
2018-02-27 10:35:04,336 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,336 - DEBUG - Count is 0
2018-02-27 10:35:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:35:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:35:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:35:04,340 - DEBUG - Max ID Order is (236,)
2018-02-27 10:35:04,340 - DEBUG - Today is 2018-02-27
2018-02-27 10:35:04,341 - DEBUG - Day of the week 1
2018-02-27 10:35:04,341 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:35:04,341 - DEBUG - In Position is  0
2018-02-27 10:35:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:35:04,342 - DEBUG - curStopLossFlag is  0
2018-02-27 10:35:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:35:04,342 - DEBUG - Checking if Entry has been filled
2018-02-27 10:35:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:35:04,344 - DEBUG - EntryPend is 1
2018-02-27 10:35:04,344 - DEBUG - Try to Cancel Stop
2018-02-27 10:35:04,344 - DEBUG - Stop API ID 0
2018-02-27 10:35:04,344 - DEBUG - Profit API ID 0
2018-02-27 10:35:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:35:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:35:04,345 - DEBUG - Pos is 0
2018-02-27 10:35:04,345 - DEBUG - CurCount is 0
2018-02-27 10:35:04,346 - DEBUG - In Pos 0
2018-02-27 10:35:04,346 - DEBUG - Stop ID is 0
2018-02-27 10:35:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:35:04,347 - DEBUG - EntryPend is 1
2018-02-27 10:35:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:35:04,348 - DEBUG - Entry Date is 10
2018-02-27 10:35:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:35:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 10:35:04,349 - DEBUG - Order Entry ID is 233
2018-02-27 10:35:04,349 - DEBUG - API ID is  0
2018-02-27 10:35:04,349 - DEBUG - Current Position is 0
2018-02-27 10:35:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:35:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:35:04,350 - DEBUG - Time is 10
2018-02-27 10:35:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 10:35:04,350 - DEBUG - Disconnected from IBController
2018-02-27 10:35:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:40:00,267 - DEBUG - ****************************************************
2018-02-27 10:40:00,268 - DEBUG - Current Time is 10:40AM
2018-02-27 10:40:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:40:00,268 - DEBUG - Connecting to database
2018-02-27 10:40:00,313 - DEBUG - Connected to database
2018-02-27 10:40:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:00,315 - DEBUG - Order Profit is 0
2018-02-27 10:40:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:00,316 - DEBUG - Stop ID is 0
2018-02-27 10:40:00,317 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:00,318 - DEBUG - Entry ID is 233
2018-02-27 10:40:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:40:00,320 - DEBUG - OCA ID is 1
2018-02-27 10:40:00,320 - DEBUG - Connecting to IBController
2018-02-27 10:40:01,328 - DEBUG - Connected to IBController
2018-02-27 10:40:01,328 - DEBUG - Position requested
2018-02-27 10:40:01,330 - DEBUG - Pos Mgmt -10
2018-02-27 10:40:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 10:40:01,331 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:40:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:40:01,331 - DEBUG - Position is -10
2018-02-27 10:40:01,332 - DEBUG - Pos Mgmt -12987
2018-02-27 10:40:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:40:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:40:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:40:01,333 - DEBUG - Position is -12987
2018-02-27 10:40:02,329 - DEBUG - Open Orders requested
2018-02-27 10:40:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000204DE10>, order=<ib.ext.Order.Order object at 0x000000000204DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10F0>>
2018-02-27 10:40:02,332 - DEBUG - Order OrderID 236
2018-02-27 10:40:02,332 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:40:02,332 - DEBUG - Order status PreSubmitted
2018-02-27 10:40:02,333 - DEBUG - Order Identification 236
2018-02-27 10:40:02,333 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:40:02,333 - DEBUG - Profit ID from database is 0
2018-02-27 10:40:02,333 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:40:02,334 - DEBUG - Stop ID database is 0
2018-02-27 10:40:02,334 - DEBUG - Entry ID database is 233
2018-02-27 10:40:04,331 - DEBUG - Connecting to database
2018-02-27 10:40:04,339 - DEBUG - Connected to database
2018-02-27 10:40:04,340 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,341 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:40:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,342 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:40:04,344 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,344 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:40:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,346 - DEBUG - Stop quantity 1
2018-02-27 10:40:04,347 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,347 - DEBUG - Direction is Long
2018-02-27 10:40:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,349 - DEBUG - Count is 0
2018-02-27 10:40:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:40:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:40:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:40:04,352 - DEBUG - Max ID Order is (236,)
2018-02-27 10:40:04,353 - DEBUG - Today is 2018-02-27
2018-02-27 10:40:04,353 - DEBUG - Day of the week 1
2018-02-27 10:40:04,354 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:40:04,354 - DEBUG - In Position is  0
2018-02-27 10:40:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:40:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 10:40:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:40:04,355 - DEBUG - Checking if Entry has been filled
2018-02-27 10:40:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:40:04,356 - DEBUG - EntryPend is 1
2018-02-27 10:40:04,357 - DEBUG - Try to Cancel Stop
2018-02-27 10:40:04,357 - DEBUG - Stop API ID 0
2018-02-27 10:40:04,357 - DEBUG - Profit API ID 0
2018-02-27 10:40:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:40:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:40:04,358 - DEBUG - Pos is 0
2018-02-27 10:40:04,358 - DEBUG - CurCount is 0
2018-02-27 10:40:04,358 - DEBUG - In Pos 0
2018-02-27 10:40:04,359 - DEBUG - Stop ID is 0
2018-02-27 10:40:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:40:04,360 - DEBUG - EntryPend is 1
2018-02-27 10:40:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:40:04,361 - DEBUG - Entry Date is 10
2018-02-27 10:40:04,361 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:40:04,361 - DEBUG - Order Profit ID is 0
2018-02-27 10:40:04,362 - DEBUG - Order Entry ID is 233
2018-02-27 10:40:04,362 - DEBUG - API ID is  0
2018-02-27 10:40:04,362 - DEBUG - Current Position is 0
2018-02-27 10:40:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:40:04,363 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:40:04,363 - DEBUG - Time is 10
2018-02-27 10:40:04,363 - DEBUG - Time is <class 'int'>
2018-02-27 10:40:04,363 - DEBUG - Disconnected from IBController
2018-02-27 10:40:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:45:00,264 - DEBUG - ****************************************************
2018-02-27 10:45:00,264 - DEBUG - Current Time is 10:45AM
2018-02-27 10:45:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:45:00,265 - DEBUG - Connecting to database
2018-02-27 10:45:00,284 - DEBUG - Connected to database
2018-02-27 10:45:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:00,286 - DEBUG - Order Profit is 0
2018-02-27 10:45:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:00,287 - DEBUG - Stop ID is 0
2018-02-27 10:45:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:00,289 - DEBUG - Entry ID is 233
2018-02-27 10:45:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:45:00,290 - DEBUG - OCA ID is 1
2018-02-27 10:45:00,291 - DEBUG - Connecting to IBController
2018-02-27 10:45:01,297 - DEBUG - Connected to IBController
2018-02-27 10:45:01,297 - DEBUG - Position requested
2018-02-27 10:45:01,299 - DEBUG - Pos Mgmt -10
2018-02-27 10:45:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 10:45:01,300 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:45:01,300 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:45:01,300 - DEBUG - Position is -10
2018-02-27 10:45:01,300 - DEBUG - Pos Mgmt -12987
2018-02-27 10:45:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:45:01,301 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:45:01,301 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:45:01,301 - DEBUG - Position is -12987
2018-02-27 10:45:02,299 - DEBUG - Open Orders requested
2018-02-27 10:45:02,301 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, order=<ib.ext.Order.Order object at 0x000000000208DB70>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 10:45:02,301 - DEBUG - Order OrderID 236
2018-02-27 10:45:02,302 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:45:02,302 - DEBUG - Order status PreSubmitted
2018-02-27 10:45:02,302 - DEBUG - Order Identification 236
2018-02-27 10:45:02,303 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:45:02,303 - DEBUG - Profit ID from database is 0
2018-02-27 10:45:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:45:02,303 - DEBUG - Stop ID database is 0
2018-02-27 10:45:02,304 - DEBUG - Entry ID database is 233
2018-02-27 10:45:04,301 - DEBUG - Connecting to database
2018-02-27 10:45:04,309 - DEBUG - Connected to database
2018-02-27 10:45:04,310 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,311 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:45:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:45:04,314 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:45:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,316 - DEBUG - Stop quantity 1
2018-02-27 10:45:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,318 - DEBUG - Direction is Long
2018-02-27 10:45:04,319 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,320 - DEBUG - Count is 0
2018-02-27 10:45:04,321 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:45:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:45:04,323 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:45:04,323 - DEBUG - Max ID Order is (236,)
2018-02-27 10:45:04,324 - DEBUG - Today is 2018-02-27
2018-02-27 10:45:04,324 - DEBUG - Day of the week 1
2018-02-27 10:45:04,324 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:45:04,325 - DEBUG - In Position is  0
2018-02-27 10:45:04,325 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:45:04,325 - DEBUG - curStopLossFlag is  0
2018-02-27 10:45:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:45:04,326 - DEBUG - Checking if Entry has been filled
2018-02-27 10:45:04,326 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:45:04,327 - DEBUG - EntryPend is 1
2018-02-27 10:45:04,327 - DEBUG - Try to Cancel Stop
2018-02-27 10:45:04,328 - DEBUG - Stop API ID 0
2018-02-27 10:45:04,328 - DEBUG - Profit API ID 0
2018-02-27 10:45:04,328 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:45:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:45:04,329 - DEBUG - Pos is 0
2018-02-27 10:45:04,329 - DEBUG - CurCount is 0
2018-02-27 10:45:04,329 - DEBUG - In Pos 0
2018-02-27 10:45:04,329 - DEBUG - Stop ID is 0
2018-02-27 10:45:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:45:04,331 - DEBUG - EntryPend is 1
2018-02-27 10:45:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:45:04,332 - DEBUG - Entry Date is 10
2018-02-27 10:45:04,332 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:45:04,332 - DEBUG - Order Profit ID is 0
2018-02-27 10:45:04,332 - DEBUG - Order Entry ID is 233
2018-02-27 10:45:04,333 - DEBUG - API ID is  0
2018-02-27 10:45:04,333 - DEBUG - Current Position is 0
2018-02-27 10:45:04,333 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:45:04,333 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:45:04,333 - DEBUG - Time is 10
2018-02-27 10:45:04,334 - DEBUG - Time is <class 'int'>
2018-02-27 10:45:04,334 - DEBUG - Disconnected from IBController
2018-02-27 10:45:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:50:00,273 - DEBUG - ****************************************************
2018-02-27 10:50:00,274 - DEBUG - Current Time is 10:50AM
2018-02-27 10:50:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:50:00,274 - DEBUG - Connecting to database
2018-02-27 10:50:00,315 - DEBUG - Connected to database
2018-02-27 10:50:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:00,317 - DEBUG - Order Profit is 0
2018-02-27 10:50:00,317 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:00,318 - DEBUG - Stop ID is 0
2018-02-27 10:50:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:00,320 - DEBUG - Entry ID is 233
2018-02-27 10:50:00,320 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:50:00,322 - DEBUG - OCA ID is 1
2018-02-27 10:50:00,322 - DEBUG - Connecting to IBController
2018-02-27 10:50:01,328 - DEBUG - Connected to IBController
2018-02-27 10:50:01,328 - DEBUG - Position requested
2018-02-27 10:50:01,330 - DEBUG - Pos Mgmt -10
2018-02-27 10:50:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CA20>, pos=-10, avgCost=15344.045>
2018-02-27 10:50:01,330 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:50:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:50:01,331 - DEBUG - Position is -10
2018-02-27 10:50:01,331 - DEBUG - Pos Mgmt -12987
2018-02-27 10:50:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:50:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:50:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:50:01,332 - DEBUG - Position is -12987
2018-02-27 10:50:02,330 - DEBUG - Open Orders requested
2018-02-27 10:50:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209CD68>, order=<ib.ext.Order.Order object at 0x000000000209CC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021310F0>>
2018-02-27 10:50:02,332 - DEBUG - Order OrderID 236
2018-02-27 10:50:02,333 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:50:02,334 - DEBUG - Order status PreSubmitted
2018-02-27 10:50:02,334 - DEBUG - Order Identification 236
2018-02-27 10:50:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:50:02,335 - DEBUG - Profit ID from database is 0
2018-02-27 10:50:02,335 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:50:02,335 - DEBUG - Stop ID database is 0
2018-02-27 10:50:02,335 - DEBUG - Entry ID database is 233
2018-02-27 10:50:04,332 - DEBUG - Connecting to database
2018-02-27 10:50:04,363 - DEBUG - Connected to database
2018-02-27 10:50:04,365 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,365 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:50:04,367 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,367 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:50:04,368 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,369 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:50:04,370 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,370 - DEBUG - Stop quantity 1
2018-02-27 10:50:04,372 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,372 - DEBUG - Direction is Long
2018-02-27 10:50:04,374 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,374 - DEBUG - Count is 0
2018-02-27 10:50:04,376 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:50:04,376 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:50:04,377 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:50:04,378 - DEBUG - Max ID Order is (236,)
2018-02-27 10:50:04,378 - DEBUG - Today is 2018-02-27
2018-02-27 10:50:04,379 - DEBUG - Day of the week 1
2018-02-27 10:50:04,379 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:50:04,379 - DEBUG - In Position is  0
2018-02-27 10:50:04,379 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:50:04,380 - DEBUG - curStopLossFlag is  0
2018-02-27 10:50:04,380 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:50:04,380 - DEBUG - Checking if Entry has been filled
2018-02-27 10:50:04,380 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:50:04,382 - DEBUG - EntryPend is 1
2018-02-27 10:50:04,382 - DEBUG - Try to Cancel Stop
2018-02-27 10:50:04,382 - DEBUG - Stop API ID 0
2018-02-27 10:50:04,383 - DEBUG - Profit API ID 0
2018-02-27 10:50:04,383 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:50:04,383 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:50:04,383 - DEBUG - Pos is 0
2018-02-27 10:50:04,384 - DEBUG - CurCount is 0
2018-02-27 10:50:04,384 - DEBUG - In Pos 0
2018-02-27 10:50:04,384 - DEBUG - Stop ID is 0
2018-02-27 10:50:04,384 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:50:04,386 - DEBUG - EntryPend is 1
2018-02-27 10:50:04,386 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:50:04,386 - DEBUG - Entry Date is 10
2018-02-27 10:50:04,386 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:50:04,387 - DEBUG - Order Profit ID is 0
2018-02-27 10:50:04,387 - DEBUG - Order Entry ID is 233
2018-02-27 10:50:04,387 - DEBUG - API ID is  0
2018-02-27 10:50:04,387 - DEBUG - Current Position is 0
2018-02-27 10:50:04,388 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:50:04,388 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:50:04,388 - DEBUG - Time is 10
2018-02-27 10:50:04,388 - DEBUG - Time is <class 'int'>
2018-02-27 10:50:04,389 - DEBUG - Disconnected from IBController
2018-02-27 10:50:04,389 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:55:00,272 - DEBUG - ****************************************************
2018-02-27 10:55:00,273 - DEBUG - Current Time is 10:55AM
2018-02-27 10:55:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 10:55:00,274 - DEBUG - Connecting to database
2018-02-27 10:55:00,310 - DEBUG - Connected to database
2018-02-27 10:55:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:00,313 - DEBUG - Order Profit is 0
2018-02-27 10:55:00,313 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:00,314 - DEBUG - Stop ID is 0
2018-02-27 10:55:00,314 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:00,316 - DEBUG - Entry ID is 233
2018-02-27 10:55:00,316 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:55:00,317 - DEBUG - OCA ID is 1
2018-02-27 10:55:00,318 - DEBUG - Connecting to IBController
2018-02-27 10:55:01,324 - DEBUG - Connected to IBController
2018-02-27 10:55:01,324 - DEBUG - Position requested
2018-02-27 10:55:01,328 - DEBUG - Pos Mgmt -10
2018-02-27 10:55:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 10:55:01,329 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:55:01,329 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:55:01,330 - DEBUG - Position is -10
2018-02-27 10:55:01,330 - DEBUG - Pos Mgmt -12987
2018-02-27 10:55:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:55:01,331 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:55:01,331 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:55:01,331 - DEBUG - Position is -12987
2018-02-27 10:55:02,329 - DEBUG - Open Orders requested
2018-02-27 10:55:02,333 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 10:55:02,334 - DEBUG - Order OrderID 236
2018-02-27 10:55:02,335 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:55:02,335 - DEBUG - Order status PreSubmitted
2018-02-27 10:55:02,336 - DEBUG - Order Identification 236
2018-02-27 10:55:02,336 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:55:02,336 - DEBUG - Profit ID from database is 0
2018-02-27 10:55:02,336 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:55:02,337 - DEBUG - Stop ID database is 0
2018-02-27 10:55:02,337 - DEBUG - Entry ID database is 233
2018-02-27 10:55:03,359 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DF60>, order=<ib.ext.Order.Order object at 0x000000000207DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 10:55:03,360 - DEBUG - Order OrderID 236
2018-02-27 10:55:03,360 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:55:03,361 - DEBUG - Order status PreSubmitted
2018-02-27 10:55:03,361 - DEBUG - Order Identification 236
2018-02-27 10:55:03,361 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:55:03,361 - DEBUG - Profit ID from database is 0
2018-02-27 10:55:03,362 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:55:03,362 - DEBUG - Stop ID database is 0
2018-02-27 10:55:03,362 - DEBUG - Entry ID database is 233
2018-02-27 10:55:04,334 - DEBUG - Connecting to database
2018-02-27 10:55:04,341 - DEBUG - Connected to database
2018-02-27 10:55:04,343 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,343 - DEBUG - Stop loss value is 2742.75
2018-02-27 10:55:04,345 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,345 - DEBUG - Stop loss value is 2797.0
2018-02-27 10:55:04,346 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,347 - DEBUG - EntryPrice value is 2787.5
2018-02-27 10:55:04,348 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,348 - DEBUG - Stop quantity 1
2018-02-27 10:55:04,350 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,350 - DEBUG - Direction is Long
2018-02-27 10:55:04,351 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,352 - DEBUG - Count is 0
2018-02-27 10:55:04,353 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 10:55:04,353 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:55:04,355 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:55:04,355 - DEBUG - Max ID Order is (236,)
2018-02-27 10:55:04,356 - DEBUG - Today is 2018-02-27
2018-02-27 10:55:04,356 - DEBUG - Day of the week 1
2018-02-27 10:55:04,356 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:55:04,356 - DEBUG - In Position is  0
2018-02-27 10:55:04,357 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:55:04,357 - DEBUG - curStopLossFlag is  0
2018-02-27 10:55:04,357 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:55:04,357 - DEBUG - Checking if Entry has been filled
2018-02-27 10:55:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:55:04,359 - DEBUG - EntryPend is 1
2018-02-27 10:55:04,359 - DEBUG - Try to Cancel Stop
2018-02-27 10:55:04,359 - DEBUG - Stop API ID 0
2018-02-27 10:55:04,360 - DEBUG - Profit API ID 0
2018-02-27 10:55:04,360 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:55:04,360 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:55:04,360 - DEBUG - Pos is 0
2018-02-27 10:55:04,361 - DEBUG - CurCount is 0
2018-02-27 10:55:04,361 - DEBUG - In Pos 0
2018-02-27 10:55:04,361 - DEBUG - Stop ID is 0
2018-02-27 10:55:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 10:55:04,363 - DEBUG - EntryPend is 1
2018-02-27 10:55:04,363 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:55:04,363 - DEBUG - Entry Date is 10
2018-02-27 10:55:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:55:04,364 - DEBUG - Order Profit ID is 0
2018-02-27 10:55:04,364 - DEBUG - Order Entry ID is 233
2018-02-27 10:55:04,364 - DEBUG - API ID is  0
2018-02-27 10:55:04,364 - DEBUG - Current Position is 0
2018-02-27 10:55:04,365 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:55:04,365 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:55:04,365 - DEBUG - Time is 10
2018-02-27 10:55:04,365 - DEBUG - Time is <class 'int'>
2018-02-27 10:55:04,366 - DEBUG - Disconnected from IBController
2018-02-27 10:55:04,366 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:00:00,276 - DEBUG - ****************************************************
2018-02-27 11:00:00,276 - DEBUG - Current Time is 11:00AM
2018-02-27 11:00:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:00:00,277 - DEBUG - Connecting to database
2018-02-27 11:00:00,312 - DEBUG - Connected to database
2018-02-27 11:00:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:00,314 - DEBUG - Order Profit is 0
2018-02-27 11:00:00,314 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:00,315 - DEBUG - Stop ID is 0
2018-02-27 11:00:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:00,317 - DEBUG - Entry ID is 233
2018-02-27 11:00:00,317 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:00:00,319 - DEBUG - OCA ID is 1
2018-02-27 11:00:00,319 - DEBUG - Connecting to IBController
2018-02-27 11:00:01,326 - DEBUG - Connected to IBController
2018-02-27 11:00:01,326 - DEBUG - Position requested
2018-02-27 11:00:01,328 - DEBUG - Pos Mgmt -10
2018-02-27 11:00:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, pos=-10, avgCost=15344.045>
2018-02-27 11:00:01,329 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:00:01,329 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:00:01,329 - DEBUG - Position is -10
2018-02-27 11:00:01,329 - DEBUG - Pos Mgmt -12987
2018-02-27 11:00:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:00:01,330 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:00:01,330 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:00:01,330 - DEBUG - Position is -12987
2018-02-27 11:00:02,328 - DEBUG - Open Orders requested
2018-02-27 11:00:02,330 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE10>, order=<ib.ext.Order.Order object at 0x00000000020ADA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021410F0>>
2018-02-27 11:00:02,330 - DEBUG - Order OrderID 236
2018-02-27 11:00:02,331 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:00:02,331 - DEBUG - Order status PreSubmitted
2018-02-27 11:00:02,332 - DEBUG - Order Identification 236
2018-02-27 11:00:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:00:02,332 - DEBUG - Profit ID from database is 0
2018-02-27 11:00:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:00:02,333 - DEBUG - Stop ID database is 0
2018-02-27 11:00:02,333 - DEBUG - Entry ID database is 233
2018-02-27 11:00:04,330 - DEBUG - Connecting to database
2018-02-27 11:00:04,338 - DEBUG - Connected to database
2018-02-27 11:00:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,340 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:00:04,341 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,341 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:00:04,343 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,343 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:00:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,345 - DEBUG - Stop quantity 1
2018-02-27 11:00:04,347 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,347 - DEBUG - Direction is Long
2018-02-27 11:00:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,349 - DEBUG - Count is 0
2018-02-27 11:00:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:00:04,350 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:00:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:00:04,352 - DEBUG - Max ID Order is (236,)
2018-02-27 11:00:04,352 - DEBUG - Today is 2018-02-27
2018-02-27 11:00:04,353 - DEBUG - Day of the week 1
2018-02-27 11:00:04,353 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:00:04,353 - DEBUG - In Position is  0
2018-02-27 11:00:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:00:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 11:00:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:00:04,354 - DEBUG - Checking if Entry has been filled
2018-02-27 11:00:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:00:04,356 - DEBUG - EntryPend is 1
2018-02-27 11:00:04,356 - DEBUG - Try to Cancel Stop
2018-02-27 11:00:04,357 - DEBUG - Stop API ID 0
2018-02-27 11:00:04,357 - DEBUG - Profit API ID 0
2018-02-27 11:00:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:00:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:00:04,358 - DEBUG - Pos is 0
2018-02-27 11:00:04,358 - DEBUG - CurCount is 0
2018-02-27 11:00:04,358 - DEBUG - In Pos 0
2018-02-27 11:00:04,358 - DEBUG - Stop ID is 0
2018-02-27 11:00:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:00:04,360 - DEBUG - EntryPend is 1
2018-02-27 11:00:04,360 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:00:04,360 - DEBUG - Entry Date is 10
2018-02-27 11:00:04,361 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:00:04,361 - DEBUG - Order Profit ID is 0
2018-02-27 11:00:04,361 - DEBUG - Order Entry ID is 233
2018-02-27 11:00:04,361 - DEBUG - API ID is  0
2018-02-27 11:00:04,362 - DEBUG - Current Position is 0
2018-02-27 11:00:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:00:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:00:04,362 - DEBUG - Time is 11
2018-02-27 11:00:04,362 - DEBUG - Time is <class 'int'>
2018-02-27 11:00:04,363 - DEBUG - Disconnected from IBController
2018-02-27 11:00:04,363 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:05:00,281 - DEBUG - ****************************************************
2018-02-27 11:05:00,282 - DEBUG - Current Time is 11:05AM
2018-02-27 11:05:00,282 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:05:00,282 - DEBUG - Connecting to database
2018-02-27 11:05:00,302 - DEBUG - Connected to database
2018-02-27 11:05:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:00,304 - DEBUG - Order Profit is 0
2018-02-27 11:05:00,304 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:00,305 - DEBUG - Stop ID is 0
2018-02-27 11:05:00,306 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:00,307 - DEBUG - Entry ID is 233
2018-02-27 11:05:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:05:00,309 - DEBUG - OCA ID is 1
2018-02-27 11:05:00,309 - DEBUG - Connecting to IBController
2018-02-27 11:05:01,315 - DEBUG - Connected to IBController
2018-02-27 11:05:01,315 - DEBUG - Position requested
2018-02-27 11:05:01,317 - DEBUG - Pos Mgmt -10
2018-02-27 11:05:01,317 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 11:05:01,318 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:05:01,318 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:05:01,318 - DEBUG - Position is -10
2018-02-27 11:05:01,318 - DEBUG - Pos Mgmt -12987
2018-02-27 11:05:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:05:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:05:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:05:01,319 - DEBUG - Position is -12987
2018-02-27 11:05:02,317 - DEBUG - Open Orders requested
2018-02-27 11:05:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 11:05:02,319 - DEBUG - Order OrderID 236
2018-02-27 11:05:02,320 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:05:02,320 - DEBUG - Order status PreSubmitted
2018-02-27 11:05:02,321 - DEBUG - Order Identification 236
2018-02-27 11:05:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:05:02,321 - DEBUG - Profit ID from database is 0
2018-02-27 11:05:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:05:02,321 - DEBUG - Stop ID database is 0
2018-02-27 11:05:02,322 - DEBUG - Entry ID database is 233
2018-02-27 11:05:04,319 - DEBUG - Connecting to database
2018-02-27 11:05:04,326 - DEBUG - Connected to database
2018-02-27 11:05:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,328 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:05:04,330 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,330 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:05:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,332 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:05:04,334 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,334 - DEBUG - Stop quantity 1
2018-02-27 11:05:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,336 - DEBUG - Direction is Long
2018-02-27 11:05:04,337 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,337 - DEBUG - Count is 0
2018-02-27 11:05:04,340 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:05:04,340 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:05:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:05:04,342 - DEBUG - Max ID Order is (236,)
2018-02-27 11:05:04,343 - DEBUG - Today is 2018-02-27
2018-02-27 11:05:04,343 - DEBUG - Day of the week 1
2018-02-27 11:05:04,343 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:05:04,343 - DEBUG - In Position is  0
2018-02-27 11:05:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:05:04,344 - DEBUG - curStopLossFlag is  0
2018-02-27 11:05:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:05:04,344 - DEBUG - Checking if Entry has been filled
2018-02-27 11:05:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:05:04,346 - DEBUG - EntryPend is 1
2018-02-27 11:05:04,347 - DEBUG - Try to Cancel Stop
2018-02-27 11:05:04,347 - DEBUG - Stop API ID 0
2018-02-27 11:05:04,347 - DEBUG - Profit API ID 0
2018-02-27 11:05:04,347 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:05:04,347 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:05:04,348 - DEBUG - Pos is 0
2018-02-27 11:05:04,348 - DEBUG - CurCount is 0
2018-02-27 11:05:04,348 - DEBUG - In Pos 0
2018-02-27 11:05:04,349 - DEBUG - Stop ID is 0
2018-02-27 11:05:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:05:04,350 - DEBUG - EntryPend is 1
2018-02-27 11:05:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:05:04,351 - DEBUG - Entry Date is 10
2018-02-27 11:05:04,351 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:05:04,351 - DEBUG - Order Profit ID is 0
2018-02-27 11:05:04,351 - DEBUG - Order Entry ID is 233
2018-02-27 11:05:04,352 - DEBUG - API ID is  0
2018-02-27 11:05:04,352 - DEBUG - Current Position is 0
2018-02-27 11:05:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:05:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:05:04,353 - DEBUG - Time is 11
2018-02-27 11:05:04,353 - DEBUG - Time is <class 'int'>
2018-02-27 11:05:04,353 - DEBUG - Disconnected from IBController
2018-02-27 11:05:04,353 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:10:00,265 - DEBUG - ****************************************************
2018-02-27 11:10:00,266 - DEBUG - Current Time is 11:10AM
2018-02-27 11:10:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:10:00,266 - DEBUG - Connecting to database
2018-02-27 11:10:00,292 - DEBUG - Connected to database
2018-02-27 11:10:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:00,293 - DEBUG - Order Profit is 0
2018-02-27 11:10:00,294 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:00,295 - DEBUG - Stop ID is 0
2018-02-27 11:10:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:00,298 - DEBUG - Entry ID is 233
2018-02-27 11:10:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:10:00,299 - DEBUG - OCA ID is 1
2018-02-27 11:10:00,300 - DEBUG - Connecting to IBController
2018-02-27 11:10:01,307 - DEBUG - Connected to IBController
2018-02-27 11:10:01,310 - DEBUG - Position requested
2018-02-27 11:10:01,320 - DEBUG - Pos Mgmt -10
2018-02-27 11:10:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-10, avgCost=15344.045>
2018-02-27 11:10:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:10:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:10:01,323 - DEBUG - Position is -10
2018-02-27 11:10:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 11:10:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:10:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:10:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:10:01,327 - DEBUG - Position is -12987
2018-02-27 11:10:02,310 - DEBUG - Open Orders requested
2018-02-27 11:10:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-27 11:10:02,312 - DEBUG - Order OrderID 236
2018-02-27 11:10:02,313 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:10:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 11:10:02,313 - DEBUG - Order Identification 236
2018-02-27 11:10:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:10:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 11:10:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:10:02,314 - DEBUG - Stop ID database is 0
2018-02-27 11:10:02,315 - DEBUG - Entry ID database is 233
2018-02-27 11:10:04,312 - DEBUG - Connecting to database
2018-02-27 11:10:04,319 - DEBUG - Connected to database
2018-02-27 11:10:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,322 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:10:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,324 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:10:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:10:04,327 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,327 - DEBUG - Stop quantity 1
2018-02-27 11:10:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,329 - DEBUG - Direction is Long
2018-02-27 11:10:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,331 - DEBUG - Count is 0
2018-02-27 11:10:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:10:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:10:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:10:04,334 - DEBUG - Max ID Order is (236,)
2018-02-27 11:10:04,335 - DEBUG - Today is 2018-02-27
2018-02-27 11:10:04,335 - DEBUG - Day of the week 1
2018-02-27 11:10:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:10:04,336 - DEBUG - In Position is  0
2018-02-27 11:10:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:10:04,336 - DEBUG - curStopLossFlag is  0
2018-02-27 11:10:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:10:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 11:10:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:10:04,338 - DEBUG - EntryPend is 1
2018-02-27 11:10:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 11:10:04,339 - DEBUG - Stop API ID 0
2018-02-27 11:10:04,339 - DEBUG - Profit API ID 0
2018-02-27 11:10:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:10:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:10:04,340 - DEBUG - Pos is 0
2018-02-27 11:10:04,340 - DEBUG - CurCount is 0
2018-02-27 11:10:04,340 - DEBUG - In Pos 0
2018-02-27 11:10:04,340 - DEBUG - Stop ID is 0
2018-02-27 11:10:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:10:04,342 - DEBUG - EntryPend is 1
2018-02-27 11:10:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:10:04,343 - DEBUG - Entry Date is 10
2018-02-27 11:10:04,343 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:10:04,343 - DEBUG - Order Profit ID is 0
2018-02-27 11:10:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 11:10:04,344 - DEBUG - API ID is  0
2018-02-27 11:10:04,344 - DEBUG - Current Position is 0
2018-02-27 11:10:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:10:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:10:04,345 - DEBUG - Time is 11
2018-02-27 11:10:04,345 - DEBUG - Time is <class 'int'>
2018-02-27 11:10:04,345 - DEBUG - Disconnected from IBController
2018-02-27 11:10:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:15:00,283 - DEBUG - ****************************************************
2018-02-27 11:15:00,284 - DEBUG - Current Time is 11:15AM
2018-02-27 11:15:00,284 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:15:00,284 - DEBUG - Connecting to database
2018-02-27 11:15:00,309 - DEBUG - Connected to database
2018-02-27 11:15:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:00,311 - DEBUG - Order Profit is 0
2018-02-27 11:15:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:00,313 - DEBUG - Stop ID is 0
2018-02-27 11:15:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:00,315 - DEBUG - Entry ID is 233
2018-02-27 11:15:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:15:00,316 - DEBUG - OCA ID is 1
2018-02-27 11:15:00,317 - DEBUG - Connecting to IBController
2018-02-27 11:15:01,322 - DEBUG - Connected to IBController
2018-02-27 11:15:01,322 - DEBUG - Position requested
2018-02-27 11:15:01,324 - DEBUG - Pos Mgmt -10
2018-02-27 11:15:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CCC0>, pos=-10, avgCost=15344.045>
2018-02-27 11:15:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:15:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:15:01,325 - DEBUG - Position is -10
2018-02-27 11:15:01,325 - DEBUG - Pos Mgmt -12987
2018-02-27 11:15:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:15:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:15:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:15:01,330 - DEBUG - Position is -12987
2018-02-27 11:15:02,323 - DEBUG - Open Orders requested
2018-02-27 11:15:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208CD68>, order=<ib.ext.Order.Order object at 0x000000000208CDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220F0>>
2018-02-27 11:15:02,325 - DEBUG - Order OrderID 236
2018-02-27 11:15:02,326 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:15:02,326 - DEBUG - Order status PreSubmitted
2018-02-27 11:15:02,330 - DEBUG - Order Identification 236
2018-02-27 11:15:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:15:02,331 - DEBUG - Profit ID from database is 0
2018-02-27 11:15:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:15:02,331 - DEBUG - Stop ID database is 0
2018-02-27 11:15:02,331 - DEBUG - Entry ID database is 233
2018-02-27 11:15:04,325 - DEBUG - Connecting to database
2018-02-27 11:15:04,332 - DEBUG - Connected to database
2018-02-27 11:15:04,334 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,334 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:15:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,336 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:15:04,337 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:15:04,339 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,340 - DEBUG - Stop quantity 1
2018-02-27 11:15:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,341 - DEBUG - Direction is Long
2018-02-27 11:15:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,343 - DEBUG - Count is 0
2018-02-27 11:15:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:15:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:15:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:15:04,346 - DEBUG - Max ID Order is (236,)
2018-02-27 11:15:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 11:15:04,347 - DEBUG - Day of the week 1
2018-02-27 11:15:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:15:04,348 - DEBUG - In Position is  0
2018-02-27 11:15:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:15:04,348 - DEBUG - curStopLossFlag is  0
2018-02-27 11:15:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:15:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 11:15:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:15:04,351 - DEBUG - EntryPend is 1
2018-02-27 11:15:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 11:15:04,351 - DEBUG - Stop API ID 0
2018-02-27 11:15:04,351 - DEBUG - Profit API ID 0
2018-02-27 11:15:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:15:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:15:04,352 - DEBUG - Pos is 0
2018-02-27 11:15:04,352 - DEBUG - CurCount is 0
2018-02-27 11:15:04,353 - DEBUG - In Pos 0
2018-02-27 11:15:04,353 - DEBUG - Stop ID is 0
2018-02-27 11:15:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:15:04,355 - DEBUG - EntryPend is 1
2018-02-27 11:15:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:15:04,355 - DEBUG - Entry Date is 10
2018-02-27 11:15:04,355 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:15:04,356 - DEBUG - Order Profit ID is 0
2018-02-27 11:15:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 11:15:04,356 - DEBUG - API ID is  0
2018-02-27 11:15:04,356 - DEBUG - Current Position is 0
2018-02-27 11:15:04,356 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:15:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:15:04,357 - DEBUG - Time is 11
2018-02-27 11:15:04,357 - DEBUG - Time is <class 'int'>
2018-02-27 11:15:04,358 - DEBUG - Disconnected from IBController
2018-02-27 11:15:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:20:00,262 - DEBUG - ****************************************************
2018-02-27 11:20:00,263 - DEBUG - Current Time is 11:20AM
2018-02-27 11:20:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:20:00,263 - DEBUG - Connecting to database
2018-02-27 11:20:00,286 - DEBUG - Connected to database
2018-02-27 11:20:00,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:00,288 - DEBUG - Order Profit is 0
2018-02-27 11:20:00,288 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:00,289 - DEBUG - Stop ID is 0
2018-02-27 11:20:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:00,291 - DEBUG - Entry ID is 233
2018-02-27 11:20:00,291 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:20:00,292 - DEBUG - OCA ID is 1
2018-02-27 11:20:00,293 - DEBUG - Connecting to IBController
2018-02-27 11:20:01,299 - DEBUG - Connected to IBController
2018-02-27 11:20:01,299 - DEBUG - Position requested
2018-02-27 11:20:01,301 - DEBUG - Pos Mgmt -10
2018-02-27 11:20:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 11:20:01,302 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:20:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:20:01,303 - DEBUG - Position is -10
2018-02-27 11:20:01,303 - DEBUG - Pos Mgmt -12987
2018-02-27 11:20:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:20:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:20:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:20:01,304 - DEBUG - Position is -12987
2018-02-27 11:20:02,302 - DEBUG - Open Orders requested
2018-02-27 11:20:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000200DE10>, order=<ib.ext.Order.Order object at 0x000000000200DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A10F0>>
2018-02-27 11:20:02,304 - DEBUG - Order OrderID 236
2018-02-27 11:20:02,304 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:20:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 11:20:02,305 - DEBUG - Order Identification 236
2018-02-27 11:20:02,305 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:20:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 11:20:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:20:02,306 - DEBUG - Stop ID database is 0
2018-02-27 11:20:02,307 - DEBUG - Entry ID database is 233
2018-02-27 11:20:04,304 - DEBUG - Connecting to database
2018-02-27 11:20:04,313 - DEBUG - Connected to database
2018-02-27 11:20:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:20:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:20:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:20:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,324 - DEBUG - Stop quantity 1
2018-02-27 11:20:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,326 - DEBUG - Direction is Long
2018-02-27 11:20:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,328 - DEBUG - Count is 0
2018-02-27 11:20:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:20:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:20:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:20:04,332 - DEBUG - Max ID Order is (236,)
2018-02-27 11:20:04,332 - DEBUG - Today is 2018-02-27
2018-02-27 11:20:04,333 - DEBUG - Day of the week 1
2018-02-27 11:20:04,333 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:20:04,333 - DEBUG - In Position is  0
2018-02-27 11:20:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:20:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 11:20:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:20:04,334 - DEBUG - Checking if Entry has been filled
2018-02-27 11:20:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:20:04,336 - DEBUG - EntryPend is 1
2018-02-27 11:20:04,336 - DEBUG - Try to Cancel Stop
2018-02-27 11:20:04,336 - DEBUG - Stop API ID 0
2018-02-27 11:20:04,337 - DEBUG - Profit API ID 0
2018-02-27 11:20:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:20:04,337 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:20:04,337 - DEBUG - Pos is 0
2018-02-27 11:20:04,337 - DEBUG - CurCount is 0
2018-02-27 11:20:04,338 - DEBUG - In Pos 0
2018-02-27 11:20:04,338 - DEBUG - Stop ID is 0
2018-02-27 11:20:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:20:04,340 - DEBUG - EntryPend is 1
2018-02-27 11:20:04,340 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:20:04,340 - DEBUG - Entry Date is 10
2018-02-27 11:20:04,340 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:20:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 11:20:04,341 - DEBUG - Order Entry ID is 233
2018-02-27 11:20:04,341 - DEBUG - API ID is  0
2018-02-27 11:20:04,341 - DEBUG - Current Position is 0
2018-02-27 11:20:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:20:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:20:04,342 - DEBUG - Time is 11
2018-02-27 11:20:04,342 - DEBUG - Time is <class 'int'>
2018-02-27 11:20:04,343 - DEBUG - Disconnected from IBController
2018-02-27 11:20:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:25:00,272 - DEBUG - ****************************************************
2018-02-27 11:25:00,273 - DEBUG - Current Time is 11:25AM
2018-02-27 11:25:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:25:00,274 - DEBUG - Connecting to database
2018-02-27 11:25:00,293 - DEBUG - Connected to database
2018-02-27 11:25:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:00,295 - DEBUG - Order Profit is 0
2018-02-27 11:25:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:00,297 - DEBUG - Stop ID is 0
2018-02-27 11:25:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:00,298 - DEBUG - Entry ID is 233
2018-02-27 11:25:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:25:00,300 - DEBUG - OCA ID is 1
2018-02-27 11:25:00,300 - DEBUG - Connecting to IBController
2018-02-27 11:25:01,309 - DEBUG - Connected to IBController
2018-02-27 11:25:01,309 - DEBUG - Position requested
2018-02-27 11:25:01,310 - DEBUG - Pos Mgmt -10
2018-02-27 11:25:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 11:25:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:25:01,311 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:25:01,312 - DEBUG - Position is -10
2018-02-27 11:25:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 11:25:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:25:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:25:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:25:01,313 - DEBUG - Position is -12987
2018-02-27 11:25:02,311 - DEBUG - Open Orders requested
2018-02-27 11:25:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F20F0>>
2018-02-27 11:25:02,314 - DEBUG - Order OrderID 236
2018-02-27 11:25:02,314 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:25:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 11:25:02,315 - DEBUG - Order Identification 236
2018-02-27 11:25:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:25:02,315 - DEBUG - Profit ID from database is 0
2018-02-27 11:25:02,316 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:25:02,316 - DEBUG - Stop ID database is 0
2018-02-27 11:25:02,316 - DEBUG - Entry ID database is 233
2018-02-27 11:25:04,313 - DEBUG - Connecting to database
2018-02-27 11:25:04,323 - DEBUG - Connected to database
2018-02-27 11:25:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,325 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:25:04,327 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,327 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:25:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,329 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:25:04,330 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,331 - DEBUG - Stop quantity 1
2018-02-27 11:25:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,333 - DEBUG - Direction is Long
2018-02-27 11:25:04,334 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,335 - DEBUG - Count is 0
2018-02-27 11:25:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:25:04,337 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:25:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:25:04,338 - DEBUG - Max ID Order is (236,)
2018-02-27 11:25:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 11:25:04,339 - DEBUG - Day of the week 1
2018-02-27 11:25:04,339 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:25:04,340 - DEBUG - In Position is  0
2018-02-27 11:25:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:25:04,340 - DEBUG - curStopLossFlag is  0
2018-02-27 11:25:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:25:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 11:25:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:25:04,343 - DEBUG - EntryPend is 1
2018-02-27 11:25:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 11:25:04,343 - DEBUG - Stop API ID 0
2018-02-27 11:25:04,343 - DEBUG - Profit API ID 0
2018-02-27 11:25:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:25:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:25:04,344 - DEBUG - Pos is 0
2018-02-27 11:25:04,344 - DEBUG - CurCount is 0
2018-02-27 11:25:04,345 - DEBUG - In Pos 0
2018-02-27 11:25:04,345 - DEBUG - Stop ID is 0
2018-02-27 11:25:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:25:04,347 - DEBUG - EntryPend is 1
2018-02-27 11:25:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:25:04,347 - DEBUG - Entry Date is 10
2018-02-27 11:25:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:25:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 11:25:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 11:25:04,348 - DEBUG - API ID is  0
2018-02-27 11:25:04,348 - DEBUG - Current Position is 0
2018-02-27 11:25:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:25:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:25:04,349 - DEBUG - Time is 11
2018-02-27 11:25:04,349 - DEBUG - Time is <class 'int'>
2018-02-27 11:25:04,350 - DEBUG - Disconnected from IBController
2018-02-27 11:25:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:30:00,263 - DEBUG - ****************************************************
2018-02-27 11:30:00,264 - DEBUG - Current Time is 11:30AM
2018-02-27 11:30:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:30:00,265 - DEBUG - Connecting to database
2018-02-27 11:30:00,296 - DEBUG - Connected to database
2018-02-27 11:30:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:00,300 - DEBUG - Order Profit is 0
2018-02-27 11:30:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:00,302 - DEBUG - Stop ID is 0
2018-02-27 11:30:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:00,304 - DEBUG - Entry ID is 233
2018-02-27 11:30:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:30:00,305 - DEBUG - OCA ID is 1
2018-02-27 11:30:00,306 - DEBUG - Connecting to IBController
2018-02-27 11:30:01,312 - DEBUG - Connected to IBController
2018-02-27 11:30:01,312 - DEBUG - Position requested
2018-02-27 11:30:01,314 - DEBUG - Pos Mgmt -10
2018-02-27 11:30:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CDA0>, pos=-10, avgCost=15344.045>
2018-02-27 11:30:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:30:01,315 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:30:01,315 - DEBUG - Position is -10
2018-02-27 11:30:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 11:30:01,320 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:30:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:30:01,330 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:30:01,330 - DEBUG - Position is -12987
2018-02-27 11:30:02,313 - DEBUG - Open Orders requested
2018-02-27 11:30:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207CE10>, order=<ib.ext.Order.Order object at 0x000000000207CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021120F0>>
2018-02-27 11:30:02,316 - DEBUG - Order OrderID 236
2018-02-27 11:30:02,316 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:30:02,317 - DEBUG - Order status PreSubmitted
2018-02-27 11:30:02,317 - DEBUG - Order Identification 236
2018-02-27 11:30:02,317 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:30:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 11:30:02,318 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:30:02,318 - DEBUG - Stop ID database is 0
2018-02-27 11:30:02,318 - DEBUG - Entry ID database is 233
2018-02-27 11:30:04,315 - DEBUG - Connecting to database
2018-02-27 11:30:04,371 - DEBUG - Connected to database
2018-02-27 11:30:04,384 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,384 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:30:04,387 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,387 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:30:04,389 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,389 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:30:04,390 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,391 - DEBUG - Stop quantity 1
2018-02-27 11:30:04,392 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,392 - DEBUG - Direction is Long
2018-02-27 11:30:04,394 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,394 - DEBUG - Count is 0
2018-02-27 11:30:04,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:30:04,403 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:30:04,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:30:04,405 - DEBUG - Max ID Order is (236,)
2018-02-27 11:30:04,405 - DEBUG - Today is 2018-02-27
2018-02-27 11:30:04,406 - DEBUG - Day of the week 1
2018-02-27 11:30:04,406 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:30:04,406 - DEBUG - In Position is  0
2018-02-27 11:30:04,406 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:30:04,407 - DEBUG - curStopLossFlag is  0
2018-02-27 11:30:04,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:30:04,407 - DEBUG - Checking if Entry has been filled
2018-02-27 11:30:04,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:30:04,409 - DEBUG - EntryPend is 1
2018-02-27 11:30:04,409 - DEBUG - Try to Cancel Stop
2018-02-27 11:30:04,409 - DEBUG - Stop API ID 0
2018-02-27 11:30:04,410 - DEBUG - Profit API ID 0
2018-02-27 11:30:04,410 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:30:04,410 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:30:04,410 - DEBUG - Pos is 0
2018-02-27 11:30:04,410 - DEBUG - CurCount is 0
2018-02-27 11:30:04,411 - DEBUG - In Pos 0
2018-02-27 11:30:04,411 - DEBUG - Stop ID is 0
2018-02-27 11:30:04,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:30:04,413 - DEBUG - EntryPend is 1
2018-02-27 11:30:04,413 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:30:04,413 - DEBUG - Entry Date is 10
2018-02-27 11:30:04,413 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:30:04,414 - DEBUG - Order Profit ID is 0
2018-02-27 11:30:04,414 - DEBUG - Order Entry ID is 233
2018-02-27 11:30:04,414 - DEBUG - API ID is  0
2018-02-27 11:30:04,414 - DEBUG - Current Position is 0
2018-02-27 11:30:04,415 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:30:04,415 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:30:04,415 - DEBUG - Time is 11
2018-02-27 11:30:04,415 - DEBUG - Time is <class 'int'>
2018-02-27 11:30:04,416 - DEBUG - Disconnected from IBController
2018-02-27 11:30:04,416 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:35:00,299 - DEBUG - ****************************************************
2018-02-27 11:35:00,299 - DEBUG - Current Time is 11:35AM
2018-02-27 11:35:00,300 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:35:00,300 - DEBUG - Connecting to database
2018-02-27 11:35:00,319 - DEBUG - Connected to database
2018-02-27 11:35:00,319 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:00,321 - DEBUG - Order Profit is 0
2018-02-27 11:35:00,321 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:00,322 - DEBUG - Stop ID is 0
2018-02-27 11:35:00,323 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:00,324 - DEBUG - Entry ID is 233
2018-02-27 11:35:00,324 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:35:00,326 - DEBUG - OCA ID is 1
2018-02-27 11:35:00,327 - DEBUG - Connecting to IBController
2018-02-27 11:35:01,333 - DEBUG - Connected to IBController
2018-02-27 11:35:01,333 - DEBUG - Position requested
2018-02-27 11:35:01,335 - DEBUG - Pos Mgmt -10
2018-02-27 11:35:01,335 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD30>, pos=-10, avgCost=15344.045>
2018-02-27 11:35:01,335 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:35:01,336 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:35:01,336 - DEBUG - Position is -10
2018-02-27 11:35:01,336 - DEBUG - Pos Mgmt -12987
2018-02-27 11:35:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:35:01,337 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:35:01,337 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:35:01,337 - DEBUG - Position is -12987
2018-02-27 11:35:02,334 - DEBUG - Open Orders requested
2018-02-27 11:35:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-27 11:35:02,337 - DEBUG - Order OrderID 236
2018-02-27 11:35:02,337 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:35:02,338 - DEBUG - Order status PreSubmitted
2018-02-27 11:35:02,338 - DEBUG - Order Identification 236
2018-02-27 11:35:02,338 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:35:02,338 - DEBUG - Profit ID from database is 0
2018-02-27 11:35:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:35:02,339 - DEBUG - Stop ID database is 0
2018-02-27 11:35:02,339 - DEBUG - Entry ID database is 233
2018-02-27 11:35:04,337 - DEBUG - Connecting to database
2018-02-27 11:35:04,347 - DEBUG - Connected to database
2018-02-27 11:35:04,349 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,349 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:35:04,351 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,351 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:35:04,352 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,353 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:35:04,354 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,354 - DEBUG - Stop quantity 1
2018-02-27 11:35:04,356 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,356 - DEBUG - Direction is Long
2018-02-27 11:35:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,358 - DEBUG - Count is 0
2018-02-27 11:35:04,359 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:35:04,360 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:35:04,361 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:35:04,361 - DEBUG - Max ID Order is (236,)
2018-02-27 11:35:04,362 - DEBUG - Today is 2018-02-27
2018-02-27 11:35:04,362 - DEBUG - Day of the week 1
2018-02-27 11:35:04,363 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:35:04,363 - DEBUG - In Position is  0
2018-02-27 11:35:04,363 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:35:04,363 - DEBUG - curStopLossFlag is  0
2018-02-27 11:35:04,364 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:35:04,364 - DEBUG - Checking if Entry has been filled
2018-02-27 11:35:04,364 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:35:04,366 - DEBUG - EntryPend is 1
2018-02-27 11:35:04,366 - DEBUG - Try to Cancel Stop
2018-02-27 11:35:04,366 - DEBUG - Stop API ID 0
2018-02-27 11:35:04,366 - DEBUG - Profit API ID 0
2018-02-27 11:35:04,367 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:35:04,367 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:35:04,367 - DEBUG - Pos is 0
2018-02-27 11:35:04,367 - DEBUG - CurCount is 0
2018-02-27 11:35:04,367 - DEBUG - In Pos 0
2018-02-27 11:35:04,368 - DEBUG - Stop ID is 0
2018-02-27 11:35:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:35:04,369 - DEBUG - EntryPend is 1
2018-02-27 11:35:04,370 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:35:04,370 - DEBUG - Entry Date is 10
2018-02-27 11:35:04,370 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:35:04,370 - DEBUG - Order Profit ID is 0
2018-02-27 11:35:04,371 - DEBUG - Order Entry ID is 233
2018-02-27 11:35:04,371 - DEBUG - API ID is  0
2018-02-27 11:35:04,371 - DEBUG - Current Position is 0
2018-02-27 11:35:04,371 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:35:04,372 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:35:04,372 - DEBUG - Time is 11
2018-02-27 11:35:04,372 - DEBUG - Time is <class 'int'>
2018-02-27 11:35:04,372 - DEBUG - Disconnected from IBController
2018-02-27 11:35:04,373 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:40:00,317 - DEBUG - ****************************************************
2018-02-27 11:40:00,317 - DEBUG - Current Time is 11:40AM
2018-02-27 11:40:00,318 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:40:00,318 - DEBUG - Connecting to database
2018-02-27 11:40:00,345 - DEBUG - Connected to database
2018-02-27 11:40:00,345 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:00,347 - DEBUG - Order Profit is 0
2018-02-27 11:40:00,347 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:00,348 - DEBUG - Stop ID is 0
2018-02-27 11:40:00,349 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:00,350 - DEBUG - Entry ID is 233
2018-02-27 11:40:00,350 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:40:00,352 - DEBUG - OCA ID is 1
2018-02-27 11:40:00,352 - DEBUG - Connecting to IBController
2018-02-27 11:40:01,358 - DEBUG - Connected to IBController
2018-02-27 11:40:01,358 - DEBUG - Position requested
2018-02-27 11:40:01,360 - DEBUG - Pos Mgmt -10
2018-02-27 11:40:01,363 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 11:40:01,364 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:40:01,365 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:40:01,365 - DEBUG - Position is -10
2018-02-27 11:40:01,368 - DEBUG - Pos Mgmt -12987
2018-02-27 11:40:01,369 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:40:01,369 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:40:01,369 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:40:01,369 - DEBUG - Position is -12987
2018-02-27 11:40:02,359 - DEBUG - Open Orders requested
2018-02-27 11:40:02,361 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10F0>>
2018-02-27 11:40:02,362 - DEBUG - Order OrderID 236
2018-02-27 11:40:02,362 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:40:02,362 - DEBUG - Order status PreSubmitted
2018-02-27 11:40:02,363 - DEBUG - Order Identification 236
2018-02-27 11:40:02,363 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:40:02,363 - DEBUG - Profit ID from database is 0
2018-02-27 11:40:02,363 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:40:02,364 - DEBUG - Stop ID database is 0
2018-02-27 11:40:02,364 - DEBUG - Entry ID database is 233
2018-02-27 11:40:04,361 - DEBUG - Connecting to database
2018-02-27 11:40:04,370 - DEBUG - Connected to database
2018-02-27 11:40:04,371 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,372 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:40:04,373 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,374 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:40:04,376 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,377 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:40:04,378 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,378 - DEBUG - Stop quantity 1
2018-02-27 11:40:04,380 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,380 - DEBUG - Direction is Long
2018-02-27 11:40:04,381 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,382 - DEBUG - Count is 0
2018-02-27 11:40:04,383 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:40:04,384 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:40:04,385 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:40:04,385 - DEBUG - Max ID Order is (236,)
2018-02-27 11:40:04,386 - DEBUG - Today is 2018-02-27
2018-02-27 11:40:04,386 - DEBUG - Day of the week 1
2018-02-27 11:40:04,386 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:40:04,387 - DEBUG - In Position is  0
2018-02-27 11:40:04,387 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:40:04,387 - DEBUG - curStopLossFlag is  0
2018-02-27 11:40:04,388 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:40:04,388 - DEBUG - Checking if Entry has been filled
2018-02-27 11:40:04,388 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:40:04,390 - DEBUG - EntryPend is 1
2018-02-27 11:40:04,390 - DEBUG - Try to Cancel Stop
2018-02-27 11:40:04,390 - DEBUG - Stop API ID 0
2018-02-27 11:40:04,390 - DEBUG - Profit API ID 0
2018-02-27 11:40:04,390 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:40:04,391 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:40:04,391 - DEBUG - Pos is 0
2018-02-27 11:40:04,391 - DEBUG - CurCount is 0
2018-02-27 11:40:04,391 - DEBUG - In Pos 0
2018-02-27 11:40:04,392 - DEBUG - Stop ID is 0
2018-02-27 11:40:04,392 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:40:04,393 - DEBUG - EntryPend is 1
2018-02-27 11:40:04,394 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:40:04,394 - DEBUG - Entry Date is 10
2018-02-27 11:40:04,394 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:40:04,394 - DEBUG - Order Profit ID is 0
2018-02-27 11:40:04,395 - DEBUG - Order Entry ID is 233
2018-02-27 11:40:04,395 - DEBUG - API ID is  0
2018-02-27 11:40:04,395 - DEBUG - Current Position is 0
2018-02-27 11:40:04,395 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:40:04,395 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:40:04,396 - DEBUG - Time is 11
2018-02-27 11:40:04,396 - DEBUG - Time is <class 'int'>
2018-02-27 11:40:04,396 - DEBUG - Disconnected from IBController
2018-02-27 11:40:04,397 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:45:00,276 - DEBUG - ****************************************************
2018-02-27 11:45:00,277 - DEBUG - Current Time is 11:45AM
2018-02-27 11:45:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:45:00,278 - DEBUG - Connecting to database
2018-02-27 11:45:00,308 - DEBUG - Connected to database
2018-02-27 11:45:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:00,310 - DEBUG - Order Profit is 0
2018-02-27 11:45:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:00,311 - DEBUG - Stop ID is 0
2018-02-27 11:45:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:00,313 - DEBUG - Entry ID is 233
2018-02-27 11:45:00,313 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:45:00,314 - DEBUG - OCA ID is 1
2018-02-27 11:45:00,315 - DEBUG - Connecting to IBController
2018-02-27 11:45:01,320 - DEBUG - Connected to IBController
2018-02-27 11:45:01,320 - DEBUG - Position requested
2018-02-27 11:45:01,322 - DEBUG - Pos Mgmt -10
2018-02-27 11:45:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-10, avgCost=15344.045>
2018-02-27 11:45:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:45:01,323 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:45:01,323 - DEBUG - Position is -10
2018-02-27 11:45:01,323 - DEBUG - Pos Mgmt -12987
2018-02-27 11:45:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:45:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:45:01,324 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:45:01,324 - DEBUG - Position is -12987
2018-02-27 11:45:02,321 - DEBUG - Open Orders requested
2018-02-27 11:45:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-27 11:45:02,323 - DEBUG - Order OrderID 236
2018-02-27 11:45:02,324 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:45:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 11:45:02,325 - DEBUG - Order Identification 236
2018-02-27 11:45:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:45:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 11:45:02,326 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:45:02,326 - DEBUG - Stop ID database is 0
2018-02-27 11:45:02,326 - DEBUG - Entry ID database is 233
2018-02-27 11:45:04,323 - DEBUG - Connecting to database
2018-02-27 11:45:04,336 - DEBUG - Connected to database
2018-02-27 11:45:04,338 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,338 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:45:04,340 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,340 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:45:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,342 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:45:04,343 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,344 - DEBUG - Stop quantity 1
2018-02-27 11:45:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,345 - DEBUG - Direction is Long
2018-02-27 11:45:04,347 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,347 - DEBUG - Count is 0
2018-02-27 11:45:04,349 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:45:04,349 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:45:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:45:04,351 - DEBUG - Max ID Order is (236,)
2018-02-27 11:45:04,351 - DEBUG - Today is 2018-02-27
2018-02-27 11:45:04,352 - DEBUG - Day of the week 1
2018-02-27 11:45:04,352 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:45:04,352 - DEBUG - In Position is  0
2018-02-27 11:45:04,353 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:45:04,353 - DEBUG - curStopLossFlag is  0
2018-02-27 11:45:04,353 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:45:04,353 - DEBUG - Checking if Entry has been filled
2018-02-27 11:45:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:45:04,355 - DEBUG - EntryPend is 1
2018-02-27 11:45:04,355 - DEBUG - Try to Cancel Stop
2018-02-27 11:45:04,356 - DEBUG - Stop API ID 0
2018-02-27 11:45:04,356 - DEBUG - Profit API ID 0
2018-02-27 11:45:04,356 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:45:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:45:04,357 - DEBUG - Pos is 0
2018-02-27 11:45:04,357 - DEBUG - CurCount is 0
2018-02-27 11:45:04,357 - DEBUG - In Pos 0
2018-02-27 11:45:04,357 - DEBUG - Stop ID is 0
2018-02-27 11:45:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:45:04,359 - DEBUG - EntryPend is 1
2018-02-27 11:45:04,360 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:45:04,360 - DEBUG - Entry Date is 10
2018-02-27 11:45:04,360 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:45:04,360 - DEBUG - Order Profit ID is 0
2018-02-27 11:45:04,360 - DEBUG - Order Entry ID is 233
2018-02-27 11:45:04,361 - DEBUG - API ID is  0
2018-02-27 11:45:04,361 - DEBUG - Current Position is 0
2018-02-27 11:45:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:45:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:45:04,362 - DEBUG - Time is 11
2018-02-27 11:45:04,362 - DEBUG - Time is <class 'int'>
2018-02-27 11:45:04,362 - DEBUG - Disconnected from IBController
2018-02-27 11:45:04,363 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:50:00,279 - DEBUG - ****************************************************
2018-02-27 11:50:00,279 - DEBUG - Current Time is 11:50AM
2018-02-27 11:50:00,280 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:50:00,280 - DEBUG - Connecting to database
2018-02-27 11:50:00,299 - DEBUG - Connected to database
2018-02-27 11:50:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:00,301 - DEBUG - Order Profit is 0
2018-02-27 11:50:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:00,303 - DEBUG - Stop ID is 0
2018-02-27 11:50:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:00,304 - DEBUG - Entry ID is 233
2018-02-27 11:50:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:50:00,306 - DEBUG - OCA ID is 1
2018-02-27 11:50:00,306 - DEBUG - Connecting to IBController
2018-02-27 11:50:01,310 - DEBUG - Connected to IBController
2018-02-27 11:50:01,310 - DEBUG - Position requested
2018-02-27 11:50:01,312 - DEBUG - Pos Mgmt -10
2018-02-27 11:50:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-10, avgCost=15344.045>
2018-02-27 11:50:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:50:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:50:01,313 - DEBUG - Position is -10
2018-02-27 11:50:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 11:50:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:50:01,314 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:50:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:50:01,315 - DEBUG - Position is -12987
2018-02-27 11:50:02,310 - DEBUG - Open Orders requested
2018-02-27 11:50:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, order=<ib.ext.Order.Order object at 0x000000000205DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-27 11:50:02,312 - DEBUG - Order OrderID 236
2018-02-27 11:50:02,313 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:50:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 11:50:02,313 - DEBUG - Order Identification 236
2018-02-27 11:50:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:50:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 11:50:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:50:02,318 - DEBUG - Stop ID database is 0
2018-02-27 11:50:02,318 - DEBUG - Entry ID database is 233
2018-02-27 11:50:04,310 - DEBUG - Connecting to database
2018-02-27 11:50:04,320 - DEBUG - Connected to database
2018-02-27 11:50:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,322 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:50:04,324 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,324 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:50:04,330 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:50:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,332 - DEBUG - Stop quantity 1
2018-02-27 11:50:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,334 - DEBUG - Direction is Long
2018-02-27 11:50:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,335 - DEBUG - Count is 0
2018-02-27 11:50:04,337 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:50:04,337 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:50:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:50:04,339 - DEBUG - Max ID Order is (236,)
2018-02-27 11:50:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 11:50:04,340 - DEBUG - Day of the week 1
2018-02-27 11:50:04,340 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:50:04,340 - DEBUG - In Position is  0
2018-02-27 11:50:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:50:04,341 - DEBUG - curStopLossFlag is  0
2018-02-27 11:50:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:50:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 11:50:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:50:04,343 - DEBUG - EntryPend is 1
2018-02-27 11:50:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 11:50:04,343 - DEBUG - Stop API ID 0
2018-02-27 11:50:04,344 - DEBUG - Profit API ID 0
2018-02-27 11:50:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:50:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:50:04,344 - DEBUG - Pos is 0
2018-02-27 11:50:04,345 - DEBUG - CurCount is 0
2018-02-27 11:50:04,345 - DEBUG - In Pos 0
2018-02-27 11:50:04,345 - DEBUG - Stop ID is 0
2018-02-27 11:50:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:50:04,347 - DEBUG - EntryPend is 1
2018-02-27 11:50:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:50:04,347 - DEBUG - Entry Date is 10
2018-02-27 11:50:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:50:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 11:50:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 11:50:04,348 - DEBUG - API ID is  0
2018-02-27 11:50:04,349 - DEBUG - Current Position is 0
2018-02-27 11:50:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:50:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:50:04,349 - DEBUG - Time is 11
2018-02-27 11:50:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 11:50:04,350 - DEBUG - Disconnected from IBController
2018-02-27 11:50:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:55:00,304 - DEBUG - ****************************************************
2018-02-27 11:55:00,305 - DEBUG - Current Time is 11:55AM
2018-02-27 11:55:00,305 - DEBUG - Starting Pos Mgmt E S
2018-02-27 11:55:00,306 - DEBUG - Connecting to database
2018-02-27 11:55:00,336 - DEBUG - Connected to database
2018-02-27 11:55:00,337 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:00,338 - DEBUG - Order Profit is 0
2018-02-27 11:55:00,339 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:00,340 - DEBUG - Stop ID is 0
2018-02-27 11:55:00,340 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:00,342 - DEBUG - Entry ID is 233
2018-02-27 11:55:00,342 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:55:00,343 - DEBUG - OCA ID is 1
2018-02-27 11:55:00,344 - DEBUG - Connecting to IBController
2018-02-27 11:55:01,348 - DEBUG - Connected to IBController
2018-02-27 11:55:01,348 - DEBUG - Position requested
2018-02-27 11:55:01,351 - DEBUG - Pos Mgmt -10
2018-02-27 11:55:01,352 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CAC8>, pos=-10, avgCost=15344.045>
2018-02-27 11:55:01,352 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:55:01,352 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:55:01,353 - DEBUG - Position is -10
2018-02-27 11:55:01,353 - DEBUG - Pos Mgmt -12987
2018-02-27 11:55:01,353 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:55:01,354 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:55:01,354 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:55:01,354 - DEBUG - Position is -12987
2018-02-27 11:55:02,352 - DEBUG - Open Orders requested
2018-02-27 11:55:02,354 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000201CE10>, order=<ib.ext.Order.Order object at 0x000000000201CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B20F0>>
2018-02-27 11:55:02,354 - DEBUG - Order OrderID 236
2018-02-27 11:55:02,355 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:55:02,355 - DEBUG - Order status PreSubmitted
2018-02-27 11:55:02,355 - DEBUG - Order Identification 236
2018-02-27 11:55:02,356 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:55:02,356 - DEBUG - Profit ID from database is 0
2018-02-27 11:55:02,356 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:55:02,357 - DEBUG - Stop ID database is 0
2018-02-27 11:55:02,357 - DEBUG - Entry ID database is 233
2018-02-27 11:55:04,354 - DEBUG - Connecting to database
2018-02-27 11:55:04,368 - DEBUG - Connected to database
2018-02-27 11:55:04,369 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,370 - DEBUG - Stop loss value is 2742.75
2018-02-27 11:55:04,371 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,372 - DEBUG - Stop loss value is 2797.0
2018-02-27 11:55:04,373 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,373 - DEBUG - EntryPrice value is 2787.5
2018-02-27 11:55:04,375 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,375 - DEBUG - Stop quantity 1
2018-02-27 11:55:04,377 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,377 - DEBUG - Direction is Long
2018-02-27 11:55:04,378 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,379 - DEBUG - Count is 0
2018-02-27 11:55:04,380 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 11:55:04,380 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:55:04,382 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:55:04,382 - DEBUG - Max ID Order is (236,)
2018-02-27 11:55:04,383 - DEBUG - Today is 2018-02-27
2018-02-27 11:55:04,383 - DEBUG - Day of the week 1
2018-02-27 11:55:04,383 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:55:04,383 - DEBUG - In Position is  0
2018-02-27 11:55:04,384 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:55:04,384 - DEBUG - curStopLossFlag is  0
2018-02-27 11:55:04,384 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:55:04,384 - DEBUG - Checking if Entry has been filled
2018-02-27 11:55:04,385 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:55:04,386 - DEBUG - EntryPend is 1
2018-02-27 11:55:04,386 - DEBUG - Try to Cancel Stop
2018-02-27 11:55:04,386 - DEBUG - Stop API ID 0
2018-02-27 11:55:04,387 - DEBUG - Profit API ID 0
2018-02-27 11:55:04,387 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:55:04,387 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:55:04,387 - DEBUG - Pos is 0
2018-02-27 11:55:04,388 - DEBUG - CurCount is 0
2018-02-27 11:55:04,388 - DEBUG - In Pos 0
2018-02-27 11:55:04,388 - DEBUG - Stop ID is 0
2018-02-27 11:55:04,388 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 11:55:04,390 - DEBUG - EntryPend is 1
2018-02-27 11:55:04,390 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:55:04,390 - DEBUG - Entry Date is 10
2018-02-27 11:55:04,390 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:55:04,391 - DEBUG - Order Profit ID is 0
2018-02-27 11:55:04,391 - DEBUG - Order Entry ID is 233
2018-02-27 11:55:04,391 - DEBUG - API ID is  0
2018-02-27 11:55:04,391 - DEBUG - Current Position is 0
2018-02-27 11:55:04,391 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:55:04,392 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:55:04,392 - DEBUG - Time is 11
2018-02-27 11:55:04,392 - DEBUG - Time is <class 'int'>
2018-02-27 11:55:04,393 - DEBUG - Disconnected from IBController
2018-02-27 11:55:04,394 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:00:00,271 - DEBUG - ****************************************************
2018-02-27 12:00:00,271 - DEBUG - Current Time is 12:00PM
2018-02-27 12:00:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:00:00,272 - DEBUG - Connecting to database
2018-02-27 12:00:00,294 - DEBUG - Connected to database
2018-02-27 12:00:00,294 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:00,296 - DEBUG - Order Profit is 0
2018-02-27 12:00:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:00,297 - DEBUG - Stop ID is 0
2018-02-27 12:00:00,297 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:00,299 - DEBUG - Entry ID is 233
2018-02-27 12:00:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:00:00,300 - DEBUG - OCA ID is 1
2018-02-27 12:00:00,301 - DEBUG - Connecting to IBController
2018-02-27 12:00:01,307 - DEBUG - Connected to IBController
2018-02-27 12:00:01,307 - DEBUG - Position requested
2018-02-27 12:00:01,308 - DEBUG - Pos Mgmt -10
2018-02-27 12:00:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:00:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:00:01,310 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:00:01,310 - DEBUG - Position is -10
2018-02-27 12:00:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 12:00:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:00:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:00:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:00:01,311 - DEBUG - Position is -12987
2018-02-27 12:00:02,308 - DEBUG - Open Orders requested
2018-02-27 12:00:02,310 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, order=<ib.ext.Order.Order object at 0x000000000208DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 12:00:02,310 - DEBUG - Order OrderID 236
2018-02-27 12:00:02,311 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:00:02,311 - DEBUG - Order status PreSubmitted
2018-02-27 12:00:02,312 - DEBUG - Order Identification 236
2018-02-27 12:00:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:00:02,312 - DEBUG - Profit ID from database is 0
2018-02-27 12:00:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:00:02,313 - DEBUG - Stop ID database is 0
2018-02-27 12:00:02,313 - DEBUG - Entry ID database is 233
2018-02-27 12:00:04,310 - DEBUG - Connecting to database
2018-02-27 12:00:04,317 - DEBUG - Connected to database
2018-02-27 12:00:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:00:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:00:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:00:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,325 - DEBUG - Stop quantity 1
2018-02-27 12:00:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,328 - DEBUG - Direction is Long
2018-02-27 12:00:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,330 - DEBUG - Count is 0
2018-02-27 12:00:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:00:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:00:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:00:04,335 - DEBUG - Max ID Order is (236,)
2018-02-27 12:00:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 12:00:04,336 - DEBUG - Day of the week 1
2018-02-27 12:00:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:00:04,337 - DEBUG - In Position is  0
2018-02-27 12:00:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:00:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 12:00:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:00:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 12:00:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:00:04,339 - DEBUG - EntryPend is 1
2018-02-27 12:00:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 12:00:04,340 - DEBUG - Stop API ID 0
2018-02-27 12:00:04,340 - DEBUG - Profit API ID 0
2018-02-27 12:00:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:00:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:00:04,341 - DEBUG - Pos is 0
2018-02-27 12:00:04,341 - DEBUG - CurCount is 0
2018-02-27 12:00:04,341 - DEBUG - In Pos 0
2018-02-27 12:00:04,341 - DEBUG - Stop ID is 0
2018-02-27 12:00:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:00:04,343 - DEBUG - EntryPend is 1
2018-02-27 12:00:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:00:04,344 - DEBUG - Entry Date is 10
2018-02-27 12:00:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:00:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 12:00:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 12:00:04,344 - DEBUG - API ID is  0
2018-02-27 12:00:04,345 - DEBUG - Current Position is 0
2018-02-27 12:00:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:00:04,347 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:00:04,347 - DEBUG - Time is 12
2018-02-27 12:00:04,347 - DEBUG - Time is <class 'int'>
2018-02-27 12:00:04,347 - DEBUG - Disconnected from IBController
2018-02-27 12:00:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:05:00,293 - DEBUG - ****************************************************
2018-02-27 12:05:00,294 - DEBUG - Current Time is 12:05PM
2018-02-27 12:05:00,294 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:05:00,294 - DEBUG - Connecting to database
2018-02-27 12:05:00,314 - DEBUG - Connected to database
2018-02-27 12:05:00,315 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:00,316 - DEBUG - Order Profit is 0
2018-02-27 12:05:00,316 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:00,318 - DEBUG - Stop ID is 0
2018-02-27 12:05:00,318 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:00,319 - DEBUG - Entry ID is 233
2018-02-27 12:05:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:05:00,321 - DEBUG - OCA ID is 1
2018-02-27 12:05:00,321 - DEBUG - Connecting to IBController
2018-02-27 12:05:01,327 - DEBUG - Connected to IBController
2018-02-27 12:05:01,327 - DEBUG - Position requested
2018-02-27 12:05:01,343 - DEBUG - Pos Mgmt -10
2018-02-27 12:05:01,343 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DD30>, pos=-10, avgCost=15344.045>
2018-02-27 12:05:01,344 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:05:01,344 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:05:01,345 - DEBUG - Position is -10
2018-02-27 12:05:01,345 - DEBUG - Pos Mgmt -12987
2018-02-27 12:05:01,345 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:05:01,346 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:05:01,346 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:05:01,346 - DEBUG - Position is -12987
2018-02-27 12:05:02,332 - DEBUG - Open Orders requested
2018-02-27 12:05:02,336 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206DE10>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010F0>>
2018-02-27 12:05:02,337 - DEBUG - Order OrderID 236
2018-02-27 12:05:02,338 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:05:02,338 - DEBUG - Order status PreSubmitted
2018-02-27 12:05:02,338 - DEBUG - Order Identification 236
2018-02-27 12:05:02,339 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:05:02,339 - DEBUG - Profit ID from database is 0
2018-02-27 12:05:02,339 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:05:02,339 - DEBUG - Stop ID database is 0
2018-02-27 12:05:02,340 - DEBUG - Entry ID database is 233
2018-02-27 12:05:04,337 - DEBUG - Connecting to database
2018-02-27 12:05:04,344 - DEBUG - Connected to database
2018-02-27 12:05:04,346 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,347 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:05:04,348 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,348 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:05:04,350 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,350 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:05:04,352 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,352 - DEBUG - Stop quantity 1
2018-02-27 12:05:04,353 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,354 - DEBUG - Direction is Long
2018-02-27 12:05:04,355 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,355 - DEBUG - Count is 0
2018-02-27 12:05:04,357 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:05:04,357 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:05:04,359 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:05:04,359 - DEBUG - Max ID Order is (236,)
2018-02-27 12:05:04,359 - DEBUG - Today is 2018-02-27
2018-02-27 12:05:04,360 - DEBUG - Day of the week 1
2018-02-27 12:05:04,360 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:05:04,360 - DEBUG - In Position is  0
2018-02-27 12:05:04,360 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:05:04,361 - DEBUG - curStopLossFlag is  0
2018-02-27 12:05:04,361 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:05:04,361 - DEBUG - Checking if Entry has been filled
2018-02-27 12:05:04,361 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:05:04,363 - DEBUG - EntryPend is 1
2018-02-27 12:05:04,363 - DEBUG - Try to Cancel Stop
2018-02-27 12:05:04,363 - DEBUG - Stop API ID 0
2018-02-27 12:05:04,364 - DEBUG - Profit API ID 0
2018-02-27 12:05:04,364 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:05:04,364 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:05:04,364 - DEBUG - Pos is 0
2018-02-27 12:05:04,365 - DEBUG - CurCount is 0
2018-02-27 12:05:04,365 - DEBUG - In Pos 0
2018-02-27 12:05:04,365 - DEBUG - Stop ID is 0
2018-02-27 12:05:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:05:04,367 - DEBUG - EntryPend is 1
2018-02-27 12:05:04,367 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:05:04,367 - DEBUG - Entry Date is 10
2018-02-27 12:05:04,367 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:05:04,368 - DEBUG - Order Profit ID is 0
2018-02-27 12:05:04,368 - DEBUG - Order Entry ID is 233
2018-02-27 12:05:04,368 - DEBUG - API ID is  0
2018-02-27 12:05:04,368 - DEBUG - Current Position is 0
2018-02-27 12:05:04,369 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:05:04,369 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:05:04,369 - DEBUG - Time is 12
2018-02-27 12:05:04,369 - DEBUG - Time is <class 'int'>
2018-02-27 12:05:04,370 - DEBUG - Disconnected from IBController
2018-02-27 12:05:04,370 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:10:00,275 - DEBUG - ****************************************************
2018-02-27 12:10:00,275 - DEBUG - Current Time is 12:10PM
2018-02-27 12:10:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:10:00,276 - DEBUG - Connecting to database
2018-02-27 12:10:00,295 - DEBUG - Connected to database
2018-02-27 12:10:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:00,297 - DEBUG - Order Profit is 0
2018-02-27 12:10:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:00,299 - DEBUG - Stop ID is 0
2018-02-27 12:10:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:00,300 - DEBUG - Entry ID is 233
2018-02-27 12:10:00,300 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:10:00,302 - DEBUG - OCA ID is 1
2018-02-27 12:10:00,302 - DEBUG - Connecting to IBController
2018-02-27 12:10:01,308 - DEBUG - Connected to IBController
2018-02-27 12:10:01,308 - DEBUG - Position requested
2018-02-27 12:10:01,310 - DEBUG - Pos Mgmt -10
2018-02-27 12:10:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:10:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:10:01,311 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:10:01,311 - DEBUG - Position is -10
2018-02-27 12:10:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 12:10:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:10:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:10:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:10:01,313 - DEBUG - Position is -12987
2018-02-27 12:10:02,309 - DEBUG - Open Orders requested
2018-02-27 12:10:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, order=<ib.ext.Order.Order object at 0x000000000203DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-27 12:10:02,312 - DEBUG - Order OrderID 236
2018-02-27 12:10:02,312 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:10:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 12:10:02,313 - DEBUG - Order Identification 236
2018-02-27 12:10:02,313 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:10:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 12:10:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:10:02,314 - DEBUG - Stop ID database is 0
2018-02-27 12:10:02,314 - DEBUG - Entry ID database is 233
2018-02-27 12:10:04,311 - DEBUG - Connecting to database
2018-02-27 12:10:04,318 - DEBUG - Connected to database
2018-02-27 12:10:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:10:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:10:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,323 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:10:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,325 - DEBUG - Stop quantity 1
2018-02-27 12:10:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,327 - DEBUG - Direction is Long
2018-02-27 12:10:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,329 - DEBUG - Count is 0
2018-02-27 12:10:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:10:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:10:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:10:04,335 - DEBUG - Max ID Order is (236,)
2018-02-27 12:10:04,335 - DEBUG - Today is 2018-02-27
2018-02-27 12:10:04,336 - DEBUG - Day of the week 1
2018-02-27 12:10:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:10:04,336 - DEBUG - In Position is  0
2018-02-27 12:10:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:10:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 12:10:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:10:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 12:10:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:10:04,339 - DEBUG - EntryPend is 1
2018-02-27 12:10:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 12:10:04,339 - DEBUG - Stop API ID 0
2018-02-27 12:10:04,340 - DEBUG - Profit API ID 0
2018-02-27 12:10:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:10:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:10:04,341 - DEBUG - Pos is 0
2018-02-27 12:10:04,341 - DEBUG - CurCount is 0
2018-02-27 12:10:04,341 - DEBUG - In Pos 0
2018-02-27 12:10:04,341 - DEBUG - Stop ID is 0
2018-02-27 12:10:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:10:04,343 - DEBUG - EntryPend is 1
2018-02-27 12:10:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:10:04,344 - DEBUG - Entry Date is 10
2018-02-27 12:10:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:10:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 12:10:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 12:10:04,344 - DEBUG - API ID is  0
2018-02-27 12:10:04,345 - DEBUG - Current Position is 0
2018-02-27 12:10:04,345 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:10:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:10:04,345 - DEBUG - Time is 12
2018-02-27 12:10:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 12:10:04,346 - DEBUG - Disconnected from IBController
2018-02-27 12:10:04,346 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:15:00,264 - DEBUG - ****************************************************
2018-02-27 12:15:00,265 - DEBUG - Current Time is 12:15PM
2018-02-27 12:15:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:15:00,265 - DEBUG - Connecting to database
2018-02-27 12:15:00,285 - DEBUG - Connected to database
2018-02-27 12:15:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:00,287 - DEBUG - Order Profit is 0
2018-02-27 12:15:00,287 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:00,288 - DEBUG - Stop ID is 0
2018-02-27 12:15:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:00,290 - DEBUG - Entry ID is 233
2018-02-27 12:15:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:15:00,292 - DEBUG - OCA ID is 1
2018-02-27 12:15:00,292 - DEBUG - Connecting to IBController
2018-02-27 12:15:01,298 - DEBUG - Connected to IBController
2018-02-27 12:15:01,298 - DEBUG - Position requested
2018-02-27 12:15:01,300 - DEBUG - Pos Mgmt -10
2018-02-27 12:15:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 12:15:01,304 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:15:01,304 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:15:01,305 - DEBUG - Position is -10
2018-02-27 12:15:01,306 - DEBUG - Pos Mgmt -12987
2018-02-27 12:15:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:15:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:15:01,307 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:15:01,307 - DEBUG - Position is -12987
2018-02-27 12:15:02,303 - DEBUG - Open Orders requested
2018-02-27 12:15:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-27 12:15:02,305 - DEBUG - Order OrderID 236
2018-02-27 12:15:02,306 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:15:02,306 - DEBUG - Order status PreSubmitted
2018-02-27 12:15:02,307 - DEBUG - Order Identification 236
2018-02-27 12:15:02,307 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:15:02,307 - DEBUG - Profit ID from database is 0
2018-02-27 12:15:02,307 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:15:02,307 - DEBUG - Stop ID database is 0
2018-02-27 12:15:02,308 - DEBUG - Entry ID database is 233
2018-02-27 12:15:04,305 - DEBUG - Connecting to database
2018-02-27 12:15:04,312 - DEBUG - Connected to database
2018-02-27 12:15:04,314 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,314 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:15:04,316 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,316 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:15:04,317 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,318 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:15:04,319 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,319 - DEBUG - Stop quantity 1
2018-02-27 12:15:04,321 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,321 - DEBUG - Direction is Long
2018-02-27 12:15:04,322 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,323 - DEBUG - Count is 0
2018-02-27 12:15:04,325 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:15:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:15:04,327 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:15:04,328 - DEBUG - Max ID Order is (236,)
2018-02-27 12:15:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 12:15:04,329 - DEBUG - Day of the week 1
2018-02-27 12:15:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:15:04,329 - DEBUG - In Position is  0
2018-02-27 12:15:04,329 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:15:04,330 - DEBUG - curStopLossFlag is  0
2018-02-27 12:15:04,330 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:15:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 12:15:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:15:04,332 - DEBUG - EntryPend is 1
2018-02-27 12:15:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 12:15:04,332 - DEBUG - Stop API ID 0
2018-02-27 12:15:04,332 - DEBUG - Profit API ID 0
2018-02-27 12:15:04,333 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:15:04,333 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:15:04,333 - DEBUG - Pos is 0
2018-02-27 12:15:04,333 - DEBUG - CurCount is 0
2018-02-27 12:15:04,334 - DEBUG - In Pos 0
2018-02-27 12:15:04,334 - DEBUG - Stop ID is 0
2018-02-27 12:15:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:15:04,341 - DEBUG - EntryPend is 1
2018-02-27 12:15:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:15:04,341 - DEBUG - Entry Date is 10
2018-02-27 12:15:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:15:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 12:15:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 12:15:04,342 - DEBUG - API ID is  0
2018-02-27 12:15:04,343 - DEBUG - Current Position is 0
2018-02-27 12:15:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:15:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:15:04,343 - DEBUG - Time is 12
2018-02-27 12:15:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 12:15:04,344 - DEBUG - Disconnected from IBController
2018-02-27 12:15:04,344 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:20:00,278 - DEBUG - ****************************************************
2018-02-27 12:20:00,279 - DEBUG - Current Time is 12:20PM
2018-02-27 12:20:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:20:00,279 - DEBUG - Connecting to database
2018-02-27 12:20:00,304 - DEBUG - Connected to database
2018-02-27 12:20:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:00,306 - DEBUG - Order Profit is 0
2018-02-27 12:20:00,307 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:00,308 - DEBUG - Stop ID is 0
2018-02-27 12:20:00,308 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:00,310 - DEBUG - Entry ID is 233
2018-02-27 12:20:00,310 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:20:00,311 - DEBUG - OCA ID is 1
2018-02-27 12:20:00,312 - DEBUG - Connecting to IBController
2018-02-27 12:20:01,317 - DEBUG - Connected to IBController
2018-02-27 12:20:01,317 - DEBUG - Position requested
2018-02-27 12:20:01,319 - DEBUG - Pos Mgmt -10
2018-02-27 12:20:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, pos=-10, avgCost=15344.045>
2018-02-27 12:20:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:20:01,320 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:20:01,320 - DEBUG - Position is -10
2018-02-27 12:20:01,320 - DEBUG - Pos Mgmt -12987
2018-02-27 12:20:01,320 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:20:01,321 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:20:01,321 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:20:01,321 - DEBUG - Position is -12987
2018-02-27 12:20:02,318 - DEBUG - Open Orders requested
2018-02-27 12:20:02,320 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 12:20:02,326 - DEBUG - Order OrderID 236
2018-02-27 12:20:02,326 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:20:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 12:20:02,327 - DEBUG - Order Identification 236
2018-02-27 12:20:02,327 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:20:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 12:20:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:20:02,329 - DEBUG - Stop ID database is 0
2018-02-27 12:20:02,329 - DEBUG - Entry ID database is 233
2018-02-27 12:20:04,325 - DEBUG - Connecting to database
2018-02-27 12:20:04,335 - DEBUG - Connected to database
2018-02-27 12:20:04,337 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,338 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:20:04,339 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,340 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:20:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,342 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:20:04,343 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,343 - DEBUG - Stop quantity 1
2018-02-27 12:20:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,345 - DEBUG - Direction is Long
2018-02-27 12:20:04,346 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,347 - DEBUG - Count is 0
2018-02-27 12:20:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:20:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:20:04,350 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:20:04,350 - DEBUG - Max ID Order is (236,)
2018-02-27 12:20:04,351 - DEBUG - Today is 2018-02-27
2018-02-27 12:20:04,351 - DEBUG - Day of the week 1
2018-02-27 12:20:04,351 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:20:04,351 - DEBUG - In Position is  0
2018-02-27 12:20:04,352 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:20:04,352 - DEBUG - curStopLossFlag is  0
2018-02-27 12:20:04,352 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:20:04,352 - DEBUG - Checking if Entry has been filled
2018-02-27 12:20:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:20:04,354 - DEBUG - EntryPend is 1
2018-02-27 12:20:04,355 - DEBUG - Try to Cancel Stop
2018-02-27 12:20:04,355 - DEBUG - Stop API ID 0
2018-02-27 12:20:04,355 - DEBUG - Profit API ID 0
2018-02-27 12:20:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:20:04,356 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:20:04,356 - DEBUG - Pos is 0
2018-02-27 12:20:04,356 - DEBUG - CurCount is 0
2018-02-27 12:20:04,356 - DEBUG - In Pos 0
2018-02-27 12:20:04,357 - DEBUG - Stop ID is 0
2018-02-27 12:20:04,357 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:20:04,358 - DEBUG - EntryPend is 1
2018-02-27 12:20:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:20:04,359 - DEBUG - Entry Date is 10
2018-02-27 12:20:04,359 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:20:04,359 - DEBUG - Order Profit ID is 0
2018-02-27 12:20:04,360 - DEBUG - Order Entry ID is 233
2018-02-27 12:20:04,360 - DEBUG - API ID is  0
2018-02-27 12:20:04,360 - DEBUG - Current Position is 0
2018-02-27 12:20:04,360 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:20:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:20:04,361 - DEBUG - Time is 12
2018-02-27 12:20:04,361 - DEBUG - Time is <class 'int'>
2018-02-27 12:20:04,361 - DEBUG - Disconnected from IBController
2018-02-27 12:20:04,362 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:25:00,269 - DEBUG - ****************************************************
2018-02-27 12:25:00,270 - DEBUG - Current Time is 12:25PM
2018-02-27 12:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:25:00,270 - DEBUG - Connecting to database
2018-02-27 12:25:00,301 - DEBUG - Connected to database
2018-02-27 12:25:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:00,303 - DEBUG - Order Profit is 0
2018-02-27 12:25:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:00,305 - DEBUG - Stop ID is 0
2018-02-27 12:25:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:00,306 - DEBUG - Entry ID is 233
2018-02-27 12:25:00,306 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:25:00,308 - DEBUG - OCA ID is 1
2018-02-27 12:25:00,308 - DEBUG - Connecting to IBController
2018-02-27 12:25:01,314 - DEBUG - Connected to IBController
2018-02-27 12:25:01,314 - DEBUG - Position requested
2018-02-27 12:25:01,316 - DEBUG - Pos Mgmt -10
2018-02-27 12:25:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 12:25:01,316 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:25:01,317 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:25:01,317 - DEBUG - Position is -10
2018-02-27 12:25:01,317 - DEBUG - Pos Mgmt -12987
2018-02-27 12:25:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:25:01,318 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:25:01,318 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:25:01,318 - DEBUG - Position is -12987
2018-02-27 12:25:02,316 - DEBUG - Open Orders requested
2018-02-27 12:25:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-27 12:25:02,318 - DEBUG - Order OrderID 236
2018-02-27 12:25:02,319 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:25:02,319 - DEBUG - Order status PreSubmitted
2018-02-27 12:25:02,320 - DEBUG - Order Identification 236
2018-02-27 12:25:02,320 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:25:02,320 - DEBUG - Profit ID from database is 0
2018-02-27 12:25:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:25:02,321 - DEBUG - Stop ID database is 0
2018-02-27 12:25:02,321 - DEBUG - Entry ID database is 233
2018-02-27 12:25:04,318 - DEBUG - Connecting to database
2018-02-27 12:25:04,325 - DEBUG - Connected to database
2018-02-27 12:25:04,327 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,327 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:25:04,329 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,329 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:25:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,331 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:25:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,333 - DEBUG - Stop quantity 1
2018-02-27 12:25:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,334 - DEBUG - Direction is Long
2018-02-27 12:25:04,336 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,337 - DEBUG - Count is 0
2018-02-27 12:25:04,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:25:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:25:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:25:04,343 - DEBUG - Max ID Order is (236,)
2018-02-27 12:25:04,343 - DEBUG - Today is 2018-02-27
2018-02-27 12:25:04,343 - DEBUG - Day of the week 1
2018-02-27 12:25:04,344 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:25:04,344 - DEBUG - In Position is  0
2018-02-27 12:25:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:25:04,344 - DEBUG - curStopLossFlag is  0
2018-02-27 12:25:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:25:04,345 - DEBUG - Checking if Entry has been filled
2018-02-27 12:25:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:25:04,348 - DEBUG - EntryPend is 1
2018-02-27 12:25:04,348 - DEBUG - Try to Cancel Stop
2018-02-27 12:25:04,348 - DEBUG - Stop API ID 0
2018-02-27 12:25:04,348 - DEBUG - Profit API ID 0
2018-02-27 12:25:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:25:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:25:04,349 - DEBUG - Pos is 0
2018-02-27 12:25:04,349 - DEBUG - CurCount is 0
2018-02-27 12:25:04,350 - DEBUG - In Pos 0
2018-02-27 12:25:04,350 - DEBUG - Stop ID is 0
2018-02-27 12:25:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:25:04,352 - DEBUG - EntryPend is 1
2018-02-27 12:25:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:25:04,352 - DEBUG - Entry Date is 10
2018-02-27 12:25:04,352 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:25:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 12:25:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 12:25:04,353 - DEBUG - API ID is  0
2018-02-27 12:25:04,353 - DEBUG - Current Position is 0
2018-02-27 12:25:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:25:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:25:04,354 - DEBUG - Time is 12
2018-02-27 12:25:04,354 - DEBUG - Time is <class 'int'>
2018-02-27 12:25:04,355 - DEBUG - Disconnected from IBController
2018-02-27 12:25:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:30:00,264 - DEBUG - ****************************************************
2018-02-27 12:30:00,264 - DEBUG - Current Time is 12:30PM
2018-02-27 12:30:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:30:00,265 - DEBUG - Connecting to database
2018-02-27 12:30:00,287 - DEBUG - Connected to database
2018-02-27 12:30:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:00,289 - DEBUG - Order Profit is 0
2018-02-27 12:30:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:00,291 - DEBUG - Stop ID is 0
2018-02-27 12:30:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:00,292 - DEBUG - Entry ID is 233
2018-02-27 12:30:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:30:00,294 - DEBUG - OCA ID is 1
2018-02-27 12:30:00,294 - DEBUG - Connecting to IBController
2018-02-27 12:30:01,300 - DEBUG - Connected to IBController
2018-02-27 12:30:01,300 - DEBUG - Position requested
2018-02-27 12:30:01,302 - DEBUG - Pos Mgmt -10
2018-02-27 12:30:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 12:30:01,302 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:30:01,303 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:30:01,303 - DEBUG - Position is -10
2018-02-27 12:30:01,303 - DEBUG - Pos Mgmt -12987
2018-02-27 12:30:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:30:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:30:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:30:01,304 - DEBUG - Position is -12987
2018-02-27 12:30:02,302 - DEBUG - Open Orders requested
2018-02-27 12:30:02,304 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE10>, order=<ib.ext.Order.Order object at 0x000000000208DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-27 12:30:02,304 - DEBUG - Order OrderID 236
2018-02-27 12:30:02,305 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:30:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 12:30:02,305 - DEBUG - Order Identification 236
2018-02-27 12:30:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:30:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 12:30:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:30:02,307 - DEBUG - Stop ID database is 0
2018-02-27 12:30:02,307 - DEBUG - Entry ID database is 233
2018-02-27 12:30:04,304 - DEBUG - Connecting to database
2018-02-27 12:30:04,311 - DEBUG - Connected to database
2018-02-27 12:30:04,313 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,313 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:30:04,314 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,315 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:30:04,316 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,317 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:30:04,318 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,318 - DEBUG - Stop quantity 1
2018-02-27 12:30:04,319 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,320 - DEBUG - Direction is Long
2018-02-27 12:30:04,321 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,321 - DEBUG - Count is 0
2018-02-27 12:30:04,323 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:30:04,323 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:30:04,324 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:30:04,325 - DEBUG - Max ID Order is (236,)
2018-02-27 12:30:04,325 - DEBUG - Today is 2018-02-27
2018-02-27 12:30:04,326 - DEBUG - Day of the week 1
2018-02-27 12:30:04,326 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:30:04,326 - DEBUG - In Position is  0
2018-02-27 12:30:04,327 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:30:04,327 - DEBUG - curStopLossFlag is  0
2018-02-27 12:30:04,327 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:30:04,327 - DEBUG - Checking if Entry has been filled
2018-02-27 12:30:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:30:04,329 - DEBUG - EntryPend is 1
2018-02-27 12:30:04,329 - DEBUG - Try to Cancel Stop
2018-02-27 12:30:04,329 - DEBUG - Stop API ID 0
2018-02-27 12:30:04,330 - DEBUG - Profit API ID 0
2018-02-27 12:30:04,330 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:30:04,330 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:30:04,330 - DEBUG - Pos is 0
2018-02-27 12:30:04,331 - DEBUG - CurCount is 0
2018-02-27 12:30:04,331 - DEBUG - In Pos 0
2018-02-27 12:30:04,331 - DEBUG - Stop ID is 0
2018-02-27 12:30:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:30:04,333 - DEBUG - EntryPend is 1
2018-02-27 12:30:04,333 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:30:04,333 - DEBUG - Entry Date is 10
2018-02-27 12:30:04,334 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:30:04,334 - DEBUG - Order Profit ID is 0
2018-02-27 12:30:04,334 - DEBUG - Order Entry ID is 233
2018-02-27 12:30:04,334 - DEBUG - API ID is  0
2018-02-27 12:30:04,334 - DEBUG - Current Position is 0
2018-02-27 12:30:04,335 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:30:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:30:04,335 - DEBUG - Time is 12
2018-02-27 12:30:04,335 - DEBUG - Time is <class 'int'>
2018-02-27 12:30:04,336 - DEBUG - Disconnected from IBController
2018-02-27 12:30:04,336 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:35:00,274 - DEBUG - ****************************************************
2018-02-27 12:35:00,274 - DEBUG - Current Time is 12:35PM
2018-02-27 12:35:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:35:00,275 - DEBUG - Connecting to database
2018-02-27 12:35:00,298 - DEBUG - Connected to database
2018-02-27 12:35:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:00,300 - DEBUG - Order Profit is 0
2018-02-27 12:35:00,300 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:00,301 - DEBUG - Stop ID is 0
2018-02-27 12:35:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:00,303 - DEBUG - Entry ID is 233
2018-02-27 12:35:00,304 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:35:00,305 - DEBUG - OCA ID is 1
2018-02-27 12:35:00,306 - DEBUG - Connecting to IBController
2018-02-27 12:35:01,313 - DEBUG - Connected to IBController
2018-02-27 12:35:01,313 - DEBUG - Position requested
2018-02-27 12:35:01,315 - DEBUG - Pos Mgmt -10
2018-02-27 12:35:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001BACD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:35:01,315 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:35:01,316 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:35:01,316 - DEBUG - Position is -10
2018-02-27 12:35:01,316 - DEBUG - Pos Mgmt -12987
2018-02-27 12:35:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001BACBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:35:01,317 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:35:01,317 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:35:01,317 - DEBUG - Position is -12987
2018-02-27 12:35:02,314 - DEBUG - Open Orders requested
2018-02-27 12:35:02,316 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x0000000001BACE10>, order=<ib.ext.Order.Order object at 0x0000000001BACAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-27 12:35:02,317 - DEBUG - Order OrderID 236
2018-02-27 12:35:02,317 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:35:02,318 - DEBUG - Order status PreSubmitted
2018-02-27 12:35:02,318 - DEBUG - Order Identification 236
2018-02-27 12:35:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:35:02,318 - DEBUG - Profit ID from database is 0
2018-02-27 12:35:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:35:02,319 - DEBUG - Stop ID database is 0
2018-02-27 12:35:02,319 - DEBUG - Entry ID database is 233
2018-02-27 12:35:04,317 - DEBUG - Connecting to database
2018-02-27 12:35:04,324 - DEBUG - Connected to database
2018-02-27 12:35:04,326 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,326 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:35:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,328 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:35:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:35:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,331 - DEBUG - Stop quantity 1
2018-02-27 12:35:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,333 - DEBUG - Direction is Long
2018-02-27 12:35:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,335 - DEBUG - Count is 0
2018-02-27 12:35:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:35:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:35:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:35:04,338 - DEBUG - Max ID Order is (236,)
2018-02-27 12:35:04,339 - DEBUG - Today is 2018-02-27
2018-02-27 12:35:04,339 - DEBUG - Day of the week 1
2018-02-27 12:35:04,339 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:35:04,340 - DEBUG - In Position is  0
2018-02-27 12:35:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:35:04,340 - DEBUG - curStopLossFlag is  0
2018-02-27 12:35:04,340 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:35:04,341 - DEBUG - Checking if Entry has been filled
2018-02-27 12:35:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:35:04,343 - DEBUG - EntryPend is 1
2018-02-27 12:35:04,343 - DEBUG - Try to Cancel Stop
2018-02-27 12:35:04,343 - DEBUG - Stop API ID 0
2018-02-27 12:35:04,344 - DEBUG - Profit API ID 0
2018-02-27 12:35:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:35:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:35:04,344 - DEBUG - Pos is 0
2018-02-27 12:35:04,345 - DEBUG - CurCount is 0
2018-02-27 12:35:04,345 - DEBUG - In Pos 0
2018-02-27 12:35:04,345 - DEBUG - Stop ID is 0
2018-02-27 12:35:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:35:04,347 - DEBUG - EntryPend is 1
2018-02-27 12:35:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:35:04,348 - DEBUG - Entry Date is 10
2018-02-27 12:35:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:35:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 12:35:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 12:35:04,348 - DEBUG - API ID is  0
2018-02-27 12:35:04,349 - DEBUG - Current Position is 0
2018-02-27 12:35:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:35:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:35:04,349 - DEBUG - Time is 12
2018-02-27 12:35:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 12:35:04,350 - DEBUG - Disconnected from IBController
2018-02-27 12:35:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:40:00,267 - DEBUG - ****************************************************
2018-02-27 12:40:00,268 - DEBUG - Current Time is 12:40PM
2018-02-27 12:40:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:40:00,268 - DEBUG - Connecting to database
2018-02-27 12:40:00,291 - DEBUG - Connected to database
2018-02-27 12:40:00,291 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:00,293 - DEBUG - Order Profit is 0
2018-02-27 12:40:00,293 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:00,294 - DEBUG - Stop ID is 0
2018-02-27 12:40:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:00,296 - DEBUG - Entry ID is 233
2018-02-27 12:40:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:40:00,297 - DEBUG - OCA ID is 1
2018-02-27 12:40:00,298 - DEBUG - Connecting to IBController
2018-02-27 12:40:01,304 - DEBUG - Connected to IBController
2018-02-27 12:40:01,304 - DEBUG - Position requested
2018-02-27 12:40:01,305 - DEBUG - Pos Mgmt -10
2018-02-27 12:40:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209BD30>, pos=-10, avgCost=15344.045>
2018-02-27 12:40:01,306 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:40:01,306 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:40:01,307 - DEBUG - Position is -10
2018-02-27 12:40:01,307 - DEBUG - Pos Mgmt -12987
2018-02-27 12:40:01,307 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209BC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:40:01,308 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:40:01,308 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:40:01,308 - DEBUG - Position is -12987
2018-02-27 12:40:02,305 - DEBUG - Open Orders requested
2018-02-27 12:40:02,307 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209BE10>, order=<ib.ext.Order.Order object at 0x000000000209BA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021300F0>>
2018-02-27 12:40:02,307 - DEBUG - Order OrderID 236
2018-02-27 12:40:02,308 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:40:02,308 - DEBUG - Order status PreSubmitted
2018-02-27 12:40:02,309 - DEBUG - Order Identification 236
2018-02-27 12:40:02,309 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:40:02,309 - DEBUG - Profit ID from database is 0
2018-02-27 12:40:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:40:02,310 - DEBUG - Stop ID database is 0
2018-02-27 12:40:02,310 - DEBUG - Entry ID database is 233
2018-02-27 12:40:04,307 - DEBUG - Connecting to database
2018-02-27 12:40:04,314 - DEBUG - Connected to database
2018-02-27 12:40:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,316 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:40:04,317 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,318 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:40:04,319 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:40:04,321 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,321 - DEBUG - Stop quantity 1
2018-02-27 12:40:04,322 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,323 - DEBUG - Direction is Long
2018-02-27 12:40:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,324 - DEBUG - Count is 0
2018-02-27 12:40:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:40:04,326 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:40:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:40:04,328 - DEBUG - Max ID Order is (236,)
2018-02-27 12:40:04,328 - DEBUG - Today is 2018-02-27
2018-02-27 12:40:04,329 - DEBUG - Day of the week 1
2018-02-27 12:40:04,329 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:40:04,329 - DEBUG - In Position is  0
2018-02-27 12:40:04,330 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:40:04,330 - DEBUG - curStopLossFlag is  0
2018-02-27 12:40:04,330 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:40:04,330 - DEBUG - Checking if Entry has been filled
2018-02-27 12:40:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:40:04,332 - DEBUG - EntryPend is 1
2018-02-27 12:40:04,332 - DEBUG - Try to Cancel Stop
2018-02-27 12:40:04,332 - DEBUG - Stop API ID 0
2018-02-27 12:40:04,333 - DEBUG - Profit API ID 0
2018-02-27 12:40:04,333 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:40:04,333 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:40:04,333 - DEBUG - Pos is 0
2018-02-27 12:40:04,334 - DEBUG - CurCount is 0
2018-02-27 12:40:04,334 - DEBUG - In Pos 0
2018-02-27 12:40:04,334 - DEBUG - Stop ID is 0
2018-02-27 12:40:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:40:04,336 - DEBUG - EntryPend is 1
2018-02-27 12:40:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:40:04,336 - DEBUG - Entry Date is 10
2018-02-27 12:40:04,336 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:40:04,337 - DEBUG - Order Profit ID is 0
2018-02-27 12:40:04,337 - DEBUG - Order Entry ID is 233
2018-02-27 12:40:04,337 - DEBUG - API ID is  0
2018-02-27 12:40:04,337 - DEBUG - Current Position is 0
2018-02-27 12:40:04,337 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:40:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:40:04,338 - DEBUG - Time is 12
2018-02-27 12:40:04,338 - DEBUG - Time is <class 'int'>
2018-02-27 12:40:04,338 - DEBUG - Disconnected from IBController
2018-02-27 12:40:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:45:00,264 - DEBUG - ****************************************************
2018-02-27 12:45:00,264 - DEBUG - Current Time is 12:45PM
2018-02-27 12:45:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:45:00,265 - DEBUG - Connecting to database
2018-02-27 12:45:00,287 - DEBUG - Connected to database
2018-02-27 12:45:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:00,289 - DEBUG - Order Profit is 0
2018-02-27 12:45:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:00,291 - DEBUG - Stop ID is 0
2018-02-27 12:45:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:00,292 - DEBUG - Entry ID is 233
2018-02-27 12:45:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:45:00,294 - DEBUG - OCA ID is 1
2018-02-27 12:45:00,294 - DEBUG - Connecting to IBController
2018-02-27 12:45:01,300 - DEBUG - Connected to IBController
2018-02-27 12:45:01,300 - DEBUG - Position requested
2018-02-27 12:45:01,302 - DEBUG - Pos Mgmt -10
2018-02-27 12:45:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 12:45:01,303 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:45:01,303 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:45:01,303 - DEBUG - Position is -10
2018-02-27 12:45:01,304 - DEBUG - Pos Mgmt -12987
2018-02-27 12:45:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:45:01,304 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:45:01,304 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:45:01,305 - DEBUG - Position is -12987
2018-02-27 12:45:02,302 - DEBUG - Open Orders requested
2018-02-27 12:45:02,304 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, order=<ib.ext.Order.Order object at 0x000000000203DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-27 12:45:02,304 - DEBUG - Order OrderID 236
2018-02-27 12:45:02,305 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:45:02,305 - DEBUG - Order status PreSubmitted
2018-02-27 12:45:02,305 - DEBUG - Order Identification 236
2018-02-27 12:45:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:45:02,306 - DEBUG - Profit ID from database is 0
2018-02-27 12:45:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:45:02,307 - DEBUG - Stop ID database is 0
2018-02-27 12:45:02,307 - DEBUG - Entry ID database is 233
2018-02-27 12:45:04,305 - DEBUG - Connecting to database
2018-02-27 12:45:04,313 - DEBUG - Connected to database
2018-02-27 12:45:04,315 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,315 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:45:04,316 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,317 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:45:04,318 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,319 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:45:04,320 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,320 - DEBUG - Stop quantity 1
2018-02-27 12:45:04,323 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,323 - DEBUG - Direction is Long
2018-02-27 12:45:04,324 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,325 - DEBUG - Count is 0
2018-02-27 12:45:04,327 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:45:04,327 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:45:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:45:04,329 - DEBUG - Max ID Order is (236,)
2018-02-27 12:45:04,329 - DEBUG - Today is 2018-02-27
2018-02-27 12:45:04,329 - DEBUG - Day of the week 1
2018-02-27 12:45:04,330 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:45:04,330 - DEBUG - In Position is  0
2018-02-27 12:45:04,330 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:45:04,330 - DEBUG - curStopLossFlag is  0
2018-02-27 12:45:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:45:04,331 - DEBUG - Checking if Entry has been filled
2018-02-27 12:45:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:45:04,332 - DEBUG - EntryPend is 1
2018-02-27 12:45:04,333 - DEBUG - Try to Cancel Stop
2018-02-27 12:45:04,333 - DEBUG - Stop API ID 0
2018-02-27 12:45:04,333 - DEBUG - Profit API ID 0
2018-02-27 12:45:04,333 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:45:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:45:04,334 - DEBUG - Pos is 0
2018-02-27 12:45:04,334 - DEBUG - CurCount is 0
2018-02-27 12:45:04,334 - DEBUG - In Pos 0
2018-02-27 12:45:04,335 - DEBUG - Stop ID is 0
2018-02-27 12:45:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:45:04,336 - DEBUG - EntryPend is 1
2018-02-27 12:45:04,337 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:45:04,337 - DEBUG - Entry Date is 10
2018-02-27 12:45:04,337 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:45:04,337 - DEBUG - Order Profit ID is 0
2018-02-27 12:45:04,337 - DEBUG - Order Entry ID is 233
2018-02-27 12:45:04,338 - DEBUG - API ID is  0
2018-02-27 12:45:04,338 - DEBUG - Current Position is 0
2018-02-27 12:45:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:45:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:45:04,339 - DEBUG - Time is 12
2018-02-27 12:45:04,339 - DEBUG - Time is <class 'int'>
2018-02-27 12:45:04,339 - DEBUG - Disconnected from IBController
2018-02-27 12:45:04,340 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:50:00,260 - DEBUG - ****************************************************
2018-02-27 12:50:00,261 - DEBUG - Current Time is 12:50PM
2018-02-27 12:50:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:50:00,261 - DEBUG - Connecting to database
2018-02-27 12:50:00,297 - DEBUG - Connected to database
2018-02-27 12:50:00,297 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:00,299 - DEBUG - Order Profit is 0
2018-02-27 12:50:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:00,301 - DEBUG - Stop ID is 0
2018-02-27 12:50:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:00,302 - DEBUG - Entry ID is 233
2018-02-27 12:50:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:50:00,304 - DEBUG - OCA ID is 1
2018-02-27 12:50:00,304 - DEBUG - Connecting to IBController
2018-02-27 12:50:01,309 - DEBUG - Connected to IBController
2018-02-27 12:50:01,309 - DEBUG - Position requested
2018-02-27 12:50:01,311 - DEBUG - Pos Mgmt -10
2018-02-27 12:50:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:50:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:50:01,312 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:50:01,312 - DEBUG - Position is -10
2018-02-27 12:50:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 12:50:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:50:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:50:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:50:01,313 - DEBUG - Position is -12987
2018-02-27 12:50:02,310 - DEBUG - Open Orders requested
2018-02-27 12:50:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10F0>>
2018-02-27 12:50:02,312 - DEBUG - Order OrderID 236
2018-02-27 12:50:02,313 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:50:02,313 - DEBUG - Order status PreSubmitted
2018-02-27 12:50:02,314 - DEBUG - Order Identification 236
2018-02-27 12:50:02,314 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:50:02,314 - DEBUG - Profit ID from database is 0
2018-02-27 12:50:02,314 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:50:02,315 - DEBUG - Stop ID database is 0
2018-02-27 12:50:02,315 - DEBUG - Entry ID database is 233
2018-02-27 12:50:04,312 - DEBUG - Connecting to database
2018-02-27 12:50:04,319 - DEBUG - Connected to database
2018-02-27 12:50:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:50:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:50:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:50:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,326 - DEBUG - Stop quantity 1
2018-02-27 12:50:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,329 - DEBUG - Direction is Long
2018-02-27 12:50:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,331 - DEBUG - Count is 0
2018-02-27 12:50:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:50:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:50:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:50:04,334 - DEBUG - Max ID Order is (236,)
2018-02-27 12:50:04,334 - DEBUG - Today is 2018-02-27
2018-02-27 12:50:04,335 - DEBUG - Day of the week 1
2018-02-27 12:50:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:50:04,335 - DEBUG - In Position is  0
2018-02-27 12:50:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:50:04,336 - DEBUG - curStopLossFlag is  0
2018-02-27 12:50:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:50:04,336 - DEBUG - Checking if Entry has been filled
2018-02-27 12:50:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:50:04,338 - DEBUG - EntryPend is 1
2018-02-27 12:50:04,338 - DEBUG - Try to Cancel Stop
2018-02-27 12:50:04,338 - DEBUG - Stop API ID 0
2018-02-27 12:50:04,339 - DEBUG - Profit API ID 0
2018-02-27 12:50:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:50:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:50:04,339 - DEBUG - Pos is 0
2018-02-27 12:50:04,340 - DEBUG - CurCount is 0
2018-02-27 12:50:04,340 - DEBUG - In Pos 0
2018-02-27 12:50:04,340 - DEBUG - Stop ID is 0
2018-02-27 12:50:04,340 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:50:04,342 - DEBUG - EntryPend is 1
2018-02-27 12:50:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:50:04,342 - DEBUG - Entry Date is 10
2018-02-27 12:50:04,342 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:50:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 12:50:04,343 - DEBUG - Order Entry ID is 233
2018-02-27 12:50:04,343 - DEBUG - API ID is  0
2018-02-27 12:50:04,343 - DEBUG - Current Position is 0
2018-02-27 12:50:04,343 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:50:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:50:04,344 - DEBUG - Time is 12
2018-02-27 12:50:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 12:50:04,344 - DEBUG - Disconnected from IBController
2018-02-27 12:50:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:55:00,263 - DEBUG - ****************************************************
2018-02-27 12:55:00,264 - DEBUG - Current Time is 12:55PM
2018-02-27 12:55:00,264 - DEBUG - Starting Pos Mgmt E S
2018-02-27 12:55:00,264 - DEBUG - Connecting to database
2018-02-27 12:55:00,294 - DEBUG - Connected to database
2018-02-27 12:55:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:00,296 - DEBUG - Order Profit is 0
2018-02-27 12:55:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:00,298 - DEBUG - Stop ID is 0
2018-02-27 12:55:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:00,299 - DEBUG - Entry ID is 233
2018-02-27 12:55:00,300 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:55:00,301 - DEBUG - OCA ID is 1
2018-02-27 12:55:00,301 - DEBUG - Connecting to IBController
2018-02-27 12:55:01,307 - DEBUG - Connected to IBController
2018-02-27 12:55:01,307 - DEBUG - Position requested
2018-02-27 12:55:01,309 - DEBUG - Pos Mgmt -10
2018-02-27 12:55:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 12:55:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:55:01,310 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:55:01,310 - DEBUG - Position is -10
2018-02-27 12:55:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 12:55:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DA58>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:55:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:55:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:55:01,311 - DEBUG - Position is -12987
2018-02-27 12:55:02,307 - DEBUG - Open Orders requested
2018-02-27 12:55:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DCF8>, order=<ib.ext.Order.Order object at 0x000000000208DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122080>>
2018-02-27 12:55:02,309 - DEBUG - Order OrderID 236
2018-02-27 12:55:02,310 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:55:02,310 - DEBUG - Order status PreSubmitted
2018-02-27 12:55:02,311 - DEBUG - Order Identification 236
2018-02-27 12:55:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:55:02,311 - DEBUG - Profit ID from database is 0
2018-02-27 12:55:02,311 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:55:02,312 - DEBUG - Stop ID database is 0
2018-02-27 12:55:02,312 - DEBUG - Entry ID database is 233
2018-02-27 12:55:04,307 - DEBUG - Connecting to database
2018-02-27 12:55:04,315 - DEBUG - Connected to database
2018-02-27 12:55:04,316 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,317 - DEBUG - Stop loss value is 2742.75
2018-02-27 12:55:04,318 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,319 - DEBUG - Stop loss value is 2797.0
2018-02-27 12:55:04,320 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,320 - DEBUG - EntryPrice value is 2787.5
2018-02-27 12:55:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,322 - DEBUG - Stop quantity 1
2018-02-27 12:55:04,324 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,324 - DEBUG - Direction is Long
2018-02-27 12:55:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,326 - DEBUG - Count is 0
2018-02-27 12:55:04,327 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 12:55:04,327 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:55:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:55:04,329 - DEBUG - Max ID Order is (236,)
2018-02-27 12:55:04,329 - DEBUG - Today is 2018-02-27
2018-02-27 12:55:04,330 - DEBUG - Day of the week 1
2018-02-27 12:55:04,330 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:55:04,330 - DEBUG - In Position is  0
2018-02-27 12:55:04,330 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:55:04,331 - DEBUG - curStopLossFlag is  0
2018-02-27 12:55:04,331 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:55:04,331 - DEBUG - Checking if Entry has been filled
2018-02-27 12:55:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:55:04,333 - DEBUG - EntryPend is 1
2018-02-27 12:55:04,333 - DEBUG - Try to Cancel Stop
2018-02-27 12:55:04,333 - DEBUG - Stop API ID 0
2018-02-27 12:55:04,334 - DEBUG - Profit API ID 0
2018-02-27 12:55:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:55:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:55:04,334 - DEBUG - Pos is 0
2018-02-27 12:55:04,334 - DEBUG - CurCount is 0
2018-02-27 12:55:04,335 - DEBUG - In Pos 0
2018-02-27 12:55:04,335 - DEBUG - Stop ID is 0
2018-02-27 12:55:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 12:55:04,336 - DEBUG - EntryPend is 1
2018-02-27 12:55:04,337 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:55:04,337 - DEBUG - Entry Date is 10
2018-02-27 12:55:04,337 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:55:04,338 - DEBUG - Order Profit ID is 0
2018-02-27 12:55:04,338 - DEBUG - Order Entry ID is 233
2018-02-27 12:55:04,338 - DEBUG - API ID is  0
2018-02-27 12:55:04,338 - DEBUG - Current Position is 0
2018-02-27 12:55:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:55:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:55:04,339 - DEBUG - Time is 12
2018-02-27 12:55:04,339 - DEBUG - Time is <class 'int'>
2018-02-27 12:55:04,339 - DEBUG - Disconnected from IBController
2018-02-27 12:55:04,340 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:00:00,269 - DEBUG - ****************************************************
2018-02-27 13:00:00,269 - DEBUG - Current Time is 01:00PM
2018-02-27 13:00:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:00:00,270 - DEBUG - Connecting to database
2018-02-27 13:00:00,293 - DEBUG - Connected to database
2018-02-27 13:00:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:00,295 - DEBUG - Order Profit is 0
2018-02-27 13:00:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:00,296 - DEBUG - Stop ID is 0
2018-02-27 13:00:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:00,298 - DEBUG - Entry ID is 233
2018-02-27 13:00:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:00:00,299 - DEBUG - OCA ID is 1
2018-02-27 13:00:00,300 - DEBUG - Connecting to IBController
2018-02-27 13:00:01,305 - DEBUG - Connected to IBController
2018-02-27 13:00:01,305 - DEBUG - Position requested
2018-02-27 13:00:01,307 - DEBUG - Pos Mgmt -10
2018-02-27 13:00:01,307 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 13:00:01,307 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:00:01,308 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:00:01,308 - DEBUG - Position is -10
2018-02-27 13:00:01,308 - DEBUG - Pos Mgmt -12987
2018-02-27 13:00:01,308 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:00:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:00:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:00:01,309 - DEBUG - Position is -12987
2018-02-27 13:00:02,306 - DEBUG - Open Orders requested
2018-02-27 13:00:02,311 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, order=<ib.ext.Order.Order object at 0x000000000203DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-27 13:00:02,311 - DEBUG - Order OrderID 236
2018-02-27 13:00:02,312 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:00:02,312 - DEBUG - Order status PreSubmitted
2018-02-27 13:00:02,312 - DEBUG - Order Identification 236
2018-02-27 13:00:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:00:02,313 - DEBUG - Profit ID from database is 0
2018-02-27 13:00:02,313 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:00:02,313 - DEBUG - Stop ID database is 0
2018-02-27 13:00:02,313 - DEBUG - Entry ID database is 233
2018-02-27 13:00:04,311 - DEBUG - Connecting to database
2018-02-27 13:00:04,319 - DEBUG - Connected to database
2018-02-27 13:00:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:00:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:00:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:00:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,326 - DEBUG - Stop quantity 1
2018-02-27 13:00:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,328 - DEBUG - Direction is Long
2018-02-27 13:00:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,330 - DEBUG - Count is 0
2018-02-27 13:00:04,331 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:00:04,331 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:00:04,333 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:00:04,333 - DEBUG - Max ID Order is (236,)
2018-02-27 13:00:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 13:00:04,334 - DEBUG - Day of the week 1
2018-02-27 13:00:04,334 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:00:04,334 - DEBUG - In Position is  0
2018-02-27 13:00:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:00:04,335 - DEBUG - curStopLossFlag is  0
2018-02-27 13:00:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:00:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 13:00:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:00:04,337 - DEBUG - EntryPend is 1
2018-02-27 13:00:04,337 - DEBUG - Try to Cancel Stop
2018-02-27 13:00:04,337 - DEBUG - Stop API ID 0
2018-02-27 13:00:04,338 - DEBUG - Profit API ID 0
2018-02-27 13:00:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:00:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:00:04,338 - DEBUG - Pos is 0
2018-02-27 13:00:04,339 - DEBUG - CurCount is 0
2018-02-27 13:00:04,339 - DEBUG - In Pos 0
2018-02-27 13:00:04,339 - DEBUG - Stop ID is 0
2018-02-27 13:00:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:00:04,341 - DEBUG - EntryPend is 1
2018-02-27 13:00:04,341 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:00:04,341 - DEBUG - Entry Date is 10
2018-02-27 13:00:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:00:04,342 - DEBUG - Order Profit ID is 0
2018-02-27 13:00:04,342 - DEBUG - Order Entry ID is 233
2018-02-27 13:00:04,342 - DEBUG - API ID is  0
2018-02-27 13:00:04,342 - DEBUG - Current Position is 0
2018-02-27 13:00:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:00:04,343 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:00:04,343 - DEBUG - Time is 13
2018-02-27 13:00:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 13:00:04,343 - DEBUG - Disconnected from IBController
2018-02-27 13:00:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:05:00,255 - DEBUG - ****************************************************
2018-02-27 13:05:00,256 - DEBUG - Current Time is 01:05PM
2018-02-27 13:05:00,256 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:05:00,256 - DEBUG - Connecting to database
2018-02-27 13:05:00,306 - DEBUG - Connected to database
2018-02-27 13:05:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:00,307 - DEBUG - Order Profit is 0
2018-02-27 13:05:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:00,309 - DEBUG - Stop ID is 0
2018-02-27 13:05:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:00,311 - DEBUG - Entry ID is 233
2018-02-27 13:05:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:05:00,312 - DEBUG - OCA ID is 1
2018-02-27 13:05:00,313 - DEBUG - Connecting to IBController
2018-02-27 13:05:01,319 - DEBUG - Connected to IBController
2018-02-27 13:05:01,319 - DEBUG - Position requested
2018-02-27 13:05:01,320 - DEBUG - Pos Mgmt -10
2018-02-27 13:05:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, pos=-10, avgCost=15344.045>
2018-02-27 13:05:01,322 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:05:01,322 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:05:01,322 - DEBUG - Position is -10
2018-02-27 13:05:01,322 - DEBUG - Pos Mgmt -12987
2018-02-27 13:05:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:05:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:05:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:05:01,323 - DEBUG - Position is -12987
2018-02-27 13:05:02,321 - DEBUG - Open Orders requested
2018-02-27 13:05:02,323 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020ADE10>, order=<ib.ext.Order.Order object at 0x00000000020ADDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021410F0>>
2018-02-27 13:05:02,323 - DEBUG - Order OrderID 236
2018-02-27 13:05:02,324 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:05:02,324 - DEBUG - Order status PreSubmitted
2018-02-27 13:05:02,325 - DEBUG - Order Identification 236
2018-02-27 13:05:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:05:02,325 - DEBUG - Profit ID from database is 0
2018-02-27 13:05:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:05:02,326 - DEBUG - Stop ID database is 0
2018-02-27 13:05:02,326 - DEBUG - Entry ID database is 233
2018-02-27 13:05:04,323 - DEBUG - Connecting to database
2018-02-27 13:05:04,332 - DEBUG - Connected to database
2018-02-27 13:05:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,333 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:05:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:05:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:05:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,340 - DEBUG - Stop quantity 1
2018-02-27 13:05:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,342 - DEBUG - Direction is Long
2018-02-27 13:05:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,343 - DEBUG - Count is 0
2018-02-27 13:05:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:05:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:05:04,346 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:05:04,347 - DEBUG - Max ID Order is (236,)
2018-02-27 13:05:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 13:05:04,347 - DEBUG - Day of the week 1
2018-02-27 13:05:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:05:04,348 - DEBUG - In Position is  0
2018-02-27 13:05:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:05:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 13:05:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:05:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 13:05:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:05:04,352 - DEBUG - EntryPend is 1
2018-02-27 13:05:04,352 - DEBUG - Try to Cancel Stop
2018-02-27 13:05:04,352 - DEBUG - Stop API ID 0
2018-02-27 13:05:04,352 - DEBUG - Profit API ID 0
2018-02-27 13:05:04,353 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:05:04,353 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:05:04,353 - DEBUG - Pos is 0
2018-02-27 13:05:04,354 - DEBUG - CurCount is 0
2018-02-27 13:05:04,354 - DEBUG - In Pos 0
2018-02-27 13:05:04,354 - DEBUG - Stop ID is 0
2018-02-27 13:05:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:05:04,357 - DEBUG - EntryPend is 1
2018-02-27 13:05:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:05:04,357 - DEBUG - Entry Date is 10
2018-02-27 13:05:04,358 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:05:04,358 - DEBUG - Order Profit ID is 0
2018-02-27 13:05:04,358 - DEBUG - Order Entry ID is 233
2018-02-27 13:05:04,358 - DEBUG - API ID is  0
2018-02-27 13:05:04,358 - DEBUG - Current Position is 0
2018-02-27 13:05:04,359 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:05:04,359 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:05:04,359 - DEBUG - Time is 13
2018-02-27 13:05:04,359 - DEBUG - Time is <class 'int'>
2018-02-27 13:05:04,360 - DEBUG - Disconnected from IBController
2018-02-27 13:05:04,360 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:10:00,270 - DEBUG - ****************************************************
2018-02-27 13:10:00,271 - DEBUG - Current Time is 01:10PM
2018-02-27 13:10:00,271 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:10:00,271 - DEBUG - Connecting to database
2018-02-27 13:10:00,309 - DEBUG - Connected to database
2018-02-27 13:10:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:00,311 - DEBUG - Order Profit is 0
2018-02-27 13:10:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:00,312 - DEBUG - Stop ID is 0
2018-02-27 13:10:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:00,314 - DEBUG - Entry ID is 233
2018-02-27 13:10:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:10:00,315 - DEBUG - OCA ID is 1
2018-02-27 13:10:00,316 - DEBUG - Connecting to IBController
2018-02-27 13:10:01,325 - DEBUG - Connected to IBController
2018-02-27 13:10:01,325 - DEBUG - Position requested
2018-02-27 13:10:01,327 - DEBUG - Pos Mgmt -10
2018-02-27 13:10:01,327 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDCF8>, pos=-10, avgCost=15344.045>
2018-02-27 13:10:01,327 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:10:01,328 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:10:01,328 - DEBUG - Position is -10
2018-02-27 13:10:01,328 - DEBUG - Pos Mgmt -12987
2018-02-27 13:10:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:10:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:10:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:10:01,329 - DEBUG - Position is -12987
2018-02-27 13:10:02,326 - DEBUG - Open Orders requested
2018-02-27 13:10:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE10>, order=<ib.ext.Order.Order object at 0x00000000020CDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021610F0>>
2018-02-27 13:10:02,328 - DEBUG - Order OrderID 236
2018-02-27 13:10:02,329 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:10:02,329 - DEBUG - Order status PreSubmitted
2018-02-27 13:10:02,330 - DEBUG - Order Identification 236
2018-02-27 13:10:02,330 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:10:02,330 - DEBUG - Profit ID from database is 0
2018-02-27 13:10:02,330 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:10:02,331 - DEBUG - Stop ID database is 0
2018-02-27 13:10:02,331 - DEBUG - Entry ID database is 233
2018-02-27 13:10:04,328 - DEBUG - Connecting to database
2018-02-27 13:10:04,335 - DEBUG - Connected to database
2018-02-27 13:10:04,337 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,337 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:10:04,339 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,339 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:10:04,340 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,341 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:10:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,342 - DEBUG - Stop quantity 1
2018-02-27 13:10:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,344 - DEBUG - Direction is Long
2018-02-27 13:10:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,346 - DEBUG - Count is 0
2018-02-27 13:10:04,347 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:10:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:10:04,349 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:10:04,349 - DEBUG - Max ID Order is (236,)
2018-02-27 13:10:04,350 - DEBUG - Today is 2018-02-27
2018-02-27 13:10:04,350 - DEBUG - Day of the week 1
2018-02-27 13:10:04,350 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:10:04,351 - DEBUG - In Position is  0
2018-02-27 13:10:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:10:04,351 - DEBUG - curStopLossFlag is  0
2018-02-27 13:10:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:10:04,352 - DEBUG - Checking if Entry has been filled
2018-02-27 13:10:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:10:04,353 - DEBUG - EntryPend is 1
2018-02-27 13:10:04,354 - DEBUG - Try to Cancel Stop
2018-02-27 13:10:04,354 - DEBUG - Stop API ID 0
2018-02-27 13:10:04,354 - DEBUG - Profit API ID 0
2018-02-27 13:10:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:10:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:10:04,355 - DEBUG - Pos is 0
2018-02-27 13:10:04,355 - DEBUG - CurCount is 0
2018-02-27 13:10:04,355 - DEBUG - In Pos 0
2018-02-27 13:10:04,356 - DEBUG - Stop ID is 0
2018-02-27 13:10:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:10:04,358 - DEBUG - EntryPend is 1
2018-02-27 13:10:04,358 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:10:04,358 - DEBUG - Entry Date is 10
2018-02-27 13:10:04,358 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:10:04,359 - DEBUG - Order Profit ID is 0
2018-02-27 13:10:04,359 - DEBUG - Order Entry ID is 233
2018-02-27 13:10:04,359 - DEBUG - API ID is  0
2018-02-27 13:10:04,359 - DEBUG - Current Position is 0
2018-02-27 13:10:04,360 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:10:04,360 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:10:04,360 - DEBUG - Time is 13
2018-02-27 13:10:04,360 - DEBUG - Time is <class 'int'>
2018-02-27 13:10:04,361 - DEBUG - Disconnected from IBController
2018-02-27 13:10:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:15:00,260 - DEBUG - ****************************************************
2018-02-27 13:15:00,261 - DEBUG - Current Time is 01:15PM
2018-02-27 13:15:00,261 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:15:00,261 - DEBUG - Connecting to database
2018-02-27 13:15:00,297 - DEBUG - Connected to database
2018-02-27 13:15:00,297 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:00,299 - DEBUG - Order Profit is 0
2018-02-27 13:15:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:00,300 - DEBUG - Stop ID is 0
2018-02-27 13:15:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:00,302 - DEBUG - Entry ID is 233
2018-02-27 13:15:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:15:00,304 - DEBUG - OCA ID is 1
2018-02-27 13:15:00,304 - DEBUG - Connecting to IBController
2018-02-27 13:15:01,322 - DEBUG - Connected to IBController
2018-02-27 13:15:01,322 - DEBUG - Position requested
2018-02-27 13:15:01,324 - DEBUG - Pos Mgmt -10
2018-02-27 13:15:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DAC8>, pos=-10, avgCost=15344.045>
2018-02-27 13:15:01,324 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:15:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:15:01,325 - DEBUG - Position is -10
2018-02-27 13:15:01,325 - DEBUG - Pos Mgmt -12987
2018-02-27 13:15:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DB70>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:15:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:15:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:15:01,326 - DEBUG - Position is -12987
2018-02-27 13:15:02,324 - DEBUG - Open Orders requested
2018-02-27 13:15:02,326 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203DE10>, order=<ib.ext.Order.Order object at 0x000000000203DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-27 13:15:02,326 - DEBUG - Order OrderID 236
2018-02-27 13:15:02,327 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:15:02,327 - DEBUG - Order status PreSubmitted
2018-02-27 13:15:02,328 - DEBUG - Order Identification 236
2018-02-27 13:15:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:15:02,328 - DEBUG - Profit ID from database is 0
2018-02-27 13:15:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:15:02,329 - DEBUG - Stop ID database is 0
2018-02-27 13:15:02,329 - DEBUG - Entry ID database is 233
2018-02-27 13:15:04,326 - DEBUG - Connecting to database
2018-02-27 13:15:04,333 - DEBUG - Connected to database
2018-02-27 13:15:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,335 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:15:04,336 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,337 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:15:04,338 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,338 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:15:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,340 - DEBUG - Stop quantity 1
2018-02-27 13:15:04,341 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,342 - DEBUG - Direction is Long
2018-02-27 13:15:04,343 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,344 - DEBUG - Count is 0
2018-02-27 13:15:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:15:04,345 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:15:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:15:04,347 - DEBUG - Max ID Order is (236,)
2018-02-27 13:15:04,347 - DEBUG - Today is 2018-02-27
2018-02-27 13:15:04,348 - DEBUG - Day of the week 1
2018-02-27 13:15:04,348 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:15:04,348 - DEBUG - In Position is  0
2018-02-27 13:15:04,348 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:15:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 13:15:04,349 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:15:04,349 - DEBUG - Checking if Entry has been filled
2018-02-27 13:15:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:15:04,351 - DEBUG - EntryPend is 1
2018-02-27 13:15:04,351 - DEBUG - Try to Cancel Stop
2018-02-27 13:15:04,351 - DEBUG - Stop API ID 0
2018-02-27 13:15:04,352 - DEBUG - Profit API ID 0
2018-02-27 13:15:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:15:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:15:04,352 - DEBUG - Pos is 0
2018-02-27 13:15:04,353 - DEBUG - CurCount is 0
2018-02-27 13:15:04,353 - DEBUG - In Pos 0
2018-02-27 13:15:04,353 - DEBUG - Stop ID is 0
2018-02-27 13:15:04,353 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:15:04,356 - DEBUG - EntryPend is 1
2018-02-27 13:15:04,356 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:15:04,356 - DEBUG - Entry Date is 10
2018-02-27 13:15:04,356 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:15:04,357 - DEBUG - Order Profit ID is 0
2018-02-27 13:15:04,357 - DEBUG - Order Entry ID is 233
2018-02-27 13:15:04,357 - DEBUG - API ID is  0
2018-02-27 13:15:04,357 - DEBUG - Current Position is 0
2018-02-27 13:15:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:15:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:15:04,358 - DEBUG - Time is 13
2018-02-27 13:15:04,358 - DEBUG - Time is <class 'int'>
2018-02-27 13:15:04,359 - DEBUG - Disconnected from IBController
2018-02-27 13:15:04,359 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:20:00,267 - DEBUG - ****************************************************
2018-02-27 13:20:00,268 - DEBUG - Current Time is 01:20PM
2018-02-27 13:20:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:20:00,268 - DEBUG - Connecting to database
2018-02-27 13:20:00,298 - DEBUG - Connected to database
2018-02-27 13:20:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:00,300 - DEBUG - Order Profit is 0
2018-02-27 13:20:00,300 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:00,302 - DEBUG - Stop ID is 0
2018-02-27 13:20:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:00,303 - DEBUG - Entry ID is 233
2018-02-27 13:20:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:20:00,305 - DEBUG - OCA ID is 1
2018-02-27 13:20:00,305 - DEBUG - Connecting to IBController
2018-02-27 13:20:01,310 - DEBUG - Connected to IBController
2018-02-27 13:20:01,310 - DEBUG - Position requested
2018-02-27 13:20:01,312 - DEBUG - Pos Mgmt -10
2018-02-27 13:20:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD68>, pos=-10, avgCost=15344.045>
2018-02-27 13:20:01,312 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:20:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:20:01,313 - DEBUG - Position is -10
2018-02-27 13:20:01,313 - DEBUG - Pos Mgmt -12987
2018-02-27 13:20:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:20:01,314 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:20:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:20:01,315 - DEBUG - Position is -12987
2018-02-27 13:20:02,311 - DEBUG - Open Orders requested
2018-02-27 13:20:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000205DE10>, order=<ib.ext.Order.Order object at 0x000000000205DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-27 13:20:02,313 - DEBUG - Order OrderID 236
2018-02-27 13:20:02,314 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:20:02,314 - DEBUG - Order status PreSubmitted
2018-02-27 13:20:02,314 - DEBUG - Order Identification 236
2018-02-27 13:20:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:20:02,315 - DEBUG - Profit ID from database is 0
2018-02-27 13:20:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:20:02,316 - DEBUG - Stop ID database is 0
2018-02-27 13:20:02,316 - DEBUG - Entry ID database is 233
2018-02-27 13:20:04,313 - DEBUG - Connecting to database
2018-02-27 13:20:04,320 - DEBUG - Connected to database
2018-02-27 13:20:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,322 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:20:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,324 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:20:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,326 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:20:04,327 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,327 - DEBUG - Stop quantity 1
2018-02-27 13:20:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,329 - DEBUG - Direction is Long
2018-02-27 13:20:04,330 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,331 - DEBUG - Count is 0
2018-02-27 13:20:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:20:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:20:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:20:04,334 - DEBUG - Max ID Order is (236,)
2018-02-27 13:20:04,335 - DEBUG - Today is 2018-02-27
2018-02-27 13:20:04,335 - DEBUG - Day of the week 1
2018-02-27 13:20:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:20:04,336 - DEBUG - In Position is  0
2018-02-27 13:20:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:20:04,336 - DEBUG - curStopLossFlag is  0
2018-02-27 13:20:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:20:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 13:20:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:20:04,338 - DEBUG - EntryPend is 1
2018-02-27 13:20:04,338 - DEBUG - Try to Cancel Stop
2018-02-27 13:20:04,339 - DEBUG - Stop API ID 0
2018-02-27 13:20:04,339 - DEBUG - Profit API ID 0
2018-02-27 13:20:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:20:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:20:04,340 - DEBUG - Pos is 0
2018-02-27 13:20:04,340 - DEBUG - CurCount is 0
2018-02-27 13:20:04,340 - DEBUG - In Pos 0
2018-02-27 13:20:04,340 - DEBUG - Stop ID is 0
2018-02-27 13:20:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:20:04,342 - DEBUG - EntryPend is 1
2018-02-27 13:20:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:20:04,342 - DEBUG - Entry Date is 10
2018-02-27 13:20:04,343 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:20:04,343 - DEBUG - Order Profit ID is 0
2018-02-27 13:20:04,343 - DEBUG - Order Entry ID is 233
2018-02-27 13:20:04,343 - DEBUG - API ID is  0
2018-02-27 13:20:04,343 - DEBUG - Current Position is 0
2018-02-27 13:20:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:20:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:20:04,344 - DEBUG - Time is 13
2018-02-27 13:20:04,344 - DEBUG - Time is <class 'int'>
2018-02-27 13:20:04,345 - DEBUG - Disconnected from IBController
2018-02-27 13:20:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:25:00,258 - DEBUG - ****************************************************
2018-02-27 13:25:00,258 - DEBUG - Current Time is 01:25PM
2018-02-27 13:25:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:25:00,259 - DEBUG - Connecting to database
2018-02-27 13:25:00,306 - DEBUG - Connected to database
2018-02-27 13:25:00,306 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:00,308 - DEBUG - Order Profit is 0
2018-02-27 13:25:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:00,309 - DEBUG - Stop ID is 0
2018-02-27 13:25:00,310 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:00,311 - DEBUG - Entry ID is 233
2018-02-27 13:25:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:25:00,313 - DEBUG - OCA ID is 1
2018-02-27 13:25:00,313 - DEBUG - Connecting to IBController
2018-02-27 13:25:01,317 - DEBUG - Connected to IBController
2018-02-27 13:25:01,317 - DEBUG - Position requested
2018-02-27 13:25:01,318 - DEBUG - Pos Mgmt -5
2018-02-27 13:25:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-5, avgCost=15344.045>
2018-02-27 13:25:01,319 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:25:01,320 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:25:01,320 - DEBUG - Position is -5
2018-02-27 13:25:01,320 - DEBUG - Pos Mgmt -12987
2018-02-27 13:25:01,320 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:25:01,321 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:25:01,321 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:25:01,321 - DEBUG - Position is -12987
2018-02-27 13:25:02,319 - DEBUG - Open Orders requested
2018-02-27 13:25:04,320 - DEBUG - Connecting to database
2018-02-27 13:25:04,327 - DEBUG - Connected to database
2018-02-27 13:25:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,329 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:25:04,331 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,331 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:25:04,332 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,333 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:25:04,334 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,334 - DEBUG - Stop quantity 1
2018-02-27 13:25:04,336 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,336 - DEBUG - Direction is Long
2018-02-27 13:25:04,337 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,338 - DEBUG - Count is 0
2018-02-27 13:25:04,340 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:25:04,340 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:25:04,342 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:25:04,342 - DEBUG - Max ID Order is (236,)
2018-02-27 13:25:04,342 - DEBUG - Today is 2018-02-27
2018-02-27 13:25:04,343 - DEBUG - Day of the week 1
2018-02-27 13:25:04,343 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:25:04,343 - DEBUG - In Position is  0
2018-02-27 13:25:04,344 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:25:04,344 - DEBUG - curStopLossFlag is  0
2018-02-27 13:25:04,344 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:25:04,344 - DEBUG - Checking if Entry has been filled
2018-02-27 13:25:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:25:04,346 - DEBUG - EntryPend is 1
2018-02-27 13:25:04,346 - DEBUG - Try to Cancel Stop
2018-02-27 13:25:04,346 - DEBUG - Stop API ID 0
2018-02-27 13:25:04,347 - DEBUG - Profit API ID 0
2018-02-27 13:25:04,347 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:25:04,347 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:25:04,347 - DEBUG - Pos is 0
2018-02-27 13:25:04,348 - DEBUG - CurCount is 0
2018-02-27 13:25:04,348 - DEBUG - In Pos 0
2018-02-27 13:25:04,348 - DEBUG - Stop ID is 0
2018-02-27 13:25:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:25:04,350 - DEBUG - EntryPend is 1
2018-02-27 13:25:04,350 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:25:04,350 - DEBUG - Entry Date is 10
2018-02-27 13:25:04,351 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:25:04,351 - DEBUG - Order Profit ID is 0
2018-02-27 13:25:04,351 - DEBUG - Order Entry ID is 233
2018-02-27 13:25:04,351 - DEBUG - API ID is  0
2018-02-27 13:25:04,352 - DEBUG - Current Position is 0
2018-02-27 13:25:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:25:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:25:04,352 - DEBUG - Time is 13
2018-02-27 13:25:04,352 - DEBUG - Time is <class 'int'>
2018-02-27 13:25:04,353 - DEBUG - Disconnected from IBController
2018-02-27 13:25:04,353 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:30:00,265 - DEBUG - ****************************************************
2018-02-27 13:30:00,266 - DEBUG - Current Time is 01:30PM
2018-02-27 13:30:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:30:00,267 - DEBUG - Connecting to database
2018-02-27 13:30:00,297 - DEBUG - Connected to database
2018-02-27 13:30:00,297 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:00,299 - DEBUG - Order Profit is 0
2018-02-27 13:30:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:00,301 - DEBUG - Stop ID is 0
2018-02-27 13:30:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:00,302 - DEBUG - Entry ID is 233
2018-02-27 13:30:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:30:00,305 - DEBUG - OCA ID is 1
2018-02-27 13:30:00,306 - DEBUG - Connecting to IBController
2018-02-27 13:30:01,310 - DEBUG - Connected to IBController
2018-02-27 13:30:01,310 - DEBUG - Position requested
2018-02-27 13:30:01,312 - DEBUG - Pos Mgmt -5
2018-02-27 13:30:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=-5, avgCost=15344.045>
2018-02-27 13:30:01,317 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:30:01,317 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:30:01,318 - DEBUG - Position is -5
2018-02-27 13:30:01,318 - DEBUG - Pos Mgmt -12987
2018-02-27 13:30:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:30:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:30:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:30:01,320 - DEBUG - Position is -12987
2018-02-27 13:30:02,312 - DEBUG - Open Orders requested
2018-02-27 13:30:04,313 - DEBUG - Connecting to database
2018-02-27 13:30:04,321 - DEBUG - Connected to database
2018-02-27 13:30:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:30:04,324 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,324 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:30:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,326 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:30:04,327 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,328 - DEBUG - Stop quantity 1
2018-02-27 13:30:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,329 - DEBUG - Direction is Long
2018-02-27 13:30:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,331 - DEBUG - Count is 0
2018-02-27 13:30:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:30:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:30:04,339 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:30:04,339 - DEBUG - Max ID Order is (236,)
2018-02-27 13:30:04,340 - DEBUG - Today is 2018-02-27
2018-02-27 13:30:04,340 - DEBUG - Day of the week 1
2018-02-27 13:30:04,340 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:30:04,341 - DEBUG - In Position is  0
2018-02-27 13:30:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:30:04,341 - DEBUG - curStopLossFlag is  0
2018-02-27 13:30:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:30:04,342 - DEBUG - Checking if Entry has been filled
2018-02-27 13:30:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:30:04,343 - DEBUG - EntryPend is 1
2018-02-27 13:30:04,344 - DEBUG - Try to Cancel Stop
2018-02-27 13:30:04,344 - DEBUG - Stop API ID 0
2018-02-27 13:30:04,344 - DEBUG - Profit API ID 0
2018-02-27 13:30:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:30:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:30:04,345 - DEBUG - Pos is 0
2018-02-27 13:30:04,345 - DEBUG - CurCount is 0
2018-02-27 13:30:04,345 - DEBUG - In Pos 0
2018-02-27 13:30:04,346 - DEBUG - Stop ID is 0
2018-02-27 13:30:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:30:04,347 - DEBUG - EntryPend is 1
2018-02-27 13:30:04,347 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:30:04,348 - DEBUG - Entry Date is 10
2018-02-27 13:30:04,348 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:30:04,348 - DEBUG - Order Profit ID is 0
2018-02-27 13:30:04,348 - DEBUG - Order Entry ID is 233
2018-02-27 13:30:04,349 - DEBUG - API ID is  0
2018-02-27 13:30:04,349 - DEBUG - Current Position is 0
2018-02-27 13:30:04,349 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:30:04,349 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:30:04,350 - DEBUG - Time is 13
2018-02-27 13:30:04,350 - DEBUG - Time is <class 'int'>
2018-02-27 13:30:04,350 - DEBUG - Disconnected from IBController
2018-02-27 13:30:04,350 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:35:00,276 - DEBUG - ****************************************************
2018-02-27 13:35:00,276 - DEBUG - Current Time is 01:35PM
2018-02-27 13:35:00,277 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:35:00,277 - DEBUG - Connecting to database
2018-02-27 13:35:00,306 - DEBUG - Connected to database
2018-02-27 13:35:00,307 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:00,308 - DEBUG - Order Profit is 0
2018-02-27 13:35:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:00,310 - DEBUG - Stop ID is 0
2018-02-27 13:35:00,310 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:00,312 - DEBUG - Entry ID is 233
2018-02-27 13:35:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:35:00,313 - DEBUG - OCA ID is 1
2018-02-27 13:35:00,314 - DEBUG - Connecting to IBController
2018-02-27 13:35:01,319 - DEBUG - Connected to IBController
2018-02-27 13:35:01,319 - DEBUG - Position requested
2018-02-27 13:35:01,328 - DEBUG - Pos Mgmt -5
2018-02-27 13:35:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=-5, avgCost=15344.045>
2018-02-27 13:35:01,335 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:35:01,335 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:35:01,335 - DEBUG - Position is -5
2018-02-27 13:35:01,336 - DEBUG - Pos Mgmt -12987
2018-02-27 13:35:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:35:01,336 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:35:01,336 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:35:01,337 - DEBUG - Position is -12987
2018-02-27 13:35:02,320 - DEBUG - Open Orders requested
2018-02-27 13:35:04,324 - DEBUG - Connecting to database
2018-02-27 13:35:04,331 - DEBUG - Connected to database
2018-02-27 13:35:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,333 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:35:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:35:04,336 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,337 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:35:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,338 - DEBUG - Stop quantity 1
2018-02-27 13:35:04,340 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,340 - DEBUG - Direction is Long
2018-02-27 13:35:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,342 - DEBUG - Count is 0
2018-02-27 13:35:04,343 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:35:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:35:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:35:04,345 - DEBUG - Max ID Order is (236,)
2018-02-27 13:35:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 13:35:04,346 - DEBUG - Day of the week 1
2018-02-27 13:35:04,346 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:35:04,346 - DEBUG - In Position is  0
2018-02-27 13:35:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:35:04,347 - DEBUG - curStopLossFlag is  0
2018-02-27 13:35:04,347 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:35:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 13:35:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:35:04,349 - DEBUG - EntryPend is 1
2018-02-27 13:35:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 13:35:04,349 - DEBUG - Stop API ID 0
2018-02-27 13:35:04,350 - DEBUG - Profit API ID 0
2018-02-27 13:35:04,350 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:35:04,350 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:35:04,350 - DEBUG - Pos is 0
2018-02-27 13:35:04,351 - DEBUG - CurCount is 0
2018-02-27 13:35:04,351 - DEBUG - In Pos 0
2018-02-27 13:35:04,351 - DEBUG - Stop ID is 0
2018-02-27 13:35:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:35:04,353 - DEBUG - EntryPend is 1
2018-02-27 13:35:04,353 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:35:04,353 - DEBUG - Entry Date is 10
2018-02-27 13:35:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:35:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 13:35:04,354 - DEBUG - Order Entry ID is 233
2018-02-27 13:35:04,354 - DEBUG - API ID is  0
2018-02-27 13:35:04,354 - DEBUG - Current Position is 0
2018-02-27 13:35:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:35:04,355 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:35:04,355 - DEBUG - Time is 13
2018-02-27 13:35:04,355 - DEBUG - Time is <class 'int'>
2018-02-27 13:35:04,355 - DEBUG - Disconnected from IBController
2018-02-27 13:35:04,356 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:40:00,268 - DEBUG - ****************************************************
2018-02-27 13:40:00,269 - DEBUG - Current Time is 01:40PM
2018-02-27 13:40:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:40:00,269 - DEBUG - Connecting to database
2018-02-27 13:40:00,295 - DEBUG - Connected to database
2018-02-27 13:40:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:00,297 - DEBUG - Order Profit is 0
2018-02-27 13:40:00,298 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:00,299 - DEBUG - Stop ID is 0
2018-02-27 13:40:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:00,301 - DEBUG - Entry ID is 233
2018-02-27 13:40:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:40:00,302 - DEBUG - OCA ID is 1
2018-02-27 13:40:00,303 - DEBUG - Connecting to IBController
2018-02-27 13:40:01,307 - DEBUG - Connected to IBController
2018-02-27 13:40:01,307 - DEBUG - Position requested
2018-02-27 13:40:01,308 - DEBUG - Pos Mgmt -5
2018-02-27 13:40:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DB00>, pos=-5, avgCost=15344.045>
2018-02-27 13:40:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:40:01,309 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:40:01,310 - DEBUG - Position is -5
2018-02-27 13:40:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 13:40:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:40:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:40:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:40:01,311 - DEBUG - Position is -12987
2018-02-27 13:40:02,308 - DEBUG - Open Orders requested
2018-02-27 13:40:04,309 - DEBUG - Connecting to database
2018-02-27 13:40:04,316 - DEBUG - Connected to database
2018-02-27 13:40:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,318 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:40:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,320 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:40:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,322 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:40:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,323 - DEBUG - Stop quantity 1
2018-02-27 13:40:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,326 - DEBUG - Direction is Long
2018-02-27 13:40:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,328 - DEBUG - Count is 0
2018-02-27 13:40:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:40:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:40:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:40:04,331 - DEBUG - Max ID Order is (236,)
2018-02-27 13:40:04,332 - DEBUG - Today is 2018-02-27
2018-02-27 13:40:04,332 - DEBUG - Day of the week 1
2018-02-27 13:40:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:40:04,332 - DEBUG - In Position is  0
2018-02-27 13:40:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:40:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 13:40:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:40:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 13:40:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:40:04,335 - DEBUG - EntryPend is 1
2018-02-27 13:40:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 13:40:04,336 - DEBUG - Stop API ID 0
2018-02-27 13:40:04,336 - DEBUG - Profit API ID 0
2018-02-27 13:40:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:40:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:40:04,337 - DEBUG - Pos is 0
2018-02-27 13:40:04,337 - DEBUG - CurCount is 0
2018-02-27 13:40:04,337 - DEBUG - In Pos 0
2018-02-27 13:40:04,337 - DEBUG - Stop ID is 0
2018-02-27 13:40:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:40:04,339 - DEBUG - EntryPend is 1
2018-02-27 13:40:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:40:04,339 - DEBUG - Entry Date is 10
2018-02-27 13:40:04,340 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:40:04,340 - DEBUG - Order Profit ID is 0
2018-02-27 13:40:04,340 - DEBUG - Order Entry ID is 233
2018-02-27 13:40:04,340 - DEBUG - API ID is  0
2018-02-27 13:40:04,341 - DEBUG - Current Position is 0
2018-02-27 13:40:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:40:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:40:04,341 - DEBUG - Time is 13
2018-02-27 13:40:04,342 - DEBUG - Time is <class 'int'>
2018-02-27 13:40:04,342 - DEBUG - Disconnected from IBController
2018-02-27 13:40:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:45:00,272 - DEBUG - ****************************************************
2018-02-27 13:45:00,272 - DEBUG - Current Time is 01:45PM
2018-02-27 13:45:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:45:00,273 - DEBUG - Connecting to database
2018-02-27 13:45:00,308 - DEBUG - Connected to database
2018-02-27 13:45:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:00,310 - DEBUG - Order Profit is 0
2018-02-27 13:45:00,310 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:00,312 - DEBUG - Stop ID is 0
2018-02-27 13:45:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:00,313 - DEBUG - Entry ID is 233
2018-02-27 13:45:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:45:00,315 - DEBUG - OCA ID is 1
2018-02-27 13:45:00,315 - DEBUG - Connecting to IBController
2018-02-27 13:45:01,320 - DEBUG - Connected to IBController
2018-02-27 13:45:01,320 - DEBUG - Position requested
2018-02-27 13:45:01,322 - DEBUG - Pos Mgmt -5
2018-02-27 13:45:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA90>, pos=-5, avgCost=15344.045>
2018-02-27 13:45:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:45:01,323 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:45:01,323 - DEBUG - Position is -5
2018-02-27 13:45:01,324 - DEBUG - Pos Mgmt -12987
2018-02-27 13:45:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:45:01,324 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:45:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:45:01,325 - DEBUG - Position is -12987
2018-02-27 13:45:02,322 - DEBUG - Open Orders requested
2018-02-27 13:45:04,323 - DEBUG - Connecting to database
2018-02-27 13:45:04,330 - DEBUG - Connected to database
2018-02-27 13:45:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:45:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:45:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,336 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:45:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,338 - DEBUG - Stop quantity 1
2018-02-27 13:45:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,339 - DEBUG - Direction is Long
2018-02-27 13:45:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,341 - DEBUG - Count is 0
2018-02-27 13:45:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:45:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:45:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:45:04,344 - DEBUG - Max ID Order is (236,)
2018-02-27 13:45:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 13:45:04,345 - DEBUG - Day of the week 1
2018-02-27 13:45:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:45:04,346 - DEBUG - In Position is  0
2018-02-27 13:45:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:45:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 13:45:04,347 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:45:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 13:45:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:45:04,349 - DEBUG - EntryPend is 1
2018-02-27 13:45:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 13:45:04,349 - DEBUG - Stop API ID 0
2018-02-27 13:45:04,349 - DEBUG - Profit API ID 0
2018-02-27 13:45:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:45:04,350 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:45:04,350 - DEBUG - Pos is 0
2018-02-27 13:45:04,350 - DEBUG - CurCount is 0
2018-02-27 13:45:04,350 - DEBUG - In Pos 0
2018-02-27 13:45:04,351 - DEBUG - Stop ID is 0
2018-02-27 13:45:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:45:04,352 - DEBUG - EntryPend is 1
2018-02-27 13:45:04,353 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:45:04,353 - DEBUG - Entry Date is 10
2018-02-27 13:45:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:45:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 13:45:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 13:45:04,354 - DEBUG - API ID is  0
2018-02-27 13:45:04,354 - DEBUG - Current Position is 0
2018-02-27 13:45:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:45:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:45:04,355 - DEBUG - Time is 13
2018-02-27 13:45:04,355 - DEBUG - Time is <class 'int'>
2018-02-27 13:45:04,355 - DEBUG - Disconnected from IBController
2018-02-27 13:45:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:50:00,284 - DEBUG - ****************************************************
2018-02-27 13:50:00,285 - DEBUG - Current Time is 01:50PM
2018-02-27 13:50:00,285 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:50:00,285 - DEBUG - Connecting to database
2018-02-27 13:50:00,322 - DEBUG - Connected to database
2018-02-27 13:50:00,323 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:00,324 - DEBUG - Order Profit is 0
2018-02-27 13:50:00,325 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:00,326 - DEBUG - Stop ID is 0
2018-02-27 13:50:00,326 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:00,328 - DEBUG - Entry ID is 233
2018-02-27 13:50:00,328 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:50:00,329 - DEBUG - OCA ID is 1
2018-02-27 13:50:00,330 - DEBUG - Connecting to IBController
2018-02-27 13:50:01,334 - DEBUG - Connected to IBController
2018-02-27 13:50:01,334 - DEBUG - Position requested
2018-02-27 13:50:01,335 - DEBUG - Pos Mgmt -5
2018-02-27 13:50:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001B9DB00>, pos=-5, avgCost=15344.045>
2018-02-27 13:50:01,336 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:50:01,336 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:50:01,337 - DEBUG - Position is -5
2018-02-27 13:50:01,337 - DEBUG - Pos Mgmt -12987
2018-02-27 13:50:01,337 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001B9DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:50:01,338 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:50:01,338 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:50:01,338 - DEBUG - Position is -12987
2018-02-27 13:50:02,335 - DEBUG - Open Orders requested
2018-02-27 13:50:04,336 - DEBUG - Connecting to database
2018-02-27 13:50:04,343 - DEBUG - Connected to database
2018-02-27 13:50:04,345 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,345 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:50:04,347 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,347 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:50:04,348 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,349 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:50:04,350 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,351 - DEBUG - Stop quantity 1
2018-02-27 13:50:04,352 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,352 - DEBUG - Direction is Long
2018-02-27 13:50:04,354 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,354 - DEBUG - Count is 0
2018-02-27 13:50:04,355 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:50:04,356 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:50:04,357 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:50:04,357 - DEBUG - Max ID Order is (236,)
2018-02-27 13:50:04,358 - DEBUG - Today is 2018-02-27
2018-02-27 13:50:04,358 - DEBUG - Day of the week 1
2018-02-27 13:50:04,359 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:50:04,359 - DEBUG - In Position is  0
2018-02-27 13:50:04,359 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:50:04,359 - DEBUG - curStopLossFlag is  0
2018-02-27 13:50:04,360 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:50:04,360 - DEBUG - Checking if Entry has been filled
2018-02-27 13:50:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:50:04,361 - DEBUG - EntryPend is 1
2018-02-27 13:50:04,362 - DEBUG - Try to Cancel Stop
2018-02-27 13:50:04,362 - DEBUG - Stop API ID 0
2018-02-27 13:50:04,362 - DEBUG - Profit API ID 0
2018-02-27 13:50:04,362 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:50:04,363 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:50:04,363 - DEBUG - Pos is 0
2018-02-27 13:50:04,363 - DEBUG - CurCount is 0
2018-02-27 13:50:04,363 - DEBUG - In Pos 0
2018-02-27 13:50:04,364 - DEBUG - Stop ID is 0
2018-02-27 13:50:04,364 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:50:04,365 - DEBUG - EntryPend is 1
2018-02-27 13:50:04,365 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:50:04,366 - DEBUG - Entry Date is 10
2018-02-27 13:50:04,366 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:50:04,366 - DEBUG - Order Profit ID is 0
2018-02-27 13:50:04,366 - DEBUG - Order Entry ID is 233
2018-02-27 13:50:04,366 - DEBUG - API ID is  0
2018-02-27 13:50:04,367 - DEBUG - Current Position is 0
2018-02-27 13:50:04,367 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:50:04,367 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:50:04,367 - DEBUG - Time is 13
2018-02-27 13:50:04,368 - DEBUG - Time is <class 'int'>
2018-02-27 13:50:04,368 - DEBUG - Disconnected from IBController
2018-02-27 13:50:04,368 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:55:00,275 - DEBUG - ****************************************************
2018-02-27 13:55:00,275 - DEBUG - Current Time is 01:55PM
2018-02-27 13:55:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 13:55:00,276 - DEBUG - Connecting to database
2018-02-27 13:55:00,304 - DEBUG - Connected to database
2018-02-27 13:55:00,304 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:00,306 - DEBUG - Order Profit is 0
2018-02-27 13:55:00,306 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:00,307 - DEBUG - Stop ID is 0
2018-02-27 13:55:00,307 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:00,309 - DEBUG - Entry ID is 233
2018-02-27 13:55:00,309 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:55:00,311 - DEBUG - OCA ID is 1
2018-02-27 13:55:00,311 - DEBUG - Connecting to IBController
2018-02-27 13:55:01,316 - DEBUG - Connected to IBController
2018-02-27 13:55:01,316 - DEBUG - Position requested
2018-02-27 13:55:01,318 - DEBUG - Pos Mgmt -5
2018-02-27 13:55:01,318 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CA90>, pos=-5, avgCost=15344.045>
2018-02-27 13:55:01,318 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:55:01,319 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:55:01,319 - DEBUG - Position is -5
2018-02-27 13:55:01,320 - DEBUG - Pos Mgmt -12987
2018-02-27 13:55:01,320 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:55:01,320 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:55:01,320 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:55:01,321 - DEBUG - Position is -12987
2018-02-27 13:55:02,318 - DEBUG - Open Orders requested
2018-02-27 13:55:04,319 - DEBUG - Connecting to database
2018-02-27 13:55:04,326 - DEBUG - Connected to database
2018-02-27 13:55:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,328 - DEBUG - Stop loss value is 2742.75
2018-02-27 13:55:04,330 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,330 - DEBUG - Stop loss value is 2797.0
2018-02-27 13:55:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,332 - DEBUG - EntryPrice value is 2787.5
2018-02-27 13:55:04,333 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,334 - DEBUG - Stop quantity 1
2018-02-27 13:55:04,335 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,336 - DEBUG - Direction is Long
2018-02-27 13:55:04,337 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,337 - DEBUG - Count is 0
2018-02-27 13:55:04,339 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 13:55:04,339 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:55:04,340 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:55:04,341 - DEBUG - Max ID Order is (236,)
2018-02-27 13:55:04,341 - DEBUG - Today is 2018-02-27
2018-02-27 13:55:04,341 - DEBUG - Day of the week 1
2018-02-27 13:55:04,342 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:55:04,342 - DEBUG - In Position is  0
2018-02-27 13:55:04,342 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:55:04,343 - DEBUG - curStopLossFlag is  0
2018-02-27 13:55:04,343 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:55:04,343 - DEBUG - Checking if Entry has been filled
2018-02-27 13:55:04,343 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:55:04,345 - DEBUG - EntryPend is 1
2018-02-27 13:55:04,345 - DEBUG - Try to Cancel Stop
2018-02-27 13:55:04,345 - DEBUG - Stop API ID 0
2018-02-27 13:55:04,345 - DEBUG - Profit API ID 0
2018-02-27 13:55:04,346 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:55:04,346 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:55:04,346 - DEBUG - Pos is 0
2018-02-27 13:55:04,346 - DEBUG - CurCount is 0
2018-02-27 13:55:04,347 - DEBUG - In Pos 0
2018-02-27 13:55:04,347 - DEBUG - Stop ID is 0
2018-02-27 13:55:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 13:55:04,349 - DEBUG - EntryPend is 1
2018-02-27 13:55:04,349 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:55:04,349 - DEBUG - Entry Date is 10
2018-02-27 13:55:04,349 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:55:04,349 - DEBUG - Order Profit ID is 0
2018-02-27 13:55:04,350 - DEBUG - Order Entry ID is 233
2018-02-27 13:55:04,350 - DEBUG - API ID is  0
2018-02-27 13:55:04,350 - DEBUG - Current Position is 0
2018-02-27 13:55:04,350 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:55:04,351 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:55:04,351 - DEBUG - Time is 13
2018-02-27 13:55:04,351 - DEBUG - Time is <class 'int'>
2018-02-27 13:55:04,351 - DEBUG - Disconnected from IBController
2018-02-27 13:55:04,352 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:00:00,278 - DEBUG - ****************************************************
2018-02-27 14:00:00,279 - DEBUG - Current Time is 02:00PM
2018-02-27 14:00:00,279 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:00:00,280 - DEBUG - Connecting to database
2018-02-27 14:00:00,316 - DEBUG - Connected to database
2018-02-27 14:00:00,317 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:00,318 - DEBUG - Order Profit is 0
2018-02-27 14:00:00,318 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:00,320 - DEBUG - Stop ID is 0
2018-02-27 14:00:00,320 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:00,321 - DEBUG - Entry ID is 233
2018-02-27 14:00:00,322 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:00:00,323 - DEBUG - OCA ID is 1
2018-02-27 14:00:00,323 - DEBUG - Connecting to IBController
2018-02-27 14:00:01,328 - DEBUG - Connected to IBController
2018-02-27 14:00:01,328 - DEBUG - Position requested
2018-02-27 14:00:01,330 - DEBUG - Pos Mgmt -5
2018-02-27 14:00:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CA58>, pos=-5, avgCost=15344.045>
2018-02-27 14:00:01,331 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:00:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:00:01,331 - DEBUG - Position is -5
2018-02-27 14:00:01,332 - DEBUG - Pos Mgmt -12987
2018-02-27 14:00:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:00:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:00:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:00:01,333 - DEBUG - Position is -12987
2018-02-27 14:00:02,329 - DEBUG - Open Orders requested
2018-02-27 14:00:04,330 - DEBUG - Connecting to database
2018-02-27 14:00:04,337 - DEBUG - Connected to database
2018-02-27 14:00:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,340 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:00:04,341 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,341 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:00:04,343 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,343 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:00:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,345 - DEBUG - Stop quantity 1
2018-02-27 14:00:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,347 - DEBUG - Direction is Long
2018-02-27 14:00:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,348 - DEBUG - Count is 0
2018-02-27 14:00:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:00:04,350 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:00:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:00:04,352 - DEBUG - Max ID Order is (236,)
2018-02-27 14:00:04,352 - DEBUG - Today is 2018-02-27
2018-02-27 14:00:04,353 - DEBUG - Day of the week 1
2018-02-27 14:00:04,353 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:00:04,353 - DEBUG - In Position is  0
2018-02-27 14:00:04,353 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:00:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 14:00:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:00:04,354 - DEBUG - Checking if Entry has been filled
2018-02-27 14:00:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:00:04,356 - DEBUG - EntryPend is 1
2018-02-27 14:00:04,356 - DEBUG - Try to Cancel Stop
2018-02-27 14:00:04,356 - DEBUG - Stop API ID 0
2018-02-27 14:00:04,357 - DEBUG - Profit API ID 0
2018-02-27 14:00:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:00:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:00:04,357 - DEBUG - Pos is 0
2018-02-27 14:00:04,358 - DEBUG - CurCount is 0
2018-02-27 14:00:04,358 - DEBUG - In Pos 0
2018-02-27 14:00:04,358 - DEBUG - Stop ID is 0
2018-02-27 14:00:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:00:04,360 - DEBUG - EntryPend is 1
2018-02-27 14:00:04,360 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:00:04,360 - DEBUG - Entry Date is 10
2018-02-27 14:00:04,361 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:00:04,361 - DEBUG - Order Profit ID is 0
2018-02-27 14:00:04,361 - DEBUG - Order Entry ID is 233
2018-02-27 14:00:04,361 - DEBUG - API ID is  0
2018-02-27 14:00:04,362 - DEBUG - Current Position is 0
2018-02-27 14:00:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:00:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:00:04,362 - DEBUG - Time is 14
2018-02-27 14:00:04,362 - DEBUG - Time is <class 'int'>
2018-02-27 14:00:04,363 - DEBUG - Disconnected from IBController
2018-02-27 14:00:04,363 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:05:00,274 - DEBUG - ****************************************************
2018-02-27 14:05:00,275 - DEBUG - Current Time is 02:05PM
2018-02-27 14:05:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:05:00,275 - DEBUG - Connecting to database
2018-02-27 14:05:00,294 - DEBUG - Connected to database
2018-02-27 14:05:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:00,296 - DEBUG - Order Profit is 0
2018-02-27 14:05:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:00,298 - DEBUG - Stop ID is 0
2018-02-27 14:05:00,298 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:00,300 - DEBUG - Entry ID is 233
2018-02-27 14:05:00,300 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:05:00,302 - DEBUG - OCA ID is 1
2018-02-27 14:05:00,302 - DEBUG - Connecting to IBController
2018-02-27 14:05:01,307 - DEBUG - Connected to IBController
2018-02-27 14:05:01,307 - DEBUG - Position requested
2018-02-27 14:05:01,309 - DEBUG - Pos Mgmt -5
2018-02-27 14:05:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=-5, avgCost=15344.045>
2018-02-27 14:05:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:05:01,310 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:05:01,310 - DEBUG - Position is -5
2018-02-27 14:05:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 14:05:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:05:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:05:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:05:01,311 - DEBUG - Position is -12987
2018-02-27 14:05:02,309 - DEBUG - Open Orders requested
2018-02-27 14:05:04,310 - DEBUG - Connecting to database
2018-02-27 14:05:04,317 - DEBUG - Connected to database
2018-02-27 14:05:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:05:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:05:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,322 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:05:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,324 - DEBUG - Stop quantity 1
2018-02-27 14:05:04,326 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,326 - DEBUG - Direction is Long
2018-02-27 14:05:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,328 - DEBUG - Count is 0
2018-02-27 14:05:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:05:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:05:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:05:04,331 - DEBUG - Max ID Order is (236,)
2018-02-27 14:05:04,332 - DEBUG - Today is 2018-02-27
2018-02-27 14:05:04,332 - DEBUG - Day of the week 1
2018-02-27 14:05:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:05:04,333 - DEBUG - In Position is  0
2018-02-27 14:05:04,333 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:05:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 14:05:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:05:04,334 - DEBUG - Checking if Entry has been filled
2018-02-27 14:05:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:05:04,335 - DEBUG - EntryPend is 1
2018-02-27 14:05:04,336 - DEBUG - Try to Cancel Stop
2018-02-27 14:05:04,336 - DEBUG - Stop API ID 0
2018-02-27 14:05:04,336 - DEBUG - Profit API ID 0
2018-02-27 14:05:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:05:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:05:04,337 - DEBUG - Pos is 0
2018-02-27 14:05:04,337 - DEBUG - CurCount is 0
2018-02-27 14:05:04,337 - DEBUG - In Pos 0
2018-02-27 14:05:04,337 - DEBUG - Stop ID is 0
2018-02-27 14:05:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:05:04,339 - DEBUG - EntryPend is 1
2018-02-27 14:05:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:05:04,339 - DEBUG - Entry Date is 10
2018-02-27 14:05:04,340 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:05:04,340 - DEBUG - Order Profit ID is 0
2018-02-27 14:05:04,340 - DEBUG - Order Entry ID is 233
2018-02-27 14:05:04,340 - DEBUG - API ID is  0
2018-02-27 14:05:04,341 - DEBUG - Current Position is 0
2018-02-27 14:05:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:05:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:05:04,341 - DEBUG - Time is 14
2018-02-27 14:05:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 14:05:04,342 - DEBUG - Disconnected from IBController
2018-02-27 14:05:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:10:00,266 - DEBUG - ****************************************************
2018-02-27 14:10:00,267 - DEBUG - Current Time is 02:10PM
2018-02-27 14:10:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:10:00,268 - DEBUG - Connecting to database
2018-02-27 14:10:00,299 - DEBUG - Connected to database
2018-02-27 14:10:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:00,301 - DEBUG - Order Profit is 0
2018-02-27 14:10:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:00,303 - DEBUG - Stop ID is 0
2018-02-27 14:10:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:00,304 - DEBUG - Entry ID is 233
2018-02-27 14:10:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:10:00,306 - DEBUG - OCA ID is 1
2018-02-27 14:10:00,307 - DEBUG - Connecting to IBController
2018-02-27 14:10:01,311 - DEBUG - Connected to IBController
2018-02-27 14:10:01,311 - DEBUG - Position requested
2018-02-27 14:10:01,312 - DEBUG - Pos Mgmt -5
2018-02-27 14:10:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:10:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:10:01,313 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:10:01,314 - DEBUG - Position is -5
2018-02-27 14:10:01,314 - DEBUG - Pos Mgmt -12987
2018-02-27 14:10:01,314 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:10:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:10:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:10:01,315 - DEBUG - Position is -12987
2018-02-27 14:10:02,313 - DEBUG - Open Orders requested
2018-02-27 14:10:04,314 - DEBUG - Connecting to database
2018-02-27 14:10:04,321 - DEBUG - Connected to database
2018-02-27 14:10:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:10:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:10:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:10:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,329 - DEBUG - Stop quantity 1
2018-02-27 14:10:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,330 - DEBUG - Direction is Long
2018-02-27 14:10:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,332 - DEBUG - Count is 0
2018-02-27 14:10:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:10:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:10:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:10:04,335 - DEBUG - Max ID Order is (236,)
2018-02-27 14:10:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 14:10:04,336 - DEBUG - Day of the week 1
2018-02-27 14:10:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:10:04,337 - DEBUG - In Position is  0
2018-02-27 14:10:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:10:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 14:10:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:10:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 14:10:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:10:04,340 - DEBUG - EntryPend is 1
2018-02-27 14:10:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 14:10:04,340 - DEBUG - Stop API ID 0
2018-02-27 14:10:04,340 - DEBUG - Profit API ID 0
2018-02-27 14:10:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:10:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:10:04,341 - DEBUG - Pos is 0
2018-02-27 14:10:04,341 - DEBUG - CurCount is 0
2018-02-27 14:10:04,342 - DEBUG - In Pos 0
2018-02-27 14:10:04,342 - DEBUG - Stop ID is 0
2018-02-27 14:10:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:10:04,343 - DEBUG - EntryPend is 1
2018-02-27 14:10:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:10:04,344 - DEBUG - Entry Date is 10
2018-02-27 14:10:04,344 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:10:04,344 - DEBUG - Order Profit ID is 0
2018-02-27 14:10:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 14:10:04,345 - DEBUG - API ID is  0
2018-02-27 14:10:04,345 - DEBUG - Current Position is 0
2018-02-27 14:10:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:10:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:10:04,346 - DEBUG - Time is 14
2018-02-27 14:10:04,346 - DEBUG - Time is <class 'int'>
2018-02-27 14:10:04,347 - DEBUG - Disconnected from IBController
2018-02-27 14:10:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:15:00,268 - DEBUG - ****************************************************
2018-02-27 14:15:00,269 - DEBUG - Current Time is 02:15PM
2018-02-27 14:15:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:15:00,270 - DEBUG - Connecting to database
2018-02-27 14:15:00,295 - DEBUG - Connected to database
2018-02-27 14:15:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:00,297 - DEBUG - Order Profit is 0
2018-02-27 14:15:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:00,299 - DEBUG - Stop ID is 0
2018-02-27 14:15:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:00,300 - DEBUG - Entry ID is 233
2018-02-27 14:15:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:15:00,302 - DEBUG - OCA ID is 1
2018-02-27 14:15:00,302 - DEBUG - Connecting to IBController
2018-02-27 14:15:01,308 - DEBUG - Connected to IBController
2018-02-27 14:15:01,308 - DEBUG - Position requested
2018-02-27 14:15:01,310 - DEBUG - Pos Mgmt -5
2018-02-27 14:15:01,310 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-5, avgCost=15344.045>
2018-02-27 14:15:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:15:01,311 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:15:01,311 - DEBUG - Position is -5
2018-02-27 14:15:01,311 - DEBUG - Pos Mgmt -12987
2018-02-27 14:15:01,312 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:15:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:15:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:15:01,312 - DEBUG - Position is -12987
2018-02-27 14:15:02,310 - DEBUG - Open Orders requested
2018-02-27 14:15:04,311 - DEBUG - Connecting to database
2018-02-27 14:15:04,318 - DEBUG - Connected to database
2018-02-27 14:15:04,320 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,320 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:15:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,322 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:15:04,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,324 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:15:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,325 - DEBUG - Stop quantity 1
2018-02-27 14:15:04,327 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,327 - DEBUG - Direction is Long
2018-02-27 14:15:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,329 - DEBUG - Count is 0
2018-02-27 14:15:04,330 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:15:04,330 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:15:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:15:04,332 - DEBUG - Max ID Order is (236,)
2018-02-27 14:15:04,333 - DEBUG - Today is 2018-02-27
2018-02-27 14:15:04,333 - DEBUG - Day of the week 1
2018-02-27 14:15:04,333 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:15:04,333 - DEBUG - In Position is  0
2018-02-27 14:15:04,334 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:15:04,334 - DEBUG - curStopLossFlag is  0
2018-02-27 14:15:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:15:04,335 - DEBUG - Checking if Entry has been filled
2018-02-27 14:15:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:15:04,336 - DEBUG - EntryPend is 1
2018-02-27 14:15:04,336 - DEBUG - Try to Cancel Stop
2018-02-27 14:15:04,337 - DEBUG - Stop API ID 0
2018-02-27 14:15:04,337 - DEBUG - Profit API ID 0
2018-02-27 14:15:04,337 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:15:04,337 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:15:04,338 - DEBUG - Pos is 0
2018-02-27 14:15:04,338 - DEBUG - CurCount is 0
2018-02-27 14:15:04,338 - DEBUG - In Pos 0
2018-02-27 14:15:04,338 - DEBUG - Stop ID is 0
2018-02-27 14:15:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:15:04,340 - DEBUG - EntryPend is 1
2018-02-27 14:15:04,340 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:15:04,340 - DEBUG - Entry Date is 10
2018-02-27 14:15:04,341 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:15:04,341 - DEBUG - Order Profit ID is 0
2018-02-27 14:15:04,341 - DEBUG - Order Entry ID is 233
2018-02-27 14:15:04,342 - DEBUG - API ID is  0
2018-02-27 14:15:04,342 - DEBUG - Current Position is 0
2018-02-27 14:15:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:15:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:15:04,343 - DEBUG - Time is 14
2018-02-27 14:15:04,343 - DEBUG - Time is <class 'int'>
2018-02-27 14:15:04,343 - DEBUG - Disconnected from IBController
2018-02-27 14:15:04,343 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:20:00,268 - DEBUG - ****************************************************
2018-02-27 14:20:00,268 - DEBUG - Current Time is 02:20PM
2018-02-27 14:20:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:20:00,269 - DEBUG - Connecting to database
2018-02-27 14:20:00,292 - DEBUG - Connected to database
2018-02-27 14:20:00,293 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:00,294 - DEBUG - Order Profit is 0
2018-02-27 14:20:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:00,296 - DEBUG - Stop ID is 0
2018-02-27 14:20:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:00,297 - DEBUG - Entry ID is 233
2018-02-27 14:20:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:20:00,299 - DEBUG - OCA ID is 1
2018-02-27 14:20:00,299 - DEBUG - Connecting to IBController
2018-02-27 14:20:01,305 - DEBUG - Connected to IBController
2018-02-27 14:20:01,305 - DEBUG - Position requested
2018-02-27 14:20:01,307 - DEBUG - Pos Mgmt -5
2018-02-27 14:20:01,307 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:20:01,307 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:20:01,308 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:20:01,308 - DEBUG - Position is -5
2018-02-27 14:20:01,308 - DEBUG - Pos Mgmt -12987
2018-02-27 14:20:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:20:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:20:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:20:01,309 - DEBUG - Position is -12987
2018-02-27 14:20:02,306 - DEBUG - Open Orders requested
2018-02-27 14:20:04,307 - DEBUG - Connecting to database
2018-02-27 14:20:04,315 - DEBUG - Connected to database
2018-02-27 14:20:04,317 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,317 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:20:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,319 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:20:04,320 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,321 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:20:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,323 - DEBUG - Stop quantity 1
2018-02-27 14:20:04,324 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,324 - DEBUG - Direction is Long
2018-02-27 14:20:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,326 - DEBUG - Count is 0
2018-02-27 14:20:04,327 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:20:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:20:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:20:04,329 - DEBUG - Max ID Order is (236,)
2018-02-27 14:20:04,330 - DEBUG - Today is 2018-02-27
2018-02-27 14:20:04,330 - DEBUG - Day of the week 1
2018-02-27 14:20:04,330 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:20:04,331 - DEBUG - In Position is  0
2018-02-27 14:20:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:20:04,331 - DEBUG - curStopLossFlag is  0
2018-02-27 14:20:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:20:04,332 - DEBUG - Checking if Entry has been filled
2018-02-27 14:20:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:20:04,333 - DEBUG - EntryPend is 1
2018-02-27 14:20:04,334 - DEBUG - Try to Cancel Stop
2018-02-27 14:20:04,334 - DEBUG - Stop API ID 0
2018-02-27 14:20:04,334 - DEBUG - Profit API ID 0
2018-02-27 14:20:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:20:04,334 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:20:04,335 - DEBUG - Pos is 0
2018-02-27 14:20:04,335 - DEBUG - CurCount is 0
2018-02-27 14:20:04,335 - DEBUG - In Pos 0
2018-02-27 14:20:04,335 - DEBUG - Stop ID is 0
2018-02-27 14:20:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:20:04,337 - DEBUG - EntryPend is 1
2018-02-27 14:20:04,337 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:20:04,338 - DEBUG - Entry Date is 10
2018-02-27 14:20:04,338 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:20:04,338 - DEBUG - Order Profit ID is 0
2018-02-27 14:20:04,338 - DEBUG - Order Entry ID is 233
2018-02-27 14:20:04,339 - DEBUG - API ID is  0
2018-02-27 14:20:04,339 - DEBUG - Current Position is 0
2018-02-27 14:20:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:20:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:20:04,340 - DEBUG - Time is 14
2018-02-27 14:20:04,340 - DEBUG - Time is <class 'int'>
2018-02-27 14:20:04,340 - DEBUG - Disconnected from IBController
2018-02-27 14:20:04,340 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:25:00,268 - DEBUG - ****************************************************
2018-02-27 14:25:00,269 - DEBUG - Current Time is 02:25PM
2018-02-27 14:25:00,269 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:25:00,269 - DEBUG - Connecting to database
2018-02-27 14:25:00,287 - DEBUG - Connected to database
2018-02-27 14:25:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:00,289 - DEBUG - Order Profit is 0
2018-02-27 14:25:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:00,291 - DEBUG - Stop ID is 0
2018-02-27 14:25:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:00,292 - DEBUG - Entry ID is 233
2018-02-27 14:25:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:25:00,294 - DEBUG - OCA ID is 1
2018-02-27 14:25:00,294 - DEBUG - Connecting to IBController
2018-02-27 14:25:01,299 - DEBUG - Connected to IBController
2018-02-27 14:25:01,299 - DEBUG - Position requested
2018-02-27 14:25:01,301 - DEBUG - Pos Mgmt -5
2018-02-27 14:25:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CA90>, pos=-5, avgCost=15344.045>
2018-02-27 14:25:01,301 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:25:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:25:01,302 - DEBUG - Position is -5
2018-02-27 14:25:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 14:25:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:25:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:25:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:25:01,303 - DEBUG - Position is -12987
2018-02-27 14:25:02,301 - DEBUG - Open Orders requested
2018-02-27 14:25:04,302 - DEBUG - Connecting to database
2018-02-27 14:25:04,310 - DEBUG - Connected to database
2018-02-27 14:25:04,312 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,312 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:25:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,314 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:25:04,315 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,316 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:25:04,317 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,317 - DEBUG - Stop quantity 1
2018-02-27 14:25:04,319 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,319 - DEBUG - Direction is Long
2018-02-27 14:25:04,320 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,321 - DEBUG - Count is 0
2018-02-27 14:25:04,322 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:25:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:25:04,324 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:25:04,324 - DEBUG - Max ID Order is (236,)
2018-02-27 14:25:04,324 - DEBUG - Today is 2018-02-27
2018-02-27 14:25:04,325 - DEBUG - Day of the week 1
2018-02-27 14:25:04,325 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:25:04,325 - DEBUG - In Position is  0
2018-02-27 14:25:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:25:04,326 - DEBUG - curStopLossFlag is  0
2018-02-27 14:25:04,326 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:25:04,326 - DEBUG - Checking if Entry has been filled
2018-02-27 14:25:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:25:04,328 - DEBUG - EntryPend is 1
2018-02-27 14:25:04,328 - DEBUG - Try to Cancel Stop
2018-02-27 14:25:04,329 - DEBUG - Stop API ID 0
2018-02-27 14:25:04,329 - DEBUG - Profit API ID 0
2018-02-27 14:25:04,329 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:25:04,329 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:25:04,329 - DEBUG - Pos is 0
2018-02-27 14:25:04,330 - DEBUG - CurCount is 0
2018-02-27 14:25:04,330 - DEBUG - In Pos 0
2018-02-27 14:25:04,330 - DEBUG - Stop ID is 0
2018-02-27 14:25:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:25:04,332 - DEBUG - EntryPend is 1
2018-02-27 14:25:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:25:04,332 - DEBUG - Entry Date is 10
2018-02-27 14:25:04,332 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:25:04,333 - DEBUG - Order Profit ID is 0
2018-02-27 14:25:04,333 - DEBUG - Order Entry ID is 233
2018-02-27 14:25:04,333 - DEBUG - API ID is  0
2018-02-27 14:25:04,333 - DEBUG - Current Position is 0
2018-02-27 14:25:04,334 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:25:04,334 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:25:04,334 - DEBUG - Time is 14
2018-02-27 14:25:04,334 - DEBUG - Time is <class 'int'>
2018-02-27 14:25:04,334 - DEBUG - Disconnected from IBController
2018-02-27 14:25:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:30:00,258 - DEBUG - ****************************************************
2018-02-27 14:30:00,258 - DEBUG - Current Time is 02:30PM
2018-02-27 14:30:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:30:00,259 - DEBUG - Connecting to database
2018-02-27 14:30:00,310 - DEBUG - Connected to database
2018-02-27 14:30:00,310 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:00,312 - DEBUG - Order Profit is 0
2018-02-27 14:30:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:00,313 - DEBUG - Stop ID is 0
2018-02-27 14:30:00,313 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:00,315 - DEBUG - Entry ID is 233
2018-02-27 14:30:00,315 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:30:00,316 - DEBUG - OCA ID is 1
2018-02-27 14:30:00,317 - DEBUG - Connecting to IBController
2018-02-27 14:30:01,322 - DEBUG - Connected to IBController
2018-02-27 14:30:01,322 - DEBUG - Position requested
2018-02-27 14:30:01,324 - DEBUG - Pos Mgmt -5
2018-02-27 14:30:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CBA90>, pos=-5, avgCost=15344.045>
2018-02-27 14:30:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:30:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:30:01,325 - DEBUG - Position is -5
2018-02-27 14:30:01,326 - DEBUG - Pos Mgmt -12987
2018-02-27 14:30:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CBCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:30:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:30:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:30:01,327 - DEBUG - Position is -12987
2018-02-27 14:30:02,324 - DEBUG - Open Orders requested
2018-02-27 14:30:04,325 - DEBUG - Connecting to database
2018-02-27 14:30:04,334 - DEBUG - Connected to database
2018-02-27 14:30:04,335 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,336 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:30:04,337 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,337 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:30:04,339 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,339 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:30:04,340 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,341 - DEBUG - Stop quantity 1
2018-02-27 14:30:04,342 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,342 - DEBUG - Direction is Long
2018-02-27 14:30:04,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,344 - DEBUG - Count is 0
2018-02-27 14:30:04,345 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:30:04,346 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:30:04,347 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:30:04,348 - DEBUG - Max ID Order is (236,)
2018-02-27 14:30:04,348 - DEBUG - Today is 2018-02-27
2018-02-27 14:30:04,348 - DEBUG - Day of the week 1
2018-02-27 14:30:04,349 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:30:04,349 - DEBUG - In Position is  0
2018-02-27 14:30:04,349 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:30:04,349 - DEBUG - curStopLossFlag is  0
2018-02-27 14:30:04,350 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:30:04,350 - DEBUG - Checking if Entry has been filled
2018-02-27 14:30:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:30:04,351 - DEBUG - EntryPend is 1
2018-02-27 14:30:04,352 - DEBUG - Try to Cancel Stop
2018-02-27 14:30:04,352 - DEBUG - Stop API ID 0
2018-02-27 14:30:04,352 - DEBUG - Profit API ID 0
2018-02-27 14:30:04,352 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:30:04,352 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:30:04,353 - DEBUG - Pos is 0
2018-02-27 14:30:04,353 - DEBUG - CurCount is 0
2018-02-27 14:30:04,353 - DEBUG - In Pos 0
2018-02-27 14:30:04,353 - DEBUG - Stop ID is 0
2018-02-27 14:30:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:30:04,355 - DEBUG - EntryPend is 1
2018-02-27 14:30:04,355 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:30:04,355 - DEBUG - Entry Date is 10
2018-02-27 14:30:04,356 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:30:04,356 - DEBUG - Order Profit ID is 0
2018-02-27 14:30:04,356 - DEBUG - Order Entry ID is 233
2018-02-27 14:30:04,356 - DEBUG - API ID is  0
2018-02-27 14:30:04,357 - DEBUG - Current Position is 0
2018-02-27 14:30:04,357 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:30:04,357 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:30:04,357 - DEBUG - Time is 14
2018-02-27 14:30:04,357 - DEBUG - Time is <class 'int'>
2018-02-27 14:30:04,358 - DEBUG - Disconnected from IBController
2018-02-27 14:30:04,358 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:35:00,271 - DEBUG - ****************************************************
2018-02-27 14:35:00,271 - DEBUG - Current Time is 02:35PM
2018-02-27 14:35:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:35:00,272 - DEBUG - Connecting to database
2018-02-27 14:35:00,309 - DEBUG - Connected to database
2018-02-27 14:35:00,309 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:00,311 - DEBUG - Order Profit is 0
2018-02-27 14:35:00,311 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:00,312 - DEBUG - Stop ID is 0
2018-02-27 14:35:00,312 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:00,314 - DEBUG - Entry ID is 233
2018-02-27 14:35:00,314 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:35:00,315 - DEBUG - OCA ID is 1
2018-02-27 14:35:00,316 - DEBUG - Connecting to IBController
2018-02-27 14:35:01,321 - DEBUG - Connected to IBController
2018-02-27 14:35:01,321 - DEBUG - Position requested
2018-02-27 14:35:01,323 - DEBUG - Pos Mgmt -5
2018-02-27 14:35:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:35:01,323 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:35:01,324 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:35:01,324 - DEBUG - Position is -5
2018-02-27 14:35:01,324 - DEBUG - Pos Mgmt -12987
2018-02-27 14:35:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:35:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:35:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:35:01,325 - DEBUG - Position is -12987
2018-02-27 14:35:02,322 - DEBUG - Open Orders requested
2018-02-27 14:35:04,323 - DEBUG - Connecting to database
2018-02-27 14:35:04,330 - DEBUG - Connected to database
2018-02-27 14:35:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,332 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:35:04,333 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,334 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:35:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,336 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:35:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,337 - DEBUG - Stop quantity 1
2018-02-27 14:35:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,339 - DEBUG - Direction is Long
2018-02-27 14:35:04,340 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,341 - DEBUG - Count is 0
2018-02-27 14:35:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:35:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:35:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:35:04,344 - DEBUG - Max ID Order is (236,)
2018-02-27 14:35:04,344 - DEBUG - Today is 2018-02-27
2018-02-27 14:35:04,345 - DEBUG - Day of the week 1
2018-02-27 14:35:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:35:04,345 - DEBUG - In Position is  0
2018-02-27 14:35:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:35:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 14:35:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:35:04,346 - DEBUG - Checking if Entry has been filled
2018-02-27 14:35:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:35:04,348 - DEBUG - EntryPend is 1
2018-02-27 14:35:04,348 - DEBUG - Try to Cancel Stop
2018-02-27 14:35:04,349 - DEBUG - Stop API ID 0
2018-02-27 14:35:04,349 - DEBUG - Profit API ID 0
2018-02-27 14:35:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:35:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:35:04,350 - DEBUG - Pos is 0
2018-02-27 14:35:04,350 - DEBUG - CurCount is 0
2018-02-27 14:35:04,350 - DEBUG - In Pos 0
2018-02-27 14:35:04,350 - DEBUG - Stop ID is 0
2018-02-27 14:35:04,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:35:04,352 - DEBUG - EntryPend is 1
2018-02-27 14:35:04,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:35:04,352 - DEBUG - Entry Date is 10
2018-02-27 14:35:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:35:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 14:35:04,353 - DEBUG - Order Entry ID is 233
2018-02-27 14:35:04,353 - DEBUG - API ID is  0
2018-02-27 14:35:04,353 - DEBUG - Current Position is 0
2018-02-27 14:35:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:35:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:35:04,354 - DEBUG - Time is 14
2018-02-27 14:35:04,354 - DEBUG - Time is <class 'int'>
2018-02-27 14:35:04,355 - DEBUG - Disconnected from IBController
2018-02-27 14:35:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:40:00,300 - DEBUG - ****************************************************
2018-02-27 14:40:00,307 - DEBUG - Current Time is 02:40PM
2018-02-27 14:40:00,307 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:40:00,307 - DEBUG - Connecting to database
2018-02-27 14:40:00,338 - DEBUG - Connected to database
2018-02-27 14:40:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:00,340 - DEBUG - Order Profit is 0
2018-02-27 14:40:00,346 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:00,349 - DEBUG - Stop ID is 0
2018-02-27 14:40:00,351 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:00,353 - DEBUG - Entry ID is 233
2018-02-27 14:40:00,354 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:40:00,355 - DEBUG - OCA ID is 1
2018-02-27 14:40:00,356 - DEBUG - Connecting to IBController
2018-02-27 14:40:01,394 - DEBUG - Connected to IBController
2018-02-27 14:40:01,394 - DEBUG - Position requested
2018-02-27 14:40:01,402 - DEBUG - Pos Mgmt -5
2018-02-27 14:40:01,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:40:01,403 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:40:01,403 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:40:01,404 - DEBUG - Position is -5
2018-02-27 14:40:01,404 - DEBUG - Pos Mgmt -12987
2018-02-27 14:40:01,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:40:01,405 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:40:01,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:40:01,405 - DEBUG - Position is -12987
2018-02-27 14:40:02,399 - DEBUG - Open Orders requested
2018-02-27 14:40:04,400 - DEBUG - Connecting to database
2018-02-27 14:40:04,408 - DEBUG - Connected to database
2018-02-27 14:40:04,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,410 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:40:04,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,412 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:40:04,413 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,413 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:40:04,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,415 - DEBUG - Stop quantity 1
2018-02-27 14:40:04,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,417 - DEBUG - Direction is Long
2018-02-27 14:40:04,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,420 - DEBUG - Count is 0
2018-02-27 14:40:04,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:40:04,422 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:40:04,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:40:04,424 - DEBUG - Max ID Order is (236,)
2018-02-27 14:40:04,424 - DEBUG - Today is 2018-02-27
2018-02-27 14:40:04,425 - DEBUG - Day of the week 1
2018-02-27 14:40:04,425 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:40:04,425 - DEBUG - In Position is  0
2018-02-27 14:40:04,426 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:40:04,426 - DEBUG - curStopLossFlag is  0
2018-02-27 14:40:04,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:40:04,426 - DEBUG - Checking if Entry has been filled
2018-02-27 14:40:04,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:40:04,428 - DEBUG - EntryPend is 1
2018-02-27 14:40:04,428 - DEBUG - Try to Cancel Stop
2018-02-27 14:40:04,428 - DEBUG - Stop API ID 0
2018-02-27 14:40:04,429 - DEBUG - Profit API ID 0
2018-02-27 14:40:04,429 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:40:04,429 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:40:04,429 - DEBUG - Pos is 0
2018-02-27 14:40:04,429 - DEBUG - CurCount is 0
2018-02-27 14:40:04,430 - DEBUG - In Pos 0
2018-02-27 14:40:04,430 - DEBUG - Stop ID is 0
2018-02-27 14:40:04,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:40:04,431 - DEBUG - EntryPend is 1
2018-02-27 14:40:04,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:40:04,432 - DEBUG - Entry Date is 10
2018-02-27 14:40:04,432 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:40:04,432 - DEBUG - Order Profit ID is 0
2018-02-27 14:40:04,432 - DEBUG - Order Entry ID is 233
2018-02-27 14:40:04,433 - DEBUG - API ID is  0
2018-02-27 14:40:04,433 - DEBUG - Current Position is 0
2018-02-27 14:40:04,433 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:40:04,433 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:40:04,433 - DEBUG - Time is 14
2018-02-27 14:40:04,434 - DEBUG - Time is <class 'int'>
2018-02-27 14:40:04,434 - DEBUG - Disconnected from IBController
2018-02-27 14:40:04,435 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:45:00,265 - DEBUG - ****************************************************
2018-02-27 14:45:00,265 - DEBUG - Current Time is 02:45PM
2018-02-27 14:45:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:45:00,266 - DEBUG - Connecting to database
2018-02-27 14:45:00,285 - DEBUG - Connected to database
2018-02-27 14:45:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:00,287 - DEBUG - Order Profit is 0
2018-02-27 14:45:00,287 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:00,289 - DEBUG - Stop ID is 0
2018-02-27 14:45:00,289 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:00,290 - DEBUG - Entry ID is 233
2018-02-27 14:45:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:45:00,292 - DEBUG - OCA ID is 1
2018-02-27 14:45:00,292 - DEBUG - Connecting to IBController
2018-02-27 14:45:01,297 - DEBUG - Connected to IBController
2018-02-27 14:45:01,297 - DEBUG - Position requested
2018-02-27 14:45:01,301 - DEBUG - Pos Mgmt -5
2018-02-27 14:45:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:45:01,301 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:45:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:45:01,302 - DEBUG - Position is -5
2018-02-27 14:45:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 14:45:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:45:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:45:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:45:01,303 - DEBUG - Position is -12987
2018-02-27 14:45:02,298 - DEBUG - Open Orders requested
2018-02-27 14:45:04,298 - DEBUG - Connecting to database
2018-02-27 14:45:04,317 - DEBUG - Connected to database
2018-02-27 14:45:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,319 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:45:04,320 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,321 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:45:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,322 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:45:04,324 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,324 - DEBUG - Stop quantity 1
2018-02-27 14:45:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,326 - DEBUG - Direction is Long
2018-02-27 14:45:04,327 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,327 - DEBUG - Count is 0
2018-02-27 14:45:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:45:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:45:04,330 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:45:04,331 - DEBUG - Max ID Order is (236,)
2018-02-27 14:45:04,331 - DEBUG - Today is 2018-02-27
2018-02-27 14:45:04,331 - DEBUG - Day of the week 1
2018-02-27 14:45:04,332 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:45:04,332 - DEBUG - In Position is  0
2018-02-27 14:45:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:45:04,333 - DEBUG - curStopLossFlag is  0
2018-02-27 14:45:04,333 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:45:04,333 - DEBUG - Checking if Entry has been filled
2018-02-27 14:45:04,333 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:45:04,334 - DEBUG - EntryPend is 1
2018-02-27 14:45:04,335 - DEBUG - Try to Cancel Stop
2018-02-27 14:45:04,335 - DEBUG - Stop API ID 0
2018-02-27 14:45:04,335 - DEBUG - Profit API ID 0
2018-02-27 14:45:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:45:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:45:04,336 - DEBUG - Pos is 0
2018-02-27 14:45:04,336 - DEBUG - CurCount is 0
2018-02-27 14:45:04,336 - DEBUG - In Pos 0
2018-02-27 14:45:04,337 - DEBUG - Stop ID is 0
2018-02-27 14:45:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:45:04,338 - DEBUG - EntryPend is 1
2018-02-27 14:45:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:45:04,339 - DEBUG - Entry Date is 10
2018-02-27 14:45:04,339 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:45:04,339 - DEBUG - Order Profit ID is 0
2018-02-27 14:45:04,339 - DEBUG - Order Entry ID is 233
2018-02-27 14:45:04,340 - DEBUG - API ID is  0
2018-02-27 14:45:04,340 - DEBUG - Current Position is 0
2018-02-27 14:45:04,340 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:45:04,340 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:45:04,340 - DEBUG - Time is 14
2018-02-27 14:45:04,341 - DEBUG - Time is <class 'int'>
2018-02-27 14:45:04,341 - DEBUG - Disconnected from IBController
2018-02-27 14:45:04,341 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:50:00,261 - DEBUG - ****************************************************
2018-02-27 14:50:00,262 - DEBUG - Current Time is 02:50PM
2018-02-27 14:50:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:50:00,263 - DEBUG - Connecting to database
2018-02-27 14:50:00,284 - DEBUG - Connected to database
2018-02-27 14:50:00,284 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:00,286 - DEBUG - Order Profit is 0
2018-02-27 14:50:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:00,288 - DEBUG - Stop ID is 0
2018-02-27 14:50:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:00,289 - DEBUG - Entry ID is 233
2018-02-27 14:50:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:50:00,304 - DEBUG - OCA ID is 1
2018-02-27 14:50:00,304 - DEBUG - Connecting to IBController
2018-02-27 14:50:01,309 - DEBUG - Connected to IBController
2018-02-27 14:50:01,309 - DEBUG - Position requested
2018-02-27 14:50:01,311 - DEBUG - Pos Mgmt -5
2018-02-27 14:50:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:50:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:50:01,312 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:50:01,312 - DEBUG - Position is -5
2018-02-27 14:50:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 14:50:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:50:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:50:01,314 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:50:01,314 - DEBUG - Position is -12987
2018-02-27 14:50:02,310 - DEBUG - Open Orders requested
2018-02-27 14:50:04,314 - DEBUG - Connecting to database
2018-02-27 14:50:04,321 - DEBUG - Connected to database
2018-02-27 14:50:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:50:04,325 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:50:04,327 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,327 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:50:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,329 - DEBUG - Stop quantity 1
2018-02-27 14:50:04,330 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,331 - DEBUG - Direction is Long
2018-02-27 14:50:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,333 - DEBUG - Count is 0
2018-02-27 14:50:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:50:04,334 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:50:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:50:04,336 - DEBUG - Max ID Order is (236,)
2018-02-27 14:50:04,336 - DEBUG - Today is 2018-02-27
2018-02-27 14:50:04,337 - DEBUG - Day of the week 1
2018-02-27 14:50:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:50:04,337 - DEBUG - In Position is  0
2018-02-27 14:50:04,337 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:50:04,338 - DEBUG - curStopLossFlag is  0
2018-02-27 14:50:04,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:50:04,338 - DEBUG - Checking if Entry has been filled
2018-02-27 14:50:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:50:04,340 - DEBUG - EntryPend is 1
2018-02-27 14:50:04,340 - DEBUG - Try to Cancel Stop
2018-02-27 14:50:04,341 - DEBUG - Stop API ID 0
2018-02-27 14:50:04,341 - DEBUG - Profit API ID 0
2018-02-27 14:50:04,341 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:50:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:50:04,342 - DEBUG - Pos is 0
2018-02-27 14:50:04,342 - DEBUG - CurCount is 0
2018-02-27 14:50:04,342 - DEBUG - In Pos 0
2018-02-27 14:50:04,342 - DEBUG - Stop ID is 0
2018-02-27 14:50:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:50:04,344 - DEBUG - EntryPend is 1
2018-02-27 14:50:04,344 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:50:04,344 - DEBUG - Entry Date is 10
2018-02-27 14:50:04,345 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:50:04,345 - DEBUG - Order Profit ID is 0
2018-02-27 14:50:04,345 - DEBUG - Order Entry ID is 233
2018-02-27 14:50:04,345 - DEBUG - API ID is  0
2018-02-27 14:50:04,346 - DEBUG - Current Position is 0
2018-02-27 14:50:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:50:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:50:04,346 - DEBUG - Time is 14
2018-02-27 14:50:04,347 - DEBUG - Time is <class 'int'>
2018-02-27 14:50:04,347 - DEBUG - Disconnected from IBController
2018-02-27 14:50:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 14:55:00,264 - DEBUG - ****************************************************
2018-02-27 14:55:00,265 - DEBUG - Current Time is 02:55PM
2018-02-27 14:55:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 14:55:00,265 - DEBUG - Connecting to database
2018-02-27 14:55:00,289 - DEBUG - Connected to database
2018-02-27 14:55:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:00,291 - DEBUG - Order Profit is 0
2018-02-27 14:55:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:00,293 - DEBUG - Stop ID is 0
2018-02-27 14:55:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:00,295 - DEBUG - Entry ID is 233
2018-02-27 14:55:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 14:55:00,296 - DEBUG - OCA ID is 1
2018-02-27 14:55:00,297 - DEBUG - Connecting to IBController
2018-02-27 14:55:01,302 - DEBUG - Connected to IBController
2018-02-27 14:55:01,302 - DEBUG - Position requested
2018-02-27 14:55:01,304 - DEBUG - Pos Mgmt -5
2018-02-27 14:55:01,304 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-5, avgCost=15344.045>
2018-02-27 14:55:01,304 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 14:55:01,305 - DEBUG - ccy2 Currency with position is USD
2018-02-27 14:55:01,305 - DEBUG - Position is -5
2018-02-27 14:55:01,305 - DEBUG - Pos Mgmt -12987
2018-02-27 14:55:01,306 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 14:55:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 14:55:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 14:55:01,306 - DEBUG - Position is -12987
2018-02-27 14:55:02,302 - DEBUG - Open Orders requested
2018-02-27 14:55:04,302 - DEBUG - Connecting to database
2018-02-27 14:55:04,309 - DEBUG - Connected to database
2018-02-27 14:55:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,311 - DEBUG - Stop loss value is 2742.75
2018-02-27 14:55:04,313 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,313 - DEBUG - Stop loss value is 2797.0
2018-02-27 14:55:04,314 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,315 - DEBUG - EntryPrice value is 2787.5
2018-02-27 14:55:04,316 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,316 - DEBUG - Stop quantity 1
2018-02-27 14:55:04,318 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,318 - DEBUG - Direction is Long
2018-02-27 14:55:04,320 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,321 - DEBUG - Count is 0
2018-02-27 14:55:04,322 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 14:55:04,322 - DEBUG - Stop Loss Flag is 0
2018-02-27 14:55:04,324 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 14:55:04,324 - DEBUG - Max ID Order is (236,)
2018-02-27 14:55:04,325 - DEBUG - Today is 2018-02-27
2018-02-27 14:55:04,325 - DEBUG - Day of the week 1
2018-02-27 14:55:04,325 - DEBUG - Yesterday is 02/26/2018
2018-02-27 14:55:04,325 - DEBUG - In Position is  0
2018-02-27 14:55:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-27 14:55:04,326 - DEBUG - curStopLossFlag is  0
2018-02-27 14:55:04,326 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 14:55:04,327 - DEBUG - Checking if Entry has been filled
2018-02-27 14:55:04,327 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:55:04,328 - DEBUG - EntryPend is 1
2018-02-27 14:55:04,328 - DEBUG - Try to Cancel Stop
2018-02-27 14:55:04,329 - DEBUG - Stop API ID 0
2018-02-27 14:55:04,329 - DEBUG - Profit API ID 0
2018-02-27 14:55:04,329 - DEBUG - Stop API ID <class 'int'>
2018-02-27 14:55:04,329 - DEBUG - Profit API ID <class 'int'>
2018-02-27 14:55:04,330 - DEBUG - Pos is 0
2018-02-27 14:55:04,330 - DEBUG - CurCount is 0
2018-02-27 14:55:04,330 - DEBUG - In Pos 0
2018-02-27 14:55:04,330 - DEBUG - Stop ID is 0
2018-02-27 14:55:04,330 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 14:55:04,332 - DEBUG - EntryPend is 1
2018-02-27 14:55:04,332 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 14:55:04,332 - DEBUG - Entry Date is 10
2018-02-27 14:55:04,332 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 14:55:04,333 - DEBUG - Order Profit ID is 0
2018-02-27 14:55:04,333 - DEBUG - Order Entry ID is 233
2018-02-27 14:55:04,333 - DEBUG - API ID is  0
2018-02-27 14:55:04,333 - DEBUG - Current Position is 0
2018-02-27 14:55:04,334 - DEBUG - Current Position is <class 'str'>
2018-02-27 14:55:04,334 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 14:55:04,334 - DEBUG - Time is 14
2018-02-27 14:55:04,334 - DEBUG - Time is <class 'int'>
2018-02-27 14:55:04,335 - DEBUG - Disconnected from IBController
2018-02-27 14:55:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:00:00,281 - DEBUG - ****************************************************
2018-02-27 15:00:00,281 - DEBUG - Current Time is 03:00PM
2018-02-27 15:00:00,281 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:00:00,282 - DEBUG - Connecting to database
2018-02-27 15:00:00,325 - DEBUG - Connected to database
2018-02-27 15:00:00,325 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:00,327 - DEBUG - Order Profit is 0
2018-02-27 15:00:00,327 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:00,332 - DEBUG - Stop ID is 0
2018-02-27 15:00:00,332 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:00,334 - DEBUG - Entry ID is 233
2018-02-27 15:00:00,334 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:00:00,336 - DEBUG - OCA ID is 1
2018-02-27 15:00:00,336 - DEBUG - Connecting to IBController
2018-02-27 15:00:01,344 - DEBUG - Connected to IBController
2018-02-27 15:00:01,344 - DEBUG - Position requested
2018-02-27 15:00:01,346 - DEBUG - Pos Mgmt -5
2018-02-27 15:00:01,349 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CB00>, pos=-5, avgCost=15344.045>
2018-02-27 15:00:01,350 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:00:01,351 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:00:01,351 - DEBUG - Position is -5
2018-02-27 15:00:01,354 - DEBUG - Pos Mgmt -12987
2018-02-27 15:00:01,355 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:00:01,358 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:00:01,358 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:00:01,358 - DEBUG - Position is -12987
2018-02-27 15:00:02,344 - DEBUG - Open Orders requested
2018-02-27 15:00:04,344 - DEBUG - Connecting to database
2018-02-27 15:00:04,351 - DEBUG - Connected to database
2018-02-27 15:00:04,353 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,353 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:00:04,355 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,355 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:00:04,356 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,357 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:00:04,358 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,359 - DEBUG - Stop quantity 1
2018-02-27 15:00:04,360 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,360 - DEBUG - Direction is Long
2018-02-27 15:00:04,362 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,362 - DEBUG - Count is 0
2018-02-27 15:00:04,363 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:00:04,364 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:00:04,365 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:00:04,365 - DEBUG - Max ID Order is (236,)
2018-02-27 15:00:04,366 - DEBUG - Today is 2018-02-27
2018-02-27 15:00:04,366 - DEBUG - Day of the week 1
2018-02-27 15:00:04,366 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:00:04,367 - DEBUG - In Position is  0
2018-02-27 15:00:04,367 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:00:04,367 - DEBUG - curStopLossFlag is  0
2018-02-27 15:00:04,367 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:00:04,368 - DEBUG - Checking if Entry has been filled
2018-02-27 15:00:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:00:04,369 - DEBUG - EntryPend is 1
2018-02-27 15:00:04,370 - DEBUG - Try to Cancel Stop
2018-02-27 15:00:04,370 - DEBUG - Stop API ID 0
2018-02-27 15:00:04,370 - DEBUG - Profit API ID 0
2018-02-27 15:00:04,370 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:00:04,371 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:00:04,371 - DEBUG - Pos is 0
2018-02-27 15:00:04,371 - DEBUG - CurCount is 0
2018-02-27 15:00:04,371 - DEBUG - In Pos 0
2018-02-27 15:00:04,371 - DEBUG - Stop ID is 0
2018-02-27 15:00:04,372 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:00:04,373 - DEBUG - EntryPend is 1
2018-02-27 15:00:04,373 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:00:04,374 - DEBUG - Entry Date is 10
2018-02-27 15:00:04,374 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:00:04,374 - DEBUG - Order Profit ID is 0
2018-02-27 15:00:04,374 - DEBUG - Order Entry ID is 233
2018-02-27 15:00:04,375 - DEBUG - API ID is  0
2018-02-27 15:00:04,375 - DEBUG - Current Position is 0
2018-02-27 15:00:04,375 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:00:04,375 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:00:04,375 - DEBUG - Time is 15
2018-02-27 15:00:04,376 - DEBUG - Time is <class 'int'>
2018-02-27 15:00:04,376 - DEBUG - Disconnected from IBController
2018-02-27 15:00:04,376 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:05:00,277 - DEBUG - ****************************************************
2018-02-27 15:05:00,278 - DEBUG - Current Time is 03:05PM
2018-02-27 15:05:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:05:00,278 - DEBUG - Connecting to database
2018-02-27 15:05:00,317 - DEBUG - Connected to database
2018-02-27 15:05:00,318 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:00,320 - DEBUG - Order Profit is 0
2018-02-27 15:05:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:00,322 - DEBUG - Stop ID is 0
2018-02-27 15:05:00,322 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:00,323 - DEBUG - Entry ID is 233
2018-02-27 15:05:00,324 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:05:00,326 - DEBUG - OCA ID is 1
2018-02-27 15:05:00,326 - DEBUG - Connecting to IBController
2018-02-27 15:05:01,332 - DEBUG - Connected to IBController
2018-02-27 15:05:01,332 - DEBUG - Position requested
2018-02-27 15:05:01,334 - DEBUG - Pos Mgmt -5
2018-02-27 15:05:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=-5, avgCost=15344.045>
2018-02-27 15:05:01,334 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:05:01,335 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:05:01,335 - DEBUG - Position is -5
2018-02-27 15:05:01,335 - DEBUG - Pos Mgmt -12987
2018-02-27 15:05:01,336 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:05:01,336 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:05:01,336 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:05:01,336 - DEBUG - Position is -12987
2018-02-27 15:05:02,334 - DEBUG - Open Orders requested
2018-02-27 15:05:04,335 - DEBUG - Connecting to database
2018-02-27 15:05:04,342 - DEBUG - Connected to database
2018-02-27 15:05:04,344 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,345 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:05:04,346 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,346 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:05:04,348 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,348 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:05:04,349 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,350 - DEBUG - Stop quantity 1
2018-02-27 15:05:04,351 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,351 - DEBUG - Direction is Long
2018-02-27 15:05:04,353 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,353 - DEBUG - Count is 0
2018-02-27 15:05:04,354 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:05:04,355 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:05:04,356 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:05:04,356 - DEBUG - Max ID Order is (236,)
2018-02-27 15:05:04,357 - DEBUG - Today is 2018-02-27
2018-02-27 15:05:04,357 - DEBUG - Day of the week 1
2018-02-27 15:05:04,357 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:05:04,358 - DEBUG - In Position is  0
2018-02-27 15:05:04,358 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:05:04,358 - DEBUG - curStopLossFlag is  0
2018-02-27 15:05:04,358 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:05:04,359 - DEBUG - Checking if Entry has been filled
2018-02-27 15:05:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:05:04,360 - DEBUG - EntryPend is 1
2018-02-27 15:05:04,361 - DEBUG - Try to Cancel Stop
2018-02-27 15:05:04,361 - DEBUG - Stop API ID 0
2018-02-27 15:05:04,361 - DEBUG - Profit API ID 0
2018-02-27 15:05:04,361 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:05:04,361 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:05:04,362 - DEBUG - Pos is 0
2018-02-27 15:05:04,362 - DEBUG - CurCount is 0
2018-02-27 15:05:04,362 - DEBUG - In Pos 0
2018-02-27 15:05:04,362 - DEBUG - Stop ID is 0
2018-02-27 15:05:04,363 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:05:04,364 - DEBUG - EntryPend is 1
2018-02-27 15:05:04,364 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:05:04,365 - DEBUG - Entry Date is 10
2018-02-27 15:05:04,365 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:05:04,365 - DEBUG - Order Profit ID is 0
2018-02-27 15:05:04,365 - DEBUG - Order Entry ID is 233
2018-02-27 15:05:04,365 - DEBUG - API ID is  0
2018-02-27 15:05:04,366 - DEBUG - Current Position is 0
2018-02-27 15:05:04,366 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:05:04,366 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:05:04,367 - DEBUG - Time is 15
2018-02-27 15:05:04,367 - DEBUG - Time is <class 'int'>
2018-02-27 15:05:04,367 - DEBUG - Disconnected from IBController
2018-02-27 15:05:04,368 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:10:00,267 - DEBUG - ****************************************************
2018-02-27 15:10:00,268 - DEBUG - Current Time is 03:10PM
2018-02-27 15:10:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:10:00,269 - DEBUG - Connecting to database
2018-02-27 15:10:00,287 - DEBUG - Connected to database
2018-02-27 15:10:00,287 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:00,288 - DEBUG - Order Profit is 0
2018-02-27 15:10:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:00,290 - DEBUG - Stop ID is 0
2018-02-27 15:10:00,290 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:00,292 - DEBUG - Entry ID is 233
2018-02-27 15:10:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:10:00,293 - DEBUG - OCA ID is 1
2018-02-27 15:10:00,294 - DEBUG - Connecting to IBController
2018-02-27 15:10:01,299 - DEBUG - Connected to IBController
2018-02-27 15:10:01,299 - DEBUG - Position requested
2018-02-27 15:10:01,301 - DEBUG - Pos Mgmt -5
2018-02-27 15:10:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001FFCA58>, pos=-5, avgCost=15344.045>
2018-02-27 15:10:01,301 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:10:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:10:01,302 - DEBUG - Position is -5
2018-02-27 15:10:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 15:10:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001FFCBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:10:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:10:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:10:01,303 - DEBUG - Position is -12987
2018-02-27 15:10:02,300 - DEBUG - Open Orders requested
2018-02-27 15:10:04,304 - DEBUG - Connecting to database
2018-02-27 15:10:04,311 - DEBUG - Connected to database
2018-02-27 15:10:04,313 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,313 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:10:04,315 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,315 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:10:04,316 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,317 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:10:04,318 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,318 - DEBUG - Stop quantity 1
2018-02-27 15:10:04,320 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,320 - DEBUG - Direction is Long
2018-02-27 15:10:04,321 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,322 - DEBUG - Count is 0
2018-02-27 15:10:04,323 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:10:04,323 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:10:04,325 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:10:04,325 - DEBUG - Max ID Order is (236,)
2018-02-27 15:10:04,325 - DEBUG - Today is 2018-02-27
2018-02-27 15:10:04,326 - DEBUG - Day of the week 1
2018-02-27 15:10:04,326 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:10:04,326 - DEBUG - In Position is  0
2018-02-27 15:10:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:10:04,327 - DEBUG - curStopLossFlag is  0
2018-02-27 15:10:04,327 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:10:04,327 - DEBUG - Checking if Entry has been filled
2018-02-27 15:10:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:10:04,329 - DEBUG - EntryPend is 1
2018-02-27 15:10:04,329 - DEBUG - Try to Cancel Stop
2018-02-27 15:10:04,329 - DEBUG - Stop API ID 0
2018-02-27 15:10:04,330 - DEBUG - Profit API ID 0
2018-02-27 15:10:04,330 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:10:04,330 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:10:04,330 - DEBUG - Pos is 0
2018-02-27 15:10:04,331 - DEBUG - CurCount is 0
2018-02-27 15:10:04,331 - DEBUG - In Pos 0
2018-02-27 15:10:04,331 - DEBUG - Stop ID is 0
2018-02-27 15:10:04,331 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:10:04,333 - DEBUG - EntryPend is 1
2018-02-27 15:10:04,333 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:10:04,333 - DEBUG - Entry Date is 10
2018-02-27 15:10:04,333 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:10:04,334 - DEBUG - Order Profit ID is 0
2018-02-27 15:10:04,334 - DEBUG - Order Entry ID is 233
2018-02-27 15:10:04,334 - DEBUG - API ID is  0
2018-02-27 15:10:04,334 - DEBUG - Current Position is 0
2018-02-27 15:10:04,334 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:10:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:10:04,335 - DEBUG - Time is 15
2018-02-27 15:10:04,335 - DEBUG - Time is <class 'int'>
2018-02-27 15:10:04,336 - DEBUG - Disconnected from IBController
2018-02-27 15:10:04,337 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:15:00,264 - DEBUG - ****************************************************
2018-02-27 15:15:00,265 - DEBUG - Current Time is 03:15PM
2018-02-27 15:15:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:15:00,265 - DEBUG - Connecting to database
2018-02-27 15:15:00,284 - DEBUG - Connected to database
2018-02-27 15:15:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:00,286 - DEBUG - Order Profit is 0
2018-02-27 15:15:00,287 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:00,288 - DEBUG - Stop ID is 0
2018-02-27 15:15:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:00,290 - DEBUG - Entry ID is 233
2018-02-27 15:15:00,290 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:15:00,292 - DEBUG - OCA ID is 1
2018-02-27 15:15:00,292 - DEBUG - Connecting to IBController
2018-02-27 15:15:01,297 - DEBUG - Connected to IBController
2018-02-27 15:15:01,297 - DEBUG - Position requested
2018-02-27 15:15:01,299 - DEBUG - Pos Mgmt -5
2018-02-27 15:15:01,299 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CA90>, pos=-5, avgCost=15344.045>
2018-02-27 15:15:01,299 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:15:01,300 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:15:01,300 - DEBUG - Position is -5
2018-02-27 15:15:01,300 - DEBUG - Pos Mgmt -12987
2018-02-27 15:15:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:15:01,301 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:15:01,301 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:15:01,301 - DEBUG - Position is -12987
2018-02-27 15:15:02,299 - DEBUG - Open Orders requested
2018-02-27 15:15:04,300 - DEBUG - Connecting to database
2018-02-27 15:15:04,307 - DEBUG - Connected to database
2018-02-27 15:15:04,309 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,309 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:15:04,310 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,311 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:15:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,321 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:15:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,329 - DEBUG - Stop quantity 1
2018-02-27 15:15:04,331 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,331 - DEBUG - Direction is Long
2018-02-27 15:15:04,332 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,333 - DEBUG - Count is 0
2018-02-27 15:15:04,334 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:15:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:15:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:15:04,336 - DEBUG - Max ID Order is (236,)
2018-02-27 15:15:04,337 - DEBUG - Today is 2018-02-27
2018-02-27 15:15:04,337 - DEBUG - Day of the week 1
2018-02-27 15:15:04,337 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:15:04,338 - DEBUG - In Position is  0
2018-02-27 15:15:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:15:04,338 - DEBUG - curStopLossFlag is  0
2018-02-27 15:15:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:15:04,339 - DEBUG - Checking if Entry has been filled
2018-02-27 15:15:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:15:04,341 - DEBUG - EntryPend is 1
2018-02-27 15:15:04,341 - DEBUG - Try to Cancel Stop
2018-02-27 15:15:04,341 - DEBUG - Stop API ID 0
2018-02-27 15:15:04,341 - DEBUG - Profit API ID 0
2018-02-27 15:15:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:15:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:15:04,342 - DEBUG - Pos is 0
2018-02-27 15:15:04,342 - DEBUG - CurCount is 0
2018-02-27 15:15:04,342 - DEBUG - In Pos 0
2018-02-27 15:15:04,343 - DEBUG - Stop ID is 0
2018-02-27 15:15:04,343 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:15:04,344 - DEBUG - EntryPend is 1
2018-02-27 15:15:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:15:04,345 - DEBUG - Entry Date is 10
2018-02-27 15:15:04,345 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:15:04,345 - DEBUG - Order Profit ID is 0
2018-02-27 15:15:04,346 - DEBUG - Order Entry ID is 233
2018-02-27 15:15:04,346 - DEBUG - API ID is  0
2018-02-27 15:15:04,346 - DEBUG - Current Position is 0
2018-02-27 15:15:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:15:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:15:04,347 - DEBUG - Time is 15
2018-02-27 15:15:04,347 - DEBUG - Time is <class 'int'>
2018-02-27 15:15:04,347 - DEBUG - Disconnected from IBController
2018-02-27 15:15:04,347 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:20:00,266 - DEBUG - ****************************************************
2018-02-27 15:20:00,266 - DEBUG - Current Time is 03:20PM
2018-02-27 15:20:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:20:00,267 - DEBUG - Connecting to database
2018-02-27 15:20:03,296 - DEBUG - Connected to database
2018-02-27 15:20:03,297 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:03,298 - DEBUG - Order Profit is 0
2018-02-27 15:20:03,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:03,300 - DEBUG - Stop ID is 0
2018-02-27 15:20:03,300 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:03,302 - DEBUG - Entry ID is 233
2018-02-27 15:20:03,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:20:03,303 - DEBUG - OCA ID is 1
2018-02-27 15:20:03,304 - DEBUG - Connecting to IBController
2018-02-27 15:20:04,309 - DEBUG - Connected to IBController
2018-02-27 15:20:04,309 - DEBUG - Position requested
2018-02-27 15:20:04,310 - DEBUG - Pos Mgmt -5
2018-02-27 15:20:04,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB00>, pos=-5, avgCost=15344.045>
2018-02-27 15:20:04,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:20:04,312 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:20:04,312 - DEBUG - Position is -5
2018-02-27 15:20:04,312 - DEBUG - Pos Mgmt -12987
2018-02-27 15:20:04,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:20:04,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:20:04,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:20:04,314 - DEBUG - Position is -12987
2018-02-27 15:20:05,310 - DEBUG - Open Orders requested
2018-02-27 15:20:07,311 - DEBUG - Connecting to database
2018-02-27 15:20:07,328 - DEBUG - Connected to database
2018-02-27 15:20:07,330 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,330 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:20:07,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,332 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:20:07,333 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,334 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:20:07,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,337 - DEBUG - Stop quantity 1
2018-02-27 15:20:07,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,339 - DEBUG - Direction is Long
2018-02-27 15:20:07,340 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,340 - DEBUG - Count is 0
2018-02-27 15:20:07,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:20:07,342 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:20:07,343 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:20:07,344 - DEBUG - Max ID Order is (236,)
2018-02-27 15:20:07,344 - DEBUG - Today is 2018-02-27
2018-02-27 15:20:07,344 - DEBUG - Day of the week 1
2018-02-27 15:20:07,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:20:07,345 - DEBUG - In Position is  0
2018-02-27 15:20:07,345 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:20:07,346 - DEBUG - curStopLossFlag is  0
2018-02-27 15:20:07,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:20:07,346 - DEBUG - Checking if Entry has been filled
2018-02-27 15:20:07,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:20:07,348 - DEBUG - EntryPend is 1
2018-02-27 15:20:07,348 - DEBUG - Try to Cancel Stop
2018-02-27 15:20:07,348 - DEBUG - Stop API ID 0
2018-02-27 15:20:07,349 - DEBUG - Profit API ID 0
2018-02-27 15:20:07,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:20:07,349 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:20:07,349 - DEBUG - Pos is 0
2018-02-27 15:20:07,349 - DEBUG - CurCount is 0
2018-02-27 15:20:07,350 - DEBUG - In Pos 0
2018-02-27 15:20:07,350 - DEBUG - Stop ID is 0
2018-02-27 15:20:07,350 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:20:07,351 - DEBUG - EntryPend is 1
2018-02-27 15:20:07,352 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:20:07,352 - DEBUG - Entry Date is 10
2018-02-27 15:20:07,352 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:20:07,352 - DEBUG - Order Profit ID is 0
2018-02-27 15:20:07,353 - DEBUG - Order Entry ID is 233
2018-02-27 15:20:07,353 - DEBUG - API ID is  0
2018-02-27 15:20:07,353 - DEBUG - Current Position is 0
2018-02-27 15:20:07,353 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:20:07,353 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:20:07,354 - DEBUG - Time is 15
2018-02-27 15:20:07,354 - DEBUG - Time is <class 'int'>
2018-02-27 15:20:07,354 - DEBUG - Disconnected from IBController
2018-02-27 15:20:07,354 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:25:00,269 - DEBUG - ****************************************************
2018-02-27 15:25:00,269 - DEBUG - Current Time is 03:25PM
2018-02-27 15:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:25:00,270 - DEBUG - Connecting to database
2018-02-27 15:25:00,287 - DEBUG - Connected to database
2018-02-27 15:25:00,288 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:00,289 - DEBUG - Order Profit is 0
2018-02-27 15:25:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:00,291 - DEBUG - Stop ID is 0
2018-02-27 15:25:00,291 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:00,292 - DEBUG - Entry ID is 233
2018-02-27 15:25:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:25:00,294 - DEBUG - OCA ID is 1
2018-02-27 15:25:00,295 - DEBUG - Connecting to IBController
2018-02-27 15:25:01,299 - DEBUG - Connected to IBController
2018-02-27 15:25:01,299 - DEBUG - Position requested
2018-02-27 15:25:01,301 - DEBUG - Pos Mgmt -5
2018-02-27 15:25:01,301 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CA58>, pos=-5, avgCost=15344.045>
2018-02-27 15:25:01,301 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:25:01,302 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:25:01,302 - DEBUG - Position is -5
2018-02-27 15:25:01,302 - DEBUG - Pos Mgmt -12987
2018-02-27 15:25:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:25:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:25:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:25:01,303 - DEBUG - Position is -12987
2018-02-27 15:25:02,299 - DEBUG - Open Orders requested
2018-02-27 15:25:04,299 - DEBUG - Connecting to database
2018-02-27 15:25:04,308 - DEBUG - Connected to database
2018-02-27 15:25:04,309 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,310 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:25:04,311 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,312 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:25:04,313 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,314 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:25:04,315 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,315 - DEBUG - Stop quantity 1
2018-02-27 15:25:04,317 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,317 - DEBUG - Direction is Long
2018-02-27 15:25:04,318 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,319 - DEBUG - Count is 0
2018-02-27 15:25:04,320 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:25:04,321 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:25:04,322 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:25:04,322 - DEBUG - Max ID Order is (236,)
2018-02-27 15:25:04,323 - DEBUG - Today is 2018-02-27
2018-02-27 15:25:04,323 - DEBUG - Day of the week 1
2018-02-27 15:25:04,323 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:25:04,324 - DEBUG - In Position is  0
2018-02-27 15:25:04,324 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:25:04,324 - DEBUG - curStopLossFlag is  0
2018-02-27 15:25:04,325 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:25:04,325 - DEBUG - Checking if Entry has been filled
2018-02-27 15:25:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:25:04,326 - DEBUG - EntryPend is 1
2018-02-27 15:25:04,327 - DEBUG - Try to Cancel Stop
2018-02-27 15:25:04,327 - DEBUG - Stop API ID 0
2018-02-27 15:25:04,327 - DEBUG - Profit API ID 0
2018-02-27 15:25:04,327 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:25:04,328 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:25:04,328 - DEBUG - Pos is 0
2018-02-27 15:25:04,328 - DEBUG - CurCount is 0
2018-02-27 15:25:04,328 - DEBUG - In Pos 0
2018-02-27 15:25:04,329 - DEBUG - Stop ID is 0
2018-02-27 15:25:04,329 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:25:04,330 - DEBUG - EntryPend is 1
2018-02-27 15:25:04,331 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:25:04,331 - DEBUG - Entry Date is 10
2018-02-27 15:25:04,331 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:25:04,331 - DEBUG - Order Profit ID is 0
2018-02-27 15:25:04,331 - DEBUG - Order Entry ID is 233
2018-02-27 15:25:04,332 - DEBUG - API ID is  0
2018-02-27 15:25:04,332 - DEBUG - Current Position is 0
2018-02-27 15:25:04,332 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:25:04,332 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:25:04,333 - DEBUG - Time is 15
2018-02-27 15:25:04,333 - DEBUG - Time is <class 'int'>
2018-02-27 15:25:04,333 - DEBUG - Disconnected from IBController
2018-02-27 15:25:04,334 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:30:00,265 - DEBUG - ****************************************************
2018-02-27 15:30:00,266 - DEBUG - Current Time is 03:30PM
2018-02-27 15:30:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:30:00,267 - DEBUG - Connecting to database
2018-02-27 15:30:00,316 - DEBUG - Connected to database
2018-02-27 15:30:00,316 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:00,318 - DEBUG - Order Profit is 0
2018-02-27 15:30:00,318 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:00,320 - DEBUG - Stop ID is 0
2018-02-27 15:30:00,320 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:00,321 - DEBUG - Entry ID is 233
2018-02-27 15:30:00,322 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:30:00,323 - DEBUG - OCA ID is 1
2018-02-27 15:30:00,323 - DEBUG - Connecting to IBController
2018-02-27 15:30:01,328 - DEBUG - Connected to IBController
2018-02-27 15:30:01,328 - DEBUG - Position requested
2018-02-27 15:30:01,330 - DEBUG - Pos Mgmt -5
2018-02-27 15:30:01,330 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DA90>, pos=-5, avgCost=15344.045>
2018-02-27 15:30:01,330 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:30:01,331 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:30:01,331 - DEBUG - Position is -5
2018-02-27 15:30:01,331 - DEBUG - Pos Mgmt -12987
2018-02-27 15:30:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:30:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:30:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:30:01,332 - DEBUG - Position is -12987
2018-02-27 15:30:02,330 - DEBUG - Open Orders requested
2018-02-27 15:30:04,331 - DEBUG - Connecting to database
2018-02-27 15:30:04,338 - DEBUG - Connected to database
2018-02-27 15:30:04,340 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,340 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:30:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,342 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:30:04,343 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,344 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:30:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,346 - DEBUG - Stop quantity 1
2018-02-27 15:30:04,347 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,347 - DEBUG - Direction is Long
2018-02-27 15:30:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,349 - DEBUG - Count is 0
2018-02-27 15:30:04,350 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:30:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:30:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:30:04,352 - DEBUG - Max ID Order is (236,)
2018-02-27 15:30:04,353 - DEBUG - Today is 2018-02-27
2018-02-27 15:30:04,353 - DEBUG - Day of the week 1
2018-02-27 15:30:04,353 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:30:04,354 - DEBUG - In Position is  0
2018-02-27 15:30:04,354 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:30:04,354 - DEBUG - curStopLossFlag is  0
2018-02-27 15:30:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:30:04,355 - DEBUG - Checking if Entry has been filled
2018-02-27 15:30:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:30:04,357 - DEBUG - EntryPend is 1
2018-02-27 15:30:04,357 - DEBUG - Try to Cancel Stop
2018-02-27 15:30:04,357 - DEBUG - Stop API ID 0
2018-02-27 15:30:04,358 - DEBUG - Profit API ID 0
2018-02-27 15:30:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:30:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:30:04,358 - DEBUG - Pos is 0
2018-02-27 15:30:04,358 - DEBUG - CurCount is 0
2018-02-27 15:30:04,359 - DEBUG - In Pos 0
2018-02-27 15:30:04,359 - DEBUG - Stop ID is 0
2018-02-27 15:30:04,359 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:30:04,361 - DEBUG - EntryPend is 1
2018-02-27 15:30:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:30:04,361 - DEBUG - Entry Date is 10
2018-02-27 15:30:04,361 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:30:04,362 - DEBUG - Order Profit ID is 0
2018-02-27 15:30:04,362 - DEBUG - Order Entry ID is 233
2018-02-27 15:30:04,362 - DEBUG - API ID is  0
2018-02-27 15:30:04,362 - DEBUG - Current Position is 0
2018-02-27 15:30:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:30:04,363 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:30:04,363 - DEBUG - Time is 15
2018-02-27 15:30:04,363 - DEBUG - Time is <class 'int'>
2018-02-27 15:30:04,363 - DEBUG - Disconnected from IBController
2018-02-27 15:30:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:35:00,275 - DEBUG - ****************************************************
2018-02-27 15:35:00,275 - DEBUG - Current Time is 03:35PM
2018-02-27 15:35:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:35:00,276 - DEBUG - Connecting to database
2018-02-27 15:35:00,318 - DEBUG - Connected to database
2018-02-27 15:35:00,318 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:00,320 - DEBUG - Order Profit is 0
2018-02-27 15:35:00,320 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:00,321 - DEBUG - Stop ID is 0
2018-02-27 15:35:00,322 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:00,323 - DEBUG - Entry ID is 233
2018-02-27 15:35:00,324 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:35:00,325 - DEBUG - OCA ID is 1
2018-02-27 15:35:00,325 - DEBUG - Connecting to IBController
2018-02-27 15:35:01,330 - DEBUG - Connected to IBController
2018-02-27 15:35:01,330 - DEBUG - Position requested
2018-02-27 15:35:01,331 - DEBUG - Pos Mgmt -5
2018-02-27 15:35:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, pos=-5, avgCost=15344.045>
2018-02-27 15:35:01,332 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:35:01,332 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:35:01,333 - DEBUG - Position is -5
2018-02-27 15:35:01,333 - DEBUG - Pos Mgmt -12987
2018-02-27 15:35:01,333 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:35:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:35:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:35:01,334 - DEBUG - Position is -12987
2018-02-27 15:35:02,331 - DEBUG - Open Orders requested
2018-02-27 15:35:04,332 - DEBUG - Connecting to database
2018-02-27 15:35:04,340 - DEBUG - Connected to database
2018-02-27 15:35:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,342 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:35:04,343 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,344 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:35:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,345 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:35:04,347 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,347 - DEBUG - Stop quantity 1
2018-02-27 15:35:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,349 - DEBUG - Direction is Long
2018-02-27 15:35:04,350 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,350 - DEBUG - Count is 0
2018-02-27 15:35:04,352 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:35:04,352 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:35:04,353 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:35:04,354 - DEBUG - Max ID Order is (236,)
2018-02-27 15:35:04,354 - DEBUG - Today is 2018-02-27
2018-02-27 15:35:04,355 - DEBUG - Day of the week 1
2018-02-27 15:35:04,355 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:35:04,355 - DEBUG - In Position is  0
2018-02-27 15:35:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:35:04,356 - DEBUG - curStopLossFlag is  0
2018-02-27 15:35:04,356 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:35:04,356 - DEBUG - Checking if Entry has been filled
2018-02-27 15:35:04,356 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:35:04,358 - DEBUG - EntryPend is 1
2018-02-27 15:35:04,358 - DEBUG - Try to Cancel Stop
2018-02-27 15:35:04,358 - DEBUG - Stop API ID 0
2018-02-27 15:35:04,358 - DEBUG - Profit API ID 0
2018-02-27 15:35:04,359 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:35:04,359 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:35:04,359 - DEBUG - Pos is 0
2018-02-27 15:35:04,359 - DEBUG - CurCount is 0
2018-02-27 15:35:04,360 - DEBUG - In Pos 0
2018-02-27 15:35:04,360 - DEBUG - Stop ID is 0
2018-02-27 15:35:04,360 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:35:04,362 - DEBUG - EntryPend is 1
2018-02-27 15:35:04,362 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:35:04,362 - DEBUG - Entry Date is 10
2018-02-27 15:35:04,363 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:35:04,363 - DEBUG - Order Profit ID is 0
2018-02-27 15:35:04,363 - DEBUG - Order Entry ID is 233
2018-02-27 15:35:04,363 - DEBUG - API ID is  0
2018-02-27 15:35:04,364 - DEBUG - Current Position is 0
2018-02-27 15:35:04,364 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:35:04,364 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:35:04,364 - DEBUG - Time is 15
2018-02-27 15:35:04,364 - DEBUG - Time is <class 'int'>
2018-02-27 15:35:04,365 - DEBUG - Disconnected from IBController
2018-02-27 15:35:04,365 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:40:00,271 - DEBUG - ****************************************************
2018-02-27 15:40:00,271 - DEBUG - Current Time is 03:40PM
2018-02-27 15:40:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:40:00,272 - DEBUG - Connecting to database
2018-02-27 15:40:00,297 - DEBUG - Connected to database
2018-02-27 15:40:00,297 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:00,299 - DEBUG - Order Profit is 0
2018-02-27 15:40:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:00,301 - DEBUG - Stop ID is 0
2018-02-27 15:40:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:00,303 - DEBUG - Entry ID is 233
2018-02-27 15:40:00,303 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:40:00,304 - DEBUG - OCA ID is 1
2018-02-27 15:40:00,305 - DEBUG - Connecting to IBController
2018-02-27 15:40:01,309 - DEBUG - Connected to IBController
2018-02-27 15:40:01,309 - DEBUG - Position requested
2018-02-27 15:40:01,311 - DEBUG - Pos Mgmt -5
2018-02-27 15:40:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DA90>, pos=-5, avgCost=15344.045>
2018-02-27 15:40:01,311 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:40:01,312 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:40:01,312 - DEBUG - Position is -5
2018-02-27 15:40:01,312 - DEBUG - Pos Mgmt -12987
2018-02-27 15:40:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:40:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:40:01,313 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:40:01,313 - DEBUG - Position is -12987
2018-02-27 15:40:02,311 - DEBUG - Open Orders requested
2018-02-27 15:40:04,312 - DEBUG - Connecting to database
2018-02-27 15:40:04,319 - DEBUG - Connected to database
2018-02-27 15:40:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,321 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:40:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,323 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:40:04,324 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,325 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:40:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,326 - DEBUG - Stop quantity 1
2018-02-27 15:40:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,328 - DEBUG - Direction is Long
2018-02-27 15:40:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,330 - DEBUG - Count is 0
2018-02-27 15:40:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:40:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:40:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:40:04,334 - DEBUG - Max ID Order is (236,)
2018-02-27 15:40:04,335 - DEBUG - Today is 2018-02-27
2018-02-27 15:40:04,335 - DEBUG - Day of the week 1
2018-02-27 15:40:04,335 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:40:04,336 - DEBUG - In Position is  0
2018-02-27 15:40:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:40:04,336 - DEBUG - curStopLossFlag is  0
2018-02-27 15:40:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:40:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 15:40:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:40:04,338 - DEBUG - EntryPend is 1
2018-02-27 15:40:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 15:40:04,339 - DEBUG - Stop API ID 0
2018-02-27 15:40:04,339 - DEBUG - Profit API ID 0
2018-02-27 15:40:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:40:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:40:04,340 - DEBUG - Pos is 0
2018-02-27 15:40:04,340 - DEBUG - CurCount is 0
2018-02-27 15:40:04,340 - DEBUG - In Pos 0
2018-02-27 15:40:04,340 - DEBUG - Stop ID is 0
2018-02-27 15:40:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:40:04,342 - DEBUG - EntryPend is 1
2018-02-27 15:40:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:40:04,342 - DEBUG - Entry Date is 10
2018-02-27 15:40:04,343 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:40:04,343 - DEBUG - Order Profit ID is 0
2018-02-27 15:40:04,343 - DEBUG - Order Entry ID is 233
2018-02-27 15:40:04,343 - DEBUG - API ID is  0
2018-02-27 15:40:04,344 - DEBUG - Current Position is 0
2018-02-27 15:40:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:40:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:40:04,344 - DEBUG - Time is 15
2018-02-27 15:40:04,345 - DEBUG - Time is <class 'int'>
2018-02-27 15:40:04,345 - DEBUG - Disconnected from IBController
2018-02-27 15:40:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:45:00,275 - DEBUG - ****************************************************
2018-02-27 15:45:00,275 - DEBUG - Current Time is 03:45PM
2018-02-27 15:45:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:45:00,276 - DEBUG - Connecting to database
2018-02-27 15:45:00,327 - DEBUG - Connected to database
2018-02-27 15:45:00,328 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:00,329 - DEBUG - Order Profit is 0
2018-02-27 15:45:00,330 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:00,331 - DEBUG - Stop ID is 0
2018-02-27 15:45:00,331 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:00,333 - DEBUG - Entry ID is 233
2018-02-27 15:45:00,333 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:45:00,334 - DEBUG - OCA ID is 1
2018-02-27 15:45:00,335 - DEBUG - Connecting to IBController
2018-02-27 15:45:01,339 - DEBUG - Connected to IBController
2018-02-27 15:45:01,339 - DEBUG - Position requested
2018-02-27 15:45:01,340 - DEBUG - Pos Mgmt -5
2018-02-27 15:45:01,341 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CB00>, pos=-5, avgCost=15344.045>
2018-02-27 15:45:01,341 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:45:01,341 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:45:01,342 - DEBUG - Position is -5
2018-02-27 15:45:01,342 - DEBUG - Pos Mgmt -12987
2018-02-27 15:45:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:45:01,343 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:45:01,343 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:45:01,343 - DEBUG - Position is -12987
2018-02-27 15:45:02,341 - DEBUG - Open Orders requested
2018-02-27 15:45:04,342 - DEBUG - Connecting to database
2018-02-27 15:45:04,351 - DEBUG - Connected to database
2018-02-27 15:45:04,353 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,353 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:45:04,355 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,355 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:45:04,357 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,357 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:45:04,358 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,359 - DEBUG - Stop quantity 1
2018-02-27 15:45:04,360 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,360 - DEBUG - Direction is Long
2018-02-27 15:45:04,362 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,362 - DEBUG - Count is 0
2018-02-27 15:45:04,364 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:45:04,364 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:45:04,366 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:45:04,366 - DEBUG - Max ID Order is (236,)
2018-02-27 15:45:04,366 - DEBUG - Today is 2018-02-27
2018-02-27 15:45:04,367 - DEBUG - Day of the week 1
2018-02-27 15:45:04,367 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:45:04,367 - DEBUG - In Position is  0
2018-02-27 15:45:04,368 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:45:04,368 - DEBUG - curStopLossFlag is  0
2018-02-27 15:45:04,368 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:45:04,368 - DEBUG - Checking if Entry has been filled
2018-02-27 15:45:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:45:04,370 - DEBUG - EntryPend is 1
2018-02-27 15:45:04,371 - DEBUG - Try to Cancel Stop
2018-02-27 15:45:04,371 - DEBUG - Stop API ID 0
2018-02-27 15:45:04,371 - DEBUG - Profit API ID 0
2018-02-27 15:45:04,371 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:45:04,371 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:45:04,372 - DEBUG - Pos is 0
2018-02-27 15:45:04,372 - DEBUG - CurCount is 0
2018-02-27 15:45:04,372 - DEBUG - In Pos 0
2018-02-27 15:45:04,372 - DEBUG - Stop ID is 0
2018-02-27 15:45:04,373 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:45:04,374 - DEBUG - EntryPend is 1
2018-02-27 15:45:04,374 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:45:04,375 - DEBUG - Entry Date is 10
2018-02-27 15:45:04,375 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:45:04,375 - DEBUG - Order Profit ID is 0
2018-02-27 15:45:04,375 - DEBUG - Order Entry ID is 233
2018-02-27 15:45:04,376 - DEBUG - API ID is  0
2018-02-27 15:45:04,376 - DEBUG - Current Position is 0
2018-02-27 15:45:04,376 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:45:04,376 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:45:04,376 - DEBUG - Time is 15
2018-02-27 15:45:04,377 - DEBUG - Time is <class 'int'>
2018-02-27 15:45:04,377 - DEBUG - Disconnected from IBController
2018-02-27 15:45:04,379 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:50:00,264 - DEBUG - ****************************************************
2018-02-27 15:50:00,265 - DEBUG - Current Time is 03:50PM
2018-02-27 15:50:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:50:00,265 - DEBUG - Connecting to database
2018-02-27 15:50:00,301 - DEBUG - Connected to database
2018-02-27 15:50:00,301 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:00,303 - DEBUG - Order Profit is 0
2018-02-27 15:50:00,303 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:00,305 - DEBUG - Stop ID is 0
2018-02-27 15:50:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:00,306 - DEBUG - Entry ID is 233
2018-02-27 15:50:00,307 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:50:00,308 - DEBUG - OCA ID is 1
2018-02-27 15:50:00,308 - DEBUG - Connecting to IBController
2018-02-27 15:50:01,314 - DEBUG - Connected to IBController
2018-02-27 15:50:01,314 - DEBUG - Position requested
2018-02-27 15:50:01,316 - DEBUG - Pos Mgmt -5
2018-02-27 15:50:01,316 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-5, avgCost=15344.045>
2018-02-27 15:50:01,317 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:50:01,318 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:50:01,318 - DEBUG - Position is -5
2018-02-27 15:50:01,319 - DEBUG - Pos Mgmt -12987
2018-02-27 15:50:01,319 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:50:01,319 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:50:01,319 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:50:01,320 - DEBUG - Position is -12987
2018-02-27 15:50:02,316 - DEBUG - Open Orders requested
2018-02-27 15:50:04,317 - DEBUG - Connecting to database
2018-02-27 15:50:04,324 - DEBUG - Connected to database
2018-02-27 15:50:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,326 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:50:04,327 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,328 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:50:04,329 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,330 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:50:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,331 - DEBUG - Stop quantity 1
2018-02-27 15:50:04,333 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,333 - DEBUG - Direction is Long
2018-02-27 15:50:04,334 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,335 - DEBUG - Count is 0
2018-02-27 15:50:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:50:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:50:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:50:04,338 - DEBUG - Max ID Order is (236,)
2018-02-27 15:50:04,338 - DEBUG - Today is 2018-02-27
2018-02-27 15:50:04,339 - DEBUG - Day of the week 1
2018-02-27 15:50:04,339 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:50:04,339 - DEBUG - In Position is  0
2018-02-27 15:50:04,340 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:50:04,340 - DEBUG - curStopLossFlag is  0
2018-02-27 15:50:04,340 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:50:04,340 - DEBUG - Checking if Entry has been filled
2018-02-27 15:50:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:50:04,342 - DEBUG - EntryPend is 1
2018-02-27 15:50:04,342 - DEBUG - Try to Cancel Stop
2018-02-27 15:50:04,343 - DEBUG - Stop API ID 0
2018-02-27 15:50:04,343 - DEBUG - Profit API ID 0
2018-02-27 15:50:04,343 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:50:04,343 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:50:04,344 - DEBUG - Pos is 0
2018-02-27 15:50:04,344 - DEBUG - CurCount is 0
2018-02-27 15:50:04,344 - DEBUG - In Pos 0
2018-02-27 15:50:04,344 - DEBUG - Stop ID is 0
2018-02-27 15:50:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:50:04,346 - DEBUG - EntryPend is 1
2018-02-27 15:50:04,346 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:50:04,346 - DEBUG - Entry Date is 10
2018-02-27 15:50:04,347 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:50:04,347 - DEBUG - Order Profit ID is 0
2018-02-27 15:50:04,347 - DEBUG - Order Entry ID is 233
2018-02-27 15:50:04,347 - DEBUG - API ID is  0
2018-02-27 15:50:04,348 - DEBUG - Current Position is 0
2018-02-27 15:50:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:50:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:50:04,348 - DEBUG - Time is 15
2018-02-27 15:50:04,348 - DEBUG - Time is <class 'int'>
2018-02-27 15:50:04,349 - DEBUG - Disconnected from IBController
2018-02-27 15:50:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 15:55:00,267 - DEBUG - ****************************************************
2018-02-27 15:55:00,268 - DEBUG - Current Time is 03:55PM
2018-02-27 15:55:00,268 - DEBUG - Starting Pos Mgmt E S
2018-02-27 15:55:00,268 - DEBUG - Connecting to database
2018-02-27 15:55:00,310 - DEBUG - Connected to database
2018-02-27 15:55:00,311 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:00,312 - DEBUG - Order Profit is 0
2018-02-27 15:55:00,312 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:00,314 - DEBUG - Stop ID is 0
2018-02-27 15:55:00,314 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:00,315 - DEBUG - Entry ID is 233
2018-02-27 15:55:00,316 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 15:55:00,317 - DEBUG - OCA ID is 1
2018-02-27 15:55:00,317 - DEBUG - Connecting to IBController
2018-02-27 15:55:01,322 - DEBUG - Connected to IBController
2018-02-27 15:55:01,322 - DEBUG - Position requested
2018-02-27 15:55:01,324 - DEBUG - Pos Mgmt -5
2018-02-27 15:55:01,324 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-5, avgCost=15344.045>
2018-02-27 15:55:01,325 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 15:55:01,325 - DEBUG - ccy2 Currency with position is USD
2018-02-27 15:55:01,325 - DEBUG - Position is -5
2018-02-27 15:55:01,326 - DEBUG - Pos Mgmt -12987
2018-02-27 15:55:01,326 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 15:55:01,326 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 15:55:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 15:55:01,327 - DEBUG - Position is -12987
2018-02-27 15:55:02,323 - DEBUG - Open Orders requested
2018-02-27 15:55:04,324 - DEBUG - Connecting to database
2018-02-27 15:55:04,332 - DEBUG - Connected to database
2018-02-27 15:55:04,333 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,334 - DEBUG - Stop loss value is 2742.75
2018-02-27 15:55:04,335 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,335 - DEBUG - Stop loss value is 2797.0
2018-02-27 15:55:04,337 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,337 - DEBUG - EntryPrice value is 2787.5
2018-02-27 15:55:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,339 - DEBUG - Stop quantity 1
2018-02-27 15:55:04,340 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,340 - DEBUG - Direction is Long
2018-02-27 15:55:04,342 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,342 - DEBUG - Count is 0
2018-02-27 15:55:04,344 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 15:55:04,344 - DEBUG - Stop Loss Flag is 0
2018-02-27 15:55:04,345 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 15:55:04,345 - DEBUG - Max ID Order is (236,)
2018-02-27 15:55:04,346 - DEBUG - Today is 2018-02-27
2018-02-27 15:55:04,346 - DEBUG - Day of the week 1
2018-02-27 15:55:04,347 - DEBUG - Yesterday is 02/26/2018
2018-02-27 15:55:04,347 - DEBUG - In Position is  0
2018-02-27 15:55:04,347 - DEBUG - In Position is  <class 'int'>
2018-02-27 15:55:04,347 - DEBUG - curStopLossFlag is  0
2018-02-27 15:55:04,348 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 15:55:04,348 - DEBUG - Checking if Entry has been filled
2018-02-27 15:55:04,348 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:55:04,350 - DEBUG - EntryPend is 1
2018-02-27 15:55:04,350 - DEBUG - Try to Cancel Stop
2018-02-27 15:55:04,350 - DEBUG - Stop API ID 0
2018-02-27 15:55:04,350 - DEBUG - Profit API ID 0
2018-02-27 15:55:04,350 - DEBUG - Stop API ID <class 'int'>
2018-02-27 15:55:04,351 - DEBUG - Profit API ID <class 'int'>
2018-02-27 15:55:04,351 - DEBUG - Pos is 0
2018-02-27 15:55:04,351 - DEBUG - CurCount is 0
2018-02-27 15:55:04,351 - DEBUG - In Pos 0
2018-02-27 15:55:04,352 - DEBUG - Stop ID is 0
2018-02-27 15:55:04,352 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 15:55:04,353 - DEBUG - EntryPend is 1
2018-02-27 15:55:04,353 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 15:55:04,354 - DEBUG - Entry Date is 10
2018-02-27 15:55:04,354 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 15:55:04,354 - DEBUG - Order Profit ID is 0
2018-02-27 15:55:04,354 - DEBUG - Order Entry ID is 233
2018-02-27 15:55:04,355 - DEBUG - API ID is  0
2018-02-27 15:55:04,355 - DEBUG - Current Position is 0
2018-02-27 15:55:04,355 - DEBUG - Current Position is <class 'str'>
2018-02-27 15:55:04,355 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 15:55:04,356 - DEBUG - Time is 15
2018-02-27 15:55:04,356 - DEBUG - Time is <class 'int'>
2018-02-27 15:55:04,356 - DEBUG - Disconnected from IBController
2018-02-27 15:55:04,357 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 16:00:00,274 - DEBUG - ****************************************************
2018-02-27 16:00:00,274 - DEBUG - Current Time is 04:00PM
2018-02-27 16:00:00,274 - DEBUG - Starting Pos Mgmt E S
2018-02-27 16:00:00,275 - DEBUG - Connecting to database
2018-02-27 16:00:00,299 - DEBUG - Connected to database
2018-02-27 16:00:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:00,301 - DEBUG - Order Profit is 0
2018-02-27 16:00:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:00,303 - DEBUG - Stop ID is 0
2018-02-27 16:00:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:00,305 - DEBUG - Entry ID is 233
2018-02-27 16:00:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 16:00:00,306 - DEBUG - OCA ID is 1
2018-02-27 16:00:00,307 - DEBUG - Connecting to IBController
2018-02-27 16:00:01,311 - DEBUG - Connected to IBController
2018-02-27 16:00:01,311 - DEBUG - Position requested
2018-02-27 16:00:01,313 - DEBUG - Pos Mgmt 0
2018-02-27 16:00:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=0, avgCost=0.0>
2018-02-27 16:00:01,313 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 16:00:01,314 - DEBUG - ccy2 Currency with position is USD
2018-02-27 16:00:01,314 - DEBUG - Position is 0
2018-02-27 16:00:01,314 - DEBUG - Pos Mgmt -12987
2018-02-27 16:00:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 16:00:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 16:00:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 16:00:01,315 - DEBUG - Position is -12987
2018-02-27 16:00:02,313 - DEBUG - Open Orders requested
2018-02-27 16:00:04,314 - DEBUG - Connecting to database
2018-02-27 16:00:04,321 - DEBUG - Connected to database
2018-02-27 16:00:04,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,323 - DEBUG - Stop loss value is 2742.75
2018-02-27 16:00:04,324 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,325 - DEBUG - Stop loss value is 2797.0
2018-02-27 16:00:04,326 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,326 - DEBUG - EntryPrice value is 2787.5
2018-02-27 16:00:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,328 - DEBUG - Stop quantity 1
2018-02-27 16:00:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,330 - DEBUG - Direction is Long
2018-02-27 16:00:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,331 - DEBUG - Count is 0
2018-02-27 16:00:04,333 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 16:00:04,333 - DEBUG - Stop Loss Flag is 0
2018-02-27 16:00:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 16:00:04,335 - DEBUG - Max ID Order is (237,)
2018-02-27 16:00:04,335 - DEBUG - Today is 2018-02-27
2018-02-27 16:00:04,336 - DEBUG - Day of the week 1
2018-02-27 16:00:04,336 - DEBUG - Yesterday is 02/26/2018
2018-02-27 16:00:04,336 - DEBUG - In Position is  0
2018-02-27 16:00:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-27 16:00:04,337 - DEBUG - curStopLossFlag is  0
2018-02-27 16:00:04,337 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 16:00:04,337 - DEBUG - Checking if Entry has been filled
2018-02-27 16:00:04,337 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:00:04,339 - DEBUG - EntryPend is 1
2018-02-27 16:00:04,339 - DEBUG - Try to Cancel Stop
2018-02-27 16:00:04,339 - DEBUG - Stop API ID 0
2018-02-27 16:00:04,339 - DEBUG - Profit API ID 0
2018-02-27 16:00:04,340 - DEBUG - Stop API ID <class 'int'>
2018-02-27 16:00:04,340 - DEBUG - Profit API ID <class 'int'>
2018-02-27 16:00:04,340 - DEBUG - Pos is 0
2018-02-27 16:00:04,340 - DEBUG - CurCount is 0
2018-02-27 16:00:04,341 - DEBUG - In Pos 0
2018-02-27 16:00:04,341 - DEBUG - Stop ID is 0
2018-02-27 16:00:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:00:04,342 - DEBUG - EntryPend is 1
2018-02-27 16:00:04,343 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 16:00:04,343 - DEBUG - Entry Date is 10
2018-02-27 16:00:04,343 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 16:00:04,343 - DEBUG - Order Profit ID is 0
2018-02-27 16:00:04,344 - DEBUG - Order Entry ID is 233
2018-02-27 16:00:04,344 - DEBUG - API ID is  0
2018-02-27 16:00:04,344 - DEBUG - Current Position is 0
2018-02-27 16:00:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-27 16:00:04,345 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 16:00:04,345 - DEBUG - Time is 16
2018-02-27 16:00:04,345 - DEBUG - Time is <class 'int'>
2018-02-27 16:00:04,345 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 16:00:04,346 - ERROR - Canceled Order 233
2018-02-27 16:00:04,346 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 233;
2018-02-27 16:00:04,362 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-27 16:00:04,377 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-27 16:00:04,392 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-27 16:00:04,409 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-27 16:00:04,428 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-27 16:00:04,444 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-27 16:00:04,462 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-27 16:00:04,476 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-27 16:00:04,491 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-27 16:00:04,505 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-27 16:00:04,521 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-27 16:00:04,536 - DEBUG - Disconnected from IBController
2018-02-27 16:00:04,536 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 16:05:00,275 - DEBUG - ****************************************************
2018-02-27 16:05:00,275 - DEBUG - Current Time is 04:05PM
2018-02-27 16:05:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 16:05:00,276 - DEBUG - Connecting to database
2018-02-27 16:05:00,295 - DEBUG - Connected to database
2018-02-27 16:05:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:00,297 - DEBUG - Order Profit is 0
2018-02-27 16:05:00,297 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:00,298 - DEBUG - Stop ID is 0
2018-02-27 16:05:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:00,300 - DEBUG - Entry ID is 0
2018-02-27 16:05:00,300 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 16:05:00,302 - DEBUG - OCA ID is 1
2018-02-27 16:05:00,302 - DEBUG - Connecting to IBController
2018-02-27 16:05:01,307 - DEBUG - Connected to IBController
2018-02-27 16:05:01,307 - DEBUG - Position requested
2018-02-27 16:05:01,309 - DEBUG - Pos Mgmt 0
2018-02-27 16:05:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, pos=0, avgCost=0.0>
2018-02-27 16:05:01,309 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 16:05:01,310 - DEBUG - ccy2 Currency with position is USD
2018-02-27 16:05:01,310 - DEBUG - Position is 0
2018-02-27 16:05:01,310 - DEBUG - Pos Mgmt -12987
2018-02-27 16:05:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 16:05:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 16:05:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 16:05:01,311 - DEBUG - Position is -12987
2018-02-27 16:05:02,308 - DEBUG - Open Orders requested
2018-02-27 16:05:04,309 - DEBUG - Connecting to database
2018-02-27 16:05:04,316 - DEBUG - Connected to database
2018-02-27 16:05:04,317 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,318 - DEBUG - Stop loss value is 0
2018-02-27 16:05:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,320 - DEBUG - Stop loss value is 0
2018-02-27 16:05:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,321 - DEBUG - EntryPrice value is 0
2018-02-27 16:05:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,323 - DEBUG - Stop quantity 0
2018-02-27 16:05:04,324 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,325 - DEBUG - Direction is 0
2018-02-27 16:05:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,326 - DEBUG - Count is 0
2018-02-27 16:05:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 16:05:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-27 16:05:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 16:05:04,330 - DEBUG - Max ID Order is (237,)
2018-02-27 16:05:04,330 - DEBUG - Today is 2018-02-27
2018-02-27 16:05:04,331 - DEBUG - Day of the week 1
2018-02-27 16:05:04,331 - DEBUG - Yesterday is 02/26/2018
2018-02-27 16:05:04,331 - DEBUG - In Position is  0
2018-02-27 16:05:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-27 16:05:04,332 - DEBUG - curStopLossFlag is  0
2018-02-27 16:05:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 16:05:04,332 - DEBUG - Checking if Entry has been filled
2018-02-27 16:05:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:05:04,334 - DEBUG - EntryPend is 0
2018-02-27 16:05:04,334 - DEBUG - Try to Cancel Stop
2018-02-27 16:05:04,334 - DEBUG - Stop API ID 0
2018-02-27 16:05:04,334 - DEBUG - Profit API ID 0
2018-02-27 16:05:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-27 16:05:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-27 16:05:04,335 - DEBUG - Pos is 0
2018-02-27 16:05:04,335 - DEBUG - CurCount is 0
2018-02-27 16:05:04,335 - DEBUG - In Pos 0
2018-02-27 16:05:04,336 - DEBUG - Stop ID is 0
2018-02-27 16:05:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:05:04,337 - DEBUG - EntryPend is 0
2018-02-27 16:05:04,337 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 16:05:04,338 - DEBUG - Entry Date is 10
2018-02-27 16:05:04,338 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 16:05:04,338 - DEBUG - Order Profit ID is 0
2018-02-27 16:05:04,338 - DEBUG - Order Entry ID is 0
2018-02-27 16:05:04,339 - DEBUG - API ID is  0
2018-02-27 16:05:04,339 - DEBUG - Current Position is 0
2018-02-27 16:05:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-27 16:05:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 16:05:04,340 - DEBUG - Time is 16
2018-02-27 16:05:04,340 - DEBUG - Time is <class 'int'>
2018-02-27 16:05:04,340 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 16:05:04,340 - ERROR - Canceled Order 0
2018-02-27 16:05:04,341 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 16:05:04,356 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-27 16:05:04,370 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-27 16:05:04,384 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-27 16:05:04,399 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-27 16:05:04,413 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-27 16:05:04,431 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-27 16:05:04,445 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-27 16:05:04,461 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-27 16:05:04,476 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-27 16:05:04,490 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-27 16:05:04,504 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-27 16:05:04,519 - DEBUG - Disconnected from IBController
2018-02-27 16:05:04,519 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 16:10:00,275 - DEBUG - ****************************************************
2018-02-27 16:10:00,275 - DEBUG - Current Time is 04:10PM
2018-02-27 16:10:00,276 - DEBUG - Starting Pos Mgmt E S
2018-02-27 16:10:00,276 - DEBUG - Connecting to database
2018-02-27 16:10:00,300 - DEBUG - Connected to database
2018-02-27 16:10:00,300 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:00,302 - DEBUG - Order Profit is 0
2018-02-27 16:10:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:00,303 - DEBUG - Stop ID is 0
2018-02-27 16:10:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:00,305 - DEBUG - Entry ID is 0
2018-02-27 16:10:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 16:10:00,306 - DEBUG - OCA ID is 1
2018-02-27 16:10:00,307 - DEBUG - Connecting to IBController
2018-02-27 16:10:01,314 - DEBUG - Connected to IBController
2018-02-27 16:10:01,314 - DEBUG - Position requested
2018-02-27 16:10:01,320 - DEBUG - Pos Mgmt 0
2018-02-27 16:10:01,321 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA58>, pos=0, avgCost=0.0>
2018-02-27 16:10:01,321 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 16:10:01,321 - DEBUG - ccy2 Currency with position is USD
2018-02-27 16:10:01,322 - DEBUG - Position is 0
2018-02-27 16:10:01,322 - DEBUG - Pos Mgmt -12987
2018-02-27 16:10:01,322 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 16:10:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 16:10:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 16:10:01,323 - DEBUG - Position is -12987
2018-02-27 16:10:02,321 - DEBUG - Open Orders requested
2018-02-27 16:10:04,322 - DEBUG - Connecting to database
2018-02-27 16:10:04,331 - DEBUG - Connected to database
2018-02-27 16:10:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,333 - DEBUG - Stop loss value is 0
2018-02-27 16:10:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,334 - DEBUG - Stop loss value is 0
2018-02-27 16:10:04,336 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,336 - DEBUG - EntryPrice value is 0
2018-02-27 16:10:04,337 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,338 - DEBUG - Stop quantity 0
2018-02-27 16:10:04,339 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,339 - DEBUG - Direction is 0
2018-02-27 16:10:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,341 - DEBUG - Count is 0
2018-02-27 16:10:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-27 16:10:04,343 - DEBUG - Stop Loss Flag is 0
2018-02-27 16:10:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 16:10:04,344 - DEBUG - Max ID Order is (237,)
2018-02-27 16:10:04,345 - DEBUG - Today is 2018-02-27
2018-02-27 16:10:04,345 - DEBUG - Day of the week 1
2018-02-27 16:10:04,345 - DEBUG - Yesterday is 02/26/2018
2018-02-27 16:10:04,346 - DEBUG - In Position is  0
2018-02-27 16:10:04,346 - DEBUG - In Position is  <class 'int'>
2018-02-27 16:10:04,346 - DEBUG - curStopLossFlag is  0
2018-02-27 16:10:04,347 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 16:10:04,347 - DEBUG - Checking if Entry has been filled
2018-02-27 16:10:04,347 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:10:04,348 - DEBUG - EntryPend is 0
2018-02-27 16:10:04,349 - DEBUG - Try to Cancel Stop
2018-02-27 16:10:04,349 - DEBUG - Stop API ID 0
2018-02-27 16:10:04,349 - DEBUG - Profit API ID 0
2018-02-27 16:10:04,349 - DEBUG - Stop API ID <class 'int'>
2018-02-27 16:10:04,350 - DEBUG - Profit API ID <class 'int'>
2018-02-27 16:10:04,350 - DEBUG - Pos is 0
2018-02-27 16:10:04,350 - DEBUG - CurCount is 0
2018-02-27 16:10:04,350 - DEBUG - In Pos 0
2018-02-27 16:10:04,351 - DEBUG - Stop ID is 0
2018-02-27 16:10:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-27 16:10:04,352 - DEBUG - EntryPend is 0
2018-02-27 16:10:04,353 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 16:10:04,353 - DEBUG - Entry Date is 10
2018-02-27 16:10:04,353 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 16:10:04,353 - DEBUG - Order Profit ID is 0
2018-02-27 16:10:04,353 - DEBUG - Order Entry ID is 0
2018-02-27 16:10:04,354 - DEBUG - API ID is  0
2018-02-27 16:10:04,354 - DEBUG - Current Position is 0
2018-02-27 16:10:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-27 16:10:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 16:10:04,355 - DEBUG - Time is 16
2018-02-27 16:10:04,355 - DEBUG - Time is <class 'int'>
2018-02-27 16:10:04,355 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 16:10:04,355 - ERROR - Canceled Order 0
2018-02-27 16:10:04,356 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 16:10:04,372 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-27 16:10:04,387 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-27 16:10:04,402 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-27 16:10:04,417 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-27 16:10:04,436 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-27 16:10:04,452 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-27 16:10:04,466 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-27 16:10:04,482 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-27 16:10:04,498 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-27 16:10:04,512 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-27 16:10:04,526 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-27 16:10:04,540 - DEBUG - Disconnected from IBController
2018-02-27 16:10:04,541 - DEBUG - END POS MGMT SCRIPT :-!
