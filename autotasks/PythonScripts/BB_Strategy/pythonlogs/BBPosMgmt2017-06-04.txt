2017-06-04 19:56:28,125 - DEBUG - ****************************************************
2017-06-04 19:56:28,127 - DEBUG - Current Time is 2017-06-04 19:56:28.127000
2017-06-04 19:56:28,128 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 19:56:28,130 - DEBUG - Connecting to database
2017-06-04 19:56:29,092 - DEBUG - Connected to database
2017-06-04 19:56:29,095 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:29,119 - DEBUG - Order Profit is 0
2017-06-04 19:56:29,121 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:29,144 - DEBUG - Stop ID is 0
2017-06-04 19:56:29,168 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:29,171 - DEBUG - Order Entry is 0
2017-06-04 19:56:29,174 - DEBUG - Connecting to IBController
2017-06-04 19:56:31,744 - DEBUG - Connected to IBController
2017-06-04 19:56:31,750 - DEBUG - Position requested
2017-06-04 19:56:31,769 - DEBUG - Pos Mgmt -50000
2017-06-04 19:56:31,770 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4978>, pos=-50000, avgCost=0.97307>
2017-06-04 19:56:31,773 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 19:56:31,773 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 19:56:31,776 - DEBUG - Position is -50000
2017-06-04 19:56:31,778 - DEBUG - Pos Mgmt 50000
2017-06-04 19:56:31,779 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B5040B8>, pos=50000, avgCost=0.86401>
2017-06-04 19:56:31,779 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 19:56:31,780 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 19:56:31,782 - DEBUG - Position is 50000
2017-06-04 19:56:31,792 - DEBUG - Pos Mgmt -50000
2017-06-04 19:56:31,796 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4978>, pos=-50000, avgCost=1.12434>
2017-06-04 19:56:31,801 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 19:56:31,805 - DEBUG - ccy2 Currency with position is USD
2017-06-04 19:56:31,806 - DEBUG - Position is -50000
2017-06-04 19:56:31,813 - DEBUG - In Position
2017-06-04 19:56:31,815 - DEBUG - Position is 1
2017-06-04 19:56:31,816 - DEBUG - Pos Mgmt -50000
2017-06-04 19:56:31,819 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B5041D0>, pos=-50000, avgCost=0.72857>
2017-06-04 19:56:31,822 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 19:56:31,822 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 19:56:31,825 - DEBUG - Position is -50000
2017-06-04 19:56:31,826 - DEBUG - Pos Mgmt 0
2017-06-04 19:56:31,828 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4978>, pos=0, avgCost=0.0>
2017-06-04 19:56:31,829 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 19:56:31,831 - DEBUG - ccy2 Currency with position is USD
2017-06-04 19:56:31,832 - DEBUG - Position is 0
2017-06-04 19:56:31,835 - DEBUG - Pos Mgmt -135
2017-06-04 19:56:31,835 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B5040B8>, pos=-135, avgCost=111.488>
2017-06-04 19:56:31,836 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 19:56:31,838 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 19:56:31,839 - DEBUG - Position is -135
2017-06-04 19:56:31,841 - DEBUG - Pos Mgmt 2800
2017-06-04 19:56:31,842 - DEBUG - Pos Mgmt 250
2017-06-04 19:56:31,844 - DEBUG - Pos Mgmt 1894
2017-06-04 19:56:31,845 - DEBUG - Pos Mgmt 375
2017-06-04 19:56:31,848 - DEBUG - Pos Mgmt 476
2017-06-04 19:56:31,849 - DEBUG - Pos Mgmt 733
2017-06-04 19:56:31,854 - DEBUG - Pos Mgmt 726
2017-06-04 19:56:31,857 - DEBUG - Pos Mgmt 574
2017-06-04 19:56:31,858 - DEBUG - Pos Mgmt 965
2017-06-04 19:56:31,859 - DEBUG - Pos Mgmt 491
2017-06-04 19:56:32,753 - DEBUG - Open Orders requested
2017-06-04 19:56:32,775 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000B504390>, order=<ib.ext.Order.Order object at 0x000000000B504128>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B5043C8>>
2017-06-04 19:56:32,778 - DEBUG - Order OrderID 20
2017-06-04 19:56:32,779 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 19:56:32,780 - DEBUG - Order status Submitted
2017-06-04 19:56:32,782 - DEBUG - Order Identification 20
2017-06-04 19:56:32,783 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,786 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,786 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,788 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,789 - DEBUG - Entry ID database is 0
2017-06-04 19:56:32,792 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x000000000B5043C8>, order=<ib.ext.Order.Order object at 0x000000000B4E4978>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504518>>
2017-06-04 19:56:32,793 - DEBUG - Order OrderID 19
2017-06-04 19:56:32,795 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 19:56:32,796 - DEBUG - Order status PreSubmitted
2017-06-04 19:56:32,796 - DEBUG - Order Identification 19
2017-06-04 19:56:32,798 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,799 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,799 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,802 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,802 - DEBUG - Entry ID database is 0
2017-06-04 19:56:32,805 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000B504160>, order=<ib.ext.Order.Order object at 0x000000000B5043C8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B4E4978>>
2017-06-04 19:56:32,805 - DEBUG - Order OrderID 18
2017-06-04 19:56:32,806 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 19:56:32,809 - DEBUG - Order status Submitted
2017-06-04 19:56:32,809 - DEBUG - Order Identification 18
2017-06-04 19:56:32,811 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,811 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,812 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,812 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,813 - DEBUG - Entry ID database is 0
2017-06-04 19:56:32,816 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4978>, order=<ib.ext.Order.Order object at 0x000000000B504320>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504470>>
2017-06-04 19:56:32,816 - DEBUG - Order OrderID 13
2017-06-04 19:56:32,819 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 19:56:32,819 - DEBUG - Order status PreSubmitted
2017-06-04 19:56:32,821 - DEBUG - Order Identification 13
2017-06-04 19:56:32,822 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,822 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,823 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,825 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,825 - DEBUG - Entry ID database is 0
2017-06-04 19:56:32,828 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000B504438>, order=<ib.ext.Order.Order object at 0x000000000B5046A0>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B4E4978>>
2017-06-04 19:56:32,828 - DEBUG - Order OrderID 17
2017-06-04 19:56:32,829 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 19:56:32,831 - DEBUG - Order status PreSubmitted
2017-06-04 19:56:32,832 - DEBUG - Order Identification 17
2017-06-04 19:56:32,832 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,834 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,835 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,836 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,836 - DEBUG - Entry ID database is 0
2017-06-04 19:56:32,841 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000B504278>, order=<ib.ext.Order.Order object at 0x000000000B4E4978>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504128>>
2017-06-04 19:56:32,841 - DEBUG - Order OrderID 14
2017-06-04 19:56:32,842 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 19:56:32,844 - DEBUG - Order status Submitted
2017-06-04 19:56:32,844 - DEBUG - Order Identification 14
2017-06-04 19:56:32,845 - DEBUG - Order Identification <type 'int'>
2017-06-04 19:56:32,846 - DEBUG - Profit ID from database is 0
2017-06-04 19:56:32,846 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 19:56:32,848 - DEBUG - Stop ID database is 0
2017-06-04 19:56:32,849 - DEBUG - Entry ID database is 0
2017-06-04 19:56:34,785 - DEBUG - Connecting to database
2017-06-04 19:56:35,214 - DEBUG - Connected to database
2017-06-04 19:56:35,243 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:35,246 - DEBUG - Stop loss value is 0
2017-06-04 19:56:35,270 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:35,273 - DEBUG - Stop quantity 0
2017-06-04 19:56:35,305 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:35,308 - DEBUG - Direction is 0
2017-06-04 19:56:35,336 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:35,339 - DEBUG - Count is 1
2017-06-04 19:56:35,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:56:35,368 - DEBUG - Stop Loss Flag is 1
2017-06-04 19:56:35,368 - DEBUG - Today is 2017-06-04
2017-06-04 19:56:35,369 - DEBUG - Day of the week 6
2017-06-04 19:56:35,371 - DEBUG - Yesterday is 06/03/2017
2017-06-04 19:56:35,371 - DEBUG - In Position is  1
2017-06-04 19:56:35,372 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 19:56:35,374 - DEBUG - Checking if Entry has been filled
2017-06-04 19:56:35,375 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 19:56:35,377 - DEBUG - Order Profit is (u'0',)
2017-06-04 19:56:35,378 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 19:56:35,378 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 19:56:35,380 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000B4E4940>
2017-06-04 19:56:35,381 - DEBUG - Entry Trade Direction is 0
2017-06-04 19:56:35,381 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 19:56:35,464 - DEBUG - Max Positions is (0.0,)
2017-06-04 19:58:33,660 - DEBUG - ****************************************************
2017-06-04 19:58:33,661 - DEBUG - Current Time is 2017-06-04 19:58:33.662000
2017-06-04 19:58:33,664 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 19:58:33,665 - DEBUG - Connecting to database
2017-06-04 19:58:34,102 - DEBUG - Connected to database
2017-06-04 19:58:34,107 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:34,134 - DEBUG - Order Profit is 0
2017-06-04 19:58:34,137 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:34,161 - DEBUG - Stop ID is 0
2017-06-04 19:58:34,190 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:34,194 - DEBUG - Order Entry is 0
2017-06-04 19:58:34,197 - DEBUG - Connecting to IBController
2017-06-04 19:58:36,335 - DEBUG - Connected to IBController
2017-06-04 19:58:36,339 - DEBUG - Position requested
2017-06-04 19:58:37,344 - DEBUG - Open Orders requested
2017-06-04 19:58:39,348 - DEBUG - Connecting to database
2017-06-04 19:58:39,826 - DEBUG - Connected to database
2017-06-04 19:58:39,861 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:39,865 - DEBUG - Stop loss value is 0
2017-06-04 19:58:39,897 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:39,901 - DEBUG - Stop quantity 0
2017-06-04 19:58:39,931 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:39,937 - DEBUG - Direction is 0
2017-06-04 19:58:39,966 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:39,970 - DEBUG - Count is 1
2017-06-04 19:58:40,000 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 19:58:40,003 - DEBUG - Stop Loss Flag is 1
2017-06-04 19:58:40,005 - DEBUG - Today is 2017-06-04
2017-06-04 19:58:40,006 - DEBUG - Day of the week 6
2017-06-04 19:58:40,009 - DEBUG - Yesterday is 06/03/2017
2017-06-04 19:58:40,013 - DEBUG - In Position is  0
2017-06-04 19:58:40,015 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 19:58:40,016 - DEBUG - Checking if Entry has been filled
2017-06-04 19:58:40,019 - DEBUG - Try to Cancel Stop
2017-06-04 19:58:40,022 - DEBUG - Stop API ID 0
2017-06-04 19:58:40,025 - DEBUG - Profit API ID 0
2017-06-04 19:58:40,026 - DEBUG - Pos is 0
2017-06-04 19:58:40,029 - DEBUG - CurCount is 1
2017-06-04 19:58:40,032 - DEBUG - In Pos 0
2017-06-04 19:58:40,035 - DEBUG - Stop ID is 0
2017-06-04 19:58:40,038 - DEBUG - Stop API ID 0
2017-06-04 19:58:40,039 - DEBUG - Profit API ID 0
2017-06-04 19:58:40,042 - DEBUG - Pos is 0
2017-06-04 19:58:40,043 - DEBUG - CurCount is 1
2017-06-04 19:58:40,046 - DEBUG - In Pos 0
2017-06-04 19:58:40,048 - DEBUG - profitID is 0
2017-06-04 19:58:40,049 - DEBUG - stopID is 0
2017-06-04 19:58:40,052 - DEBUG - Entry Date is 10
2017-06-04 19:58:40,053 - DEBUG - confirming yesterday is 06/03/2017
2017-06-04 19:58:40,055 - DEBUG - Order Profit ID is 0
2017-06-04 19:58:40,058 - DEBUG - Order Entry ID is 0
2017-06-04 19:58:40,059 - DEBUG - API ID is  0
2017-06-04 19:58:40,062 - DEBUG - Current Position is 1
2017-06-04 19:58:40,063 - DEBUG - Checking if Positions should be close at EOD
2017-06-04 19:58:40,065 - DEBUG - Disconnected from IBController
2017-06-04 19:58:40,068 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-04 19:59:03,319 - DEBUG - Pos Mgmt 0
2017-06-04 19:59:03,322 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007CCEC88>, pos=0, avgCost=0.0>
2017-06-04 19:59:03,326 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 19:59:03,329 - DEBUG - ccy2 Currency with position is USD
2017-06-04 19:59:03,334 - DEBUG - Position is 0
2017-06-04 20:00:15,119 - DEBUG - ****************************************************
2017-06-04 20:00:15,122 - DEBUG - Current Time is 2017-06-04 20:00:15.123000
2017-06-04 20:00:15,125 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:00:15,128 - DEBUG - Connecting to database
2017-06-04 20:00:15,584 - DEBUG - Connected to database
2017-06-04 20:00:15,591 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:15,632 - DEBUG - Order Profit is 0
2017-06-04 20:00:15,637 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:15,667 - DEBUG - Stop ID is 0
2017-06-04 20:00:15,698 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:15,703 - DEBUG - Order Entry is 0
2017-06-04 20:00:15,706 - DEBUG - Connecting to IBController
2017-06-04 20:00:18,137 - DEBUG - Connected to IBController
2017-06-04 20:00:18,151 - DEBUG - Position requested
2017-06-04 20:00:18,164 - DEBUG - Pos Mgmt -50000
2017-06-04 20:00:18,174 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426F28>, pos=-50000, avgCost=0.97307>
2017-06-04 20:00:18,177 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:00:18,180 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:00:18,183 - DEBUG - Position is -50000
2017-06-04 20:00:18,187 - DEBUG - Pos Mgmt 50000
2017-06-04 20:00:18,190 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, pos=50000, avgCost=0.86401>
2017-06-04 20:00:18,193 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:00:18,196 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:00:18,198 - DEBUG - Position is 50000
2017-06-04 20:00:18,203 - DEBUG - Pos Mgmt -50000
2017-06-04 20:00:18,204 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426438>, pos=-50000, avgCost=1.12434>
2017-06-04 20:00:18,209 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:00:18,210 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:00:18,213 - DEBUG - Position is -50000
2017-06-04 20:00:18,216 - DEBUG - In Position
2017-06-04 20:00:18,219 - DEBUG - Position is 1
2017-06-04 20:00:18,223 - DEBUG - Pos Mgmt -50000
2017-06-04 20:00:18,224 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426F60>, pos=-50000, avgCost=0.72857>
2017-06-04 20:00:18,229 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:00:18,230 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:00:18,234 - DEBUG - Position is -50000
2017-06-04 20:00:18,236 - DEBUG - Pos Mgmt 0
2017-06-04 20:00:18,240 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007CCEC88>, pos=0, avgCost=0.0>
2017-06-04 20:00:18,243 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:00:18,246 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:00:18,249 - DEBUG - Position is 0
2017-06-04 20:00:18,252 - DEBUG - Pos Mgmt -135
2017-06-04 20:00:18,253 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, pos=-135, avgCost=111.488>
2017-06-04 20:00:18,256 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:00:18,259 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:00:18,262 - DEBUG - Position is -135
2017-06-04 20:00:18,265 - DEBUG - Pos Mgmt 2800
2017-06-04 20:00:18,267 - DEBUG - Pos Mgmt 250
2017-06-04 20:00:18,272 - DEBUG - Pos Mgmt 1894
2017-06-04 20:00:18,275 - DEBUG - Pos Mgmt 375
2017-06-04 20:00:18,279 - DEBUG - Pos Mgmt 476
2017-06-04 20:00:18,282 - DEBUG - Pos Mgmt 733
2017-06-04 20:00:18,285 - DEBUG - Pos Mgmt 726
2017-06-04 20:00:18,289 - DEBUG - Pos Mgmt 574
2017-06-04 20:00:18,292 - DEBUG - Pos Mgmt 965
2017-06-04 20:00:18,296 - DEBUG - Pos Mgmt 491
2017-06-04 20:00:19,163 - DEBUG - Open Orders requested
2017-06-04 20:00:19,184 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000C426438>, order=<ib.ext.Order.Order object at 0x0000000007CCEC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426160>>
2017-06-04 20:00:19,193 - DEBUG - Order OrderID 20
2017-06-04 20:00:19,197 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:00:19,200 - DEBUG - Order status Submitted
2017-06-04 20:00:19,203 - DEBUG - Order Identification 20
2017-06-04 20:00:19,206 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,209 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,210 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,213 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,217 - DEBUG - Entry ID database is 0
2017-06-04 20:00:19,221 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x0000000007CCEC88>, order=<ib.ext.Order.Order object at 0x000000000C4260B8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F98>>
2017-06-04 20:00:19,224 - DEBUG - Order OrderID 19
2017-06-04 20:00:19,227 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:00:19,230 - DEBUG - Order status PreSubmitted
2017-06-04 20:00:19,232 - DEBUG - Order Identification 19
2017-06-04 20:00:19,234 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,237 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,240 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,243 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,246 - DEBUG - Entry ID database is 0
2017-06-04 20:00:19,250 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000C4260B8>, order=<ib.ext.Order.Order object at 0x0000000007CCEC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426160>>
2017-06-04 20:00:19,253 - DEBUG - Order OrderID 18
2017-06-04 20:00:19,255 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:00:19,257 - DEBUG - Order status Submitted
2017-06-04 20:00:19,260 - DEBUG - Order Identification 18
2017-06-04 20:00:19,263 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,266 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,269 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,272 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,275 - DEBUG - Entry ID database is 0
2017-06-04 20:00:19,279 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x0000000007CCEC88>, order=<ib.ext.Order.Order object at 0x000000000C426FD0>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F98>>
2017-06-04 20:00:19,282 - DEBUG - Order OrderID 13
2017-06-04 20:00:19,286 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:00:19,289 - DEBUG - Order status PreSubmitted
2017-06-04 20:00:19,292 - DEBUG - Order Identification 13
2017-06-04 20:00:19,295 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,299 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,301 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,303 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,306 - DEBUG - Entry ID database is 0
2017-06-04 20:00:19,312 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000C426F60>, order=<ib.ext.Order.Order object at 0x0000000007CCEC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F98>>
2017-06-04 20:00:19,313 - DEBUG - Order OrderID 17
2017-06-04 20:00:19,318 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:00:19,321 - DEBUG - Order status PreSubmitted
2017-06-04 20:00:19,322 - DEBUG - Order Identification 17
2017-06-04 20:00:19,326 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,328 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,332 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,334 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,339 - DEBUG - Entry ID database is 0
2017-06-04 20:00:19,342 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000C426F98>, order=<ib.ext.Order.Order object at 0x0000000007CCEC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426438>>
2017-06-04 20:00:19,345 - DEBUG - Order OrderID 14
2017-06-04 20:00:19,348 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:00:19,352 - DEBUG - Order status Submitted
2017-06-04 20:00:19,355 - DEBUG - Order Identification 14
2017-06-04 20:00:19,358 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:00:19,361 - DEBUG - Profit ID from database is 0
2017-06-04 20:00:19,364 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:00:19,367 - DEBUG - Stop ID database is 0
2017-06-04 20:00:19,369 - DEBUG - Entry ID database is 0
2017-06-04 20:00:21,170 - DEBUG - Connecting to database
2017-06-04 20:00:21,641 - DEBUG - Connected to database
2017-06-04 20:00:21,678 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:21,681 - DEBUG - Stop loss value is 0
2017-06-04 20:00:21,710 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:21,713 - DEBUG - Stop quantity 0
2017-06-04 20:00:21,739 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:21,742 - DEBUG - Direction is 0
2017-06-04 20:00:21,796 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:21,799 - DEBUG - Count is 1
2017-06-04 20:00:21,823 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:00:21,828 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:00:21,831 - DEBUG - Today is 2017-06-04
2017-06-04 20:00:21,834 - DEBUG - Day of the week 6
2017-06-04 20:00:21,842 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:00:21,855 - DEBUG - In Position is  1
2017-06-04 20:00:21,865 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:00:21,868 - DEBUG - Checking if Entry has been filled
2017-06-04 20:00:21,871 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:00:21,875 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:00:21,878 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:00:21,881 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:00:21,884 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000C426FD0>
2017-06-04 20:00:21,888 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:00:21,891 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:00:21,990 - DEBUG - Max Positions is (0.0,)
2017-06-04 20:02:25,532 - DEBUG - ****************************************************
2017-06-04 20:02:25,536 - DEBUG - Current Time is 2017-06-04 20:02:25.536000
2017-06-04 20:02:25,539 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:02:25,543 - DEBUG - Connecting to database
2017-06-04 20:02:25,987 - DEBUG - Connected to database
2017-06-04 20:02:25,997 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:26,028 - DEBUG - Order Profit is 0
2017-06-04 20:02:26,032 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:26,062 - DEBUG - Stop ID is 0
2017-06-04 20:02:26,096 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:26,101 - DEBUG - Order Entry is 0
2017-06-04 20:02:26,108 - DEBUG - Connecting to IBController
2017-06-04 20:02:28,354 - DEBUG - Connected to IBController
2017-06-04 20:02:28,362 - DEBUG - Position requested
2017-06-04 20:02:28,387 - DEBUG - Pos Mgmt -50000
2017-06-04 20:02:28,391 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, pos=-50000, avgCost=0.97307>
2017-06-04 20:02:28,398 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:02:28,403 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:02:28,407 - DEBUG - Position is -50000
2017-06-04 20:02:28,411 - DEBUG - Pos Mgmt 50000
2017-06-04 20:02:28,414 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426F28>, pos=50000, avgCost=0.86401>
2017-06-04 20:02:28,417 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:02:28,423 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:02:28,427 - DEBUG - Position is 50000
2017-06-04 20:02:28,430 - DEBUG - Pos Mgmt -50000
2017-06-04 20:02:28,434 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3668>, pos=-50000, avgCost=1.12434>
2017-06-04 20:02:28,437 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:02:28,441 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:02:28,446 - DEBUG - Position is -50000
2017-06-04 20:02:28,450 - DEBUG - In Position
2017-06-04 20:02:28,453 - DEBUG - Position is 1
2017-06-04 20:02:28,457 - DEBUG - Pos Mgmt -50000
2017-06-04 20:02:28,460 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426F28>, pos=-50000, avgCost=0.72857>
2017-06-04 20:02:28,466 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:02:28,469 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:02:28,473 - DEBUG - Position is -50000
2017-06-04 20:02:28,476 - DEBUG - Pos Mgmt 0
2017-06-04 20:02:28,480 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, pos=0, avgCost=0.0>
2017-06-04 20:02:28,483 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:02:28,487 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:02:28,492 - DEBUG - Position is 0
2017-06-04 20:02:28,496 - DEBUG - Pos Mgmt -135
2017-06-04 20:02:28,500 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, pos=-135, avgCost=111.488>
2017-06-04 20:02:28,503 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:02:28,506 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:02:28,509 - DEBUG - Position is -135
2017-06-04 20:02:28,515 - DEBUG - Pos Mgmt 2800
2017-06-04 20:02:28,519 - DEBUG - Pos Mgmt 250
2017-06-04 20:02:28,523 - DEBUG - Pos Mgmt 1894
2017-06-04 20:02:28,526 - DEBUG - Pos Mgmt 375
2017-06-04 20:02:28,530 - DEBUG - Pos Mgmt 476
2017-06-04 20:02:28,533 - DEBUG - Pos Mgmt 733
2017-06-04 20:02:28,536 - DEBUG - Pos Mgmt 726
2017-06-04 20:02:28,540 - DEBUG - Pos Mgmt 574
2017-06-04 20:02:28,543 - DEBUG - Pos Mgmt 965
2017-06-04 20:02:28,548 - DEBUG - Pos Mgmt 491
2017-06-04 20:02:29,371 - DEBUG - Open Orders requested
2017-06-04 20:02:29,378 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3390>, order=<ib.ext.Order.Order object at 0x000000000C4D35F8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D35C0>>
2017-06-04 20:02:29,397 - DEBUG - Order OrderID 20
2017-06-04 20:02:29,401 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:02:29,405 - DEBUG - Order status Submitted
2017-06-04 20:02:29,410 - DEBUG - Order Identification 20
2017-06-04 20:02:29,414 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,421 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,426 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,428 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,433 - DEBUG - Entry ID database is 0
2017-06-04 20:02:29,437 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, order=<ib.ext.Order.Order object at 0x000000000C4D37F0>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F28>>
2017-06-04 20:02:29,440 - DEBUG - Order OrderID 19
2017-06-04 20:02:29,444 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:02:29,447 - DEBUG - Order status PreSubmitted
2017-06-04 20:02:29,451 - DEBUG - Order Identification 19
2017-06-04 20:02:29,456 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,459 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,463 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,466 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,470 - DEBUG - Entry ID database is 0
2017-06-04 20:02:29,474 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, order=<ib.ext.Order.Order object at 0x000000000C4D3668>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F28>>
2017-06-04 20:02:29,477 - DEBUG - Order OrderID 18
2017-06-04 20:02:29,482 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:02:29,486 - DEBUG - Order status Submitted
2017-06-04 20:02:29,490 - DEBUG - Order Identification 18
2017-06-04 20:02:29,493 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,496 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,500 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,503 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,507 - DEBUG - Entry ID database is 0
2017-06-04 20:02:29,513 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, order=<ib.ext.Order.Order object at 0x000000000C4D36A0>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426F28>>
2017-06-04 20:02:29,516 - DEBUG - Order OrderID 13
2017-06-04 20:02:29,520 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:02:29,523 - DEBUG - Order status PreSubmitted
2017-06-04 20:02:29,528 - DEBUG - Order Identification 13
2017-06-04 20:02:29,530 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,533 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,538 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,540 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,545 - DEBUG - Entry ID database is 0
2017-06-04 20:02:29,552 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000C426160>, order=<ib.ext.Order.Order object at 0x000000000C426F28>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3860>>
2017-06-04 20:02:29,556 - DEBUG - Order OrderID 17
2017-06-04 20:02:29,561 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:02:29,565 - DEBUG - Order status PreSubmitted
2017-06-04 20:02:29,568 - DEBUG - Order Identification 17
2017-06-04 20:02:29,572 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,578 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,582 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,585 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,589 - DEBUG - Entry ID database is 0
2017-06-04 20:02:29,595 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000C629BA8>, order=<ib.ext.Order.Order object at 0x000000000C629E80>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629F60>>
2017-06-04 20:02:29,598 - DEBUG - Order OrderID 14
2017-06-04 20:02:29,604 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:02:29,608 - DEBUG - Order status Submitted
2017-06-04 20:02:29,612 - DEBUG - Order Identification 14
2017-06-04 20:02:29,617 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:02:29,621 - DEBUG - Profit ID from database is 0
2017-06-04 20:02:29,627 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:02:29,631 - DEBUG - Stop ID database is 0
2017-06-04 20:02:29,634 - DEBUG - Entry ID database is 0
2017-06-04 20:02:31,395 - DEBUG - Connecting to database
2017-06-04 20:02:31,828 - DEBUG - Connected to database
2017-06-04 20:02:31,861 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:31,868 - DEBUG - Stop loss value is 0
2017-06-04 20:02:31,911 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:31,918 - DEBUG - Stop quantity 0
2017-06-04 20:02:31,950 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:31,953 - DEBUG - Direction is 0
2017-06-04 20:02:31,982 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:31,986 - DEBUG - Count is 1
2017-06-04 20:02:32,026 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:02:32,032 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:02:32,036 - DEBUG - Today is 2017-06-04
2017-06-04 20:02:32,042 - DEBUG - Day of the week 6
2017-06-04 20:02:32,048 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:02:32,052 - DEBUG - In Position is  1
2017-06-04 20:02:32,058 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:02:32,061 - DEBUG - Checking if Entry has been filled
2017-06-04 20:02:32,065 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:02:32,069 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:02:32,072 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:02:32,078 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:02:32,082 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000C6296A0>
2017-06-04 20:02:32,085 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:02:32,089 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:02:32,194 - DEBUG - Max Positions is (0.0,)
2017-06-04 20:04:30,915 - DEBUG - ****************************************************
2017-06-04 20:04:30,920 - DEBUG - Current Time is 2017-06-04 20:04:30.920000
2017-06-04 20:04:30,924 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:04:30,930 - DEBUG - Connecting to database
2017-06-04 20:04:31,391 - DEBUG - Connected to database
2017-06-04 20:04:31,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:31,430 - DEBUG - Order Profit is 0
2017-06-04 20:04:31,436 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:31,483 - DEBUG - Stop ID is 0
2017-06-04 20:04:31,525 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:31,545 - DEBUG - Order Entry is 0
2017-06-04 20:04:31,555 - DEBUG - Connecting to IBController
2017-06-04 20:04:33,690 - DEBUG - Connected to IBController
2017-06-04 20:04:33,700 - DEBUG - Position requested
2017-06-04 20:04:34,709 - DEBUG - Open Orders requested
2017-06-04 20:04:36,719 - DEBUG - Connecting to database
2017-06-04 20:04:36,918 - DEBUG - Connected to database
2017-06-04 20:04:36,950 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:36,957 - DEBUG - Stop loss value is 0
2017-06-04 20:04:37,005 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:37,009 - DEBUG - Stop quantity 0
2017-06-04 20:04:37,049 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:37,053 - DEBUG - Direction is 0
2017-06-04 20:04:37,088 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:37,094 - DEBUG - Count is 1
2017-06-04 20:04:37,121 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:04:37,125 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:04:37,130 - DEBUG - Today is 2017-06-04
2017-06-04 20:04:37,132 - DEBUG - Day of the week 6
2017-06-04 20:04:37,137 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:04:37,141 - DEBUG - In Position is  0
2017-06-04 20:04:37,144 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:04:37,150 - DEBUG - Checking if Entry has been filled
2017-06-04 20:04:37,153 - DEBUG - Try to Cancel Stop
2017-06-04 20:04:37,157 - DEBUG - Stop API ID 0
2017-06-04 20:04:37,161 - DEBUG - Profit API ID 0
2017-06-04 20:04:37,165 - DEBUG - Pos is 0
2017-06-04 20:04:37,170 - DEBUG - CurCount is 1
2017-06-04 20:04:37,174 - DEBUG - In Pos 0
2017-06-04 20:04:37,177 - DEBUG - Stop ID is 0
2017-06-04 20:04:37,183 - DEBUG - Stop API ID 0
2017-06-04 20:04:37,187 - DEBUG - Profit API ID 0
2017-06-04 20:04:37,193 - DEBUG - Pos is 0
2017-06-04 20:04:37,197 - DEBUG - CurCount is 1
2017-06-04 20:04:37,201 - DEBUG - In Pos 0
2017-06-04 20:04:37,209 - DEBUG - profitID is 0
2017-06-04 20:04:37,217 - DEBUG - stopID is 0
2017-06-04 20:04:37,223 - DEBUG - Entry Date is 10
2017-06-04 20:04:37,227 - DEBUG - confirming yesterday is 06/03/2017
2017-06-04 20:04:37,233 - DEBUG - Order Profit ID is 0
2017-06-04 20:04:37,237 - DEBUG - Order Entry ID is 0
2017-06-04 20:04:37,243 - DEBUG - API ID is  0
2017-06-04 20:04:37,249 - DEBUG - Current Position is 1
2017-06-04 20:04:37,253 - DEBUG - Checking if Positions should be close at EOD
2017-06-04 20:04:37,257 - DEBUG - Disconnected from IBController
2017-06-04 20:04:37,263 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-04 20:06:16,530 - DEBUG - ****************************************************
2017-06-04 20:06:16,536 - DEBUG - Current Time is 2017-06-04 20:06:16.537000
2017-06-04 20:06:16,542 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:06:16,549 - DEBUG - Connecting to database
2017-06-04 20:06:17,032 - DEBUG - Connected to database
2017-06-04 20:06:17,045 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:17,085 - DEBUG - Order Profit is 0
2017-06-04 20:06:17,091 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:17,118 - DEBUG - Stop ID is 0
2017-06-04 20:06:17,154 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:17,176 - DEBUG - Order Entry is 0
2017-06-04 20:06:17,188 - DEBUG - Connecting to IBController
2017-06-04 20:06:19,326 - DEBUG - Connected to IBController
2017-06-04 20:06:19,338 - DEBUG - Position requested
2017-06-04 20:06:19,369 - DEBUG - Pos Mgmt -50000
2017-06-04 20:06:19,377 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426748>, pos=-50000, avgCost=0.97307>
2017-06-04 20:06:19,384 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:06:19,388 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:06:19,394 - DEBUG - Position is -50000
2017-06-04 20:06:19,401 - DEBUG - Pos Mgmt 50000
2017-06-04 20:06:19,405 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, pos=50000, avgCost=0.86401>
2017-06-04 20:06:19,413 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:06:19,418 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:06:19,424 - DEBUG - Position is 50000
2017-06-04 20:06:19,428 - DEBUG - Pos Mgmt -50000
2017-06-04 20:06:19,434 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426748>, pos=-50000, avgCost=1.12434>
2017-06-04 20:06:19,440 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:06:19,446 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:06:19,450 - DEBUG - Position is -50000
2017-06-04 20:06:19,456 - DEBUG - In Position
2017-06-04 20:06:19,461 - DEBUG - Position is 1
2017-06-04 20:06:19,467 - DEBUG - Pos Mgmt -50000
2017-06-04 20:06:19,473 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, pos=-50000, avgCost=0.72857>
2017-06-04 20:06:19,479 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:06:19,483 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:06:19,490 - DEBUG - Position is -50000
2017-06-04 20:06:19,496 - DEBUG - Pos Mgmt 0
2017-06-04 20:06:19,502 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426748>, pos=0, avgCost=0.0>
2017-06-04 20:06:19,507 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:06:19,513 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:06:19,519 - DEBUG - Position is 0
2017-06-04 20:06:19,523 - DEBUG - Pos Mgmt -135
2017-06-04 20:06:19,529 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3400>, pos=-135, avgCost=111.488>
2017-06-04 20:06:19,535 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:06:19,540 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:06:19,546 - DEBUG - Position is -135
2017-06-04 20:06:19,552 - DEBUG - Pos Mgmt 2800
2017-06-04 20:06:19,556 - DEBUG - Pos Mgmt 250
2017-06-04 20:06:19,562 - DEBUG - Pos Mgmt 1894
2017-06-04 20:06:19,568 - DEBUG - Pos Mgmt 375
2017-06-04 20:06:19,572 - DEBUG - Pos Mgmt 476
2017-06-04 20:06:19,578 - DEBUG - Pos Mgmt 733
2017-06-04 20:06:19,588 - DEBUG - Pos Mgmt 726
2017-06-04 20:06:19,595 - DEBUG - Pos Mgmt 574
2017-06-04 20:06:19,601 - DEBUG - Pos Mgmt 965
2017-06-04 20:06:19,608 - DEBUG - Pos Mgmt 491
2017-06-04 20:06:20,349 - DEBUG - Open Orders requested
2017-06-04 20:06:20,384 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3668>, order=<ib.ext.Order.Order object at 0x000000000C4D30B8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3320>>
2017-06-04 20:06:20,394 - DEBUG - Order OrderID 20
2017-06-04 20:06:20,401 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:06:20,408 - DEBUG - Order status Submitted
2017-06-04 20:06:20,414 - DEBUG - Order Identification 20
2017-06-04 20:06:20,420 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,424 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,430 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,436 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,440 - DEBUG - Entry ID database is 0
2017-06-04 20:06:20,447 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x000000000C426748>, order=<ib.ext.Order.Order object at 0x000000000C4D3908>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C6293C8>>
2017-06-04 20:06:20,453 - DEBUG - Order OrderID 19
2017-06-04 20:06:20,457 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:06:20,463 - DEBUG - Order status PreSubmitted
2017-06-04 20:06:20,467 - DEBUG - Order Identification 19
2017-06-04 20:06:20,470 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,473 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,477 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,483 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,489 - DEBUG - Entry ID database is 0
2017-06-04 20:06:20,496 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, order=<ib.ext.Order.Order object at 0x000000000C4D3278>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426748>>
2017-06-04 20:06:20,502 - DEBUG - Order OrderID 18
2017-06-04 20:06:20,507 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:06:20,513 - DEBUG - Order status Submitted
2017-06-04 20:06:20,519 - DEBUG - Order Identification 18
2017-06-04 20:06:20,523 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,529 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,535 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,540 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,549 - DEBUG - Entry ID database is 0
2017-06-04 20:06:20,556 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3860>, order=<ib.ext.Order.Order object at 0x000000000C4D3278>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C426748>>
2017-06-04 20:06:20,562 - DEBUG - Order OrderID 13
2017-06-04 20:06:20,569 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:06:20,573 - DEBUG - Order status PreSubmitted
2017-06-04 20:06:20,578 - DEBUG - Order Identification 13
2017-06-04 20:06:20,584 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,589 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,595 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,601 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,607 - DEBUG - Entry ID database is 0
2017-06-04 20:06:20,615 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, order=<ib.ext.Order.Order object at 0x000000000C426748>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3390>>
2017-06-04 20:06:20,621 - DEBUG - Order OrderID 17
2017-06-04 20:06:20,628 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:06:20,635 - DEBUG - Order status PreSubmitted
2017-06-04 20:06:20,641 - DEBUG - Order Identification 17
2017-06-04 20:06:20,647 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,651 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,657 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,663 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,668 - DEBUG - Entry ID database is 0
2017-06-04 20:06:20,677 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000C6293C8>, order=<ib.ext.Order.Order object at 0x000000000C426748>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3048>>
2017-06-04 20:06:20,681 - DEBUG - Order OrderID 14
2017-06-04 20:06:20,687 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:06:20,694 - DEBUG - Order status Submitted
2017-06-04 20:06:20,698 - DEBUG - Order Identification 14
2017-06-04 20:06:20,704 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:06:20,710 - DEBUG - Profit ID from database is 0
2017-06-04 20:06:20,716 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:06:20,720 - DEBUG - Stop ID database is 0
2017-06-04 20:06:20,726 - DEBUG - Entry ID database is 0
2017-06-04 20:06:22,385 - DEBUG - Connecting to database
2017-06-04 20:06:22,838 - DEBUG - Connected to database
2017-06-04 20:06:22,875 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:22,882 - DEBUG - Stop loss value is 0
2017-06-04 20:06:22,913 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:22,918 - DEBUG - Stop quantity 0
2017-06-04 20:06:22,946 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:22,950 - DEBUG - Direction is 0
2017-06-04 20:06:22,983 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:22,990 - DEBUG - Count is 1
2017-06-04 20:06:23,017 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:06:23,023 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:06:23,028 - DEBUG - Today is 2017-06-04
2017-06-04 20:06:23,032 - DEBUG - Day of the week 6
2017-06-04 20:06:23,036 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:06:23,042 - DEBUG - In Position is  1
2017-06-04 20:06:23,048 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:06:23,052 - DEBUG - Checking if Entry has been filled
2017-06-04 20:06:23,056 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:06:23,061 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:06:23,065 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:06:23,072 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:06:23,076 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000B1696A0>
2017-06-04 20:06:23,082 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:06:23,086 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:06:23,184 - DEBUG - Max Positions is (0.0,)
2017-06-04 20:06:23,197 - DEBUG - Max Positions2 is 1.0
2017-06-04 20:08:28,720 - DEBUG - ****************************************************
2017-06-04 20:08:28,730 - DEBUG - Current Time is 2017-06-04 20:08:28.731000
2017-06-04 20:08:28,739 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:08:28,746 - DEBUG - Connecting to database
2017-06-04 20:08:29,720 - DEBUG - Connected to database
2017-06-04 20:08:29,734 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:29,765 - DEBUG - Order Profit is 0
2017-06-04 20:08:29,770 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:29,812 - DEBUG - Stop ID is 0
2017-06-04 20:08:29,846 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:29,852 - DEBUG - Order Entry is 0
2017-06-04 20:08:29,858 - DEBUG - Connecting to IBController
2017-06-04 20:08:32,553 - DEBUG - Connected to IBController
2017-06-04 20:08:32,568 - DEBUG - Position requested
2017-06-04 20:08:32,591 - DEBUG - Pos Mgmt -50000
2017-06-04 20:08:32,608 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C629B38>, pos=-50000, avgCost=0.97307>
2017-06-04 20:08:32,615 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:08:32,621 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:08:32,628 - DEBUG - Position is -50000
2017-06-04 20:08:32,637 - DEBUG - Pos Mgmt 50000
2017-06-04 20:08:32,644 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3438>, pos=50000, avgCost=0.86401>
2017-06-04 20:08:32,651 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:08:32,657 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:08:32,663 - DEBUG - Position is 50000
2017-06-04 20:08:32,668 - DEBUG - Pos Mgmt -50000
2017-06-04 20:08:32,674 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C629B38>, pos=-50000, avgCost=1.12434>
2017-06-04 20:08:32,681 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:08:32,687 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:08:32,694 - DEBUG - Position is -50000
2017-06-04 20:08:32,700 - DEBUG - In Position
2017-06-04 20:08:32,706 - DEBUG - Position is 1
2017-06-04 20:08:32,711 - DEBUG - Pos Mgmt -50000
2017-06-04 20:08:32,717 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3208>, pos=-50000, avgCost=0.72857>
2017-06-04 20:08:32,723 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:08:32,729 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:08:32,736 - DEBUG - Position is -50000
2017-06-04 20:08:32,743 - DEBUG - Pos Mgmt 0
2017-06-04 20:08:32,750 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C629B38>, pos=0, avgCost=0.0>
2017-06-04 20:08:32,756 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:08:32,763 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:08:32,772 - DEBUG - Position is 0
2017-06-04 20:08:32,779 - DEBUG - Pos Mgmt -135
2017-06-04 20:08:32,786 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3208>, pos=-135, avgCost=111.488>
2017-06-04 20:08:32,792 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:08:32,799 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:08:32,811 - DEBUG - Position is -135
2017-06-04 20:08:32,819 - DEBUG - Pos Mgmt 2800
2017-06-04 20:08:32,825 - DEBUG - Pos Mgmt 250
2017-06-04 20:08:32,832 - DEBUG - Pos Mgmt 1894
2017-06-04 20:08:32,839 - DEBUG - Pos Mgmt 375
2017-06-04 20:08:32,845 - DEBUG - Pos Mgmt 476
2017-06-04 20:08:32,851 - DEBUG - Pos Mgmt 733
2017-06-04 20:08:32,858 - DEBUG - Pos Mgmt 726
2017-06-04 20:08:32,868 - DEBUG - Pos Mgmt 574
2017-06-04 20:08:32,875 - DEBUG - Pos Mgmt 965
2017-06-04 20:08:32,882 - DEBUG - Pos Mgmt 491
2017-06-04 20:08:33,576 - DEBUG - Open Orders requested
2017-06-04 20:08:33,592 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3B00>, order=<ib.ext.Order.Order object at 0x000000000C4D3AC8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D39E8>>
2017-06-04 20:08:33,618 - DEBUG - Order OrderID 20
2017-06-04 20:08:33,627 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:08:33,632 - DEBUG - Order status Submitted
2017-06-04 20:08:33,640 - DEBUG - Order Identification 20
2017-06-04 20:08:33,647 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,651 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:33,658 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:33,664 - DEBUG - Stop ID database is 0
2017-06-04 20:08:33,671 - DEBUG - Entry ID database is 0
2017-06-04 20:08:33,678 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3438>, order=<ib.ext.Order.Order object at 0x000000000C4D3B38>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3400>>
2017-06-04 20:08:33,684 - DEBUG - Order OrderID 19
2017-06-04 20:08:33,690 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:08:33,697 - DEBUG - Order status PreSubmitted
2017-06-04 20:08:33,703 - DEBUG - Order Identification 19
2017-06-04 20:08:33,710 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,716 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:33,721 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:33,727 - DEBUG - Stop ID database is 0
2017-06-04 20:08:33,733 - DEBUG - Entry ID database is 0
2017-06-04 20:08:33,742 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3C50>, order=<ib.ext.Order.Order object at 0x000000000C4D3C18>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3BA8>>
2017-06-04 20:08:33,747 - DEBUG - Order OrderID 18
2017-06-04 20:08:33,753 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:08:33,759 - DEBUG - Order status Submitted
2017-06-04 20:08:33,766 - DEBUG - Order Identification 18
2017-06-04 20:08:33,773 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,780 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:33,786 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:33,792 - DEBUG - Stop ID database is 0
2017-06-04 20:08:33,799 - DEBUG - Entry ID database is 0
2017-06-04 20:08:33,809 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3B00>, order=<ib.ext.Order.Order object at 0x000000000C4D3BA8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D39E8>>
2017-06-04 20:08:33,819 - DEBUG - Order OrderID 13
2017-06-04 20:08:33,832 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:08:33,839 - DEBUG - Order status PreSubmitted
2017-06-04 20:08:33,845 - DEBUG - Order Identification 13
2017-06-04 20:08:33,851 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,858 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:33,865 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:33,871 - DEBUG - Stop ID database is 0
2017-06-04 20:08:33,877 - DEBUG - Entry ID database is 0
2017-06-04 20:08:33,884 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3A20>, order=<ib.ext.Order.Order object at 0x000000000C4D3C50>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D39E8>>
2017-06-04 20:08:33,891 - DEBUG - Order OrderID 17
2017-06-04 20:08:33,898 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:08:33,905 - DEBUG - Order status PreSubmitted
2017-06-04 20:08:33,911 - DEBUG - Order Identification 17
2017-06-04 20:08:33,917 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,924 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:33,931 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:33,938 - DEBUG - Stop ID database is 0
2017-06-04 20:08:33,946 - DEBUG - Entry ID database is 0
2017-06-04 20:08:33,954 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000C4D39E8>, order=<ib.ext.Order.Order object at 0x000000000C4D3BA8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C4D3B00>>
2017-06-04 20:08:33,961 - DEBUG - Order OrderID 14
2017-06-04 20:08:33,969 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:08:33,974 - DEBUG - Order status Submitted
2017-06-04 20:08:33,980 - DEBUG - Order Identification 14
2017-06-04 20:08:33,987 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:08:33,993 - DEBUG - Profit ID from database is 0
2017-06-04 20:08:34,000 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:08:34,006 - DEBUG - Stop ID database is 0
2017-06-04 20:08:34,013 - DEBUG - Entry ID database is 0
2017-06-04 20:08:35,618 - DEBUG - Connecting to database
2017-06-04 20:08:36,085 - DEBUG - Connected to database
2017-06-04 20:08:36,125 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:36,134 - DEBUG - Stop loss value is 0
2017-06-04 20:08:36,167 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:36,173 - DEBUG - Stop quantity 0
2017-06-04 20:08:36,200 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:36,206 - DEBUG - Direction is 0
2017-06-04 20:08:36,237 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:36,243 - DEBUG - Count is 1
2017-06-04 20:08:36,276 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:08:36,283 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:08:36,289 - DEBUG - Today is 2017-06-04
2017-06-04 20:08:36,296 - DEBUG - Day of the week 6
2017-06-04 20:08:36,303 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:08:36,309 - DEBUG - In Position is  1
2017-06-04 20:08:36,315 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:08:36,319 - DEBUG - Checking if Entry has been filled
2017-06-04 20:08:36,326 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:08:36,332 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:08:36,338 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:08:36,345 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:08:36,351 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000B169550>
2017-06-04 20:08:36,358 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:08:36,364 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:08:36,451 - DEBUG - Max Positions is (0.0,)
2017-06-04 20:08:36,466 - DEBUG - Max Positions2 is 1.0
2017-06-04 20:10:33,197 - DEBUG - ****************************************************
2017-06-04 20:10:33,204 - DEBUG - Current Time is 2017-06-04 20:10:33.205000
2017-06-04 20:10:33,213 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:10:33,221 - DEBUG - Connecting to database
2017-06-04 20:10:33,658 - DEBUG - Connected to database
2017-06-04 20:10:33,676 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:33,716 - DEBUG - Order Profit is 0
2017-06-04 20:10:33,723 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:33,755 - DEBUG - Stop ID is 0
2017-06-04 20:10:33,798 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:33,803 - DEBUG - Order Entry is 0
2017-06-04 20:10:33,812 - DEBUG - Connecting to IBController
2017-06-04 20:10:36,378 - DEBUG - Connected to IBController
2017-06-04 20:10:36,392 - DEBUG - Position requested
2017-06-04 20:10:36,417 - DEBUG - Pos Mgmt -50000
2017-06-04 20:10:36,427 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C426198>, pos=-50000, avgCost=0.97307>
2017-06-04 20:10:36,436 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:10:36,443 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:10:36,450 - DEBUG - Position is -50000
2017-06-04 20:10:36,457 - DEBUG - Pos Mgmt 50000
2017-06-04 20:10:36,464 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C4D3E80>, pos=50000, avgCost=0.86401>
2017-06-04 20:10:36,471 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:10:36,480 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:10:36,487 - DEBUG - Position is 50000
2017-06-04 20:10:36,496 - DEBUG - Pos Mgmt -50000
2017-06-04 20:10:36,503 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B504128>, pos=-50000, avgCost=1.12434>
2017-06-04 20:10:36,509 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:10:36,516 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:10:36,523 - DEBUG - Position is -50000
2017-06-04 20:10:36,530 - DEBUG - In Position
2017-06-04 20:10:36,539 - DEBUG - Position is 1
2017-06-04 20:10:36,546 - DEBUG - Pos Mgmt -50000
2017-06-04 20:10:36,552 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, pos=-50000, avgCost=0.72857>
2017-06-04 20:10:36,559 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:10:36,566 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:10:36,573 - DEBUG - Position is -50000
2017-06-04 20:10:36,582 - DEBUG - Pos Mgmt 0
2017-06-04 20:10:36,588 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B169EB8>, pos=0, avgCost=0.0>
2017-06-04 20:10:36,598 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:10:36,605 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:10:36,611 - DEBUG - Position is 0
2017-06-04 20:10:36,619 - DEBUG - Pos Mgmt -135
2017-06-04 20:10:36,625 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B169F98>, pos=-135, avgCost=111.488>
2017-06-04 20:10:36,634 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:10:36,641 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:10:36,648 - DEBUG - Position is -135
2017-06-04 20:10:36,657 - DEBUG - Pos Mgmt 2800
2017-06-04 20:10:36,664 - DEBUG - Pos Mgmt 250
2017-06-04 20:10:36,673 - DEBUG - Pos Mgmt 1894
2017-06-04 20:10:36,680 - DEBUG - Pos Mgmt 375
2017-06-04 20:10:36,687 - DEBUG - Pos Mgmt 476
2017-06-04 20:10:36,694 - DEBUG - Pos Mgmt 733
2017-06-04 20:10:36,703 - DEBUG - Pos Mgmt 726
2017-06-04 20:10:36,710 - DEBUG - Pos Mgmt 574
2017-06-04 20:10:36,717 - DEBUG - Pos Mgmt 965
2017-06-04 20:10:36,724 - DEBUG - Pos Mgmt 491
2017-06-04 20:10:37,408 - DEBUG - Open Orders requested
2017-06-04 20:10:37,423 - DEBUG - Reply Handler Orders is <openOrder orderId=20, contract=<ib.ext.Contract.Contract object at 0x000000000C629B38>, order=<ib.ext.Order.Order object at 0x000000000C629E48>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629978>>
2017-06-04 20:10:37,440 - DEBUG - Order OrderID 20
2017-06-04 20:10:37,447 - DEBUG - reply handler status <orderStatus orderId=20, status=Submitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:10:37,453 - DEBUG - Order status Submitted
2017-06-04 20:10:37,461 - DEBUG - Order Identification 20
2017-06-04 20:10:37,467 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,476 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,483 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,490 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,496 - DEBUG - Entry ID database is 0
2017-06-04 20:10:37,505 - DEBUG - Reply Handler Orders is <openOrder orderId=19, contract=<ib.ext.Contract.Contract object at 0x000000000B169F98>, order=<ib.ext.Order.Order object at 0x000000000B504128>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B169EB8>>
2017-06-04 20:10:37,510 - DEBUG - Order OrderID 19
2017-06-04 20:10:37,517 - DEBUG - reply handler status <orderStatus orderId=19, status=PreSubmitted, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:10:37,525 - DEBUG - Order status PreSubmitted
2017-06-04 20:10:37,532 - DEBUG - Order Identification 19
2017-06-04 20:10:37,540 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,546 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,553 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,561 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,568 - DEBUG - Entry ID database is 0
2017-06-04 20:10:37,575 - DEBUG - Reply Handler Orders is <openOrder orderId=18, contract=<ib.ext.Contract.Contract object at 0x000000000B169EB8>, order=<ib.ext.Order.Order object at 0x000000000B169F98>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504128>>
2017-06-04 20:10:37,584 - DEBUG - Order OrderID 18
2017-06-04 20:10:37,591 - DEBUG - reply handler status <orderStatus orderId=18, status=Submitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:10:37,598 - DEBUG - Order status Submitted
2017-06-04 20:10:37,605 - DEBUG - Order Identification 18
2017-06-04 20:10:37,611 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,618 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,625 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,631 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,638 - DEBUG - Entry ID database is 0
2017-06-04 20:10:37,650 - DEBUG - Reply Handler Orders is <openOrder orderId=13, contract=<ib.ext.Contract.Contract object at 0x000000000B169F98>, order=<ib.ext.Order.Order object at 0x000000000B169EB8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504128>>
2017-06-04 20:10:37,657 - DEBUG - Order OrderID 13
2017-06-04 20:10:37,664 - DEBUG - reply handler status <orderStatus orderId=13, status=PreSubmitted, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:10:37,677 - DEBUG - Order status PreSubmitted
2017-06-04 20:10:37,684 - DEBUG - Order Identification 13
2017-06-04 20:10:37,693 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,700 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,709 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,716 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,723 - DEBUG - Entry ID database is 0
2017-06-04 20:10:37,734 - DEBUG - Reply Handler Orders is <openOrder orderId=17, contract=<ib.ext.Contract.Contract object at 0x000000000B169F98>, order=<ib.ext.Order.Order object at 0x000000000B169EB8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504128>>
2017-06-04 20:10:37,743 - DEBUG - Order OrderID 17
2017-06-04 20:10:37,750 - DEBUG - reply handler status <orderStatus orderId=17, status=PreSubmitted, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-04 20:10:37,757 - DEBUG - Order status PreSubmitted
2017-06-04 20:10:37,765 - DEBUG - Order Identification 17
2017-06-04 20:10:37,773 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,779 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,788 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,795 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,802 - DEBUG - Entry ID database is 0
2017-06-04 20:10:37,813 - DEBUG - Reply Handler Orders is <openOrder orderId=14, contract=<ib.ext.Contract.Contract object at 0x000000000B169F98>, order=<ib.ext.Order.Order object at 0x000000000B169EB8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000B504128>>
2017-06-04 20:10:37,825 - DEBUG - Order OrderID 14
2017-06-04 20:10:37,835 - DEBUG - reply handler status <orderStatus orderId=14, status=Submitted, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:10:37,842 - DEBUG - Order status Submitted
2017-06-04 20:10:37,849 - DEBUG - Order Identification 14
2017-06-04 20:10:37,858 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:10:37,865 - DEBUG - Profit ID from database is 0
2017-06-04 20:10:37,872 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:10:37,881 - DEBUG - Stop ID database is 0
2017-06-04 20:10:37,888 - DEBUG - Entry ID database is 0
2017-06-04 20:10:39,438 - DEBUG - Connecting to database
2017-06-04 20:10:39,644 - DEBUG - Connected to database
2017-06-04 20:10:39,690 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:39,700 - DEBUG - Stop loss value is 0
2017-06-04 20:10:39,736 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:39,743 - DEBUG - Stop quantity 0
2017-06-04 20:10:39,773 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:39,779 - DEBUG - Direction is 0
2017-06-04 20:10:39,809 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:39,815 - DEBUG - Count is 1
2017-06-04 20:10:39,848 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:10:39,855 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:10:39,861 - DEBUG - Today is 2017-06-04
2017-06-04 20:10:39,868 - DEBUG - Day of the week 6
2017-06-04 20:10:39,874 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:10:39,881 - DEBUG - In Position is  1
2017-06-04 20:10:39,887 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:10:39,894 - DEBUG - Checking if Entry has been filled
2017-06-04 20:10:39,900 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:10:39,907 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:10:39,913 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:10:39,920 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:10:39,927 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000B1696A0>
2017-06-04 20:10:39,934 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:10:39,941 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:10:40,040 - DEBUG - Max Positions is (0.0,)
2017-06-04 20:10:40,052 - DEBUG - Max Positions2 is 1.0
2017-06-04 20:10:40,062 - DEBUG - Query is UPDATE RiskParameters SET RiskParametersValue = 1.0 where idRiskParameters = 15
2017-06-04 20:10:40,151 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-04 20:10:40,250 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-04 20:15:07,042 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4C88>, order=<ib.ext.Order.Order object at 0x000000000B4E45C0>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629208>>
2017-06-04 20:15:07,053 - DEBUG - Order OrderID 0
2017-06-04 20:15:07,063 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=79, avgFillPrice=0.0, permId=2108382876, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate>
2017-06-04 20:15:07,075 - DEBUG - Order status PreSubmitted
2017-06-04 20:15:07,085 - DEBUG - Order Identification 0
2017-06-04 20:15:07,095 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:07,102 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:07,108 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:07,128 - DEBUG - Stop ID database is 0
2017-06-04 20:15:07,138 - DEBUG - Entry ID database is 0
2017-06-04 20:15:07,147 - DEBUG - Stop API ID is 0
2017-06-04 20:15:07,157 - DEBUG - Profit API ID is 0
2017-06-04 20:15:07,167 - DEBUG - Entry API ID is 0
2017-06-04 20:15:07,256 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000C6291D0>, order=<ib.ext.Order.Order object at 0x000000000C629208>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629518>>
2017-06-04 20:15:07,282 - DEBUG - Order OrderID 0
2017-06-04 20:15:07,355 - DEBUG - reply handler status <orderStatus orderId=0, status=Submitted, filled=0, remaining=79, avgFillPrice=0.0, permId=2108382876, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=None>
2017-06-04 20:15:07,380 - DEBUG - Order status Submitted
2017-06-04 20:15:07,394 - DEBUG - Order Identification 0
2017-06-04 20:15:07,411 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:07,423 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:07,434 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:07,447 - DEBUG - Stop ID database is 0
2017-06-04 20:15:07,484 - DEBUG - Entry ID database is 0
2017-06-04 20:15:07,509 - DEBUG - Stop API ID is 0
2017-06-04 20:15:07,523 - DEBUG - Profit API ID is 0
2017-06-04 20:15:07,536 - DEBUG - Entry API ID is 0
2017-06-04 20:15:07,552 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000B4E45C0>, order=<ib.ext.Order.Order object at 0x000000000B4E4C88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629518>>
2017-06-04 20:15:07,568 - DEBUG - Order OrderID 0
2017-06-04 20:15:07,582 - DEBUG - reply handler status <orderStatus orderId=0, status=Filled, filled=79, remaining=0, avgFillPrice=1.34962, permId=2108382876, parentId=0, lastFillPrice=1.34962, clientId=0, whyHeld=None>
2017-06-04 20:15:07,602 - DEBUG - Order status Filled
2017-06-04 20:15:07,618 - DEBUG - Order Identification 0
2017-06-04 20:15:07,630 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:07,644 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:07,653 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:07,661 - DEBUG - Stop ID database is 0
2017-06-04 20:15:07,671 - DEBUG - Entry ID database is 0
2017-06-04 20:15:07,681 - DEBUG - Stop API ID is 0
2017-06-04 20:15:07,694 - DEBUG - Profit API ID is 0
2017-06-04 20:15:07,706 - DEBUG - Entry API ID is 0
2017-06-04 20:15:07,717 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000C6291D0>, order=<ib.ext.Order.Order object at 0x000000000C629A90>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629518>>
2017-06-04 20:15:07,730 - DEBUG - Order OrderID 0
2017-06-04 20:15:07,740 - DEBUG - reply handler status <orderStatus orderId=0, status=Filled, filled=79, remaining=0, avgFillPrice=1.34962, permId=2108382876, parentId=0, lastFillPrice=1.34962, clientId=0, whyHeld=None>
2017-06-04 20:15:07,753 - DEBUG - Order status Filled
2017-06-04 20:15:07,763 - DEBUG - Order Identification 0
2017-06-04 20:15:07,773 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:07,786 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:07,796 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:07,805 - DEBUG - Stop ID database is 0
2017-06-04 20:15:07,825 - DEBUG - Entry ID database is 0
2017-06-04 20:15:07,834 - DEBUG - Stop API ID is 0
2017-06-04 20:15:07,844 - DEBUG - Profit API ID is 0
2017-06-04 20:15:07,854 - DEBUG - Entry API ID is 0
2017-06-04 20:15:11,503 - DEBUG - reply handler status <orderStatus orderId=19, status=Cancelled, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728109, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:11,549 - DEBUG - Order status Cancelled
2017-06-04 20:15:11,572 - DEBUG - Order Identification 19
2017-06-04 20:15:11,591 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:11,598 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:11,611 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:11,618 - DEBUG - Stop ID database is 0
2017-06-04 20:15:11,631 - DEBUG - Entry ID database is 0
2017-06-04 20:15:11,838 - DEBUG - reply handler status <orderStatus orderId=20, status=Cancelled, filled=0, remaining=1295, avgFillPrice=0.0, permId=448728110, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:11,848 - DEBUG - Order status Cancelled
2017-06-04 20:15:11,857 - DEBUG - Order Identification 20
2017-06-04 20:15:11,865 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:11,875 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:11,884 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:11,892 - DEBUG - Stop ID database is 0
2017-06-04 20:15:11,901 - DEBUG - Entry ID database is 0
2017-06-04 20:15:12,194 - DEBUG - reply handler status <orderStatus orderId=17, status=Cancelled, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728107, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:12,237 - DEBUG - Order status Cancelled
2017-06-04 20:15:12,250 - DEBUG - Order Identification 17
2017-06-04 20:15:12,267 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:12,279 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:12,289 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:12,302 - DEBUG - Stop ID database is 0
2017-06-04 20:15:12,319 - DEBUG - Entry ID database is 0
2017-06-04 20:15:12,703 - DEBUG - reply handler status <orderStatus orderId=18, status=Cancelled, filled=0, remaining=8264, avgFillPrice=0.0, permId=448728108, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:12,740 - DEBUG - Order status Cancelled
2017-06-04 20:15:12,746 - DEBUG - Order Identification 18
2017-06-04 20:15:12,756 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:12,769 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:12,782 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:12,790 - DEBUG - Stop ID database is 0
2017-06-04 20:15:12,802 - DEBUG - Entry ID database is 0
2017-06-04 20:15:12,884 - DEBUG - reply handler status <orderStatus orderId=14, status=Cancelled, filled=0, remaining=15873, avgFillPrice=0.0, permId=448728106, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:12,894 - DEBUG - Order status Cancelled
2017-06-04 20:15:12,903 - DEBUG - Order Identification 14
2017-06-04 20:15:12,911 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:12,920 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:12,930 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:12,938 - DEBUG - Stop ID database is 0
2017-06-04 20:15:12,947 - DEBUG - Entry ID database is 0
2017-06-04 20:15:13,369 - DEBUG - reply handler status <orderStatus orderId=13, status=Cancelled, filled=0, remaining=50000, avgFillPrice=0.0, permId=1902092427, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=None>
2017-06-04 20:15:13,404 - DEBUG - Order status Cancelled
2017-06-04 20:15:13,417 - DEBUG - Order Identification 13
2017-06-04 20:15:13,427 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:13,444 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:13,457 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:13,469 - DEBUG - Stop ID database is 0
2017-06-04 20:15:13,477 - DEBUG - Entry ID database is 0
2017-06-04 20:15:24,980 - DEBUG - Pos Mgmt 0
2017-06-04 20:15:25,016 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E45C0>, pos=0, avgCost=0.0>
2017-06-04 20:15:25,029 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:15:25,039 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:15:25,046 - DEBUG - Position is 0
2017-06-04 20:15:27,155 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, order=<ib.ext.Order.Order object at 0x000000000B4E4C88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629A90>>
2017-06-04 20:15:27,183 - DEBUG - Order OrderID 0
2017-06-04 20:15:27,194 - DEBUG - reply handler status <orderStatus orderId=0, status=Submitted, filled=0, remaining=43263, avgFillPrice=0.0, permId=2108382877, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=None>
2017-06-04 20:15:27,211 - DEBUG - Order status Submitted
2017-06-04 20:15:27,217 - DEBUG - Order Identification 0
2017-06-04 20:15:27,224 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:27,236 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:27,243 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:27,246 - DEBUG - Stop ID database is 0
2017-06-04 20:15:27,256 - DEBUG - Entry ID database is 0
2017-06-04 20:15:27,269 - DEBUG - Stop API ID is 0
2017-06-04 20:15:27,279 - DEBUG - Profit API ID is 0
2017-06-04 20:15:27,289 - DEBUG - Entry API ID is 0
2017-06-04 20:15:27,302 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000C6291D0>, order=<ib.ext.Order.Order object at 0x000000000C629518>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C629A90>>
2017-06-04 20:15:27,313 - DEBUG - Order OrderID 0
2017-06-04 20:15:27,325 - DEBUG - reply handler status <orderStatus orderId=0, status=Filled, filled=43263, remaining=0, avgFillPrice=1.28679, permId=2108382877, parentId=0, lastFillPrice=1.28679, clientId=0, whyHeld=None>
2017-06-04 20:15:27,339 - DEBUG - Order status Filled
2017-06-04 20:15:27,354 - DEBUG - Order Identification 0
2017-06-04 20:15:27,361 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:27,368 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:27,375 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:27,384 - DEBUG - Stop ID database is 0
2017-06-04 20:15:27,391 - DEBUG - Entry ID database is 0
2017-06-04 20:15:27,400 - DEBUG - Stop API ID is 0
2017-06-04 20:15:27,407 - DEBUG - Profit API ID is 0
2017-06-04 20:15:27,414 - DEBUG - Entry API ID is 0
2017-06-04 20:15:27,423 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, order=<ib.ext.Order.Order object at 0x000000000B4E4C88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000C6291D0>>
2017-06-04 20:15:27,430 - DEBUG - Order OrderID 0
2017-06-04 20:15:27,437 - DEBUG - reply handler status <orderStatus orderId=0, status=Filled, filled=43263, remaining=0, avgFillPrice=1.28679, permId=2108382877, parentId=0, lastFillPrice=1.28679, clientId=0, whyHeld=None>
2017-06-04 20:15:27,447 - DEBUG - Order status Filled
2017-06-04 20:15:27,453 - DEBUG - Order Identification 0
2017-06-04 20:15:27,463 - DEBUG - Order Identification <type 'int'>
2017-06-04 20:15:27,471 - DEBUG - Profit ID from database is 0
2017-06-04 20:15:27,480 - DEBUG - Profit ID from database is <type 'unicode'>
2017-06-04 20:15:27,487 - DEBUG - Stop ID database is 0
2017-06-04 20:15:27,496 - DEBUG - Entry ID database is 0
2017-06-04 20:15:27,503 - DEBUG - Stop API ID is 0
2017-06-04 20:15:27,510 - DEBUG - Profit API ID is 0
2017-06-04 20:15:27,517 - DEBUG - Entry API ID is 0
2017-06-04 20:15:42,319 - DEBUG - Pos Mgmt -50000
2017-06-04 20:15:42,345 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4C88>, pos=-50000, avgCost=0.72857>
2017-06-04 20:15:42,361 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:15:42,372 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:15:42,388 - DEBUG - Position is -50000
2017-06-04 20:15:54,802 - DEBUG - Pos Mgmt 50000
2017-06-04 20:15:54,857 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, pos=50000, avgCost=0.86401>
2017-06-04 20:15:54,868 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:15:54,878 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:15:54,894 - DEBUG - Position is 50000
2017-06-04 20:18:41,213 - DEBUG - ****************************************************
2017-06-04 20:18:41,220 - DEBUG - Current Time is 2017-06-04 20:18:41.221000
2017-06-04 20:18:41,230 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:18:41,240 - DEBUG - Connecting to database
2017-06-04 20:18:41,446 - DEBUG - Connected to database
2017-06-04 20:18:41,457 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:41,490 - DEBUG - Order Profit is 0
2017-06-04 20:18:41,500 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:41,540 - DEBUG - Stop ID is 0
2017-06-04 20:18:41,569 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:41,578 - DEBUG - Order Entry is 0
2017-06-04 20:18:41,585 - DEBUG - Connecting to IBController
2017-06-04 20:18:44,157 - DEBUG - Connected to IBController
2017-06-04 20:18:44,174 - DEBUG - Position requested
2017-06-04 20:18:44,197 - DEBUG - Pos Mgmt -50000
2017-06-04 20:18:44,207 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C53E908>, pos=-50000, avgCost=0.97307>
2017-06-04 20:18:44,216 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:18:44,221 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:18:44,232 - DEBUG - Position is -50000
2017-06-04 20:18:44,239 - DEBUG - Pos Mgmt 50000
2017-06-04 20:18:44,246 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, pos=50000, avgCost=0.86401>
2017-06-04 20:18:44,255 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:18:44,263 - DEBUG - ccy2 Currency with position is GBP
2017-06-04 20:18:44,272 - DEBUG - Position is 50000
2017-06-04 20:18:44,285 - DEBUG - Pos Mgmt -50000
2017-06-04 20:18:44,292 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C53ECC0>, pos=-50000, avgCost=1.12434>
2017-06-04 20:18:44,301 - DEBUG - ccy1 Symbol with position is EUR
2017-06-04 20:18:44,309 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:18:44,316 - DEBUG - Position is -50000
2017-06-04 20:18:44,323 - DEBUG - In Position
2017-06-04 20:18:44,331 - DEBUG - Position is 1
2017-06-04 20:18:44,338 - DEBUG - Pos Mgmt -50000
2017-06-04 20:18:44,345 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C53E908>, pos=-50000, avgCost=0.72857>
2017-06-04 20:18:44,355 - DEBUG - ccy1 Symbol with position is AUD
2017-06-04 20:18:44,364 - DEBUG - ccy2 Currency with position is CHF
2017-06-04 20:18:44,371 - DEBUG - Position is -50000
2017-06-04 20:18:44,380 - DEBUG - Pos Mgmt 0
2017-06-04 20:18:44,388 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000B4E4898>, pos=0, avgCost=0.0>
2017-06-04 20:18:44,397 - DEBUG - ccy1 Symbol with position is GBP
2017-06-04 20:18:44,404 - DEBUG - ccy2 Currency with position is USD
2017-06-04 20:18:44,411 - DEBUG - Position is 0
2017-06-04 20:18:44,421 - DEBUG - Pos Mgmt -135
2017-06-04 20:18:44,430 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000C53EB00>, pos=-135, avgCost=111.488>
2017-06-04 20:18:44,438 - DEBUG - ccy1 Symbol with position is USD
2017-06-04 20:18:44,447 - DEBUG - ccy2 Currency with position is JPY
2017-06-04 20:18:44,454 - DEBUG - Position is -135
2017-06-04 20:18:44,463 - DEBUG - Pos Mgmt 2800
2017-06-04 20:18:44,470 - DEBUG - Pos Mgmt 250
2017-06-04 20:18:44,479 - DEBUG - Pos Mgmt 1894
2017-06-04 20:18:44,492 - DEBUG - Pos Mgmt 375
2017-06-04 20:18:44,500 - DEBUG - Pos Mgmt 476
2017-06-04 20:18:44,509 - DEBUG - Pos Mgmt 733
2017-06-04 20:18:44,519 - DEBUG - Pos Mgmt 726
2017-06-04 20:18:44,529 - DEBUG - Pos Mgmt 574
2017-06-04 20:18:44,536 - DEBUG - Pos Mgmt 965
2017-06-04 20:18:44,546 - DEBUG - Pos Mgmt 491
2017-06-04 20:18:45,187 - DEBUG - Open Orders requested
2017-06-04 20:18:47,206 - DEBUG - Connecting to database
2017-06-04 20:18:47,694 - DEBUG - Connected to database
2017-06-04 20:18:47,739 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:47,750 - DEBUG - Stop loss value is 0
2017-06-04 20:18:47,785 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:47,793 - DEBUG - Stop quantity 0
2017-06-04 20:18:47,826 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:47,836 - DEBUG - Direction is 0
2017-06-04 20:18:47,884 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:47,891 - DEBUG - Count is 1
2017-06-04 20:18:47,924 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:18:47,931 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:18:47,940 - DEBUG - Today is 2017-06-04
2017-06-04 20:18:47,950 - DEBUG - Day of the week 6
2017-06-04 20:18:47,960 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:18:47,967 - DEBUG - In Position is  1
2017-06-04 20:18:47,976 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:18:47,983 - DEBUG - Checking if Entry has been filled
2017-06-04 20:18:47,994 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-04 20:18:48,003 - DEBUG - Order Profit is (u'0',)
2017-06-04 20:18:48,009 - DEBUG - Incremented Order ID for stop loss 1
2017-06-04 20:18:48,019 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-04 20:18:48,026 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000C6C0D30>
2017-06-04 20:18:48,033 - DEBUG - Entry Trade Direction is 0
2017-06-04 20:18:48,042 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-04 20:18:48,157 - DEBUG - Max Positions is (1.0,)
2017-06-04 20:18:48,167 - DEBUG - Max Positions2 is 2.0
2017-06-04 20:18:48,177 - DEBUG - Query is UPDATE RiskParameters SET RiskParametersValue = 2.0 where idRiskParameters = 15
2017-06-04 20:18:48,259 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-04 20:18:48,339 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-04 20:19:05,555 - DEBUG - ****************************************************
2017-06-04 20:19:05,565 - DEBUG - Current Time is 2017-06-04 20:19:05.565000
2017-06-04 20:19:05,575 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-04 20:19:05,585 - DEBUG - Connecting to database
2017-06-04 20:19:06,030 - DEBUG - Connected to database
2017-06-04 20:19:06,053 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:06,094 - DEBUG - Order Profit is 0
2017-06-04 20:19:06,104 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:06,140 - DEBUG - Stop ID is 0
2017-06-04 20:19:06,184 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:06,194 - DEBUG - Order Entry is 0
2017-06-04 20:19:06,201 - DEBUG - Connecting to IBController
2017-06-04 20:19:09,111 - DEBUG - Connected to IBController
2017-06-04 20:19:09,130 - DEBUG - Position requested
2017-06-04 20:19:10,147 - DEBUG - Open Orders requested
2017-06-04 20:19:12,165 - DEBUG - Connecting to database
2017-06-04 20:19:12,615 - DEBUG - Connected to database
2017-06-04 20:19:12,664 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:12,681 - DEBUG - Stop loss value is 0
2017-06-04 20:19:12,716 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:12,723 - DEBUG - Stop quantity 0
2017-06-04 20:19:12,759 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:12,769 - DEBUG - Direction is 0
2017-06-04 20:19:12,805 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:12,813 - DEBUG - Count is 1
2017-06-04 20:19:12,851 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-04 20:19:12,924 - DEBUG - Stop Loss Flag is 1
2017-06-04 20:19:12,936 - DEBUG - Today is 2017-06-04
2017-06-04 20:19:12,944 - DEBUG - Day of the week 6
2017-06-04 20:19:12,954 - DEBUG - Yesterday is 06/03/2017
2017-06-04 20:19:12,964 - DEBUG - In Position is  0
2017-06-04 20:19:12,976 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-04 20:19:12,984 - DEBUG - Checking if Entry has been filled
2017-06-04 20:19:12,993 - DEBUG - Try to Cancel Stop
2017-06-04 20:19:13,003 - DEBUG - Stop API ID 0
2017-06-04 20:19:13,013 - DEBUG - Profit API ID 0
2017-06-04 20:19:13,022 - DEBUG - Pos is 0
2017-06-04 20:19:13,032 - DEBUG - CurCount is 1
2017-06-04 20:19:13,040 - DEBUG - In Pos 0
2017-06-04 20:19:13,051 - DEBUG - Stop ID is 0
2017-06-04 20:19:13,059 - DEBUG - Stop API ID 0
2017-06-04 20:19:13,068 - DEBUG - Profit API ID 0
2017-06-04 20:19:13,076 - DEBUG - Pos is 0
2017-06-04 20:19:13,085 - DEBUG - CurCount is 1
2017-06-04 20:19:13,095 - DEBUG - In Pos 0
2017-06-04 20:19:13,102 - DEBUG - profitID is 0
2017-06-04 20:19:13,111 - DEBUG - stopID is 0
2017-06-04 20:19:13,124 - DEBUG - Entry Date is 10
2017-06-04 20:19:13,131 - DEBUG - confirming yesterday is 06/03/2017
2017-06-04 20:19:13,141 - DEBUG - Order Profit ID is 0
2017-06-04 20:19:13,153 - DEBUG - Order Entry ID is 0
2017-06-04 20:19:13,161 - DEBUG - API ID is  0
2017-06-04 20:19:13,171 - DEBUG - Current Position is 1
2017-06-04 20:19:13,180 - DEBUG - Checking if Positions should be close at EOD
2017-06-04 20:19:13,190 - DEBUG - Disconnected from IBController
2017-06-04 20:19:13,198 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-11 15:26:47,904 - DEBUG - ****************************************************
2017-06-11 15:26:47,918 - DEBUG - Current Time is 2017-06-11 15:26:47.919000
2017-06-11 15:26:47,934 - DEBUG - Starting Pos Mgmt AUD CHF
2017-06-11 15:26:47,948 - DEBUG - Connecting to database
2017-06-11 15:26:48,592 - DEBUG - Connected to database
2017-06-11 15:26:48,628 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:48,677 - DEBUG - Order Profit is 74
2017-06-11 15:26:48,694 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:48,742 - DEBUG - Stop ID is 75
2017-06-11 15:26:48,778 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:48,789 - DEBUG - Order Entry is 73
2017-06-11 15:26:48,802 - DEBUG - Connecting to IBController
2017-06-11 15:26:50,821 - DEBUG - Connected to IBController
2017-06-11 15:26:50,835 - DEBUG - Position requested
2017-06-11 15:26:51,844 - DEBUG - Open Orders requested
2017-06-11 15:26:53,864 - DEBUG - Connecting to database
2017-06-11 15:26:54,351 - DEBUG - Connected to database
2017-06-11 15:26:54,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:54,418 - DEBUG - Stop loss value is 0.7277
2017-06-11 15:26:54,469 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:54,484 - DEBUG - Stop quantity 50000
2017-06-11 15:26:54,526 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:54,536 - DEBUG - Direction is Long
2017-06-11 15:26:54,568 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:54,578 - DEBUG - Count is 0
2017-06-11 15:26:54,617 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:26:54,628 - DEBUG - Stop Loss Flag is 1
2017-06-11 15:26:54,641 - DEBUG - Today is 2017-06-11
2017-06-11 15:26:54,654 - DEBUG - Day of the week 6
2017-06-11 15:26:54,667 - DEBUG - Yesterday is 06/10/2017
2017-06-11 15:26:54,681 - DEBUG - In Position is  0
2017-06-11 15:26:54,694 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-11 15:26:54,710 - DEBUG - Checking if Entry has been filled
2017-06-11 15:26:54,723 - DEBUG - Try to Cancel Stop
2017-06-11 15:26:54,734 - DEBUG - Stop API ID 0
2017-06-11 15:26:54,750 - DEBUG - Profit API ID 0
2017-06-11 15:26:54,760 - DEBUG - Pos is 0
2017-06-11 15:26:54,770 - DEBUG - CurCount is 0
2017-06-11 15:26:54,782 - DEBUG - In Pos 0
2017-06-11 15:26:54,792 - DEBUG - Stop ID is 75
2017-06-11 15:26:54,803 - DEBUG - Stop API ID 0
2017-06-11 15:26:54,815 - DEBUG - Profit API ID 0
2017-06-11 15:26:54,829 - DEBUG - Pos is 0
2017-06-11 15:26:54,841 - DEBUG - CurCount is 0
2017-06-11 15:26:54,852 - DEBUG - In Pos 0
2017-06-11 15:26:54,865 - DEBUG - profitID is 74
2017-06-11 15:26:54,878 - DEBUG - stopID is 75
2017-06-11 15:26:54,894 - DEBUG - Entry Date is 10
2017-06-11 15:26:54,905 - DEBUG - confirming yesterday is 06/10/2017
2017-06-11 15:26:54,915 - DEBUG - Order Profit ID is 74
2017-06-11 15:26:54,934 - DEBUG - Order Entry ID is 73
2017-06-11 15:26:54,948 - DEBUG - API ID is  0
2017-06-11 15:26:54,963 - DEBUG - Current Position is 0
2017-06-11 15:26:54,973 - DEBUG - Checking if Positions should be close at EOD
2017-06-11 15:26:54,986 - DEBUG - Time is 03:26PM
2017-06-11 15:26:54,996 - DEBUG - Disconnected from IBController
2017-06-11 15:26:55,009 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-11 15:28:58,007 - DEBUG - ****************************************************
2017-06-11 15:28:58,026 - DEBUG - Current Time is 2017-06-11 15:28:58.026000
2017-06-11 15:28:58,045 - DEBUG - Starting Pos Mgmt AUD CHF
2017-06-11 15:28:58,056 - DEBUG - Connecting to database
2017-06-11 15:28:58,542 - DEBUG - Connected to database
2017-06-11 15:28:58,571 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:28:58,621 - DEBUG - Order Profit is 74
2017-06-11 15:28:58,641 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:28:58,687 - DEBUG - Stop ID is 75
2017-06-11 15:28:58,721 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:28:58,733 - DEBUG - Order Entry is 73
2017-06-11 15:28:58,743 - DEBUG - Connecting to IBController
2017-06-11 15:29:00,756 - DEBUG - Connected to IBController
2017-06-11 15:29:00,776 - DEBUG - Position requested
2017-06-11 15:29:01,793 - DEBUG - Open Orders requested
2017-06-11 15:29:03,805 - DEBUG - Connecting to database
2017-06-11 15:29:04,278 - DEBUG - Connected to database
2017-06-11 15:29:04,313 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:04,328 - DEBUG - Stop loss value is 0.7277
2017-06-11 15:29:04,375 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:04,390 - DEBUG - Stop quantity 50000
2017-06-11 15:29:04,427 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:04,440 - DEBUG - Direction is Long
2017-06-11 15:29:04,473 - DEBUG - Query is SELECT Count FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:04,493 - DEBUG - Count is 0
2017-06-11 15:29:04,532 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:04,542 - DEBUG - Stop Loss Flag is 1
2017-06-11 15:29:04,556 - DEBUG - Today is 2017-06-11
2017-06-11 15:29:04,571 - DEBUG - Day of the week 6
2017-06-11 15:29:04,584 - DEBUG - Yesterday is 06/10/2017
2017-06-11 15:29:04,595 - DEBUG - In Position is  0
2017-06-11 15:29:04,608 - DEBUG - curStopLossFlag is  (u'1',)
2017-06-11 15:29:04,621 - DEBUG - Checking if Entry has been filled
2017-06-11 15:29:04,635 - DEBUG - Try to Cancel Stop
2017-06-11 15:29:04,654 - DEBUG - Stop API ID 0
2017-06-11 15:29:04,667 - DEBUG - Profit API ID 0
2017-06-11 15:29:04,680 - DEBUG - Pos is 0
2017-06-11 15:29:04,694 - DEBUG - CurCount is 0
2017-06-11 15:29:04,707 - DEBUG - In Pos 0
2017-06-11 15:29:04,720 - DEBUG - Stop ID is 75
2017-06-11 15:29:04,733 - DEBUG - Stop API ID 0
2017-06-11 15:29:04,746 - DEBUG - Profit API ID 0
2017-06-11 15:29:04,756 - DEBUG - Pos is 0
2017-06-11 15:29:04,769 - DEBUG - CurCount is 0
2017-06-11 15:29:04,786 - DEBUG - In Pos 0
2017-06-11 15:29:04,799 - DEBUG - profitID is 74
2017-06-11 15:29:04,811 - DEBUG - stopID is 75
2017-06-11 15:29:04,822 - DEBUG - Entry Date is 10
2017-06-11 15:29:04,838 - DEBUG - confirming yesterday is 06/10/2017
2017-06-11 15:29:04,851 - DEBUG - Order Profit ID is 74
2017-06-11 15:29:04,868 - DEBUG - Order Entry ID is 73
2017-06-11 15:29:04,884 - DEBUG - API ID is  0
2017-06-11 15:29:04,901 - DEBUG - Current Position is 0
2017-06-11 15:29:04,914 - DEBUG - Checking if Positions should be close at EOD
2017-06-11 15:29:04,933 - DEBUG - Time is 03:29PM
2017-06-11 15:29:04,944 - DEBUG - Disconnected from IBController
2017-06-11 15:29:04,954 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-11 15:29:24,967 - DEBUG - ****************************************************
2017-06-11 15:29:24,987 - DEBUG - Current Time is 2017-06-11 15:29:24.988000
2017-06-11 15:29:25,000 - DEBUG - Starting Pos Mgmt AUD CHF
2017-06-11 15:29:25,013 - DEBUG - Connecting to database
2017-06-11 15:29:26,180 - DEBUG - Connected to database
2017-06-11 15:29:26,196 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:26,233 - DEBUG - Order Profit is 74
2017-06-11 15:29:26,255 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:26,312 - DEBUG - Stop ID is 75
2017-06-11 15:29:26,358 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'AUDCHF'
2017-06-11 15:29:26,374 - DEBUG - Order Entry is 73
2017-06-11 15:29:26,387 - DEBUG - Connecting to IBController
2017-06-11 15:29:28,413 - DEBUG - Connected to IBController
2017-06-11 15:29:28,431 - DEBUG - Position requested
2017-06-11 15:29:29,451 - DEBUG - Open Orders requested
2017-06-11 15:29:31,467 - DEBUG - Connecting to database
