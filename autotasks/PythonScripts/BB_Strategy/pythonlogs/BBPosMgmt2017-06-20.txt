2017-06-20 22:03:31,261 - DEBUG - ****************************************************
2017-06-20 22:03:31,268 - DEBUG - Current Time is 2017-06-20 22:03:31.268612
2017-06-20 22:04:26,263 - DEBUG - ****************************************************
2017-06-20 22:04:26,271 - DEBUG - Current Time is 2017-06-20 22:04:26.271758
2017-06-20 22:04:26,280 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:04:26,286 - DEBUG - Connecting to database
2017-06-20 22:04:26,973 - DEBUG - Connected to database
2017-06-20 22:04:26,982 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:27,030 - DEBUG - Order Profit is 0
2017-06-20 22:04:27,039 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:27,075 - DEBUG - Stop ID is 0
2017-06-20 22:04:27,105 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:27,111 - DEBUG - Order Entry is 23
2017-06-20 22:04:27,117 - DEBUG - Connecting to IBController
2017-06-20 22:04:30,141 - DEBUG - Connected to IBController
2017-06-20 22:04:30,165 - DEBUG - Position requested
2017-06-20 22:04:30,180 - DEBUG - Pos Mgmt -50000
2017-06-20 22:04:30,194 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F222E8>, pos=-50000, avgCost=0.96746>
2017-06-20 22:04:30,198 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:04:30,202 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:04:30,206 - DEBUG - Position is -50000
2017-06-20 22:04:30,211 - DEBUG - Pos Mgmt 2000
2017-06-20 22:04:30,215 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F223C8>, pos=2000, avgCost=0.76043>
2017-06-20 22:04:30,219 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:04:30,223 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:04:30,228 - DEBUG - Position is 2000
2017-06-20 22:04:30,232 - DEBUG - Pos Mgmt 2000
2017-06-20 22:04:30,236 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F22748>, pos=2000, avgCost=0.88143>
2017-06-20 22:04:30,241 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:04:30,245 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:04:30,249 - DEBUG - Position is 2000
2017-06-20 22:04:30,254 - DEBUG - Pos Mgmt -2000
2017-06-20 22:04:30,258 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F22780>, pos=-2000, avgCost=1.11479>
2017-06-20 22:04:30,262 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:04:30,267 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:04:30,271 - DEBUG - Position is -2000
2017-06-20 22:04:30,275 - DEBUG - In Position
2017-06-20 22:04:30,278 - DEBUG - Position is 1
2017-06-20 22:04:30,284 - DEBUG - Pos Mgmt -50000
2017-06-20 22:04:30,289 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F224E0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:04:30,293 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:04:30,298 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:04:30,301 - DEBUG - Position is -50000
2017-06-20 22:04:30,307 - DEBUG - Pos Mgmt 0
2017-06-20 22:04:30,310 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F22470>, pos=0, avgCost=0.0>
2017-06-20 22:04:30,314 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:04:30,318 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:04:30,323 - DEBUG - Position is 0
2017-06-20 22:04:30,329 - DEBUG - Pos Mgmt 2000
2017-06-20 22:04:30,332 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F224A8>, pos=2000, avgCost=0.72501>
2017-06-20 22:04:30,337 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:04:30,341 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:04:30,345 - DEBUG - Position is 2000
2017-06-20 22:04:30,350 - DEBUG - Pos Mgmt -2000
2017-06-20 22:04:30,354 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F22710>, pos=-2000, avgCost=1.26097>
2017-06-20 22:04:30,358 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:04:30,363 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:04:30,367 - DEBUG - Position is -2000
2017-06-20 22:04:30,372 - DEBUG - Pos Mgmt -50000
2017-06-20 22:04:30,376 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F22828>, pos=-50000, avgCost=110.098>
2017-06-20 22:04:30,379 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:04:30,382 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:04:30,386 - DEBUG - Position is -50000
2017-06-20 22:04:30,393 - DEBUG - Pos Mgmt 2800
2017-06-20 22:04:30,398 - DEBUG - Pos Mgmt 250
2017-06-20 22:04:30,404 - DEBUG - Pos Mgmt 1894
2017-06-20 22:04:30,409 - DEBUG - Pos Mgmt 375
2017-06-20 22:04:30,415 - DEBUG - Pos Mgmt 476
2017-06-20 22:04:30,420 - DEBUG - Pos Mgmt 733
2017-06-20 22:04:30,425 - DEBUG - Pos Mgmt 726
2017-06-20 22:04:30,430 - DEBUG - Pos Mgmt 574
2017-06-20 22:04:30,436 - DEBUG - Pos Mgmt 965
2017-06-20 22:04:30,440 - DEBUG - Pos Mgmt 491
2017-06-20 22:04:31,178 - DEBUG - Open Orders requested
2017-06-20 22:04:33,189 - DEBUG - Connecting to database
2017-06-20 22:04:33,603 - DEBUG - Connected to database
2017-06-20 22:04:33,631 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:33,637 - DEBUG - Stop loss value is 1.117
2017-06-20 22:04:33,663 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:33,668 - DEBUG - Stop quantity 2000
2017-06-20 22:04:33,694 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:33,699 - DEBUG - Direction is Short
2017-06-20 22:04:33,733 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:33,738 - DEBUG - Count is 1
2017-06-20 22:04:33,767 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:04:33,771 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:04:33,777 - DEBUG - Today is 2017-06-20
2017-06-20 22:04:33,783 - DEBUG - Day of the week 1
2017-06-20 22:04:33,788 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:04:33,793 - DEBUG - In Position is  1
2017-06-20 22:04:33,797 - DEBUG - curStopLossFlag is  ('1',)
2017-06-20 22:04:33,801 - DEBUG - Checking if Entry has been filled
2017-06-20 22:04:33,805 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:04:33,810 - DEBUG - Order Profit is ('0',)
2017-06-20 22:04:33,814 - DEBUG - Incremented Order ID for stop loss 1
2017-06-20 22:04:33,818 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:04:33,822 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000008F22710>
2017-06-20 22:04:33,826 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:04:33,830 - DEBUG - In TRAIL STOP function
2017-06-20 22:04:33,834 - DEBUG - Order action Buy
2017-06-20 22:04:33,839 - DEBUG - Limit value is 1
2017-06-20 22:04:33,844 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:04:33,849 - DEBUG - In Buy action. AUX Price price is 1.1170
2017-06-20 22:04:33,854 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:04:33,862 - DEBUG - Short stop order placed
2017-06-20 22:04:33,866 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:04:33,950 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:04:34,040 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:04:34,105 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:12:37,202 - DEBUG - ****************************************************
2017-06-20 22:12:37,219 - DEBUG - Current Time is 2017-06-20 22:12:37.219839
2017-06-20 22:12:37,244 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:12:37,253 - DEBUG - Connecting to database
2017-06-20 22:12:37,462 - DEBUG - Connected to database
2017-06-20 22:12:37,473 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:37,537 - DEBUG - Order Profit is 0
2017-06-20 22:12:37,546 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:37,582 - DEBUG - Stop ID is 0
2017-06-20 22:12:37,620 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:37,626 - DEBUG - Order Entry is 23
2017-06-20 22:12:37,633 - DEBUG - Connecting to IBController
2017-06-20 22:12:40,377 - DEBUG - Connected to IBController
2017-06-20 22:12:40,392 - DEBUG - Position requested
2017-06-20 22:12:41,404 - DEBUG - Open Orders requested
2017-06-20 22:12:43,418 - DEBUG - Connecting to database
2017-06-20 22:12:43,897 - DEBUG - Connected to database
2017-06-20 22:12:43,931 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:43,944 - DEBUG - Stop loss value is 1.117
2017-06-20 22:12:43,980 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:43,987 - DEBUG - Stop quantity 2000
2017-06-20 22:12:44,019 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:44,028 - DEBUG - Direction is Short
2017-06-20 22:12:44,062 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:44,069 - DEBUG - Count is 1
2017-06-20 22:12:44,107 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:12:44,115 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:12:44,149 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:12:44,158 - DEBUG - Max ID Order is 27
2017-06-20 22:12:44,166 - DEBUG - Today is 2017-06-20
2017-06-20 22:12:44,174 - DEBUG - Day of the week 1
2017-06-20 22:12:44,181 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:12:44,189 - DEBUG - In Position is  0
2017-06-20 22:12:44,195 - DEBUG - curStopLossFlag is  (27,)
2017-06-20 22:12:44,200 - DEBUG - Checking if Entry has been filled
2017-06-20 22:12:44,206 - DEBUG - Try to Cancel Stop
2017-06-20 22:12:44,212 - DEBUG - Stop API ID 0
2017-06-20 22:12:44,218 - DEBUG - Profit API ID 0
2017-06-20 22:12:44,225 - DEBUG - Pos is 0
2017-06-20 22:12:44,230 - DEBUG - CurCount is 1
2017-06-20 22:12:44,236 - DEBUG - In Pos 0
2017-06-20 22:12:44,242 - DEBUG - Stop ID is 0
2017-06-20 22:12:44,248 - DEBUG - Stop API ID 0
2017-06-20 22:12:44,254 - DEBUG - Profit API ID 0
2017-06-20 22:12:44,260 - DEBUG - Pos is 0
2017-06-20 22:12:44,267 - DEBUG - CurCount is 1
2017-06-20 22:12:44,273 - DEBUG - In Pos 0
2017-06-20 22:12:44,279 - DEBUG - profitID is 0
2017-06-20 22:12:44,285 - DEBUG - stopID is 0
2017-06-20 22:12:44,291 - DEBUG - Entry Date is 10
2017-06-20 22:12:44,297 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:12:44,303 - DEBUG - Order Profit ID is 0
2017-06-20 22:12:44,309 - DEBUG - Order Entry ID is 23
2017-06-20 22:12:44,315 - DEBUG - API ID is  0
2017-06-20 22:12:44,322 - DEBUG - Current Position is 1
2017-06-20 22:12:44,328 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:12:44,334 - DEBUG - Time is 22
2017-06-20 22:12:44,340 - DEBUG - Disconnected from IBController
2017-06-20 22:12:44,344 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:13:43,580 - DEBUG - ****************************************************
2017-06-20 22:13:43,592 - DEBUG - Current Time is 2017-06-20 22:13:43.592635
2017-06-20 22:13:43,601 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:13:43,610 - DEBUG - Connecting to database
2017-06-20 22:13:44,091 - DEBUG - Connected to database
2017-06-20 22:13:44,102 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:44,142 - DEBUG - Order Profit is 0
2017-06-20 22:13:44,152 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:44,188 - DEBUG - Stop ID is 0
2017-06-20 22:13:44,229 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:44,239 - DEBUG - Order Entry is 23
2017-06-20 22:13:44,249 - DEBUG - Connecting to IBController
2017-06-20 22:13:47,728 - DEBUG - Connected to IBController
2017-06-20 22:13:47,746 - DEBUG - Position requested
2017-06-20 22:13:48,758 - DEBUG - Open Orders requested
2017-06-20 22:13:50,777 - DEBUG - Connecting to database
2017-06-20 22:13:51,029 - DEBUG - Connected to database
2017-06-20 22:13:51,064 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:51,075 - DEBUG - Stop loss value is 1.117
2017-06-20 22:13:51,115 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:51,123 - DEBUG - Stop quantity 2000
2017-06-20 22:13:51,183 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:51,191 - DEBUG - Direction is Short
2017-06-20 22:13:51,232 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:51,243 - DEBUG - Count is 1
2017-06-20 22:13:51,278 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:13:51,289 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:13:51,324 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:13:51,332 - DEBUG - Max ID Order is (27,)
2017-06-20 22:13:51,340 - DEBUG - Today is 2017-06-20
2017-06-20 22:13:51,348 - DEBUG - Day of the week 1
2017-06-20 22:13:51,356 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:13:51,364 - DEBUG - In Position is  0
2017-06-20 22:13:51,373 - DEBUG - curStopLossFlag is  ('1',)
2017-06-20 22:13:51,380 - DEBUG - Checking if Entry has been filled
2017-06-20 22:13:51,388 - DEBUG - Try to Cancel Stop
2017-06-20 22:13:51,396 - DEBUG - Stop API ID 0
2017-06-20 22:13:51,404 - DEBUG - Profit API ID 0
2017-06-20 22:13:51,412 - DEBUG - Pos is 0
2017-06-20 22:13:51,419 - DEBUG - CurCount is 1
2017-06-20 22:13:51,427 - DEBUG - In Pos 0
2017-06-20 22:13:51,434 - DEBUG - Stop ID is 0
2017-06-20 22:13:51,442 - DEBUG - Stop API ID 0
2017-06-20 22:13:51,450 - DEBUG - Profit API ID 0
2017-06-20 22:13:51,457 - DEBUG - Pos is 0
2017-06-20 22:13:51,465 - DEBUG - CurCount is 1
2017-06-20 22:13:51,472 - DEBUG - In Pos 0
2017-06-20 22:13:51,481 - DEBUG - profitID is 0
2017-06-20 22:13:51,489 - DEBUG - stopID is 0
2017-06-20 22:13:51,496 - DEBUG - Entry Date is 10
2017-06-20 22:13:51,504 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:13:51,512 - DEBUG - Order Profit ID is 0
2017-06-20 22:13:51,520 - DEBUG - Order Entry ID is 23
2017-06-20 22:13:51,530 - DEBUG - API ID is  0
2017-06-20 22:13:51,538 - DEBUG - Current Position is 1
2017-06-20 22:13:51,547 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:13:51,555 - DEBUG - Time is 22
2017-06-20 22:13:51,563 - DEBUG - Disconnected from IBController
2017-06-20 22:13:51,570 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:15:16,721 - DEBUG - ****************************************************
2017-06-20 22:15:16,735 - DEBUG - Current Time is 2017-06-20 22:15:16.734963
2017-06-20 22:15:16,746 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:15:16,757 - DEBUG - Connecting to database
2017-06-20 22:15:17,202 - DEBUG - Connected to database
2017-06-20 22:15:17,224 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:17,265 - DEBUG - Order Profit is 0
2017-06-20 22:15:17,277 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:17,310 - DEBUG - Stop ID is 0
2017-06-20 22:15:17,353 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:17,373 - DEBUG - Order Entry is 23
2017-06-20 22:15:17,390 - DEBUG - Connecting to IBController
2017-06-20 22:15:20,166 - DEBUG - Connected to IBController
2017-06-20 22:15:20,194 - DEBUG - Position requested
2017-06-20 22:15:21,213 - DEBUG - Open Orders requested
2017-06-20 22:15:23,235 - DEBUG - Connecting to database
2017-06-20 22:15:24,211 - DEBUG - Connected to database
2017-06-20 22:15:24,264 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:24,285 - DEBUG - Stop loss value is 1.117
2017-06-20 22:15:24,327 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:24,339 - DEBUG - Stop quantity 2000
2017-06-20 22:15:24,374 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:24,385 - DEBUG - Direction is Short
2017-06-20 22:15:24,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:24,450 - DEBUG - Count is 1
2017-06-20 22:15:24,484 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:15:24,496 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:15:24,538 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:15:24,550 - DEBUG - Max ID Order is (27,)
2017-06-20 22:15:24,559 - DEBUG - Today is 2017-06-20
2017-06-20 22:15:24,569 - DEBUG - Day of the week 1
2017-06-20 22:15:24,579 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:15:24,589 - DEBUG - In Position is  0
2017-06-20 22:15:24,599 - DEBUG - curStopLossFlag is  ('0',)
2017-06-20 22:15:24,609 - DEBUG - Checking if Entry has been filled
2017-06-20 22:15:24,619 - DEBUG - Try to Cancel Stop
2017-06-20 22:15:24,628 - DEBUG - Stop API ID 0
2017-06-20 22:15:24,637 - DEBUG - Profit API ID 0
2017-06-20 22:15:24,649 - DEBUG - Pos is 0
2017-06-20 22:15:24,660 - DEBUG - CurCount is 1
2017-06-20 22:15:24,669 - DEBUG - In Pos 0
2017-06-20 22:15:24,680 - DEBUG - Stop ID is 0
2017-06-20 22:15:24,690 - DEBUG - Stop API ID 0
2017-06-20 22:15:24,701 - DEBUG - Profit API ID 0
2017-06-20 22:15:24,712 - DEBUG - Pos is 0
2017-06-20 22:15:24,722 - DEBUG - CurCount is 1
2017-06-20 22:15:24,732 - DEBUG - In Pos 0
2017-06-20 22:15:24,742 - DEBUG - profitID is 0
2017-06-20 22:15:24,753 - DEBUG - stopID is 0
2017-06-20 22:15:24,764 - DEBUG - Entry Date is 10
2017-06-20 22:15:24,777 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:15:24,789 - DEBUG - Order Profit ID is 0
2017-06-20 22:15:24,803 - DEBUG - Order Entry ID is 23
2017-06-20 22:15:24,815 - DEBUG - API ID is  0
2017-06-20 22:15:24,827 - DEBUG - Current Position is 1
2017-06-20 22:15:24,837 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:15:24,850 - DEBUG - Time is 22
2017-06-20 22:15:24,859 - DEBUG - Disconnected from IBController
2017-06-20 22:15:24,872 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:16:33,800 - DEBUG - ****************************************************
2017-06-20 22:16:33,814 - DEBUG - Current Time is 2017-06-20 22:16:33.814372
2017-06-20 22:16:33,828 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:16:33,840 - DEBUG - Connecting to database
2017-06-20 22:16:34,290 - DEBUG - Connected to database
2017-06-20 22:16:34,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:34,355 - DEBUG - Order Profit is 0
2017-06-20 22:16:34,372 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:34,463 - DEBUG - Stop ID is 0
2017-06-20 22:16:34,503 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:34,519 - DEBUG - Order Entry is 23
2017-06-20 22:16:34,536 - DEBUG - Connecting to IBController
2017-06-20 22:16:37,242 - DEBUG - Connected to IBController
2017-06-20 22:16:37,276 - DEBUG - Position requested
2017-06-20 22:16:38,289 - DEBUG - Open Orders requested
2017-06-20 22:16:40,317 - DEBUG - Connecting to database
2017-06-20 22:16:40,575 - DEBUG - Connected to database
2017-06-20 22:16:40,616 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:40,631 - DEBUG - Stop loss value is 1.117
2017-06-20 22:16:40,668 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:40,680 - DEBUG - Stop quantity 2000
2017-06-20 22:16:40,716 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:40,728 - DEBUG - Direction is Short
2017-06-20 22:16:40,762 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:40,775 - DEBUG - Count is 1
2017-06-20 22:16:40,812 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:16:40,825 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:16:40,867 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:16:40,879 - DEBUG - Max ID Order is (27,)
2017-06-20 22:16:40,893 - DEBUG - Today is 2017-06-20
2017-06-20 22:16:40,905 - DEBUG - Day of the week 1
2017-06-20 22:16:40,916 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:16:40,928 - DEBUG - In Position is  0
2017-06-20 22:16:40,939 - DEBUG - curStopLossFlag is  ('0',)
2017-06-20 22:16:40,950 - DEBUG - Checking if Entry has been filled
2017-06-20 22:16:40,962 - DEBUG - Try to Cancel Stop
2017-06-20 22:16:40,974 - DEBUG - Stop API ID 0
2017-06-20 22:16:40,985 - DEBUG - Profit API ID 0
2017-06-20 22:16:40,998 - DEBUG - Pos is 0
2017-06-20 22:16:41,009 - DEBUG - CurCount is 1
2017-06-20 22:16:41,022 - DEBUG - In Pos 0
2017-06-20 22:16:41,035 - DEBUG - Stop ID is 0
2017-06-20 22:16:41,048 - DEBUG - Stop API ID 0
2017-06-20 22:16:41,059 - DEBUG - Profit API ID 0
2017-06-20 22:16:41,073 - DEBUG - Pos is 0
2017-06-20 22:16:41,084 - DEBUG - CurCount is 1
2017-06-20 22:16:41,095 - DEBUG - In Pos 0
2017-06-20 22:16:41,109 - DEBUG - profitID is 0
2017-06-20 22:16:41,120 - DEBUG - stopID is 0
2017-06-20 22:16:41,134 - DEBUG - Entry Date is 10
2017-06-20 22:16:41,145 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:16:41,158 - DEBUG - Order Profit ID is 0
2017-06-20 22:16:41,171 - DEBUG - Order Entry ID is 23
2017-06-20 22:16:41,183 - DEBUG - API ID is  0
2017-06-20 22:16:41,196 - DEBUG - Current Position is 1
2017-06-20 22:16:41,207 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:16:41,220 - DEBUG - Time is 22
2017-06-20 22:16:41,232 - DEBUG - Disconnected from IBController
2017-06-20 22:16:41,245 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:18:39,429 - DEBUG - ****************************************************
2017-06-20 22:18:39,446 - DEBUG - Current Time is 2017-06-20 22:18:39.446557
2017-06-20 22:18:39,462 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:18:39,478 - DEBUG - Connecting to database
2017-06-20 22:18:39,928 - DEBUG - Connected to database
2017-06-20 22:18:39,947 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:18:39,988 - DEBUG - Order Profit is 0
2017-06-20 22:18:40,003 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:18:40,041 - DEBUG - Stop ID is 0
2017-06-20 22:18:40,088 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:18:40,107 - DEBUG - Order Entry is 23
2017-06-20 22:18:40,123 - DEBUG - Connecting to IBController
2017-06-20 22:19:08,895 - DEBUG - Connected to IBController
2017-06-20 22:19:08,916 - DEBUG - Position requested
2017-06-20 22:19:09,939 - DEBUG - Open Orders requested
2017-06-20 22:19:11,961 - DEBUG - Connecting to database
2017-06-20 22:19:12,488 - DEBUG - Connected to database
2017-06-20 22:19:12,557 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:19:12,584 - DEBUG - Stop loss value is 1.117
2017-06-20 22:19:12,623 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:19:12,637 - DEBUG - Stop quantity 2000
2017-06-20 22:19:12,676 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:19:12,691 - DEBUG - Direction is Short
2017-06-20 22:19:12,726 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:19:12,743 - DEBUG - Count is 1
2017-06-20 22:19:12,792 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:19:12,821 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:19:13,692 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:19:13,732 - DEBUG - Max ID Order is (27,)
2017-06-20 22:19:13,746 - DEBUG - Today is 2017-06-20
2017-06-20 22:19:13,761 - DEBUG - Day of the week 1
2017-06-20 22:19:13,775 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:19:13,789 - DEBUG - In Position is  0
2017-06-20 22:19:13,802 - DEBUG - curStopLossFlag is  ('0',)
2017-06-20 22:19:13,816 - DEBUG - Checking if Entry has been filled
2017-06-20 22:19:13,830 - DEBUG - Try to Cancel Stop
2017-06-20 22:19:13,845 - DEBUG - Stop API ID 0
2017-06-20 22:19:13,859 - DEBUG - Profit API ID 0
2017-06-20 22:19:13,872 - DEBUG - Pos is 0
2017-06-20 22:19:13,886 - DEBUG - CurCount is 1
2017-06-20 22:19:13,902 - DEBUG - In Pos 0
2017-06-20 22:19:13,917 - DEBUG - Stop ID is 0
2017-06-20 22:19:13,930 - DEBUG - Stop API ID 0
2017-06-20 22:19:13,946 - DEBUG - Profit API ID 0
2017-06-20 22:19:13,960 - DEBUG - Pos is 0
2017-06-20 22:19:13,975 - DEBUG - CurCount is 1
2017-06-20 22:19:13,993 - DEBUG - In Pos 0
2017-06-20 22:19:14,008 - DEBUG - profitID is 0
2017-06-20 22:19:14,023 - DEBUG - stopID is 0
2017-06-20 22:19:14,037 - DEBUG - Entry Date is 10
2017-06-20 22:19:14,052 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:19:14,068 - DEBUG - Order Profit ID is 0
2017-06-20 22:19:14,083 - DEBUG - Order Entry ID is 23
2017-06-20 22:19:14,097 - DEBUG - API ID is  0
2017-06-20 22:19:14,111 - DEBUG - Current Position is 1
2017-06-20 22:19:14,127 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:19:14,143 - DEBUG - Time is 22
2017-06-20 22:19:14,158 - DEBUG - Disconnected from IBController
2017-06-20 22:19:14,175 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:20:37,722 - DEBUG - ****************************************************
2017-06-20 22:20:37,733 - DEBUG - Current Time is 2017-06-20 22:20:37.733323
2017-06-20 22:20:37,737 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:20:37,741 - DEBUG - Connecting to database
2017-06-20 22:20:38,180 - DEBUG - Connected to database
2017-06-20 22:20:38,184 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:38,212 - DEBUG - Order Profit is 0
2017-06-20 22:20:38,214 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:38,241 - DEBUG - Stop ID is 0
2017-06-20 22:20:38,266 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:38,271 - DEBUG - Order Entry is 23
2017-06-20 22:20:38,274 - DEBUG - Connecting to IBController
2017-06-20 22:20:41,111 - DEBUG - Connected to IBController
2017-06-20 22:20:41,117 - DEBUG - Position requested
2017-06-20 22:20:41,143 - DEBUG - Pos Mgmt -50000
2017-06-20 22:20:41,152 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9588>, pos=-50000, avgCost=0.96746>
2017-06-20 22:20:41,155 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:20:41,158 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:20:41,160 - DEBUG - Position is -50000
2017-06-20 22:20:41,163 - DEBUG - Pos Mgmt 2000
2017-06-20 22:20:41,165 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9780>, pos=2000, avgCost=0.76043>
2017-06-20 22:20:41,167 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:20:41,169 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:20:41,172 - DEBUG - Position is 2000
2017-06-20 22:20:41,175 - DEBUG - Pos Mgmt 2000
2017-06-20 22:20:41,177 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC96A0>, pos=2000, avgCost=0.88143>
2017-06-20 22:20:41,179 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:20:41,182 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:20:41,184 - DEBUG - Position is 2000
2017-06-20 22:20:41,186 - DEBUG - Pos Mgmt -2000
2017-06-20 22:20:41,188 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9710>, pos=-2000, avgCost=1.11479>
2017-06-20 22:20:41,191 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:20:41,193 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:20:41,196 - DEBUG - Position is -2000
2017-06-20 22:20:41,198 - DEBUG - In Position
2017-06-20 22:20:41,200 - DEBUG - Position is 1
2017-06-20 22:20:41,203 - DEBUG - Pos Mgmt -50000
2017-06-20 22:20:41,205 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC97B8>, pos=-50000, avgCost=0.7318>
2017-06-20 22:20:41,207 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:20:41,210 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:20:41,213 - DEBUG - Position is -50000
2017-06-20 22:20:41,216 - DEBUG - Pos Mgmt 0
2017-06-20 22:20:41,218 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=0, avgCost=0.0>
2017-06-20 22:20:41,220 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:20:41,222 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:20:41,224 - DEBUG - Position is 0
2017-06-20 22:20:41,227 - DEBUG - Pos Mgmt 2000
2017-06-20 22:20:41,229 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A58>, pos=2000, avgCost=0.72501>
2017-06-20 22:20:41,232 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:20:41,235 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:20:41,237 - DEBUG - Position is 2000
2017-06-20 22:20:41,240 - DEBUG - Pos Mgmt -2000
2017-06-20 22:20:41,242 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC95F8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:20:41,244 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:20:41,247 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:20:41,249 - DEBUG - Position is -2000
2017-06-20 22:20:41,252 - DEBUG - Pos Mgmt -50000
2017-06-20 22:20:41,254 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC99B0>, pos=-50000, avgCost=110.098>
2017-06-20 22:20:41,256 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:20:41,258 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:20:41,260 - DEBUG - Position is -50000
2017-06-20 22:20:41,263 - DEBUG - Pos Mgmt 2800
2017-06-20 22:20:41,266 - DEBUG - Pos Mgmt 250
2017-06-20 22:20:41,268 - DEBUG - Pos Mgmt 1894
2017-06-20 22:20:41,271 - DEBUG - Pos Mgmt 375
2017-06-20 22:20:41,274 - DEBUG - Pos Mgmt 476
2017-06-20 22:20:41,276 - DEBUG - Pos Mgmt 733
2017-06-20 22:20:41,279 - DEBUG - Pos Mgmt 726
2017-06-20 22:20:41,282 - DEBUG - Pos Mgmt 574
2017-06-20 22:20:41,284 - DEBUG - Pos Mgmt 965
2017-06-20 22:20:41,287 - DEBUG - Pos Mgmt 491
2017-06-20 22:20:42,146 - DEBUG - Open Orders requested
2017-06-20 22:20:44,153 - DEBUG - Connecting to database
2017-06-20 22:20:44,589 - DEBUG - Connected to database
2017-06-20 22:20:44,632 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:44,635 - DEBUG - Stop loss value is 1.117
2017-06-20 22:20:44,668 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:44,670 - DEBUG - Stop quantity 2000
2017-06-20 22:20:44,930 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:44,934 - DEBUG - Direction is Short
2017-06-20 22:20:44,966 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:44,969 - DEBUG - Count is 1
2017-06-20 22:20:44,996 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:20:45,000 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:20:45,052 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:20:45,056 - DEBUG - Max ID Order is (27,)
2017-06-20 22:20:45,060 - DEBUG - Today is 2017-06-20
2017-06-20 22:20:45,067 - DEBUG - Day of the week 1
2017-06-20 22:20:45,071 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:20:45,075 - DEBUG - In Position is  1
2017-06-20 22:20:45,078 - DEBUG - curStopLossFlag is  ('0',)
2017-06-20 22:20:45,080 - DEBUG - Checking if Entry has been filled
2017-06-20 22:20:45,082 - DEBUG - Try to Cancel Stop
2017-06-20 22:20:45,085 - DEBUG - Stop API ID 0
2017-06-20 22:20:45,088 - DEBUG - Profit API ID 0
2017-06-20 22:20:45,091 - DEBUG - Pos is 1
2017-06-20 22:20:45,093 - DEBUG - CurCount is 1
2017-06-20 22:20:45,096 - DEBUG - In Pos 1
2017-06-20 22:20:45,099 - DEBUG - Stop ID is 0
2017-06-20 22:20:45,102 - DEBUG - Stop API ID 0
2017-06-20 22:20:45,104 - DEBUG - Profit API ID 0
2017-06-20 22:20:45,107 - DEBUG - Pos is 1
2017-06-20 22:20:45,109 - DEBUG - CurCount is 1
2017-06-20 22:20:45,111 - DEBUG - In Pos 1
2017-06-20 22:20:45,113 - DEBUG - profitID is 0
2017-06-20 22:20:45,115 - DEBUG - stopID is 0
2017-06-20 22:20:45,117 - DEBUG - Entry Date is 10
2017-06-20 22:20:45,119 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:20:45,122 - DEBUG - Order Profit ID is 0
2017-06-20 22:20:45,124 - DEBUG - Order Entry ID is 23
2017-06-20 22:20:45,126 - DEBUG - API ID is  0
2017-06-20 22:20:45,128 - DEBUG - Current Position is 1
2017-06-20 22:20:45,130 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:20:45,133 - DEBUG - Time is 22
2017-06-20 22:20:45,135 - DEBUG - Disconnected from IBController
2017-06-20 22:20:45,139 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:21:32,535 - DEBUG - ****************************************************
2017-06-20 22:21:32,539 - DEBUG - Current Time is 2017-06-20 22:21:32.539458
2017-06-20 22:21:32,544 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:21:32,552 - DEBUG - Connecting to database
2017-06-20 22:21:32,747 - DEBUG - Connected to database
2017-06-20 22:21:32,753 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:32,783 - DEBUG - Order Profit is 0
2017-06-20 22:21:32,787 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:32,818 - DEBUG - Stop ID is 0
2017-06-20 22:21:32,846 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:32,850 - DEBUG - Order Entry is 23
2017-06-20 22:21:32,854 - DEBUG - Connecting to IBController
2017-06-20 22:21:35,683 - DEBUG - Connected to IBController
2017-06-20 22:21:35,698 - DEBUG - Pos Mgmt -50000
2017-06-20 22:21:35,713 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=-50000, avgCost=0.96746>
2017-06-20 22:21:35,716 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:21:35,720 - DEBUG - Position requested
2017-06-20 22:21:35,724 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:21:35,738 - DEBUG - Position is -50000
2017-06-20 22:21:35,744 - DEBUG - Pos Mgmt 2000
2017-06-20 22:21:35,749 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9048>, pos=2000, avgCost=0.76043>
2017-06-20 22:21:35,755 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:21:35,760 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:21:35,765 - DEBUG - Position is 2000
2017-06-20 22:21:35,772 - DEBUG - Pos Mgmt 2000
2017-06-20 22:21:35,777 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=2000, avgCost=0.88143>
2017-06-20 22:21:35,783 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:21:35,788 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:21:35,793 - DEBUG - Position is 2000
2017-06-20 22:21:35,799 - DEBUG - Pos Mgmt -2000
2017-06-20 22:21:35,805 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9048>, pos=-2000, avgCost=1.11479>
2017-06-20 22:21:35,813 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:21:35,819 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:21:35,823 - DEBUG - Position is -2000
2017-06-20 22:21:35,829 - DEBUG - In Position
2017-06-20 22:21:35,835 - DEBUG - Position is 1
2017-06-20 22:21:35,841 - DEBUG - Pos Mgmt -50000
2017-06-20 22:21:35,847 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=-50000, avgCost=0.7318>
2017-06-20 22:21:35,853 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:21:35,858 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:21:35,863 - DEBUG - Position is -50000
2017-06-20 22:21:35,870 - DEBUG - Pos Mgmt 0
2017-06-20 22:21:35,875 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9D30>, pos=0, avgCost=0.0>
2017-06-20 22:21:35,880 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:21:35,885 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:21:35,891 - DEBUG - Position is 0
2017-06-20 22:21:35,897 - DEBUG - Pos Mgmt 2000
2017-06-20 22:21:35,903 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=2000, avgCost=0.72501>
2017-06-20 22:21:35,908 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:21:35,914 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:21:35,920 - DEBUG - Position is 2000
2017-06-20 22:21:35,926 - DEBUG - Pos Mgmt -2000
2017-06-20 22:21:35,931 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9D30>, pos=-2000, avgCost=1.26097>
2017-06-20 22:21:35,936 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:21:35,941 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:21:35,948 - DEBUG - Position is -2000
2017-06-20 22:21:35,954 - DEBUG - Pos Mgmt -50000
2017-06-20 22:21:35,961 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=-50000, avgCost=110.098>
2017-06-20 22:21:35,966 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:21:35,971 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:21:35,978 - DEBUG - Position is -50000
2017-06-20 22:21:35,984 - DEBUG - Pos Mgmt 2800
2017-06-20 22:21:35,990 - DEBUG - Pos Mgmt 250
2017-06-20 22:21:35,996 - DEBUG - Pos Mgmt 1894
2017-06-20 22:21:36,002 - DEBUG - Pos Mgmt 375
2017-06-20 22:21:36,010 - DEBUG - Pos Mgmt 476
2017-06-20 22:21:36,017 - DEBUG - Pos Mgmt 733
2017-06-20 22:21:36,022 - DEBUG - Pos Mgmt 726
2017-06-20 22:21:36,028 - DEBUG - Pos Mgmt 574
2017-06-20 22:21:36,034 - DEBUG - Pos Mgmt 965
2017-06-20 22:21:36,040 - DEBUG - Pos Mgmt 491
2017-06-20 22:21:36,736 - DEBUG - Open Orders requested
2017-06-20 22:21:38,746 - DEBUG - Connecting to database
2017-06-20 22:21:38,959 - DEBUG - Connected to database
2017-06-20 22:21:38,990 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:38,994 - DEBUG - Stop loss value is 1.117
2017-06-20 22:21:39,026 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:39,032 - DEBUG - Stop quantity 2000
2017-06-20 22:21:39,061 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:39,066 - DEBUG - Direction is Short
2017-06-20 22:21:39,095 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:39,101 - DEBUG - Count is 1
2017-06-20 22:21:39,135 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:21:39,139 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:21:39,170 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:21:39,177 - DEBUG - Max ID Order is (27,)
2017-06-20 22:21:39,182 - DEBUG - Today is 2017-06-20
2017-06-20 22:21:39,187 - DEBUG - Day of the week 1
2017-06-20 22:21:39,193 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:21:39,197 - DEBUG - In Position is  1
2017-06-20 22:21:39,203 - DEBUG - curStopLossFlag is  ('0',)
2017-06-20 22:21:39,207 - DEBUG - Checking if Entry has been filled
2017-06-20 22:21:39,213 - DEBUG - Try to Cancel Stop
2017-06-20 22:21:39,217 - DEBUG - Stop API ID 0
2017-06-20 22:21:39,222 - DEBUG - Profit API ID 0
2017-06-20 22:21:39,228 - DEBUG - Pos is 1
2017-06-20 22:21:39,234 - DEBUG - CurCount is 1
2017-06-20 22:21:39,240 - DEBUG - In Pos 1
2017-06-20 22:21:39,244 - DEBUG - Stop ID is 0
2017-06-20 22:21:39,249 - DEBUG - Stop API ID 0
2017-06-20 22:21:39,253 - DEBUG - Profit API ID 0
2017-06-20 22:21:39,257 - DEBUG - Pos is 1
2017-06-20 22:21:39,263 - DEBUG - CurCount is 1
2017-06-20 22:21:39,269 - DEBUG - In Pos 1
2017-06-20 22:21:39,273 - DEBUG - profitID is 0
2017-06-20 22:21:39,278 - DEBUG - stopID is 0
2017-06-20 22:21:39,283 - DEBUG - Entry Date is 10
2017-06-20 22:21:39,288 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:21:39,293 - DEBUG - Order Profit ID is 0
2017-06-20 22:21:39,297 - DEBUG - Order Entry ID is 23
2017-06-20 22:21:39,302 - DEBUG - API ID is  0
2017-06-20 22:21:39,307 - DEBUG - Current Position is 1
2017-06-20 22:21:39,311 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:21:39,317 - DEBUG - Time is 22
2017-06-20 22:21:39,322 - DEBUG - Disconnected from IBController
2017-06-20 22:21:39,331 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:22:10,247 - DEBUG - ****************************************************
2017-06-20 22:22:10,254 - DEBUG - Current Time is 2017-06-20 22:22:10.254615
2017-06-20 22:22:10,260 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:22:10,268 - DEBUG - Connecting to database
2017-06-20 22:22:10,679 - DEBUG - Connected to database
2017-06-20 22:22:10,693 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:10,738 - DEBUG - Order Profit is 0
2017-06-20 22:22:10,745 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:10,783 - DEBUG - Stop ID is 0
2017-06-20 22:22:10,819 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:10,833 - DEBUG - Order Entry is 23
2017-06-20 22:22:10,847 - DEBUG - Connecting to IBController
2017-06-20 22:22:13,136 - DEBUG - Connected to IBController
2017-06-20 22:22:13,159 - DEBUG - Pos Mgmt -50000
2017-06-20 22:22:13,168 - DEBUG - Position requested
2017-06-20 22:22:13,189 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DB8D0>, pos=-50000, avgCost=0.96746>
2017-06-20 22:22:13,201 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:22:13,207 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:22:13,213 - DEBUG - Position is -50000
2017-06-20 22:22:13,221 - DEBUG - Pos Mgmt 2000
2017-06-20 22:22:13,226 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DB668>, pos=2000, avgCost=0.76043>
2017-06-20 22:22:13,233 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:22:13,239 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:22:13,245 - DEBUG - Position is 2000
2017-06-20 22:22:13,252 - DEBUG - Pos Mgmt 2000
2017-06-20 22:22:13,259 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9048>, pos=2000, avgCost=0.88143>
2017-06-20 22:22:13,265 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:22:13,272 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:22:13,278 - DEBUG - Position is 2000
2017-06-20 22:22:13,284 - DEBUG - Pos Mgmt -2000
2017-06-20 22:22:13,291 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=-2000, avgCost=1.11479>
2017-06-20 22:22:13,297 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:22:13,304 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:22:13,312 - DEBUG - Position is -2000
2017-06-20 22:22:13,319 - DEBUG - In Position
2017-06-20 22:22:13,325 - DEBUG - Position is 1
2017-06-20 22:22:13,331 - DEBUG - Pos Mgmt -50000
2017-06-20 22:22:13,338 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DB898>, pos=-50000, avgCost=0.7318>
2017-06-20 22:22:13,344 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:22:13,351 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:22:13,356 - DEBUG - Position is -50000
2017-06-20 22:22:13,363 - DEBUG - Pos Mgmt 0
2017-06-20 22:22:13,371 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=0, avgCost=0.0>
2017-06-20 22:22:13,378 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:22:13,384 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:22:13,390 - DEBUG - Position is 0
2017-06-20 22:22:13,397 - DEBUG - Pos Mgmt 2000
2017-06-20 22:22:13,403 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DB8D0>, pos=2000, avgCost=0.72501>
2017-06-20 22:22:13,410 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:22:13,416 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:22:13,424 - DEBUG - Position is 2000
2017-06-20 22:22:13,431 - DEBUG - Pos Mgmt -2000
2017-06-20 22:22:13,438 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9F60>, pos=-2000, avgCost=1.26097>
2017-06-20 22:22:13,444 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:22:13,449 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:22:13,455 - DEBUG - Position is -2000
2017-06-20 22:22:13,462 - DEBUG - Pos Mgmt -50000
2017-06-20 22:22:13,467 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DBBA8>, pos=-50000, avgCost=110.098>
2017-06-20 22:22:13,475 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:22:13,483 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:22:13,489 - DEBUG - Position is -50000
2017-06-20 22:22:13,496 - DEBUG - Pos Mgmt 2800
2017-06-20 22:22:13,503 - DEBUG - Pos Mgmt 250
2017-06-20 22:22:13,509 - DEBUG - Pos Mgmt 1894
2017-06-20 22:22:13,515 - DEBUG - Pos Mgmt 375
2017-06-20 22:22:13,522 - DEBUG - Pos Mgmt 476
2017-06-20 22:22:13,529 - DEBUG - Pos Mgmt 733
2017-06-20 22:22:13,536 - DEBUG - Pos Mgmt 726
2017-06-20 22:22:13,543 - DEBUG - Pos Mgmt 574
2017-06-20 22:22:13,550 - DEBUG - Pos Mgmt 965
2017-06-20 22:22:13,557 - DEBUG - Pos Mgmt 491
2017-06-20 22:22:14,198 - DEBUG - Open Orders requested
2017-06-20 22:22:16,215 - DEBUG - Connecting to database
2017-06-20 22:22:16,705 - DEBUG - Connected to database
2017-06-20 22:22:16,743 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:16,755 - DEBUG - Stop loss value is 1.117
2017-06-20 22:22:16,791 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:16,797 - DEBUG - Stop quantity 2000
2017-06-20 22:22:16,826 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:16,832 - DEBUG - Direction is Short
2017-06-20 22:22:16,881 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:16,895 - DEBUG - Count is 1
2017-06-20 22:22:16,930 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:22:16,936 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:22:16,974 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:22:16,980 - DEBUG - Max ID Order is (27,)
2017-06-20 22:22:16,987 - DEBUG - Today is 2017-06-20
2017-06-20 22:22:16,994 - DEBUG - Day of the week 1
2017-06-20 22:22:17,002 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:22:17,010 - DEBUG - In Position is  1
2017-06-20 22:22:17,017 - DEBUG - curStopLossFlag is  0
2017-06-20 22:22:17,025 - DEBUG - Checking if Entry has been filled
2017-06-20 22:22:17,031 - DEBUG - Try to Cancel Stop
2017-06-20 22:22:17,039 - DEBUG - Stop API ID 0
2017-06-20 22:22:17,044 - DEBUG - Profit API ID 0
2017-06-20 22:22:17,050 - DEBUG - Pos is 1
2017-06-20 22:22:17,056 - DEBUG - CurCount is 1
2017-06-20 22:22:17,062 - DEBUG - In Pos 1
2017-06-20 22:22:17,068 - DEBUG - Stop ID is 0
2017-06-20 22:22:17,074 - DEBUG - Stop API ID 0
2017-06-20 22:22:17,081 - DEBUG - Profit API ID 0
2017-06-20 22:22:17,087 - DEBUG - Pos is 1
2017-06-20 22:22:17,092 - DEBUG - CurCount is 1
2017-06-20 22:22:17,098 - DEBUG - In Pos 1
2017-06-20 22:22:17,102 - DEBUG - profitID is 0
2017-06-20 22:22:17,108 - DEBUG - stopID is 0
2017-06-20 22:22:17,114 - DEBUG - Entry Date is 10
2017-06-20 22:22:17,120 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:22:17,126 - DEBUG - Order Profit ID is 0
2017-06-20 22:22:17,132 - DEBUG - Order Entry ID is 23
2017-06-20 22:22:17,137 - DEBUG - API ID is  0
2017-06-20 22:22:17,144 - DEBUG - Current Position is 1
2017-06-20 22:22:17,149 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:22:17,155 - DEBUG - Time is 22
2017-06-20 22:22:17,162 - DEBUG - Disconnected from IBController
2017-06-20 22:22:17,170 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:24:50,888 - DEBUG - ****************************************************
2017-06-20 22:24:50,901 - DEBUG - Current Time is 2017-06-20 22:24:50.901803
2017-06-20 22:24:50,912 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:24:50,921 - DEBUG - Connecting to database
2017-06-20 22:24:52,449 - DEBUG - Connected to database
2017-06-20 22:24:52,466 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:52,761 - DEBUG - Order Profit is 0
2017-06-20 22:24:52,777 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:52,821 - DEBUG - Stop ID is 0
2017-06-20 22:24:52,858 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:52,870 - DEBUG - Order Entry is 23
2017-06-20 22:24:52,883 - DEBUG - Connecting to IBController
2017-06-20 22:24:55,376 - DEBUG - Connected to IBController
2017-06-20 22:24:55,398 - DEBUG - Position requested
2017-06-20 22:24:55,409 - DEBUG - Pos Mgmt -50000
2017-06-20 22:24:55,433 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C2E8>, pos=-50000, avgCost=0.96746>
2017-06-20 22:24:55,442 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:24:55,449 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:24:55,457 - DEBUG - Position is -50000
2017-06-20 22:24:55,466 - DEBUG - Pos Mgmt 2000
2017-06-20 22:24:55,474 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DBA20>, pos=2000, avgCost=0.76043>
2017-06-20 22:24:55,482 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:24:55,489 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:24:55,498 - DEBUG - Position is 2000
2017-06-20 22:24:55,508 - DEBUG - Pos Mgmt 2000
2017-06-20 22:24:55,515 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C400>, pos=2000, avgCost=0.88143>
2017-06-20 22:24:55,523 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:24:55,531 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:24:55,539 - DEBUG - Position is 2000
2017-06-20 22:24:55,552 - DEBUG - Pos Mgmt -2000
2017-06-20 22:24:55,561 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DBA20>, pos=-2000, avgCost=1.11479>
2017-06-20 22:24:55,569 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:24:55,576 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:24:55,586 - DEBUG - Position is -2000
2017-06-20 22:24:55,598 - DEBUG - In Position
2017-06-20 22:24:55,607 - DEBUG - Position is 1
2017-06-20 22:24:55,615 - DEBUG - Pos Mgmt -50000
2017-06-20 22:24:55,623 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C2E8>, pos=-50000, avgCost=0.7318>
2017-06-20 22:24:55,631 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:24:55,640 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:24:55,650 - DEBUG - Position is -50000
2017-06-20 22:24:55,659 - DEBUG - Pos Mgmt 0
2017-06-20 22:24:55,666 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=0, avgCost=0.0>
2017-06-20 22:24:55,674 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:24:55,682 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:24:55,690 - DEBUG - Position is 0
2017-06-20 22:24:55,700 - DEBUG - Pos Mgmt 2000
2017-06-20 22:24:55,711 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C390>, pos=2000, avgCost=0.72501>
2017-06-20 22:24:55,720 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:24:55,728 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:24:55,736 - DEBUG - Position is 2000
2017-06-20 22:24:55,745 - DEBUG - Pos Mgmt -2000
2017-06-20 22:24:55,752 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A4DBA20>, pos=-2000, avgCost=1.26097>
2017-06-20 22:24:55,761 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:24:55,769 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:24:55,779 - DEBUG - Position is -2000
2017-06-20 22:24:55,790 - DEBUG - Pos Mgmt -50000
2017-06-20 22:24:55,797 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C358>, pos=-50000, avgCost=110.098>
2017-06-20 22:24:55,806 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:24:55,813 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:24:55,823 - DEBUG - Position is -50000
2017-06-20 22:24:55,833 - DEBUG - Pos Mgmt 2800
2017-06-20 22:24:55,844 - DEBUG - Pos Mgmt 250
2017-06-20 22:24:55,855 - DEBUG - Pos Mgmt 1894
2017-06-20 22:24:55,864 - DEBUG - Pos Mgmt 375
2017-06-20 22:24:55,873 - DEBUG - Pos Mgmt 476
2017-06-20 22:24:55,882 - DEBUG - Pos Mgmt 733
2017-06-20 22:24:55,892 - DEBUG - Pos Mgmt 726
2017-06-20 22:24:55,901 - DEBUG - Pos Mgmt 574
2017-06-20 22:24:55,910 - DEBUG - Pos Mgmt 965
2017-06-20 22:24:55,918 - DEBUG - Pos Mgmt 491
2017-06-20 22:24:56,432 - DEBUG - Open Orders requested
2017-06-20 22:24:58,450 - DEBUG - Connecting to database
2017-06-20 22:24:58,921 - DEBUG - Connected to database
2017-06-20 22:24:58,966 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:58,984 - DEBUG - Stop loss value is 1.117
2017-06-20 22:24:59,021 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:59,030 - DEBUG - Stop quantity 2000
2017-06-20 22:24:59,065 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:59,072 - DEBUG - Direction is Short
2017-06-20 22:24:59,106 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:59,114 - DEBUG - Count is 1
2017-06-20 22:24:59,145 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:24:59,152 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:24:59,183 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:24:59,192 - DEBUG - Max ID Order is (27,)
2017-06-20 22:24:59,203 - DEBUG - Today is 2017-06-20
2017-06-20 22:24:59,215 - DEBUG - Day of the week 1
2017-06-20 22:24:59,226 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:24:59,237 - DEBUG - In Position is  1
2017-06-20 22:24:59,248 - DEBUG - curStopLossFlag is  0
2017-06-20 22:24:59,258 - DEBUG - Checking if Entry has been filled
2017-06-20 22:24:59,270 - DEBUG - Try to Cancel Stop
2017-06-20 22:24:59,282 - DEBUG - Stop API ID 0
2017-06-20 22:24:59,292 - DEBUG - Profit API ID 0
2017-06-20 22:24:59,301 - DEBUG - Pos is 1
2017-06-20 22:24:59,311 - DEBUG - CurCount is 1
2017-06-20 22:24:59,326 - DEBUG - In Pos 1
2017-06-20 22:24:59,336 - DEBUG - Stop ID is 0
2017-06-20 22:24:59,346 - DEBUG - Stop API ID 0
2017-06-20 22:24:59,358 - DEBUG - Profit API ID 0
2017-06-20 22:24:59,369 - DEBUG - Pos is 1
2017-06-20 22:24:59,378 - DEBUG - CurCount is 1
2017-06-20 22:24:59,387 - DEBUG - In Pos 1
2017-06-20 22:24:59,400 - DEBUG - profitID is 0
2017-06-20 22:24:59,413 - DEBUG - stopID is 0
2017-06-20 22:24:59,423 - DEBUG - Entry Date is 10
2017-06-20 22:24:59,437 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:24:59,446 - DEBUG - Order Profit ID is 0
2017-06-20 22:24:59,456 - DEBUG - Order Entry ID is 23
2017-06-20 22:24:59,467 - DEBUG - API ID is  0
2017-06-20 22:24:59,477 - DEBUG - Current Position is 1
2017-06-20 22:24:59,486 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:24:59,497 - DEBUG - Time is 22
2017-06-20 22:24:59,510 - DEBUG - Disconnected from IBController
2017-06-20 22:24:59,526 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:25:59,416 - DEBUG - ****************************************************
2017-06-20 22:25:59,433 - DEBUG - Current Time is 2017-06-20 22:25:59.433723
2017-06-20 22:25:59,447 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:25:59,458 - DEBUG - Connecting to database
2017-06-20 22:25:59,700 - DEBUG - Connected to database
2017-06-20 22:25:59,722 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:25:59,766 - DEBUG - Order Profit is 0
2017-06-20 22:25:59,777 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:25:59,811 - DEBUG - Stop ID is 0
2017-06-20 22:25:59,848 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:25:59,860 - DEBUG - Order Entry is 23
2017-06-20 22:25:59,872 - DEBUG - Connecting to IBController
2017-06-20 22:26:03,344 - DEBUG - Connected to IBController
2017-06-20 22:26:03,377 - DEBUG - Position requested
2017-06-20 22:26:03,382 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:03,404 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C9B0>, pos=-50000, avgCost=0.96746>
2017-06-20 22:26:03,416 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:26:03,426 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:26:03,437 - DEBUG - Position is -50000
2017-06-20 22:26:03,448 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:03,457 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9FD0>, pos=2000, avgCost=0.76043>
2017-06-20 22:26:03,470 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:03,481 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:03,494 - DEBUG - Position is 2000
2017-06-20 22:26:03,507 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:03,516 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C8D0>, pos=2000, avgCost=0.88143>
2017-06-20 22:26:03,526 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:26:03,536 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:26:03,546 - DEBUG - Position is 2000
2017-06-20 22:26:03,559 - DEBUG - Pos Mgmt -2000
2017-06-20 22:26:03,569 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=-2000, avgCost=1.11479>
2017-06-20 22:26:03,582 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:26:03,596 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:03,606 - DEBUG - Position is -2000
2017-06-20 22:26:03,618 - DEBUG - In Position
2017-06-20 22:26:03,628 - DEBUG - Position is 1
2017-06-20 22:26:03,641 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:03,654 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C8D0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:26:03,666 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:03,676 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:26:03,686 - DEBUG - Position is -50000
2017-06-20 22:26:03,697 - DEBUG - Pos Mgmt 0
2017-06-20 22:26:03,707 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008FC9A20>, pos=0, avgCost=0.0>
2017-06-20 22:26:03,725 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:03,737 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:26:03,747 - DEBUG - Position is 0
2017-06-20 22:26:03,759 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:03,772 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C8D0>, pos=2000, avgCost=0.72501>
2017-06-20 22:26:03,783 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:26:03,795 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:03,806 - DEBUG - Position is 2000
2017-06-20 22:26:03,817 - DEBUG - Pos Mgmt -2000
2017-06-20 22:26:03,827 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C0F0>, pos=-2000, avgCost=1.26097>
2017-06-20 22:26:03,837 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:26:03,850 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:03,863 - DEBUG - Position is -2000
2017-06-20 22:26:03,873 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:03,884 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F9C8D0>, pos=-50000, avgCost=110.098>
2017-06-20 22:26:03,894 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:26:03,905 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:26:03,915 - DEBUG - Position is -50000
2017-06-20 22:26:03,927 - DEBUG - Pos Mgmt 2800
2017-06-20 22:26:03,940 - DEBUG - Pos Mgmt 250
2017-06-20 22:26:03,953 - DEBUG - Pos Mgmt 1894
2017-06-20 22:26:03,965 - DEBUG - Pos Mgmt 375
2017-06-20 22:26:03,981 - DEBUG - Pos Mgmt 476
2017-06-20 22:26:03,992 - DEBUG - Pos Mgmt 733
2017-06-20 22:26:04,005 - DEBUG - Pos Mgmt 726
2017-06-20 22:26:04,016 - DEBUG - Pos Mgmt 574
2017-06-20 22:26:04,028 - DEBUG - Pos Mgmt 965
2017-06-20 22:26:04,038 - DEBUG - Pos Mgmt 491
2017-06-20 22:26:04,401 - DEBUG - Open Orders requested
2017-06-20 22:26:06,416 - DEBUG - Connecting to database
2017-06-20 22:26:06,633 - DEBUG - Connected to database
2017-06-20 22:26:06,685 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:06,704 - DEBUG - Stop loss value is 1.117
2017-06-20 22:26:06,744 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:06,755 - DEBUG - Stop quantity 2000
2017-06-20 22:26:06,788 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:06,798 - DEBUG - Direction is Short
2017-06-20 22:26:06,834 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:06,849 - DEBUG - Count is 1
2017-06-20 22:26:06,884 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:06,899 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:26:06,936 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:26:06,947 - DEBUG - Max ID Order is (27,)
2017-06-20 22:26:06,959 - DEBUG - Today is 2017-06-20
2017-06-20 22:26:06,969 - DEBUG - Day of the week 1
2017-06-20 22:26:06,980 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:26:06,990 - DEBUG - In Position is  1
2017-06-20 22:26:07,000 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:26:07,011 - DEBUG - curStopLossFlag is  0
2017-06-20 22:26:07,021 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:26:07,031 - DEBUG - Checking if Entry has been filled
2017-06-20 22:26:07,041 - DEBUG - Try to Cancel Stop
2017-06-20 22:26:07,052 - DEBUG - Stop API ID 0
2017-06-20 22:26:07,063 - DEBUG - Profit API ID 0
2017-06-20 22:26:07,073 - DEBUG - Pos is 1
2017-06-20 22:26:07,084 - DEBUG - CurCount is 1
2017-06-20 22:26:07,094 - DEBUG - In Pos 1
2017-06-20 22:26:07,104 - DEBUG - Stop ID is 0
2017-06-20 22:26:07,115 - DEBUG - Stop API ID 0
2017-06-20 22:26:07,125 - DEBUG - Profit API ID 0
2017-06-20 22:26:07,135 - DEBUG - Pos is 1
2017-06-20 22:26:07,145 - DEBUG - CurCount is 1
2017-06-20 22:26:07,155 - DEBUG - In Pos 1
2017-06-20 22:26:07,166 - DEBUG - profitID is 0
2017-06-20 22:26:07,176 - DEBUG - stopID is 0
2017-06-20 22:26:07,187 - DEBUG - Entry Date is 10
2017-06-20 22:26:07,196 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:26:07,208 - DEBUG - Order Profit ID is 0
2017-06-20 22:26:07,218 - DEBUG - Order Entry ID is 23
2017-06-20 22:26:07,229 - DEBUG - API ID is  0
2017-06-20 22:26:07,239 - DEBUG - Current Position is 1
2017-06-20 22:26:07,250 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:26:07,261 - DEBUG - Time is 22
2017-06-20 22:26:07,273 - DEBUG - Disconnected from IBController
2017-06-20 22:26:07,291 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:26:25,569 - DEBUG - ****************************************************
2017-06-20 22:26:25,597 - DEBUG - Current Time is 2017-06-20 22:26:25.597220
2017-06-20 22:26:25,609 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:26:25,622 - DEBUG - Connecting to database
2017-06-20 22:26:25,909 - DEBUG - Connected to database
2017-06-20 22:26:25,936 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:25,983 - DEBUG - Order Profit is 0
2017-06-20 22:26:25,995 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:26,035 - DEBUG - Stop ID is 0
2017-06-20 22:26:26,089 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:26,103 - DEBUG - Order Entry is 23
2017-06-20 22:26:26,118 - DEBUG - Connecting to IBController
2017-06-20 22:26:28,709 - DEBUG - Connected to IBController
2017-06-20 22:26:28,743 - DEBUG - Position requested
2017-06-20 22:26:28,762 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:28,786 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F908>, pos=-50000, avgCost=0.96746>
2017-06-20 22:26:28,800 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:26:28,811 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:26:28,823 - DEBUG - Position is -50000
2017-06-20 22:26:28,838 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:28,851 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F630>, pos=2000, avgCost=0.76043>
2017-06-20 22:26:28,863 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:28,876 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:28,887 - DEBUG - Position is 2000
2017-06-20 22:26:28,901 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:28,914 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F908>, pos=2000, avgCost=0.88143>
2017-06-20 22:26:28,927 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:26:28,939 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:26:28,952 - DEBUG - Position is 2000
2017-06-20 22:26:28,965 - DEBUG - Pos Mgmt -2000
2017-06-20 22:26:28,981 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F630>, pos=-2000, avgCost=1.11479>
2017-06-20 22:26:28,996 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:26:29,008 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:29,020 - DEBUG - Position is -2000
2017-06-20 22:26:29,032 - DEBUG - In Position
2017-06-20 22:26:29,044 - DEBUG - Position is 1
2017-06-20 22:26:29,057 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:29,070 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F908>, pos=-50000, avgCost=0.7318>
2017-06-20 22:26:29,083 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:29,097 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:26:29,110 - DEBUG - Position is -50000
2017-06-20 22:26:29,123 - DEBUG - Pos Mgmt 0
2017-06-20 22:26:29,135 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F630>, pos=0, avgCost=0.0>
2017-06-20 22:26:29,149 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:26:29,160 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:26:29,173 - DEBUG - Position is 0
2017-06-20 22:26:29,186 - DEBUG - Pos Mgmt 2000
2017-06-20 22:26:29,197 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F908>, pos=2000, avgCost=0.72501>
2017-06-20 22:26:29,214 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:26:29,227 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:29,238 - DEBUG - Position is 2000
2017-06-20 22:26:29,252 - DEBUG - Pos Mgmt -2000
2017-06-20 22:26:29,265 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4F630>, pos=-2000, avgCost=1.26097>
2017-06-20 22:26:29,279 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:26:29,293 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:26:29,306 - DEBUG - Position is -2000
2017-06-20 22:26:29,319 - DEBUG - Pos Mgmt -50000
2017-06-20 22:26:29,332 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008B4FF28>, pos=-50000, avgCost=110.098>
2017-06-20 22:26:29,344 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:26:29,356 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:26:29,369 - DEBUG - Position is -50000
2017-06-20 22:26:29,383 - DEBUG - Pos Mgmt 2800
2017-06-20 22:26:29,396 - DEBUG - Pos Mgmt 250
2017-06-20 22:26:29,409 - DEBUG - Pos Mgmt 1894
2017-06-20 22:26:29,421 - DEBUG - Pos Mgmt 375
2017-06-20 22:26:29,434 - DEBUG - Pos Mgmt 476
2017-06-20 22:26:29,448 - DEBUG - Pos Mgmt 733
2017-06-20 22:26:29,461 - DEBUG - Pos Mgmt 726
2017-06-20 22:26:29,476 - DEBUG - Pos Mgmt 574
2017-06-20 22:26:29,489 - DEBUG - Pos Mgmt 965
2017-06-20 22:26:29,502 - DEBUG - Pos Mgmt 491
2017-06-20 22:26:29,784 - DEBUG - Open Orders requested
2017-06-20 22:26:31,811 - DEBUG - Connecting to database
2017-06-20 22:26:33,305 - DEBUG - Connected to database
2017-06-20 22:26:33,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:33,355 - DEBUG - Stop loss value is 1.117
2017-06-20 22:26:33,395 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:33,407 - DEBUG - Stop quantity 2000
2017-06-20 22:26:33,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:33,456 - DEBUG - Direction is Short
2017-06-20 22:26:33,493 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:33,507 - DEBUG - Count is 1
2017-06-20 22:26:34,387 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:26:34,417 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:26:34,462 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:26:34,474 - DEBUG - Max ID Order is (27,)
2017-06-20 22:26:34,488 - DEBUG - Today is 2017-06-20
2017-06-20 22:26:34,499 - DEBUG - Day of the week 1
2017-06-20 22:26:34,510 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:26:34,522 - DEBUG - In Position is  1
2017-06-20 22:26:34,533 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:26:34,546 - DEBUG - curStopLossFlag is  0
2017-06-20 22:26:34,556 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:26:34,567 - DEBUG - Checking if Entry has been filled
2017-06-20 22:26:34,579 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:26:34,590 - DEBUG - Order Profit is ('0',)
2017-06-20 22:27:02,637 - DEBUG - ****************************************************
2017-06-20 22:27:02,654 - DEBUG - Current Time is 2017-06-20 22:27:02.654339
2017-06-20 22:27:02,670 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:27:02,685 - DEBUG - Connecting to database
2017-06-20 22:27:03,254 - DEBUG - Connected to database
2017-06-20 22:27:03,286 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:03,327 - DEBUG - Order Profit is 0
2017-06-20 22:27:03,343 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:03,381 - DEBUG - Stop ID is 0
2017-06-20 22:27:03,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:03,435 - DEBUG - Order Entry is 23
2017-06-20 22:27:03,453 - DEBUG - Connecting to IBController
2017-06-20 22:27:06,453 - DEBUG - Connected to IBController
2017-06-20 22:27:06,493 - DEBUG - Position requested
2017-06-20 22:27:07,510 - DEBUG - Open Orders requested
2017-06-20 22:27:09,546 - DEBUG - Connecting to database
2017-06-20 22:27:10,002 - DEBUG - Connected to database
2017-06-20 22:27:10,057 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:10,073 - DEBUG - Stop loss value is 1.117
2017-06-20 22:27:10,119 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:10,134 - DEBUG - Stop quantity 2000
2017-06-20 22:27:10,176 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:10,190 - DEBUG - Direction is Short
2017-06-20 22:27:10,228 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:10,245 - DEBUG - Count is 1
2017-06-20 22:27:10,598 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:27:10,626 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:27:10,669 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:27:10,684 - DEBUG - Max ID Order is (27,)
2017-06-20 22:27:10,700 - DEBUG - Today is 2017-06-20
2017-06-20 22:27:10,716 - DEBUG - Day of the week 1
2017-06-20 22:27:10,731 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:27:10,745 - DEBUG - In Position is  0
2017-06-20 22:27:10,759 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:27:10,773 - DEBUG - curStopLossFlag is  0
2017-06-20 22:27:10,786 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:27:10,801 - DEBUG - Checking if Entry has been filled
2017-06-20 22:27:10,815 - DEBUG - Try to Cancel Stop
2017-06-20 22:27:10,831 - DEBUG - Stop API ID 0
2017-06-20 22:27:10,845 - DEBUG - Profit API ID 0
2017-06-20 22:27:10,857 - DEBUG - Pos is 0
2017-06-20 22:27:10,874 - DEBUG - CurCount is 1
2017-06-20 22:27:10,888 - DEBUG - In Pos 0
2017-06-20 22:27:10,904 - DEBUG - Stop ID is 0
2017-06-20 22:27:10,919 - DEBUG - Stop API ID 0
2017-06-20 22:27:10,933 - DEBUG - Profit API ID 0
2017-06-20 22:27:10,948 - DEBUG - Pos is 0
2017-06-20 22:27:10,963 - DEBUG - CurCount is 1
2017-06-20 22:27:10,978 - DEBUG - In Pos 0
2017-06-20 22:27:10,995 - DEBUG - profitID is 0
2017-06-20 22:27:11,010 - DEBUG - stopID is 0
2017-06-20 22:27:11,025 - DEBUG - Entry Date is 10
2017-06-20 22:27:11,043 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:27:11,061 - DEBUG - Order Profit ID is 0
2017-06-20 22:27:11,075 - DEBUG - Order Entry ID is 23
2017-06-20 22:27:11,092 - DEBUG - API ID is  0
2017-06-20 22:27:11,106 - DEBUG - Current Position is 1
2017-06-20 22:27:11,120 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:27:11,134 - DEBUG - Time is 22
2017-06-20 22:27:11,149 - DEBUG - Disconnected from IBController
2017-06-20 22:27:11,164 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:28:15,185 - DEBUG - ****************************************************
2017-06-20 22:28:15,192 - DEBUG - Current Time is 2017-06-20 22:28:15.192488
2017-06-20 22:28:15,196 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:28:15,201 - DEBUG - Connecting to database
2017-06-20 22:28:15,915 - DEBUG - Connected to database
2017-06-20 22:28:15,917 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:15,952 - DEBUG - Order Profit is 0
2017-06-20 22:28:15,958 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:16,011 - DEBUG - Stop ID is 0
2017-06-20 22:28:16,048 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:16,051 - DEBUG - Order Entry is 23
2017-06-20 22:28:16,056 - DEBUG - Connecting to IBController
2017-06-20 22:28:19,696 - DEBUG - Connected to IBController
2017-06-20 22:28:19,719 - DEBUG - Pos Mgmt -50000
2017-06-20 22:28:19,729 - DEBUG - Position requested
2017-06-20 22:28:19,730 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DF98>, pos=-50000, avgCost=0.96746>
2017-06-20 22:28:19,735 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:28:19,737 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:28:19,740 - DEBUG - Position is -50000
2017-06-20 22:28:19,743 - DEBUG - Pos Mgmt 2000
2017-06-20 22:28:19,745 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DE10>, pos=2000, avgCost=0.76043>
2017-06-20 22:28:19,747 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:28:19,749 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:28:19,752 - DEBUG - Position is 2000
2017-06-20 22:28:19,754 - DEBUG - Pos Mgmt 2000
2017-06-20 22:28:19,756 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DF28>, pos=2000, avgCost=0.88143>
2017-06-20 22:28:19,759 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:28:19,761 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:28:19,763 - DEBUG - Position is 2000
2017-06-20 22:28:19,765 - DEBUG - Pos Mgmt -2000
2017-06-20 22:28:19,767 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DE10>, pos=-2000, avgCost=1.11479>
2017-06-20 22:28:19,770 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:28:19,773 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:28:19,775 - DEBUG - Position is -2000
2017-06-20 22:28:19,777 - DEBUG - In Position
2017-06-20 22:28:19,780 - DEBUG - Position is 1
2017-06-20 22:28:19,783 - DEBUG - Pos Mgmt -50000
2017-06-20 22:28:19,785 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DFD0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:28:19,787 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:28:19,789 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:28:19,791 - DEBUG - Position is -50000
2017-06-20 22:28:19,794 - DEBUG - Pos Mgmt 0
2017-06-20 22:28:19,796 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848A390>, pos=0, avgCost=0.0>
2017-06-20 22:28:19,798 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:28:19,801 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:28:19,802 - DEBUG - Position is 0
2017-06-20 22:28:19,806 - DEBUG - Pos Mgmt 2000
2017-06-20 22:28:19,808 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DE80>, pos=2000, avgCost=0.72501>
2017-06-20 22:28:19,810 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:28:19,812 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:28:19,814 - DEBUG - Position is 2000
2017-06-20 22:28:19,817 - DEBUG - Pos Mgmt -2000
2017-06-20 22:28:19,818 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DFD0>, pos=-2000, avgCost=1.26097>
2017-06-20 22:28:19,820 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:28:19,822 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:28:19,825 - DEBUG - Position is -2000
2017-06-20 22:28:19,828 - DEBUG - Pos Mgmt -50000
2017-06-20 22:28:19,830 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DF28>, pos=-50000, avgCost=110.098>
2017-06-20 22:28:19,832 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:28:19,834 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:28:19,836 - DEBUG - Position is -50000
2017-06-20 22:28:19,839 - DEBUG - Pos Mgmt 2800
2017-06-20 22:28:19,842 - DEBUG - Pos Mgmt 250
2017-06-20 22:28:19,844 - DEBUG - Pos Mgmt 1894
2017-06-20 22:28:19,847 - DEBUG - Pos Mgmt 375
2017-06-20 22:28:19,849 - DEBUG - Pos Mgmt 476
2017-06-20 22:28:19,852 - DEBUG - Pos Mgmt 733
2017-06-20 22:28:19,854 - DEBUG - Pos Mgmt 726
2017-06-20 22:28:19,857 - DEBUG - Pos Mgmt 574
2017-06-20 22:28:19,859 - DEBUG - Pos Mgmt 965
2017-06-20 22:28:19,862 - DEBUG - Pos Mgmt 491
2017-06-20 22:28:20,733 - DEBUG - Open Orders requested
2017-06-20 22:28:22,737 - DEBUG - Connecting to database
2017-06-20 22:28:22,987 - DEBUG - Connected to database
2017-06-20 22:28:23,017 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:23,021 - DEBUG - Stop loss value is 1.117
2017-06-20 22:28:23,049 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:23,052 - DEBUG - Stop quantity 2000
2017-06-20 22:28:23,083 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:23,087 - DEBUG - Direction is Short
2017-06-20 22:28:23,125 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:23,127 - DEBUG - Count is 1
2017-06-20 22:28:23,182 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:28:23,186 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:28:23,220 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:28:23,223 - DEBUG - Max ID Order is (27,)
2017-06-20 22:28:23,228 - DEBUG - Today is 2017-06-20
2017-06-20 22:28:23,235 - DEBUG - Day of the week 1
2017-06-20 22:28:23,239 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:28:23,243 - DEBUG - In Position is  1
2017-06-20 22:28:23,248 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:28:23,254 - DEBUG - curStopLossFlag is  0
2017-06-20 22:28:23,258 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:28:23,262 - DEBUG - Checking if Entry has been filled
2017-06-20 22:28:23,265 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:28:23,268 - DEBUG - Order Profit is ('0',)
2017-06-20 22:28:23,270 - DEBUG - Incremented Order ID for stop loss 28
2017-06-20 22:28:23,272 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:28:23,274 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000845D9E8>
2017-06-20 22:28:23,277 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:28:23,279 - DEBUG - In TRAIL STOP function
2017-06-20 22:28:23,281 - DEBUG - Order action Buy
2017-06-20 22:28:23,283 - DEBUG - Limit value is 1
2017-06-20 22:28:23,285 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:28:23,287 - DEBUG - In Buy action. AUX Price price is 1.1170
2017-06-20 22:28:23,290 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:28:23,294 - DEBUG - Short stop order placed
2017-06-20 22:28:23,296 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:28:23,373 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:28:23,455 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:28:23,519 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:28:23,657 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 23;
2017-06-20 22:28:23,723 - DEBUG - Try to Cancel Stop
2017-06-20 22:28:23,726 - DEBUG - Stop API ID 0
2017-06-20 22:28:23,730 - DEBUG - Profit API ID 0
2017-06-20 22:28:23,734 - DEBUG - Pos is 1
2017-06-20 22:28:23,740 - DEBUG - CurCount is 1
2017-06-20 22:28:23,744 - DEBUG - In Pos 1
2017-06-20 22:28:23,749 - DEBUG - Stop ID is 0
2017-06-20 22:28:23,751 - DEBUG - Stop API ID 0
2017-06-20 22:28:23,755 - DEBUG - Profit API ID 0
2017-06-20 22:28:23,757 - DEBUG - Pos is 1
2017-06-20 22:28:23,761 - DEBUG - CurCount is 1
2017-06-20 22:28:23,763 - DEBUG - In Pos 1
2017-06-20 22:28:23,766 - DEBUG - profitID is 0
2017-06-20 22:28:23,769 - DEBUG - stopID is 0
2017-06-20 22:28:23,772 - DEBUG - Entry Date is 10
2017-06-20 22:28:23,775 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:28:23,777 - DEBUG - Order Profit ID is 0
2017-06-20 22:28:23,779 - DEBUG - Order Entry ID is 23
2017-06-20 22:28:23,781 - DEBUG - API ID is  0
2017-06-20 22:28:23,783 - DEBUG - Current Position is 1
2017-06-20 22:28:23,786 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:28:23,788 - DEBUG - Time is 22
2017-06-20 22:28:23,790 - DEBUG - Disconnected from IBController
2017-06-20 22:28:23,794 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:35:10,585 - DEBUG - ****************************************************
2017-06-20 22:35:10,590 - DEBUG - Current Time is 2017-06-20 22:35:10.590247
2017-06-20 22:35:10,595 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:35:10,600 - DEBUG - Connecting to database
2017-06-20 22:35:11,071 - DEBUG - Connected to database
2017-06-20 22:35:11,078 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:11,117 - DEBUG - Order Profit is 0
2017-06-20 22:35:11,124 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:11,164 - DEBUG - Stop ID is 0
2017-06-20 22:35:11,197 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:11,202 - DEBUG - Order Entry is 0
2017-06-20 22:35:11,208 - DEBUG - Connecting to IBController
2017-06-20 22:35:14,189 - DEBUG - Connected to IBController
2017-06-20 22:35:14,198 - DEBUG - Position requested
2017-06-20 22:35:14,215 - DEBUG - Pos Mgmt -50000
2017-06-20 22:35:14,236 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848AA20>, pos=-50000, avgCost=0.96746>
2017-06-20 22:35:14,241 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:35:14,244 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:35:14,249 - DEBUG - Position is -50000
2017-06-20 22:35:14,253 - DEBUG - Pos Mgmt 2000
2017-06-20 22:35:14,257 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DE80>, pos=2000, avgCost=0.76043>
2017-06-20 22:35:14,261 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:35:14,264 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:35:14,269 - DEBUG - Position is 2000
2017-06-20 22:35:14,274 - DEBUG - Pos Mgmt 2000
2017-06-20 22:35:14,277 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848AF60>, pos=2000, avgCost=0.88143>
2017-06-20 22:35:14,281 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:35:14,285 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:35:14,289 - DEBUG - Position is 2000
2017-06-20 22:35:14,294 - DEBUG - Pos Mgmt -2000
2017-06-20 22:35:14,298 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DEB8>, pos=-2000, avgCost=1.11479>
2017-06-20 22:35:14,303 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:35:14,307 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:35:14,312 - DEBUG - Position is -2000
2017-06-20 22:35:14,317 - DEBUG - In Position
2017-06-20 22:35:14,321 - DEBUG - Position is 1
2017-06-20 22:35:14,326 - DEBUG - Pos Mgmt -50000
2017-06-20 22:35:14,330 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848AE80>, pos=-50000, avgCost=0.7318>
2017-06-20 22:35:14,334 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:35:14,338 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:35:14,341 - DEBUG - Position is -50000
2017-06-20 22:35:14,346 - DEBUG - Pos Mgmt 0
2017-06-20 22:35:14,350 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DEB8>, pos=0, avgCost=0.0>
2017-06-20 22:35:14,355 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:35:14,359 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:35:14,363 - DEBUG - Position is 0
2017-06-20 22:35:14,367 - DEBUG - Pos Mgmt 2000
2017-06-20 22:35:14,371 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848AB70>, pos=2000, avgCost=0.72501>
2017-06-20 22:35:14,375 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:35:14,379 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:35:14,384 - DEBUG - Position is 2000
2017-06-20 22:35:14,390 - DEBUG - Pos Mgmt -2000
2017-06-20 22:35:14,393 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000845DEB8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:35:14,397 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:35:14,401 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:35:14,405 - DEBUG - Position is -2000
2017-06-20 22:35:14,410 - DEBUG - Pos Mgmt -50000
2017-06-20 22:35:14,414 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000848AE10>, pos=-50000, avgCost=110.098>
2017-06-20 22:35:14,418 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:35:14,423 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:35:14,427 - DEBUG - Position is -50000
2017-06-20 22:35:14,431 - DEBUG - Pos Mgmt 2800
2017-06-20 22:35:14,436 - DEBUG - Pos Mgmt 250
2017-06-20 22:35:14,441 - DEBUG - Pos Mgmt 1894
2017-06-20 22:35:14,445 - DEBUG - Pos Mgmt 375
2017-06-20 22:35:14,451 - DEBUG - Pos Mgmt 476
2017-06-20 22:35:14,455 - DEBUG - Pos Mgmt 733
2017-06-20 22:35:14,461 - DEBUG - Pos Mgmt 726
2017-06-20 22:35:14,467 - DEBUG - Pos Mgmt 574
2017-06-20 22:35:14,472 - DEBUG - Pos Mgmt 965
2017-06-20 22:35:14,476 - DEBUG - Pos Mgmt 491
2017-06-20 22:35:15,234 - DEBUG - Open Orders requested
2017-06-20 22:35:17,245 - DEBUG - Connecting to database
2017-06-20 22:35:17,714 - DEBUG - Connected to database
2017-06-20 22:35:17,744 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:17,751 - DEBUG - Stop loss value is 0
2017-06-20 22:35:17,789 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:17,792 - DEBUG - Stop quantity 0
2017-06-20 22:35:17,824 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:17,830 - DEBUG - Direction is 0
2017-06-20 22:35:17,858 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:17,863 - DEBUG - Count is 0
2017-06-20 22:35:17,891 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:35:17,896 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:35:17,928 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:35:17,932 - DEBUG - Max ID Order is (28,)
2017-06-20 22:35:17,937 - DEBUG - Today is 2017-06-20
2017-06-20 22:35:17,942 - DEBUG - Day of the week 1
2017-06-20 22:35:17,947 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:35:17,952 - DEBUG - In Position is  1
2017-06-20 22:35:17,957 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:35:17,961 - DEBUG - curStopLossFlag is  0
2017-06-20 22:35:17,965 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:35:17,969 - DEBUG - Checking if Entry has been filled
2017-06-20 22:35:17,972 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:35:17,976 - DEBUG - Order Profit is ('0',)
2017-06-20 22:35:17,981 - DEBUG - Incremented Order ID for stop loss 29
2017-06-20 22:35:17,986 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:35:17,990 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x000000000836AEF0>
2017-06-20 22:35:17,995 - DEBUG - Entry Trade Direction is 0
2017-06-20 22:35:17,999 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:35:18,080 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:35:18,163 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:35:18,235 - DEBUG - StopLossVal2 is 0.0
2017-06-20 22:35:18,371 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:35:18,435 - DEBUG - Try to Cancel Stop
2017-06-20 22:35:18,443 - DEBUG - Stop API ID 0
2017-06-20 22:35:18,455 - DEBUG - Profit API ID 0
2017-06-20 22:35:18,464 - DEBUG - Pos is 1
2017-06-20 22:35:18,469 - DEBUG - CurCount is 0
2017-06-20 22:35:18,474 - DEBUG - In Pos 1
2017-06-20 22:35:18,477 - DEBUG - Stop ID is 0
2017-06-20 22:35:18,482 - DEBUG - Stop API ID 0
2017-06-20 22:35:18,486 - DEBUG - Profit API ID 0
2017-06-20 22:35:18,491 - DEBUG - Pos is 1
2017-06-20 22:35:18,495 - DEBUG - CurCount is 0
2017-06-20 22:35:18,499 - DEBUG - In Pos 1
2017-06-20 22:35:18,503 - DEBUG - profitID is 0
2017-06-20 22:35:18,507 - DEBUG - stopID is 0
2017-06-20 22:35:18,510 - DEBUG - Entry Date is 10
2017-06-20 22:35:18,514 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:35:18,518 - DEBUG - Order Profit ID is 0
2017-06-20 22:35:18,522 - DEBUG - Order Entry ID is 0
2017-06-20 22:35:18,525 - DEBUG - API ID is  0
2017-06-20 22:35:18,530 - DEBUG - Current Position is 0
2017-06-20 22:35:18,534 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:35:18,538 - DEBUG - Time is 22
2017-06-20 22:35:18,542 - DEBUG - Disconnected from IBController
2017-06-20 22:35:18,551 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:37:56,178 - DEBUG - ****************************************************
2017-06-20 22:37:56,184 - DEBUG - Current Time is 2017-06-20 22:37:56.184719
2017-06-20 22:37:56,186 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:37:56,188 - DEBUG - Connecting to database
2017-06-20 22:37:56,473 - DEBUG - Connected to database
2017-06-20 22:37:56,476 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:37:56,503 - DEBUG - Order Profit is 0
2017-06-20 22:37:56,506 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:37:56,536 - DEBUG - Stop ID is 0
2017-06-20 22:37:56,567 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:37:56,571 - DEBUG - Order Entry is 0
2017-06-20 22:37:56,574 - DEBUG - Connecting to IBController
2017-06-20 22:37:59,305 - DEBUG - Connected to IBController
2017-06-20 22:37:59,309 - DEBUG - Position requested
2017-06-20 22:37:59,326 - DEBUG - Pos Mgmt -50000
2017-06-20 22:37:59,340 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFEF0>, pos=-50000, avgCost=0.96746>
2017-06-20 22:37:59,344 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:37:59,348 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:37:59,352 - DEBUG - Position is -50000
2017-06-20 22:37:59,358 - DEBUG - Pos Mgmt 2000
2017-06-20 22:37:59,360 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFD68>, pos=2000, avgCost=0.76043>
2017-06-20 22:37:59,363 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:37:59,367 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:37:59,368 - DEBUG - Position is 2000
2017-06-20 22:37:59,371 - DEBUG - Pos Mgmt 2000
2017-06-20 22:37:59,373 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFFD0>, pos=2000, avgCost=0.88143>
2017-06-20 22:37:59,375 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:37:59,377 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:37:59,380 - DEBUG - Position is 2000
2017-06-20 22:37:59,384 - DEBUG - Pos Mgmt -2000
2017-06-20 22:37:59,385 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFD68>, pos=-2000, avgCost=1.11479>
2017-06-20 22:37:59,387 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:37:59,389 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:37:59,391 - DEBUG - Position is -2000
2017-06-20 22:37:59,393 - DEBUG - In Position
2017-06-20 22:37:59,396 - DEBUG - Position is 1
2017-06-20 22:37:59,399 - DEBUG - Pos Mgmt -50000
2017-06-20 22:37:59,400 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFEF0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:37:59,402 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:37:59,404 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:37:59,406 - DEBUG - Position is -50000
2017-06-20 22:37:59,409 - DEBUG - Pos Mgmt 0
2017-06-20 22:37:59,411 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFD68>, pos=0, avgCost=0.0>
2017-06-20 22:37:59,413 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:37:59,415 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:37:59,418 - DEBUG - Position is 0
2017-06-20 22:37:59,421 - DEBUG - Pos Mgmt 2000
2017-06-20 22:37:59,423 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFFD0>, pos=2000, avgCost=0.72501>
2017-06-20 22:37:59,424 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:37:59,426 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:37:59,428 - DEBUG - Position is 2000
2017-06-20 22:37:59,432 - DEBUG - Pos Mgmt -2000
2017-06-20 22:37:59,433 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFD68>, pos=-2000, avgCost=1.26097>
2017-06-20 22:37:59,435 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:37:59,437 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:37:59,439 - DEBUG - Position is -2000
2017-06-20 22:37:59,442 - DEBUG - Pos Mgmt -50000
2017-06-20 22:37:59,444 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFFD0>, pos=-50000, avgCost=110.098>
2017-06-20 22:37:59,447 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:37:59,448 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:37:59,451 - DEBUG - Position is -50000
2017-06-20 22:37:59,453 - DEBUG - Pos Mgmt 2800
2017-06-20 22:37:59,455 - DEBUG - Pos Mgmt 250
2017-06-20 22:37:59,459 - DEBUG - Pos Mgmt 1894
2017-06-20 22:37:59,462 - DEBUG - Pos Mgmt 375
2017-06-20 22:37:59,465 - DEBUG - Pos Mgmt 476
2017-06-20 22:37:59,467 - DEBUG - Pos Mgmt 733
2017-06-20 22:37:59,469 - DEBUG - Pos Mgmt 726
2017-06-20 22:37:59,471 - DEBUG - Pos Mgmt 574
2017-06-20 22:37:59,474 - DEBUG - Pos Mgmt 965
2017-06-20 22:37:59,476 - DEBUG - Pos Mgmt 491
2017-06-20 22:38:00,328 - DEBUG - Open Orders requested
2017-06-20 22:38:02,335 - DEBUG - Connecting to database
2017-06-20 22:38:02,591 - DEBUG - Connected to database
2017-06-20 22:38:02,622 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:38:02,624 - DEBUG - Stop loss value is 0
2017-06-20 22:38:02,654 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:38:02,659 - DEBUG - Stop quantity 0
2017-06-20 22:38:02,694 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:38:02,698 - DEBUG - Direction is 0
2017-06-20 22:38:02,725 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:38:02,732 - DEBUG - Count is 0
2017-06-20 22:38:02,762 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:38:02,765 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:38:02,798 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:38:02,801 - DEBUG - Max ID Order is (29,)
2017-06-20 22:38:02,804 - DEBUG - Today is 2017-06-20
2017-06-20 22:38:02,807 - DEBUG - Day of the week 1
2017-06-20 22:38:02,810 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:38:02,812 - DEBUG - In Position is  1
2017-06-20 22:38:02,815 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:38:02,818 - DEBUG - curStopLossFlag is  0
2017-06-20 22:38:02,821 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:38:02,824 - DEBUG - Checking if Entry has been filled
2017-06-20 22:38:02,827 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:38:02,830 - DEBUG - Order Profit is ('0',)
2017-06-20 22:38:02,833 - DEBUG - Incremented Order ID for stop loss 30
2017-06-20 22:38:02,836 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:38:02,839 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000087DF940>
2017-06-20 22:38:02,842 - DEBUG - Entry Trade Direction is 0
2017-06-20 22:38:02,845 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:38:02,930 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:38:03,023 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:38:03,164 - DEBUG - StopLossVal2 is 0.0
2017-06-20 22:38:03,386 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:38:03,463 - DEBUG - Try to Cancel Stop
2017-06-20 22:38:03,465 - DEBUG - Stop API ID 0
2017-06-20 22:38:03,468 - DEBUG - Profit API ID 0
2017-06-20 22:38:03,470 - DEBUG - Pos is 1
2017-06-20 22:38:03,473 - DEBUG - CurCount is 0
2017-06-20 22:38:03,475 - DEBUG - In Pos 1
2017-06-20 22:38:03,477 - DEBUG - Stop ID is 0
2017-06-20 22:38:03,480 - DEBUG - Stop API ID 0
2017-06-20 22:38:03,484 - DEBUG - Profit API ID 0
2017-06-20 22:38:03,485 - DEBUG - Pos is 1
2017-06-20 22:38:03,490 - DEBUG - CurCount is 0
2017-06-20 22:38:03,492 - DEBUG - In Pos 1
2017-06-20 22:38:03,495 - DEBUG - profitID is 0
2017-06-20 22:38:03,500 - DEBUG - stopID is 0
2017-06-20 22:38:03,502 - DEBUG - Entry Date is 10
2017-06-20 22:38:03,505 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:38:03,507 - DEBUG - Order Profit ID is 0
2017-06-20 22:38:03,509 - DEBUG - Order Entry ID is 0
2017-06-20 22:38:03,511 - DEBUG - API ID is  0
2017-06-20 22:38:03,514 - DEBUG - Current Position is 0
2017-06-20 22:38:03,516 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:38:03,519 - DEBUG - Time is 22
2017-06-20 22:38:03,522 - DEBUG - Disconnected from IBController
2017-06-20 22:38:03,525 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:41:28,574 - DEBUG - ****************************************************
2017-06-20 22:41:28,581 - DEBUG - Current Time is 2017-06-20 22:41:28.581867
2017-06-20 22:41:28,588 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:41:28,594 - DEBUG - Connecting to database
2017-06-20 22:41:29,075 - DEBUG - Connected to database
2017-06-20 22:41:29,079 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:29,111 - DEBUG - Order Profit is 0
2017-06-20 22:41:29,114 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:29,149 - DEBUG - Stop ID is 30
2017-06-20 22:41:29,180 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:29,186 - DEBUG - Order Entry is 0
2017-06-20 22:41:29,192 - DEBUG - Connecting to IBController
2017-06-20 22:41:31,829 - DEBUG - Connected to IBController
2017-06-20 22:41:31,851 - DEBUG - Pos Mgmt -50000
2017-06-20 22:41:31,862 - DEBUG - Position requested
2017-06-20 22:41:31,868 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808B38>, pos=-50000, avgCost=0.96746>
2017-06-20 22:41:31,878 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:41:31,882 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:41:31,887 - DEBUG - Position is -50000
2017-06-20 22:41:31,893 - DEBUG - Pos Mgmt 2000
2017-06-20 22:41:31,897 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808C50>, pos=2000, avgCost=0.76043>
2017-06-20 22:41:31,902 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:41:31,906 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:41:31,911 - DEBUG - Position is 2000
2017-06-20 22:41:31,915 - DEBUG - Pos Mgmt 2000
2017-06-20 22:41:31,919 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088087F0>, pos=2000, avgCost=0.88143>
2017-06-20 22:41:31,923 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:41:31,927 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:41:31,930 - DEBUG - Position is 2000
2017-06-20 22:41:31,935 - DEBUG - Pos Mgmt -2000
2017-06-20 22:41:31,940 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808978>, pos=-2000, avgCost=1.11479>
2017-06-20 22:41:31,944 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:41:31,949 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:41:31,953 - DEBUG - Position is -2000
2017-06-20 22:41:31,957 - DEBUG - In Position
2017-06-20 22:41:31,961 - DEBUG - Position is 1
2017-06-20 22:41:31,966 - DEBUG - Pos Mgmt -50000
2017-06-20 22:41:31,970 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808CC0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:41:31,974 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:41:31,978 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:41:31,981 - DEBUG - Position is -50000
2017-06-20 22:41:31,987 - DEBUG - Pos Mgmt 0
2017-06-20 22:41:31,990 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088089E8>, pos=0, avgCost=0.0>
2017-06-20 22:41:31,994 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:41:31,998 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:41:32,004 - DEBUG - Position is 0
2017-06-20 22:41:32,008 - DEBUG - Pos Mgmt 2000
2017-06-20 22:41:32,011 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808438>, pos=2000, avgCost=0.72501>
2017-06-20 22:41:32,015 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:41:32,019 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:41:32,023 - DEBUG - Position is 2000
2017-06-20 22:41:32,028 - DEBUG - Pos Mgmt -2000
2017-06-20 22:41:32,032 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808588>, pos=-2000, avgCost=1.26097>
2017-06-20 22:41:32,038 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:41:32,043 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:41:32,046 - DEBUG - Position is -2000
2017-06-20 22:41:32,051 - DEBUG - Pos Mgmt -50000
2017-06-20 22:41:32,056 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808780>, pos=-50000, avgCost=110.098>
2017-06-20 22:41:32,060 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:41:32,065 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:41:32,070 - DEBUG - Position is -50000
2017-06-20 22:41:32,075 - DEBUG - Pos Mgmt 2800
2017-06-20 22:41:32,082 - DEBUG - Pos Mgmt 250
2017-06-20 22:41:32,087 - DEBUG - Pos Mgmt 1894
2017-06-20 22:41:32,092 - DEBUG - Pos Mgmt 375
2017-06-20 22:41:32,098 - DEBUG - Pos Mgmt 476
2017-06-20 22:41:32,104 - DEBUG - Pos Mgmt 733
2017-06-20 22:41:32,110 - DEBUG - Pos Mgmt 726
2017-06-20 22:41:32,115 - DEBUG - Pos Mgmt 574
2017-06-20 22:41:32,121 - DEBUG - Pos Mgmt 965
2017-06-20 22:41:32,126 - DEBUG - Pos Mgmt 491
2017-06-20 22:41:32,873 - DEBUG - Open Orders requested
2017-06-20 22:41:32,888 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008808FD0>, order=<ib.ext.Order.Order object at 0x0000000008808F60>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000A3670B8>>
2017-06-20 22:41:32,897 - DEBUG - Order OrderID 0
2017-06-20 22:41:32,902 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:41:32,907 - DEBUG - Order status PreSubmitted
2017-06-20 22:41:32,913 - DEBUG - Order Identification 0
2017-06-20 22:41:32,917 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:41:32,921 - DEBUG - Profit ID from database is 0
2017-06-20 22:41:32,926 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:41:32,931 - DEBUG - Stop ID database is 30
2017-06-20 22:41:32,935 - DEBUG - Entry ID database is 0
2017-06-20 22:41:32,939 - DEBUG - Profit API ID is 0
2017-06-20 22:41:32,943 - DEBUG - Entry API ID is 0
2017-06-20 22:41:34,895 - DEBUG - Connecting to database
2017-06-20 22:41:35,101 - DEBUG - Connected to database
2017-06-20 22:41:35,136 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:35,144 - DEBUG - Stop loss value is 0
2017-06-20 22:41:35,175 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:35,182 - DEBUG - Stop quantity 0
2017-06-20 22:41:35,224 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:35,229 - DEBUG - Direction is Short
2017-06-20 22:41:35,259 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:35,265 - DEBUG - Count is 1
2017-06-20 22:41:35,296 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:41:35,302 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:41:35,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:41:35,342 - DEBUG - Max ID Order is (30,)
2017-06-20 22:41:35,350 - DEBUG - Today is 2017-06-20
2017-06-20 22:41:35,356 - DEBUG - Day of the week 1
2017-06-20 22:41:35,360 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:41:35,365 - DEBUG - In Position is  1
2017-06-20 22:41:35,371 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:41:35,376 - DEBUG - curStopLossFlag is  1
2017-06-20 22:41:35,381 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:41:35,385 - DEBUG - Checking if Entry has been filled
2017-06-20 22:41:35,389 - DEBUG - Try to Cancel Stop
2017-06-20 22:41:35,393 - DEBUG - Stop API ID 0
2017-06-20 22:41:35,397 - DEBUG - Profit API ID 0
2017-06-20 22:41:35,401 - DEBUG - Pos is 1
2017-06-20 22:41:35,405 - DEBUG - CurCount is 1
2017-06-20 22:41:35,409 - DEBUG - In Pos 1
2017-06-20 22:41:35,412 - DEBUG - Stop ID is 30
2017-06-20 22:41:35,417 - DEBUG - Stop API ID 0
2017-06-20 22:41:35,420 - DEBUG - Profit API ID 0
2017-06-20 22:41:35,424 - DEBUG - Pos is 1
2017-06-20 22:41:35,428 - DEBUG - CurCount is 1
2017-06-20 22:41:35,432 - DEBUG - In Pos 1
2017-06-20 22:41:35,437 - DEBUG - profitID is 0
2017-06-20 22:41:35,441 - DEBUG - stopID is 30
2017-06-20 22:41:35,445 - DEBUG - Entry Date is 10
2017-06-20 22:41:35,448 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:41:35,452 - DEBUG - Order Profit ID is 0
2017-06-20 22:41:35,456 - DEBUG - Order Entry ID is 0
2017-06-20 22:41:35,460 - DEBUG - API ID is  0
2017-06-20 22:41:35,464 - DEBUG - Current Position is 1
2017-06-20 22:41:35,468 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:41:35,472 - DEBUG - Time is 22
2017-06-20 22:41:35,477 - DEBUG - Disconnected from IBController
2017-06-20 22:41:35,483 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:42:17,089 - DEBUG - ****************************************************
2017-06-20 22:42:17,098 - DEBUG - Current Time is 2017-06-20 22:42:17.098642
2017-06-20 22:42:17,104 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:42:17,111 - DEBUG - Connecting to database
2017-06-20 22:42:18,155 - DEBUG - Connected to database
2017-06-20 22:42:18,168 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:18,236 - DEBUG - Order Profit is 0
2017-06-20 22:42:18,249 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:18,282 - DEBUG - Stop ID is 0
2017-06-20 22:42:18,331 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:18,339 - DEBUG - Order Entry is 0
2017-06-20 22:42:18,347 - DEBUG - Connecting to IBController
2017-06-20 22:42:21,126 - DEBUG - Connected to IBController
2017-06-20 22:42:21,159 - DEBUG - Pos Mgmt -50000
2017-06-20 22:42:21,167 - DEBUG - Position requested
2017-06-20 22:42:21,176 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367C88>, pos=-50000, avgCost=0.96746>
2017-06-20 22:42:21,183 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:42:21,190 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:42:21,196 - DEBUG - Position is -50000
2017-06-20 22:42:21,204 - DEBUG - Pos Mgmt 2000
2017-06-20 22:42:21,215 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808EB8>, pos=2000, avgCost=0.76043>
2017-06-20 22:42:21,225 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:42:21,232 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:42:21,239 - DEBUG - Position is 2000
2017-06-20 22:42:21,248 - DEBUG - Pos Mgmt 2000
2017-06-20 22:42:21,256 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367F60>, pos=2000, avgCost=0.88143>
2017-06-20 22:42:21,264 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:42:21,272 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:42:21,280 - DEBUG - Position is 2000
2017-06-20 22:42:21,287 - DEBUG - Pos Mgmt -2000
2017-06-20 22:42:21,293 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808E48>, pos=-2000, avgCost=1.11479>
2017-06-20 22:42:21,302 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:42:21,311 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:42:21,317 - DEBUG - Position is -2000
2017-06-20 22:42:21,323 - DEBUG - In Position
2017-06-20 22:42:21,330 - DEBUG - Position is 1
2017-06-20 22:42:21,339 - DEBUG - Pos Mgmt -50000
2017-06-20 22:42:21,347 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367978>, pos=-50000, avgCost=0.7318>
2017-06-20 22:42:21,356 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:42:21,364 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:42:21,373 - DEBUG - Position is -50000
2017-06-20 22:42:21,385 - DEBUG - Pos Mgmt 0
2017-06-20 22:42:21,394 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808E48>, pos=0, avgCost=0.0>
2017-06-20 22:42:21,400 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:42:21,408 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:42:21,417 - DEBUG - Position is 0
2017-06-20 22:42:21,428 - DEBUG - Pos Mgmt 2000
2017-06-20 22:42:21,432 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A3676A0>, pos=2000, avgCost=0.72501>
2017-06-20 22:42:21,440 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:42:21,457 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:42:21,464 - DEBUG - Position is 2000
2017-06-20 22:42:21,471 - DEBUG - Pos Mgmt -2000
2017-06-20 22:42:21,478 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808E48>, pos=-2000, avgCost=1.26097>
2017-06-20 22:42:21,490 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:42:21,500 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:42:21,509 - DEBUG - Position is -2000
2017-06-20 22:42:21,519 - DEBUG - Pos Mgmt -50000
2017-06-20 22:42:21,526 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A3677F0>, pos=-50000, avgCost=110.098>
2017-06-20 22:42:21,532 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:42:21,537 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:42:21,544 - DEBUG - Position is -50000
2017-06-20 22:42:21,552 - DEBUG - Pos Mgmt 2800
2017-06-20 22:42:21,560 - DEBUG - Pos Mgmt 250
2017-06-20 22:42:21,567 - DEBUG - Pos Mgmt 1894
2017-06-20 22:42:21,574 - DEBUG - Pos Mgmt 375
2017-06-20 22:42:21,580 - DEBUG - Pos Mgmt 476
2017-06-20 22:42:21,588 - DEBUG - Pos Mgmt 733
2017-06-20 22:42:21,598 - DEBUG - Pos Mgmt 726
2017-06-20 22:42:21,609 - DEBUG - Pos Mgmt 574
2017-06-20 22:42:21,617 - DEBUG - Pos Mgmt 965
2017-06-20 22:42:21,623 - DEBUG - Pos Mgmt 491
2017-06-20 22:42:22,178 - DEBUG - Open Orders requested
2017-06-20 22:42:22,188 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x000000000A3670F0>, order=<ib.ext.Order.Order object at 0x0000000008808E48>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000A367E48>>
2017-06-20 22:42:22,209 - DEBUG - Order OrderID 0
2017-06-20 22:42:22,218 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:42:22,225 - DEBUG - Order status PreSubmitted
2017-06-20 22:42:22,231 - DEBUG - Order Identification 0
2017-06-20 22:42:22,237 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:42:22,250 - DEBUG - Profit ID from database is 0
2017-06-20 22:42:22,257 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:42:22,264 - DEBUG - Stop ID database is 0
2017-06-20 22:42:22,270 - DEBUG - Entry ID database is 0
2017-06-20 22:42:22,276 - DEBUG - Stop API ID is 0
2017-06-20 22:42:22,283 - DEBUG - Profit API ID is 0
2017-06-20 22:42:22,289 - DEBUG - Entry API ID is 0
2017-06-20 22:42:24,205 - DEBUG - Connecting to database
2017-06-20 22:42:24,660 - DEBUG - Connected to database
2017-06-20 22:42:24,696 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:24,708 - DEBUG - Stop loss value is 0
2017-06-20 22:42:24,745 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:24,752 - DEBUG - Stop quantity 0
2017-06-20 22:42:24,791 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:24,797 - DEBUG - Direction is 0
2017-06-20 22:42:24,826 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:24,834 - DEBUG - Count is 0
2017-06-20 22:42:24,867 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:42:24,873 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:42:24,902 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:42:24,909 - DEBUG - Max ID Order is (30,)
2017-06-20 22:42:24,915 - DEBUG - Today is 2017-06-20
2017-06-20 22:42:24,921 - DEBUG - Day of the week 1
2017-06-20 22:42:24,928 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:42:24,934 - DEBUG - In Position is  1
2017-06-20 22:42:24,941 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:42:24,948 - DEBUG - curStopLossFlag is  0
2017-06-20 22:42:24,955 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:42:24,962 - DEBUG - Checking if Entry has been filled
2017-06-20 22:42:24,968 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:42:24,975 - DEBUG - Order Profit is ('0',)
2017-06-20 22:42:24,980 - DEBUG - Incremented Order ID for stop loss 31
2017-06-20 22:42:24,986 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:42:24,994 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000082FDEB8>
2017-06-20 22:42:25,000 - DEBUG - Entry Trade Direction is 0
2017-06-20 22:42:25,005 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:42:25,157 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:42:25,237 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:42:25,310 - DEBUG - StopLossVal2 is 0.0
2017-06-20 22:42:25,438 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:42:25,501 - DEBUG - Try to Cancel Stop
2017-06-20 22:42:25,513 - DEBUG - Stop API ID 0
2017-06-20 22:42:25,521 - DEBUG - Profit API ID 0
2017-06-20 22:42:25,528 - DEBUG - Pos is 1
2017-06-20 22:42:25,536 - DEBUG - CurCount is 0
2017-06-20 22:42:25,544 - DEBUG - In Pos 1
2017-06-20 22:42:25,550 - DEBUG - Stop ID is 0
2017-06-20 22:42:25,555 - DEBUG - Stop API ID 0
2017-06-20 22:42:25,561 - DEBUG - Profit API ID 0
2017-06-20 22:42:25,567 - DEBUG - Pos is 1
2017-06-20 22:42:25,573 - DEBUG - CurCount is 0
2017-06-20 22:42:25,579 - DEBUG - In Pos 1
2017-06-20 22:42:25,585 - DEBUG - profitID is 0
2017-06-20 22:42:25,594 - DEBUG - stopID is 0
2017-06-20 22:42:25,604 - DEBUG - Entry Date is 10
2017-06-20 22:42:25,611 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:42:25,617 - DEBUG - Order Profit ID is 0
2017-06-20 22:42:25,623 - DEBUG - Order Entry ID is 0
2017-06-20 22:42:25,629 - DEBUG - API ID is  0
2017-06-20 22:42:25,635 - DEBUG - Current Position is 0
2017-06-20 22:42:25,642 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:42:25,648 - DEBUG - Time is 22
2017-06-20 22:42:25,657 - DEBUG - Disconnected from IBController
2017-06-20 22:42:25,664 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:44:00,724 - DEBUG - ****************************************************
2017-06-20 22:44:00,735 - DEBUG - Current Time is 2017-06-20 22:44:00.735570
2017-06-20 22:44:00,747 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:44:00,756 - DEBUG - Connecting to database
2017-06-20 22:44:01,220 - DEBUG - Connected to database
2017-06-20 22:44:01,240 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:01,278 - DEBUG - Order Profit is 0
2017-06-20 22:44:01,291 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:01,328 - DEBUG - Stop ID is 31
2017-06-20 22:44:01,370 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:01,386 - DEBUG - Order Entry is 0
2017-06-20 22:44:01,402 - DEBUG - Connecting to IBController
2017-06-20 22:44:03,764 - DEBUG - Connected to IBController
2017-06-20 22:44:03,785 - DEBUG - Position requested
2017-06-20 22:44:03,804 - DEBUG - Pos Mgmt -50000
2017-06-20 22:44:03,827 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367F60>, pos=-50000, avgCost=0.96746>
2017-06-20 22:44:03,839 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:44:03,849 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:44:03,859 - DEBUG - Position is -50000
2017-06-20 22:44:03,867 - DEBUG - Pos Mgmt 2000
2017-06-20 22:44:03,874 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367908>, pos=2000, avgCost=0.76043>
2017-06-20 22:44:03,883 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:44:03,892 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:44:03,901 - DEBUG - Position is 2000
2017-06-20 22:44:03,909 - DEBUG - Pos Mgmt 2000
2017-06-20 22:44:03,918 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367F60>, pos=2000, avgCost=0.88143>
2017-06-20 22:44:03,926 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:44:03,935 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:44:03,942 - DEBUG - Position is 2000
2017-06-20 22:44:03,950 - DEBUG - Pos Mgmt -2000
2017-06-20 22:44:03,958 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088089B0>, pos=-2000, avgCost=1.11479>
2017-06-20 22:44:03,967 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:44:03,977 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:44:03,985 - DEBUG - Position is -2000
2017-06-20 22:44:03,994 - DEBUG - In Position
2017-06-20 22:44:04,002 - DEBUG - Position is 1
2017-06-20 22:44:04,012 - DEBUG - Pos Mgmt -50000
2017-06-20 22:44:04,022 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367F60>, pos=-50000, avgCost=0.7318>
2017-06-20 22:44:04,032 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:44:04,040 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:44:04,050 - DEBUG - Position is -50000
2017-06-20 22:44:04,060 - DEBUG - Pos Mgmt 0
2017-06-20 22:44:04,069 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808860>, pos=0, avgCost=0.0>
2017-06-20 22:44:04,077 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:44:04,087 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:44:04,095 - DEBUG - Position is 0
2017-06-20 22:44:04,104 - DEBUG - Pos Mgmt 2000
2017-06-20 22:44:04,113 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367F98>, pos=2000, avgCost=0.72501>
2017-06-20 22:44:04,121 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:44:04,130 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:44:04,138 - DEBUG - Position is 2000
2017-06-20 22:44:04,151 - DEBUG - Pos Mgmt -2000
2017-06-20 22:44:04,159 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808860>, pos=-2000, avgCost=1.26097>
2017-06-20 22:44:04,168 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:44:04,177 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:44:04,186 - DEBUG - Position is -2000
2017-06-20 22:44:04,196 - DEBUG - Pos Mgmt -50000
2017-06-20 22:44:04,205 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088089B0>, pos=-50000, avgCost=110.098>
2017-06-20 22:44:04,217 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:44:04,227 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:44:04,236 - DEBUG - Position is -50000
2017-06-20 22:44:04,247 - DEBUG - Pos Mgmt 2800
2017-06-20 22:44:04,258 - DEBUG - Pos Mgmt 250
2017-06-20 22:44:04,270 - DEBUG - Pos Mgmt 1894
2017-06-20 22:44:04,281 - DEBUG - Pos Mgmt 375
2017-06-20 22:44:04,292 - DEBUG - Pos Mgmt 476
2017-06-20 22:44:04,300 - DEBUG - Pos Mgmt 733
2017-06-20 22:44:04,313 - DEBUG - Pos Mgmt 726
2017-06-20 22:44:04,326 - DEBUG - Pos Mgmt 574
2017-06-20 22:44:04,339 - DEBUG - Pos Mgmt 965
2017-06-20 22:44:04,353 - DEBUG - Pos Mgmt 491
2017-06-20 22:44:04,826 - DEBUG - Open Orders requested
2017-06-20 22:44:04,835 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x00000000087DF940>, order=<ib.ext.Order.Order object at 0x00000000087DFC88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000A3460B8>>
2017-06-20 22:44:04,858 - DEBUG - Order OrderID 0
2017-06-20 22:44:04,868 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:44:04,877 - DEBUG - Order status PreSubmitted
2017-06-20 22:44:04,884 - DEBUG - Order Identification 0
2017-06-20 22:44:04,894 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:44:04,902 - DEBUG - Profit ID from database is 0
2017-06-20 22:44:04,909 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:44:04,917 - DEBUG - Stop ID database is 31
2017-06-20 22:44:04,926 - DEBUG - Entry ID database is 0
2017-06-20 22:44:04,935 - DEBUG - Profit API ID is 0
2017-06-20 22:44:04,943 - DEBUG - Entry API ID is 0
2017-06-20 22:44:06,854 - DEBUG - Connecting to database
2017-06-20 22:44:07,944 - DEBUG - Connected to database
2017-06-20 22:44:07,992 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:08,003 - DEBUG - Stop loss value is 0
2017-06-20 22:44:08,045 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:08,052 - DEBUG - Stop quantity 0
2017-06-20 22:44:08,098 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:08,107 - DEBUG - Direction is Short
2017-06-20 22:44:08,141 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:08,151 - DEBUG - Count is 1
2017-06-20 22:44:08,192 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:44:08,204 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:44:08,241 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:44:08,250 - DEBUG - Max ID Order is (31,)
2017-06-20 22:44:08,260 - DEBUG - Today is 2017-06-20
2017-06-20 22:44:08,268 - DEBUG - Day of the week 1
2017-06-20 22:44:08,274 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:44:08,281 - DEBUG - In Position is  1
2017-06-20 22:44:08,288 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:44:08,295 - DEBUG - curStopLossFlag is  1
2017-06-20 22:44:08,302 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:44:08,312 - DEBUG - Checking if Entry has been filled
2017-06-20 22:44:08,324 - DEBUG - Try to Cancel Stop
2017-06-20 22:44:08,331 - DEBUG - Stop API ID 0
2017-06-20 22:44:08,340 - DEBUG - Profit API ID 0
2017-06-20 22:44:08,351 - DEBUG - Pos is 1
2017-06-20 22:44:08,359 - DEBUG - CurCount is 1
2017-06-20 22:44:08,368 - DEBUG - In Pos 1
2017-06-20 22:44:08,376 - DEBUG - Stop ID is 31
2017-06-20 22:44:08,383 - DEBUG - Stop API ID 0
2017-06-20 22:44:08,391 - DEBUG - Profit API ID 0
2017-06-20 22:44:08,398 - DEBUG - Pos is 1
2017-06-20 22:44:08,409 - DEBUG - CurCount is 1
2017-06-20 22:44:08,418 - DEBUG - In Pos 1
2017-06-20 22:44:08,425 - DEBUG - profitID is 0
2017-06-20 22:44:08,433 - DEBUG - stopID is 31
2017-06-20 22:44:08,441 - DEBUG - Entry Date is 10
2017-06-20 22:44:08,449 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:44:08,457 - DEBUG - Order Profit ID is 0
2017-06-20 22:44:08,465 - DEBUG - Order Entry ID is 0
2017-06-20 22:44:08,475 - DEBUG - API ID is  0
2017-06-20 22:44:08,484 - DEBUG - Current Position is 1
2017-06-20 22:44:08,495 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:44:08,503 - DEBUG - Time is 22
2017-06-20 22:44:08,510 - DEBUG - Disconnected from IBController
2017-06-20 22:44:08,523 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:45:00,795 - DEBUG - ****************************************************
2017-06-20 22:45:00,809 - DEBUG - Current Time is 2017-06-20 22:45:00.809006
2017-06-20 22:45:00,821 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:45:00,833 - DEBUG - Connecting to database
2017-06-20 22:45:01,326 - DEBUG - Connected to database
2017-06-20 22:45:01,352 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:01,404 - DEBUG - Order Profit is 0
2017-06-20 22:45:01,415 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:01,449 - DEBUG - Stop ID is 31
2017-06-20 22:45:01,486 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:01,497 - DEBUG - Order Entry is 0
2017-06-20 22:45:01,507 - DEBUG - Connecting to IBController
2017-06-20 22:45:04,880 - DEBUG - Connected to IBController
2017-06-20 22:45:04,910 - DEBUG - Position requested
2017-06-20 22:45:04,920 - DEBUG - Pos Mgmt -50000
2017-06-20 22:45:04,944 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A346080>, pos=-50000, avgCost=0.96746>
2017-06-20 22:45:04,958 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:45:04,972 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:45:04,986 - DEBUG - Position is -50000
2017-06-20 22:45:05,003 - DEBUG - Pos Mgmt 2000
2017-06-20 22:45:05,017 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFDA0>, pos=2000, avgCost=0.76043>
2017-06-20 22:45:05,032 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:45:05,045 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:45:05,057 - DEBUG - Position is 2000
2017-06-20 22:45:05,070 - DEBUG - Pos Mgmt 2000
2017-06-20 22:45:05,082 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A346710>, pos=2000, avgCost=0.88143>
2017-06-20 22:45:05,096 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:45:05,110 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:45:05,124 - DEBUG - Position is 2000
2017-06-20 22:45:05,138 - DEBUG - Pos Mgmt -2000
2017-06-20 22:45:05,149 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFDA0>, pos=-2000, avgCost=1.11479>
2017-06-20 22:45:05,163 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:45:05,177 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:45:05,190 - DEBUG - Position is -2000
2017-06-20 22:45:05,206 - DEBUG - In Position
2017-06-20 22:45:05,221 - DEBUG - Position is 1
2017-06-20 22:45:05,235 - DEBUG - Pos Mgmt -50000
2017-06-20 22:45:05,248 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A346048>, pos=-50000, avgCost=0.7318>
2017-06-20 22:45:05,265 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:45:05,283 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:45:05,297 - DEBUG - Position is -50000
2017-06-20 22:45:05,312 - DEBUG - Pos Mgmt 0
2017-06-20 22:45:05,322 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFDA0>, pos=0, avgCost=0.0>
2017-06-20 22:45:05,424 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:45:05,450 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:45:05,463 - DEBUG - Position is 0
2017-06-20 22:45:05,479 - DEBUG - Pos Mgmt 2000
2017-06-20 22:45:05,492 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A3466A0>, pos=2000, avgCost=0.72501>
2017-06-20 22:45:05,507 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:45:05,519 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:45:05,534 - DEBUG - Position is 2000
2017-06-20 22:45:05,548 - DEBUG - Pos Mgmt -2000
2017-06-20 22:45:05,563 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087DFDA0>, pos=-2000, avgCost=1.26097>
2017-06-20 22:45:05,576 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:45:05,589 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:45:05,601 - DEBUG - Position is -2000
2017-06-20 22:45:05,615 - DEBUG - Pos Mgmt -50000
2017-06-20 22:45:05,627 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A346080>, pos=-50000, avgCost=110.098>
2017-06-20 22:45:05,642 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:45:05,653 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:45:05,671 - DEBUG - Position is -50000
2017-06-20 22:45:05,688 - DEBUG - Pos Mgmt 2800
2017-06-20 22:45:05,700 - DEBUG - Pos Mgmt 250
2017-06-20 22:45:05,714 - DEBUG - Pos Mgmt 1894
2017-06-20 22:45:05,724 - DEBUG - Pos Mgmt 375
2017-06-20 22:45:05,737 - DEBUG - Pos Mgmt 476
2017-06-20 22:45:05,747 - DEBUG - Pos Mgmt 733
2017-06-20 22:45:05,759 - DEBUG - Pos Mgmt 726
2017-06-20 22:45:05,769 - DEBUG - Pos Mgmt 574
2017-06-20 22:45:05,782 - DEBUG - Pos Mgmt 965
2017-06-20 22:45:05,793 - DEBUG - Pos Mgmt 491
2017-06-20 22:45:05,940 - DEBUG - Open Orders requested
2017-06-20 22:45:05,945 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x00000000083060B8>, order=<ib.ext.Order.Order object at 0x0000000008306128>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000A367898>>
2017-06-20 22:45:05,986 - DEBUG - Order OrderID 0
2017-06-20 22:45:05,999 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:45:06,011 - DEBUG - Order status PreSubmitted
2017-06-20 22:45:06,023 - DEBUG - Order Identification 0
2017-06-20 22:45:06,034 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:45:06,047 - DEBUG - Profit ID from database is 0
2017-06-20 22:45:06,058 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:45:06,070 - DEBUG - Stop ID database is 31
2017-06-20 22:45:06,081 - DEBUG - Entry ID database is 0
2017-06-20 22:45:06,089 - DEBUG - Profit API ID is 0
2017-06-20 22:45:06,101 - DEBUG - Entry API ID is 0
2017-06-20 22:45:07,981 - DEBUG - Connecting to database
2017-06-20 22:45:08,462 - DEBUG - Connected to database
2017-06-20 22:45:08,511 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:08,537 - DEBUG - Stop loss value is 0
2017-06-20 22:45:08,579 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:08,590 - DEBUG - Stop quantity 0
2017-06-20 22:45:08,633 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:08,645 - DEBUG - Direction is Short
2017-06-20 22:45:08,679 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:08,691 - DEBUG - Count is 1
2017-06-20 22:45:08,725 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:45:08,740 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:45:08,780 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:45:08,792 - DEBUG - Max ID Order is (31,)
2017-06-20 22:45:08,805 - DEBUG - Today is 2017-06-20
2017-06-20 22:45:08,816 - DEBUG - Day of the week 1
2017-06-20 22:45:08,827 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:45:08,844 - DEBUG - In Position is  1
2017-06-20 22:45:08,854 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:45:08,865 - DEBUG - curStopLossFlag is  0
2017-06-20 22:45:08,875 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:45:08,885 - DEBUG - Checking if Entry has been filled
2017-06-20 22:45:08,895 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:45:08,906 - DEBUG - Order Profit is ('0',)
2017-06-20 22:45:08,917 - DEBUG - Incremented Order ID for stop loss 32
2017-06-20 22:45:08,928 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:45:08,938 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000082FDF60>
2017-06-20 22:45:08,954 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:45:08,963 - DEBUG - In TRAIL STOP function
2017-06-20 22:45:08,972 - DEBUG - Order action Buy
2017-06-20 22:45:08,982 - DEBUG - Limit value is 1
2017-06-20 22:45:08,992 - DEBUG - In Buy action. TRAIL price is 0.0000
2017-06-20 22:45:09,005 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:45:09,016 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:45:09,032 - DEBUG - Short stop order placed
2017-06-20 22:45:09,043 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:45:09,115 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:45:09,211 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:45:09,285 - DEBUG - StopLossVal2 is 0.0
2017-06-20 22:45:09,418 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:45:09,510 - DEBUG - Try to Cancel Stop
2017-06-20 22:45:09,535 - DEBUG - Stop API ID 0
2017-06-20 22:45:09,556 - DEBUG - Profit API ID 0
2017-06-20 22:45:09,566 - DEBUG - Pos is 1
2017-06-20 22:45:09,577 - DEBUG - CurCount is 1
2017-06-20 22:45:09,589 - DEBUG - In Pos 1
2017-06-20 22:45:09,604 - DEBUG - Stop ID is 31
2017-06-20 22:45:09,615 - DEBUG - Stop API ID 0
2017-06-20 22:45:09,625 - DEBUG - Profit API ID 0
2017-06-20 22:45:09,635 - DEBUG - Pos is 1
2017-06-20 22:45:09,646 - DEBUG - CurCount is 1
2017-06-20 22:45:09,656 - DEBUG - In Pos 1
2017-06-20 22:45:09,666 - DEBUG - profitID is 0
2017-06-20 22:45:09,677 - DEBUG - stopID is 31
2017-06-20 22:45:09,686 - DEBUG - Entry Date is 10
2017-06-20 22:45:09,696 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:45:09,705 - DEBUG - Order Profit ID is 0
2017-06-20 22:45:09,715 - DEBUG - Order Entry ID is 0
2017-06-20 22:45:09,728 - DEBUG - API ID is  0
2017-06-20 22:45:09,738 - DEBUG - Current Position is 1
2017-06-20 22:45:09,750 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:45:09,760 - DEBUG - Time is 22
2017-06-20 22:45:09,771 - DEBUG - Disconnected from IBController
2017-06-20 22:45:09,785 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:46:48,011 - DEBUG - ****************************************************
2017-06-20 22:46:48,027 - DEBUG - Current Time is 2017-06-20 22:46:48.027139
2017-06-20 22:46:48,043 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:46:48,055 - DEBUG - Connecting to database
2017-06-20 22:46:49,420 - DEBUG - Connected to database
2017-06-20 22:46:49,445 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:49,518 - DEBUG - Order Profit is 0
2017-06-20 22:46:49,533 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:49,718 - DEBUG - Stop ID is 32
2017-06-20 22:46:49,809 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:49,824 - DEBUG - Order Entry is 0
2017-06-20 22:46:49,840 - DEBUG - Connecting to IBController
2017-06-20 22:46:52,433 - DEBUG - Connected to IBController
2017-06-20 22:46:52,462 - DEBUG - Position requested
2017-06-20 22:46:52,468 - DEBUG - Pos Mgmt -50000
2017-06-20 22:46:52,502 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367C18>, pos=-50000, avgCost=0.96746>
2017-06-20 22:46:52,516 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:46:52,529 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:46:52,543 - DEBUG - Position is -50000
2017-06-20 22:46:52,556 - DEBUG - Pos Mgmt 2000
2017-06-20 22:46:52,567 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A3465F8>, pos=2000, avgCost=0.76043>
2017-06-20 22:46:52,579 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:46:52,593 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:46:52,604 - DEBUG - Position is 2000
2017-06-20 22:46:52,617 - DEBUG - Pos Mgmt 2000
2017-06-20 22:46:52,628 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A367048>, pos=2000, avgCost=0.88143>
2017-06-20 22:46:52,642 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:46:52,655 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:46:52,668 - DEBUG - Position is 2000
2017-06-20 22:46:52,681 - DEBUG - Pos Mgmt -2000
2017-06-20 22:46:52,693 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000083060B8>, pos=-2000, avgCost=1.11479>
2017-06-20 22:46:52,705 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:46:52,717 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:46:52,730 - DEBUG - Position is -2000
2017-06-20 22:46:52,746 - DEBUG - In Position
2017-06-20 22:46:52,762 - DEBUG - Position is 1
2017-06-20 22:46:52,776 - DEBUG - Pos Mgmt -50000
2017-06-20 22:46:52,788 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x000000000A346CC0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:46:52,803 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:46:52,816 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:46:52,828 - DEBUG - Position is -50000
2017-06-20 22:46:52,843 - DEBUG - Pos Mgmt 0
2017-06-20 22:46:52,854 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000083060B8>, pos=0, avgCost=0.0>
2017-06-20 22:46:52,869 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:46:52,881 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:46:52,894 - DEBUG - Position is 0
2017-06-20 22:46:52,909 - DEBUG - Pos Mgmt 2000
2017-06-20 22:46:52,923 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808CC0>, pos=2000, avgCost=0.72501>
2017-06-20 22:46:52,935 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:46:52,948 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:46:52,961 - DEBUG - Position is 2000
2017-06-20 22:46:52,975 - DEBUG - Pos Mgmt -2000
2017-06-20 22:46:52,986 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000083060B8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:46:53,000 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:46:53,012 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:46:53,027 - DEBUG - Position is -2000
2017-06-20 22:46:53,039 - DEBUG - Pos Mgmt -50000
2017-06-20 22:46:53,051 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008808CF8>, pos=-50000, avgCost=110.098>
2017-06-20 22:46:53,066 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:46:53,078 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:46:53,091 - DEBUG - Position is -50000
2017-06-20 22:46:53,105 - DEBUG - Pos Mgmt 2800
2017-06-20 22:46:53,117 - DEBUG - Pos Mgmt 250
2017-06-20 22:46:53,132 - DEBUG - Pos Mgmt 1894
2017-06-20 22:46:53,146 - DEBUG - Pos Mgmt 375
2017-06-20 22:46:53,162 - DEBUG - Pos Mgmt 476
2017-06-20 22:46:53,175 - DEBUG - Pos Mgmt 733
2017-06-20 22:46:53,189 - DEBUG - Pos Mgmt 726
2017-06-20 22:46:53,207 - DEBUG - Pos Mgmt 574
2017-06-20 22:46:53,219 - DEBUG - Pos Mgmt 965
2017-06-20 22:46:53,235 - DEBUG - Pos Mgmt 491
2017-06-20 22:46:53,500 - DEBUG - Open Orders requested
2017-06-20 22:46:53,513 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008808CF8>, order=<ib.ext.Order.Order object at 0x00000000083060B8>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000A367438>>
2017-06-20 22:46:53,545 - DEBUG - Order OrderID 0
2017-06-20 22:46:53,559 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:46:53,572 - DEBUG - Order status PreSubmitted
2017-06-20 22:46:53,584 - DEBUG - Order Identification 0
2017-06-20 22:46:53,596 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:46:53,608 - DEBUG - Profit ID from database is 0
2017-06-20 22:46:53,621 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:46:53,633 - DEBUG - Stop ID database is 32
2017-06-20 22:46:53,645 - DEBUG - Entry ID database is 0
2017-06-20 22:46:53,658 - DEBUG - Profit API ID is 0
2017-06-20 22:46:53,671 - DEBUG - Entry API ID is 0
2017-06-20 22:46:55,543 - DEBUG - Connecting to database
2017-06-20 22:46:56,003 - DEBUG - Connected to database
2017-06-20 22:46:56,051 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:56,067 - DEBUG - Stop loss value is 1.117
2017-06-20 22:46:56,103 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:56,115 - DEBUG - Stop quantity 
2017-06-20 22:46:56,153 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:56,164 - DEBUG - Direction is Short
2017-06-20 22:46:56,197 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:56,209 - DEBUG - Count is 1
2017-06-20 22:46:56,247 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:46:56,260 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:46:56,304 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:46:56,317 - DEBUG - Max ID Order is (32,)
2017-06-20 22:46:56,332 - DEBUG - Today is 2017-06-20
2017-06-20 22:46:56,344 - DEBUG - Day of the week 1
2017-06-20 22:46:56,356 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:46:56,369 - DEBUG - In Position is  1
2017-06-20 22:46:56,381 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:46:56,393 - DEBUG - curStopLossFlag is  0
2017-06-20 22:46:56,406 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:46:56,420 - DEBUG - Checking if Entry has been filled
2017-06-20 22:46:56,430 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:46:56,443 - DEBUG - Order Profit is ('0',)
2017-06-20 22:46:56,456 - DEBUG - Incremented Order ID for stop loss 33
2017-06-20 22:46:56,469 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:48:00,063 - DEBUG - ****************************************************
2017-06-20 22:48:00,085 - DEBUG - Current Time is 2017-06-20 22:48:00.085260
2017-06-20 22:48:00,100 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:48:00,113 - DEBUG - Connecting to database
2017-06-20 22:48:00,574 - DEBUG - Connected to database
2017-06-20 22:48:00,596 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:00,636 - DEBUG - Order Profit is 0
2017-06-20 22:48:00,650 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:00,691 - DEBUG - Stop ID is 0
2017-06-20 22:48:00,729 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:00,744 - DEBUG - Order Entry is 0
2017-06-20 22:48:00,760 - DEBUG - Connecting to IBController
2017-06-20 22:48:04,964 - DEBUG - Connected to IBController
2017-06-20 22:48:04,996 - DEBUG - Position requested
2017-06-20 22:48:06,010 - DEBUG - Open Orders requested
2017-06-20 22:48:08,045 - DEBUG - Connecting to database
2017-06-20 22:48:08,629 - DEBUG - Connected to database
2017-06-20 22:48:08,680 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:08,697 - DEBUG - Stop loss value is 0
2017-06-20 22:48:08,759 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:08,775 - DEBUG - Stop quantity 2000
2017-06-20 22:48:08,815 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:08,828 - DEBUG - Direction is 0
2017-06-20 22:48:08,871 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:08,886 - DEBUG - Count is 0
2017-06-20 22:48:08,925 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:08,938 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:48:08,979 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:48:08,995 - DEBUG - Max ID Order is (32,)
2017-06-20 22:48:09,009 - DEBUG - Today is 2017-06-20
2017-06-20 22:48:09,025 - DEBUG - Day of the week 1
2017-06-20 22:48:09,038 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:48:09,052 - DEBUG - In Position is  0
2017-06-20 22:48:09,064 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:48:09,079 - DEBUG - curStopLossFlag is  0
2017-06-20 22:48:09,094 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:48:09,109 - DEBUG - Checking if Entry has been filled
2017-06-20 22:48:09,122 - DEBUG - Try to Cancel Stop
2017-06-20 22:48:09,138 - DEBUG - Stop API ID 0
2017-06-20 22:48:09,154 - DEBUG - Profit API ID 0
2017-06-20 22:48:09,168 - DEBUG - Pos is 0
2017-06-20 22:48:09,181 - DEBUG - CurCount is 0
2017-06-20 22:48:09,197 - DEBUG - In Pos 0
2017-06-20 22:48:09,212 - DEBUG - Stop ID is 0
2017-06-20 22:48:09,226 - DEBUG - Stop API ID 0
2017-06-20 22:48:09,243 - DEBUG - Profit API ID 0
2017-06-20 22:48:09,257 - DEBUG - Pos is 0
2017-06-20 22:48:09,273 - DEBUG - CurCount is 0
2017-06-20 22:48:09,286 - DEBUG - In Pos 0
2017-06-20 22:48:09,301 - DEBUG - profitID is 0
2017-06-20 22:48:09,315 - DEBUG - stopID is 0
2017-06-20 22:48:09,329 - DEBUG - Entry Date is 10
2017-06-20 22:48:09,346 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:48:09,359 - DEBUG - Order Profit ID is 0
2017-06-20 22:48:09,377 - DEBUG - Order Entry ID is 0
2017-06-20 22:48:09,390 - DEBUG - API ID is  0
2017-06-20 22:48:09,406 - DEBUG - Current Position is 0
2017-06-20 22:48:09,421 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:48:09,436 - DEBUG - Time is 22
2017-06-20 22:48:09,453 - DEBUG - Disconnected from IBController
2017-06-20 22:48:09,467 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:48:44,499 - DEBUG - ****************************************************
2017-06-20 22:48:44,522 - DEBUG - Current Time is 2017-06-20 22:48:44.522802
2017-06-20 22:48:44,538 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:48:44,553 - DEBUG - Connecting to database
2017-06-20 22:48:44,769 - DEBUG - Connected to database
2017-06-20 22:48:44,791 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:44,832 - DEBUG - Order Profit is 0
2017-06-20 22:48:44,848 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:44,900 - DEBUG - Stop ID is 0
2017-06-20 22:48:44,957 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:44,975 - DEBUG - Order Entry is 0
2017-06-20 22:48:44,998 - DEBUG - Connecting to IBController
2017-06-20 22:48:47,809 - DEBUG - Connected to IBController
2017-06-20 22:48:47,841 - DEBUG - Position requested
2017-06-20 22:48:48,860 - DEBUG - Open Orders requested
2017-06-20 22:48:50,891 - DEBUG - Connecting to database
2017-06-20 22:48:51,365 - DEBUG - Connected to database
2017-06-20 22:48:51,429 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:51,445 - DEBUG - Stop loss value is 1.117
2017-06-20 22:48:51,489 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:51,504 - DEBUG - Stop quantity 2000
2017-06-20 22:48:51,542 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:51,558 - DEBUG - Direction is Short
2017-06-20 22:48:51,599 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:51,618 - DEBUG - Count is 0
2017-06-20 22:48:51,687 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:48:51,718 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:48:51,764 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:48:51,782 - DEBUG - Max ID Order is (32,)
2017-06-20 22:48:51,798 - DEBUG - Today is 2017-06-20
2017-06-20 22:48:51,819 - DEBUG - Day of the week 1
2017-06-20 22:48:51,844 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:48:51,867 - DEBUG - In Position is  0
2017-06-20 22:48:51,886 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:48:51,908 - DEBUG - curStopLossFlag is  0
2017-06-20 22:48:51,928 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:48:51,946 - DEBUG - Checking if Entry has been filled
2017-06-20 22:48:51,968 - DEBUG - Try to Cancel Stop
2017-06-20 22:48:51,995 - DEBUG - Stop API ID 0
2017-06-20 22:48:52,014 - DEBUG - Profit API ID 0
2017-06-20 22:48:52,036 - DEBUG - Pos is 0
2017-06-20 22:48:52,057 - DEBUG - CurCount is 0
2017-06-20 22:48:52,080 - DEBUG - In Pos 0
2017-06-20 22:48:52,100 - DEBUG - Stop ID is 0
2017-06-20 22:48:52,122 - DEBUG - Stop API ID 0
2017-06-20 22:48:52,143 - DEBUG - Profit API ID 0
2017-06-20 22:48:52,163 - DEBUG - Pos is 0
2017-06-20 22:48:52,184 - DEBUG - CurCount is 0
2017-06-20 22:48:52,205 - DEBUG - In Pos 0
2017-06-20 22:48:52,229 - DEBUG - profitID is 0
2017-06-20 22:48:52,251 - DEBUG - stopID is 0
2017-06-20 22:48:52,277 - DEBUG - Entry Date is 10
2017-06-20 22:48:52,304 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:48:52,327 - DEBUG - Order Profit ID is 0
2017-06-20 22:48:52,349 - DEBUG - Order Entry ID is 0
2017-06-20 22:48:52,375 - DEBUG - API ID is  0
2017-06-20 22:48:52,394 - DEBUG - Current Position is 0
2017-06-20 22:48:52,410 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:48:52,429 - DEBUG - Time is 22
2017-06-20 22:48:52,446 - DEBUG - Disconnected from IBController
2017-06-20 22:48:52,464 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:49:33,799 - DEBUG - ****************************************************
2017-06-20 22:49:33,822 - DEBUG - Current Time is 2017-06-20 22:49:33.822622
2017-06-20 22:49:33,841 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:49:33,861 - DEBUG - Connecting to database
2017-06-20 22:49:34,391 - DEBUG - Connected to database
2017-06-20 22:49:34,420 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:34,475 - DEBUG - Order Profit is 0
2017-06-20 22:49:34,494 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:34,540 - DEBUG - Stop ID is 0
2017-06-20 22:49:34,586 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:34,605 - DEBUG - Order Entry is 0
2017-06-20 22:49:34,624 - DEBUG - Connecting to IBController
2017-06-20 22:49:41,451 - DEBUG - Connected to IBController
2017-06-20 22:49:41,480 - DEBUG - Position requested
2017-06-20 22:49:42,498 - DEBUG - Open Orders requested
2017-06-20 22:49:44,534 - DEBUG - Connecting to database
2017-06-20 22:49:45,037 - DEBUG - Connected to database
2017-06-20 22:49:45,102 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:45,120 - DEBUG - Stop loss value is 1.117
2017-06-20 22:49:45,160 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:45,177 - DEBUG - Stop quantity 2000
2017-06-20 22:49:45,223 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:45,240 - DEBUG - Direction is Short
2017-06-20 22:49:45,282 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:45,310 - DEBUG - Count is 1
2017-06-20 22:49:45,359 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:49:45,379 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:49:45,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:49:45,441 - DEBUG - Max ID Order is (32,)
2017-06-20 22:49:45,460 - DEBUG - Today is 2017-06-20
2017-06-20 22:49:45,477 - DEBUG - Day of the week 1
2017-06-20 22:49:45,496 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:49:45,514 - DEBUG - In Position is  0
2017-06-20 22:49:45,533 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:49:45,550 - DEBUG - curStopLossFlag is  0
2017-06-20 22:49:45,570 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:49:45,588 - DEBUG - Checking if Entry has been filled
2017-06-20 22:49:45,612 - DEBUG - Try to Cancel Stop
2017-06-20 22:49:45,630 - DEBUG - Stop API ID 0
2017-06-20 22:49:45,647 - DEBUG - Profit API ID 0
2017-06-20 22:49:45,667 - DEBUG - Pos is 0
2017-06-20 22:49:45,685 - DEBUG - CurCount is 1
2017-06-20 22:49:45,704 - DEBUG - In Pos 0
2017-06-20 22:49:45,722 - DEBUG - Stop ID is 0
2017-06-20 22:49:45,743 - DEBUG - Stop API ID 0
2017-06-20 22:49:45,764 - DEBUG - Profit API ID 0
2017-06-20 22:49:45,783 - DEBUG - Pos is 0
2017-06-20 22:49:45,800 - DEBUG - CurCount is 1
2017-06-20 22:49:45,819 - DEBUG - In Pos 0
2017-06-20 22:49:45,841 - DEBUG - profitID is 0
2017-06-20 22:49:45,861 - DEBUG - stopID is 0
2017-06-20 22:49:45,881 - DEBUG - Entry Date is 10
2017-06-20 22:49:45,900 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:49:45,922 - DEBUG - Order Profit ID is 0
2017-06-20 22:49:45,942 - DEBUG - Order Entry ID is 0
2017-06-20 22:49:45,961 - DEBUG - API ID is  0
2017-06-20 22:49:45,979 - DEBUG - Current Position is 1
2017-06-20 22:49:46,001 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:49:46,021 - DEBUG - Time is 22
2017-06-20 22:49:46,039 - DEBUG - Disconnected from IBController
2017-06-20 22:49:46,059 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:50:58,113 - DEBUG - ****************************************************
2017-06-20 22:50:58,120 - DEBUG - Current Time is 2017-06-20 22:50:58.120443
2017-06-20 22:50:58,124 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:50:58,127 - DEBUG - Connecting to database
2017-06-20 22:50:58,295 - DEBUG - Connected to database
2017-06-20 22:50:58,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:50:58,327 - DEBUG - Order Profit is 0
2017-06-20 22:50:58,329 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:50:58,355 - DEBUG - Stop ID is 0
2017-06-20 22:50:58,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:50:58,405 - DEBUG - Order Entry is 0
2017-06-20 22:50:58,408 - DEBUG - Connecting to IBController
2017-06-20 22:51:01,190 - DEBUG - Connected to IBController
2017-06-20 22:51:01,221 - DEBUG - Position requested
2017-06-20 22:51:01,225 - DEBUG - Pos Mgmt -50000
2017-06-20 22:51:01,231 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007AE8F98>, pos=-50000, avgCost=0.96746>
2017-06-20 22:51:01,234 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:51:01,237 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:51:01,239 - DEBUG - Position is -50000
2017-06-20 22:51:01,242 - DEBUG - Pos Mgmt 2000
2017-06-20 22:51:01,244 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEF28>, pos=2000, avgCost=0.76043>
2017-06-20 22:51:01,247 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:51:01,249 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:51:01,251 - DEBUG - Position is 2000
2017-06-20 22:51:01,254 - DEBUG - Pos Mgmt 2000
2017-06-20 22:51:01,256 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEF98>, pos=2000, avgCost=0.88143>
2017-06-20 22:51:01,258 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:51:01,261 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:51:01,263 - DEBUG - Position is 2000
2017-06-20 22:51:01,266 - DEBUG - Pos Mgmt -2000
2017-06-20 22:51:01,268 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE80B8>, pos=-2000, avgCost=1.11479>
2017-06-20 22:51:01,270 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:51:01,273 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:51:01,275 - DEBUG - Position is -2000
2017-06-20 22:51:01,278 - DEBUG - In Position
2017-06-20 22:51:01,280 - DEBUG - Position is 1
2017-06-20 22:51:01,283 - DEBUG - Pos Mgmt -50000
2017-06-20 22:51:01,285 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007AE8F98>, pos=-50000, avgCost=0.7318>
2017-06-20 22:51:01,287 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:51:01,289 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:51:01,291 - DEBUG - Position is -50000
2017-06-20 22:51:01,294 - DEBUG - Pos Mgmt 0
2017-06-20 22:51:01,296 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE82E8>, pos=0, avgCost=0.0>
2017-06-20 22:51:01,298 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:51:01,301 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:51:01,304 - DEBUG - Position is 0
2017-06-20 22:51:01,307 - DEBUG - Pos Mgmt 2000
2017-06-20 22:51:01,309 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEEB8>, pos=2000, avgCost=0.72501>
2017-06-20 22:51:01,311 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:51:01,313 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:51:01,316 - DEBUG - Position is 2000
2017-06-20 22:51:01,321 - DEBUG - Pos Mgmt -2000
2017-06-20 22:51:01,323 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEF28>, pos=-2000, avgCost=1.26097>
2017-06-20 22:51:01,325 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:51:01,328 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:51:01,330 - DEBUG - Position is -2000
2017-06-20 22:51:01,334 - DEBUG - Pos Mgmt -50000
2017-06-20 22:51:01,336 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007AE8F98>, pos=-50000, avgCost=110.098>
2017-06-20 22:51:01,338 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:51:01,340 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:51:01,343 - DEBUG - Position is -50000
2017-06-20 22:51:01,345 - DEBUG - Pos Mgmt 2800
2017-06-20 22:51:01,348 - DEBUG - Pos Mgmt 250
2017-06-20 22:51:01,351 - DEBUG - Pos Mgmt 1894
2017-06-20 22:51:01,354 - DEBUG - Pos Mgmt 375
2017-06-20 22:51:01,356 - DEBUG - Pos Mgmt 476
2017-06-20 22:51:01,359 - DEBUG - Pos Mgmt 733
2017-06-20 22:51:01,362 - DEBUG - Pos Mgmt 726
2017-06-20 22:51:01,364 - DEBUG - Pos Mgmt 574
2017-06-20 22:51:01,368 - DEBUG - Pos Mgmt 965
2017-06-20 22:51:01,371 - DEBUG - Pos Mgmt 491
2017-06-20 22:51:02,224 - DEBUG - Open Orders requested
2017-06-20 22:51:02,235 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008AE8668>, order=<ib.ext.Order.Order object at 0x0000000008AE8470>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008AE87B8>>
2017-06-20 22:51:02,242 - DEBUG - Order OrderID 0
2017-06-20 22:51:02,245 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:51:02,250 - DEBUG - Order status PreSubmitted
2017-06-20 22:51:02,252 - DEBUG - Order Identification 0
2017-06-20 22:51:02,255 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:51:02,258 - DEBUG - Profit ID from database is 0
2017-06-20 22:51:02,261 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:51:02,264 - DEBUG - Stop ID database is 0
2017-06-20 22:51:02,266 - DEBUG - Entry ID database is 0
2017-06-20 22:51:02,269 - DEBUG - Stop API ID is 0
2017-06-20 22:51:02,271 - DEBUG - Profit API ID is 0
2017-06-20 22:51:02,273 - DEBUG - Entry API ID is 0
2017-06-20 22:51:04,238 - DEBUG - Connecting to database
2017-06-20 22:51:04,477 - DEBUG - Connected to database
2017-06-20 22:51:04,504 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:51:04,506 - DEBUG - Stop loss value is 1.117
2017-06-20 22:51:04,530 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:51:04,532 - DEBUG - Stop quantity 2000
2017-06-20 22:51:04,566 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:51:04,568 - DEBUG - Direction is Short
2017-06-20 22:51:04,616 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:51:04,619 - DEBUG - Count is 1
2017-06-20 22:51:04,644 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:51:04,647 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:51:04,923 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:51:04,926 - DEBUG - Max ID Order is (32,)
2017-06-20 22:51:04,930 - DEBUG - Today is 2017-06-20
2017-06-20 22:51:04,935 - DEBUG - Day of the week 1
2017-06-20 22:51:04,940 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:51:04,945 - DEBUG - In Position is  1
2017-06-20 22:51:04,948 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:51:04,953 - DEBUG - curStopLossFlag is  0
2017-06-20 22:51:04,957 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:51:04,961 - DEBUG - Checking if Entry has been filled
2017-06-20 22:51:04,966 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:51:04,968 - DEBUG - Order Profit is ('0',)
2017-06-20 22:51:04,971 - DEBUG - Incremented Order ID for stop loss 33
2017-06-20 22:51:04,973 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:51:04,975 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000008AE86A0>
2017-06-20 22:51:04,978 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:51:04,980 - DEBUG - In TRAIL STOP function
2017-06-20 22:51:04,983 - DEBUG - Order action Buy
2017-06-20 22:51:04,985 - DEBUG - Limit value is 1
2017-06-20 22:51:04,987 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:51:04,990 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:51:04,992 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:51:04,997 - DEBUG - Short stop order placed
2017-06-20 22:51:04,999 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:51:05,074 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:51:05,131 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:51:05,200 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:51:05,338 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:51:05,439 - DEBUG - Try to Cancel Stop
2017-06-20 22:51:05,442 - DEBUG - Stop API ID 0
2017-06-20 22:51:05,447 - DEBUG - Profit API ID 0
2017-06-20 22:51:05,451 - DEBUG - Pos is 1
2017-06-20 22:51:05,455 - DEBUG - CurCount is 1
2017-06-20 22:51:05,460 - DEBUG - In Pos 1
2017-06-20 22:51:05,464 - DEBUG - Stop ID is 0
2017-06-20 22:51:05,470 - DEBUG - Stop API ID 0
2017-06-20 22:51:05,475 - DEBUG - Profit API ID 0
2017-06-20 22:51:05,477 - DEBUG - Pos is 1
2017-06-20 22:51:05,480 - DEBUG - CurCount is 1
2017-06-20 22:51:05,482 - DEBUG - In Pos 1
2017-06-20 22:51:05,484 - DEBUG - profitID is 0
2017-06-20 22:51:05,487 - DEBUG - stopID is 0
2017-06-20 22:51:05,489 - DEBUG - Entry Date is 10
2017-06-20 22:51:05,491 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:51:05,494 - DEBUG - Order Profit ID is 0
2017-06-20 22:51:05,496 - DEBUG - Order Entry ID is 0
2017-06-20 22:51:05,498 - DEBUG - API ID is  0
2017-06-20 22:51:05,500 - DEBUG - Current Position is 1
2017-06-20 22:51:05,502 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:51:05,505 - DEBUG - Time is 22
2017-06-20 22:51:05,507 - DEBUG - Disconnected from IBController
2017-06-20 22:51:05,512 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:52:31,199 - DEBUG - ****************************************************
2017-06-20 22:52:31,206 - DEBUG - Current Time is 2017-06-20 22:52:31.206767
2017-06-20 22:52:31,212 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:52:31,219 - DEBUG - Connecting to database
2017-06-20 22:52:31,751 - DEBUG - Connected to database
2017-06-20 22:52:31,759 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:31,792 - DEBUG - Order Profit is 0
2017-06-20 22:52:31,797 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:31,826 - DEBUG - Stop ID is 0
2017-06-20 22:52:31,894 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:31,899 - DEBUG - Order Entry is 0
2017-06-20 22:52:31,906 - DEBUG - Connecting to IBController
2017-06-20 22:52:32,985 - DEBUG - Connected to IBController
2017-06-20 22:52:32,995 - DEBUG - Position requested
2017-06-20 22:52:33,023 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:33,040 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE8D30>, pos=-50000, avgCost=0.96746>
2017-06-20 22:52:33,047 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:52:33,051 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:52:33,056 - DEBUG - Position is -50000
2017-06-20 22:52:33,062 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:33,067 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEF98>, pos=2000, avgCost=0.76043>
2017-06-20 22:52:33,072 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:33,077 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:33,081 - DEBUG - Position is 2000
2017-06-20 22:52:33,091 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:33,098 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE8E48>, pos=2000, avgCost=0.88143>
2017-06-20 22:52:33,105 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:52:33,112 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:52:33,118 - DEBUG - Position is 2000
2017-06-20 22:52:33,124 - DEBUG - Pos Mgmt -2000
2017-06-20 22:52:33,128 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007AE8F98>, pos=-2000, avgCost=1.11479>
2017-06-20 22:52:33,134 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:52:33,138 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:33,142 - DEBUG - Position is -2000
2017-06-20 22:52:33,146 - DEBUG - In Position
2017-06-20 22:52:33,150 - DEBUG - Position is 1
2017-06-20 22:52:33,155 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:33,159 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE8FD0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:52:33,163 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:33,166 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:52:33,170 - DEBUG - Position is -50000
2017-06-20 22:52:33,175 - DEBUG - Pos Mgmt 0
2017-06-20 22:52:33,179 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEF98>, pos=0, avgCost=0.0>
2017-06-20 22:52:33,183 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:33,188 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:52:33,192 - DEBUG - Position is 0
2017-06-20 22:52:33,197 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:33,202 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE87B8>, pos=2000, avgCost=0.72501>
2017-06-20 22:52:33,206 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:52:33,210 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:33,214 - DEBUG - Position is 2000
2017-06-20 22:52:33,219 - DEBUG - Pos Mgmt -2000
2017-06-20 22:52:33,223 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000007AE8F98>, pos=-2000, avgCost=1.26097>
2017-06-20 22:52:33,227 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:52:33,232 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:33,236 - DEBUG - Position is -2000
2017-06-20 22:52:33,241 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:33,246 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE8630>, pos=-50000, avgCost=110.098>
2017-06-20 22:52:33,252 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:52:33,257 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:52:33,262 - DEBUG - Position is -50000
2017-06-20 22:52:33,267 - DEBUG - Pos Mgmt 2800
2017-06-20 22:52:33,273 - DEBUG - Pos Mgmt 250
2017-06-20 22:52:33,278 - DEBUG - Pos Mgmt 1894
2017-06-20 22:52:33,282 - DEBUG - Pos Mgmt 375
2017-06-20 22:52:33,287 - DEBUG - Pos Mgmt 476
2017-06-20 22:52:33,293 - DEBUG - Pos Mgmt 733
2017-06-20 22:52:33,298 - DEBUG - Pos Mgmt 726
2017-06-20 22:52:33,303 - DEBUG - Pos Mgmt 574
2017-06-20 22:52:33,309 - DEBUG - Pos Mgmt 965
2017-06-20 22:52:33,316 - DEBUG - Pos Mgmt 491
2017-06-20 22:52:34,015 - DEBUG - Open Orders requested
2017-06-20 22:52:34,042 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEEB8>, order=<ib.ext.Order.Order object at 0x0000000007AE8F98>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008F03128>>
2017-06-20 22:52:34,050 - DEBUG - Order OrderID 0
2017-06-20 22:52:34,058 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:52:34,064 - DEBUG - Order status PreSubmitted
2017-06-20 22:52:34,069 - DEBUG - Order Identification 0
2017-06-20 22:52:34,075 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:52:34,080 - DEBUG - Profit ID from database is 0
2017-06-20 22:52:34,085 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:52:34,090 - DEBUG - Stop ID database is 0
2017-06-20 22:52:34,095 - DEBUG - Entry ID database is 0
2017-06-20 22:52:34,099 - DEBUG - Stop API ID is 0
2017-06-20 22:52:34,104 - DEBUG - Profit API ID is 0
2017-06-20 22:52:34,109 - DEBUG - Entry API ID is 0
2017-06-20 22:52:36,041 - DEBUG - Connecting to database
2017-06-20 22:52:36,478 - DEBUG - Connected to database
2017-06-20 22:52:36,518 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:36,527 - DEBUG - Stop loss value is 0
2017-06-20 22:52:36,578 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:36,583 - DEBUG - Stop quantity 0
2017-06-20 22:52:36,637 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:36,643 - DEBUG - Direction is 0
2017-06-20 22:52:36,687 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:36,700 - DEBUG - Count is 0
2017-06-20 22:52:36,739 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:36,745 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:52:36,785 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:52:36,791 - DEBUG - Max ID Order is (33,)
2017-06-20 22:52:36,798 - DEBUG - Today is 2017-06-20
2017-06-20 22:52:36,804 - DEBUG - Day of the week 1
2017-06-20 22:52:36,809 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:52:36,813 - DEBUG - In Position is  1
2017-06-20 22:52:36,818 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:52:36,823 - DEBUG - curStopLossFlag is  0
2017-06-20 22:52:36,828 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:52:36,833 - DEBUG - Checking if Entry has been filled
2017-06-20 22:52:36,837 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:52:36,843 - DEBUG - Order Profit is ('0',)
2017-06-20 22:52:36,848 - DEBUG - Incremented Order ID for stop loss 34
2017-06-20 22:52:36,853 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:52:36,858 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000008AE8EB8>
2017-06-20 22:52:36,863 - DEBUG - Entry Trade Direction is 0
2017-06-20 22:52:36,868 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:52:36,962 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:52:37,026 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:52:37,106 - DEBUG - StopLossVal2 is 0.0
2017-06-20 22:52:37,237 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:52:38,276 - DEBUG - Try to Cancel Stop
2017-06-20 22:52:38,287 - DEBUG - Stop API ID 0
2017-06-20 22:52:38,297 - DEBUG - Profit API ID 0
2017-06-20 22:52:38,301 - DEBUG - Pos is 1
2017-06-20 22:52:38,307 - DEBUG - CurCount is 0
2017-06-20 22:52:38,311 - DEBUG - In Pos 1
2017-06-20 22:52:38,316 - DEBUG - Stop ID is 0
2017-06-20 22:52:38,320 - DEBUG - Stop API ID 0
2017-06-20 22:52:38,325 - DEBUG - Profit API ID 0
2017-06-20 22:52:38,329 - DEBUG - Pos is 1
2017-06-20 22:52:38,334 - DEBUG - CurCount is 0
2017-06-20 22:52:38,338 - DEBUG - In Pos 1
2017-06-20 22:52:38,342 - DEBUG - profitID is 0
2017-06-20 22:52:38,346 - DEBUG - stopID is 0
2017-06-20 22:52:38,350 - DEBUG - Entry Date is 10
2017-06-20 22:52:38,355 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:52:38,359 - DEBUG - Order Profit ID is 0
2017-06-20 22:52:38,363 - DEBUG - Order Entry ID is 0
2017-06-20 22:52:38,368 - DEBUG - API ID is  0
2017-06-20 22:52:38,373 - DEBUG - Current Position is 0
2017-06-20 22:52:38,378 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:52:38,382 - DEBUG - Time is 22
2017-06-20 22:52:38,388 - DEBUG - Disconnected from IBController
2017-06-20 22:52:38,407 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:52:54,721 - DEBUG - ****************************************************
2017-06-20 22:52:54,730 - DEBUG - Current Time is 2017-06-20 22:52:54.730113
2017-06-20 22:52:54,736 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:52:54,743 - DEBUG - Connecting to database
2017-06-20 22:52:55,284 - DEBUG - Connected to database
2017-06-20 22:52:55,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:55,376 - DEBUG - Order Profit is 0
2017-06-20 22:52:55,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:55,690 - DEBUG - Stop ID is 34
2017-06-20 22:52:55,759 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:52:55,772 - DEBUG - Order Entry is 0
2017-06-20 22:52:55,784 - DEBUG - Connecting to IBController
2017-06-20 22:52:56,809 - DEBUG - Connected to IBController
2017-06-20 22:52:56,838 - DEBUG - Position requested
2017-06-20 22:52:56,860 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:56,890 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03470>, pos=-50000, avgCost=0.96746>
2017-06-20 22:52:56,898 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:52:56,905 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:52:56,911 - DEBUG - Position is -50000
2017-06-20 22:52:56,917 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:56,924 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03160>, pos=2000, avgCost=0.76043>
2017-06-20 22:52:56,930 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:56,936 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:56,942 - DEBUG - Position is 2000
2017-06-20 22:52:56,949 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:56,954 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03BA8>, pos=2000, avgCost=0.88143>
2017-06-20 22:52:56,960 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:52:56,966 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:52:56,971 - DEBUG - Position is 2000
2017-06-20 22:52:56,979 - DEBUG - Pos Mgmt -2000
2017-06-20 22:52:56,985 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03BE0>, pos=-2000, avgCost=1.11479>
2017-06-20 22:52:56,990 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:52:56,996 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:57,001 - DEBUG - Position is -2000
2017-06-20 22:52:57,007 - DEBUG - In Position
2017-06-20 22:52:57,013 - DEBUG - Position is 1
2017-06-20 22:52:57,020 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:57,025 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F034A8>, pos=-50000, avgCost=0.7318>
2017-06-20 22:52:57,030 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:57,036 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:52:57,042 - DEBUG - Position is -50000
2017-06-20 22:52:57,050 - DEBUG - Pos Mgmt 0
2017-06-20 22:52:57,057 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03F60>, pos=0, avgCost=0.0>
2017-06-20 22:52:57,062 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:52:57,068 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:52:57,074 - DEBUG - Position is 0
2017-06-20 22:52:57,082 - DEBUG - Pos Mgmt 2000
2017-06-20 22:52:57,088 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F034E0>, pos=2000, avgCost=0.72501>
2017-06-20 22:52:57,094 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:52:57,100 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:57,106 - DEBUG - Position is 2000
2017-06-20 22:52:57,116 - DEBUG - Pos Mgmt -2000
2017-06-20 22:52:57,123 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F036D8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:52:57,132 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:52:57,139 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:52:57,149 - DEBUG - Position is -2000
2017-06-20 22:52:57,158 - DEBUG - Pos Mgmt -50000
2017-06-20 22:52:57,166 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03BA8>, pos=-50000, avgCost=110.098>
2017-06-20 22:52:57,176 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:52:57,185 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:52:57,193 - DEBUG - Position is -50000
2017-06-20 22:52:57,201 - DEBUG - Pos Mgmt 2800
2017-06-20 22:52:57,209 - DEBUG - Pos Mgmt 250
2017-06-20 22:52:57,218 - DEBUG - Pos Mgmt 1894
2017-06-20 22:52:57,226 - DEBUG - Pos Mgmt 375
2017-06-20 22:52:57,233 - DEBUG - Pos Mgmt 476
2017-06-20 22:52:57,241 - DEBUG - Pos Mgmt 733
2017-06-20 22:52:57,248 - DEBUG - Pos Mgmt 726
2017-06-20 22:52:57,256 - DEBUG - Pos Mgmt 574
2017-06-20 22:52:57,264 - DEBUG - Pos Mgmt 965
2017-06-20 22:52:57,274 - DEBUG - Pos Mgmt 491
2017-06-20 22:52:57,885 - DEBUG - Open Orders requested
2017-06-20 22:52:57,900 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008F03048>, order=<ib.ext.Order.Order object at 0x0000000008F03F28>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008AE8BA8>>
2017-06-20 22:52:57,923 - DEBUG - Order OrderID 0
2017-06-20 22:52:57,930 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:52:57,936 - DEBUG - Order status PreSubmitted
2017-06-20 22:52:57,943 - DEBUG - Order Identification 0
2017-06-20 22:52:57,950 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:52:57,956 - DEBUG - Profit ID from database is 0
2017-06-20 22:52:57,962 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:52:57,969 - DEBUG - Stop ID database is 34
2017-06-20 22:52:57,975 - DEBUG - Entry ID database is 0
2017-06-20 22:52:57,981 - DEBUG - Profit API ID is 0
2017-06-20 22:52:57,988 - DEBUG - Entry API ID is 0
2017-06-20 22:52:59,921 - DEBUG - Connecting to database
2017-06-20 22:53:00,206 - DEBUG - Connected to database
2017-06-20 22:53:00,277 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:00,290 - DEBUG - Stop loss value is 0
2017-06-20 22:53:00,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:00,344 - DEBUG - Stop quantity 0
2017-06-20 22:53:00,393 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:00,401 - DEBUG - Direction is 0
2017-06-20 22:53:00,438 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:00,446 - DEBUG - Count is 1
2017-06-20 22:53:00,511 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:00,523 - DEBUG - Stop Loss Flag is 1
2017-06-20 22:53:00,577 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:53:00,584 - DEBUG - Max ID Order is (34,)
2017-06-20 22:53:00,594 - DEBUG - Today is 2017-06-20
2017-06-20 22:53:00,606 - DEBUG - Day of the week 1
2017-06-20 22:53:00,614 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:53:00,622 - DEBUG - In Position is  1
2017-06-20 22:53:00,630 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:53:00,638 - DEBUG - curStopLossFlag is  1
2017-06-20 22:53:00,644 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:53:00,653 - DEBUG - Checking if Entry has been filled
2017-06-20 22:53:00,658 - DEBUG - Try to Cancel Stop
2017-06-20 22:53:00,666 - DEBUG - Stop API ID 0
2017-06-20 22:53:00,674 - DEBUG - Profit API ID 0
2017-06-20 22:53:00,682 - DEBUG - Pos is 1
2017-06-20 22:53:00,690 - DEBUG - CurCount is 1
2017-06-20 22:53:00,698 - DEBUG - In Pos 1
2017-06-20 22:53:00,706 - DEBUG - Stop ID is 34
2017-06-20 22:53:00,713 - DEBUG - Stop API ID 0
2017-06-20 22:53:00,721 - DEBUG - Profit API ID 0
2017-06-20 22:53:00,731 - DEBUG - Pos is 1
2017-06-20 22:53:00,737 - DEBUG - CurCount is 1
2017-06-20 22:53:00,743 - DEBUG - In Pos 1
2017-06-20 22:53:00,750 - DEBUG - profitID is 0
2017-06-20 22:53:00,757 - DEBUG - stopID is 34
2017-06-20 22:53:00,765 - DEBUG - Entry Date is 10
2017-06-20 22:53:00,772 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:53:00,781 - DEBUG - Order Profit ID is 0
2017-06-20 22:53:00,787 - DEBUG - Order Entry ID is 0
2017-06-20 22:53:00,794 - DEBUG - API ID is  0
2017-06-20 22:53:00,802 - DEBUG - Current Position is 1
2017-06-20 22:53:00,810 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:53:00,815 - DEBUG - Time is 22
2017-06-20 22:53:00,822 - DEBUG - Disconnected from IBController
2017-06-20 22:53:00,835 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:53:41,507 - DEBUG - ****************************************************
2017-06-20 22:53:41,516 - DEBUG - Current Time is 2017-06-20 22:53:41.516789
2017-06-20 22:53:41,526 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:53:41,535 - DEBUG - Connecting to database
2017-06-20 22:53:41,991 - DEBUG - Connected to database
2017-06-20 22:53:42,001 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:42,033 - DEBUG - Order Profit is 0
2017-06-20 22:53:42,042 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:42,079 - DEBUG - Stop ID is 34
2017-06-20 22:53:42,132 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:42,141 - DEBUG - Order Entry is 0
2017-06-20 22:53:42,152 - DEBUG - Connecting to IBController
2017-06-20 22:53:43,184 - DEBUG - Connected to IBController
2017-06-20 22:53:43,206 - DEBUG - Position requested
2017-06-20 22:53:43,230 - DEBUG - Pos Mgmt -50000
2017-06-20 22:53:43,245 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03278>, pos=-50000, avgCost=0.96746>
2017-06-20 22:53:43,253 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:53:43,261 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:53:43,270 - DEBUG - Position is -50000
2017-06-20 22:53:43,279 - DEBUG - Pos Mgmt 2000
2017-06-20 22:53:43,288 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEFD0>, pos=2000, avgCost=0.76043>
2017-06-20 22:53:43,296 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:53:43,304 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:53:43,313 - DEBUG - Position is 2000
2017-06-20 22:53:43,322 - DEBUG - Pos Mgmt 2000
2017-06-20 22:53:43,330 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03278>, pos=2000, avgCost=0.88143>
2017-06-20 22:53:43,338 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:53:43,347 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:53:43,355 - DEBUG - Position is 2000
2017-06-20 22:53:43,364 - DEBUG - Pos Mgmt -2000
2017-06-20 22:53:43,372 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F030F0>, pos=-2000, avgCost=1.11479>
2017-06-20 22:53:43,380 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:53:43,388 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:53:43,396 - DEBUG - Position is -2000
2017-06-20 22:53:43,403 - DEBUG - In Position
2017-06-20 22:53:43,411 - DEBUG - Position is 1
2017-06-20 22:53:43,421 - DEBUG - Pos Mgmt -50000
2017-06-20 22:53:43,429 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEFD0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:53:43,437 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:53:43,446 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:53:43,454 - DEBUG - Position is -50000
2017-06-20 22:53:43,464 - DEBUG - Pos Mgmt 0
2017-06-20 22:53:43,472 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=0, avgCost=0.0>
2017-06-20 22:53:43,481 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:53:43,489 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:53:43,498 - DEBUG - Position is 0
2017-06-20 22:53:43,508 - DEBUG - Pos Mgmt 2000
2017-06-20 22:53:43,516 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEFD0>, pos=2000, avgCost=0.72501>
2017-06-20 22:53:43,524 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:53:43,533 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:53:43,541 - DEBUG - Position is 2000
2017-06-20 22:53:43,551 - DEBUG - Pos Mgmt -2000
2017-06-20 22:53:43,560 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F032B0>, pos=-2000, avgCost=1.26097>
2017-06-20 22:53:43,568 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:53:43,576 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:53:43,585 - DEBUG - Position is -2000
2017-06-20 22:53:43,598 - DEBUG - Pos Mgmt -50000
2017-06-20 22:53:43,610 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008ABEFD0>, pos=-50000, avgCost=110.098>
2017-06-20 22:53:43,622 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:53:43,631 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:53:43,639 - DEBUG - Position is -50000
2017-06-20 22:53:43,650 - DEBUG - Pos Mgmt 2800
2017-06-20 22:53:43,661 - DEBUG - Pos Mgmt 250
2017-06-20 22:53:43,670 - DEBUG - Pos Mgmt 1894
2017-06-20 22:53:43,679 - DEBUG - Pos Mgmt 375
2017-06-20 22:53:43,689 - DEBUG - Pos Mgmt 476
2017-06-20 22:53:43,699 - DEBUG - Pos Mgmt 733
2017-06-20 22:53:43,710 - DEBUG - Pos Mgmt 726
2017-06-20 22:53:43,717 - DEBUG - Pos Mgmt 574
2017-06-20 22:53:43,728 - DEBUG - Pos Mgmt 965
2017-06-20 22:53:43,740 - DEBUG - Pos Mgmt 491
2017-06-20 22:53:44,241 - DEBUG - Open Orders requested
2017-06-20 22:53:44,268 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x00000000087D5048>, order=<ib.ext.Order.Order object at 0x00000000087D5F28>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008DEC198>>
2017-06-20 22:53:44,289 - DEBUG - Order OrderID 0
2017-06-20 22:53:44,300 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:53:44,309 - DEBUG - Order status PreSubmitted
2017-06-20 22:53:44,317 - DEBUG - Order Identification 0
2017-06-20 22:53:44,326 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:53:44,337 - DEBUG - Profit ID from database is 0
2017-06-20 22:53:44,346 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:53:44,355 - DEBUG - Stop ID database is 34
2017-06-20 22:53:44,364 - DEBUG - Entry ID database is 0
2017-06-20 22:53:44,370 - DEBUG - Profit API ID is 0
2017-06-20 22:53:44,380 - DEBUG - Entry API ID is 0
2017-06-20 22:53:46,288 - DEBUG - Connecting to database
2017-06-20 22:53:46,478 - DEBUG - Connected to database
2017-06-20 22:53:46,526 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:46,544 - DEBUG - Stop loss value is 1.117
2017-06-20 22:53:46,586 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:46,603 - DEBUG - Stop quantity 2000
2017-06-20 22:53:46,650 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:46,659 - DEBUG - Direction is Short
2017-06-20 22:53:46,936 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:46,955 - DEBUG - Count is 1
2017-06-20 22:53:47,002 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:53:47,011 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:53:47,046 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:53:47,054 - DEBUG - Max ID Order is (34,)
2017-06-20 22:53:47,062 - DEBUG - Today is 2017-06-20
2017-06-20 22:53:47,070 - DEBUG - Day of the week 1
2017-06-20 22:53:47,078 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:53:47,087 - DEBUG - In Position is  1
2017-06-20 22:53:47,095 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:53:47,103 - DEBUG - curStopLossFlag is  0
2017-06-20 22:53:47,112 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:53:47,122 - DEBUG - Checking if Entry has been filled
2017-06-20 22:53:47,131 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:53:47,140 - DEBUG - Order Profit is ('0',)
2017-06-20 22:53:47,149 - DEBUG - Incremented Order ID for stop loss 35
2017-06-20 22:53:47,157 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:53:47,167 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000008AE8CF8>
2017-06-20 22:53:47,176 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:53:47,184 - DEBUG - In TRAIL STOP function
2017-06-20 22:53:47,192 - DEBUG - Order action Buy
2017-06-20 22:53:47,201 - DEBUG - Limit value is 1
2017-06-20 22:53:47,209 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:53:47,217 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:53:47,226 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:53:47,238 - DEBUG - Short stop order placed
2017-06-20 22:53:47,250 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:53:48,142 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:53:48,235 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:53:48,270 - DEBUG - Reply Handler Orders is <openOrder orderId=35, contract=<ib.ext.Contract.Contract object at 0x0000000008AE88D0>, order=<ib.ext.Order.Order object at 0x0000000008AE89E8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008DEC1D0>>
2017-06-20 22:53:48,279 - DEBUG - Order OrderID 35
2017-06-20 22:53:48,289 - DEBUG - reply handler status <orderStatus orderId=35, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1271275674, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-20 22:53:48,299 - DEBUG - Order status PreSubmitted
2017-06-20 22:53:48,310 - DEBUG - Order Identification 35
2017-06-20 22:53:48,321 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:53:48,331 - DEBUG - Profit ID from database is 0
2017-06-20 22:53:48,339 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:53:48,347 - DEBUG - Stop ID database is 34
2017-06-20 22:53:48,349 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:53:48,357 - DEBUG - Entry ID database is 0
2017-06-20 22:53:48,479 - DEBUG - Reply Handler Orders is <openOrder orderId=35, contract=<ib.ext.Contract.Contract object at 0x0000000008AE88D0>, order=<ib.ext.Order.Order object at 0x0000000008AE89E8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008DEC518>>
2017-06-20 22:53:48,564 - DEBUG - Order OrderID 35
2017-06-20 22:53:48,583 - DEBUG - reply handler status <orderStatus orderId=35, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1271275674, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-20 22:53:48,596 - DEBUG - Order status PreSubmitted
2017-06-20 22:53:48,606 - DEBUG - Order Identification 35
2017-06-20 22:53:48,616 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:53:48,621 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:53:48,629 - DEBUG - Profit ID from database is 0
2017-06-20 22:53:48,643 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:53:48,651 - DEBUG - Stop ID database is 34
2017-06-20 22:53:48,659 - DEBUG - Entry ID database is 0
2017-06-20 22:53:48,741 - DEBUG - Try to Cancel Stop
2017-06-20 22:53:48,763 - DEBUG - Stop API ID 0
2017-06-20 22:53:48,778 - DEBUG - Profit API ID 0
2017-06-20 22:53:48,788 - DEBUG - Pos is 1
2017-06-20 22:53:48,799 - DEBUG - CurCount is 1
2017-06-20 22:53:48,810 - DEBUG - In Pos 1
2017-06-20 22:53:48,818 - DEBUG - Stop ID is 34
2017-06-20 22:53:48,827 - DEBUG - Stop API ID 0
2017-06-20 22:53:48,836 - DEBUG - Profit API ID 0
2017-06-20 22:53:48,846 - DEBUG - Pos is 1
2017-06-20 22:53:48,854 - DEBUG - CurCount is 1
2017-06-20 22:53:48,863 - DEBUG - In Pos 1
2017-06-20 22:53:48,872 - DEBUG - profitID is 0
2017-06-20 22:53:48,880 - DEBUG - stopID is 34
2017-06-20 22:53:48,888 - DEBUG - Entry Date is 10
2017-06-20 22:53:48,896 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:53:48,905 - DEBUG - Order Profit ID is 0
2017-06-20 22:53:48,913 - DEBUG - Order Entry ID is 0
2017-06-20 22:53:48,921 - DEBUG - API ID is  0
2017-06-20 22:53:48,929 - DEBUG - Current Position is 1
2017-06-20 22:53:48,936 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:53:48,944 - DEBUG - Time is 22
2017-06-20 22:53:48,953 - DEBUG - Disconnected from IBController
2017-06-20 22:53:48,970 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:56:33,270 - DEBUG - ****************************************************
2017-06-20 22:56:33,281 - DEBUG - Current Time is 2017-06-20 22:56:33.281613
2017-06-20 22:56:33,293 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:56:33,304 - DEBUG - Connecting to database
2017-06-20 22:56:33,513 - DEBUG - Connected to database
2017-06-20 22:56:33,526 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:33,569 - DEBUG - Order Profit is 0
2017-06-20 22:56:33,580 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:33,618 - DEBUG - Stop ID is 35
2017-06-20 22:56:33,658 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:33,670 - DEBUG - Order Entry is 0
2017-06-20 22:56:33,683 - DEBUG - Connecting to IBController
2017-06-20 22:56:36,350 - DEBUG - Connected to IBController
2017-06-20 22:56:36,377 - DEBUG - Position requested
2017-06-20 22:56:36,393 - DEBUG - Pos Mgmt -50000
2017-06-20 22:56:36,409 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC4A8>, pos=-50000, avgCost=0.96746>
2017-06-20 22:56:36,421 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:56:36,432 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:56:36,444 - DEBUG - Position is -50000
2017-06-20 22:56:36,456 - DEBUG - Pos Mgmt 2000
2017-06-20 22:56:36,466 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=2000, avgCost=0.76043>
2017-06-20 22:56:36,476 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:56:36,486 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:56:36,496 - DEBUG - Position is 2000
2017-06-20 22:56:36,507 - DEBUG - Pos Mgmt 2000
2017-06-20 22:56:36,518 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC588>, pos=2000, avgCost=0.88143>
2017-06-20 22:56:36,529 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:56:36,543 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:56:36,556 - DEBUG - Position is 2000
2017-06-20 22:56:36,577 - DEBUG - Pos Mgmt -2000
2017-06-20 22:56:36,594 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC198>, pos=-2000, avgCost=1.11479>
2017-06-20 22:56:36,615 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:56:36,629 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:56:36,644 - DEBUG - Position is -2000
2017-06-20 22:56:36,664 - DEBUG - In Position
2017-06-20 22:56:36,680 - DEBUG - Position is 1
2017-06-20 22:56:36,701 - DEBUG - Pos Mgmt -50000
2017-06-20 22:56:36,713 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=-50000, avgCost=0.7318>
2017-06-20 22:56:36,734 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:56:36,747 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:56:36,760 - DEBUG - Position is -50000
2017-06-20 22:56:36,777 - DEBUG - Pos Mgmt 0
2017-06-20 22:56:36,787 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC400>, pos=0, avgCost=0.0>
2017-06-20 22:56:36,800 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:56:36,814 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:56:36,831 - DEBUG - Position is 0
2017-06-20 22:56:36,843 - DEBUG - Pos Mgmt 2000
2017-06-20 22:56:36,855 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=2000, avgCost=0.72501>
2017-06-20 22:56:36,871 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:56:36,884 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:56:36,893 - DEBUG - Position is 2000
2017-06-20 22:56:36,909 - DEBUG - Pos Mgmt -2000
2017-06-20 22:56:36,920 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC550>, pos=-2000, avgCost=1.26097>
2017-06-20 22:56:36,932 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:56:36,945 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:56:36,958 - DEBUG - Position is -2000
2017-06-20 22:56:36,971 - DEBUG - Pos Mgmt -50000
2017-06-20 22:56:36,987 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=-50000, avgCost=110.098>
2017-06-20 22:56:36,998 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:56:37,010 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:56:37,023 - DEBUG - Position is -50000
2017-06-20 22:56:37,037 - DEBUG - Pos Mgmt 2800
2017-06-20 22:56:37,049 - DEBUG - Pos Mgmt 250
2017-06-20 22:56:37,061 - DEBUG - Pos Mgmt 1894
2017-06-20 22:56:37,075 - DEBUG - Pos Mgmt 375
2017-06-20 22:56:37,085 - DEBUG - Pos Mgmt 476
2017-06-20 22:56:37,099 - DEBUG - Pos Mgmt 733
2017-06-20 22:56:37,109 - DEBUG - Pos Mgmt 726
2017-06-20 22:56:37,121 - DEBUG - Pos Mgmt 574
2017-06-20 22:56:37,133 - DEBUG - Pos Mgmt 965
2017-06-20 22:56:37,147 - DEBUG - Pos Mgmt 491
2017-06-20 22:56:37,391 - DEBUG - Open Orders requested
2017-06-20 22:56:37,413 - DEBUG - Reply Handler Orders is <openOrder orderId=0, contract=<ib.ext.Contract.Contract object at 0x0000000008DECA90>, order=<ib.ext.Order.Order object at 0x0000000008DEC4A8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000008ABEAC8>>
2017-06-20 22:56:37,433 - DEBUG - Order OrderID 0
2017-06-20 22:56:37,442 - DEBUG - reply handler status <orderStatus orderId=0, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1994796542, parentId=0, lastFillPrice=0.0, clientId=0, whyHeld=locate,trigger>
2017-06-20 22:56:37,455 - DEBUG - Order status PreSubmitted
2017-06-20 22:56:37,465 - DEBUG - Order Identification 0
2017-06-20 22:56:37,475 - DEBUG - Order Identification <class 'int'>
2017-06-20 22:56:37,485 - DEBUG - Profit ID from database is 0
2017-06-20 22:56:37,495 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 22:56:37,504 - DEBUG - Stop ID database is 35
2017-06-20 22:56:37,515 - DEBUG - Entry ID database is 0
2017-06-20 22:56:37,525 - DEBUG - Profit API ID is 0
2017-06-20 22:56:37,535 - DEBUG - Entry API ID is 0
2017-06-20 22:56:39,427 - DEBUG - Connecting to database
2017-06-20 22:56:40,141 - DEBUG - Connected to database
2017-06-20 22:56:40,186 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:40,197 - DEBUG - Stop loss value is 1.117
2017-06-20 22:56:40,229 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:40,239 - DEBUG - Stop quantity 2000
2017-06-20 22:56:40,271 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:40,282 - DEBUG - Direction is Short
2017-06-20 22:56:40,344 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:40,366 - DEBUG - Count is 1
2017-06-20 22:56:40,405 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:56:40,417 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:56:40,453 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:56:40,464 - DEBUG - Max ID Order is (35,)
2017-06-20 22:56:40,475 - DEBUG - Today is 2017-06-20
2017-06-20 22:56:40,487 - DEBUG - Day of the week 1
2017-06-20 22:56:40,497 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:56:40,505 - DEBUG - In Position is  1
2017-06-20 22:56:40,514 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:56:40,522 - DEBUG - curStopLossFlag is  0
2017-06-20 22:56:40,533 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:56:40,544 - DEBUG - Checking if Entry has been filled
2017-06-20 22:56:40,555 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:56:40,564 - DEBUG - Order Profit is ('0',)
2017-06-20 22:56:40,574 - DEBUG - Incremented Order ID for stop loss 36
2017-06-20 22:56:40,584 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:56:40,594 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000008F03630>
2017-06-20 22:56:40,603 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:56:40,615 - DEBUG - In TRAIL STOP function
2017-06-20 22:56:40,626 - DEBUG - Order action Buy
2017-06-20 22:56:40,635 - DEBUG - Limit value is 1
2017-06-20 22:56:40,645 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:56:40,654 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:56:40,665 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:56:40,679 - DEBUG - Short stop order placed
2017-06-20 22:56:40,690 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:56:40,771 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:56:40,853 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:56:40,994 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:56:41,173 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:56:41,249 - DEBUG - Try to Cancel Stop
2017-06-20 22:56:41,271 - DEBUG - Stop API ID 0
2017-06-20 22:56:41,293 - DEBUG - Profit API ID 0
2017-06-20 22:56:41,305 - DEBUG - Pos is 1
2017-06-20 22:56:41,314 - DEBUG - CurCount is 1
2017-06-20 22:56:41,324 - DEBUG - In Pos 1
2017-06-20 22:56:41,334 - DEBUG - Stop ID is 35
2017-06-20 22:56:41,344 - DEBUG - Stop API ID 0
2017-06-20 22:56:41,354 - DEBUG - Profit API ID 0
2017-06-20 22:56:41,363 - DEBUG - Pos is 1
2017-06-20 22:56:41,372 - DEBUG - CurCount is 1
2017-06-20 22:56:41,382 - DEBUG - In Pos 1
2017-06-20 22:56:41,393 - DEBUG - profitID is 0
2017-06-20 22:56:41,404 - DEBUG - stopID is 35
2017-06-20 22:56:41,414 - DEBUG - Entry Date is 10
2017-06-20 22:56:41,426 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:56:41,435 - DEBUG - Order Profit ID is 0
2017-06-20 22:56:41,445 - DEBUG - Order Entry ID is 0
2017-06-20 22:56:41,456 - DEBUG - API ID is  0
2017-06-20 22:56:41,465 - DEBUG - Current Position is 1
2017-06-20 22:56:41,475 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:56:41,483 - DEBUG - Time is 22
2017-06-20 22:56:41,495 - DEBUG - Disconnected from IBController
2017-06-20 22:56:41,509 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:58:12,976 - DEBUG - ****************************************************
2017-06-20 22:58:12,988 - DEBUG - Current Time is 2017-06-20 22:58:12.988316
2017-06-20 22:58:13,004 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:58:13,018 - DEBUG - Connecting to database
2017-06-20 22:58:13,455 - DEBUG - Connected to database
2017-06-20 22:58:13,486 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:13,529 - DEBUG - Order Profit is 0
2017-06-20 22:58:13,542 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:13,577 - DEBUG - Stop ID is 0
2017-06-20 22:58:13,625 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:13,640 - DEBUG - Order Entry is 0
2017-06-20 22:58:13,653 - DEBUG - Connecting to IBController
2017-06-20 22:58:17,096 - DEBUG - Connected to IBController
2017-06-20 22:58:17,124 - DEBUG - Position requested
2017-06-20 22:58:17,146 - DEBUG - Pos Mgmt -50000
2017-06-20 22:58:17,172 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DECEF0>, pos=-50000, avgCost=0.96746>
2017-06-20 22:58:17,185 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:58:17,198 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:58:17,212 - DEBUG - Position is -50000
2017-06-20 22:58:17,226 - DEBUG - Pos Mgmt 2000
2017-06-20 22:58:17,239 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=2000, avgCost=0.76043>
2017-06-20 22:58:17,252 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:58:17,265 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:58:17,278 - DEBUG - Position is 2000
2017-06-20 22:58:17,292 - DEBUG - Pos Mgmt 2000
2017-06-20 22:58:17,305 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008DEC0B8>, pos=2000, avgCost=0.88143>
2017-06-20 22:58:17,319 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:58:17,332 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:58:17,347 - DEBUG - Position is 2000
2017-06-20 22:58:17,360 - DEBUG - Pos Mgmt -2000
2017-06-20 22:58:17,375 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F03080>, pos=-2000, avgCost=1.11479>
2017-06-20 22:58:17,389 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:58:17,403 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:58:17,417 - DEBUG - Position is -2000
2017-06-20 22:58:17,430 - DEBUG - In Position
2017-06-20 22:58:17,446 - DEBUG - Position is 1
2017-06-20 22:58:17,458 - DEBUG - Pos Mgmt -50000
2017-06-20 22:58:17,469 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087CBD68>, pos=-50000, avgCost=0.7318>
2017-06-20 22:58:17,481 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:58:17,493 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:58:17,505 - DEBUG - Position is -50000
2017-06-20 22:58:17,519 - DEBUG - Pos Mgmt 0
2017-06-20 22:58:17,533 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE86D8>, pos=0, avgCost=0.0>
2017-06-20 22:58:17,548 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:58:17,561 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:58:17,573 - DEBUG - Position is 0
2017-06-20 22:58:17,586 - DEBUG - Pos Mgmt 2000
2017-06-20 22:58:17,600 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000087CBD68>, pos=2000, avgCost=0.72501>
2017-06-20 22:58:17,616 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:58:17,630 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:58:17,645 - DEBUG - Position is 2000
2017-06-20 22:58:17,659 - DEBUG - Pos Mgmt -2000
2017-06-20 22:58:17,673 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008AE86D8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:58:17,686 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:58:17,698 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:58:17,711 - DEBUG - Position is -2000
2017-06-20 22:58:17,723 - DEBUG - Pos Mgmt -50000
2017-06-20 22:58:17,735 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x0000000008F038D0>, pos=-50000, avgCost=110.098>
2017-06-20 22:58:17,748 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:58:17,761 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:58:17,774 - DEBUG - Position is -50000
2017-06-20 22:58:17,787 - DEBUG - Pos Mgmt 2800
2017-06-20 22:58:17,798 - DEBUG - Pos Mgmt 250
2017-06-20 22:58:17,816 - DEBUG - Pos Mgmt 1894
2017-06-20 22:58:17,831 - DEBUG - Pos Mgmt 375
2017-06-20 22:58:17,844 - DEBUG - Pos Mgmt 476
2017-06-20 22:58:17,856 - DEBUG - Pos Mgmt 733
2017-06-20 22:58:17,868 - DEBUG - Pos Mgmt 726
2017-06-20 22:58:17,885 - DEBUG - Pos Mgmt 574
2017-06-20 22:58:17,897 - DEBUG - Pos Mgmt 965
2017-06-20 22:58:17,911 - DEBUG - Pos Mgmt 491
2017-06-20 22:58:18,140 - DEBUG - Open Orders requested
2017-06-20 22:58:20,168 - DEBUG - Connecting to database
2017-06-20 22:58:20,423 - DEBUG - Connected to database
2017-06-20 22:58:20,477 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:20,500 - DEBUG - Stop loss value is 1.117
2017-06-20 22:58:20,540 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:20,551 - DEBUG - Stop quantity 2000
2017-06-20 22:58:20,587 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:20,599 - DEBUG - Direction is Short
2017-06-20 22:58:20,638 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:20,655 - DEBUG - Count is 1
2017-06-20 22:58:20,692 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:58:20,705 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:58:20,737 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:58:20,752 - DEBUG - Max ID Order is (36,)
2017-06-20 22:58:20,764 - DEBUG - Today is 2017-06-20
2017-06-20 22:58:20,776 - DEBUG - Day of the week 1
2017-06-20 22:58:20,788 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:58:20,801 - DEBUG - In Position is  1
2017-06-20 22:58:20,815 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:58:20,828 - DEBUG - curStopLossFlag is  0
2017-06-20 22:58:20,840 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:58:20,851 - DEBUG - Checking if Entry has been filled
2017-06-20 22:58:20,868 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:58:20,879 - DEBUG - Order Profit is ('0',)
2017-06-20 22:58:20,891 - DEBUG - Incremented Order ID for stop loss 37
2017-06-20 22:58:20,904 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:58:20,917 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x0000000007AE8F98>
2017-06-20 22:58:20,929 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:58:20,940 - DEBUG - In TRAIL STOP function
2017-06-20 22:58:20,952 - DEBUG - Order action Buy
2017-06-20 22:58:20,964 - DEBUG - Limit value is 1
2017-06-20 22:58:20,977 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:58:20,988 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:58:21,000 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:58:21,018 - DEBUG - Short stop order placed
2017-06-20 22:58:21,033 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:58:21,133 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:58:21,251 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:58:21,338 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:58:21,475 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:58:21,557 - DEBUG - Try to Cancel Stop
2017-06-20 22:58:21,580 - DEBUG - Stop API ID 0
2017-06-20 22:58:21,594 - DEBUG - Profit API ID 0
2017-06-20 22:58:21,620 - DEBUG - Pos is 1
2017-06-20 22:58:21,635 - DEBUG - CurCount is 1
2017-06-20 22:58:21,650 - DEBUG - In Pos 1
2017-06-20 22:58:21,665 - DEBUG - Stop ID is 0
2017-06-20 22:58:21,678 - DEBUG - Stop API ID 0
2017-06-20 22:58:21,691 - DEBUG - Profit API ID 0
2017-06-20 22:58:21,702 - DEBUG - Pos is 1
2017-06-20 22:58:21,715 - DEBUG - CurCount is 1
2017-06-20 22:58:21,727 - DEBUG - In Pos 1
2017-06-20 22:58:21,737 - DEBUG - profitID is 0
2017-06-20 22:58:21,749 - DEBUG - stopID is 0
2017-06-20 22:58:21,760 - DEBUG - Entry Date is 10
2017-06-20 22:58:21,774 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:58:21,785 - DEBUG - Order Profit ID is 0
2017-06-20 22:58:21,796 - DEBUG - Order Entry ID is 0
2017-06-20 22:58:21,808 - DEBUG - API ID is  0
2017-06-20 22:58:21,820 - DEBUG - Current Position is 1
2017-06-20 22:58:21,832 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:58:21,844 - DEBUG - Time is 22
2017-06-20 22:58:21,858 - DEBUG - Disconnected from IBController
2017-06-20 22:58:21,877 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 22:59:50,188 - DEBUG - ****************************************************
2017-06-20 22:59:50,195 - DEBUG - Current Time is 2017-06-20 22:59:50.195876
2017-06-20 22:59:50,199 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 22:59:50,201 - DEBUG - Connecting to database
2017-06-20 22:59:50,660 - DEBUG - Connected to database
2017-06-20 22:59:50,663 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:50,689 - DEBUG - Order Profit is 0
2017-06-20 22:59:50,691 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:50,722 - DEBUG - Stop ID is 37
2017-06-20 22:59:50,747 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:50,750 - DEBUG - Order Entry is 0
2017-06-20 22:59:50,753 - DEBUG - Connecting to IBController
2017-06-20 22:59:53,280 - DEBUG - Connected to IBController
2017-06-20 22:59:53,284 - DEBUG - Position requested
2017-06-20 22:59:53,303 - DEBUG - Pos Mgmt -50000
2017-06-20 22:59:53,324 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEDA0>, pos=-50000, avgCost=0.96746>
2017-06-20 22:59:53,328 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:59:53,333 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:59:53,335 - DEBUG - Position is -50000
2017-06-20 22:59:53,338 - DEBUG - Pos Mgmt 2000
2017-06-20 22:59:53,340 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEFD0>, pos=2000, avgCost=0.76043>
2017-06-20 22:59:53,342 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:59:53,345 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:59:53,347 - DEBUG - Position is 2000
2017-06-20 22:59:53,350 - DEBUG - Pos Mgmt 2000
2017-06-20 22:59:53,353 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEDA0>, pos=2000, avgCost=0.88143>
2017-06-20 22:59:53,355 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:59:53,358 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 22:59:53,360 - DEBUG - Position is 2000
2017-06-20 22:59:53,363 - DEBUG - Pos Mgmt -2000
2017-06-20 22:59:53,364 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEFD0>, pos=-2000, avgCost=1.11479>
2017-06-20 22:59:53,367 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 22:59:53,370 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:59:53,372 - DEBUG - Position is -2000
2017-06-20 22:59:53,374 - DEBUG - In Position
2017-06-20 22:59:53,376 - DEBUG - Position is 1
2017-06-20 22:59:53,380 - DEBUG - Pos Mgmt -50000
2017-06-20 22:59:53,381 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEEF0>, pos=-50000, avgCost=0.7318>
2017-06-20 22:59:53,383 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:59:53,386 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 22:59:53,388 - DEBUG - Position is -50000
2017-06-20 22:59:53,390 - DEBUG - Pos Mgmt 0
2017-06-20 22:59:53,392 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEDD8>, pos=0, avgCost=0.0>
2017-06-20 22:59:53,394 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 22:59:53,397 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 22:59:53,399 - DEBUG - Position is 0
2017-06-20 22:59:53,402 - DEBUG - Pos Mgmt 2000
2017-06-20 22:59:53,404 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEE10>, pos=2000, avgCost=0.72501>
2017-06-20 22:59:53,406 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 22:59:53,409 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:59:53,410 - DEBUG - Position is 2000
2017-06-20 22:59:53,413 - DEBUG - Pos Mgmt -2000
2017-06-20 22:59:53,415 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEDD8>, pos=-2000, avgCost=1.26097>
2017-06-20 22:59:53,418 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 22:59:53,420 - DEBUG - ccy2 Currency with position is USD
2017-06-20 22:59:53,422 - DEBUG - Position is -2000
2017-06-20 22:59:53,426 - DEBUG - Pos Mgmt -50000
2017-06-20 22:59:53,428 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEDA0>, pos=-50000, avgCost=110.098>
2017-06-20 22:59:53,430 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 22:59:53,432 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 22:59:53,435 - DEBUG - Position is -50000
2017-06-20 22:59:53,438 - DEBUG - Pos Mgmt 2800
2017-06-20 22:59:53,441 - DEBUG - Pos Mgmt 250
2017-06-20 22:59:53,443 - DEBUG - Pos Mgmt 1894
2017-06-20 22:59:53,446 - DEBUG - Pos Mgmt 375
2017-06-20 22:59:53,449 - DEBUG - Pos Mgmt 476
2017-06-20 22:59:53,451 - DEBUG - Pos Mgmt 733
2017-06-20 22:59:53,454 - DEBUG - Pos Mgmt 726
2017-06-20 22:59:53,457 - DEBUG - Pos Mgmt 574
2017-06-20 22:59:53,459 - DEBUG - Pos Mgmt 965
2017-06-20 22:59:53,462 - DEBUG - Pos Mgmt 491
2017-06-20 22:59:54,295 - DEBUG - Open Orders requested
2017-06-20 22:59:56,300 - DEBUG - Connecting to database
2017-06-20 22:59:56,540 - DEBUG - Connected to database
2017-06-20 22:59:56,569 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:56,573 - DEBUG - Stop loss value is 1.117
2017-06-20 22:59:56,598 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:56,604 - DEBUG - Stop quantity 2000
2017-06-20 22:59:56,642 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:56,644 - DEBUG - Direction is Short
2017-06-20 22:59:56,670 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:56,672 - DEBUG - Count is 1
2017-06-20 22:59:56,697 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 22:59:56,699 - DEBUG - Stop Loss Flag is 0
2017-06-20 22:59:56,733 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 22:59:56,735 - DEBUG - Max ID Order is (37,)
2017-06-20 22:59:56,738 - DEBUG - Today is 2017-06-20
2017-06-20 22:59:56,741 - DEBUG - Day of the week 1
2017-06-20 22:59:56,744 - DEBUG - Yesterday is 06/19/2017
2017-06-20 22:59:56,747 - DEBUG - In Position is  1
2017-06-20 22:59:56,750 - DEBUG - In Position is  <class 'int'>
2017-06-20 22:59:56,752 - DEBUG - curStopLossFlag is  0
2017-06-20 22:59:56,754 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 22:59:56,756 - DEBUG - Checking if Entry has been filled
2017-06-20 22:59:56,759 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 22:59:56,761 - DEBUG - Order Profit is ('0',)
2017-06-20 22:59:56,763 - DEBUG - Incremented Order ID for stop loss 38
2017-06-20 22:59:56,766 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 22:59:56,768 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000088D96D8>
2017-06-20 22:59:56,772 - DEBUG - Entry Trade Direction is Short
2017-06-20 22:59:56,775 - DEBUG - In TRAIL STOP function
2017-06-20 22:59:56,777 - DEBUG - Order action Buy
2017-06-20 22:59:56,779 - DEBUG - Limit value is 1
2017-06-20 22:59:56,781 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 22:59:56,783 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 22:59:56,786 - DEBUG - In Buy action. account is DU501213
2017-06-20 22:59:56,792 - DEBUG - Short stop order placed
2017-06-20 22:59:56,795 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 22:59:56,855 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 22:59:56,929 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 22:59:56,998 - DEBUG - StopLossVal2 is 1.117
2017-06-20 22:59:57,156 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 22:59:57,212 - DEBUG - Try to Cancel Stop
2017-06-20 22:59:57,215 - DEBUG - Stop API ID 0
2017-06-20 22:59:57,219 - DEBUG - Profit API ID 0
2017-06-20 22:59:57,223 - DEBUG - Pos is 1
2017-06-20 22:59:57,230 - DEBUG - CurCount is 1
2017-06-20 22:59:57,234 - DEBUG - In Pos 1
2017-06-20 22:59:57,237 - DEBUG - Stop ID is 37
2017-06-20 22:59:57,242 - DEBUG - Stop API ID 0
2017-06-20 22:59:57,245 - DEBUG - Profit API ID 0
2017-06-20 22:59:57,249 - DEBUG - Pos is 1
2017-06-20 22:59:57,253 - DEBUG - CurCount is 1
2017-06-20 22:59:57,256 - DEBUG - In Pos 1
2017-06-20 22:59:57,258 - DEBUG - profitID is 0
2017-06-20 22:59:57,261 - DEBUG - stopID is 37
2017-06-20 22:59:57,263 - DEBUG - Entry Date is 10
2017-06-20 22:59:57,265 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 22:59:57,267 - DEBUG - Order Profit ID is 0
2017-06-20 22:59:57,270 - DEBUG - Order Entry ID is 0
2017-06-20 22:59:57,272 - DEBUG - API ID is  0
2017-06-20 22:59:57,274 - DEBUG - Current Position is 1
2017-06-20 22:59:57,276 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 22:59:57,279 - DEBUG - Time is 22
2017-06-20 22:59:57,282 - DEBUG - Disconnected from IBController
2017-06-20 22:59:57,285 - DEBUG - END POS MGMT SCRIPT :-!
2017-06-20 23:01:31,722 - DEBUG - ****************************************************
2017-06-20 23:01:31,726 - DEBUG - Current Time is 2017-06-20 23:01:31.726683
2017-06-20 23:01:31,731 - DEBUG - Starting Pos Mgmt EUR USD
2017-06-20 23:01:31,735 - DEBUG - Connecting to database
2017-06-20 23:01:32,329 - DEBUG - Connected to database
2017-06-20 23:01:32,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:32,389 - DEBUG - Order Profit is 0
2017-06-20 23:01:32,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:32,433 - DEBUG - Stop ID is 38
2017-06-20 23:01:32,471 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:32,475 - DEBUG - Order Entry is 0
2017-06-20 23:01:32,482 - DEBUG - Connecting to IBController
2017-06-20 23:01:33,544 - DEBUG - Connected to IBController
2017-06-20 23:01:33,557 - DEBUG - Position requested
2017-06-20 23:01:33,602 - DEBUG - Pos Mgmt -50000
2017-06-20 23:01:33,624 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088D9128>, pos=-50000, avgCost=0.96746>
2017-06-20 23:01:33,636 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 23:01:33,649 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 23:01:33,657 - DEBUG - Position is -50000
2017-06-20 23:01:33,670 - DEBUG - Pos Mgmt 2000
2017-06-20 23:01:33,677 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEE80>, pos=2000, avgCost=0.76043>
2017-06-20 23:01:33,683 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 23:01:33,688 - DEBUG - ccy2 Currency with position is USD
2017-06-20 23:01:33,694 - DEBUG - Position is 2000
2017-06-20 23:01:33,702 - DEBUG - Pos Mgmt 2000
2017-06-20 23:01:33,707 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088D9940>, pos=2000, avgCost=0.88143>
2017-06-20 23:01:33,713 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 23:01:33,718 - DEBUG - ccy2 Currency with position is GBP
2017-06-20 23:01:33,723 - DEBUG - Position is 2000
2017-06-20 23:01:33,730 - DEBUG - Pos Mgmt -2000
2017-06-20 23:01:33,735 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEE80>, pos=-2000, avgCost=1.11479>
2017-06-20 23:01:33,741 - DEBUG - ccy1 Symbol with position is EUR
2017-06-20 23:01:33,745 - DEBUG - ccy2 Currency with position is USD
2017-06-20 23:01:33,751 - DEBUG - Position is -2000
2017-06-20 23:01:33,756 - DEBUG - In Position
2017-06-20 23:01:33,761 - DEBUG - Position is 1
2017-06-20 23:01:33,767 - DEBUG - Pos Mgmt -50000
2017-06-20 23:01:33,771 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088D9F60>, pos=-50000, avgCost=0.7318>
2017-06-20 23:01:33,776 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 23:01:33,781 - DEBUG - ccy2 Currency with position is CHF
2017-06-20 23:01:33,787 - DEBUG - Position is -50000
2017-06-20 23:01:33,792 - DEBUG - Pos Mgmt 0
2017-06-20 23:01:33,796 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEE10>, pos=0, avgCost=0.0>
2017-06-20 23:01:33,801 - DEBUG - ccy1 Symbol with position is AUD
2017-06-20 23:01:33,806 - DEBUG - ccy2 Currency with position is NZD
2017-06-20 23:01:33,811 - DEBUG - Position is 0
2017-06-20 23:01:33,817 - DEBUG - Pos Mgmt 2000
2017-06-20 23:01:33,823 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088D9E48>, pos=2000, avgCost=0.72501>
2017-06-20 23:01:33,829 - DEBUG - ccy1 Symbol with position is NZD
2017-06-20 23:01:33,834 - DEBUG - ccy2 Currency with position is USD
2017-06-20 23:01:33,839 - DEBUG - Position is 2000
2017-06-20 23:01:33,844 - DEBUG - Pos Mgmt -2000
2017-06-20 23:01:33,849 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088AEE80>, pos=-2000, avgCost=1.26097>
2017-06-20 23:01:33,854 - DEBUG - ccy1 Symbol with position is GBP
2017-06-20 23:01:33,859 - DEBUG - ccy2 Currency with position is USD
2017-06-20 23:01:33,865 - DEBUG - Position is -2000
2017-06-20 23:01:33,871 - DEBUG - Pos Mgmt -50000
2017-06-20 23:01:33,876 - DEBUG - Reply handler <position account=DU501213, contract=<ib.ext.Contract.Contract object at 0x00000000088D9860>, pos=-50000, avgCost=110.098>
2017-06-20 23:01:33,882 - DEBUG - ccy1 Symbol with position is USD
2017-06-20 23:01:33,889 - DEBUG - ccy2 Currency with position is JPY
2017-06-20 23:01:33,895 - DEBUG - Position is -50000
2017-06-20 23:01:33,902 - DEBUG - Pos Mgmt 2800
2017-06-20 23:01:33,908 - DEBUG - Pos Mgmt 250
2017-06-20 23:01:33,915 - DEBUG - Pos Mgmt 1894
2017-06-20 23:01:33,921 - DEBUG - Pos Mgmt 375
2017-06-20 23:01:33,931 - DEBUG - Pos Mgmt 476
2017-06-20 23:01:33,939 - DEBUG - Pos Mgmt 733
2017-06-20 23:01:33,945 - DEBUG - Pos Mgmt 726
2017-06-20 23:01:33,951 - DEBUG - Pos Mgmt 574
2017-06-20 23:01:33,958 - DEBUG - Pos Mgmt 965
2017-06-20 23:01:33,963 - DEBUG - Pos Mgmt 491
2017-06-20 23:01:34,621 - DEBUG - Open Orders requested
2017-06-20 23:01:36,646 - DEBUG - Connecting to database
2017-06-20 23:01:37,096 - DEBUG - Connected to database
2017-06-20 23:01:37,125 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:37,134 - DEBUG - Stop loss value is 1.117
2017-06-20 23:01:37,166 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:37,171 - DEBUG - Stop quantity 2000
2017-06-20 23:01:37,205 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:37,209 - DEBUG - Direction is Short
2017-06-20 23:01:37,238 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:37,242 - DEBUG - Count is 1
2017-06-20 23:01:37,269 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'EURUSD'
2017-06-20 23:01:37,274 - DEBUG - Stop Loss Flag is 0
2017-06-20 23:01:37,300 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2017-06-20 23:01:37,303 - DEBUG - Max ID Order is (38,)
2017-06-20 23:01:37,307 - DEBUG - Today is 2017-06-20
2017-06-20 23:01:37,312 - DEBUG - Day of the week 1
2017-06-20 23:01:37,317 - DEBUG - Yesterday is 06/19/2017
2017-06-20 23:01:37,321 - DEBUG - In Position is  1
2017-06-20 23:01:37,325 - DEBUG - In Position is  <class 'int'>
2017-06-20 23:01:37,329 - DEBUG - curStopLossFlag is  0
2017-06-20 23:01:37,333 - DEBUG - curStopLossFlag is  <class 'str'>
2017-06-20 23:01:37,338 - DEBUG - Checking if Entry has been filled
2017-06-20 23:01:37,342 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2017-06-20 23:01:37,346 - DEBUG - Order Profit is ('0',)
2017-06-20 23:01:37,351 - DEBUG - Incremented Order ID for stop loss 39
2017-06-20 23:01:37,354 - DEBUG - Symbol, secType, exchange is EUR CASH IDEALPRO
2017-06-20 23:01:37,358 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000088AE9B0>
2017-06-20 23:01:37,363 - DEBUG - Entry Trade Direction is Short
2017-06-20 23:01:37,368 - DEBUG - In TRAIL STOP function
2017-06-20 23:01:37,373 - DEBUG - Order action Buy
2017-06-20 23:01:37,378 - DEBUG - Limit value is 1
2017-06-20 23:01:37,382 - DEBUG - In Buy action. TRAIL price is 1.1170
2017-06-20 23:01:37,386 - DEBUG - In Buy action. AUX Price price is 0.005
2017-06-20 23:01:37,391 - DEBUG - In Buy action. account is DU501213
2017-06-20 23:01:37,399 - DEBUG - Short stop order placed
2017-06-20 23:01:37,404 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'EURUSD'
2017-06-20 23:01:37,468 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='EURUSD';
2017-06-20 23:01:37,542 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'EURUSD'
2017-06-20 23:01:37,614 - DEBUG - StopLossVal2 is 1.117
2017-06-20 23:01:37,757 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 0;
2017-06-20 23:01:37,768 - DEBUG - Reply Handler Orders is <openOrder orderId=39, contract=<ib.ext.Contract.Contract object at 0x00000000088D9630>, order=<ib.ext.Order.Order object at 0x00000000088D9588>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000AA941D0>>
2017-06-20 23:01:37,773 - DEBUG - Order OrderID 39
2017-06-20 23:01:37,778 - DEBUG - reply handler status <orderStatus orderId=39, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1876303500, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-20 23:01:37,783 - DEBUG - Order status PreSubmitted
2017-06-20 23:01:37,787 - DEBUG - Order Identification 39
2017-06-20 23:01:37,792 - DEBUG - Order Identification <class 'int'>
2017-06-20 23:01:37,796 - DEBUG - Profit ID from database is 0
2017-06-20 23:01:37,800 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 23:01:37,805 - DEBUG - Stop ID database is 38
2017-06-20 23:01:37,809 - DEBUG - Entry ID database is 0
2017-06-20 23:01:37,816 - DEBUG - Reply Handler Orders is <openOrder orderId=39, contract=<ib.ext.Contract.Contract object at 0x00000000088D9630>, order=<ib.ext.Order.Order object at 0x00000000088D9588>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000AA94128>>
2017-06-20 23:01:37,821 - DEBUG - Order OrderID 39
2017-06-20 23:01:37,825 - DEBUG - reply handler status <orderStatus orderId=39, status=PreSubmitted, filled=0, remaining=2000, avgFillPrice=0.0, permId=1876303500, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2017-06-20 23:01:37,830 - DEBUG - Order status PreSubmitted
2017-06-20 23:01:37,834 - DEBUG - Order Identification 39
2017-06-20 23:01:37,838 - DEBUG - Order Identification <class 'int'>
2017-06-20 23:01:37,842 - DEBUG - Profit ID from database is 0
2017-06-20 23:01:37,846 - DEBUG - Profit ID from database is <class 'str'>
2017-06-20 23:01:37,850 - DEBUG - Stop ID database is 38
2017-06-20 23:01:37,854 - DEBUG - Entry ID database is 0
2017-06-20 23:01:38,050 - DEBUG - Try to Cancel Stop
2017-06-20 23:01:38,075 - DEBUG - Stop API ID 0
2017-06-20 23:01:38,082 - DEBUG - Profit API ID 0
2017-06-20 23:01:38,089 - DEBUG - Pos is 1
2017-06-20 23:01:38,095 - DEBUG - CurCount is 1
2017-06-20 23:01:38,100 - DEBUG - In Pos 1
2017-06-20 23:01:38,105 - DEBUG - Stop ID is 38
2017-06-20 23:01:38,110 - DEBUG - Stop API ID 0
2017-06-20 23:01:38,115 - DEBUG - Profit API ID 0
2017-06-20 23:01:38,120 - DEBUG - Pos is 1
2017-06-20 23:01:38,125 - DEBUG - CurCount is 1
2017-06-20 23:01:38,130 - DEBUG - In Pos 1
2017-06-20 23:01:38,136 - DEBUG - profitID is 0
2017-06-20 23:01:38,140 - DEBUG - stopID is 38
2017-06-20 23:01:38,143 - DEBUG - Entry Date is 10
2017-06-20 23:01:38,147 - DEBUG - confirming yesterday is 06/19/2017
2017-06-20 23:01:38,151 - DEBUG - Order Profit ID is 0
2017-06-20 23:01:38,155 - DEBUG - Order Entry ID is 0
2017-06-20 23:01:38,159 - DEBUG - API ID is  0
2017-06-20 23:01:38,163 - DEBUG - Current Position is 1
2017-06-20 23:01:38,167 - DEBUG - Checking if Positions should be close at EOD
2017-06-20 23:01:38,171 - DEBUG - Time is 23
2017-06-20 23:01:38,176 - DEBUG - Disconnected from IBController
2017-06-20 23:01:38,185 - DEBUG - END POS MGMT SCRIPT :-!
