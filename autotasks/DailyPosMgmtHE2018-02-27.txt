2018-02-27 09:36:01,440 - DEBUG - ****************************************************
2018-02-27 09:36:01,440 - DEBUG - Current Time is 09:36AM
2018-02-27 09:36:01,441 - DEBUG - Starting Pos Mgmt H E
2018-02-27 09:36:01,441 - DEBUG - Connecting to database
2018-02-27 09:36:01,483 - DEBUG - Connected to database
2018-02-27 09:36:01,483 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:01,485 - DEBUG - Order Profit is 235
2018-02-27 09:36:01,485 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:01,486 - DEBUG - Stop ID is 0
2018-02-27 09:36:01,487 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:01,489 - DEBUG - Entry ID is 235
2018-02-27 09:36:01,489 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:36:01,490 - DEBUG - OCA ID is 1
2018-02-27 09:36:01,491 - DEBUG - Connecting to IBController
2018-02-27 09:36:02,497 - DEBUG - Connected to IBController
2018-02-27 09:36:02,497 - DEBUG - Position requested
2018-02-27 09:36:02,499 - DEBUG - Pos Mgmt -12987
2018-02-27 09:36:02,500 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ACDD8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:36:02,500 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:36:02,500 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:36:02,501 - DEBUG - Position is -12987
2018-02-27 09:36:03,499 - DEBUG - Open Orders requested
2018-02-27 09:36:03,501 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, order=<ib.ext.Order.Order object at 0x00000000020ACA20>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021401D0>>
2018-02-27 09:36:03,502 - DEBUG - Order OrderID 225
2018-02-27 09:36:03,502 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:36:03,503 - DEBUG - Order status PreSubmitted
2018-02-27 09:36:03,503 - DEBUG - Order Identification 225
2018-02-27 09:36:03,503 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:36:03,504 - DEBUG - Profit ID from database is 235
2018-02-27 09:36:03,504 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:36:03,504 - DEBUG - Stop ID database is 0
2018-02-27 09:36:03,504 - DEBUG - Entry ID database is 235
2018-02-27 09:36:03,505 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, order=<ib.ext.Order.Order object at 0x00000000020ACA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140240>>
2018-02-27 09:36:03,506 - DEBUG - Order OrderID 234
2018-02-27 09:36:03,506 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:36:03,507 - DEBUG - Order status PreSubmitted
2018-02-27 09:36:03,507 - DEBUG - Order Identification 234
2018-02-27 09:36:03,507 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:36:03,507 - DEBUG - Profit ID from database is 235
2018-02-27 09:36:03,507 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:36:03,508 - DEBUG - Stop ID database is 0
2018-02-27 09:36:03,508 - DEBUG - Entry ID database is 235
2018-02-27 09:36:03,509 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, order=<ib.ext.Order.Order object at 0x00000000020ACA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140320>>
2018-02-27 09:36:03,509 - DEBUG - Order OrderID 235
2018-02-27 09:36:03,510 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:36:03,510 - DEBUG - Order status PreSubmitted
2018-02-27 09:36:03,510 - DEBUG - Order Identification 235
2018-02-27 09:36:03,511 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:36:03,511 - DEBUG - Profit ID from database is 235
2018-02-27 09:36:03,511 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:36:03,511 - DEBUG - Stop ID database is 0
2018-02-27 09:36:03,511 - DEBUG - Entry ID database is 235
2018-02-27 09:36:03,512 - DEBUG - Profit API ID is 235
2018-02-27 09:36:03,512 - DEBUG - Entry API ID is 235
2018-02-27 09:36:03,513 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020ACE10>, order=<ib.ext.Order.Order object at 0x00000000020ACA20>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140390>>
2018-02-27 09:36:03,513 - DEBUG - Order OrderID 232
2018-02-27 09:36:03,514 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:36:03,514 - DEBUG - Order status PreSubmitted
2018-02-27 09:36:03,514 - DEBUG - Order Identification 232
2018-02-27 09:36:03,515 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:36:03,515 - DEBUG - Profit ID from database is 235
2018-02-27 09:36:03,515 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:36:03,515 - DEBUG - Stop ID database is 0
2018-02-27 09:36:03,516 - DEBUG - Entry ID database is 235
2018-02-27 09:36:05,500 - DEBUG - Connecting to database
2018-02-27 09:36:05,508 - DEBUG - Connected to database
2018-02-27 09:36:05,509 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,510 - DEBUG - Stop loss value is 72.17
2018-02-27 09:36:05,511 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,511 - DEBUG - Stop loss value is 58.925
2018-02-27 09:36:05,513 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,513 - DEBUG - EntryPrice value is 69.625
2018-02-27 09:36:05,514 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,515 - DEBUG - Stop quantity 1
2018-02-27 09:36:05,516 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,516 - DEBUG - Direction is Short
2018-02-27 09:36:05,518 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,518 - DEBUG - Count is 0
2018-02-27 09:36:05,520 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 09:36:05,520 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:36:05,521 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:36:05,522 - DEBUG - Max ID Order is (235,)
2018-02-27 09:36:05,522 - DEBUG - Today is 2018-02-27
2018-02-27 09:36:05,523 - DEBUG - Day of the week 1
2018-02-27 09:36:05,523 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:36:05,523 - DEBUG - In Position is  0
2018-02-27 09:36:05,523 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:36:05,524 - DEBUG - curStopLossFlag is  0
2018-02-27 09:36:05,524 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:36:05,524 - DEBUG - Checking if Entry has been filled
2018-02-27 09:36:05,524 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:36:05,526 - DEBUG - EntryPend is 1
2018-02-27 09:36:05,526 - DEBUG - Try to Cancel Stop
2018-02-27 09:36:05,526 - DEBUG - Stop API ID 0
2018-02-27 09:36:05,527 - DEBUG - Profit API ID 235
2018-02-27 09:36:05,527 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:36:05,527 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:36:05,527 - DEBUG - Pos is 0
2018-02-27 09:36:05,527 - DEBUG - CurCount is 0
2018-02-27 09:36:05,528 - DEBUG - In Pos 0
2018-02-27 09:36:05,528 - DEBUG - Stop ID is 0
2018-02-27 09:36:05,528 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:36:05,530 - DEBUG - EntryPend is 1
2018-02-27 09:36:05,530 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:36:05,530 - DEBUG - Entry Date is 10
2018-02-27 09:36:05,530 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:36:05,530 - DEBUG - Order Profit ID is 235
2018-02-27 09:36:05,531 - DEBUG - Order Entry ID is 235
2018-02-27 09:36:05,531 - DEBUG - API ID is  0
2018-02-27 09:36:05,531 - DEBUG - Current Position is 0
2018-02-27 09:36:05,531 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:36:05,532 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:36:05,532 - DEBUG - Time is 9
2018-02-27 09:36:05,532 - DEBUG - Time is <class 'int'>
2018-02-27 09:36:05,532 - DEBUG - Time is 36
2018-02-27 09:36:05,532 - DEBUG - Time is <class 'int'>
2018-02-27 09:36:05,533 - DEBUG - Disconnected from IBController
2018-02-27 09:36:05,534 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:41:01,357 - DEBUG - ****************************************************
2018-02-27 09:41:01,357 - DEBUG - Current Time is 09:41AM
2018-02-27 09:41:01,358 - DEBUG - Starting Pos Mgmt H E
2018-02-27 09:41:01,358 - DEBUG - Connecting to database
2018-02-27 09:41:01,383 - DEBUG - Connected to database
2018-02-27 09:41:01,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:01,385 - DEBUG - Order Profit is 235
2018-02-27 09:41:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:01,386 - DEBUG - Stop ID is 0
2018-02-27 09:41:01,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:01,388 - DEBUG - Entry ID is 235
2018-02-27 09:41:01,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:41:01,390 - DEBUG - OCA ID is 1
2018-02-27 09:41:01,390 - DEBUG - Connecting to IBController
2018-02-27 09:41:02,400 - DEBUG - Connected to IBController
2018-02-27 09:41:02,400 - DEBUG - Position requested
2018-02-27 09:41:02,402 - DEBUG - Pos Mgmt -12987
2018-02-27 09:41:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DF28>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:41:02,402 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:41:02,403 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:41:02,403 - DEBUG - Position is -12987
2018-02-27 09:41:03,402 - DEBUG - Open Orders requested
2018-02-27 09:41:03,404 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110240>>
2018-02-27 09:41:03,405 - DEBUG - Order OrderID 225
2018-02-27 09:41:03,405 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:41:03,406 - DEBUG - Order status PreSubmitted
2018-02-27 09:41:03,406 - DEBUG - Order Identification 225
2018-02-27 09:41:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:41:03,407 - DEBUG - Profit ID from database is 235
2018-02-27 09:41:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:41:03,407 - DEBUG - Stop ID database is 0
2018-02-27 09:41:03,407 - DEBUG - Entry ID database is 235
2018-02-27 09:41:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110048>>
2018-02-27 09:41:03,409 - DEBUG - Order OrderID 234
2018-02-27 09:41:03,409 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:41:03,409 - DEBUG - Order status PreSubmitted
2018-02-27 09:41:03,410 - DEBUG - Order Identification 234
2018-02-27 09:41:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:41:03,410 - DEBUG - Profit ID from database is 235
2018-02-27 09:41:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:41:03,410 - DEBUG - Stop ID database is 0
2018-02-27 09:41:03,411 - DEBUG - Entry ID database is 235
2018-02-27 09:41:03,412 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021102B0>>
2018-02-27 09:41:03,412 - DEBUG - Order OrderID 235
2018-02-27 09:41:03,412 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:41:03,413 - DEBUG - Order status PreSubmitted
2018-02-27 09:41:03,413 - DEBUG - Order Identification 235
2018-02-27 09:41:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:41:03,413 - DEBUG - Profit ID from database is 235
2018-02-27 09:41:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:41:03,414 - DEBUG - Stop ID database is 0
2018-02-27 09:41:03,414 - DEBUG - Entry ID database is 235
2018-02-27 09:41:03,414 - DEBUG - Profit API ID is 235
2018-02-27 09:41:03,414 - DEBUG - Entry API ID is 235
2018-02-27 09:41:03,416 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000207DE10>, order=<ib.ext.Order.Order object at 0x000000000207DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002110390>>
2018-02-27 09:41:03,416 - DEBUG - Order OrderID 232
2018-02-27 09:41:03,416 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:41:03,417 - DEBUG - Order status PreSubmitted
2018-02-27 09:41:03,417 - DEBUG - Order Identification 232
2018-02-27 09:41:03,417 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:41:03,417 - DEBUG - Profit ID from database is 235
2018-02-27 09:41:03,418 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:41:03,418 - DEBUG - Stop ID database is 0
2018-02-27 09:41:03,418 - DEBUG - Entry ID database is 235
2018-02-27 09:41:05,405 - DEBUG - Connecting to database
2018-02-27 09:41:05,412 - DEBUG - Connected to database
2018-02-27 09:41:05,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,414 - DEBUG - Stop loss value is 72.17
2018-02-27 09:41:05,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,416 - DEBUG - Stop loss value is 58.925
2018-02-27 09:41:05,417 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,419 - DEBUG - EntryPrice value is 69.625
2018-02-27 09:41:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,422 - DEBUG - Stop quantity 1
2018-02-27 09:41:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,423 - DEBUG - Direction is Short
2018-02-27 09:41:05,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,425 - DEBUG - Count is 0
2018-02-27 09:41:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 09:41:05,427 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:41:05,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:41:05,429 - DEBUG - Max ID Order is (235,)
2018-02-27 09:41:05,429 - DEBUG - Today is 2018-02-27
2018-02-27 09:41:05,430 - DEBUG - Day of the week 1
2018-02-27 09:41:05,430 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:41:05,430 - DEBUG - In Position is  0
2018-02-27 09:41:05,430 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:41:05,431 - DEBUG - curStopLossFlag is  0
2018-02-27 09:41:05,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:41:05,431 - DEBUG - Checking if Entry has been filled
2018-02-27 09:41:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:41:05,433 - DEBUG - EntryPend is 1
2018-02-27 09:41:05,433 - DEBUG - Try to Cancel Stop
2018-02-27 09:41:05,433 - DEBUG - Stop API ID 0
2018-02-27 09:41:05,433 - DEBUG - Profit API ID 235
2018-02-27 09:41:05,434 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:41:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:41:05,434 - DEBUG - Pos is 0
2018-02-27 09:41:05,434 - DEBUG - CurCount is 0
2018-02-27 09:41:05,435 - DEBUG - In Pos 0
2018-02-27 09:41:05,435 - DEBUG - Stop ID is 0
2018-02-27 09:41:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:41:05,436 - DEBUG - EntryPend is 1
2018-02-27 09:41:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:41:05,437 - DEBUG - Entry Date is 10
2018-02-27 09:41:05,437 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:41:05,437 - DEBUG - Order Profit ID is 235
2018-02-27 09:41:05,438 - DEBUG - Order Entry ID is 235
2018-02-27 09:41:05,438 - DEBUG - API ID is  0
2018-02-27 09:41:05,438 - DEBUG - Current Position is 0
2018-02-27 09:41:05,438 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:41:05,439 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:41:05,439 - DEBUG - Time is 9
2018-02-27 09:41:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 09:41:05,439 - DEBUG - Time is 41
2018-02-27 09:41:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 09:41:05,440 - DEBUG - Disconnected from IBController
2018-02-27 09:41:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:46:01,356 - DEBUG - ****************************************************
2018-02-27 09:46:01,357 - DEBUG - Current Time is 09:46AM
2018-02-27 09:46:01,357 - DEBUG - Starting Pos Mgmt H E
2018-02-27 09:46:01,358 - DEBUG - Connecting to database
2018-02-27 09:46:01,397 - DEBUG - Connected to database
2018-02-27 09:46:01,397 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:01,399 - DEBUG - Order Profit is 235
2018-02-27 09:46:01,399 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:01,401 - DEBUG - Stop ID is 0
2018-02-27 09:46:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:01,403 - DEBUG - Entry ID is 235
2018-02-27 09:46:01,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:46:01,404 - DEBUG - OCA ID is 1
2018-02-27 09:46:01,405 - DEBUG - Connecting to IBController
2018-02-27 09:46:02,414 - DEBUG - Connected to IBController
2018-02-27 09:46:02,414 - DEBUG - Position requested
2018-02-27 09:46:02,416 - DEBUG - Pos Mgmt -12987
2018-02-27 09:46:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DAC8>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:46:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:46:02,417 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:46:02,417 - DEBUG - Position is -12987
2018-02-27 09:46:03,415 - DEBUG - Open Orders requested
2018-02-27 09:46:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C11D0>>
2018-02-27 09:46:03,418 - DEBUG - Order OrderID 225
2018-02-27 09:46:03,418 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:46:03,419 - DEBUG - Order status PreSubmitted
2018-02-27 09:46:03,419 - DEBUG - Order Identification 225
2018-02-27 09:46:03,419 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:46:03,420 - DEBUG - Profit ID from database is 235
2018-02-27 09:46:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:46:03,420 - DEBUG - Stop ID database is 0
2018-02-27 09:46:03,420 - DEBUG - Entry ID database is 235
2018-02-27 09:46:03,421 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1208>>
2018-02-27 09:46:03,422 - DEBUG - Order OrderID 234
2018-02-27 09:46:03,422 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:46:03,423 - DEBUG - Order status PreSubmitted
2018-02-27 09:46:03,423 - DEBUG - Order Identification 234
2018-02-27 09:46:03,423 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:46:03,423 - DEBUG - Profit ID from database is 235
2018-02-27 09:46:03,423 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:46:03,424 - DEBUG - Stop ID database is 0
2018-02-27 09:46:03,424 - DEBUG - Entry ID database is 235
2018-02-27 09:46:03,425 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C13C8>>
2018-02-27 09:46:03,425 - DEBUG - Order OrderID 235
2018-02-27 09:46:03,426 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:46:03,426 - DEBUG - Order status PreSubmitted
2018-02-27 09:46:03,426 - DEBUG - Order Identification 235
2018-02-27 09:46:03,427 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:46:03,427 - DEBUG - Profit ID from database is 235
2018-02-27 09:46:03,427 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:46:03,427 - DEBUG - Stop ID database is 0
2018-02-27 09:46:03,427 - DEBUG - Entry ID database is 235
2018-02-27 09:46:03,428 - DEBUG - Profit API ID is 235
2018-02-27 09:46:03,428 - DEBUG - Entry API ID is 235
2018-02-27 09:46:03,429 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000202DE10>, order=<ib.ext.Order.Order object at 0x000000000202DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C1358>>
2018-02-27 09:46:03,429 - DEBUG - Order OrderID 232
2018-02-27 09:46:03,430 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:46:03,430 - DEBUG - Order status PreSubmitted
2018-02-27 09:46:03,430 - DEBUG - Order Identification 232
2018-02-27 09:46:03,431 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:46:03,431 - DEBUG - Profit ID from database is 235
2018-02-27 09:46:03,431 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:46:03,431 - DEBUG - Stop ID database is 0
2018-02-27 09:46:03,432 - DEBUG - Entry ID database is 235
2018-02-27 09:46:05,416 - DEBUG - Connecting to database
2018-02-27 09:46:05,423 - DEBUG - Connected to database
2018-02-27 09:46:05,425 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,425 - DEBUG - Stop loss value is 72.17
2018-02-27 09:46:05,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,427 - DEBUG - Stop loss value is 58.925
2018-02-27 09:46:05,429 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,429 - DEBUG - EntryPrice value is 69.625
2018-02-27 09:46:05,430 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,431 - DEBUG - Stop quantity 1
2018-02-27 09:46:05,432 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,433 - DEBUG - Direction is Short
2018-02-27 09:46:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,434 - DEBUG - Count is 0
2018-02-27 09:46:05,436 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 09:46:05,436 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:46:05,437 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:46:05,438 - DEBUG - Max ID Order is (235,)
2018-02-27 09:46:05,438 - DEBUG - Today is 2018-02-27
2018-02-27 09:46:05,439 - DEBUG - Day of the week 1
2018-02-27 09:46:05,439 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:46:05,439 - DEBUG - In Position is  0
2018-02-27 09:46:05,439 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:46:05,440 - DEBUG - curStopLossFlag is  0
2018-02-27 09:46:05,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:46:05,440 - DEBUG - Checking if Entry has been filled
2018-02-27 09:46:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:46:05,442 - DEBUG - EntryPend is 1
2018-02-27 09:46:05,442 - DEBUG - Try to Cancel Stop
2018-02-27 09:46:05,442 - DEBUG - Stop API ID 0
2018-02-27 09:46:05,442 - DEBUG - Profit API ID 235
2018-02-27 09:46:05,443 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:46:05,443 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:46:05,443 - DEBUG - Pos is 0
2018-02-27 09:46:05,443 - DEBUG - CurCount is 0
2018-02-27 09:46:05,443 - DEBUG - In Pos 0
2018-02-27 09:46:05,444 - DEBUG - Stop ID is 0
2018-02-27 09:46:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:46:05,446 - DEBUG - EntryPend is 1
2018-02-27 09:46:05,446 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:46:05,446 - DEBUG - Entry Date is 10
2018-02-27 09:46:05,446 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:46:05,447 - DEBUG - Order Profit ID is 235
2018-02-27 09:46:05,447 - DEBUG - Order Entry ID is 235
2018-02-27 09:46:05,447 - DEBUG - API ID is  0
2018-02-27 09:46:05,447 - DEBUG - Current Position is 0
2018-02-27 09:46:05,448 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:46:05,448 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:46:05,448 - DEBUG - Time is 9
2018-02-27 09:46:05,448 - DEBUG - Time is <class 'int'>
2018-02-27 09:46:05,449 - DEBUG - Time is 46
2018-02-27 09:46:05,449 - DEBUG - Time is <class 'int'>
2018-02-27 09:46:05,449 - DEBUG - Disconnected from IBController
2018-02-27 09:46:05,449 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:51:01,361 - DEBUG - ****************************************************
2018-02-27 09:51:01,362 - DEBUG - Current Time is 09:51AM
2018-02-27 09:51:01,362 - DEBUG - Starting Pos Mgmt H E
2018-02-27 09:51:01,362 - DEBUG - Connecting to database
2018-02-27 09:51:01,401 - DEBUG - Connected to database
2018-02-27 09:51:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:01,403 - DEBUG - Order Profit is 235
2018-02-27 09:51:01,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:01,405 - DEBUG - Stop ID is 0
2018-02-27 09:51:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:01,408 - DEBUG - Entry ID is 235
2018-02-27 09:51:01,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:51:01,409 - DEBUG - OCA ID is 1
2018-02-27 09:51:01,410 - DEBUG - Connecting to IBController
2018-02-27 09:51:02,418 - DEBUG - Connected to IBController
2018-02-27 09:51:02,418 - DEBUG - Position requested
2018-02-27 09:51:02,425 - DEBUG - Pos Mgmt -12987
2018-02-27 09:51:02,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000200DF28>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:51:02,426 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:51:02,427 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:51:02,427 - DEBUG - Position is -12987
2018-02-27 09:51:03,426 - DEBUG - Open Orders requested
2018-02-27 09:51:03,428 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000200DCC0>, order=<ib.ext.Order.Order object at 0x000000000200DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A0240>>
2018-02-27 09:51:03,429 - DEBUG - Order OrderID 225
2018-02-27 09:51:03,429 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:51:03,430 - DEBUG - Order status PreSubmitted
2018-02-27 09:51:03,430 - DEBUG - Order Identification 225
2018-02-27 09:51:03,430 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:51:03,431 - DEBUG - Profit ID from database is 235
2018-02-27 09:51:03,431 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:51:03,431 - DEBUG - Stop ID database is 0
2018-02-27 09:51:03,431 - DEBUG - Entry ID database is 235
2018-02-27 09:51:03,432 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000200DCC0>, order=<ib.ext.Order.Order object at 0x000000000200DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A00B8>>
2018-02-27 09:51:03,433 - DEBUG - Order OrderID 234
2018-02-27 09:51:03,433 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:51:03,433 - DEBUG - Order status PreSubmitted
2018-02-27 09:51:03,434 - DEBUG - Order Identification 234
2018-02-27 09:51:03,434 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:51:03,434 - DEBUG - Profit ID from database is 235
2018-02-27 09:51:03,434 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:51:03,434 - DEBUG - Stop ID database is 0
2018-02-27 09:51:03,435 - DEBUG - Entry ID database is 235
2018-02-27 09:51:03,436 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000200DCC0>, order=<ib.ext.Order.Order object at 0x000000000200DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A02B0>>
2018-02-27 09:51:03,436 - DEBUG - Order OrderID 235
2018-02-27 09:51:03,436 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:51:03,437 - DEBUG - Order status PreSubmitted
2018-02-27 09:51:03,437 - DEBUG - Order Identification 235
2018-02-27 09:51:03,437 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:51:03,437 - DEBUG - Profit ID from database is 235
2018-02-27 09:51:03,438 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:51:03,438 - DEBUG - Stop ID database is 0
2018-02-27 09:51:03,438 - DEBUG - Entry ID database is 235
2018-02-27 09:51:03,438 - DEBUG - Profit API ID is 235
2018-02-27 09:51:03,439 - DEBUG - Entry API ID is 235
2018-02-27 09:51:03,440 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000200DCC0>, order=<ib.ext.Order.Order object at 0x000000000200DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020A0390>>
2018-02-27 09:51:03,440 - DEBUG - Order OrderID 232
2018-02-27 09:51:03,440 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:51:03,441 - DEBUG - Order status PreSubmitted
2018-02-27 09:51:03,441 - DEBUG - Order Identification 232
2018-02-27 09:51:03,441 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:51:03,442 - DEBUG - Profit ID from database is 235
2018-02-27 09:51:03,442 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:51:03,442 - DEBUG - Stop ID database is 0
2018-02-27 09:51:03,442 - DEBUG - Entry ID database is 235
2018-02-27 09:51:05,429 - DEBUG - Connecting to database
2018-02-27 09:51:05,437 - DEBUG - Connected to database
2018-02-27 09:51:05,439 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,439 - DEBUG - Stop loss value is 72.17
2018-02-27 09:51:05,441 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,441 - DEBUG - Stop loss value is 58.925
2018-02-27 09:51:05,442 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,443 - DEBUG - EntryPrice value is 69.625
2018-02-27 09:51:05,445 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,445 - DEBUG - Stop quantity 1
2018-02-27 09:51:05,446 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,447 - DEBUG - Direction is Short
2018-02-27 09:51:05,448 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,448 - DEBUG - Count is 0
2018-02-27 09:51:05,450 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 09:51:05,450 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:51:05,451 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:51:05,452 - DEBUG - Max ID Order is (235,)
2018-02-27 09:51:05,452 - DEBUG - Today is 2018-02-27
2018-02-27 09:51:05,453 - DEBUG - Day of the week 1
2018-02-27 09:51:05,453 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:51:05,453 - DEBUG - In Position is  0
2018-02-27 09:51:05,453 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:51:05,453 - DEBUG - curStopLossFlag is  0
2018-02-27 09:51:05,454 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:51:05,454 - DEBUG - Checking if Entry has been filled
2018-02-27 09:51:05,454 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:51:05,456 - DEBUG - EntryPend is 1
2018-02-27 09:51:05,456 - DEBUG - Try to Cancel Stop
2018-02-27 09:51:05,456 - DEBUG - Stop API ID 0
2018-02-27 09:51:05,456 - DEBUG - Profit API ID 235
2018-02-27 09:51:05,457 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:51:05,457 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:51:05,457 - DEBUG - Pos is 0
2018-02-27 09:51:05,457 - DEBUG - CurCount is 0
2018-02-27 09:51:05,457 - DEBUG - In Pos 0
2018-02-27 09:51:05,458 - DEBUG - Stop ID is 0
2018-02-27 09:51:05,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:51:05,461 - DEBUG - EntryPend is 1
2018-02-27 09:51:05,461 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:51:05,461 - DEBUG - Entry Date is 10
2018-02-27 09:51:05,462 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:51:05,462 - DEBUG - Order Profit ID is 235
2018-02-27 09:51:05,462 - DEBUG - Order Entry ID is 235
2018-02-27 09:51:05,462 - DEBUG - API ID is  0
2018-02-27 09:51:05,463 - DEBUG - Current Position is 0
2018-02-27 09:51:05,463 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:51:05,463 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:51:05,463 - DEBUG - Time is 9
2018-02-27 09:51:05,464 - DEBUG - Time is <class 'int'>
2018-02-27 09:51:05,464 - DEBUG - Time is 51
2018-02-27 09:51:05,464 - DEBUG - Time is <class 'int'>
2018-02-27 09:51:05,464 - DEBUG - Disconnected from IBController
2018-02-27 09:51:05,465 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 09:56:01,356 - DEBUG - ****************************************************
2018-02-27 09:56:01,356 - DEBUG - Current Time is 09:56AM
2018-02-27 09:56:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-27 09:56:01,357 - DEBUG - Connecting to database
2018-02-27 09:56:01,378 - DEBUG - Connected to database
2018-02-27 09:56:01,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:01,380 - DEBUG - Order Profit is 235
2018-02-27 09:56:01,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:01,381 - DEBUG - Stop ID is 0
2018-02-27 09:56:01,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:01,383 - DEBUG - Entry ID is 235
2018-02-27 09:56:01,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 09:56:01,385 - DEBUG - OCA ID is 1
2018-02-27 09:56:01,385 - DEBUG - Connecting to IBController
2018-02-27 09:56:02,393 - DEBUG - Connected to IBController
2018-02-27 09:56:02,393 - DEBUG - Position requested
2018-02-27 09:56:02,395 - DEBUG - Pos Mgmt -12987
2018-02-27 09:56:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 09:56:02,396 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 09:56:02,396 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 09:56:02,396 - DEBUG - Position is -12987
2018-02-27 09:56:03,395 - DEBUG - Open Orders requested
2018-02-27 09:56:03,397 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021001D0>>
2018-02-27 09:56:03,398 - DEBUG - Order OrderID 225
2018-02-27 09:56:03,398 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:56:03,399 - DEBUG - Order status PreSubmitted
2018-02-27 09:56:03,399 - DEBUG - Order Identification 225
2018-02-27 09:56:03,399 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:56:03,399 - DEBUG - Profit ID from database is 235
2018-02-27 09:56:03,400 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:56:03,400 - DEBUG - Stop ID database is 0
2018-02-27 09:56:03,400 - DEBUG - Entry ID database is 235
2018-02-27 09:56:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100240>>
2018-02-27 09:56:03,402 - DEBUG - Order OrderID 234
2018-02-27 09:56:03,402 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:56:03,402 - DEBUG - Order status PreSubmitted
2018-02-27 09:56:03,403 - DEBUG - Order Identification 234
2018-02-27 09:56:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:56:03,403 - DEBUG - Profit ID from database is 235
2018-02-27 09:56:03,403 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:56:03,403 - DEBUG - Stop ID database is 0
2018-02-27 09:56:03,404 - DEBUG - Entry ID database is 235
2018-02-27 09:56:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100320>>
2018-02-27 09:56:03,405 - DEBUG - Order OrderID 235
2018-02-27 09:56:03,405 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:56:03,406 - DEBUG - Order status PreSubmitted
2018-02-27 09:56:03,406 - DEBUG - Order Identification 235
2018-02-27 09:56:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:56:03,406 - DEBUG - Profit ID from database is 235
2018-02-27 09:56:03,407 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:56:03,407 - DEBUG - Stop ID database is 0
2018-02-27 09:56:03,407 - DEBUG - Entry ID database is 235
2018-02-27 09:56:03,407 - DEBUG - Profit API ID is 235
2018-02-27 09:56:03,408 - DEBUG - Entry API ID is 235
2018-02-27 09:56:03,409 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x000000000206DC18>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100390>>
2018-02-27 09:56:03,409 - DEBUG - Order OrderID 232
2018-02-27 09:56:03,409 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 09:56:03,410 - DEBUG - Order status PreSubmitted
2018-02-27 09:56:03,410 - DEBUG - Order Identification 232
2018-02-27 09:56:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-27 09:56:03,411 - DEBUG - Profit ID from database is 235
2018-02-27 09:56:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 09:56:03,411 - DEBUG - Stop ID database is 0
2018-02-27 09:56:03,411 - DEBUG - Entry ID database is 235
2018-02-27 09:56:05,396 - DEBUG - Connecting to database
2018-02-27 09:56:05,403 - DEBUG - Connected to database
2018-02-27 09:56:05,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,405 - DEBUG - Stop loss value is 72.17
2018-02-27 09:56:05,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,407 - DEBUG - Stop loss value is 58.925
2018-02-27 09:56:05,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,409 - DEBUG - EntryPrice value is 69.625
2018-02-27 09:56:05,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,410 - DEBUG - Stop quantity 1
2018-02-27 09:56:05,412 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,412 - DEBUG - Direction is Short
2018-02-27 09:56:05,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,414 - DEBUG - Count is 0
2018-02-27 09:56:05,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 09:56:05,415 - DEBUG - Stop Loss Flag is 0
2018-02-27 09:56:05,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 09:56:05,417 - DEBUG - Max ID Order is (235,)
2018-02-27 09:56:05,418 - DEBUG - Today is 2018-02-27
2018-02-27 09:56:05,418 - DEBUG - Day of the week 1
2018-02-27 09:56:05,418 - DEBUG - Yesterday is 02/26/2018
2018-02-27 09:56:05,418 - DEBUG - In Position is  0
2018-02-27 09:56:05,419 - DEBUG - In Position is  <class 'int'>
2018-02-27 09:56:05,419 - DEBUG - curStopLossFlag is  0
2018-02-27 09:56:05,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 09:56:05,419 - DEBUG - Checking if Entry has been filled
2018-02-27 09:56:05,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:56:05,421 - DEBUG - EntryPend is 1
2018-02-27 09:56:05,421 - DEBUG - Try to Cancel Stop
2018-02-27 09:56:05,421 - DEBUG - Stop API ID 0
2018-02-27 09:56:05,422 - DEBUG - Profit API ID 235
2018-02-27 09:56:05,422 - DEBUG - Stop API ID <class 'int'>
2018-02-27 09:56:05,422 - DEBUG - Profit API ID <class 'int'>
2018-02-27 09:56:05,422 - DEBUG - Pos is 0
2018-02-27 09:56:05,423 - DEBUG - CurCount is 0
2018-02-27 09:56:05,423 - DEBUG - In Pos 0
2018-02-27 09:56:05,423 - DEBUG - Stop ID is 0
2018-02-27 09:56:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 09:56:05,425 - DEBUG - EntryPend is 1
2018-02-27 09:56:05,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 09:56:05,425 - DEBUG - Entry Date is 10
2018-02-27 09:56:05,425 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 09:56:05,425 - DEBUG - Order Profit ID is 235
2018-02-27 09:56:05,426 - DEBUG - Order Entry ID is 235
2018-02-27 09:56:05,426 - DEBUG - API ID is  0
2018-02-27 09:56:05,426 - DEBUG - Current Position is 0
2018-02-27 09:56:05,426 - DEBUG - Current Position is <class 'str'>
2018-02-27 09:56:05,427 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 09:56:05,427 - DEBUG - Time is 9
2018-02-27 09:56:05,427 - DEBUG - Time is <class 'int'>
2018-02-27 09:56:05,427 - DEBUG - Time is 56
2018-02-27 09:56:05,427 - DEBUG - Time is <class 'int'>
2018-02-27 09:56:05,428 - DEBUG - Disconnected from IBController
2018-02-27 09:56:05,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:01:01,357 - DEBUG - ****************************************************
2018-02-27 10:01:01,358 - DEBUG - Current Time is 10:01AM
2018-02-27 10:01:01,358 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:01:01,358 - DEBUG - Connecting to database
2018-02-27 10:01:01,382 - DEBUG - Connected to database
2018-02-27 10:01:01,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:01,384 - DEBUG - Order Profit is 235
2018-02-27 10:01:01,384 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:01,385 - DEBUG - Stop ID is 0
2018-02-27 10:01:01,386 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:01,387 - DEBUG - Entry ID is 235
2018-02-27 10:01:01,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:01:01,389 - DEBUG - OCA ID is 1
2018-02-27 10:01:01,389 - DEBUG - Connecting to IBController
2018-02-27 10:01:02,397 - DEBUG - Connected to IBController
2018-02-27 10:01:02,397 - DEBUG - Position requested
2018-02-27 10:01:02,399 - DEBUG - Pos Mgmt -12987
2018-02-27 10:01:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CCB00>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:01:02,400 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:01:02,401 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:01:02,401 - DEBUG - Position is -12987
2018-02-27 10:01:03,402 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020CCC50>, order=<ib.ext.Order.Order object at 0x00000000020CCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162208>>
2018-02-27 10:01:03,403 - DEBUG - Open Orders requested
2018-02-27 10:01:03,403 - DEBUG - Order OrderID 225
2018-02-27 10:01:03,404 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:01:03,404 - DEBUG - Order status PreSubmitted
2018-02-27 10:01:03,404 - DEBUG - Order Identification 225
2018-02-27 10:01:03,405 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:01:03,405 - DEBUG - Profit ID from database is 235
2018-02-27 10:01:03,405 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:01:03,405 - DEBUG - Stop ID database is 0
2018-02-27 10:01:03,406 - DEBUG - Entry ID database is 235
2018-02-27 10:01:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=234, contract=<ib.ext.Contract.Contract object at 0x00000000020CCC50>, order=<ib.ext.Order.Order object at 0x00000000020CCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162048>>
2018-02-27 10:01:03,407 - DEBUG - Order OrderID 234
2018-02-27 10:01:03,407 - DEBUG - reply handler status <orderStatus orderId=234, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203088, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:01:03,408 - DEBUG - Order status PreSubmitted
2018-02-27 10:01:03,408 - DEBUG - Order Identification 234
2018-02-27 10:01:03,408 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:01:03,408 - DEBUG - Profit ID from database is 235
2018-02-27 10:01:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:01:03,409 - DEBUG - Stop ID database is 0
2018-02-27 10:01:03,409 - DEBUG - Entry ID database is 235
2018-02-27 10:01:03,410 - DEBUG - Reply Handler Orders is <openOrder orderId=235, contract=<ib.ext.Contract.Contract object at 0x00000000020CCC50>, order=<ib.ext.Order.Order object at 0x00000000020CCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162240>>
2018-02-27 10:01:03,410 - DEBUG - Order OrderID 235
2018-02-27 10:01:03,411 - DEBUG - reply handler status <orderStatus orderId=235, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=861203089, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:01:03,411 - DEBUG - Order status PreSubmitted
2018-02-27 10:01:03,411 - DEBUG - Order Identification 235
2018-02-27 10:01:03,412 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:01:03,412 - DEBUG - Profit ID from database is 235
2018-02-27 10:01:03,412 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:01:03,412 - DEBUG - Stop ID database is 0
2018-02-27 10:01:03,412 - DEBUG - Entry ID database is 235
2018-02-27 10:01:03,413 - DEBUG - Profit API ID is 235
2018-02-27 10:01:03,413 - DEBUG - Entry API ID is 235
2018-02-27 10:01:03,414 - DEBUG - Reply Handler Orders is <openOrder orderId=232, contract=<ib.ext.Contract.Contract object at 0x00000000020CCC50>, order=<ib.ext.Order.Order object at 0x00000000020CCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162358>>
2018-02-27 10:01:03,414 - DEBUG - Order OrderID 232
2018-02-27 10:01:03,415 - DEBUG - reply handler status <orderStatus orderId=232, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203086, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:01:03,415 - DEBUG - Order status PreSubmitted
2018-02-27 10:01:03,415 - DEBUG - Order Identification 232
2018-02-27 10:01:03,416 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:01:03,416 - DEBUG - Profit ID from database is 235
2018-02-27 10:01:03,416 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:01:03,416 - DEBUG - Stop ID database is 0
2018-02-27 10:01:03,416 - DEBUG - Entry ID database is 235
2018-02-27 10:01:05,403 - DEBUG - Connecting to database
2018-02-27 10:01:05,412 - DEBUG - Connected to database
2018-02-27 10:01:05,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,414 - DEBUG - Stop loss value is 72.17
2018-02-27 10:01:05,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,416 - DEBUG - Stop loss value is 58.925
2018-02-27 10:01:05,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,418 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:01:05,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,421 - DEBUG - Stop quantity 1
2018-02-27 10:01:05,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,422 - DEBUG - Direction is Short
2018-02-27 10:01:05,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,424 - DEBUG - Count is 0
2018-02-27 10:01:05,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:01:05,426 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:01:05,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:01:05,427 - DEBUG - Max ID Order is (235,)
2018-02-27 10:01:05,428 - DEBUG - Today is 2018-02-27
2018-02-27 10:01:05,428 - DEBUG - Day of the week 1
2018-02-27 10:01:05,429 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:01:05,429 - DEBUG - In Position is  0
2018-02-27 10:01:05,429 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:01:05,429 - DEBUG - curStopLossFlag is  0
2018-02-27 10:01:05,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:01:05,430 - DEBUG - Checking if Entry has been filled
2018-02-27 10:01:05,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:01:05,431 - DEBUG - EntryPend is 1
2018-02-27 10:01:05,432 - DEBUG - Try to Cancel Stop
2018-02-27 10:01:05,432 - DEBUG - Stop API ID 0
2018-02-27 10:01:05,432 - DEBUG - Profit API ID 235
2018-02-27 10:01:05,432 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:01:05,433 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:01:05,433 - DEBUG - Pos is 0
2018-02-27 10:01:05,433 - DEBUG - CurCount is 0
2018-02-27 10:01:05,433 - DEBUG - In Pos 0
2018-02-27 10:01:05,434 - DEBUG - Stop ID is 0
2018-02-27 10:01:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:01:05,436 - DEBUG - EntryPend is 1
2018-02-27 10:01:05,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:01:05,437 - DEBUG - Entry Date is 10
2018-02-27 10:01:05,437 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:01:05,437 - DEBUG - Order Profit ID is 235
2018-02-27 10:01:05,437 - DEBUG - Order Entry ID is 235
2018-02-27 10:01:05,438 - DEBUG - API ID is  0
2018-02-27 10:01:05,438 - DEBUG - Current Position is 0
2018-02-27 10:01:05,438 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:01:05,438 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:01:05,438 - DEBUG - Time is 10
2018-02-27 10:01:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 10:01:05,439 - DEBUG - Time is 1
2018-02-27 10:01:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 10:01:05,439 - DEBUG - Disconnected from IBController
2018-02-27 10:01:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:06:01,382 - DEBUG - ****************************************************
2018-02-27 10:06:01,382 - DEBUG - Current Time is 10:06AM
2018-02-27 10:06:01,383 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:06:01,383 - DEBUG - Connecting to database
2018-02-27 10:06:01,411 - DEBUG - Connected to database
2018-02-27 10:06:01,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:01,413 - DEBUG - Order Profit is 235
2018-02-27 10:06:01,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:01,415 - DEBUG - Stop ID is 0
2018-02-27 10:06:01,415 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:01,416 - DEBUG - Entry ID is 235
2018-02-27 10:06:01,417 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:06:01,418 - DEBUG - OCA ID is 1
2018-02-27 10:06:01,418 - DEBUG - Connecting to IBController
2018-02-27 10:06:02,428 - DEBUG - Connected to IBController
2018-02-27 10:06:02,428 - DEBUG - Position requested
2018-02-27 10:06:02,430 - DEBUG - Pos Mgmt -10
2018-02-27 10:06:02,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:06:02,430 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:06:02,431 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:06:02,431 - DEBUG - Position is -10
2018-02-27 10:06:02,431 - DEBUG - Pos Mgmt -12987
2018-02-27 10:06:02,432 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:06:02,432 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:06:02,432 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:06:02,432 - DEBUG - Position is -12987
2018-02-27 10:06:03,430 - DEBUG - Open Orders requested
2018-02-27 10:06:03,432 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206BE48>, order=<ib.ext.Order.Order object at 0x000000000206BCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021000B8>>
2018-02-27 10:06:03,432 - DEBUG - Order OrderID 236
2018-02-27 10:06:03,433 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:06:03,433 - DEBUG - Order status PreSubmitted
2018-02-27 10:06:03,433 - DEBUG - Order Identification 236
2018-02-27 10:06:03,434 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:06:03,434 - DEBUG - Profit ID from database is 235
2018-02-27 10:06:03,434 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:06:03,435 - DEBUG - Stop ID database is 0
2018-02-27 10:06:03,435 - DEBUG - Entry ID database is 235
2018-02-27 10:06:05,432 - DEBUG - Connecting to database
2018-02-27 10:06:05,440 - DEBUG - Connected to database
2018-02-27 10:06:05,442 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,442 - DEBUG - Stop loss value is 72.17
2018-02-27 10:06:05,444 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,444 - DEBUG - Stop loss value is 58.925
2018-02-27 10:06:05,445 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,446 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:06:05,447 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,448 - DEBUG - Stop quantity 1
2018-02-27 10:06:05,449 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,449 - DEBUG - Direction is Short
2018-02-27 10:06:05,451 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,451 - DEBUG - Count is 0
2018-02-27 10:06:05,452 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:06:05,453 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:06:05,454 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:06:05,454 - DEBUG - Max ID Order is (236,)
2018-02-27 10:06:05,455 - DEBUG - Today is 2018-02-27
2018-02-27 10:06:05,455 - DEBUG - Day of the week 1
2018-02-27 10:06:05,455 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:06:05,456 - DEBUG - In Position is  0
2018-02-27 10:06:05,456 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:06:05,456 - DEBUG - curStopLossFlag is  0
2018-02-27 10:06:05,456 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:06:05,456 - DEBUG - Checking if Entry has been filled
2018-02-27 10:06:05,457 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:06:05,458 - DEBUG - EntryPend is 1
2018-02-27 10:06:05,458 - DEBUG - Try to Cancel Stop
2018-02-27 10:06:05,459 - DEBUG - Stop API ID 0
2018-02-27 10:06:05,459 - DEBUG - Profit API ID 0
2018-02-27 10:06:05,459 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:06:05,459 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:06:05,460 - DEBUG - Pos is 0
2018-02-27 10:06:05,460 - DEBUG - CurCount is 0
2018-02-27 10:06:05,460 - DEBUG - In Pos 0
2018-02-27 10:06:05,460 - DEBUG - Stop ID is 0
2018-02-27 10:06:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:06:05,462 - DEBUG - EntryPend is 1
2018-02-27 10:06:05,462 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:06:05,462 - DEBUG - Entry Date is 10
2018-02-27 10:06:05,462 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:06:05,463 - DEBUG - Order Profit ID is 235
2018-02-27 10:06:05,463 - DEBUG - Order Entry ID is 235
2018-02-27 10:06:05,463 - DEBUG - API ID is  0
2018-02-27 10:06:05,463 - DEBUG - Current Position is 0
2018-02-27 10:06:05,464 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:06:05,464 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:06:05,464 - DEBUG - Time is 10
2018-02-27 10:06:05,464 - DEBUG - Time is <class 'int'>
2018-02-27 10:06:05,465 - DEBUG - Time is 6
2018-02-27 10:06:05,465 - DEBUG - Time is <class 'int'>
2018-02-27 10:06:05,465 - DEBUG - Disconnected from IBController
2018-02-27 10:06:05,465 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:11:01,355 - DEBUG - ****************************************************
2018-02-27 10:11:01,356 - DEBUG - Current Time is 10:11AM
2018-02-27 10:11:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:11:01,356 - DEBUG - Connecting to database
2018-02-27 10:11:01,388 - DEBUG - Connected to database
2018-02-27 10:11:01,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:01,390 - DEBUG - Order Profit is 235
2018-02-27 10:11:01,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:01,392 - DEBUG - Stop ID is 0
2018-02-27 10:11:01,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:01,394 - DEBUG - Entry ID is 235
2018-02-27 10:11:01,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:11:01,396 - DEBUG - OCA ID is 1
2018-02-27 10:11:01,396 - DEBUG - Connecting to IBController
2018-02-27 10:11:02,404 - DEBUG - Connected to IBController
2018-02-27 10:11:02,404 - DEBUG - Position requested
2018-02-27 10:11:02,407 - DEBUG - Pos Mgmt -10
2018-02-27 10:11:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CD30>, pos=-10, avgCost=15344.045>
2018-02-27 10:11:02,408 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:11:02,408 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:11:02,408 - DEBUG - Position is -10
2018-02-27 10:11:02,409 - DEBUG - Pos Mgmt -12987
2018-02-27 10:11:02,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:11:02,409 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:11:02,410 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:11:02,410 - DEBUG - Position is -12987
2018-02-27 10:11:03,405 - DEBUG - Open Orders requested
2018-02-27 10:11:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208CE48>, order=<ib.ext.Order.Order object at 0x000000000208CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 10:11:03,407 - DEBUG - Order OrderID 236
2018-02-27 10:11:03,408 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:11:03,408 - DEBUG - Order status PreSubmitted
2018-02-27 10:11:03,408 - DEBUG - Order Identification 236
2018-02-27 10:11:03,409 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:11:03,409 - DEBUG - Profit ID from database is 235
2018-02-27 10:11:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:11:03,409 - DEBUG - Stop ID database is 0
2018-02-27 10:11:03,410 - DEBUG - Entry ID database is 235
2018-02-27 10:11:05,407 - DEBUG - Connecting to database
2018-02-27 10:11:05,414 - DEBUG - Connected to database
2018-02-27 10:11:05,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,416 - DEBUG - Stop loss value is 72.17
2018-02-27 10:11:05,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,418 - DEBUG - Stop loss value is 58.925
2018-02-27 10:11:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,420 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:11:05,422 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,423 - DEBUG - Stop quantity 1
2018-02-27 10:11:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,424 - DEBUG - Direction is Short
2018-02-27 10:11:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,426 - DEBUG - Count is 0
2018-02-27 10:11:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:11:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:11:05,429 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:11:05,430 - DEBUG - Max ID Order is (236,)
2018-02-27 10:11:05,430 - DEBUG - Today is 2018-02-27
2018-02-27 10:11:05,430 - DEBUG - Day of the week 1
2018-02-27 10:11:05,431 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:11:05,431 - DEBUG - In Position is  0
2018-02-27 10:11:05,431 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:11:05,431 - DEBUG - curStopLossFlag is  0
2018-02-27 10:11:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:11:05,432 - DEBUG - Checking if Entry has been filled
2018-02-27 10:11:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:11:05,434 - DEBUG - EntryPend is 1
2018-02-27 10:11:05,434 - DEBUG - Try to Cancel Stop
2018-02-27 10:11:05,434 - DEBUG - Stop API ID 0
2018-02-27 10:11:05,434 - DEBUG - Profit API ID 0
2018-02-27 10:11:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:11:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:11:05,435 - DEBUG - Pos is 0
2018-02-27 10:11:05,435 - DEBUG - CurCount is 0
2018-02-27 10:11:05,435 - DEBUG - In Pos 0
2018-02-27 10:11:05,436 - DEBUG - Stop ID is 0
2018-02-27 10:11:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:11:05,437 - DEBUG - EntryPend is 1
2018-02-27 10:11:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:11:05,438 - DEBUG - Entry Date is 10
2018-02-27 10:11:05,438 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:11:05,438 - DEBUG - Order Profit ID is 235
2018-02-27 10:11:05,439 - DEBUG - Order Entry ID is 235
2018-02-27 10:11:05,439 - DEBUG - API ID is  0
2018-02-27 10:11:05,439 - DEBUG - Current Position is 0
2018-02-27 10:11:05,439 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:11:05,439 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:11:05,440 - DEBUG - Time is 10
2018-02-27 10:11:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 10:11:05,440 - DEBUG - Time is 11
2018-02-27 10:11:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 10:11:05,441 - DEBUG - Disconnected from IBController
2018-02-27 10:11:05,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:16:01,358 - DEBUG - ****************************************************
2018-02-27 10:16:01,359 - DEBUG - Current Time is 10:16AM
2018-02-27 10:16:01,359 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:16:01,359 - DEBUG - Connecting to database
2018-02-27 10:16:01,386 - DEBUG - Connected to database
2018-02-27 10:16:01,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:01,388 - DEBUG - Order Profit is 235
2018-02-27 10:16:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:01,390 - DEBUG - Stop ID is 0
2018-02-27 10:16:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:01,391 - DEBUG - Entry ID is 235
2018-02-27 10:16:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:16:01,393 - DEBUG - OCA ID is 1
2018-02-27 10:16:01,393 - DEBUG - Connecting to IBController
2018-02-27 10:16:02,397 - DEBUG - Connected to IBController
2018-02-27 10:16:02,397 - DEBUG - Position requested
2018-02-27 10:16:02,398 - DEBUG - Pos Mgmt -10
2018-02-27 10:16:02,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:16:02,399 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:16:02,399 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:16:02,400 - DEBUG - Position is -10
2018-02-27 10:16:02,400 - DEBUG - Pos Mgmt -12987
2018-02-27 10:16:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:16:02,401 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:16:02,401 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:16:02,401 - DEBUG - Position is -12987
2018-02-27 10:16:03,399 - DEBUG - Open Orders requested
2018-02-27 10:16:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DB00>, order=<ib.ext.Order.Order object at 0x000000000202DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 10:16:03,406 - DEBUG - Order OrderID 236
2018-02-27 10:16:03,406 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:16:03,407 - DEBUG - Order status PreSubmitted
2018-02-27 10:16:03,407 - DEBUG - Order Identification 236
2018-02-27 10:16:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:16:03,407 - DEBUG - Profit ID from database is 235
2018-02-27 10:16:03,408 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:16:03,408 - DEBUG - Stop ID database is 0
2018-02-27 10:16:03,408 - DEBUG - Entry ID database is 235
2018-02-27 10:16:05,399 - DEBUG - Connecting to database
2018-02-27 10:16:05,406 - DEBUG - Connected to database
2018-02-27 10:16:05,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,408 - DEBUG - Stop loss value is 72.17
2018-02-27 10:16:05,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,410 - DEBUG - Stop loss value is 58.925
2018-02-27 10:16:05,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,412 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:16:05,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,413 - DEBUG - Stop quantity 1
2018-02-27 10:16:05,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,415 - DEBUG - Direction is Short
2018-02-27 10:16:05,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,417 - DEBUG - Count is 0
2018-02-27 10:16:05,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:16:05,419 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:16:05,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:16:05,421 - DEBUG - Max ID Order is (236,)
2018-02-27 10:16:05,421 - DEBUG - Today is 2018-02-27
2018-02-27 10:16:05,422 - DEBUG - Day of the week 1
2018-02-27 10:16:05,422 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:16:05,422 - DEBUG - In Position is  0
2018-02-27 10:16:05,422 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:16:05,423 - DEBUG - curStopLossFlag is  0
2018-02-27 10:16:05,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:16:05,423 - DEBUG - Checking if Entry has been filled
2018-02-27 10:16:05,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:16:05,425 - DEBUG - EntryPend is 1
2018-02-27 10:16:05,425 - DEBUG - Try to Cancel Stop
2018-02-27 10:16:05,425 - DEBUG - Stop API ID 0
2018-02-27 10:16:05,426 - DEBUG - Profit API ID 0
2018-02-27 10:16:05,426 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:16:05,426 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:16:05,426 - DEBUG - Pos is 0
2018-02-27 10:16:05,427 - DEBUG - CurCount is 0
2018-02-27 10:16:05,427 - DEBUG - In Pos 0
2018-02-27 10:16:05,427 - DEBUG - Stop ID is 0
2018-02-27 10:16:05,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:16:05,429 - DEBUG - EntryPend is 1
2018-02-27 10:16:05,429 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:16:05,429 - DEBUG - Entry Date is 10
2018-02-27 10:16:05,429 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:16:05,430 - DEBUG - Order Profit ID is 235
2018-02-27 10:16:05,430 - DEBUG - Order Entry ID is 235
2018-02-27 10:16:05,430 - DEBUG - API ID is  0
2018-02-27 10:16:05,430 - DEBUG - Current Position is 0
2018-02-27 10:16:05,431 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:16:05,431 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:16:05,431 - DEBUG - Time is 10
2018-02-27 10:16:05,432 - DEBUG - Time is <class 'int'>
2018-02-27 10:16:05,432 - DEBUG - Time is 16
2018-02-27 10:16:05,432 - DEBUG - Time is <class 'int'>
2018-02-27 10:16:05,432 - DEBUG - Disconnected from IBController
2018-02-27 10:16:05,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:21:01,394 - DEBUG - ****************************************************
2018-02-27 10:21:01,394 - DEBUG - Current Time is 10:21AM
2018-02-27 10:21:01,395 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:21:01,395 - DEBUG - Connecting to database
2018-02-27 10:21:01,414 - DEBUG - Connected to database
2018-02-27 10:21:01,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:01,416 - DEBUG - Order Profit is 235
2018-02-27 10:21:01,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:01,417 - DEBUG - Stop ID is 0
2018-02-27 10:21:01,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:01,419 - DEBUG - Entry ID is 235
2018-02-27 10:21:01,419 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:21:01,421 - DEBUG - OCA ID is 1
2018-02-27 10:21:01,421 - DEBUG - Connecting to IBController
2018-02-27 10:21:02,435 - DEBUG - Connected to IBController
2018-02-27 10:21:02,435 - DEBUG - Position requested
2018-02-27 10:21:02,437 - DEBUG - Pos Mgmt -10
2018-02-27 10:21:02,437 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:21:02,437 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:21:02,438 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:21:02,438 - DEBUG - Position is -10
2018-02-27 10:21:02,438 - DEBUG - Pos Mgmt -12987
2018-02-27 10:21:02,439 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:21:02,439 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:21:02,439 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:21:02,439 - DEBUG - Position is -12987
2018-02-27 10:21:03,437 - DEBUG - Open Orders requested
2018-02-27 10:21:03,439 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000201DE48>, order=<ib.ext.Order.Order object at 0x000000000201DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B2128>>
2018-02-27 10:21:03,440 - DEBUG - Order OrderID 236
2018-02-27 10:21:03,440 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:21:03,440 - DEBUG - Order status PreSubmitted
2018-02-27 10:21:03,441 - DEBUG - Order Identification 236
2018-02-27 10:21:03,441 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:21:03,441 - DEBUG - Profit ID from database is 235
2018-02-27 10:21:03,441 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:21:03,442 - DEBUG - Stop ID database is 0
2018-02-27 10:21:03,442 - DEBUG - Entry ID database is 235
2018-02-27 10:21:05,439 - DEBUG - Connecting to database
2018-02-27 10:21:05,446 - DEBUG - Connected to database
2018-02-27 10:21:05,448 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,448 - DEBUG - Stop loss value is 72.17
2018-02-27 10:21:05,450 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,450 - DEBUG - Stop loss value is 58.925
2018-02-27 10:21:05,451 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,452 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:21:05,453 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,454 - DEBUG - Stop quantity 1
2018-02-27 10:21:05,455 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,455 - DEBUG - Direction is Short
2018-02-27 10:21:05,457 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,457 - DEBUG - Count is 0
2018-02-27 10:21:05,458 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:21:05,459 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:21:05,460 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:21:05,460 - DEBUG - Max ID Order is (236,)
2018-02-27 10:21:05,461 - DEBUG - Today is 2018-02-27
2018-02-27 10:21:05,461 - DEBUG - Day of the week 1
2018-02-27 10:21:05,461 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:21:05,462 - DEBUG - In Position is  0
2018-02-27 10:21:05,462 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:21:05,462 - DEBUG - curStopLossFlag is  0
2018-02-27 10:21:05,462 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:21:05,463 - DEBUG - Checking if Entry has been filled
2018-02-27 10:21:05,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:21:05,464 - DEBUG - EntryPend is 1
2018-02-27 10:21:05,465 - DEBUG - Try to Cancel Stop
2018-02-27 10:21:05,465 - DEBUG - Stop API ID 0
2018-02-27 10:21:05,465 - DEBUG - Profit API ID 0
2018-02-27 10:21:05,465 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:21:05,466 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:21:05,466 - DEBUG - Pos is 0
2018-02-27 10:21:05,466 - DEBUG - CurCount is 0
2018-02-27 10:21:05,466 - DEBUG - In Pos 0
2018-02-27 10:21:05,467 - DEBUG - Stop ID is 0
2018-02-27 10:21:05,467 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:21:05,468 - DEBUG - EntryPend is 1
2018-02-27 10:21:05,468 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:21:05,469 - DEBUG - Entry Date is 10
2018-02-27 10:21:05,469 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:21:05,469 - DEBUG - Order Profit ID is 235
2018-02-27 10:21:05,469 - DEBUG - Order Entry ID is 235
2018-02-27 10:21:05,470 - DEBUG - API ID is  0
2018-02-27 10:21:05,470 - DEBUG - Current Position is 0
2018-02-27 10:21:05,470 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:21:05,470 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:21:05,471 - DEBUG - Time is 10
2018-02-27 10:21:05,471 - DEBUG - Time is <class 'int'>
2018-02-27 10:21:05,471 - DEBUG - Time is 21
2018-02-27 10:21:05,471 - DEBUG - Time is <class 'int'>
2018-02-27 10:21:05,472 - DEBUG - Disconnected from IBController
2018-02-27 10:21:05,472 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:26:01,361 - DEBUG - ****************************************************
2018-02-27 10:26:01,362 - DEBUG - Current Time is 10:26AM
2018-02-27 10:26:01,362 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:26:01,362 - DEBUG - Connecting to database
2018-02-27 10:26:01,385 - DEBUG - Connected to database
2018-02-27 10:26:01,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:01,387 - DEBUG - Order Profit is 235
2018-02-27 10:26:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:01,389 - DEBUG - Stop ID is 0
2018-02-27 10:26:01,389 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:01,391 - DEBUG - Entry ID is 235
2018-02-27 10:26:01,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:26:01,392 - DEBUG - OCA ID is 1
2018-02-27 10:26:01,393 - DEBUG - Connecting to IBController
2018-02-27 10:26:02,403 - DEBUG - Connected to IBController
2018-02-27 10:26:02,403 - DEBUG - Position requested
2018-02-27 10:26:02,404 - DEBUG - Pos Mgmt -10
2018-02-27 10:26:02,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, pos=-10, avgCost=15344.045>
2018-02-27 10:26:02,405 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:26:02,405 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:26:02,406 - DEBUG - Position is -10
2018-02-27 10:26:02,406 - DEBUG - Pos Mgmt -12987
2018-02-27 10:26:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:26:02,406 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:26:02,407 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:26:02,407 - DEBUG - Position is -12987
2018-02-27 10:26:03,404 - DEBUG - Open Orders requested
2018-02-27 10:26:03,410 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, order=<ib.ext.Order.Order object at 0x000000000202DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 10:26:03,410 - DEBUG - Order OrderID 236
2018-02-27 10:26:03,411 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:26:03,411 - DEBUG - Order status PreSubmitted
2018-02-27 10:26:03,411 - DEBUG - Order Identification 236
2018-02-27 10:26:03,411 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:26:03,412 - DEBUG - Profit ID from database is 235
2018-02-27 10:26:03,412 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:26:03,412 - DEBUG - Stop ID database is 0
2018-02-27 10:26:03,412 - DEBUG - Entry ID database is 235
2018-02-27 10:26:05,405 - DEBUG - Connecting to database
2018-02-27 10:26:05,413 - DEBUG - Connected to database
2018-02-27 10:26:05,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,415 - DEBUG - Stop loss value is 72.17
2018-02-27 10:26:05,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,416 - DEBUG - Stop loss value is 58.925
2018-02-27 10:26:05,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,418 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:26:05,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,420 - DEBUG - Stop quantity 1
2018-02-27 10:26:05,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,422 - DEBUG - Direction is Short
2018-02-27 10:26:05,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,423 - DEBUG - Count is 0
2018-02-27 10:26:05,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:26:05,425 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:26:05,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:26:05,427 - DEBUG - Max ID Order is (236,)
2018-02-27 10:26:05,427 - DEBUG - Today is 2018-02-27
2018-02-27 10:26:05,428 - DEBUG - Day of the week 1
2018-02-27 10:26:05,428 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:26:05,428 - DEBUG - In Position is  0
2018-02-27 10:26:05,428 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:26:05,429 - DEBUG - curStopLossFlag is  0
2018-02-27 10:26:05,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:26:05,429 - DEBUG - Checking if Entry has been filled
2018-02-27 10:26:05,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:26:05,431 - DEBUG - EntryPend is 1
2018-02-27 10:26:05,431 - DEBUG - Try to Cancel Stop
2018-02-27 10:26:05,432 - DEBUG - Stop API ID 0
2018-02-27 10:26:05,432 - DEBUG - Profit API ID 0
2018-02-27 10:26:05,432 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:26:05,432 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:26:05,433 - DEBUG - Pos is 0
2018-02-27 10:26:05,433 - DEBUG - CurCount is 0
2018-02-27 10:26:05,433 - DEBUG - In Pos 0
2018-02-27 10:26:05,433 - DEBUG - Stop ID is 0
2018-02-27 10:26:05,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:26:05,435 - DEBUG - EntryPend is 1
2018-02-27 10:26:05,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:26:05,436 - DEBUG - Entry Date is 10
2018-02-27 10:26:05,436 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:26:05,436 - DEBUG - Order Profit ID is 235
2018-02-27 10:26:05,436 - DEBUG - Order Entry ID is 235
2018-02-27 10:26:05,436 - DEBUG - API ID is  0
2018-02-27 10:26:05,437 - DEBUG - Current Position is 0
2018-02-27 10:26:05,437 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:26:05,437 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:26:05,437 - DEBUG - Time is 10
2018-02-27 10:26:05,438 - DEBUG - Time is <class 'int'>
2018-02-27 10:26:05,438 - DEBUG - Time is 26
2018-02-27 10:26:05,438 - DEBUG - Time is <class 'int'>
2018-02-27 10:26:05,438 - DEBUG - Disconnected from IBController
2018-02-27 10:26:05,439 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:31:01,355 - DEBUG - ****************************************************
2018-02-27 10:31:01,355 - DEBUG - Current Time is 10:31AM
2018-02-27 10:31:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:31:01,356 - DEBUG - Connecting to database
2018-02-27 10:31:01,396 - DEBUG - Connected to database
2018-02-27 10:31:01,396 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:01,398 - DEBUG - Order Profit is 235
2018-02-27 10:31:01,398 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:01,400 - DEBUG - Stop ID is 0
2018-02-27 10:31:01,400 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:01,401 - DEBUG - Entry ID is 235
2018-02-27 10:31:01,402 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:31:01,403 - DEBUG - OCA ID is 1
2018-02-27 10:31:01,404 - DEBUG - Connecting to IBController
2018-02-27 10:31:02,416 - DEBUG - Connected to IBController
2018-02-27 10:31:02,416 - DEBUG - Position requested
2018-02-27 10:31:02,420 - DEBUG - Pos Mgmt -10
2018-02-27 10:31:02,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DDA0>, pos=-10, avgCost=15344.045>
2018-02-27 10:31:02,421 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:31:02,421 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:31:02,421 - DEBUG - Position is -10
2018-02-27 10:31:02,422 - DEBUG - Pos Mgmt -12987
2018-02-27 10:31:02,422 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:31:02,422 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:31:02,422 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:31:02,423 - DEBUG - Position is -12987
2018-02-27 10:31:03,417 - DEBUG - Open Orders requested
2018-02-27 10:31:03,420 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000209DDA0>>
2018-02-27 10:31:03,421 - DEBUG - Order OrderID 236
2018-02-27 10:31:03,421 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:31:03,422 - DEBUG - Order status PreSubmitted
2018-02-27 10:31:03,422 - DEBUG - Order Identification 236
2018-02-27 10:31:03,422 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:31:03,423 - DEBUG - Profit ID from database is 235
2018-02-27 10:31:03,423 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:31:03,423 - DEBUG - Stop ID database is 0
2018-02-27 10:31:03,423 - DEBUG - Entry ID database is 235
2018-02-27 10:31:05,420 - DEBUG - Connecting to database
2018-02-27 10:31:05,427 - DEBUG - Connected to database
2018-02-27 10:31:05,429 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,429 - DEBUG - Stop loss value is 72.17
2018-02-27 10:31:05,431 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,431 - DEBUG - Stop loss value is 58.925
2018-02-27 10:31:05,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,433 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:31:05,435 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,435 - DEBUG - Stop quantity 1
2018-02-27 10:31:05,437 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,437 - DEBUG - Direction is Short
2018-02-27 10:31:05,438 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,439 - DEBUG - Count is 0
2018-02-27 10:31:05,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:31:05,440 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:31:05,442 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:31:05,442 - DEBUG - Max ID Order is (236,)
2018-02-27 10:31:05,442 - DEBUG - Today is 2018-02-27
2018-02-27 10:31:05,443 - DEBUG - Day of the week 1
2018-02-27 10:31:05,443 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:31:05,443 - DEBUG - In Position is  0
2018-02-27 10:31:05,444 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:31:05,444 - DEBUG - curStopLossFlag is  0
2018-02-27 10:31:05,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:31:05,444 - DEBUG - Checking if Entry has been filled
2018-02-27 10:31:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:31:05,446 - DEBUG - EntryPend is 1
2018-02-27 10:31:05,446 - DEBUG - Try to Cancel Stop
2018-02-27 10:31:05,446 - DEBUG - Stop API ID 0
2018-02-27 10:31:05,447 - DEBUG - Profit API ID 0
2018-02-27 10:31:05,447 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:31:05,447 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:31:05,447 - DEBUG - Pos is 0
2018-02-27 10:31:05,447 - DEBUG - CurCount is 0
2018-02-27 10:31:05,448 - DEBUG - In Pos 0
2018-02-27 10:31:05,448 - DEBUG - Stop ID is 0
2018-02-27 10:31:05,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:31:05,450 - DEBUG - EntryPend is 1
2018-02-27 10:31:05,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:31:05,450 - DEBUG - Entry Date is 10
2018-02-27 10:31:05,450 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:31:05,451 - DEBUG - Order Profit ID is 235
2018-02-27 10:31:05,451 - DEBUG - Order Entry ID is 235
2018-02-27 10:31:05,451 - DEBUG - API ID is  0
2018-02-27 10:31:05,451 - DEBUG - Current Position is 0
2018-02-27 10:31:05,451 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:31:05,452 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:31:05,452 - DEBUG - Time is 10
2018-02-27 10:31:05,452 - DEBUG - Time is <class 'int'>
2018-02-27 10:31:05,452 - DEBUG - Time is 31
2018-02-27 10:31:05,453 - DEBUG - Time is <class 'int'>
2018-02-27 10:31:05,453 - DEBUG - Disconnected from IBController
2018-02-27 10:31:05,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:36:01,359 - DEBUG - ****************************************************
2018-02-27 10:36:01,359 - DEBUG - Current Time is 10:36AM
2018-02-27 10:36:01,360 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:36:01,360 - DEBUG - Connecting to database
2018-02-27 10:36:01,388 - DEBUG - Connected to database
2018-02-27 10:36:01,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:01,390 - DEBUG - Order Profit is 235
2018-02-27 10:36:01,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:01,391 - DEBUG - Stop ID is 0
2018-02-27 10:36:01,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:01,393 - DEBUG - Entry ID is 235
2018-02-27 10:36:01,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:36:01,395 - DEBUG - OCA ID is 1
2018-02-27 10:36:01,395 - DEBUG - Connecting to IBController
2018-02-27 10:36:02,428 - DEBUG - Connected to IBController
2018-02-27 10:36:02,428 - DEBUG - Position requested
2018-02-27 10:36:02,430 - DEBUG - Pos Mgmt -10
2018-02-27 10:36:02,431 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:36:02,432 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:36:02,432 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:36:02,432 - DEBUG - Position is -10
2018-02-27 10:36:02,433 - DEBUG - Pos Mgmt -12987
2018-02-27 10:36:02,433 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:36:02,433 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:36:02,434 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:36:02,434 - DEBUG - Position is -12987
2018-02-27 10:36:03,431 - DEBUG - Open Orders requested
2018-02-27 10:36:03,433 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, order=<ib.ext.Order.Order object at 0x000000000209DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021320B8>>
2018-02-27 10:36:03,433 - DEBUG - Order OrderID 236
2018-02-27 10:36:03,434 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:36:03,434 - DEBUG - Order status PreSubmitted
2018-02-27 10:36:03,434 - DEBUG - Order Identification 236
2018-02-27 10:36:03,435 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:36:03,435 - DEBUG - Profit ID from database is 235
2018-02-27 10:36:03,435 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:36:03,435 - DEBUG - Stop ID database is 0
2018-02-27 10:36:03,436 - DEBUG - Entry ID database is 235
2018-02-27 10:36:05,433 - DEBUG - Connecting to database
2018-02-27 10:36:05,441 - DEBUG - Connected to database
2018-02-27 10:36:05,443 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,443 - DEBUG - Stop loss value is 72.17
2018-02-27 10:36:05,445 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,445 - DEBUG - Stop loss value is 58.925
2018-02-27 10:36:05,446 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,447 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:36:05,448 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,448 - DEBUG - Stop quantity 1
2018-02-27 10:36:05,450 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,450 - DEBUG - Direction is Short
2018-02-27 10:36:05,452 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,452 - DEBUG - Count is 0
2018-02-27 10:36:05,453 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:36:05,454 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:36:05,455 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:36:05,455 - DEBUG - Max ID Order is (236,)
2018-02-27 10:36:05,456 - DEBUG - Today is 2018-02-27
2018-02-27 10:36:05,456 - DEBUG - Day of the week 1
2018-02-27 10:36:05,456 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:36:05,457 - DEBUG - In Position is  0
2018-02-27 10:36:05,457 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:36:05,457 - DEBUG - curStopLossFlag is  0
2018-02-27 10:36:05,457 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:36:05,457 - DEBUG - Checking if Entry has been filled
2018-02-27 10:36:05,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:36:05,459 - DEBUG - EntryPend is 1
2018-02-27 10:36:05,459 - DEBUG - Try to Cancel Stop
2018-02-27 10:36:05,460 - DEBUG - Stop API ID 0
2018-02-27 10:36:05,460 - DEBUG - Profit API ID 0
2018-02-27 10:36:05,460 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:36:05,460 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:36:05,461 - DEBUG - Pos is 0
2018-02-27 10:36:05,461 - DEBUG - CurCount is 0
2018-02-27 10:36:05,461 - DEBUG - In Pos 0
2018-02-27 10:36:05,461 - DEBUG - Stop ID is 0
2018-02-27 10:36:05,461 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:36:05,463 - DEBUG - EntryPend is 1
2018-02-27 10:36:05,464 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:36:05,464 - DEBUG - Entry Date is 10
2018-02-27 10:36:05,464 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:36:05,464 - DEBUG - Order Profit ID is 235
2018-02-27 10:36:05,465 - DEBUG - Order Entry ID is 235
2018-02-27 10:36:05,465 - DEBUG - API ID is  0
2018-02-27 10:36:05,465 - DEBUG - Current Position is 0
2018-02-27 10:36:05,465 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:36:05,465 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:36:05,466 - DEBUG - Time is 10
2018-02-27 10:36:05,466 - DEBUG - Time is <class 'int'>
2018-02-27 10:36:05,466 - DEBUG - Time is 36
2018-02-27 10:36:05,466 - DEBUG - Time is <class 'int'>
2018-02-27 10:36:05,467 - DEBUG - Disconnected from IBController
2018-02-27 10:36:05,467 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:41:01,357 - DEBUG - ****************************************************
2018-02-27 10:41:01,358 - DEBUG - Current Time is 10:41AM
2018-02-27 10:41:01,358 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:41:01,359 - DEBUG - Connecting to database
2018-02-27 10:41:01,379 - DEBUG - Connected to database
2018-02-27 10:41:01,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:01,381 - DEBUG - Order Profit is 235
2018-02-27 10:41:01,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:01,383 - DEBUG - Stop ID is 0
2018-02-27 10:41:01,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:01,385 - DEBUG - Entry ID is 235
2018-02-27 10:41:01,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:41:01,387 - DEBUG - OCA ID is 1
2018-02-27 10:41:01,387 - DEBUG - Connecting to IBController
2018-02-27 10:41:02,393 - DEBUG - Connected to IBController
2018-02-27 10:41:02,393 - DEBUG - Position requested
2018-02-27 10:41:02,395 - DEBUG - Pos Mgmt -10
2018-02-27 10:41:02,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD68>, pos=-10, avgCost=15344.045>
2018-02-27 10:41:02,395 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:41:02,396 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:41:02,396 - DEBUG - Position is -10
2018-02-27 10:41:02,396 - DEBUG - Pos Mgmt -12987
2018-02-27 10:41:02,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:41:02,397 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:41:02,397 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:41:02,397 - DEBUG - Position is -12987
2018-02-27 10:41:03,394 - DEBUG - Open Orders requested
2018-02-27 10:41:03,396 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 10:41:03,397 - DEBUG - Order OrderID 236
2018-02-27 10:41:03,397 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:41:03,398 - DEBUG - Order status PreSubmitted
2018-02-27 10:41:03,398 - DEBUG - Order Identification 236
2018-02-27 10:41:03,398 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:41:03,399 - DEBUG - Profit ID from database is 235
2018-02-27 10:41:03,399 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:41:03,399 - DEBUG - Stop ID database is 0
2018-02-27 10:41:03,399 - DEBUG - Entry ID database is 235
2018-02-27 10:41:05,397 - DEBUG - Connecting to database
2018-02-27 10:41:05,404 - DEBUG - Connected to database
2018-02-27 10:41:05,406 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,406 - DEBUG - Stop loss value is 72.17
2018-02-27 10:41:05,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,408 - DEBUG - Stop loss value is 58.925
2018-02-27 10:41:05,409 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,410 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:41:05,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,411 - DEBUG - Stop quantity 1
2018-02-27 10:41:05,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,413 - DEBUG - Direction is Short
2018-02-27 10:41:05,414 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,415 - DEBUG - Count is 0
2018-02-27 10:41:05,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:41:05,417 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:41:05,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:41:05,418 - DEBUG - Max ID Order is (236,)
2018-02-27 10:41:05,419 - DEBUG - Today is 2018-02-27
2018-02-27 10:41:05,419 - DEBUG - Day of the week 1
2018-02-27 10:41:05,419 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:41:05,420 - DEBUG - In Position is  0
2018-02-27 10:41:05,420 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:41:05,420 - DEBUG - curStopLossFlag is  0
2018-02-27 10:41:05,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:41:05,421 - DEBUG - Checking if Entry has been filled
2018-02-27 10:41:05,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:41:05,422 - DEBUG - EntryPend is 1
2018-02-27 10:41:05,422 - DEBUG - Try to Cancel Stop
2018-02-27 10:41:05,423 - DEBUG - Stop API ID 0
2018-02-27 10:41:05,423 - DEBUG - Profit API ID 0
2018-02-27 10:41:05,423 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:41:05,423 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:41:05,423 - DEBUG - Pos is 0
2018-02-27 10:41:05,424 - DEBUG - CurCount is 0
2018-02-27 10:41:05,424 - DEBUG - In Pos 0
2018-02-27 10:41:05,424 - DEBUG - Stop ID is 0
2018-02-27 10:41:05,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:41:05,426 - DEBUG - EntryPend is 1
2018-02-27 10:41:05,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:41:05,426 - DEBUG - Entry Date is 10
2018-02-27 10:41:05,426 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:41:05,427 - DEBUG - Order Profit ID is 235
2018-02-27 10:41:05,427 - DEBUG - Order Entry ID is 235
2018-02-27 10:41:05,427 - DEBUG - API ID is  0
2018-02-27 10:41:05,427 - DEBUG - Current Position is 0
2018-02-27 10:41:05,427 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:41:05,428 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:41:05,428 - DEBUG - Time is 10
2018-02-27 10:41:05,428 - DEBUG - Time is <class 'int'>
2018-02-27 10:41:05,428 - DEBUG - Time is 41
2018-02-27 10:41:05,429 - DEBUG - Time is <class 'int'>
2018-02-27 10:41:05,429 - DEBUG - Disconnected from IBController
2018-02-27 10:41:05,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:46:01,352 - DEBUG - ****************************************************
2018-02-27 10:46:01,353 - DEBUG - Current Time is 10:46AM
2018-02-27 10:46:01,353 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:46:01,354 - DEBUG - Connecting to database
2018-02-27 10:46:01,390 - DEBUG - Connected to database
2018-02-27 10:46:01,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:01,392 - DEBUG - Order Profit is 235
2018-02-27 10:46:01,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:01,394 - DEBUG - Stop ID is 0
2018-02-27 10:46:01,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:01,396 - DEBUG - Entry ID is 235
2018-02-27 10:46:01,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:46:01,397 - DEBUG - OCA ID is 1
2018-02-27 10:46:01,398 - DEBUG - Connecting to IBController
2018-02-27 10:46:02,404 - DEBUG - Connected to IBController
2018-02-27 10:46:02,404 - DEBUG - Position requested
2018-02-27 10:46:02,406 - DEBUG - Pos Mgmt -10
2018-02-27 10:46:02,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:46:02,409 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:46:02,410 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:46:02,410 - DEBUG - Position is -10
2018-02-27 10:46:02,410 - DEBUG - Pos Mgmt -12987
2018-02-27 10:46:02,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:46:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:46:02,411 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:46:02,411 - DEBUG - Position is -12987
2018-02-27 10:46:03,409 - DEBUG - Open Orders requested
2018-02-27 10:46:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-27 10:46:03,411 - DEBUG - Order OrderID 236
2018-02-27 10:46:03,412 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:46:03,412 - DEBUG - Order status PreSubmitted
2018-02-27 10:46:03,412 - DEBUG - Order Identification 236
2018-02-27 10:46:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:46:03,413 - DEBUG - Profit ID from database is 235
2018-02-27 10:46:03,413 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:46:03,413 - DEBUG - Stop ID database is 0
2018-02-27 10:46:03,414 - DEBUG - Entry ID database is 235
2018-02-27 10:46:05,411 - DEBUG - Connecting to database
2018-02-27 10:46:05,420 - DEBUG - Connected to database
2018-02-27 10:46:05,421 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,422 - DEBUG - Stop loss value is 72.17
2018-02-27 10:46:05,423 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,423 - DEBUG - Stop loss value is 58.925
2018-02-27 10:46:05,425 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,425 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:46:05,426 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,427 - DEBUG - Stop quantity 1
2018-02-27 10:46:05,428 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,428 - DEBUG - Direction is Short
2018-02-27 10:46:05,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,430 - DEBUG - Count is 0
2018-02-27 10:46:05,431 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:46:05,432 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:46:05,433 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:46:05,434 - DEBUG - Max ID Order is (236,)
2018-02-27 10:46:05,434 - DEBUG - Today is 2018-02-27
2018-02-27 10:46:05,434 - DEBUG - Day of the week 1
2018-02-27 10:46:05,435 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:46:05,435 - DEBUG - In Position is  0
2018-02-27 10:46:05,435 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:46:05,435 - DEBUG - curStopLossFlag is  0
2018-02-27 10:46:05,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:46:05,436 - DEBUG - Checking if Entry has been filled
2018-02-27 10:46:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:46:05,437 - DEBUG - EntryPend is 1
2018-02-27 10:46:05,438 - DEBUG - Try to Cancel Stop
2018-02-27 10:46:05,438 - DEBUG - Stop API ID 0
2018-02-27 10:46:05,438 - DEBUG - Profit API ID 0
2018-02-27 10:46:05,438 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:46:05,439 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:46:05,439 - DEBUG - Pos is 0
2018-02-27 10:46:05,439 - DEBUG - CurCount is 0
2018-02-27 10:46:05,439 - DEBUG - In Pos 0
2018-02-27 10:46:05,440 - DEBUG - Stop ID is 0
2018-02-27 10:46:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:46:05,443 - DEBUG - EntryPend is 1
2018-02-27 10:46:05,443 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:46:05,443 - DEBUG - Entry Date is 10
2018-02-27 10:46:05,443 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:46:05,444 - DEBUG - Order Profit ID is 235
2018-02-27 10:46:05,444 - DEBUG - Order Entry ID is 235
2018-02-27 10:46:05,444 - DEBUG - API ID is  0
2018-02-27 10:46:05,444 - DEBUG - Current Position is 0
2018-02-27 10:46:05,445 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:46:05,445 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:46:05,445 - DEBUG - Time is 10
2018-02-27 10:46:05,445 - DEBUG - Time is <class 'int'>
2018-02-27 10:46:05,445 - DEBUG - Time is 46
2018-02-27 10:46:05,446 - DEBUG - Time is <class 'int'>
2018-02-27 10:46:05,446 - DEBUG - Disconnected from IBController
2018-02-27 10:46:05,446 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:51:01,360 - DEBUG - ****************************************************
2018-02-27 10:51:01,361 - DEBUG - Current Time is 10:51AM
2018-02-27 10:51:01,361 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:51:01,361 - DEBUG - Connecting to database
2018-02-27 10:51:01,386 - DEBUG - Connected to database
2018-02-27 10:51:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:01,388 - DEBUG - Order Profit is 235
2018-02-27 10:51:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:01,390 - DEBUG - Stop ID is 0
2018-02-27 10:51:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:01,392 - DEBUG - Entry ID is 235
2018-02-27 10:51:01,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:51:01,393 - DEBUG - OCA ID is 1
2018-02-27 10:51:01,394 - DEBUG - Connecting to IBController
2018-02-27 10:51:02,400 - DEBUG - Connected to IBController
2018-02-27 10:51:02,400 - DEBUG - Position requested
2018-02-27 10:51:02,402 - DEBUG - Pos Mgmt -10
2018-02-27 10:51:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BB00>, pos=-10, avgCost=15344.045>
2018-02-27 10:51:02,402 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:51:02,403 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:51:02,403 - DEBUG - Position is -10
2018-02-27 10:51:02,403 - DEBUG - Pos Mgmt -12987
2018-02-27 10:51:02,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203BC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:51:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:51:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:51:02,404 - DEBUG - Position is -12987
2018-02-27 10:51:03,402 - DEBUG - Open Orders requested
2018-02-27 10:51:03,404 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203BE48>, order=<ib.ext.Order.Order object at 0x000000000203BAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D0128>>
2018-02-27 10:51:03,404 - DEBUG - Order OrderID 236
2018-02-27 10:51:03,405 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:51:03,405 - DEBUG - Order status PreSubmitted
2018-02-27 10:51:03,406 - DEBUG - Order Identification 236
2018-02-27 10:51:03,406 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:51:03,406 - DEBUG - Profit ID from database is 235
2018-02-27 10:51:03,406 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:51:03,407 - DEBUG - Stop ID database is 0
2018-02-27 10:51:03,407 - DEBUG - Entry ID database is 235
2018-02-27 10:51:05,404 - DEBUG - Connecting to database
2018-02-27 10:51:05,411 - DEBUG - Connected to database
2018-02-27 10:51:05,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,413 - DEBUG - Stop loss value is 72.17
2018-02-27 10:51:05,415 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,415 - DEBUG - Stop loss value is 58.925
2018-02-27 10:51:05,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,417 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:51:05,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,418 - DEBUG - Stop quantity 1
2018-02-27 10:51:05,420 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,420 - DEBUG - Direction is Short
2018-02-27 10:51:05,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,422 - DEBUG - Count is 0
2018-02-27 10:51:05,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:51:05,424 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:51:05,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:51:05,426 - DEBUG - Max ID Order is (236,)
2018-02-27 10:51:05,426 - DEBUG - Today is 2018-02-27
2018-02-27 10:51:05,427 - DEBUG - Day of the week 1
2018-02-27 10:51:05,427 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:51:05,427 - DEBUG - In Position is  0
2018-02-27 10:51:05,427 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:51:05,428 - DEBUG - curStopLossFlag is  0
2018-02-27 10:51:05,428 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:51:05,428 - DEBUG - Checking if Entry has been filled
2018-02-27 10:51:05,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:51:05,430 - DEBUG - EntryPend is 1
2018-02-27 10:51:05,430 - DEBUG - Try to Cancel Stop
2018-02-27 10:51:05,430 - DEBUG - Stop API ID 0
2018-02-27 10:51:05,430 - DEBUG - Profit API ID 0
2018-02-27 10:51:05,431 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:51:05,431 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:51:05,431 - DEBUG - Pos is 0
2018-02-27 10:51:05,431 - DEBUG - CurCount is 0
2018-02-27 10:51:05,432 - DEBUG - In Pos 0
2018-02-27 10:51:05,432 - DEBUG - Stop ID is 0
2018-02-27 10:51:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:51:05,434 - DEBUG - EntryPend is 1
2018-02-27 10:51:05,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:51:05,434 - DEBUG - Entry Date is 10
2018-02-27 10:51:05,434 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:51:05,435 - DEBUG - Order Profit ID is 235
2018-02-27 10:51:05,435 - DEBUG - Order Entry ID is 235
2018-02-27 10:51:05,435 - DEBUG - API ID is  0
2018-02-27 10:51:05,435 - DEBUG - Current Position is 0
2018-02-27 10:51:05,435 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:51:05,436 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:51:05,436 - DEBUG - Time is 10
2018-02-27 10:51:05,436 - DEBUG - Time is <class 'int'>
2018-02-27 10:51:05,436 - DEBUG - Time is 51
2018-02-27 10:51:05,437 - DEBUG - Time is <class 'int'>
2018-02-27 10:51:05,437 - DEBUG - Disconnected from IBController
2018-02-27 10:51:05,437 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 10:56:01,363 - DEBUG - ****************************************************
2018-02-27 10:56:01,364 - DEBUG - Current Time is 10:56AM
2018-02-27 10:56:01,364 - DEBUG - Starting Pos Mgmt H E
2018-02-27 10:56:01,364 - DEBUG - Connecting to database
2018-02-27 10:56:01,390 - DEBUG - Connected to database
2018-02-27 10:56:01,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:01,393 - DEBUG - Order Profit is 235
2018-02-27 10:56:01,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:01,394 - DEBUG - Stop ID is 0
2018-02-27 10:56:01,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:01,396 - DEBUG - Entry ID is 235
2018-02-27 10:56:01,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 10:56:01,397 - DEBUG - OCA ID is 1
2018-02-27 10:56:01,398 - DEBUG - Connecting to IBController
2018-02-27 10:56:02,404 - DEBUG - Connected to IBController
2018-02-27 10:56:02,404 - DEBUG - Position requested
2018-02-27 10:56:02,406 - DEBUG - Pos Mgmt -10
2018-02-27 10:56:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CDD8>, pos=-10, avgCost=15344.045>
2018-02-27 10:56:02,407 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 10:56:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-27 10:56:02,407 - DEBUG - Position is -10
2018-02-27 10:56:02,407 - DEBUG - Pos Mgmt -12987
2018-02-27 10:56:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 10:56:02,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 10:56:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 10:56:02,408 - DEBUG - Position is -12987
2018-02-27 10:56:03,405 - DEBUG - Open Orders requested
2018-02-27 10:56:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 10:56:03,408 - DEBUG - Order OrderID 236
2018-02-27 10:56:03,408 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 10:56:03,408 - DEBUG - Order status PreSubmitted
2018-02-27 10:56:03,409 - DEBUG - Order Identification 236
2018-02-27 10:56:03,409 - DEBUG - Order Identification <class 'int'>
2018-02-27 10:56:03,409 - DEBUG - Profit ID from database is 235
2018-02-27 10:56:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 10:56:03,410 - DEBUG - Stop ID database is 0
2018-02-27 10:56:03,410 - DEBUG - Entry ID database is 235
2018-02-27 10:56:05,407 - DEBUG - Connecting to database
2018-02-27 10:56:05,414 - DEBUG - Connected to database
2018-02-27 10:56:05,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,416 - DEBUG - Stop loss value is 72.17
2018-02-27 10:56:05,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,418 - DEBUG - Stop loss value is 58.925
2018-02-27 10:56:05,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,419 - DEBUG - EntryPrice value is 69.625
2018-02-27 10:56:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,421 - DEBUG - Stop quantity 1
2018-02-27 10:56:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,423 - DEBUG - Direction is Short
2018-02-27 10:56:05,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,425 - DEBUG - Count is 0
2018-02-27 10:56:05,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 10:56:05,427 - DEBUG - Stop Loss Flag is 0
2018-02-27 10:56:05,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 10:56:05,428 - DEBUG - Max ID Order is (236,)
2018-02-27 10:56:05,429 - DEBUG - Today is 2018-02-27
2018-02-27 10:56:05,429 - DEBUG - Day of the week 1
2018-02-27 10:56:05,429 - DEBUG - Yesterday is 02/26/2018
2018-02-27 10:56:05,430 - DEBUG - In Position is  0
2018-02-27 10:56:05,430 - DEBUG - In Position is  <class 'int'>
2018-02-27 10:56:05,430 - DEBUG - curStopLossFlag is  0
2018-02-27 10:56:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 10:56:05,431 - DEBUG - Checking if Entry has been filled
2018-02-27 10:56:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:56:05,432 - DEBUG - EntryPend is 1
2018-02-27 10:56:05,433 - DEBUG - Try to Cancel Stop
2018-02-27 10:56:05,433 - DEBUG - Stop API ID 0
2018-02-27 10:56:05,433 - DEBUG - Profit API ID 0
2018-02-27 10:56:05,433 - DEBUG - Stop API ID <class 'int'>
2018-02-27 10:56:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-27 10:56:05,434 - DEBUG - Pos is 0
2018-02-27 10:56:05,434 - DEBUG - CurCount is 0
2018-02-27 10:56:05,434 - DEBUG - In Pos 0
2018-02-27 10:56:05,435 - DEBUG - Stop ID is 0
2018-02-27 10:56:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 10:56:05,436 - DEBUG - EntryPend is 1
2018-02-27 10:56:05,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 10:56:05,437 - DEBUG - Entry Date is 10
2018-02-27 10:56:05,437 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 10:56:05,437 - DEBUG - Order Profit ID is 235
2018-02-27 10:56:05,437 - DEBUG - Order Entry ID is 235
2018-02-27 10:56:05,438 - DEBUG - API ID is  0
2018-02-27 10:56:05,438 - DEBUG - Current Position is 0
2018-02-27 10:56:05,438 - DEBUG - Current Position is <class 'str'>
2018-02-27 10:56:05,438 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 10:56:05,438 - DEBUG - Time is 10
2018-02-27 10:56:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 10:56:05,439 - DEBUG - Time is 56
2018-02-27 10:56:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 10:56:05,439 - DEBUG - Disconnected from IBController
2018-02-27 10:56:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:01:01,377 - DEBUG - ****************************************************
2018-02-27 11:01:01,378 - DEBUG - Current Time is 11:01AM
2018-02-27 11:01:01,378 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:01:01,379 - DEBUG - Connecting to database
2018-02-27 11:01:01,405 - DEBUG - Connected to database
2018-02-27 11:01:01,406 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:01,407 - DEBUG - Order Profit is 235
2018-02-27 11:01:01,408 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:01,410 - DEBUG - Stop ID is 0
2018-02-27 11:01:01,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:01,411 - DEBUG - Entry ID is 235
2018-02-27 11:01:01,412 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:01:01,413 - DEBUG - OCA ID is 1
2018-02-27 11:01:01,413 - DEBUG - Connecting to IBController
2018-02-27 11:01:02,420 - DEBUG - Connected to IBController
2018-02-27 11:01:02,420 - DEBUG - Position requested
2018-02-27 11:01:02,422 - DEBUG - Pos Mgmt -10
2018-02-27 11:01:02,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CBB00>, pos=-10, avgCost=15344.045>
2018-02-27 11:01:02,423 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:01:02,424 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:01:02,424 - DEBUG - Position is -10
2018-02-27 11:01:02,424 - DEBUG - Pos Mgmt -12987
2018-02-27 11:01:02,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CBC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:01:02,425 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:01:02,425 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:01:02,425 - DEBUG - Position is -12987
2018-02-27 11:01:03,423 - DEBUG - Open Orders requested
2018-02-27 11:01:03,425 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020CBE48>, order=<ib.ext.Order.Order object at 0x00000000020CBDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002160128>>
2018-02-27 11:01:03,426 - DEBUG - Order OrderID 236
2018-02-27 11:01:03,426 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:01:03,426 - DEBUG - Order status PreSubmitted
2018-02-27 11:01:03,427 - DEBUG - Order Identification 236
2018-02-27 11:01:03,427 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:01:03,427 - DEBUG - Profit ID from database is 235
2018-02-27 11:01:03,427 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:01:03,428 - DEBUG - Stop ID database is 0
2018-02-27 11:01:03,428 - DEBUG - Entry ID database is 235
2018-02-27 11:01:05,425 - DEBUG - Connecting to database
2018-02-27 11:01:05,432 - DEBUG - Connected to database
2018-02-27 11:01:05,434 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,434 - DEBUG - Stop loss value is 72.17
2018-02-27 11:01:05,436 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,436 - DEBUG - Stop loss value is 58.925
2018-02-27 11:01:05,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,438 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:01:05,439 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,439 - DEBUG - Stop quantity 1
2018-02-27 11:01:05,441 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,441 - DEBUG - Direction is Short
2018-02-27 11:01:05,442 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,443 - DEBUG - Count is 0
2018-02-27 11:01:05,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:01:05,445 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:01:05,446 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:01:05,446 - DEBUG - Max ID Order is (236,)
2018-02-27 11:01:05,447 - DEBUG - Today is 2018-02-27
2018-02-27 11:01:05,447 - DEBUG - Day of the week 1
2018-02-27 11:01:05,447 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:01:05,448 - DEBUG - In Position is  0
2018-02-27 11:01:05,448 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:01:05,448 - DEBUG - curStopLossFlag is  0
2018-02-27 11:01:05,448 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:01:05,449 - DEBUG - Checking if Entry has been filled
2018-02-27 11:01:05,449 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:01:05,450 - DEBUG - EntryPend is 1
2018-02-27 11:01:05,451 - DEBUG - Try to Cancel Stop
2018-02-27 11:01:05,451 - DEBUG - Stop API ID 0
2018-02-27 11:01:05,451 - DEBUG - Profit API ID 0
2018-02-27 11:01:05,451 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:01:05,451 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:01:05,452 - DEBUG - Pos is 0
2018-02-27 11:01:05,452 - DEBUG - CurCount is 0
2018-02-27 11:01:05,452 - DEBUG - In Pos 0
2018-02-27 11:01:05,452 - DEBUG - Stop ID is 0
2018-02-27 11:01:05,453 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:01:05,454 - DEBUG - EntryPend is 1
2018-02-27 11:01:05,455 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:01:05,455 - DEBUG - Entry Date is 10
2018-02-27 11:01:05,455 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:01:05,455 - DEBUG - Order Profit ID is 235
2018-02-27 11:01:05,455 - DEBUG - Order Entry ID is 235
2018-02-27 11:01:05,456 - DEBUG - API ID is  0
2018-02-27 11:01:05,456 - DEBUG - Current Position is 0
2018-02-27 11:01:05,456 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:01:05,456 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:01:05,457 - DEBUG - Time is 11
2018-02-27 11:01:05,457 - DEBUG - Time is <class 'int'>
2018-02-27 11:01:05,457 - DEBUG - Time is 1
2018-02-27 11:01:05,457 - DEBUG - Time is <class 'int'>
2018-02-27 11:01:05,457 - DEBUG - Disconnected from IBController
2018-02-27 11:01:05,458 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:06:01,355 - DEBUG - ****************************************************
2018-02-27 11:06:01,355 - DEBUG - Current Time is 11:06AM
2018-02-27 11:06:01,356 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:06:01,356 - DEBUG - Connecting to database
2018-02-27 11:06:01,380 - DEBUG - Connected to database
2018-02-27 11:06:01,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:01,382 - DEBUG - Order Profit is 235
2018-02-27 11:06:01,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:01,385 - DEBUG - Stop ID is 0
2018-02-27 11:06:01,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:01,387 - DEBUG - Entry ID is 235
2018-02-27 11:06:01,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:06:01,388 - DEBUG - OCA ID is 1
2018-02-27 11:06:01,389 - DEBUG - Connecting to IBController
2018-02-27 11:06:02,395 - DEBUG - Connected to IBController
2018-02-27 11:06:02,395 - DEBUG - Position requested
2018-02-27 11:06:02,396 - DEBUG - Pos Mgmt -10
2018-02-27 11:06:02,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DD30>, pos=-10, avgCost=15344.045>
2018-02-27 11:06:02,397 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:06:02,397 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:06:02,398 - DEBUG - Position is -10
2018-02-27 11:06:02,398 - DEBUG - Pos Mgmt -12987
2018-02-27 11:06:02,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:06:02,399 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:06:02,399 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:06:02,399 - DEBUG - Position is -12987
2018-02-27 11:06:03,396 - DEBUG - Open Orders requested
2018-02-27 11:06:03,398 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 11:06:03,398 - DEBUG - Order OrderID 236
2018-02-27 11:06:03,399 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:06:03,399 - DEBUG - Order status PreSubmitted
2018-02-27 11:06:03,400 - DEBUG - Order Identification 236
2018-02-27 11:06:03,400 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:06:03,400 - DEBUG - Profit ID from database is 235
2018-02-27 11:06:03,400 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:06:03,401 - DEBUG - Stop ID database is 0
2018-02-27 11:06:03,401 - DEBUG - Entry ID database is 235
2018-02-27 11:06:05,398 - DEBUG - Connecting to database
2018-02-27 11:06:05,405 - DEBUG - Connected to database
2018-02-27 11:06:05,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,407 - DEBUG - Stop loss value is 72.17
2018-02-27 11:06:05,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,409 - DEBUG - Stop loss value is 58.925
2018-02-27 11:06:05,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,411 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:06:05,412 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,412 - DEBUG - Stop quantity 1
2018-02-27 11:06:05,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,415 - DEBUG - Direction is Short
2018-02-27 11:06:05,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,417 - DEBUG - Count is 0
2018-02-27 11:06:05,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:06:05,418 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:06:05,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:06:05,420 - DEBUG - Max ID Order is (236,)
2018-02-27 11:06:05,420 - DEBUG - Today is 2018-02-27
2018-02-27 11:06:05,421 - DEBUG - Day of the week 1
2018-02-27 11:06:05,421 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:06:05,421 - DEBUG - In Position is  0
2018-02-27 11:06:05,421 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:06:05,422 - DEBUG - curStopLossFlag is  0
2018-02-27 11:06:05,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:06:05,422 - DEBUG - Checking if Entry has been filled
2018-02-27 11:06:05,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:06:05,424 - DEBUG - EntryPend is 1
2018-02-27 11:06:05,424 - DEBUG - Try to Cancel Stop
2018-02-27 11:06:05,424 - DEBUG - Stop API ID 0
2018-02-27 11:06:05,424 - DEBUG - Profit API ID 0
2018-02-27 11:06:05,425 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:06:05,425 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:06:05,425 - DEBUG - Pos is 0
2018-02-27 11:06:05,425 - DEBUG - CurCount is 0
2018-02-27 11:06:05,425 - DEBUG - In Pos 0
2018-02-27 11:06:05,426 - DEBUG - Stop ID is 0
2018-02-27 11:06:05,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:06:05,427 - DEBUG - EntryPend is 1
2018-02-27 11:06:05,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:06:05,428 - DEBUG - Entry Date is 10
2018-02-27 11:06:05,428 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:06:05,428 - DEBUG - Order Profit ID is 235
2018-02-27 11:06:05,428 - DEBUG - Order Entry ID is 235
2018-02-27 11:06:05,429 - DEBUG - API ID is  0
2018-02-27 11:06:05,429 - DEBUG - Current Position is 0
2018-02-27 11:06:05,429 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:06:05,429 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:06:05,429 - DEBUG - Time is 11
2018-02-27 11:06:05,430 - DEBUG - Time is <class 'int'>
2018-02-27 11:06:05,430 - DEBUG - Time is 6
2018-02-27 11:06:05,430 - DEBUG - Time is <class 'int'>
2018-02-27 11:06:05,430 - DEBUG - Disconnected from IBController
2018-02-27 11:06:05,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:11:01,370 - DEBUG - ****************************************************
2018-02-27 11:11:01,370 - DEBUG - Current Time is 11:11AM
2018-02-27 11:11:01,371 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:11:01,371 - DEBUG - Connecting to database
2018-02-27 11:11:01,401 - DEBUG - Connected to database
2018-02-27 11:11:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:01,403 - DEBUG - Order Profit is 235
2018-02-27 11:11:01,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:01,405 - DEBUG - Stop ID is 0
2018-02-27 11:11:01,406 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:01,407 - DEBUG - Entry ID is 235
2018-02-27 11:11:01,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:11:01,409 - DEBUG - OCA ID is 1
2018-02-27 11:11:01,409 - DEBUG - Connecting to IBController
2018-02-27 11:11:02,415 - DEBUG - Connected to IBController
2018-02-27 11:11:02,415 - DEBUG - Position requested
2018-02-27 11:11:02,417 - DEBUG - Pos Mgmt -10
2018-02-27 11:11:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DB00>, pos=-10, avgCost=15344.045>
2018-02-27 11:11:02,417 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:11:02,418 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:11:02,418 - DEBUG - Position is -10
2018-02-27 11:11:02,418 - DEBUG - Pos Mgmt -12987
2018-02-27 11:11:02,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:11:02,419 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:11:02,419 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:11:02,419 - DEBUG - Position is -12987
2018-02-27 11:11:03,417 - DEBUG - Open Orders requested
2018-02-27 11:11:03,419 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DE48>, order=<ib.ext.Order.Order object at 0x000000000208DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002122128>>
2018-02-27 11:11:03,419 - DEBUG - Order OrderID 236
2018-02-27 11:11:03,420 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:11:03,420 - DEBUG - Order status PreSubmitted
2018-02-27 11:11:03,420 - DEBUG - Order Identification 236
2018-02-27 11:11:03,421 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:11:03,421 - DEBUG - Profit ID from database is 235
2018-02-27 11:11:03,421 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:11:03,421 - DEBUG - Stop ID database is 0
2018-02-27 11:11:03,422 - DEBUG - Entry ID database is 235
2018-02-27 11:11:05,419 - DEBUG - Connecting to database
2018-02-27 11:11:05,427 - DEBUG - Connected to database
2018-02-27 11:11:05,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,429 - DEBUG - Stop loss value is 72.17
2018-02-27 11:11:05,430 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,430 - DEBUG - Stop loss value is 58.925
2018-02-27 11:11:05,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,432 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:11:05,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,434 - DEBUG - Stop quantity 1
2018-02-27 11:11:05,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,435 - DEBUG - Direction is Short
2018-02-27 11:11:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,437 - DEBUG - Count is 0
2018-02-27 11:11:05,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:11:05,439 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:11:05,443 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:11:05,443 - DEBUG - Max ID Order is (236,)
2018-02-27 11:11:05,443 - DEBUG - Today is 2018-02-27
2018-02-27 11:11:05,444 - DEBUG - Day of the week 1
2018-02-27 11:11:05,444 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:11:05,444 - DEBUG - In Position is  0
2018-02-27 11:11:05,444 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:11:05,445 - DEBUG - curStopLossFlag is  0
2018-02-27 11:11:05,445 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:11:05,445 - DEBUG - Checking if Entry has been filled
2018-02-27 11:11:05,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:11:05,448 - DEBUG - EntryPend is 1
2018-02-27 11:11:05,448 - DEBUG - Try to Cancel Stop
2018-02-27 11:11:05,448 - DEBUG - Stop API ID 0
2018-02-27 11:11:05,449 - DEBUG - Profit API ID 0
2018-02-27 11:11:05,452 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:11:05,452 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:11:05,455 - DEBUG - Pos is 0
2018-02-27 11:11:05,461 - DEBUG - CurCount is 0
2018-02-27 11:11:05,464 - DEBUG - In Pos 0
2018-02-27 11:11:05,467 - DEBUG - Stop ID is 0
2018-02-27 11:11:05,467 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:11:05,470 - DEBUG - EntryPend is 1
2018-02-27 11:11:05,470 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:11:05,470 - DEBUG - Entry Date is 10
2018-02-27 11:11:05,470 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:11:05,470 - DEBUG - Order Profit ID is 235
2018-02-27 11:11:05,471 - DEBUG - Order Entry ID is 235
2018-02-27 11:11:05,471 - DEBUG - API ID is  0
2018-02-27 11:11:05,471 - DEBUG - Current Position is 0
2018-02-27 11:11:05,472 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:11:05,472 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:11:05,473 - DEBUG - Time is 11
2018-02-27 11:11:05,473 - DEBUG - Time is <class 'int'>
2018-02-27 11:11:05,473 - DEBUG - Time is 11
2018-02-27 11:11:05,474 - DEBUG - Time is <class 'int'>
2018-02-27 11:11:05,474 - DEBUG - Disconnected from IBController
2018-02-27 11:11:05,481 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:16:01,353 - DEBUG - ****************************************************
2018-02-27 11:16:01,353 - DEBUG - Current Time is 11:16AM
2018-02-27 11:16:01,354 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:16:01,354 - DEBUG - Connecting to database
2018-02-27 11:16:01,401 - DEBUG - Connected to database
2018-02-27 11:16:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:01,403 - DEBUG - Order Profit is 235
2018-02-27 11:16:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:01,405 - DEBUG - Stop ID is 0
2018-02-27 11:16:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:01,406 - DEBUG - Entry ID is 235
2018-02-27 11:16:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:16:01,408 - DEBUG - OCA ID is 1
2018-02-27 11:16:01,409 - DEBUG - Connecting to IBController
2018-02-27 11:16:02,414 - DEBUG - Connected to IBController
2018-02-27 11:16:02,414 - DEBUG - Position requested
2018-02-27 11:16:02,415 - DEBUG - Pos Mgmt -10
2018-02-27 11:16:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDB00>, pos=-10, avgCost=15344.045>
2018-02-27 11:16:02,416 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:16:02,416 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:16:02,417 - DEBUG - Position is -10
2018-02-27 11:16:02,417 - DEBUG - Pos Mgmt -12987
2018-02-27 11:16:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:16:02,418 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:16:02,418 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:16:02,418 - DEBUG - Position is -12987
2018-02-27 11:16:03,416 - DEBUG - Open Orders requested
2018-02-27 11:16:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020CDE48>, order=<ib.ext.Order.Order object at 0x00000000020CDBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002162128>>
2018-02-27 11:16:03,418 - DEBUG - Order OrderID 236
2018-02-27 11:16:03,419 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:16:03,419 - DEBUG - Order status PreSubmitted
2018-02-27 11:16:03,420 - DEBUG - Order Identification 236
2018-02-27 11:16:03,423 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:16:03,423 - DEBUG - Profit ID from database is 235
2018-02-27 11:16:03,424 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:16:03,424 - DEBUG - Stop ID database is 0
2018-02-27 11:16:03,424 - DEBUG - Entry ID database is 235
2018-02-27 11:16:05,418 - DEBUG - Connecting to database
2018-02-27 11:16:05,425 - DEBUG - Connected to database
2018-02-27 11:16:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,427 - DEBUG - Stop loss value is 72.17
2018-02-27 11:16:05,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,429 - DEBUG - Stop loss value is 58.925
2018-02-27 11:16:05,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,431 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:16:05,432 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,432 - DEBUG - Stop quantity 1
2018-02-27 11:16:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,434 - DEBUG - Direction is Short
2018-02-27 11:16:05,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,436 - DEBUG - Count is 0
2018-02-27 11:16:05,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:16:05,438 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:16:05,439 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:16:05,439 - DEBUG - Max ID Order is (236,)
2018-02-27 11:16:05,440 - DEBUG - Today is 2018-02-27
2018-02-27 11:16:05,440 - DEBUG - Day of the week 1
2018-02-27 11:16:05,441 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:16:05,441 - DEBUG - In Position is  0
2018-02-27 11:16:05,441 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:16:05,441 - DEBUG - curStopLossFlag is  0
2018-02-27 11:16:05,441 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:16:05,442 - DEBUG - Checking if Entry has been filled
2018-02-27 11:16:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:16:05,443 - DEBUG - EntryPend is 1
2018-02-27 11:16:05,443 - DEBUG - Try to Cancel Stop
2018-02-27 11:16:05,444 - DEBUG - Stop API ID 0
2018-02-27 11:16:05,444 - DEBUG - Profit API ID 0
2018-02-27 11:16:05,444 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:16:05,444 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:16:05,445 - DEBUG - Pos is 0
2018-02-27 11:16:05,445 - DEBUG - CurCount is 0
2018-02-27 11:16:05,445 - DEBUG - In Pos 0
2018-02-27 11:16:05,445 - DEBUG - Stop ID is 0
2018-02-27 11:16:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:16:05,447 - DEBUG - EntryPend is 1
2018-02-27 11:16:05,447 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:16:05,447 - DEBUG - Entry Date is 10
2018-02-27 11:16:05,448 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:16:05,448 - DEBUG - Order Profit ID is 235
2018-02-27 11:16:05,448 - DEBUG - Order Entry ID is 235
2018-02-27 11:16:05,448 - DEBUG - API ID is  0
2018-02-27 11:16:05,448 - DEBUG - Current Position is 0
2018-02-27 11:16:05,449 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:16:05,449 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:16:05,449 - DEBUG - Time is 11
2018-02-27 11:16:05,449 - DEBUG - Time is <class 'int'>
2018-02-27 11:16:05,450 - DEBUG - Time is 16
2018-02-27 11:16:05,450 - DEBUG - Time is <class 'int'>
2018-02-27 11:16:05,450 - DEBUG - Disconnected from IBController
2018-02-27 11:16:05,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:21:01,359 - DEBUG - ****************************************************
2018-02-27 11:21:01,359 - DEBUG - Current Time is 11:21AM
2018-02-27 11:21:01,360 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:21:01,360 - DEBUG - Connecting to database
2018-02-27 11:21:01,397 - DEBUG - Connected to database
2018-02-27 11:21:01,398 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:01,400 - DEBUG - Order Profit is 235
2018-02-27 11:21:01,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:01,402 - DEBUG - Stop ID is 0
2018-02-27 11:21:01,402 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:01,403 - DEBUG - Entry ID is 235
2018-02-27 11:21:01,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:21:01,405 - DEBUG - OCA ID is 1
2018-02-27 11:21:01,405 - DEBUG - Connecting to IBController
2018-02-27 11:21:02,412 - DEBUG - Connected to IBController
2018-02-27 11:21:02,412 - DEBUG - Position requested
2018-02-27 11:21:02,414 - DEBUG - Pos Mgmt -10
2018-02-27 11:21:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CA58>, pos=-10, avgCost=15344.045>
2018-02-27 11:21:02,414 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:21:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:21:02,415 - DEBUG - Position is -10
2018-02-27 11:21:02,415 - DEBUG - Pos Mgmt -12987
2018-02-27 11:21:02,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:21:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:21:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:21:02,416 - DEBUG - Position is -12987
2018-02-27 11:21:03,415 - DEBUG - Open Orders requested
2018-02-27 11:21:03,427 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209CE48>, order=<ib.ext.Order.Order object at 0x000000000209CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002132128>>
2018-02-27 11:21:03,428 - DEBUG - Order OrderID 236
2018-02-27 11:21:03,429 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:21:03,429 - DEBUG - Order status PreSubmitted
2018-02-27 11:21:03,429 - DEBUG - Order Identification 236
2018-02-27 11:21:03,429 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:21:03,430 - DEBUG - Profit ID from database is 235
2018-02-27 11:21:03,430 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:21:03,430 - DEBUG - Stop ID database is 0
2018-02-27 11:21:03,430 - DEBUG - Entry ID database is 235
2018-02-27 11:21:05,428 - DEBUG - Connecting to database
2018-02-27 11:21:05,437 - DEBUG - Connected to database
2018-02-27 11:21:05,439 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,439 - DEBUG - Stop loss value is 72.17
2018-02-27 11:21:05,441 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,441 - DEBUG - Stop loss value is 58.925
2018-02-27 11:21:05,442 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,443 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:21:05,444 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,444 - DEBUG - Stop quantity 1
2018-02-27 11:21:05,446 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,447 - DEBUG - Direction is Short
2018-02-27 11:21:05,448 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,448 - DEBUG - Count is 0
2018-02-27 11:21:05,450 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:21:05,450 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:21:05,451 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:21:05,452 - DEBUG - Max ID Order is (236,)
2018-02-27 11:21:05,452 - DEBUG - Today is 2018-02-27
2018-02-27 11:21:05,453 - DEBUG - Day of the week 1
2018-02-27 11:21:05,453 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:21:05,453 - DEBUG - In Position is  0
2018-02-27 11:21:05,454 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:21:05,454 - DEBUG - curStopLossFlag is  0
2018-02-27 11:21:05,454 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:21:05,454 - DEBUG - Checking if Entry has been filled
2018-02-27 11:21:05,455 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:21:05,456 - DEBUG - EntryPend is 1
2018-02-27 11:21:05,457 - DEBUG - Try to Cancel Stop
2018-02-27 11:21:05,457 - DEBUG - Stop API ID 0
2018-02-27 11:21:05,457 - DEBUG - Profit API ID 0
2018-02-27 11:21:05,457 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:21:05,458 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:21:05,458 - DEBUG - Pos is 0
2018-02-27 11:21:05,458 - DEBUG - CurCount is 0
2018-02-27 11:21:05,458 - DEBUG - In Pos 0
2018-02-27 11:21:05,459 - DEBUG - Stop ID is 0
2018-02-27 11:21:05,459 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:21:05,460 - DEBUG - EntryPend is 1
2018-02-27 11:21:05,460 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:21:05,461 - DEBUG - Entry Date is 10
2018-02-27 11:21:05,461 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:21:05,461 - DEBUG - Order Profit ID is 235
2018-02-27 11:21:05,461 - DEBUG - Order Entry ID is 235
2018-02-27 11:21:05,462 - DEBUG - API ID is  0
2018-02-27 11:21:05,462 - DEBUG - Current Position is 0
2018-02-27 11:21:05,462 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:21:05,462 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:21:05,463 - DEBUG - Time is 11
2018-02-27 11:21:05,463 - DEBUG - Time is <class 'int'>
2018-02-27 11:21:05,463 - DEBUG - Time is 21
2018-02-27 11:21:05,463 - DEBUG - Time is <class 'int'>
2018-02-27 11:21:05,464 - DEBUG - Disconnected from IBController
2018-02-27 11:21:05,464 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:26:01,359 - DEBUG - ****************************************************
2018-02-27 11:26:01,359 - DEBUG - Current Time is 11:26AM
2018-02-27 11:26:01,360 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:26:01,360 - DEBUG - Connecting to database
2018-02-27 11:26:01,386 - DEBUG - Connected to database
2018-02-27 11:26:01,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:01,388 - DEBUG - Order Profit is 235
2018-02-27 11:26:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:01,389 - DEBUG - Stop ID is 0
2018-02-27 11:26:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:01,391 - DEBUG - Entry ID is 235
2018-02-27 11:26:01,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:26:01,393 - DEBUG - OCA ID is 1
2018-02-27 11:26:01,393 - DEBUG - Connecting to IBController
2018-02-27 11:26:02,400 - DEBUG - Connected to IBController
2018-02-27 11:26:02,400 - DEBUG - Position requested
2018-02-27 11:26:02,402 - DEBUG - Pos Mgmt -10
2018-02-27 11:26:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DD68>, pos=-10, avgCost=15344.045>
2018-02-27 11:26:02,402 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:26:02,403 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:26:02,403 - DEBUG - Position is -10
2018-02-27 11:26:02,403 - DEBUG - Pos Mgmt -12987
2018-02-27 11:26:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:26:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:26:02,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:26:02,404 - DEBUG - Position is -12987
2018-02-27 11:26:03,401 - DEBUG - Open Orders requested
2018-02-27 11:26:03,403 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002111128>>
2018-02-27 11:26:03,404 - DEBUG - Order OrderID 236
2018-02-27 11:26:03,404 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:26:03,405 - DEBUG - Order status PreSubmitted
2018-02-27 11:26:03,405 - DEBUG - Order Identification 236
2018-02-27 11:26:03,405 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:26:03,405 - DEBUG - Profit ID from database is 235
2018-02-27 11:26:03,406 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:26:03,406 - DEBUG - Stop ID database is 0
2018-02-27 11:26:03,406 - DEBUG - Entry ID database is 235
2018-02-27 11:26:05,404 - DEBUG - Connecting to database
2018-02-27 11:26:05,411 - DEBUG - Connected to database
2018-02-27 11:26:05,413 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,413 - DEBUG - Stop loss value is 72.17
2018-02-27 11:26:05,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,415 - DEBUG - Stop loss value is 58.925
2018-02-27 11:26:05,416 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,416 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:26:05,418 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,418 - DEBUG - Stop quantity 1
2018-02-27 11:26:05,419 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,420 - DEBUG - Direction is Short
2018-02-27 11:26:05,421 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,421 - DEBUG - Count is 0
2018-02-27 11:26:05,424 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:26:05,424 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:26:05,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:26:05,426 - DEBUG - Max ID Order is (236,)
2018-02-27 11:26:05,427 - DEBUG - Today is 2018-02-27
2018-02-27 11:26:05,427 - DEBUG - Day of the week 1
2018-02-27 11:26:05,427 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:26:05,427 - DEBUG - In Position is  0
2018-02-27 11:26:05,428 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:26:05,428 - DEBUG - curStopLossFlag is  0
2018-02-27 11:26:05,428 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:26:05,428 - DEBUG - Checking if Entry has been filled
2018-02-27 11:26:05,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:26:05,430 - DEBUG - EntryPend is 1
2018-02-27 11:26:05,430 - DEBUG - Try to Cancel Stop
2018-02-27 11:26:05,431 - DEBUG - Stop API ID 0
2018-02-27 11:26:05,431 - DEBUG - Profit API ID 0
2018-02-27 11:26:05,431 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:26:05,431 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:26:05,432 - DEBUG - Pos is 0
2018-02-27 11:26:05,432 - DEBUG - CurCount is 0
2018-02-27 11:26:05,432 - DEBUG - In Pos 0
2018-02-27 11:26:05,432 - DEBUG - Stop ID is 0
2018-02-27 11:26:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:26:05,434 - DEBUG - EntryPend is 1
2018-02-27 11:26:05,434 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:26:05,434 - DEBUG - Entry Date is 10
2018-02-27 11:26:05,435 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:26:05,435 - DEBUG - Order Profit ID is 235
2018-02-27 11:26:05,435 - DEBUG - Order Entry ID is 235
2018-02-27 11:26:05,435 - DEBUG - API ID is  0
2018-02-27 11:26:05,435 - DEBUG - Current Position is 0
2018-02-27 11:26:05,436 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:26:05,436 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:26:05,436 - DEBUG - Time is 11
2018-02-27 11:26:05,436 - DEBUG - Time is <class 'int'>
2018-02-27 11:26:05,437 - DEBUG - Time is 26
2018-02-27 11:26:05,437 - DEBUG - Time is <class 'int'>
2018-02-27 11:26:05,437 - DEBUG - Disconnected from IBController
2018-02-27 11:26:05,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:31:01,374 - DEBUG - ****************************************************
2018-02-27 11:31:01,374 - DEBUG - Current Time is 11:31AM
2018-02-27 11:31:01,375 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:31:01,375 - DEBUG - Connecting to database
2018-02-27 11:31:01,442 - DEBUG - Connected to database
2018-02-27 11:31:01,442 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:01,444 - DEBUG - Order Profit is 235
2018-02-27 11:31:01,444 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:01,446 - DEBUG - Stop ID is 0
2018-02-27 11:31:01,446 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:01,447 - DEBUG - Entry ID is 235
2018-02-27 11:31:01,448 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:31:01,449 - DEBUG - OCA ID is 1
2018-02-27 11:31:01,450 - DEBUG - Connecting to IBController
2018-02-27 11:31:02,455 - DEBUG - Connected to IBController
2018-02-27 11:31:02,455 - DEBUG - Position requested
2018-02-27 11:31:02,457 - DEBUG - Pos Mgmt -10
2018-02-27 11:31:02,457 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, pos=-10, avgCost=15344.045>
2018-02-27 11:31:02,457 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:31:02,458 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:31:02,458 - DEBUG - Position is -10
2018-02-27 11:31:02,458 - DEBUG - Pos Mgmt -12987
2018-02-27 11:31:02,458 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:31:02,459 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:31:02,459 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:31:02,459 - DEBUG - Position is -12987
2018-02-27 11:31:03,456 - DEBUG - Open Orders requested
2018-02-27 11:31:03,465 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203CCF8>, order=<ib.ext.Order.Order object at 0x000000000203CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-27 11:31:03,466 - DEBUG - Order OrderID 236
2018-02-27 11:31:03,466 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:31:03,467 - DEBUG - Order status PreSubmitted
2018-02-27 11:31:03,467 - DEBUG - Order Identification 236
2018-02-27 11:31:03,467 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:31:03,467 - DEBUG - Profit ID from database is 235
2018-02-27 11:31:03,468 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:31:03,468 - DEBUG - Stop ID database is 0
2018-02-27 11:31:03,468 - DEBUG - Entry ID database is 235
2018-02-27 11:31:05,462 - DEBUG - Connecting to database
2018-02-27 11:31:05,469 - DEBUG - Connected to database
2018-02-27 11:31:05,471 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,471 - DEBUG - Stop loss value is 72.17
2018-02-27 11:31:05,473 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,473 - DEBUG - Stop loss value is 58.925
2018-02-27 11:31:05,474 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,475 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:31:05,476 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,476 - DEBUG - Stop quantity 1
2018-02-27 11:31:05,478 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,478 - DEBUG - Direction is Short
2018-02-27 11:31:05,479 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,480 - DEBUG - Count is 0
2018-02-27 11:31:05,481 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:31:05,481 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:31:05,483 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:31:05,483 - DEBUG - Max ID Order is (236,)
2018-02-27 11:31:05,483 - DEBUG - Today is 2018-02-27
2018-02-27 11:31:05,484 - DEBUG - Day of the week 1
2018-02-27 11:31:05,484 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:31:05,484 - DEBUG - In Position is  0
2018-02-27 11:31:05,484 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:31:05,485 - DEBUG - curStopLossFlag is  0
2018-02-27 11:31:05,485 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:31:05,485 - DEBUG - Checking if Entry has been filled
2018-02-27 11:31:05,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:31:05,487 - DEBUG - EntryPend is 1
2018-02-27 11:31:05,487 - DEBUG - Try to Cancel Stop
2018-02-27 11:31:05,487 - DEBUG - Stop API ID 0
2018-02-27 11:31:05,487 - DEBUG - Profit API ID 0
2018-02-27 11:31:05,488 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:31:05,488 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:31:05,488 - DEBUG - Pos is 0
2018-02-27 11:31:05,488 - DEBUG - CurCount is 0
2018-02-27 11:31:05,489 - DEBUG - In Pos 0
2018-02-27 11:31:05,489 - DEBUG - Stop ID is 0
2018-02-27 11:31:05,489 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:31:05,491 - DEBUG - EntryPend is 1
2018-02-27 11:31:05,491 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:31:05,491 - DEBUG - Entry Date is 10
2018-02-27 11:31:05,491 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:31:05,492 - DEBUG - Order Profit ID is 235
2018-02-27 11:31:05,492 - DEBUG - Order Entry ID is 235
2018-02-27 11:31:05,492 - DEBUG - API ID is  0
2018-02-27 11:31:05,492 - DEBUG - Current Position is 0
2018-02-27 11:31:05,492 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:31:05,493 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:31:05,493 - DEBUG - Time is 11
2018-02-27 11:31:05,493 - DEBUG - Time is <class 'int'>
2018-02-27 11:31:05,493 - DEBUG - Time is 31
2018-02-27 11:31:05,493 - DEBUG - Time is <class 'int'>
2018-02-27 11:31:05,494 - DEBUG - Disconnected from IBController
2018-02-27 11:31:05,494 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:36:01,374 - DEBUG - ****************************************************
2018-02-27 11:36:01,375 - DEBUG - Current Time is 11:36AM
2018-02-27 11:36:01,375 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:36:01,375 - DEBUG - Connecting to database
2018-02-27 11:36:01,397 - DEBUG - Connected to database
2018-02-27 11:36:01,397 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:01,399 - DEBUG - Order Profit is 235
2018-02-27 11:36:01,399 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:01,401 - DEBUG - Stop ID is 0
2018-02-27 11:36:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:01,404 - DEBUG - Entry ID is 235
2018-02-27 11:36:01,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:36:01,406 - DEBUG - OCA ID is 1
2018-02-27 11:36:01,406 - DEBUG - Connecting to IBController
2018-02-27 11:36:02,412 - DEBUG - Connected to IBController
2018-02-27 11:36:02,412 - DEBUG - Position requested
2018-02-27 11:36:02,414 - DEBUG - Pos Mgmt -10
2018-02-27 11:36:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, pos=-10, avgCost=15344.045>
2018-02-27 11:36:02,414 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:36:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:36:02,415 - DEBUG - Position is -10
2018-02-27 11:36:02,415 - DEBUG - Pos Mgmt -12987
2018-02-27 11:36:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:36:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:36:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:36:02,416 - DEBUG - Position is -12987
2018-02-27 11:36:03,413 - DEBUG - Open Orders requested
2018-02-27 11:36:03,415 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000204DE48>, order=<ib.ext.Order.Order object at 0x000000000204DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E2128>>
2018-02-27 11:36:03,416 - DEBUG - Order OrderID 236
2018-02-27 11:36:03,416 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:36:03,416 - DEBUG - Order status PreSubmitted
2018-02-27 11:36:03,417 - DEBUG - Order Identification 236
2018-02-27 11:36:03,417 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:36:03,417 - DEBUG - Profit ID from database is 235
2018-02-27 11:36:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:36:03,418 - DEBUG - Stop ID database is 0
2018-02-27 11:36:03,418 - DEBUG - Entry ID database is 235
2018-02-27 11:36:05,415 - DEBUG - Connecting to database
2018-02-27 11:36:05,423 - DEBUG - Connected to database
2018-02-27 11:36:05,424 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,425 - DEBUG - Stop loss value is 72.17
2018-02-27 11:36:05,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,429 - DEBUG - Stop loss value is 58.925
2018-02-27 11:36:05,432 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,432 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:36:05,434 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,434 - DEBUG - Stop quantity 1
2018-02-27 11:36:05,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,436 - DEBUG - Direction is Short
2018-02-27 11:36:05,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,437 - DEBUG - Count is 0
2018-02-27 11:36:05,439 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:36:05,439 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:36:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:36:05,441 - DEBUG - Max ID Order is (236,)
2018-02-27 11:36:05,441 - DEBUG - Today is 2018-02-27
2018-02-27 11:36:05,441 - DEBUG - Day of the week 1
2018-02-27 11:36:05,442 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:36:05,442 - DEBUG - In Position is  0
2018-02-27 11:36:05,442 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:36:05,442 - DEBUG - curStopLossFlag is  0
2018-02-27 11:36:05,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:36:05,443 - DEBUG - Checking if Entry has been filled
2018-02-27 11:36:05,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:36:05,444 - DEBUG - EntryPend is 1
2018-02-27 11:36:05,445 - DEBUG - Try to Cancel Stop
2018-02-27 11:36:05,445 - DEBUG - Stop API ID 0
2018-02-27 11:36:05,445 - DEBUG - Profit API ID 0
2018-02-27 11:36:05,445 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:36:05,446 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:36:05,446 - DEBUG - Pos is 0
2018-02-27 11:36:05,446 - DEBUG - CurCount is 0
2018-02-27 11:36:05,446 - DEBUG - In Pos 0
2018-02-27 11:36:05,446 - DEBUG - Stop ID is 0
2018-02-27 11:36:05,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:36:05,448 - DEBUG - EntryPend is 1
2018-02-27 11:36:05,449 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:36:05,449 - DEBUG - Entry Date is 10
2018-02-27 11:36:05,449 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:36:05,449 - DEBUG - Order Profit ID is 235
2018-02-27 11:36:05,450 - DEBUG - Order Entry ID is 235
2018-02-27 11:36:05,450 - DEBUG - API ID is  0
2018-02-27 11:36:05,450 - DEBUG - Current Position is 0
2018-02-27 11:36:05,450 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:36:05,450 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:36:05,451 - DEBUG - Time is 11
2018-02-27 11:36:05,451 - DEBUG - Time is <class 'int'>
2018-02-27 11:36:05,451 - DEBUG - Time is 36
2018-02-27 11:36:05,451 - DEBUG - Time is <class 'int'>
2018-02-27 11:36:05,452 - DEBUG - Disconnected from IBController
2018-02-27 11:36:05,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:41:01,358 - DEBUG - ****************************************************
2018-02-27 11:41:01,359 - DEBUG - Current Time is 11:41AM
2018-02-27 11:41:01,359 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:41:01,359 - DEBUG - Connecting to database
2018-02-27 11:41:01,393 - DEBUG - Connected to database
2018-02-27 11:41:01,393 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:01,395 - DEBUG - Order Profit is 235
2018-02-27 11:41:01,395 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:01,397 - DEBUG - Stop ID is 0
2018-02-27 11:41:01,397 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:01,399 - DEBUG - Entry ID is 235
2018-02-27 11:41:01,399 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:41:01,401 - DEBUG - OCA ID is 1
2018-02-27 11:41:01,401 - DEBUG - Connecting to IBController
2018-02-27 11:41:02,407 - DEBUG - Connected to IBController
2018-02-27 11:41:02,407 - DEBUG - Position requested
2018-02-27 11:41:02,409 - DEBUG - Pos Mgmt -10
2018-02-27 11:41:02,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CB00>, pos=-10, avgCost=15344.045>
2018-02-27 11:41:02,409 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:41:02,410 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:41:02,410 - DEBUG - Position is -10
2018-02-27 11:41:02,410 - DEBUG - Pos Mgmt -12987
2018-02-27 11:41:02,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:41:02,411 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:41:02,411 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:41:02,411 - DEBUG - Position is -12987
2018-02-27 11:41:03,409 - DEBUG - Open Orders requested
2018-02-27 11:41:03,411 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207CE48>, order=<ib.ext.Order.Order object at 0x000000000207CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 11:41:03,412 - DEBUG - Order OrderID 236
2018-02-27 11:41:03,412 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:41:03,413 - DEBUG - Order status PreSubmitted
2018-02-27 11:41:03,413 - DEBUG - Order Identification 236
2018-02-27 11:41:03,413 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:41:03,413 - DEBUG - Profit ID from database is 235
2018-02-27 11:41:03,414 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:41:03,414 - DEBUG - Stop ID database is 0
2018-02-27 11:41:03,414 - DEBUG - Entry ID database is 235
2018-02-27 11:41:05,412 - DEBUG - Connecting to database
2018-02-27 11:41:05,419 - DEBUG - Connected to database
2018-02-27 11:41:05,421 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,421 - DEBUG - Stop loss value is 72.17
2018-02-27 11:41:05,423 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,423 - DEBUG - Stop loss value is 58.925
2018-02-27 11:41:05,424 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,425 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:41:05,426 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,427 - DEBUG - Stop quantity 1
2018-02-27 11:41:05,428 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,428 - DEBUG - Direction is Short
2018-02-27 11:41:05,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,430 - DEBUG - Count is 0
2018-02-27 11:41:05,432 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:41:05,432 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:41:05,433 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:41:05,434 - DEBUG - Max ID Order is (236,)
2018-02-27 11:41:05,434 - DEBUG - Today is 2018-02-27
2018-02-27 11:41:05,435 - DEBUG - Day of the week 1
2018-02-27 11:41:05,435 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:41:05,435 - DEBUG - In Position is  0
2018-02-27 11:41:05,435 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:41:05,436 - DEBUG - curStopLossFlag is  0
2018-02-27 11:41:05,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:41:05,436 - DEBUG - Checking if Entry has been filled
2018-02-27 11:41:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:41:05,438 - DEBUG - EntryPend is 1
2018-02-27 11:41:05,438 - DEBUG - Try to Cancel Stop
2018-02-27 11:41:05,438 - DEBUG - Stop API ID 0
2018-02-27 11:41:05,438 - DEBUG - Profit API ID 0
2018-02-27 11:41:05,439 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:41:05,439 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:41:05,439 - DEBUG - Pos is 0
2018-02-27 11:41:05,439 - DEBUG - CurCount is 0
2018-02-27 11:41:05,439 - DEBUG - In Pos 0
2018-02-27 11:41:05,440 - DEBUG - Stop ID is 0
2018-02-27 11:41:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:41:05,441 - DEBUG - EntryPend is 1
2018-02-27 11:41:05,442 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:41:05,442 - DEBUG - Entry Date is 10
2018-02-27 11:41:05,442 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:41:05,442 - DEBUG - Order Profit ID is 235
2018-02-27 11:41:05,443 - DEBUG - Order Entry ID is 235
2018-02-27 11:41:05,443 - DEBUG - API ID is  0
2018-02-27 11:41:05,443 - DEBUG - Current Position is 0
2018-02-27 11:41:05,443 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:41:05,443 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:41:05,444 - DEBUG - Time is 11
2018-02-27 11:41:05,444 - DEBUG - Time is <class 'int'>
2018-02-27 11:41:05,444 - DEBUG - Time is 41
2018-02-27 11:41:05,444 - DEBUG - Time is <class 'int'>
2018-02-27 11:41:05,445 - DEBUG - Disconnected from IBController
2018-02-27 11:41:05,445 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:46:01,358 - DEBUG - ****************************************************
2018-02-27 11:46:01,359 - DEBUG - Current Time is 11:46AM
2018-02-27 11:46:01,359 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:46:01,360 - DEBUG - Connecting to database
2018-02-27 11:46:01,399 - DEBUG - Connected to database
2018-02-27 11:46:01,399 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:01,401 - DEBUG - Order Profit is 235
2018-02-27 11:46:01,401 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:01,403 - DEBUG - Stop ID is 0
2018-02-27 11:46:01,403 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:01,404 - DEBUG - Entry ID is 235
2018-02-27 11:46:01,404 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:46:01,406 - DEBUG - OCA ID is 1
2018-02-27 11:46:01,406 - DEBUG - Connecting to IBController
2018-02-27 11:46:02,412 - DEBUG - Connected to IBController
2018-02-27 11:46:02,412 - DEBUG - Position requested
2018-02-27 11:46:02,414 - DEBUG - Pos Mgmt -10
2018-02-27 11:46:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ABDA0>, pos=-10, avgCost=15344.045>
2018-02-27 11:46:02,414 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:46:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:46:02,415 - DEBUG - Position is -10
2018-02-27 11:46:02,415 - DEBUG - Pos Mgmt -12987
2018-02-27 11:46:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ABCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:46:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:46:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:46:02,416 - DEBUG - Position is -12987
2018-02-27 11:46:03,413 - DEBUG - Open Orders requested
2018-02-27 11:46:03,415 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020ABE48>, order=<ib.ext.Order.Order object at 0x00000000020ABAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002140128>>
2018-02-27 11:46:03,416 - DEBUG - Order OrderID 236
2018-02-27 11:46:03,416 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:46:03,416 - DEBUG - Order status PreSubmitted
2018-02-27 11:46:03,417 - DEBUG - Order Identification 236
2018-02-27 11:46:03,417 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:46:03,417 - DEBUG - Profit ID from database is 235
2018-02-27 11:46:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:46:03,418 - DEBUG - Stop ID database is 0
2018-02-27 11:46:03,418 - DEBUG - Entry ID database is 235
2018-02-27 11:46:05,415 - DEBUG - Connecting to database
2018-02-27 11:46:05,422 - DEBUG - Connected to database
2018-02-27 11:46:05,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,424 - DEBUG - Stop loss value is 72.17
2018-02-27 11:46:05,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,426 - DEBUG - Stop loss value is 58.925
2018-02-27 11:46:05,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,427 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:46:05,429 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,429 - DEBUG - Stop quantity 1
2018-02-27 11:46:05,431 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,431 - DEBUG - Direction is Short
2018-02-27 11:46:05,432 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,433 - DEBUG - Count is 0
2018-02-27 11:46:05,434 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:46:05,434 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:46:05,436 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:46:05,436 - DEBUG - Max ID Order is (236,)
2018-02-27 11:46:05,436 - DEBUG - Today is 2018-02-27
2018-02-27 11:46:05,437 - DEBUG - Day of the week 1
2018-02-27 11:46:05,437 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:46:05,437 - DEBUG - In Position is  0
2018-02-27 11:46:05,438 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:46:05,438 - DEBUG - curStopLossFlag is  0
2018-02-27 11:46:05,438 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:46:05,438 - DEBUG - Checking if Entry has been filled
2018-02-27 11:46:05,439 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:46:05,440 - DEBUG - EntryPend is 1
2018-02-27 11:46:05,440 - DEBUG - Try to Cancel Stop
2018-02-27 11:46:05,441 - DEBUG - Stop API ID 0
2018-02-27 11:46:05,441 - DEBUG - Profit API ID 0
2018-02-27 11:46:05,441 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:46:05,441 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:46:05,441 - DEBUG - Pos is 0
2018-02-27 11:46:05,442 - DEBUG - CurCount is 0
2018-02-27 11:46:05,442 - DEBUG - In Pos 0
2018-02-27 11:46:05,442 - DEBUG - Stop ID is 0
2018-02-27 11:46:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:46:05,444 - DEBUG - EntryPend is 1
2018-02-27 11:46:05,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:46:05,444 - DEBUG - Entry Date is 10
2018-02-27 11:46:05,444 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:46:05,445 - DEBUG - Order Profit ID is 235
2018-02-27 11:46:05,445 - DEBUG - Order Entry ID is 235
2018-02-27 11:46:05,445 - DEBUG - API ID is  0
2018-02-27 11:46:05,445 - DEBUG - Current Position is 0
2018-02-27 11:46:05,446 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:46:05,446 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:46:05,446 - DEBUG - Time is 11
2018-02-27 11:46:05,446 - DEBUG - Time is <class 'int'>
2018-02-27 11:46:05,446 - DEBUG - Time is 46
2018-02-27 11:46:05,447 - DEBUG - Time is <class 'int'>
2018-02-27 11:46:05,447 - DEBUG - Disconnected from IBController
2018-02-27 11:46:05,447 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:51:01,366 - DEBUG - ****************************************************
2018-02-27 11:51:01,366 - DEBUG - Current Time is 11:51AM
2018-02-27 11:51:01,367 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:51:01,367 - DEBUG - Connecting to database
2018-02-27 11:51:01,392 - DEBUG - Connected to database
2018-02-27 11:51:01,392 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:01,394 - DEBUG - Order Profit is 235
2018-02-27 11:51:01,394 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:01,395 - DEBUG - Stop ID is 0
2018-02-27 11:51:01,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:01,397 - DEBUG - Entry ID is 235
2018-02-27 11:51:01,397 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:51:01,398 - DEBUG - OCA ID is 1
2018-02-27 11:51:01,399 - DEBUG - Connecting to IBController
2018-02-27 11:51:02,404 - DEBUG - Connected to IBController
2018-02-27 11:51:02,404 - DEBUG - Position requested
2018-02-27 11:51:02,406 - DEBUG - Pos Mgmt -10
2018-02-27 11:51:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, pos=-10, avgCost=15344.045>
2018-02-27 11:51:02,406 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:51:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:51:02,407 - DEBUG - Position is -10
2018-02-27 11:51:02,407 - DEBUG - Pos Mgmt -12987
2018-02-27 11:51:02,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:51:02,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:51:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:51:02,408 - DEBUG - Position is -12987
2018-02-27 11:51:03,404 - DEBUG - Open Orders requested
2018-02-27 11:51:03,406 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DDD8>, order=<ib.ext.Order.Order object at 0x000000000202DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 11:51:03,407 - DEBUG - Order OrderID 236
2018-02-27 11:51:03,407 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:51:03,410 - DEBUG - Order status PreSubmitted
2018-02-27 11:51:03,411 - DEBUG - Order Identification 236
2018-02-27 11:51:03,411 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:51:03,411 - DEBUG - Profit ID from database is 235
2018-02-27 11:51:03,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:51:03,411 - DEBUG - Stop ID database is 0
2018-02-27 11:51:03,412 - DEBUG - Entry ID database is 235
2018-02-27 11:51:05,405 - DEBUG - Connecting to database
2018-02-27 11:51:05,413 - DEBUG - Connected to database
2018-02-27 11:51:05,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,415 - DEBUG - Stop loss value is 72.17
2018-02-27 11:51:05,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,418 - DEBUG - Stop loss value is 58.925
2018-02-27 11:51:05,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,420 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:51:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,421 - DEBUG - Stop quantity 1
2018-02-27 11:51:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,423 - DEBUG - Direction is Short
2018-02-27 11:51:05,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,425 - DEBUG - Count is 0
2018-02-27 11:51:05,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:51:05,427 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:51:05,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:51:05,428 - DEBUG - Max ID Order is (236,)
2018-02-27 11:51:05,429 - DEBUG - Today is 2018-02-27
2018-02-27 11:51:05,429 - DEBUG - Day of the week 1
2018-02-27 11:51:05,429 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:51:05,429 - DEBUG - In Position is  0
2018-02-27 11:51:05,430 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:51:05,430 - DEBUG - curStopLossFlag is  0
2018-02-27 11:51:05,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:51:05,430 - DEBUG - Checking if Entry has been filled
2018-02-27 11:51:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:51:05,432 - DEBUG - EntryPend is 1
2018-02-27 11:51:05,433 - DEBUG - Try to Cancel Stop
2018-02-27 11:51:05,433 - DEBUG - Stop API ID 0
2018-02-27 11:51:05,433 - DEBUG - Profit API ID 0
2018-02-27 11:51:05,433 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:51:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:51:05,434 - DEBUG - Pos is 0
2018-02-27 11:51:05,434 - DEBUG - CurCount is 0
2018-02-27 11:51:05,434 - DEBUG - In Pos 0
2018-02-27 11:51:05,434 - DEBUG - Stop ID is 0
2018-02-27 11:51:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:51:05,436 - DEBUG - EntryPend is 1
2018-02-27 11:51:05,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:51:05,437 - DEBUG - Entry Date is 10
2018-02-27 11:51:05,437 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:51:05,437 - DEBUG - Order Profit ID is 235
2018-02-27 11:51:05,437 - DEBUG - Order Entry ID is 235
2018-02-27 11:51:05,438 - DEBUG - API ID is  0
2018-02-27 11:51:05,438 - DEBUG - Current Position is 0
2018-02-27 11:51:05,438 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:51:05,438 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:51:05,438 - DEBUG - Time is 11
2018-02-27 11:51:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 11:51:05,439 - DEBUG - Time is 51
2018-02-27 11:51:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 11:51:05,439 - DEBUG - Disconnected from IBController
2018-02-27 11:51:05,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 11:56:01,369 - DEBUG - ****************************************************
2018-02-27 11:56:01,370 - DEBUG - Current Time is 11:56AM
2018-02-27 11:56:01,370 - DEBUG - Starting Pos Mgmt H E
2018-02-27 11:56:01,370 - DEBUG - Connecting to database
2018-02-27 11:56:01,395 - DEBUG - Connected to database
2018-02-27 11:56:01,395 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:01,397 - DEBUG - Order Profit is 235
2018-02-27 11:56:01,397 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:01,398 - DEBUG - Stop ID is 0
2018-02-27 11:56:01,399 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:01,400 - DEBUG - Entry ID is 235
2018-02-27 11:56:01,400 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 11:56:01,402 - DEBUG - OCA ID is 1
2018-02-27 11:56:01,402 - DEBUG - Connecting to IBController
2018-02-27 11:56:02,406 - DEBUG - Connected to IBController
2018-02-27 11:56:02,406 - DEBUG - Position requested
2018-02-27 11:56:02,408 - DEBUG - Pos Mgmt -10
2018-02-27 11:56:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DDA0>, pos=-10, avgCost=15344.045>
2018-02-27 11:56:02,408 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 11:56:02,408 - DEBUG - ccy2 Currency with position is USD
2018-02-27 11:56:02,409 - DEBUG - Position is -10
2018-02-27 11:56:02,409 - DEBUG - Pos Mgmt -12987
2018-02-27 11:56:02,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 11:56:02,410 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 11:56:02,410 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 11:56:02,410 - DEBUG - Position is -12987
2018-02-27 11:56:03,406 - DEBUG - Open Orders requested
2018-02-27 11:56:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000201DE48>, order=<ib.ext.Order.Order object at 0x000000000201DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1128>>
2018-02-27 11:56:03,408 - DEBUG - Order OrderID 236
2018-02-27 11:56:03,409 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 11:56:03,409 - DEBUG - Order status PreSubmitted
2018-02-27 11:56:03,409 - DEBUG - Order Identification 236
2018-02-27 11:56:03,410 - DEBUG - Order Identification <class 'int'>
2018-02-27 11:56:03,410 - DEBUG - Profit ID from database is 235
2018-02-27 11:56:03,410 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 11:56:03,410 - DEBUG - Stop ID database is 0
2018-02-27 11:56:03,410 - DEBUG - Entry ID database is 235
2018-02-27 11:56:05,408 - DEBUG - Connecting to database
2018-02-27 11:56:05,415 - DEBUG - Connected to database
2018-02-27 11:56:05,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,417 - DEBUG - Stop loss value is 72.17
2018-02-27 11:56:05,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,419 - DEBUG - Stop loss value is 58.925
2018-02-27 11:56:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,420 - DEBUG - EntryPrice value is 69.625
2018-02-27 11:56:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,423 - DEBUG - Stop quantity 1
2018-02-27 11:56:05,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,425 - DEBUG - Direction is Short
2018-02-27 11:56:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,427 - DEBUG - Count is 0
2018-02-27 11:56:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 11:56:05,429 - DEBUG - Stop Loss Flag is 0
2018-02-27 11:56:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 11:56:05,430 - DEBUG - Max ID Order is (236,)
2018-02-27 11:56:05,431 - DEBUG - Today is 2018-02-27
2018-02-27 11:56:05,431 - DEBUG - Day of the week 1
2018-02-27 11:56:05,432 - DEBUG - Yesterday is 02/26/2018
2018-02-27 11:56:05,432 - DEBUG - In Position is  0
2018-02-27 11:56:05,432 - DEBUG - In Position is  <class 'int'>
2018-02-27 11:56:05,432 - DEBUG - curStopLossFlag is  0
2018-02-27 11:56:05,433 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 11:56:05,433 - DEBUG - Checking if Entry has been filled
2018-02-27 11:56:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:56:05,434 - DEBUG - EntryPend is 1
2018-02-27 11:56:05,435 - DEBUG - Try to Cancel Stop
2018-02-27 11:56:05,435 - DEBUG - Stop API ID 0
2018-02-27 11:56:05,435 - DEBUG - Profit API ID 0
2018-02-27 11:56:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-27 11:56:05,436 - DEBUG - Profit API ID <class 'int'>
2018-02-27 11:56:05,436 - DEBUG - Pos is 0
2018-02-27 11:56:05,436 - DEBUG - CurCount is 0
2018-02-27 11:56:05,436 - DEBUG - In Pos 0
2018-02-27 11:56:05,437 - DEBUG - Stop ID is 0
2018-02-27 11:56:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 11:56:05,439 - DEBUG - EntryPend is 1
2018-02-27 11:56:05,439 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 11:56:05,439 - DEBUG - Entry Date is 10
2018-02-27 11:56:05,439 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 11:56:05,440 - DEBUG - Order Profit ID is 235
2018-02-27 11:56:05,440 - DEBUG - Order Entry ID is 235
2018-02-27 11:56:05,440 - DEBUG - API ID is  0
2018-02-27 11:56:05,440 - DEBUG - Current Position is 0
2018-02-27 11:56:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-27 11:56:05,441 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 11:56:05,441 - DEBUG - Time is 11
2018-02-27 11:56:05,441 - DEBUG - Time is <class 'int'>
2018-02-27 11:56:05,441 - DEBUG - Time is 56
2018-02-27 11:56:05,442 - DEBUG - Time is <class 'int'>
2018-02-27 11:56:05,442 - DEBUG - Disconnected from IBController
2018-02-27 11:56:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:01:01,376 - DEBUG - ****************************************************
2018-02-27 12:01:01,377 - DEBUG - Current Time is 12:01PM
2018-02-27 12:01:01,377 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:01:01,378 - DEBUG - Connecting to database
2018-02-27 12:01:01,418 - DEBUG - Connected to database
2018-02-27 12:01:01,420 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:01,422 - DEBUG - Order Profit is 235
2018-02-27 12:01:01,423 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:01,424 - DEBUG - Stop ID is 0
2018-02-27 12:01:01,424 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:01,426 - DEBUG - Entry ID is 235
2018-02-27 12:01:01,426 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:01:01,428 - DEBUG - OCA ID is 1
2018-02-27 12:01:01,428 - DEBUG - Connecting to IBController
2018-02-27 12:01:02,441 - DEBUG - Connected to IBController
2018-02-27 12:01:02,441 - DEBUG - Position requested
2018-02-27 12:01:02,443 - DEBUG - Pos Mgmt -10
2018-02-27 12:01:02,443 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDDD8>, pos=-10, avgCost=15344.045>
2018-02-27 12:01:02,443 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:01:02,444 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:01:02,444 - DEBUG - Position is -10
2018-02-27 12:01:02,444 - DEBUG - Pos Mgmt -12987
2018-02-27 12:01:02,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:01:02,445 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:01:02,445 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:01:02,445 - DEBUG - Position is -12987
2018-02-27 12:01:03,442 - DEBUG - Open Orders requested
2018-02-27 12:01:03,444 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020BDE48>, order=<ib.ext.Order.Order object at 0x00000000020BDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002152128>>
2018-02-27 12:01:03,444 - DEBUG - Order OrderID 236
2018-02-27 12:01:03,445 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:01:03,445 - DEBUG - Order status PreSubmitted
2018-02-27 12:01:03,446 - DEBUG - Order Identification 236
2018-02-27 12:01:03,446 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:01:03,446 - DEBUG - Profit ID from database is 235
2018-02-27 12:01:03,446 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:01:03,447 - DEBUG - Stop ID database is 0
2018-02-27 12:01:03,447 - DEBUG - Entry ID database is 235
2018-02-27 12:01:05,444 - DEBUG - Connecting to database
2018-02-27 12:01:05,452 - DEBUG - Connected to database
2018-02-27 12:01:05,454 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,455 - DEBUG - Stop loss value is 72.17
2018-02-27 12:01:05,457 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,461 - DEBUG - Stop loss value is 58.925
2018-02-27 12:01:05,467 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,468 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:01:05,470 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,470 - DEBUG - Stop quantity 1
2018-02-27 12:01:05,471 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,472 - DEBUG - Direction is Short
2018-02-27 12:01:05,475 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,476 - DEBUG - Count is 0
2018-02-27 12:01:05,477 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:01:05,477 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:01:05,479 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:01:05,480 - DEBUG - Max ID Order is (236,)
2018-02-27 12:01:05,482 - DEBUG - Today is 2018-02-27
2018-02-27 12:01:05,486 - DEBUG - Day of the week 1
2018-02-27 12:01:05,487 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:01:05,487 - DEBUG - In Position is  0
2018-02-27 12:01:05,487 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:01:05,487 - DEBUG - curStopLossFlag is  0
2018-02-27 12:01:05,487 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:01:05,488 - DEBUG - Checking if Entry has been filled
2018-02-27 12:01:05,488 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:01:05,491 - DEBUG - EntryPend is 1
2018-02-27 12:01:05,491 - DEBUG - Try to Cancel Stop
2018-02-27 12:01:05,492 - DEBUG - Stop API ID 0
2018-02-27 12:01:05,492 - DEBUG - Profit API ID 0
2018-02-27 12:01:05,493 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:01:05,494 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:01:05,494 - DEBUG - Pos is 0
2018-02-27 12:01:05,495 - DEBUG - CurCount is 0
2018-02-27 12:01:05,495 - DEBUG - In Pos 0
2018-02-27 12:01:05,495 - DEBUG - Stop ID is 0
2018-02-27 12:01:05,495 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:01:05,497 - DEBUG - EntryPend is 1
2018-02-27 12:01:05,498 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:01:05,498 - DEBUG - Entry Date is 10
2018-02-27 12:01:05,498 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:01:05,498 - DEBUG - Order Profit ID is 235
2018-02-27 12:01:05,499 - DEBUG - Order Entry ID is 235
2018-02-27 12:01:05,499 - DEBUG - API ID is  0
2018-02-27 12:01:05,499 - DEBUG - Current Position is 0
2018-02-27 12:01:05,499 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:01:05,500 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:01:05,500 - DEBUG - Time is 12
2018-02-27 12:01:05,500 - DEBUG - Time is <class 'int'>
2018-02-27 12:01:05,500 - DEBUG - Time is 1
2018-02-27 12:01:05,501 - DEBUG - Time is <class 'int'>
2018-02-27 12:01:05,501 - DEBUG - Disconnected from IBController
2018-02-27 12:01:05,501 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:06:01,362 - DEBUG - ****************************************************
2018-02-27 12:06:01,363 - DEBUG - Current Time is 12:06PM
2018-02-27 12:06:01,363 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:06:01,363 - DEBUG - Connecting to database
2018-02-27 12:06:01,401 - DEBUG - Connected to database
2018-02-27 12:06:01,401 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:01,403 - DEBUG - Order Profit is 235
2018-02-27 12:06:01,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:01,405 - DEBUG - Stop ID is 0
2018-02-27 12:06:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:01,406 - DEBUG - Entry ID is 235
2018-02-27 12:06:01,406 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:06:01,408 - DEBUG - OCA ID is 1
2018-02-27 12:06:01,408 - DEBUG - Connecting to IBController
2018-02-27 12:06:02,414 - DEBUG - Connected to IBController
2018-02-27 12:06:02,414 - DEBUG - Position requested
2018-02-27 12:06:02,416 - DEBUG - Pos Mgmt -10
2018-02-27 12:06:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CD30>, pos=-10, avgCost=15344.045>
2018-02-27 12:06:02,416 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:06:02,417 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:06:02,417 - DEBUG - Position is -10
2018-02-27 12:06:02,417 - DEBUG - Pos Mgmt -12987
2018-02-27 12:06:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:06:02,418 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:06:02,418 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:06:02,418 - DEBUG - Position is -12987
2018-02-27 12:06:03,415 - DEBUG - Open Orders requested
2018-02-27 12:06:03,417 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000204CD30>, order=<ib.ext.Order.Order object at 0x000000000204CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-27 12:06:03,418 - DEBUG - Order OrderID 236
2018-02-27 12:06:03,418 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:06:03,418 - DEBUG - Order status PreSubmitted
2018-02-27 12:06:03,419 - DEBUG - Order Identification 236
2018-02-27 12:06:03,419 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:06:03,419 - DEBUG - Profit ID from database is 235
2018-02-27 12:06:03,419 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:06:03,420 - DEBUG - Stop ID database is 0
2018-02-27 12:06:03,420 - DEBUG - Entry ID database is 235
2018-02-27 12:06:05,415 - DEBUG - Connecting to database
2018-02-27 12:06:05,422 - DEBUG - Connected to database
2018-02-27 12:06:05,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,424 - DEBUG - Stop loss value is 72.17
2018-02-27 12:06:05,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,425 - DEBUG - Stop loss value is 58.925
2018-02-27 12:06:05,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,427 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:06:05,429 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,429 - DEBUG - Stop quantity 1
2018-02-27 12:06:05,430 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,431 - DEBUG - Direction is Short
2018-02-27 12:06:05,432 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,432 - DEBUG - Count is 0
2018-02-27 12:06:05,434 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:06:05,434 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:06:05,435 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:06:05,435 - DEBUG - Max ID Order is (236,)
2018-02-27 12:06:05,436 - DEBUG - Today is 2018-02-27
2018-02-27 12:06:05,436 - DEBUG - Day of the week 1
2018-02-27 12:06:05,436 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:06:05,437 - DEBUG - In Position is  0
2018-02-27 12:06:05,437 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:06:05,437 - DEBUG - curStopLossFlag is  0
2018-02-27 12:06:05,437 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:06:05,437 - DEBUG - Checking if Entry has been filled
2018-02-27 12:06:05,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:06:05,439 - DEBUG - EntryPend is 1
2018-02-27 12:06:05,439 - DEBUG - Try to Cancel Stop
2018-02-27 12:06:05,439 - DEBUG - Stop API ID 0
2018-02-27 12:06:05,439 - DEBUG - Profit API ID 0
2018-02-27 12:06:05,440 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:06:05,440 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:06:05,440 - DEBUG - Pos is 0
2018-02-27 12:06:05,440 - DEBUG - CurCount is 0
2018-02-27 12:06:05,440 - DEBUG - In Pos 0
2018-02-27 12:06:05,441 - DEBUG - Stop ID is 0
2018-02-27 12:06:05,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:06:05,442 - DEBUG - EntryPend is 1
2018-02-27 12:06:05,442 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:06:05,442 - DEBUG - Entry Date is 10
2018-02-27 12:06:05,443 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:06:05,443 - DEBUG - Order Profit ID is 235
2018-02-27 12:06:05,443 - DEBUG - Order Entry ID is 235
2018-02-27 12:06:05,443 - DEBUG - API ID is  0
2018-02-27 12:06:05,443 - DEBUG - Current Position is 0
2018-02-27 12:06:05,444 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:06:05,444 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:06:05,444 - DEBUG - Time is 12
2018-02-27 12:06:05,444 - DEBUG - Time is <class 'int'>
2018-02-27 12:06:05,444 - DEBUG - Time is 6
2018-02-27 12:06:05,445 - DEBUG - Time is <class 'int'>
2018-02-27 12:06:05,445 - DEBUG - Disconnected from IBController
2018-02-27 12:06:05,445 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:11:01,360 - DEBUG - ****************************************************
2018-02-27 12:11:01,360 - DEBUG - Current Time is 12:11PM
2018-02-27 12:11:01,361 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:11:01,361 - DEBUG - Connecting to database
2018-02-27 12:11:01,386 - DEBUG - Connected to database
2018-02-27 12:11:01,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:01,388 - DEBUG - Order Profit is 235
2018-02-27 12:11:01,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:01,390 - DEBUG - Stop ID is 0
2018-02-27 12:11:01,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:01,393 - DEBUG - Entry ID is 235
2018-02-27 12:11:01,393 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:11:01,394 - DEBUG - OCA ID is 1
2018-02-27 12:11:01,395 - DEBUG - Connecting to IBController
2018-02-27 12:11:02,404 - DEBUG - Connected to IBController
2018-02-27 12:11:02,404 - DEBUG - Position requested
2018-02-27 12:11:02,405 - DEBUG - Pos Mgmt -10
2018-02-27 12:11:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DB00>, pos=-10, avgCost=15344.045>
2018-02-27 12:11:02,406 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:11:02,407 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:11:02,407 - DEBUG - Position is -10
2018-02-27 12:11:02,407 - DEBUG - Pos Mgmt -12987
2018-02-27 12:11:02,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:11:02,408 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:11:02,408 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:11:02,408 - DEBUG - Position is -12987
2018-02-27 12:11:03,406 - DEBUG - Open Orders requested
2018-02-27 12:11:03,408 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209DE48>, order=<ib.ext.Order.Order object at 0x000000000209DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-27 12:11:03,408 - DEBUG - Order OrderID 236
2018-02-27 12:11:03,409 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:11:03,409 - DEBUG - Order status PreSubmitted
2018-02-27 12:11:03,410 - DEBUG - Order Identification 236
2018-02-27 12:11:03,412 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:11:03,412 - DEBUG - Profit ID from database is 235
2018-02-27 12:11:03,412 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:11:03,413 - DEBUG - Stop ID database is 0
2018-02-27 12:11:03,413 - DEBUG - Entry ID database is 235
2018-02-27 12:11:05,408 - DEBUG - Connecting to database
2018-02-27 12:11:05,415 - DEBUG - Connected to database
2018-02-27 12:11:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,417 - DEBUG - Stop loss value is 72.17
2018-02-27 12:11:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,419 - DEBUG - Stop loss value is 58.925
2018-02-27 12:11:05,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,421 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:11:05,422 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,422 - DEBUG - Stop quantity 1
2018-02-27 12:11:05,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,424 - DEBUG - Direction is Short
2018-02-27 12:11:05,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,425 - DEBUG - Count is 0
2018-02-27 12:11:05,427 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:11:05,427 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:11:05,429 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:11:05,429 - DEBUG - Max ID Order is (236,)
2018-02-27 12:11:05,429 - DEBUG - Today is 2018-02-27
2018-02-27 12:11:05,430 - DEBUG - Day of the week 1
2018-02-27 12:11:05,430 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:11:05,430 - DEBUG - In Position is  0
2018-02-27 12:11:05,431 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:11:05,431 - DEBUG - curStopLossFlag is  0
2018-02-27 12:11:05,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:11:05,431 - DEBUG - Checking if Entry has been filled
2018-02-27 12:11:05,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:11:05,433 - DEBUG - EntryPend is 1
2018-02-27 12:11:05,433 - DEBUG - Try to Cancel Stop
2018-02-27 12:11:05,433 - DEBUG - Stop API ID 0
2018-02-27 12:11:05,434 - DEBUG - Profit API ID 0
2018-02-27 12:11:05,434 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:11:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:11:05,434 - DEBUG - Pos is 0
2018-02-27 12:11:05,434 - DEBUG - CurCount is 0
2018-02-27 12:11:05,435 - DEBUG - In Pos 0
2018-02-27 12:11:05,435 - DEBUG - Stop ID is 0
2018-02-27 12:11:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:11:05,437 - DEBUG - EntryPend is 1
2018-02-27 12:11:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:11:05,437 - DEBUG - Entry Date is 10
2018-02-27 12:11:05,438 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:11:05,438 - DEBUG - Order Profit ID is 235
2018-02-27 12:11:05,438 - DEBUG - Order Entry ID is 235
2018-02-27 12:11:05,438 - DEBUG - API ID is  0
2018-02-27 12:11:05,439 - DEBUG - Current Position is 0
2018-02-27 12:11:05,439 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:11:05,439 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:11:05,439 - DEBUG - Time is 12
2018-02-27 12:11:05,439 - DEBUG - Time is <class 'int'>
2018-02-27 12:11:05,440 - DEBUG - Time is 11
2018-02-27 12:11:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 12:11:05,440 - DEBUG - Disconnected from IBController
2018-02-27 12:11:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:16:01,382 - DEBUG - ****************************************************
2018-02-27 12:16:01,383 - DEBUG - Current Time is 12:16PM
2018-02-27 12:16:01,383 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:16:01,383 - DEBUG - Connecting to database
2018-02-27 12:16:01,437 - DEBUG - Connected to database
2018-02-27 12:16:01,438 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:01,439 - DEBUG - Order Profit is 235
2018-02-27 12:16:01,440 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:01,441 - DEBUG - Stop ID is 0
2018-02-27 12:16:01,441 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:01,442 - DEBUG - Entry ID is 235
2018-02-27 12:16:01,443 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:16:01,444 - DEBUG - OCA ID is 1
2018-02-27 12:16:01,444 - DEBUG - Connecting to IBController
2018-02-27 12:16:02,451 - DEBUG - Connected to IBController
2018-02-27 12:16:02,451 - DEBUG - Position requested
2018-02-27 12:16:02,453 - DEBUG - Pos Mgmt -10
2018-02-27 12:16:02,453 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, pos=-10, avgCost=15344.045>
2018-02-27 12:16:02,453 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:16:02,454 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:16:02,454 - DEBUG - Position is -10
2018-02-27 12:16:02,454 - DEBUG - Pos Mgmt -12987
2018-02-27 12:16:02,455 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DCC0>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:16:02,455 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:16:02,455 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:16:02,455 - DEBUG - Position is -12987
2018-02-27 12:16:03,453 - DEBUG - Open Orders requested
2018-02-27 12:16:03,455 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000204DB00>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20B8>>
2018-02-27 12:16:03,456 - DEBUG - Order OrderID 236
2018-02-27 12:16:03,456 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:16:03,456 - DEBUG - Order status PreSubmitted
2018-02-27 12:16:03,457 - DEBUG - Order Identification 236
2018-02-27 12:16:03,457 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:16:03,457 - DEBUG - Profit ID from database is 235
2018-02-27 12:16:03,457 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:16:03,458 - DEBUG - Stop ID database is 0
2018-02-27 12:16:03,458 - DEBUG - Entry ID database is 235
2018-02-27 12:16:05,453 - DEBUG - Connecting to database
2018-02-27 12:16:05,460 - DEBUG - Connected to database
2018-02-27 12:16:05,462 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,462 - DEBUG - Stop loss value is 72.17
2018-02-27 12:16:05,464 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,464 - DEBUG - Stop loss value is 58.925
2018-02-27 12:16:05,466 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,466 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:16:05,468 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,468 - DEBUG - Stop quantity 1
2018-02-27 12:16:05,470 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,470 - DEBUG - Direction is Short
2018-02-27 12:16:05,471 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,472 - DEBUG - Count is 0
2018-02-27 12:16:05,474 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:16:05,474 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:16:05,476 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:16:05,476 - DEBUG - Max ID Order is (236,)
2018-02-27 12:16:05,477 - DEBUG - Today is 2018-02-27
2018-02-27 12:16:05,477 - DEBUG - Day of the week 1
2018-02-27 12:16:05,477 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:16:05,477 - DEBUG - In Position is  0
2018-02-27 12:16:05,478 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:16:05,478 - DEBUG - curStopLossFlag is  0
2018-02-27 12:16:05,478 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:16:05,478 - DEBUG - Checking if Entry has been filled
2018-02-27 12:16:05,479 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:16:05,480 - DEBUG - EntryPend is 1
2018-02-27 12:16:05,480 - DEBUG - Try to Cancel Stop
2018-02-27 12:16:05,480 - DEBUG - Stop API ID 0
2018-02-27 12:16:05,481 - DEBUG - Profit API ID 0
2018-02-27 12:16:05,481 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:16:05,481 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:16:05,481 - DEBUG - Pos is 0
2018-02-27 12:16:05,482 - DEBUG - CurCount is 0
2018-02-27 12:16:05,482 - DEBUG - In Pos 0
2018-02-27 12:16:05,482 - DEBUG - Stop ID is 0
2018-02-27 12:16:05,482 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:16:05,484 - DEBUG - EntryPend is 1
2018-02-27 12:16:05,484 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:16:05,484 - DEBUG - Entry Date is 10
2018-02-27 12:16:05,484 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:16:05,485 - DEBUG - Order Profit ID is 235
2018-02-27 12:16:05,485 - DEBUG - Order Entry ID is 235
2018-02-27 12:16:05,485 - DEBUG - API ID is  0
2018-02-27 12:16:05,485 - DEBUG - Current Position is 0
2018-02-27 12:16:05,485 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:16:05,486 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:16:05,486 - DEBUG - Time is 12
2018-02-27 12:16:05,486 - DEBUG - Time is <class 'int'>
2018-02-27 12:16:05,486 - DEBUG - Time is 16
2018-02-27 12:16:05,487 - DEBUG - Time is <class 'int'>
2018-02-27 12:16:05,487 - DEBUG - Disconnected from IBController
2018-02-27 12:16:05,487 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:21:01,362 - DEBUG - ****************************************************
2018-02-27 12:21:01,362 - DEBUG - Current Time is 12:21PM
2018-02-27 12:21:01,363 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:21:01,363 - DEBUG - Connecting to database
2018-02-27 12:21:01,383 - DEBUG - Connected to database
2018-02-27 12:21:01,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:01,385 - DEBUG - Order Profit is 235
2018-02-27 12:21:01,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:01,387 - DEBUG - Stop ID is 0
2018-02-27 12:21:01,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:01,388 - DEBUG - Entry ID is 235
2018-02-27 12:21:01,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:21:01,390 - DEBUG - OCA ID is 1
2018-02-27 12:21:01,391 - DEBUG - Connecting to IBController
2018-02-27 12:21:02,398 - DEBUG - Connected to IBController
2018-02-27 12:21:02,398 - DEBUG - Position requested
2018-02-27 12:21:02,402 - DEBUG - Pos Mgmt -10
2018-02-27 12:21:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001BDDDD8>, pos=-10, avgCost=15344.045>
2018-02-27 12:21:02,403 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:21:02,403 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:21:02,403 - DEBUG - Position is -10
2018-02-27 12:21:02,404 - DEBUG - Pos Mgmt -12987
2018-02-27 12:21:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001BDDC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:21:02,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:21:02,405 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:21:02,405 - DEBUG - Position is -12987
2018-02-27 12:21:03,399 - DEBUG - Open Orders requested
2018-02-27 12:21:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x0000000001BDDE48>, order=<ib.ext.Order.Order object at 0x0000000001BDDDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121128>>
2018-02-27 12:21:03,402 - DEBUG - Order OrderID 236
2018-02-27 12:21:03,402 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:21:03,402 - DEBUG - Order status PreSubmitted
2018-02-27 12:21:03,403 - DEBUG - Order Identification 236
2018-02-27 12:21:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:21:03,403 - DEBUG - Profit ID from database is 235
2018-02-27 12:21:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:21:03,404 - DEBUG - Stop ID database is 0
2018-02-27 12:21:03,404 - DEBUG - Entry ID database is 235
2018-02-27 12:21:05,401 - DEBUG - Connecting to database
2018-02-27 12:21:05,408 - DEBUG - Connected to database
2018-02-27 12:21:05,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,410 - DEBUG - Stop loss value is 72.17
2018-02-27 12:21:05,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,412 - DEBUG - Stop loss value is 58.925
2018-02-27 12:21:05,413 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,414 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:21:05,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,415 - DEBUG - Stop quantity 1
2018-02-27 12:21:05,417 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,417 - DEBUG - Direction is Short
2018-02-27 12:21:05,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,419 - DEBUG - Count is 0
2018-02-27 12:21:05,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:21:05,420 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:21:05,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:21:05,422 - DEBUG - Max ID Order is (236,)
2018-02-27 12:21:05,423 - DEBUG - Today is 2018-02-27
2018-02-27 12:21:05,423 - DEBUG - Day of the week 1
2018-02-27 12:21:05,423 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:21:05,423 - DEBUG - In Position is  0
2018-02-27 12:21:05,424 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:21:05,424 - DEBUG - curStopLossFlag is  0
2018-02-27 12:21:05,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:21:05,424 - DEBUG - Checking if Entry has been filled
2018-02-27 12:21:05,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:21:05,432 - DEBUG - EntryPend is 1
2018-02-27 12:21:05,432 - DEBUG - Try to Cancel Stop
2018-02-27 12:21:05,433 - DEBUG - Stop API ID 0
2018-02-27 12:21:05,433 - DEBUG - Profit API ID 0
2018-02-27 12:21:05,433 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:21:05,434 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:21:05,434 - DEBUG - Pos is 0
2018-02-27 12:21:05,434 - DEBUG - CurCount is 0
2018-02-27 12:21:05,434 - DEBUG - In Pos 0
2018-02-27 12:21:05,434 - DEBUG - Stop ID is 0
2018-02-27 12:21:05,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:21:05,437 - DEBUG - EntryPend is 1
2018-02-27 12:21:05,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:21:05,438 - DEBUG - Entry Date is 10
2018-02-27 12:21:05,438 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:21:05,438 - DEBUG - Order Profit ID is 235
2018-02-27 12:21:05,438 - DEBUG - Order Entry ID is 235
2018-02-27 12:21:05,439 - DEBUG - API ID is  0
2018-02-27 12:21:05,439 - DEBUG - Current Position is 0
2018-02-27 12:21:05,439 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:21:05,439 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:21:05,439 - DEBUG - Time is 12
2018-02-27 12:21:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 12:21:05,440 - DEBUG - Time is 21
2018-02-27 12:21:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 12:21:05,440 - DEBUG - Disconnected from IBController
2018-02-27 12:21:05,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:26:01,381 - DEBUG - ****************************************************
2018-02-27 12:26:01,381 - DEBUG - Current Time is 12:26PM
2018-02-27 12:26:01,382 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:26:01,382 - DEBUG - Connecting to database
2018-02-27 12:26:01,430 - DEBUG - Connected to database
2018-02-27 12:26:01,430 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:01,432 - DEBUG - Order Profit is 235
2018-02-27 12:26:01,432 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:01,433 - DEBUG - Stop ID is 0
2018-02-27 12:26:01,434 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:01,435 - DEBUG - Entry ID is 235
2018-02-27 12:26:01,435 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:26:01,436 - DEBUG - OCA ID is 1
2018-02-27 12:26:01,437 - DEBUG - Connecting to IBController
2018-02-27 12:26:02,443 - DEBUG - Connected to IBController
2018-02-27 12:26:02,443 - DEBUG - Position requested
2018-02-27 12:26:02,444 - DEBUG - Pos Mgmt -10
2018-02-27 12:26:02,445 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, pos=-10, avgCost=15344.045>
2018-02-27 12:26:02,445 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:26:02,446 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:26:02,446 - DEBUG - Position is -10
2018-02-27 12:26:02,446 - DEBUG - Pos Mgmt -12987
2018-02-27 12:26:02,446 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:26:02,447 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:26:02,447 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:26:02,447 - DEBUG - Position is -12987
2018-02-27 12:26:03,444 - DEBUG - Open Orders requested
2018-02-27 12:26:03,446 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203CE48>, order=<ib.ext.Order.Order object at 0x000000000203CCF8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1128>>
2018-02-27 12:26:03,446 - DEBUG - Order OrderID 236
2018-02-27 12:26:03,447 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:26:03,447 - DEBUG - Order status PreSubmitted
2018-02-27 12:26:03,447 - DEBUG - Order Identification 236
2018-02-27 12:26:03,448 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:26:03,448 - DEBUG - Profit ID from database is 235
2018-02-27 12:26:03,448 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:26:03,449 - DEBUG - Stop ID database is 0
2018-02-27 12:26:03,449 - DEBUG - Entry ID database is 235
2018-02-27 12:26:05,446 - DEBUG - Connecting to database
2018-02-27 12:26:05,453 - DEBUG - Connected to database
2018-02-27 12:26:05,455 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,455 - DEBUG - Stop loss value is 72.17
2018-02-27 12:26:05,457 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,457 - DEBUG - Stop loss value is 58.925
2018-02-27 12:26:05,458 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,459 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:26:05,460 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,460 - DEBUG - Stop quantity 1
2018-02-27 12:26:05,462 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,462 - DEBUG - Direction is Short
2018-02-27 12:26:05,463 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,464 - DEBUG - Count is 0
2018-02-27 12:26:05,465 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:26:05,465 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:26:05,467 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:26:05,467 - DEBUG - Max ID Order is (236,)
2018-02-27 12:26:05,467 - DEBUG - Today is 2018-02-27
2018-02-27 12:26:05,468 - DEBUG - Day of the week 1
2018-02-27 12:26:05,468 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:26:05,468 - DEBUG - In Position is  0
2018-02-27 12:26:05,469 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:26:05,469 - DEBUG - curStopLossFlag is  0
2018-02-27 12:26:05,469 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:26:05,469 - DEBUG - Checking if Entry has been filled
2018-02-27 12:26:05,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:26:05,471 - DEBUG - EntryPend is 1
2018-02-27 12:26:05,471 - DEBUG - Try to Cancel Stop
2018-02-27 12:26:05,471 - DEBUG - Stop API ID 0
2018-02-27 12:26:05,472 - DEBUG - Profit API ID 0
2018-02-27 12:26:05,472 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:26:05,472 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:26:05,472 - DEBUG - Pos is 0
2018-02-27 12:26:05,473 - DEBUG - CurCount is 0
2018-02-27 12:26:05,473 - DEBUG - In Pos 0
2018-02-27 12:26:05,473 - DEBUG - Stop ID is 0
2018-02-27 12:26:05,473 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:26:05,475 - DEBUG - EntryPend is 1
2018-02-27 12:26:05,475 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:26:05,475 - DEBUG - Entry Date is 10
2018-02-27 12:26:05,475 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:26:05,476 - DEBUG - Order Profit ID is 235
2018-02-27 12:26:05,476 - DEBUG - Order Entry ID is 235
2018-02-27 12:26:05,476 - DEBUG - API ID is  0
2018-02-27 12:26:05,476 - DEBUG - Current Position is 0
2018-02-27 12:26:05,476 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:26:05,477 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:26:05,477 - DEBUG - Time is 12
2018-02-27 12:26:05,477 - DEBUG - Time is <class 'int'>
2018-02-27 12:26:05,477 - DEBUG - Time is 26
2018-02-27 12:26:05,478 - DEBUG - Time is <class 'int'>
2018-02-27 12:26:05,478 - DEBUG - Disconnected from IBController
2018-02-27 12:26:05,479 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:31:01,363 - DEBUG - ****************************************************
2018-02-27 12:31:01,364 - DEBUG - Current Time is 12:31PM
2018-02-27 12:31:01,364 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:31:01,364 - DEBUG - Connecting to database
2018-02-27 12:31:01,389 - DEBUG - Connected to database
2018-02-27 12:31:01,389 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:01,391 - DEBUG - Order Profit is 235
2018-02-27 12:31:01,391 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:01,393 - DEBUG - Stop ID is 0
2018-02-27 12:31:01,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:01,395 - DEBUG - Entry ID is 235
2018-02-27 12:31:01,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:31:01,396 - DEBUG - OCA ID is 1
2018-02-27 12:31:01,397 - DEBUG - Connecting to IBController
2018-02-27 12:31:02,402 - DEBUG - Connected to IBController
2018-02-27 12:31:02,402 - DEBUG - Position requested
2018-02-27 12:31:02,404 - DEBUG - Pos Mgmt -10
2018-02-27 12:31:02,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CCF8>, pos=-10, avgCost=15344.045>
2018-02-27 12:31:02,404 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:31:02,405 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:31:02,405 - DEBUG - Position is -10
2018-02-27 12:31:02,405 - DEBUG - Pos Mgmt -12987
2018-02-27 12:31:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209CBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:31:02,406 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:31:02,406 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:31:02,406 - DEBUG - Position is -12987
2018-02-27 12:31:03,403 - DEBUG - Open Orders requested
2018-02-27 12:31:03,405 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000209CE48>, order=<ib.ext.Order.Order object at 0x000000000209CE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002131128>>
2018-02-27 12:31:03,406 - DEBUG - Order OrderID 236
2018-02-27 12:31:03,406 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:31:03,406 - DEBUG - Order status PreSubmitted
2018-02-27 12:31:03,407 - DEBUG - Order Identification 236
2018-02-27 12:31:03,407 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:31:03,407 - DEBUG - Profit ID from database is 235
2018-02-27 12:31:03,408 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:31:03,408 - DEBUG - Stop ID database is 0
2018-02-27 12:31:03,408 - DEBUG - Entry ID database is 235
2018-02-27 12:31:05,405 - DEBUG - Connecting to database
2018-02-27 12:31:05,415 - DEBUG - Connected to database
2018-02-27 12:31:05,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,417 - DEBUG - Stop loss value is 72.17
2018-02-27 12:31:05,419 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,420 - DEBUG - Stop loss value is 58.925
2018-02-27 12:31:05,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,422 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:31:05,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,423 - DEBUG - Stop quantity 1
2018-02-27 12:31:05,425 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,425 - DEBUG - Direction is Short
2018-02-27 12:31:05,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,427 - DEBUG - Count is 0
2018-02-27 12:31:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:31:05,429 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:31:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:31:05,430 - DEBUG - Max ID Order is (236,)
2018-02-27 12:31:05,431 - DEBUG - Today is 2018-02-27
2018-02-27 12:31:05,431 - DEBUG - Day of the week 1
2018-02-27 12:31:05,432 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:31:05,432 - DEBUG - In Position is  0
2018-02-27 12:31:05,432 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:31:05,432 - DEBUG - curStopLossFlag is  0
2018-02-27 12:31:05,433 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:31:05,433 - DEBUG - Checking if Entry has been filled
2018-02-27 12:31:05,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:31:05,435 - DEBUG - EntryPend is 1
2018-02-27 12:31:05,435 - DEBUG - Try to Cancel Stop
2018-02-27 12:31:05,435 - DEBUG - Stop API ID 0
2018-02-27 12:31:05,435 - DEBUG - Profit API ID 0
2018-02-27 12:31:05,436 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:31:05,436 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:31:05,436 - DEBUG - Pos is 0
2018-02-27 12:31:05,436 - DEBUG - CurCount is 0
2018-02-27 12:31:05,437 - DEBUG - In Pos 0
2018-02-27 12:31:05,437 - DEBUG - Stop ID is 0
2018-02-27 12:31:05,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:31:05,439 - DEBUG - EntryPend is 1
2018-02-27 12:31:05,439 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:31:05,439 - DEBUG - Entry Date is 10
2018-02-27 12:31:05,439 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:31:05,439 - DEBUG - Order Profit ID is 235
2018-02-27 12:31:05,440 - DEBUG - Order Entry ID is 235
2018-02-27 12:31:05,440 - DEBUG - API ID is  0
2018-02-27 12:31:05,440 - DEBUG - Current Position is 0
2018-02-27 12:31:05,440 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:31:05,441 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:31:05,441 - DEBUG - Time is 12
2018-02-27 12:31:05,441 - DEBUG - Time is <class 'int'>
2018-02-27 12:31:05,441 - DEBUG - Time is 31
2018-02-27 12:31:05,442 - DEBUG - Time is <class 'int'>
2018-02-27 12:31:05,442 - DEBUG - Disconnected from IBController
2018-02-27 12:31:05,442 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:36:01,361 - DEBUG - ****************************************************
2018-02-27 12:36:01,362 - DEBUG - Current Time is 12:36PM
2018-02-27 12:36:01,362 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:36:01,362 - DEBUG - Connecting to database
2018-02-27 12:36:01,388 - DEBUG - Connected to database
2018-02-27 12:36:01,388 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:01,390 - DEBUG - Order Profit is 235
2018-02-27 12:36:01,390 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:01,392 - DEBUG - Stop ID is 0
2018-02-27 12:36:01,392 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:01,393 - DEBUG - Entry ID is 235
2018-02-27 12:36:01,394 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:36:01,396 - DEBUG - OCA ID is 1
2018-02-27 12:36:01,396 - DEBUG - Connecting to IBController
2018-02-27 12:36:02,403 - DEBUG - Connected to IBController
2018-02-27 12:36:02,403 - DEBUG - Position requested
2018-02-27 12:36:02,404 - DEBUG - Pos Mgmt -10
2018-02-27 12:36:02,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-10, avgCost=15344.045>
2018-02-27 12:36:02,405 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:36:02,406 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:36:02,406 - DEBUG - Position is -10
2018-02-27 12:36:02,406 - DEBUG - Pos Mgmt -12987
2018-02-27 12:36:02,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:36:02,407 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:36:02,407 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:36:02,407 - DEBUG - Position is -12987
2018-02-27 12:36:03,405 - DEBUG - Open Orders requested
2018-02-27 12:36:03,407 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002102128>>
2018-02-27 12:36:03,407 - DEBUG - Order OrderID 236
2018-02-27 12:36:03,408 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:36:03,408 - DEBUG - Order status PreSubmitted
2018-02-27 12:36:03,409 - DEBUG - Order Identification 236
2018-02-27 12:36:03,409 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:36:03,409 - DEBUG - Profit ID from database is 235
2018-02-27 12:36:03,409 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:36:03,410 - DEBUG - Stop ID database is 0
2018-02-27 12:36:03,410 - DEBUG - Entry ID database is 235
2018-02-27 12:36:05,407 - DEBUG - Connecting to database
2018-02-27 12:36:05,414 - DEBUG - Connected to database
2018-02-27 12:36:05,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,416 - DEBUG - Stop loss value is 72.17
2018-02-27 12:36:05,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,418 - DEBUG - Stop loss value is 58.925
2018-02-27 12:36:05,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,420 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:36:05,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,421 - DEBUG - Stop quantity 1
2018-02-27 12:36:05,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,425 - DEBUG - Direction is Short
2018-02-27 12:36:05,426 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,426 - DEBUG - Count is 0
2018-02-27 12:36:05,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:36:05,428 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:36:05,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:36:05,430 - DEBUG - Max ID Order is (236,)
2018-02-27 12:36:05,430 - DEBUG - Today is 2018-02-27
2018-02-27 12:36:05,431 - DEBUG - Day of the week 1
2018-02-27 12:36:05,431 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:36:05,431 - DEBUG - In Position is  0
2018-02-27 12:36:05,431 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:36:05,432 - DEBUG - curStopLossFlag is  0
2018-02-27 12:36:05,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:36:05,432 - DEBUG - Checking if Entry has been filled
2018-02-27 12:36:05,432 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:36:05,434 - DEBUG - EntryPend is 1
2018-02-27 12:36:05,434 - DEBUG - Try to Cancel Stop
2018-02-27 12:36:05,434 - DEBUG - Stop API ID 0
2018-02-27 12:36:05,434 - DEBUG - Profit API ID 0
2018-02-27 12:36:05,435 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:36:05,435 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:36:05,435 - DEBUG - Pos is 0
2018-02-27 12:36:05,435 - DEBUG - CurCount is 0
2018-02-27 12:36:05,435 - DEBUG - In Pos 0
2018-02-27 12:36:05,436 - DEBUG - Stop ID is 0
2018-02-27 12:36:05,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:36:05,437 - DEBUG - EntryPend is 1
2018-02-27 12:36:05,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:36:05,438 - DEBUG - Entry Date is 10
2018-02-27 12:36:05,438 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:36:05,438 - DEBUG - Order Profit ID is 235
2018-02-27 12:36:05,439 - DEBUG - Order Entry ID is 235
2018-02-27 12:36:05,439 - DEBUG - API ID is  0
2018-02-27 12:36:05,439 - DEBUG - Current Position is 0
2018-02-27 12:36:05,439 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:36:05,439 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:36:05,440 - DEBUG - Time is 12
2018-02-27 12:36:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 12:36:05,440 - DEBUG - Time is 36
2018-02-27 12:36:05,440 - DEBUG - Time is <class 'int'>
2018-02-27 12:36:05,441 - DEBUG - Disconnected from IBController
2018-02-27 12:36:05,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:41:01,357 - DEBUG - ****************************************************
2018-02-27 12:41:01,357 - DEBUG - Current Time is 12:41PM
2018-02-27 12:41:01,357 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:41:01,358 - DEBUG - Connecting to database
2018-02-27 12:41:01,384 - DEBUG - Connected to database
2018-02-27 12:41:01,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:01,386 - DEBUG - Order Profit is 235
2018-02-27 12:41:01,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:01,388 - DEBUG - Stop ID is 0
2018-02-27 12:41:01,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:01,389 - DEBUG - Entry ID is 235
2018-02-27 12:41:01,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:41:01,391 - DEBUG - OCA ID is 1
2018-02-27 12:41:01,392 - DEBUG - Connecting to IBController
2018-02-27 12:41:02,398 - DEBUG - Connected to IBController
2018-02-27 12:41:02,398 - DEBUG - Position requested
2018-02-27 12:41:02,400 - DEBUG - Pos Mgmt -10
2018-02-27 12:41:02,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:41:02,401 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:41:02,401 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:41:02,401 - DEBUG - Position is -10
2018-02-27 12:41:02,402 - DEBUG - Pos Mgmt -12987
2018-02-27 12:41:02,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:41:02,402 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:41:02,402 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:41:02,403 - DEBUG - Position is -12987
2018-02-27 12:41:03,399 - DEBUG - Open Orders requested
2018-02-27 12:41:03,401 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000204DD68>, order=<ib.ext.Order.Order object at 0x000000000204DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10B8>>
2018-02-27 12:41:03,402 - DEBUG - Order OrderID 236
2018-02-27 12:41:03,402 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:41:03,403 - DEBUG - Order status PreSubmitted
2018-02-27 12:41:03,403 - DEBUG - Order Identification 236
2018-02-27 12:41:03,403 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:41:03,403 - DEBUG - Profit ID from database is 235
2018-02-27 12:41:03,404 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:41:03,404 - DEBUG - Stop ID database is 0
2018-02-27 12:41:03,404 - DEBUG - Entry ID database is 235
2018-02-27 12:41:05,400 - DEBUG - Connecting to database
2018-02-27 12:41:05,408 - DEBUG - Connected to database
2018-02-27 12:41:05,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,410 - DEBUG - Stop loss value is 72.17
2018-02-27 12:41:05,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,411 - DEBUG - Stop loss value is 58.925
2018-02-27 12:41:05,413 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,413 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:41:05,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,415 - DEBUG - Stop quantity 1
2018-02-27 12:41:05,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,417 - DEBUG - Direction is Short
2018-02-27 12:41:05,418 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,418 - DEBUG - Count is 0
2018-02-27 12:41:05,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:41:05,420 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:41:05,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:41:05,422 - DEBUG - Max ID Order is (236,)
2018-02-27 12:41:05,422 - DEBUG - Today is 2018-02-27
2018-02-27 12:41:05,422 - DEBUG - Day of the week 1
2018-02-27 12:41:05,423 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:41:05,423 - DEBUG - In Position is  0
2018-02-27 12:41:05,423 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:41:05,423 - DEBUG - curStopLossFlag is  0
2018-02-27 12:41:05,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:41:05,424 - DEBUG - Checking if Entry has been filled
2018-02-27 12:41:05,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:41:05,426 - DEBUG - EntryPend is 1
2018-02-27 12:41:05,426 - DEBUG - Try to Cancel Stop
2018-02-27 12:41:05,426 - DEBUG - Stop API ID 0
2018-02-27 12:41:05,426 - DEBUG - Profit API ID 0
2018-02-27 12:41:05,426 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:41:05,427 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:41:05,427 - DEBUG - Pos is 0
2018-02-27 12:41:05,427 - DEBUG - CurCount is 0
2018-02-27 12:41:05,427 - DEBUG - In Pos 0
2018-02-27 12:41:05,428 - DEBUG - Stop ID is 0
2018-02-27 12:41:05,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:41:05,429 - DEBUG - EntryPend is 1
2018-02-27 12:41:05,429 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:41:05,430 - DEBUG - Entry Date is 10
2018-02-27 12:41:05,430 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:41:05,430 - DEBUG - Order Profit ID is 235
2018-02-27 12:41:05,430 - DEBUG - Order Entry ID is 235
2018-02-27 12:41:05,431 - DEBUG - API ID is  0
2018-02-27 12:41:05,431 - DEBUG - Current Position is 0
2018-02-27 12:41:05,431 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:41:05,431 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:41:05,431 - DEBUG - Time is 12
2018-02-27 12:41:05,432 - DEBUG - Time is <class 'int'>
2018-02-27 12:41:05,432 - DEBUG - Time is 41
2018-02-27 12:41:05,432 - DEBUG - Time is <class 'int'>
2018-02-27 12:41:05,432 - DEBUG - Disconnected from IBController
2018-02-27 12:41:05,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:46:01,372 - DEBUG - ****************************************************
2018-02-27 12:46:01,372 - DEBUG - Current Time is 12:46PM
2018-02-27 12:46:01,373 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:46:01,373 - DEBUG - Connecting to database
2018-02-27 12:46:01,427 - DEBUG - Connected to database
2018-02-27 12:46:01,428 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:01,429 - DEBUG - Order Profit is 235
2018-02-27 12:46:01,430 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:01,431 - DEBUG - Stop ID is 0
2018-02-27 12:46:01,431 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:01,433 - DEBUG - Entry ID is 235
2018-02-27 12:46:01,433 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:46:01,435 - DEBUG - OCA ID is 1
2018-02-27 12:46:01,435 - DEBUG - Connecting to IBController
2018-02-27 12:46:02,442 - DEBUG - Connected to IBController
2018-02-27 12:46:02,442 - DEBUG - Position requested
2018-02-27 12:46:02,444 - DEBUG - Pos Mgmt -10
2018-02-27 12:46:02,444 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, pos=-10, avgCost=15344.045>
2018-02-27 12:46:02,444 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:46:02,445 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:46:02,445 - DEBUG - Position is -10
2018-02-27 12:46:02,445 - DEBUG - Pos Mgmt -12987
2018-02-27 12:46:02,446 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:46:02,446 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:46:02,446 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:46:02,446 - DEBUG - Position is -12987
2018-02-27 12:46:03,442 - DEBUG - Open Orders requested
2018-02-27 12:46:03,444 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206DDA0>, order=<ib.ext.Order.Order object at 0x000000000206DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021010B8>>
2018-02-27 12:46:03,445 - DEBUG - Order OrderID 236
2018-02-27 12:46:03,445 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:46:03,445 - DEBUG - Order status PreSubmitted
2018-02-27 12:46:03,446 - DEBUG - Order Identification 236
2018-02-27 12:46:03,446 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:46:03,446 - DEBUG - Profit ID from database is 235
2018-02-27 12:46:03,446 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:46:03,447 - DEBUG - Stop ID database is 0
2018-02-27 12:46:03,447 - DEBUG - Entry ID database is 235
2018-02-27 12:46:05,442 - DEBUG - Connecting to database
2018-02-27 12:46:05,449 - DEBUG - Connected to database
2018-02-27 12:46:05,451 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,451 - DEBUG - Stop loss value is 72.17
2018-02-27 12:46:05,452 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,453 - DEBUG - Stop loss value is 58.925
2018-02-27 12:46:05,454 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,454 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:46:05,456 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,456 - DEBUG - Stop quantity 1
2018-02-27 12:46:05,457 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,458 - DEBUG - Direction is Short
2018-02-27 12:46:05,459 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,459 - DEBUG - Count is 0
2018-02-27 12:46:05,461 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:46:05,461 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:46:05,462 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:46:05,463 - DEBUG - Max ID Order is (236,)
2018-02-27 12:46:05,463 - DEBUG - Today is 2018-02-27
2018-02-27 12:46:05,463 - DEBUG - Day of the week 1
2018-02-27 12:46:05,464 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:46:05,464 - DEBUG - In Position is  0
2018-02-27 12:46:05,464 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:46:05,464 - DEBUG - curStopLossFlag is  0
2018-02-27 12:46:05,465 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:46:05,465 - DEBUG - Checking if Entry has been filled
2018-02-27 12:46:05,465 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:46:05,466 - DEBUG - EntryPend is 1
2018-02-27 12:46:05,467 - DEBUG - Try to Cancel Stop
2018-02-27 12:46:05,467 - DEBUG - Stop API ID 0
2018-02-27 12:46:05,467 - DEBUG - Profit API ID 0
2018-02-27 12:46:05,467 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:46:05,468 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:46:05,468 - DEBUG - Pos is 0
2018-02-27 12:46:05,468 - DEBUG - CurCount is 0
2018-02-27 12:46:05,468 - DEBUG - In Pos 0
2018-02-27 12:46:05,469 - DEBUG - Stop ID is 0
2018-02-27 12:46:05,469 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:46:05,470 - DEBUG - EntryPend is 1
2018-02-27 12:46:05,470 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:46:05,471 - DEBUG - Entry Date is 10
2018-02-27 12:46:05,471 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:46:05,471 - DEBUG - Order Profit ID is 235
2018-02-27 12:46:05,471 - DEBUG - Order Entry ID is 235
2018-02-27 12:46:05,472 - DEBUG - API ID is  0
2018-02-27 12:46:05,472 - DEBUG - Current Position is 0
2018-02-27 12:46:05,472 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:46:05,472 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:46:05,473 - DEBUG - Time is 12
2018-02-27 12:46:05,473 - DEBUG - Time is <class 'int'>
2018-02-27 12:46:05,473 - DEBUG - Time is 46
2018-02-27 12:46:05,473 - DEBUG - Time is <class 'int'>
2018-02-27 12:46:05,474 - DEBUG - Disconnected from IBController
2018-02-27 12:46:05,474 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:51:01,367 - DEBUG - ****************************************************
2018-02-27 12:51:01,368 - DEBUG - Current Time is 12:51PM
2018-02-27 12:51:01,368 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:51:01,369 - DEBUG - Connecting to database
2018-02-27 12:51:01,401 - DEBUG - Connected to database
2018-02-27 12:51:01,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:01,403 - DEBUG - Order Profit is 235
2018-02-27 12:51:01,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:01,405 - DEBUG - Stop ID is 0
2018-02-27 12:51:01,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:01,407 - DEBUG - Entry ID is 235
2018-02-27 12:51:01,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:51:01,409 - DEBUG - OCA ID is 1
2018-02-27 12:51:01,409 - DEBUG - Connecting to IBController
2018-02-27 12:51:02,415 - DEBUG - Connected to IBController
2018-02-27 12:51:02,415 - DEBUG - Position requested
2018-02-27 12:51:02,417 - DEBUG - Pos Mgmt -10
2018-02-27 12:51:02,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 12:51:02,417 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:51:02,418 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:51:02,418 - DEBUG - Position is -10
2018-02-27 12:51:02,418 - DEBUG - Pos Mgmt -12987
2018-02-27 12:51:02,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:51:02,419 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:51:02,419 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:51:02,419 - DEBUG - Position is -12987
2018-02-27 12:51:03,416 - DEBUG - Open Orders requested
2018-02-27 12:51:03,418 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000202DCF8>, order=<ib.ext.Order.Order object at 0x000000000202DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C10B8>>
2018-02-27 12:51:03,418 - DEBUG - Order OrderID 236
2018-02-27 12:51:03,419 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:51:03,419 - DEBUG - Order status PreSubmitted
2018-02-27 12:51:03,420 - DEBUG - Order Identification 236
2018-02-27 12:51:03,420 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:51:03,420 - DEBUG - Profit ID from database is 235
2018-02-27 12:51:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:51:03,421 - DEBUG - Stop ID database is 0
2018-02-27 12:51:03,421 - DEBUG - Entry ID database is 235
2018-02-27 12:51:05,416 - DEBUG - Connecting to database
2018-02-27 12:51:05,424 - DEBUG - Connected to database
2018-02-27 12:51:05,425 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,426 - DEBUG - Stop loss value is 72.17
2018-02-27 12:51:05,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,427 - DEBUG - Stop loss value is 58.925
2018-02-27 12:51:05,429 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,429 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:51:05,430 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,431 - DEBUG - Stop quantity 1
2018-02-27 12:51:05,432 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,432 - DEBUG - Direction is Short
2018-02-27 12:51:05,434 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,434 - DEBUG - Count is 0
2018-02-27 12:51:05,435 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:51:05,436 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:51:05,437 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:51:05,437 - DEBUG - Max ID Order is (236,)
2018-02-27 12:51:05,438 - DEBUG - Today is 2018-02-27
2018-02-27 12:51:05,438 - DEBUG - Day of the week 1
2018-02-27 12:51:05,439 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:51:05,439 - DEBUG - In Position is  0
2018-02-27 12:51:05,439 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:51:05,439 - DEBUG - curStopLossFlag is  0
2018-02-27 12:51:05,439 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:51:05,440 - DEBUG - Checking if Entry has been filled
2018-02-27 12:51:05,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:51:05,441 - DEBUG - EntryPend is 1
2018-02-27 12:51:05,442 - DEBUG - Try to Cancel Stop
2018-02-27 12:51:05,442 - DEBUG - Stop API ID 0
2018-02-27 12:51:05,442 - DEBUG - Profit API ID 0
2018-02-27 12:51:05,442 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:51:05,442 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:51:05,443 - DEBUG - Pos is 0
2018-02-27 12:51:05,443 - DEBUG - CurCount is 0
2018-02-27 12:51:05,443 - DEBUG - In Pos 0
2018-02-27 12:51:05,443 - DEBUG - Stop ID is 0
2018-02-27 12:51:05,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:51:05,445 - DEBUG - EntryPend is 1
2018-02-27 12:51:05,445 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:51:05,446 - DEBUG - Entry Date is 10
2018-02-27 12:51:05,446 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:51:05,446 - DEBUG - Order Profit ID is 235
2018-02-27 12:51:05,446 - DEBUG - Order Entry ID is 235
2018-02-27 12:51:05,446 - DEBUG - API ID is  0
2018-02-27 12:51:05,447 - DEBUG - Current Position is 0
2018-02-27 12:51:05,447 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:51:05,447 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:51:05,447 - DEBUG - Time is 12
2018-02-27 12:51:05,447 - DEBUG - Time is <class 'int'>
2018-02-27 12:51:05,448 - DEBUG - Time is 51
2018-02-27 12:51:05,448 - DEBUG - Time is <class 'int'>
2018-02-27 12:51:05,448 - DEBUG - Disconnected from IBController
2018-02-27 12:51:05,449 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 12:56:01,376 - DEBUG - ****************************************************
2018-02-27 12:56:01,377 - DEBUG - Current Time is 12:56PM
2018-02-27 12:56:01,377 - DEBUG - Starting Pos Mgmt H E
2018-02-27 12:56:01,377 - DEBUG - Connecting to database
2018-02-27 12:56:01,424 - DEBUG - Connected to database
2018-02-27 12:56:01,425 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:01,426 - DEBUG - Order Profit is 235
2018-02-27 12:56:01,426 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:01,428 - DEBUG - Stop ID is 0
2018-02-27 12:56:01,429 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:01,430 - DEBUG - Entry ID is 235
2018-02-27 12:56:01,430 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 12:56:01,432 - DEBUG - OCA ID is 1
2018-02-27 12:56:01,432 - DEBUG - Connecting to IBController
2018-02-27 12:56:02,436 - DEBUG - Connected to IBController
2018-02-27 12:56:02,436 - DEBUG - Position requested
2018-02-27 12:56:02,437 - DEBUG - Pos Mgmt -10
2018-02-27 12:56:02,438 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DD68>, pos=-10, avgCost=15344.045>
2018-02-27 12:56:02,438 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 12:56:02,438 - DEBUG - ccy2 Currency with position is USD
2018-02-27 12:56:02,439 - DEBUG - Position is -10
2018-02-27 12:56:02,439 - DEBUG - Pos Mgmt -12987
2018-02-27 12:56:02,439 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203DA90>, pos=-12987, avgCost=0.95368235>
2018-02-27 12:56:02,440 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 12:56:02,440 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 12:56:02,440 - DEBUG - Position is -12987
2018-02-27 12:56:03,436 - DEBUG - Open Orders requested
2018-02-27 12:56:03,438 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000203DD68>, order=<ib.ext.Order.Order object at 0x000000000203DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D20B8>>
2018-02-27 12:56:03,438 - DEBUG - Order OrderID 236
2018-02-27 12:56:03,439 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 12:56:03,439 - DEBUG - Order status PreSubmitted
2018-02-27 12:56:03,439 - DEBUG - Order Identification 236
2018-02-27 12:56:03,439 - DEBUG - Order Identification <class 'int'>
2018-02-27 12:56:03,440 - DEBUG - Profit ID from database is 235
2018-02-27 12:56:03,440 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 12:56:03,440 - DEBUG - Stop ID database is 0
2018-02-27 12:56:03,440 - DEBUG - Entry ID database is 235
2018-02-27 12:56:05,436 - DEBUG - Connecting to database
2018-02-27 12:56:05,444 - DEBUG - Connected to database
2018-02-27 12:56:05,445 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,446 - DEBUG - Stop loss value is 72.17
2018-02-27 12:56:05,447 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,447 - DEBUG - Stop loss value is 58.925
2018-02-27 12:56:05,449 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,449 - DEBUG - EntryPrice value is 69.625
2018-02-27 12:56:05,450 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,451 - DEBUG - Stop quantity 1
2018-02-27 12:56:05,452 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,452 - DEBUG - Direction is Short
2018-02-27 12:56:05,454 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,454 - DEBUG - Count is 0
2018-02-27 12:56:05,455 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 12:56:05,456 - DEBUG - Stop Loss Flag is 0
2018-02-27 12:56:05,457 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 12:56:05,457 - DEBUG - Max ID Order is (236,)
2018-02-27 12:56:05,458 - DEBUG - Today is 2018-02-27
2018-02-27 12:56:05,458 - DEBUG - Day of the week 1
2018-02-27 12:56:05,458 - DEBUG - Yesterday is 02/26/2018
2018-02-27 12:56:05,459 - DEBUG - In Position is  0
2018-02-27 12:56:05,459 - DEBUG - In Position is  <class 'int'>
2018-02-27 12:56:05,459 - DEBUG - curStopLossFlag is  0
2018-02-27 12:56:05,459 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 12:56:05,460 - DEBUG - Checking if Entry has been filled
2018-02-27 12:56:05,460 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:56:05,461 - DEBUG - EntryPend is 1
2018-02-27 12:56:05,461 - DEBUG - Try to Cancel Stop
2018-02-27 12:56:05,462 - DEBUG - Stop API ID 0
2018-02-27 12:56:05,462 - DEBUG - Profit API ID 0
2018-02-27 12:56:05,462 - DEBUG - Stop API ID <class 'int'>
2018-02-27 12:56:05,462 - DEBUG - Profit API ID <class 'int'>
2018-02-27 12:56:05,463 - DEBUG - Pos is 0
2018-02-27 12:56:05,463 - DEBUG - CurCount is 0
2018-02-27 12:56:05,463 - DEBUG - In Pos 0
2018-02-27 12:56:05,463 - DEBUG - Stop ID is 0
2018-02-27 12:56:05,463 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 12:56:05,465 - DEBUG - EntryPend is 1
2018-02-27 12:56:05,465 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 12:56:05,465 - DEBUG - Entry Date is 10
2018-02-27 12:56:05,466 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 12:56:05,466 - DEBUG - Order Profit ID is 235
2018-02-27 12:56:05,466 - DEBUG - Order Entry ID is 235
2018-02-27 12:56:05,466 - DEBUG - API ID is  0
2018-02-27 12:56:05,467 - DEBUG - Current Position is 0
2018-02-27 12:56:05,467 - DEBUG - Current Position is <class 'str'>
2018-02-27 12:56:05,467 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 12:56:05,467 - DEBUG - Time is 12
2018-02-27 12:56:05,467 - DEBUG - Time is <class 'int'>
2018-02-27 12:56:05,468 - DEBUG - Time is 56
2018-02-27 12:56:05,468 - DEBUG - Time is <class 'int'>
2018-02-27 12:56:05,468 - DEBUG - Disconnected from IBController
2018-02-27 12:56:05,469 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:01:01,363 - DEBUG - ****************************************************
2018-02-27 13:01:01,363 - DEBUG - Current Time is 01:01PM
2018-02-27 13:01:01,364 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:01:01,364 - DEBUG - Connecting to database
2018-02-27 13:01:01,395 - DEBUG - Connected to database
2018-02-27 13:01:01,396 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:01,399 - DEBUG - Order Profit is 235
2018-02-27 13:01:01,400 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:01,401 - DEBUG - Stop ID is 0
2018-02-27 13:01:01,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:01,403 - DEBUG - Entry ID is 235
2018-02-27 13:01:01,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:01:01,405 - DEBUG - OCA ID is 1
2018-02-27 13:01:01,405 - DEBUG - Connecting to IBController
2018-02-27 13:01:02,410 - DEBUG - Connected to IBController
2018-02-27 13:01:02,410 - DEBUG - Position requested
2018-02-27 13:01:02,411 - DEBUG - Pos Mgmt -10
2018-02-27 13:01:02,412 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-10, avgCost=15344.045>
2018-02-27 13:01:02,412 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:01:02,412 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:01:02,413 - DEBUG - Position is -10
2018-02-27 13:01:02,413 - DEBUG - Pos Mgmt -12987
2018-02-27 13:01:02,413 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:01:02,414 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:01:02,414 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:01:02,414 - DEBUG - Position is -12987
2018-02-27 13:01:03,412 - DEBUG - Open Orders requested
2018-02-27 13:01:03,414 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DAC8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 13:01:03,414 - DEBUG - Order OrderID 236
2018-02-27 13:01:03,415 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:01:03,415 - DEBUG - Order status PreSubmitted
2018-02-27 13:01:03,416 - DEBUG - Order Identification 236
2018-02-27 13:01:03,416 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:01:03,416 - DEBUG - Profit ID from database is 235
2018-02-27 13:01:03,417 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:01:03,417 - DEBUG - Stop ID database is 0
2018-02-27 13:01:03,417 - DEBUG - Entry ID database is 235
2018-02-27 13:01:05,414 - DEBUG - Connecting to database
2018-02-27 13:01:05,422 - DEBUG - Connected to database
2018-02-27 13:01:05,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,424 - DEBUG - Stop loss value is 72.17
2018-02-27 13:01:05,425 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,425 - DEBUG - Stop loss value is 58.925
2018-02-27 13:01:05,427 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,427 - DEBUG - EntryPrice value is 69.625
2018-02-27 13:01:05,429 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,429 - DEBUG - Stop quantity 1
2018-02-27 13:01:05,430 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,431 - DEBUG - Direction is Short
2018-02-27 13:01:05,432 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,432 - DEBUG - Count is 0
2018-02-27 13:01:05,434 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:01:05,434 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:01:05,435 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:01:05,436 - DEBUG - Max ID Order is (236,)
2018-02-27 13:01:05,436 - DEBUG - Today is 2018-02-27
2018-02-27 13:01:05,437 - DEBUG - Day of the week 1
2018-02-27 13:01:05,437 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:01:05,437 - DEBUG - In Position is  0
2018-02-27 13:01:05,437 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:01:05,438 - DEBUG - curStopLossFlag is  0
2018-02-27 13:01:05,438 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:01:05,438 - DEBUG - Checking if Entry has been filled
2018-02-27 13:01:05,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:01:05,440 - DEBUG - EntryPend is 1
2018-02-27 13:01:05,440 - DEBUG - Try to Cancel Stop
2018-02-27 13:01:05,440 - DEBUG - Stop API ID 0
2018-02-27 13:01:05,441 - DEBUG - Profit API ID 0
2018-02-27 13:01:05,441 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:01:05,441 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:01:05,441 - DEBUG - Pos is 0
2018-02-27 13:01:05,442 - DEBUG - CurCount is 0
2018-02-27 13:01:05,442 - DEBUG - In Pos 0
2018-02-27 13:01:05,442 - DEBUG - Stop ID is 0
2018-02-27 13:01:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:01:05,444 - DEBUG - EntryPend is 1
2018-02-27 13:01:05,444 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:01:05,444 - DEBUG - Entry Date is 10
2018-02-27 13:01:05,444 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:01:05,445 - DEBUG - Order Profit ID is 235
2018-02-27 13:01:05,445 - DEBUG - Order Entry ID is 235
2018-02-27 13:01:05,445 - DEBUG - API ID is  0
2018-02-27 13:01:05,445 - DEBUG - Current Position is 0
2018-02-27 13:01:05,446 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:01:05,446 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:01:05,446 - DEBUG - Time is 13
2018-02-27 13:01:05,446 - DEBUG - Time is <class 'int'>
2018-02-27 13:01:05,447 - DEBUG - Time is 1
2018-02-27 13:01:05,447 - DEBUG - Time is <class 'int'>
2018-02-27 13:01:05,447 - DEBUG - Disconnected from IBController
2018-02-27 13:01:05,448 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:06:01,354 - DEBUG - ****************************************************
2018-02-27 13:06:01,354 - DEBUG - Current Time is 01:06PM
2018-02-27 13:06:01,355 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:06:01,355 - DEBUG - Connecting to database
2018-02-27 13:06:01,488 - DEBUG - Connected to database
2018-02-27 13:06:01,489 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:01,490 - DEBUG - Order Profit is 235
2018-02-27 13:06:01,491 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:01,495 - DEBUG - Stop ID is 0
2018-02-27 13:06:01,495 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:01,497 - DEBUG - Entry ID is 235
2018-02-27 13:06:01,497 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:06:01,499 - DEBUG - OCA ID is 1
2018-02-27 13:06:01,499 - DEBUG - Connecting to IBController
2018-02-27 13:06:02,504 - DEBUG - Connected to IBController
2018-02-27 13:06:02,504 - DEBUG - Position requested
2018-02-27 13:06:02,505 - DEBUG - Pos Mgmt -10
2018-02-27 13:06:02,506 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCA58>, pos=-10, avgCost=15344.045>
2018-02-27 13:06:02,506 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:06:02,507 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:06:02,507 - DEBUG - Position is -10
2018-02-27 13:06:02,507 - DEBUG - Pos Mgmt -12987
2018-02-27 13:06:02,507 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BCC18>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:06:02,508 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:06:02,508 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:06:02,508 - DEBUG - Position is -12987
2018-02-27 13:06:03,506 - DEBUG - Open Orders requested
2018-02-27 13:06:03,508 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x00000000020BCE48>, order=<ib.ext.Order.Order object at 0x00000000020BCD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002152128>>
2018-02-27 13:06:03,509 - DEBUG - Order OrderID 236
2018-02-27 13:06:03,509 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:06:03,509 - DEBUG - Order status PreSubmitted
2018-02-27 13:06:03,510 - DEBUG - Order Identification 236
2018-02-27 13:06:03,510 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:06:03,510 - DEBUG - Profit ID from database is 235
2018-02-27 13:06:03,510 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:06:03,511 - DEBUG - Stop ID database is 0
2018-02-27 13:06:03,511 - DEBUG - Entry ID database is 235
2018-02-27 13:06:05,508 - DEBUG - Connecting to database
2018-02-27 13:06:05,515 - DEBUG - Connected to database
2018-02-27 13:06:05,517 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,517 - DEBUG - Stop loss value is 72.17
2018-02-27 13:06:05,519 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,519 - DEBUG - Stop loss value is 58.925
2018-02-27 13:06:05,520 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,521 - DEBUG - EntryPrice value is 69.625
2018-02-27 13:06:05,523 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,523 - DEBUG - Stop quantity 1
2018-02-27 13:06:05,525 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,525 - DEBUG - Direction is Short
2018-02-27 13:06:05,527 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,527 - DEBUG - Count is 0
2018-02-27 13:06:05,529 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:06:05,529 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:06:05,533 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:06:05,533 - DEBUG - Max ID Order is (236,)
2018-02-27 13:06:05,534 - DEBUG - Today is 2018-02-27
2018-02-27 13:06:05,534 - DEBUG - Day of the week 1
2018-02-27 13:06:05,534 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:06:05,535 - DEBUG - In Position is  0
2018-02-27 13:06:05,535 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:06:05,535 - DEBUG - curStopLossFlag is  0
2018-02-27 13:06:05,536 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:06:05,536 - DEBUG - Checking if Entry has been filled
2018-02-27 13:06:05,536 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:06:05,537 - DEBUG - EntryPend is 1
2018-02-27 13:06:05,538 - DEBUG - Try to Cancel Stop
2018-02-27 13:06:05,538 - DEBUG - Stop API ID 0
2018-02-27 13:06:05,538 - DEBUG - Profit API ID 0
2018-02-27 13:06:05,538 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:06:05,539 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:06:05,539 - DEBUG - Pos is 0
2018-02-27 13:06:05,539 - DEBUG - CurCount is 0
2018-02-27 13:06:05,539 - DEBUG - In Pos 0
2018-02-27 13:06:05,540 - DEBUG - Stop ID is 0
2018-02-27 13:06:05,540 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:06:05,542 - DEBUG - EntryPend is 1
2018-02-27 13:06:05,542 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:06:05,542 - DEBUG - Entry Date is 10
2018-02-27 13:06:05,542 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:06:05,542 - DEBUG - Order Profit ID is 235
2018-02-27 13:06:05,543 - DEBUG - Order Entry ID is 235
2018-02-27 13:06:05,543 - DEBUG - API ID is  0
2018-02-27 13:06:05,543 - DEBUG - Current Position is 0
2018-02-27 13:06:05,543 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:06:05,544 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:06:05,544 - DEBUG - Time is 13
2018-02-27 13:06:05,544 - DEBUG - Time is <class 'int'>
2018-02-27 13:06:05,544 - DEBUG - Time is 6
2018-02-27 13:06:05,544 - DEBUG - Time is <class 'int'>
2018-02-27 13:06:05,545 - DEBUG - Disconnected from IBController
2018-02-27 13:06:05,545 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:11:01,368 - DEBUG - ****************************************************
2018-02-27 13:11:01,368 - DEBUG - Current Time is 01:11PM
2018-02-27 13:11:01,368 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:11:01,369 - DEBUG - Connecting to database
2018-02-27 13:11:01,424 - DEBUG - Connected to database
2018-02-27 13:11:01,424 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:01,426 - DEBUG - Order Profit is 235
2018-02-27 13:11:01,426 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:01,428 - DEBUG - Stop ID is 0
2018-02-27 13:11:01,428 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:01,432 - DEBUG - Entry ID is 235
2018-02-27 13:11:01,432 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:11:01,434 - DEBUG - OCA ID is 1
2018-02-27 13:11:01,434 - DEBUG - Connecting to IBController
2018-02-27 13:11:02,443 - DEBUG - Connected to IBController
2018-02-27 13:11:02,443 - DEBUG - Position requested
2018-02-27 13:11:02,444 - DEBUG - Pos Mgmt -10
2018-02-27 13:11:02,445 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DCF8>, pos=-10, avgCost=15344.045>
2018-02-27 13:11:02,445 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:11:02,445 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:11:02,446 - DEBUG - Position is -10
2018-02-27 13:11:02,446 - DEBUG - Pos Mgmt -12987
2018-02-27 13:11:02,446 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:11:02,447 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:11:02,447 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:11:02,447 - DEBUG - Position is -12987
2018-02-27 13:11:03,444 - DEBUG - Open Orders requested
2018-02-27 13:11:03,446 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000207DE48>, order=<ib.ext.Order.Order object at 0x000000000207DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112128>>
2018-02-27 13:11:03,447 - DEBUG - Order OrderID 236
2018-02-27 13:11:03,447 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:11:03,447 - DEBUG - Order status PreSubmitted
2018-02-27 13:11:03,448 - DEBUG - Order Identification 236
2018-02-27 13:11:03,448 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:11:03,448 - DEBUG - Profit ID from database is 235
2018-02-27 13:11:03,448 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:11:03,449 - DEBUG - Stop ID database is 0
2018-02-27 13:11:03,449 - DEBUG - Entry ID database is 235
2018-02-27 13:11:05,446 - DEBUG - Connecting to database
2018-02-27 13:11:05,454 - DEBUG - Connected to database
2018-02-27 13:11:05,456 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,456 - DEBUG - Stop loss value is 72.17
2018-02-27 13:11:05,457 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,458 - DEBUG - Stop loss value is 58.925
2018-02-27 13:11:05,459 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,459 - DEBUG - EntryPrice value is 69.625
2018-02-27 13:11:05,461 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,461 - DEBUG - Stop quantity 1
2018-02-27 13:11:05,462 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,463 - DEBUG - Direction is Short
2018-02-27 13:11:05,464 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,465 - DEBUG - Count is 0
2018-02-27 13:11:05,466 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:11:05,466 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:11:05,468 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:11:05,468 - DEBUG - Max ID Order is (236,)
2018-02-27 13:11:05,468 - DEBUG - Today is 2018-02-27
2018-02-27 13:11:05,469 - DEBUG - Day of the week 1
2018-02-27 13:11:05,469 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:11:05,469 - DEBUG - In Position is  0
2018-02-27 13:11:05,470 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:11:05,470 - DEBUG - curStopLossFlag is  0
2018-02-27 13:11:05,470 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:11:05,470 - DEBUG - Checking if Entry has been filled
2018-02-27 13:11:05,470 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:11:05,472 - DEBUG - EntryPend is 1
2018-02-27 13:11:05,472 - DEBUG - Try to Cancel Stop
2018-02-27 13:11:05,472 - DEBUG - Stop API ID 0
2018-02-27 13:11:05,473 - DEBUG - Profit API ID 0
2018-02-27 13:11:05,473 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:11:05,473 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:11:05,473 - DEBUG - Pos is 0
2018-02-27 13:11:05,474 - DEBUG - CurCount is 0
2018-02-27 13:11:05,474 - DEBUG - In Pos 0
2018-02-27 13:11:05,474 - DEBUG - Stop ID is 0
2018-02-27 13:11:05,474 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:11:05,477 - DEBUG - EntryPend is 1
2018-02-27 13:11:05,478 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:11:05,478 - DEBUG - Entry Date is 10
2018-02-27 13:11:05,478 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:11:05,478 - DEBUG - Order Profit ID is 235
2018-02-27 13:11:05,479 - DEBUG - Order Entry ID is 235
2018-02-27 13:11:05,479 - DEBUG - API ID is  0
2018-02-27 13:11:05,479 - DEBUG - Current Position is 0
2018-02-27 13:11:05,479 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:11:05,479 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:11:05,480 - DEBUG - Time is 13
2018-02-27 13:11:05,480 - DEBUG - Time is <class 'int'>
2018-02-27 13:11:05,480 - DEBUG - Time is 11
2018-02-27 13:11:05,480 - DEBUG - Time is <class 'int'>
2018-02-27 13:11:05,481 - DEBUG - Disconnected from IBController
2018-02-27 13:11:05,481 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:16:01,388 - DEBUG - ****************************************************
2018-02-27 13:16:01,389 - DEBUG - Current Time is 01:16PM
2018-02-27 13:16:01,389 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:16:01,390 - DEBUG - Connecting to database
2018-02-27 13:16:01,476 - DEBUG - Connected to database
2018-02-27 13:16:01,476 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:01,478 - DEBUG - Order Profit is 235
2018-02-27 13:16:01,478 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:01,479 - DEBUG - Stop ID is 0
2018-02-27 13:16:01,480 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:01,481 - DEBUG - Entry ID is 235
2018-02-27 13:16:01,481 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:16:01,482 - DEBUG - OCA ID is 1
2018-02-27 13:16:01,483 - DEBUG - Connecting to IBController
2018-02-27 13:16:02,492 - DEBUG - Connected to IBController
2018-02-27 13:16:02,492 - DEBUG - Position requested
2018-02-27 13:16:02,494 - DEBUG - Pos Mgmt -10
2018-02-27 13:16:02,494 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-10, avgCost=15344.045>
2018-02-27 13:16:02,494 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:16:02,495 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:16:02,495 - DEBUG - Position is -10
2018-02-27 13:16:02,495 - DEBUG - Pos Mgmt -12987
2018-02-27 13:16:02,496 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DBE0>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:16:02,496 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:16:02,496 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:16:02,496 - DEBUG - Position is -12987
2018-02-27 13:16:03,494 - DEBUG - Open Orders requested
2018-02-27 13:16:03,496 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000206DE48>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101128>>
2018-02-27 13:16:03,496 - DEBUG - Order OrderID 236
2018-02-27 13:16:03,497 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:16:03,497 - DEBUG - Order status PreSubmitted
2018-02-27 13:16:03,497 - DEBUG - Order Identification 236
2018-02-27 13:16:03,498 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:16:03,498 - DEBUG - Profit ID from database is 235
2018-02-27 13:16:03,498 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:16:03,499 - DEBUG - Stop ID database is 0
2018-02-27 13:16:03,499 - DEBUG - Entry ID database is 235
2018-02-27 13:16:05,496 - DEBUG - Connecting to database
2018-02-27 13:16:05,503 - DEBUG - Connected to database
2018-02-27 13:16:05,505 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,505 - DEBUG - Stop loss value is 72.17
2018-02-27 13:16:05,507 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,507 - DEBUG - Stop loss value is 58.925
2018-02-27 13:16:05,508 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,509 - DEBUG - EntryPrice value is 69.625
2018-02-27 13:16:05,510 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,510 - DEBUG - Stop quantity 1
2018-02-27 13:16:05,512 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,512 - DEBUG - Direction is Short
2018-02-27 13:16:05,513 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,514 - DEBUG - Count is 0
2018-02-27 13:16:05,515 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:16:05,515 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:16:05,517 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:16:05,517 - DEBUG - Max ID Order is (236,)
2018-02-27 13:16:05,517 - DEBUG - Today is 2018-02-27
2018-02-27 13:16:05,518 - DEBUG - Day of the week 1
2018-02-27 13:16:05,518 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:16:05,518 - DEBUG - In Position is  0
2018-02-27 13:16:05,518 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:16:05,519 - DEBUG - curStopLossFlag is  0
2018-02-27 13:16:05,519 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:16:05,519 - DEBUG - Checking if Entry has been filled
2018-02-27 13:16:05,519 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:16:05,521 - DEBUG - EntryPend is 1
2018-02-27 13:16:05,521 - DEBUG - Try to Cancel Stop
2018-02-27 13:16:05,521 - DEBUG - Stop API ID 0
2018-02-27 13:16:05,521 - DEBUG - Profit API ID 0
2018-02-27 13:16:05,522 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:16:05,522 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:16:05,522 - DEBUG - Pos is 0
2018-02-27 13:16:05,522 - DEBUG - CurCount is 0
2018-02-27 13:16:05,523 - DEBUG - In Pos 0
2018-02-27 13:16:05,523 - DEBUG - Stop ID is 0
2018-02-27 13:16:05,523 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:16:05,524 - DEBUG - EntryPend is 1
2018-02-27 13:16:05,525 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:16:05,525 - DEBUG - Entry Date is 10
2018-02-27 13:16:05,525 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:16:05,525 - DEBUG - Order Profit ID is 235
2018-02-27 13:16:05,525 - DEBUG - Order Entry ID is 235
2018-02-27 13:16:05,526 - DEBUG - API ID is  0
2018-02-27 13:16:05,526 - DEBUG - Current Position is 0
2018-02-27 13:16:05,526 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:16:05,526 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:16:05,527 - DEBUG - Time is 13
2018-02-27 13:16:05,527 - DEBUG - Time is <class 'int'>
2018-02-27 13:16:05,527 - DEBUG - Time is 16
2018-02-27 13:16:05,527 - DEBUG - Time is <class 'int'>
2018-02-27 13:16:05,528 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 13:16:05,528 - ERROR - Canceled Order 235
2018-02-27 13:16:05,529 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 235;
2018-02-27 13:16:05,545 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-27 13:16:05,559 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-27 13:16:05,573 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-27 13:16:05,587 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-27 13:16:05,601 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-27 13:16:05,615 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-27 13:16:05,630 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-27 13:16:05,644 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-27 13:16:05,659 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-27 13:16:05,673 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-27 13:16:05,690 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-27 13:16:05,708 - DEBUG - Disconnected from IBController
2018-02-27 13:16:05,708 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:21:01,368 - DEBUG - ****************************************************
2018-02-27 13:21:01,369 - DEBUG - Current Time is 01:21PM
2018-02-27 13:21:01,369 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:21:01,369 - DEBUG - Connecting to database
2018-02-27 13:21:01,391 - DEBUG - Connected to database
2018-02-27 13:21:01,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:01,393 - DEBUG - Order Profit is 0
2018-02-27 13:21:01,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:01,395 - DEBUG - Stop ID is 0
2018-02-27 13:21:01,395 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:01,397 - DEBUG - Entry ID is 0
2018-02-27 13:21:01,397 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:21:01,399 - DEBUG - OCA ID is 1
2018-02-27 13:21:01,399 - DEBUG - Connecting to IBController
2018-02-27 13:21:02,412 - DEBUG - Connected to IBController
2018-02-27 13:21:02,412 - DEBUG - Position requested
2018-02-27 13:21:02,414 - DEBUG - Pos Mgmt -10
2018-02-27 13:21:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DD30>, pos=-10, avgCost=15344.045>
2018-02-27 13:21:02,414 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:21:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:21:02,415 - DEBUG - Position is -10
2018-02-27 13:21:02,415 - DEBUG - Pos Mgmt -12987
2018-02-27 13:21:02,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:21:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:21:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:21:02,416 - DEBUG - Position is -12987
2018-02-27 13:21:03,413 - DEBUG - Open Orders requested
2018-02-27 13:21:03,416 - DEBUG - Reply Handler Orders is <openOrder orderId=236, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, order=<ib.ext.Order.Order object at 0x000000000208DA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220B8>>
2018-02-27 13:21:03,418 - DEBUG - Order OrderID 236
2018-02-27 13:21:03,419 - DEBUG - reply handler status <orderStatus orderId=236, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=861203090, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-27 13:21:03,419 - DEBUG - Order status PreSubmitted
2018-02-27 13:21:03,419 - DEBUG - Order Identification 236
2018-02-27 13:21:03,419 - DEBUG - Order Identification <class 'int'>
2018-02-27 13:21:03,420 - DEBUG - Profit ID from database is 0
2018-02-27 13:21:03,420 - DEBUG - Profit ID from database is <class 'str'>
2018-02-27 13:21:03,420 - DEBUG - Stop ID database is 0
2018-02-27 13:21:03,420 - DEBUG - Entry ID database is 0
2018-02-27 13:21:05,419 - DEBUG - Connecting to database
2018-02-27 13:21:05,426 - DEBUG - Connected to database
2018-02-27 13:21:05,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,428 - DEBUG - Stop loss value is 0
2018-02-27 13:21:05,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,430 - DEBUG - Stop loss value is 0
2018-02-27 13:21:05,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,431 - DEBUG - EntryPrice value is 0
2018-02-27 13:21:05,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,433 - DEBUG - Stop quantity 0
2018-02-27 13:21:05,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,435 - DEBUG - Direction is 0
2018-02-27 13:21:05,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,437 - DEBUG - Count is 0
2018-02-27 13:21:05,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:21:05,438 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:21:05,440 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:21:05,440 - DEBUG - Max ID Order is (236,)
2018-02-27 13:21:05,440 - DEBUG - Today is 2018-02-27
2018-02-27 13:21:05,441 - DEBUG - Day of the week 1
2018-02-27 13:21:05,441 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:21:05,441 - DEBUG - In Position is  0
2018-02-27 13:21:05,442 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:21:05,442 - DEBUG - curStopLossFlag is  0
2018-02-27 13:21:05,442 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:21:05,442 - DEBUG - Checking if Entry has been filled
2018-02-27 13:21:05,442 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:21:05,444 - DEBUG - EntryPend is 0
2018-02-27 13:21:05,444 - DEBUG - Try to Cancel Stop
2018-02-27 13:21:05,444 - DEBUG - Stop API ID 0
2018-02-27 13:21:05,445 - DEBUG - Profit API ID 0
2018-02-27 13:21:05,445 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:21:05,445 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:21:05,445 - DEBUG - Pos is 0
2018-02-27 13:21:05,445 - DEBUG - CurCount is 0
2018-02-27 13:21:05,446 - DEBUG - In Pos 0
2018-02-27 13:21:05,446 - DEBUG - Stop ID is 0
2018-02-27 13:21:05,446 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:21:05,447 - DEBUG - EntryPend is 0
2018-02-27 13:21:05,448 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:21:05,448 - DEBUG - Entry Date is 10
2018-02-27 13:21:05,448 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:21:05,448 - DEBUG - Order Profit ID is 0
2018-02-27 13:21:05,448 - DEBUG - Order Entry ID is 0
2018-02-27 13:21:05,449 - DEBUG - API ID is  0
2018-02-27 13:21:05,449 - DEBUG - Current Position is 0
2018-02-27 13:21:05,449 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:21:05,449 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:21:05,449 - DEBUG - Time is 13
2018-02-27 13:21:05,450 - DEBUG - Time is <class 'int'>
2018-02-27 13:21:05,450 - DEBUG - Time is 21
2018-02-27 13:21:05,450 - DEBUG - Time is <class 'int'>
2018-02-27 13:21:05,450 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 13:21:05,451 - ERROR - Canceled Order 0
2018-02-27 13:21:05,451 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 13:21:05,473 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-27 13:21:05,496 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-27 13:21:05,521 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-27 13:21:05,546 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-27 13:21:05,564 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-27 13:21:05,579 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-27 13:21:05,609 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-27 13:21:05,624 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-27 13:21:05,644 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-27 13:21:05,659 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-27 13:21:05,673 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-27 13:21:05,687 - DEBUG - Disconnected from IBController
2018-02-27 13:21:05,687 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:26:01,358 - DEBUG - ****************************************************
2018-02-27 13:26:01,359 - DEBUG - Current Time is 01:26PM
2018-02-27 13:26:01,359 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:26:01,360 - DEBUG - Connecting to database
2018-02-27 13:26:01,465 - DEBUG - Connected to database
2018-02-27 13:26:01,466 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:01,469 - DEBUG - Order Profit is 0
2018-02-27 13:26:01,469 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:01,471 - DEBUG - Stop ID is 0
2018-02-27 13:26:01,471 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:01,472 - DEBUG - Entry ID is 0
2018-02-27 13:26:01,473 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:26:01,474 - DEBUG - OCA ID is 1
2018-02-27 13:26:01,475 - DEBUG - Connecting to IBController
2018-02-27 13:26:02,479 - DEBUG - Connected to IBController
2018-02-27 13:26:02,479 - DEBUG - Position requested
2018-02-27 13:26:02,480 - DEBUG - Pos Mgmt -5
2018-02-27 13:26:02,481 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CA58>, pos=-5, avgCost=15344.045>
2018-02-27 13:26:02,481 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:26:02,482 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:26:02,482 - DEBUG - Position is -5
2018-02-27 13:26:02,482 - DEBUG - Pos Mgmt -12987
2018-02-27 13:26:02,482 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:26:02,483 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:26:02,483 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:26:02,483 - DEBUG - Position is -12987
2018-02-27 13:26:03,481 - DEBUG - Open Orders requested
2018-02-27 13:26:05,481 - DEBUG - Connecting to database
2018-02-27 13:26:05,488 - DEBUG - Connected to database
2018-02-27 13:26:05,490 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,490 - DEBUG - Stop loss value is 0
2018-02-27 13:26:05,492 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,492 - DEBUG - Stop loss value is 0
2018-02-27 13:26:05,493 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,494 - DEBUG - EntryPrice value is 0
2018-02-27 13:26:05,499 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,499 - DEBUG - Stop quantity 0
2018-02-27 13:26:05,512 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,512 - DEBUG - Direction is 0
2018-02-27 13:26:05,513 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,514 - DEBUG - Count is 0
2018-02-27 13:26:05,515 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:26:05,516 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:26:05,517 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:26:05,517 - DEBUG - Max ID Order is (236,)
2018-02-27 13:26:05,518 - DEBUG - Today is 2018-02-27
2018-02-27 13:26:05,518 - DEBUG - Day of the week 1
2018-02-27 13:26:05,518 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:26:05,518 - DEBUG - In Position is  0
2018-02-27 13:26:05,519 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:26:05,519 - DEBUG - curStopLossFlag is  0
2018-02-27 13:26:05,519 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:26:05,520 - DEBUG - Checking if Entry has been filled
2018-02-27 13:26:05,520 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:26:05,521 - DEBUG - EntryPend is 0
2018-02-27 13:26:05,521 - DEBUG - Try to Cancel Stop
2018-02-27 13:26:05,522 - DEBUG - Stop API ID 0
2018-02-27 13:26:05,522 - DEBUG - Profit API ID 0
2018-02-27 13:26:05,522 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:26:05,522 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:26:05,523 - DEBUG - Pos is 0
2018-02-27 13:26:05,523 - DEBUG - CurCount is 0
2018-02-27 13:26:05,523 - DEBUG - In Pos 0
2018-02-27 13:26:05,523 - DEBUG - Stop ID is 0
2018-02-27 13:26:05,524 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:26:05,525 - DEBUG - EntryPend is 0
2018-02-27 13:26:05,525 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:26:05,525 - DEBUG - Entry Date is 10
2018-02-27 13:26:05,526 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:26:05,526 - DEBUG - Order Profit ID is 0
2018-02-27 13:26:05,526 - DEBUG - Order Entry ID is 0
2018-02-27 13:26:05,526 - DEBUG - API ID is  0
2018-02-27 13:26:05,527 - DEBUG - Current Position is 0
2018-02-27 13:26:05,527 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:26:05,527 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:26:05,527 - DEBUG - Time is 13
2018-02-27 13:26:05,528 - DEBUG - Time is <class 'int'>
2018-02-27 13:26:05,528 - DEBUG - Time is 26
2018-02-27 13:26:05,528 - DEBUG - Time is <class 'int'>
2018-02-27 13:26:05,528 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 13:26:05,529 - ERROR - Canceled Order 0
2018-02-27 13:26:05,529 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 13:26:05,544 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-27 13:26:05,560 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-27 13:26:05,576 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-27 13:26:05,592 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-27 13:26:05,606 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-27 13:26:05,625 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-27 13:26:05,639 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-27 13:26:05,653 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-27 13:26:05,667 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-27 13:26:05,681 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-27 13:26:05,695 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-27 13:26:05,709 - DEBUG - Disconnected from IBController
2018-02-27 13:26:05,709 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:31:01,364 - DEBUG - ****************************************************
2018-02-27 13:31:01,365 - DEBUG - Current Time is 01:31PM
2018-02-27 13:31:01,365 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:31:01,366 - DEBUG - Connecting to database
2018-02-27 13:31:01,412 - DEBUG - Connected to database
2018-02-27 13:31:01,413 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:01,415 - DEBUG - Order Profit is 0
2018-02-27 13:31:01,415 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:01,417 - DEBUG - Stop ID is 0
2018-02-27 13:31:01,417 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:01,418 - DEBUG - Entry ID is 0
2018-02-27 13:31:01,419 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:31:01,420 - DEBUG - OCA ID is 1
2018-02-27 13:31:01,420 - DEBUG - Connecting to IBController
2018-02-27 13:31:02,425 - DEBUG - Connected to IBController
2018-02-27 13:31:02,425 - DEBUG - Position requested
2018-02-27 13:31:02,427 - DEBUG - Pos Mgmt -5
2018-02-27 13:31:02,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DA58>, pos=-5, avgCost=15344.045>
2018-02-27 13:31:02,427 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:31:02,428 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:31:02,428 - DEBUG - Position is -5
2018-02-27 13:31:02,428 - DEBUG - Pos Mgmt -12987
2018-02-27 13:31:02,429 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000209DC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:31:02,429 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:31:02,429 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:31:02,429 - DEBUG - Position is -12987
2018-02-27 13:31:03,427 - DEBUG - Open Orders requested
2018-02-27 13:31:05,428 - DEBUG - Connecting to database
2018-02-27 13:31:05,435 - DEBUG - Connected to database
2018-02-27 13:31:05,437 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,438 - DEBUG - Stop loss value is 0
2018-02-27 13:31:05,439 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,439 - DEBUG - Stop loss value is 0
2018-02-27 13:31:05,441 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,441 - DEBUG - EntryPrice value is 0
2018-02-27 13:31:05,442 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,443 - DEBUG - Stop quantity 0
2018-02-27 13:31:05,444 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,444 - DEBUG - Direction is 0
2018-02-27 13:31:05,446 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,446 - DEBUG - Count is 0
2018-02-27 13:31:05,447 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:31:05,448 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:31:05,449 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:31:05,449 - DEBUG - Max ID Order is (236,)
2018-02-27 13:31:05,450 - DEBUG - Today is 2018-02-27
2018-02-27 13:31:05,450 - DEBUG - Day of the week 1
2018-02-27 13:31:05,451 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:31:05,451 - DEBUG - In Position is  0
2018-02-27 13:31:05,451 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:31:05,451 - DEBUG - curStopLossFlag is  0
2018-02-27 13:31:05,452 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:31:05,452 - DEBUG - Checking if Entry has been filled
2018-02-27 13:31:05,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:31:05,454 - DEBUG - EntryPend is 0
2018-02-27 13:31:05,454 - DEBUG - Try to Cancel Stop
2018-02-27 13:31:05,454 - DEBUG - Stop API ID 0
2018-02-27 13:31:05,454 - DEBUG - Profit API ID 0
2018-02-27 13:31:05,455 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:31:05,455 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:31:05,455 - DEBUG - Pos is 0
2018-02-27 13:31:05,455 - DEBUG - CurCount is 0
2018-02-27 13:31:05,455 - DEBUG - In Pos 0
2018-02-27 13:31:05,456 - DEBUG - Stop ID is 0
2018-02-27 13:31:05,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:31:05,458 - DEBUG - EntryPend is 0
2018-02-27 13:31:05,458 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:31:05,458 - DEBUG - Entry Date is 10
2018-02-27 13:31:05,458 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:31:05,459 - DEBUG - Order Profit ID is 0
2018-02-27 13:31:05,459 - DEBUG - Order Entry ID is 0
2018-02-27 13:31:05,459 - DEBUG - API ID is  0
2018-02-27 13:31:05,459 - DEBUG - Current Position is 0
2018-02-27 13:31:05,459 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:31:05,460 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:31:05,460 - DEBUG - Time is 13
2018-02-27 13:31:05,460 - DEBUG - Time is <class 'int'>
2018-02-27 13:31:05,460 - DEBUG - Time is 31
2018-02-27 13:31:05,461 - DEBUG - Time is <class 'int'>
2018-02-27 13:31:05,461 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 13:31:05,461 - ERROR - Canceled Order 0
2018-02-27 13:31:05,462 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 13:31:05,479 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-27 13:31:05,497 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-27 13:31:05,517 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-27 13:31:05,534 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-27 13:31:05,552 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-27 13:31:05,570 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-27 13:31:05,585 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-27 13:31:05,599 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-27 13:31:05,613 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-27 13:31:05,628 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-27 13:31:05,642 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-27 13:31:05,660 - DEBUG - Disconnected from IBController
2018-02-27 13:31:05,661 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-27 13:36:01,369 - DEBUG - ****************************************************
2018-02-27 13:36:01,369 - DEBUG - Current Time is 01:36PM
2018-02-27 13:36:01,370 - DEBUG - Starting Pos Mgmt H E
2018-02-27 13:36:01,370 - DEBUG - Connecting to database
2018-02-27 13:36:01,400 - DEBUG - Connected to database
2018-02-27 13:36:01,400 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:01,402 - DEBUG - Order Profit is 0
2018-02-27 13:36:01,402 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:01,403 - DEBUG - Stop ID is 0
2018-02-27 13:36:01,404 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:01,405 - DEBUG - Entry ID is 0
2018-02-27 13:36:01,405 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-27 13:36:01,407 - DEBUG - OCA ID is 1
2018-02-27 13:36:01,407 - DEBUG - Connecting to IBController
2018-02-27 13:36:02,412 - DEBUG - Connected to IBController
2018-02-27 13:36:02,412 - DEBUG - Position requested
2018-02-27 13:36:02,414 - DEBUG - Pos Mgmt -5
2018-02-27 13:36:02,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CA20>, pos=-5, avgCost=15344.045>
2018-02-27 13:36:02,415 - DEBUG - ccy1 Symbol with position is M6E
2018-02-27 13:36:02,415 - DEBUG - ccy2 Currency with position is USD
2018-02-27 13:36:02,415 - DEBUG - Position is -5
2018-02-27 13:36:02,416 - DEBUG - Pos Mgmt -12987
2018-02-27 13:36:02,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206CC88>, pos=-12987, avgCost=0.95368235>
2018-02-27 13:36:02,416 - DEBUG - ccy1 Symbol with position is NZD
2018-02-27 13:36:02,416 - DEBUG - ccy2 Currency with position is CAD
2018-02-27 13:36:02,417 - DEBUG - Position is -12987
2018-02-27 13:36:03,413 - DEBUG - Open Orders requested
2018-02-27 13:36:05,414 - DEBUG - Connecting to database
2018-02-27 13:36:05,421 - DEBUG - Connected to database
2018-02-27 13:36:05,423 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,423 - DEBUG - Stop loss value is 0
2018-02-27 13:36:05,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,425 - DEBUG - Stop loss value is 0
2018-02-27 13:36:05,426 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,426 - DEBUG - EntryPrice value is 0
2018-02-27 13:36:05,428 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,428 - DEBUG - Stop quantity 0
2018-02-27 13:36:05,429 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,430 - DEBUG - Direction is 0
2018-02-27 13:36:05,431 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,431 - DEBUG - Count is 0
2018-02-27 13:36:05,433 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-02-27 13:36:05,433 - DEBUG - Stop Loss Flag is 0
2018-02-27 13:36:05,434 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-27 13:36:05,435 - DEBUG - Max ID Order is (236,)
2018-02-27 13:36:05,435 - DEBUG - Today is 2018-02-27
2018-02-27 13:36:05,436 - DEBUG - Day of the week 1
2018-02-27 13:36:05,436 - DEBUG - Yesterday is 02/26/2018
2018-02-27 13:36:05,436 - DEBUG - In Position is  0
2018-02-27 13:36:05,436 - DEBUG - In Position is  <class 'int'>
2018-02-27 13:36:05,437 - DEBUG - curStopLossFlag is  0
2018-02-27 13:36:05,437 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-27 13:36:05,437 - DEBUG - Checking if Entry has been filled
2018-02-27 13:36:05,438 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:36:05,439 - DEBUG - EntryPend is 0
2018-02-27 13:36:05,439 - DEBUG - Try to Cancel Stop
2018-02-27 13:36:05,440 - DEBUG - Stop API ID 0
2018-02-27 13:36:05,440 - DEBUG - Profit API ID 0
2018-02-27 13:36:05,440 - DEBUG - Stop API ID <class 'int'>
2018-02-27 13:36:05,440 - DEBUG - Profit API ID <class 'int'>
2018-02-27 13:36:05,441 - DEBUG - Pos is 0
2018-02-27 13:36:05,441 - DEBUG - CurCount is 0
2018-02-27 13:36:05,441 - DEBUG - In Pos 0
2018-02-27 13:36:05,441 - DEBUG - Stop ID is 0
2018-02-27 13:36:05,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-02-27 13:36:05,443 - DEBUG - EntryPend is 0
2018-02-27 13:36:05,443 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-27 13:36:05,443 - DEBUG - Entry Date is 10
2018-02-27 13:36:05,443 - DEBUG - confirming yesterday is 02/26/2018
2018-02-27 13:36:05,444 - DEBUG - Order Profit ID is 0
2018-02-27 13:36:05,444 - DEBUG - Order Entry ID is 0
2018-02-27 13:36:05,444 - DEBUG - API ID is  0
2018-02-27 13:36:05,444 - DEBUG - Current Position is 0
2018-02-27 13:36:05,445 - DEBUG - Current Position is <class 'str'>
2018-02-27 13:36:05,445 - DEBUG - Checking if Positions should be close at EOD
2018-02-27 13:36:05,445 - DEBUG - Time is 13
2018-02-27 13:36:05,445 - DEBUG - Time is <class 'int'>
2018-02-27 13:36:05,445 - DEBUG - Time is 36
2018-02-27 13:36:05,446 - DEBUG - Time is <class 'int'>
2018-02-27 13:36:05,446 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-27 13:36:05,446 - ERROR - Canceled Order 0
2018-02-27 13:36:05,446 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-02-27 13:36:05,462 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='HE';
2018-02-27 13:36:05,477 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='HE';
2018-02-27 13:36:05,491 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='HE';
2018-02-27 13:36:05,505 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'HE'
2018-02-27 13:36:05,520 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'HE'
2018-02-27 13:36:05,534 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'HE'
2018-02-27 13:36:05,548 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'HE'
2018-02-27 13:36:05,566 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'HE'
2018-02-27 13:36:05,583 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'HE'
2018-02-27 13:36:05,597 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'HE'
2018-02-27 13:36:05,611 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'HE'
2018-02-27 13:36:05,625 - DEBUG - Disconnected from IBController
2018-02-27 13:36:05,626 - DEBUG - END POS MGMT SCRIPT :-!
