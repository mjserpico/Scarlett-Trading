2018-01-23 09:38:05,408 - DEBUG - ****************************************************
2018-01-23 09:38:05,408 - DEBUG - Current Time is 09:38AM
2018-01-23 09:38:05,409 - DEBUG - Starting Pos Mgmt H E
2018-01-23 09:38:05,409 - DEBUG - Connecting to database
2018-01-23 09:38:05,449 - DEBUG - Connected to database
2018-01-23 09:38:05,449 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:05,451 - DEBUG - Order Profit is 0
2018-01-23 09:38:05,451 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:05,452 - DEBUG - Stop ID is 0
2018-01-23 09:38:05,453 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:05,454 - DEBUG - Entry ID is 122
2018-01-23 09:38:05,454 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 09:38:05,456 - DEBUG - OCA ID is 1
2018-01-23 09:38:05,456 - DEBUG - Connecting to IBController
2018-01-23 09:38:06,461 - DEBUG - Connected to IBController
2018-01-23 09:38:06,461 - DEBUG - Position requested
2018-01-23 09:38:06,463 - DEBUG - Pos Mgmt 0
2018-01-23 09:38:06,463 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDCC0>, pos=0, avgCost=0.0>
2018-01-23 09:38:06,464 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 09:38:06,464 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:38:06,464 - DEBUG - Position is 0
2018-01-23 09:38:06,464 - DEBUG - Pos Mgmt -12987
2018-01-23 09:38:06,465 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC88>, pos=-12987, avgCost=0.95368235>
2018-01-23 09:38:06,465 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 09:38:06,465 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 09:38:06,465 - DEBUG - Position is -12987
2018-01-23 09:38:06,466 - DEBUG - Pos Mgmt 1
2018-01-23 09:38:06,466 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDE10>, pos=1, avgCost=28952.9>
2018-01-23 09:38:06,466 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 09:38:06,466 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:38:06,467 - DEBUG - Position is 1
2018-01-23 09:38:06,467 - DEBUG - In Position
2018-01-23 09:38:06,467 - DEBUG - Position is 1
2018-01-23 09:38:06,467 - DEBUG - Pos Mgmt 1
2018-01-23 09:38:06,468 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDEB8>, pos=1, avgCost=49582.9>
2018-01-23 09:38:06,468 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 09:38:06,468 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:38:06,468 - DEBUG - Position is 1
2018-01-23 09:38:06,907 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020DDE10>, order=<ib.ext.Order.Order object at 0x00000000020DDF28>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002171128>>
2018-01-23 09:38:06,908 - DEBUG - Order OrderID 123
2018-01-23 09:38:06,908 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:38:06,909 - DEBUG - Order status PreSubmitted
2018-01-23 09:38:06,909 - DEBUG - Order Identification 123
2018-01-23 09:38:06,909 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:38:06,910 - DEBUG - Profit ID from database is 0
2018-01-23 09:38:06,910 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:38:06,910 - DEBUG - Stop ID database is 0
2018-01-23 09:38:06,910 - DEBUG - Entry ID database is 122
2018-01-23 09:38:07,463 - DEBUG - Open Orders requested
2018-01-23 09:38:07,469 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020DDF28>, order=<ib.ext.Order.Order object at 0x00000000020DDE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002171278>>
2018-01-23 09:38:07,469 - DEBUG - Order OrderID 123
2018-01-23 09:38:07,470 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:38:07,470 - DEBUG - Order status PreSubmitted
2018-01-23 09:38:07,470 - DEBUG - Order Identification 123
2018-01-23 09:38:07,470 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:38:07,471 - DEBUG - Profit ID from database is 0
2018-01-23 09:38:07,471 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:38:07,471 - DEBUG - Stop ID database is 0
2018-01-23 09:38:07,471 - DEBUG - Entry ID database is 122
2018-01-23 09:38:09,469 - DEBUG - Connecting to database
2018-01-23 09:38:09,482 - DEBUG - Connected to database
2018-01-23 09:38:09,484 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,484 - DEBUG - Stop loss value is 71.02
2018-01-23 09:38:09,485 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,486 - DEBUG - Stop loss value is 83.275
2018-01-23 09:38:09,487 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,487 - DEBUG - EntryPrice value is 72.32
2018-01-23 09:38:09,489 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,489 - DEBUG - Stop quantity 1
2018-01-23 09:38:09,490 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,491 - DEBUG - Direction is Long
2018-01-23 09:38:09,492 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,492 - DEBUG - Count is 0
2018-01-23 09:38:09,494 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 09:38:09,494 - DEBUG - Stop Loss Flag is 0
2018-01-23 09:38:09,495 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:38:09,496 - DEBUG - Max ID Order is (123,)
2018-01-23 09:38:09,496 - DEBUG - Today is 2018-01-23
2018-01-23 09:38:09,496 - DEBUG - Day of the week 1
2018-01-23 09:38:09,497 - DEBUG - Yesterday is 01/22/2018
2018-01-23 09:38:09,497 - DEBUG - In Position is  1
2018-01-23 09:38:09,497 - DEBUG - In Position is  <class 'int'>
2018-01-23 09:38:09,497 - DEBUG - curStopLossFlag is  0
2018-01-23 09:38:09,497 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 09:38:09,498 - DEBUG - Checking if Entry has been filled
2018-01-23 09:38:09,498 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:38:09,499 - DEBUG - EntryPend is 1
2018-01-23 09:38:09,499 - DEBUG - Identified Entry Order Has Been Filled: In Stop Loss creation
2018-01-23 09:38:09,499 - DEBUG - Order Profit is ('0',)
2018-01-23 09:38:09,500 - DEBUG - Incremented Order ID for stop loss 124
2018-01-23 09:38:09,500 - DEBUG - Symbol, secType, exchange is H FUT GLOBEX
2018-01-23 09:38:09,500 - DEBUG - Contract is <ib.ext.Contract.Contract object at 0x00000000014AFDA0>
2018-01-23 09:38:09,500 - DEBUG - Entry Trade Direction is Long
2018-01-23 09:38:09,501 - DEBUG - In Long direction.
2018-01-23 09:38:09,501 - DEBUG - Counter action, qty, limit, OID and Pos Size are Sell 1 1 124 1
2018-01-23 09:38:09,501 - DEBUG - In TRAIL STOP function
2018-01-23 09:38:09,501 - DEBUG - Order action Sell
2018-01-23 09:38:09,501 - DEBUG - Limit value is 1
2018-01-23 09:38:09,502 - DEBUG - In Sell action. TRAIL price is 71.0200
2018-01-23 09:38:09,502 - DEBUG - In Sell action. AUX price is 1.0
2018-01-23 09:38:09,502 - DEBUG - Transmit is True
2018-01-23 09:38:09,504 - DEBUG - Long stop order placed
2018-01-23 09:38:09,506 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 1 where CCY = 'HE'
2018-01-23 09:38:09,506 - DEBUG - BB POSITION Set to 1.  No More positions should be taken
2018-01-23 09:38:09,535 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x0000000002171240>, order=<ib.ext.Order.Order object at 0x00000000021712E8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021715C0>>
2018-01-23 09:38:09,535 - DEBUG - Order OrderID 124
2018-01-23 09:38:09,536 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:38:09,536 - DEBUG - Order status PreSubmitted
2018-01-23 09:38:09,536 - DEBUG - Order Identification 124
2018-01-23 09:38:09,537 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:38:09,537 - DEBUG - Profit ID from database is 0
2018-01-23 09:38:09,537 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:38:09,537 - DEBUG - Stop ID database is 0
2018-01-23 09:38:09,537 - DEBUG - Entry ID database is 122
2018-01-23 09:38:09,541 - DEBUG - Master Fill set to 1
2018-01-23 09:38:09,541 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-01-23 09:38:09,543 - DEBUG - Entry ID is 0
2018-01-23 09:38:09,543 - DEBUG - Canceled Order 0
2018-01-23 09:38:09,544 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'M6E'
2018-01-23 09:38:09,545 - DEBUG - Entry ID is 118
2018-01-23 09:38:09,545 - ERROR - Canceled Order 118
2018-01-23 09:38:09,546 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'LE'
2018-01-23 09:38:09,547 - DEBUG - Entry ID is 121
2018-01-23 09:38:09,548 - ERROR - Canceled Order 121
2018-01-23 09:38:09,548 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 118;
2018-01-23 09:38:09,561 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 0;
2018-01-23 09:38:09,583 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 121;
2018-01-23 09:38:09,598 - DEBUG - Max Positions is (-11.0,)
2018-01-23 09:38:09,598 - DEBUG - Max Positions2 is -10.0
2018-01-23 09:38:09,598 - DEBUG - Query is UPDATE RiskParameters SET RiskParametersValue = -10.0 where idRiskParameters = 15
2018-01-23 09:38:09,620 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY ='HE';
2018-01-23 09:38:09,648 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossFlag = 1 where CCY = 'HE'
2018-01-23 09:38:09,661 - DEBUG - StopLossVal2 is 71.02
2018-01-23 09:38:09,661 - DEBUG - ProfitVal2 is 83.275
2018-01-23 09:38:09,699 - DEBUG - Query is UPDATE Orders SET Status = 'Filled' where idOrder = 122;
2018-01-23 09:38:09,713 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:38:09,713 - DEBUG - Max ID Order is (124,)
2018-01-23 09:38:09,713 - DEBUG - Incremented Order ID for profit target 125
2018-01-23 09:38:09,714 - DEBUG - Try to Cancel Stop
2018-01-23 09:38:09,714 - DEBUG - Stop API ID 0
2018-01-23 09:38:09,714 - DEBUG - Profit API ID 0
2018-01-23 09:38:09,714 - DEBUG - Stop API ID <class 'int'>
2018-01-23 09:38:09,714 - DEBUG - Profit API ID <class 'int'>
2018-01-23 09:38:09,715 - DEBUG - Pos is 1
2018-01-23 09:38:09,715 - DEBUG - CurCount is 0
2018-01-23 09:38:09,715 - DEBUG - In Pos 1
2018-01-23 09:38:09,715 - DEBUG - Stop ID is 0
2018-01-23 09:38:09,715 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:38:09,717 - DEBUG - EntryPend is 0
2018-01-23 09:38:09,717 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 09:38:09,717 - DEBUG - Entry Date is 10
2018-01-23 09:38:09,717 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 09:38:09,718 - DEBUG - Order Profit ID is 0
2018-01-23 09:38:09,718 - DEBUG - Order Entry ID is 122
2018-01-23 09:38:09,718 - DEBUG - API ID is  0
2018-01-23 09:38:09,718 - DEBUG - Current Position is 0
2018-01-23 09:38:09,718 - DEBUG - Current Position is <class 'str'>
2018-01-23 09:38:09,718 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 09:38:09,719 - DEBUG - Time is 9
2018-01-23 09:38:09,719 - DEBUG - Time is <class 'int'>
2018-01-23 09:38:09,719 - DEBUG - Time is 38
2018-01-23 09:38:09,719 - DEBUG - Time is <class 'int'>
2018-01-23 09:38:09,719 - DEBUG - Disconnected from IBController
2018-01-23 09:38:09,720 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 09:43:05,357 - DEBUG - ****************************************************
2018-01-23 09:43:05,357 - DEBUG - Current Time is 09:43AM
2018-01-23 09:43:05,358 - DEBUG - Starting Pos Mgmt H E
2018-01-23 09:43:05,358 - DEBUG - Connecting to database
2018-01-23 09:43:05,381 - DEBUG - Connected to database
2018-01-23 09:43:05,382 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:05,383 - DEBUG - Order Profit is 0
2018-01-23 09:43:05,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:05,385 - DEBUG - Stop ID is 124
2018-01-23 09:43:05,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:05,386 - DEBUG - Entry ID is 122
2018-01-23 09:43:05,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 09:43:05,388 - DEBUG - OCA ID is 1
2018-01-23 09:43:05,388 - DEBUG - Connecting to IBController
2018-01-23 09:43:06,394 - DEBUG - Connected to IBController
2018-01-23 09:43:06,394 - DEBUG - Position requested
2018-01-23 09:43:06,395 - DEBUG - Pos Mgmt 0
2018-01-23 09:43:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217DE10>, pos=0, avgCost=0.0>
2018-01-23 09:43:06,396 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 09:43:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:43:06,397 - DEBUG - Position is 0
2018-01-23 09:43:06,397 - DEBUG - Pos Mgmt -12987
2018-01-23 09:43:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217DC50>, pos=-12987, avgCost=0.95368235>
2018-01-23 09:43:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 09:43:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 09:43:06,398 - DEBUG - Position is -12987
2018-01-23 09:43:06,398 - DEBUG - Pos Mgmt 1
2018-01-23 09:43:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217DF28>, pos=1, avgCost=28952.9>
2018-01-23 09:43:06,399 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 09:43:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:43:06,399 - DEBUG - Position is 1
2018-01-23 09:43:06,400 - DEBUG - In Position
2018-01-23 09:43:06,400 - DEBUG - Position is 1
2018-01-23 09:43:06,400 - DEBUG - Pos Mgmt 1
2018-01-23 09:43:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217DEF0>, pos=1, avgCost=49582.9>
2018-01-23 09:43:06,401 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 09:43:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:43:06,401 - DEBUG - Position is 1
2018-01-23 09:43:07,396 - DEBUG - Open Orders requested
2018-01-23 09:43:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000217DF28>, order=<ib.ext.Order.Order object at 0x000000000217DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000022121D0>>
2018-01-23 09:43:07,398 - DEBUG - Order OrderID 124
2018-01-23 09:43:07,399 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:43:07,399 - DEBUG - Order status PreSubmitted
2018-01-23 09:43:07,400 - DEBUG - Order Identification 124
2018-01-23 09:43:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:43:07,400 - DEBUG - Profit ID from database is 0
2018-01-23 09:43:07,400 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:43:07,401 - DEBUG - Stop ID database is 124
2018-01-23 09:43:07,401 - DEBUG - Entry ID database is 122
2018-01-23 09:43:07,401 - DEBUG - Stop API ID is 124
2018-01-23 09:43:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000217DF28>, order=<ib.ext.Order.Order object at 0x000000000217DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212240>>
2018-01-23 09:43:07,402 - DEBUG - Order OrderID 123
2018-01-23 09:43:07,403 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:43:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 09:43:07,403 - DEBUG - Order Identification 123
2018-01-23 09:43:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:43:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 09:43:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:43:07,404 - DEBUG - Stop ID database is 124
2018-01-23 09:43:07,405 - DEBUG - Entry ID database is 122
2018-01-23 09:43:09,396 - DEBUG - Connecting to database
2018-01-23 09:43:09,403 - DEBUG - Connected to database
2018-01-23 09:43:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,404 - DEBUG - Stop loss value is 71.02
2018-01-23 09:43:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,406 - DEBUG - Stop loss value is 83.275
2018-01-23 09:43:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,408 - DEBUG - EntryPrice value is 72.32
2018-01-23 09:43:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,409 - DEBUG - Stop quantity 1
2018-01-23 09:43:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,411 - DEBUG - Direction is Long
2018-01-23 09:43:09,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,413 - DEBUG - Count is 1
2018-01-23 09:43:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 09:43:09,414 - DEBUG - Stop Loss Flag is 1
2018-01-23 09:43:09,415 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:43:09,416 - DEBUG - Max ID Order is (124,)
2018-01-23 09:43:09,416 - DEBUG - Today is 2018-01-23
2018-01-23 09:43:09,416 - DEBUG - Day of the week 1
2018-01-23 09:43:09,417 - DEBUG - Yesterday is 01/22/2018
2018-01-23 09:43:09,417 - DEBUG - In Position is  1
2018-01-23 09:43:09,417 - DEBUG - In Position is  <class 'int'>
2018-01-23 09:43:09,417 - DEBUG - curStopLossFlag is  1
2018-01-23 09:43:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 09:43:09,418 - DEBUG - Checking if Entry has been filled
2018-01-23 09:43:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:43:09,419 - DEBUG - EntryPend is 0
2018-01-23 09:43:09,420 - DEBUG - Try to Cancel Stop
2018-01-23 09:43:09,420 - DEBUG - Stop API ID 124
2018-01-23 09:43:09,420 - DEBUG - Profit API ID 0
2018-01-23 09:43:09,420 - DEBUG - Stop API ID <class 'int'>
2018-01-23 09:43:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-23 09:43:09,421 - DEBUG - Pos is 1
2018-01-23 09:43:09,421 - DEBUG - CurCount is 1
2018-01-23 09:43:09,421 - DEBUG - In Pos 1
2018-01-23 09:43:09,421 - DEBUG - Stop ID is 124
2018-01-23 09:43:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:43:09,423 - DEBUG - EntryPend is 0
2018-01-23 09:43:09,423 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 09:43:09,423 - DEBUG - Entry Date is 10
2018-01-23 09:43:09,424 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 09:43:09,424 - DEBUG - Order Profit ID is 0
2018-01-23 09:43:09,424 - DEBUG - Order Entry ID is 122
2018-01-23 09:43:09,424 - DEBUG - API ID is  0
2018-01-23 09:43:09,424 - DEBUG - Current Position is 1
2018-01-23 09:43:09,425 - DEBUG - Current Position is <class 'str'>
2018-01-23 09:43:09,425 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 09:43:09,425 - DEBUG - Time is 9
2018-01-23 09:43:09,425 - DEBUG - Time is <class 'int'>
2018-01-23 09:43:09,426 - DEBUG - Time is 43
2018-01-23 09:43:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 09:43:09,426 - DEBUG - Disconnected from IBController
2018-01-23 09:43:09,426 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 09:48:05,353 - DEBUG - ****************************************************
2018-01-23 09:48:05,354 - DEBUG - Current Time is 09:48AM
2018-01-23 09:48:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-23 09:48:05,354 - DEBUG - Connecting to database
2018-01-23 09:48:05,375 - DEBUG - Connected to database
2018-01-23 09:48:05,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:05,378 - DEBUG - Order Profit is 0
2018-01-23 09:48:05,379 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:05,380 - DEBUG - Stop ID is 124
2018-01-23 09:48:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:05,382 - DEBUG - Entry ID is 122
2018-01-23 09:48:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 09:48:05,384 - DEBUG - OCA ID is 1
2018-01-23 09:48:05,384 - DEBUG - Connecting to IBController
2018-01-23 09:48:06,399 - DEBUG - Connected to IBController
2018-01-23 09:48:06,399 - DEBUG - Position requested
2018-01-23 09:48:06,401 - DEBUG - Pos Mgmt 0
2018-01-23 09:48:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBBE0>, pos=0, avgCost=0.0>
2018-01-23 09:48:06,401 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 09:48:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:48:06,402 - DEBUG - Position is 0
2018-01-23 09:48:06,402 - DEBUG - Pos Mgmt -12987
2018-01-23 09:48:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 09:48:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 09:48:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 09:48:06,403 - DEBUG - Position is -12987
2018-01-23 09:48:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 09:48:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBF28>, pos=1, avgCost=28952.9>
2018-01-23 09:48:06,404 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 09:48:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:48:06,404 - DEBUG - Position is 1
2018-01-23 09:48:06,404 - DEBUG - In Position
2018-01-23 09:48:06,405 - DEBUG - Position is 1
2018-01-23 09:48:06,405 - DEBUG - Pos Mgmt 1
2018-01-23 09:48:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBEF0>, pos=1, avgCost=49582.9>
2018-01-23 09:48:06,406 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 09:48:06,406 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:48:06,406 - DEBUG - Position is 1
2018-01-23 09:48:07,400 - DEBUG - Open Orders requested
2018-01-23 09:48:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FBFD0>, order=<ib.ext.Order.Order object at 0x00000000020FBC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002190240>>
2018-01-23 09:48:07,406 - DEBUG - Order OrderID 124
2018-01-23 09:48:07,407 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:48:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 09:48:07,407 - DEBUG - Order Identification 124
2018-01-23 09:48:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:48:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 09:48:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:48:07,408 - DEBUG - Stop ID database is 124
2018-01-23 09:48:07,409 - DEBUG - Entry ID database is 122
2018-01-23 09:48:07,409 - DEBUG - Stop API ID is 124
2018-01-23 09:48:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FBFD0>, order=<ib.ext.Order.Order object at 0x00000000020FBC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021900B8>>
2018-01-23 09:48:07,410 - DEBUG - Order OrderID 123
2018-01-23 09:48:07,411 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:48:07,411 - DEBUG - Order status PreSubmitted
2018-01-23 09:48:07,411 - DEBUG - Order Identification 123
2018-01-23 09:48:07,411 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:48:07,411 - DEBUG - Profit ID from database is 0
2018-01-23 09:48:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:48:07,412 - DEBUG - Stop ID database is 124
2018-01-23 09:48:07,412 - DEBUG - Entry ID database is 122
2018-01-23 09:48:09,407 - DEBUG - Connecting to database
2018-01-23 09:48:09,414 - DEBUG - Connected to database
2018-01-23 09:48:09,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,416 - DEBUG - Stop loss value is 71.02
2018-01-23 09:48:09,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,418 - DEBUG - Stop loss value is 83.275
2018-01-23 09:48:09,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,420 - DEBUG - EntryPrice value is 72.32
2018-01-23 09:48:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,421 - DEBUG - Stop quantity 1
2018-01-23 09:48:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,423 - DEBUG - Direction is Long
2018-01-23 09:48:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,424 - DEBUG - Count is 1
2018-01-23 09:48:09,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 09:48:09,426 - DEBUG - Stop Loss Flag is 1
2018-01-23 09:48:09,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:48:09,428 - DEBUG - Max ID Order is (124,)
2018-01-23 09:48:09,428 - DEBUG - Today is 2018-01-23
2018-01-23 09:48:09,429 - DEBUG - Day of the week 1
2018-01-23 09:48:09,429 - DEBUG - Yesterday is 01/22/2018
2018-01-23 09:48:09,429 - DEBUG - In Position is  1
2018-01-23 09:48:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-23 09:48:09,430 - DEBUG - curStopLossFlag is  1
2018-01-23 09:48:09,430 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 09:48:09,430 - DEBUG - Checking if Entry has been filled
2018-01-23 09:48:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:48:09,432 - DEBUG - EntryPend is 0
2018-01-23 09:48:09,432 - DEBUG - Try to Cancel Stop
2018-01-23 09:48:09,432 - DEBUG - Stop API ID 124
2018-01-23 09:48:09,432 - DEBUG - Profit API ID 0
2018-01-23 09:48:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-23 09:48:09,433 - DEBUG - Profit API ID <class 'int'>
2018-01-23 09:48:09,433 - DEBUG - Pos is 1
2018-01-23 09:48:09,433 - DEBUG - CurCount is 1
2018-01-23 09:48:09,433 - DEBUG - In Pos 1
2018-01-23 09:48:09,433 - DEBUG - Stop ID is 124
2018-01-23 09:48:09,434 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:48:09,435 - DEBUG - EntryPend is 0
2018-01-23 09:48:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 09:48:09,435 - DEBUG - Entry Date is 10
2018-01-23 09:48:09,436 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 09:48:09,436 - DEBUG - Order Profit ID is 0
2018-01-23 09:48:09,436 - DEBUG - Order Entry ID is 122
2018-01-23 09:48:09,436 - DEBUG - API ID is  0
2018-01-23 09:48:09,436 - DEBUG - Current Position is 1
2018-01-23 09:48:09,437 - DEBUG - Current Position is <class 'str'>
2018-01-23 09:48:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 09:48:09,437 - DEBUG - Time is 9
2018-01-23 09:48:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 09:48:09,438 - DEBUG - Time is 48
2018-01-23 09:48:09,438 - DEBUG - Time is <class 'int'>
2018-01-23 09:48:09,438 - DEBUG - Disconnected from IBController
2018-01-23 09:48:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 09:53:05,350 - DEBUG - ****************************************************
2018-01-23 09:53:05,351 - DEBUG - Current Time is 09:53AM
2018-01-23 09:53:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-23 09:53:05,352 - DEBUG - Connecting to database
2018-01-23 09:53:05,374 - DEBUG - Connected to database
2018-01-23 09:53:05,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:05,376 - DEBUG - Order Profit is 0
2018-01-23 09:53:05,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:05,377 - DEBUG - Stop ID is 124
2018-01-23 09:53:05,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:05,379 - DEBUG - Entry ID is 122
2018-01-23 09:53:05,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 09:53:05,381 - DEBUG - OCA ID is 1
2018-01-23 09:53:05,381 - DEBUG - Connecting to IBController
2018-01-23 09:53:06,391 - DEBUG - Connected to IBController
2018-01-23 09:53:06,391 - DEBUG - Position requested
2018-01-23 09:53:06,393 - DEBUG - Pos Mgmt 0
2018-01-23 09:53:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=0, avgCost=0.0>
2018-01-23 09:53:06,393 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 09:53:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:53:06,394 - DEBUG - Position is 0
2018-01-23 09:53:06,394 - DEBUG - Pos Mgmt -12987
2018-01-23 09:53:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DDA0>, pos=-12987, avgCost=0.95368235>
2018-01-23 09:53:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 09:53:06,395 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 09:53:06,395 - DEBUG - Position is -12987
2018-01-23 09:53:06,396 - DEBUG - Pos Mgmt 1
2018-01-23 09:53:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DF28>, pos=1, avgCost=28952.9>
2018-01-23 09:53:06,396 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 09:53:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:53:06,397 - DEBUG - Position is 1
2018-01-23 09:53:06,397 - DEBUG - In Position
2018-01-23 09:53:06,397 - DEBUG - Position is 1
2018-01-23 09:53:06,397 - DEBUG - Pos Mgmt 1
2018-01-23 09:53:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DEF0>, pos=1, avgCost=49582.9>
2018-01-23 09:53:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 09:53:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:53:06,398 - DEBUG - Position is 1
2018-01-23 09:53:07,393 - DEBUG - Open Orders requested
2018-01-23 09:53:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2240>>
2018-01-23 09:53:07,395 - DEBUG - Order OrderID 124
2018-01-23 09:53:07,396 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:53:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 09:53:07,397 - DEBUG - Order Identification 124
2018-01-23 09:53:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:53:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 09:53:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:53:07,398 - DEBUG - Stop ID database is 124
2018-01-23 09:53:07,398 - DEBUG - Entry ID database is 122
2018-01-23 09:53:07,398 - DEBUG - Stop API ID is 124
2018-01-23 09:53:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2080>>
2018-01-23 09:53:07,402 - DEBUG - Order OrderID 123
2018-01-23 09:53:07,402 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:53:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 09:53:07,403 - DEBUG - Order Identification 123
2018-01-23 09:53:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:53:07,403 - DEBUG - Profit ID from database is 0
2018-01-23 09:53:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:53:07,404 - DEBUG - Stop ID database is 124
2018-01-23 09:53:07,404 - DEBUG - Entry ID database is 122
2018-01-23 09:53:09,395 - DEBUG - Connecting to database
2018-01-23 09:53:09,402 - DEBUG - Connected to database
2018-01-23 09:53:09,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,403 - DEBUG - Stop loss value is 71.02
2018-01-23 09:53:09,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,405 - DEBUG - Stop loss value is 83.275
2018-01-23 09:53:09,406 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,407 - DEBUG - EntryPrice value is 72.32
2018-01-23 09:53:09,408 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,408 - DEBUG - Stop quantity 1
2018-01-23 09:53:09,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,410 - DEBUG - Direction is Long
2018-01-23 09:53:09,411 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,412 - DEBUG - Count is 1
2018-01-23 09:53:09,413 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 09:53:09,413 - DEBUG - Stop Loss Flag is 1
2018-01-23 09:53:09,414 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:53:09,415 - DEBUG - Max ID Order is (124,)
2018-01-23 09:53:09,415 - DEBUG - Today is 2018-01-23
2018-01-23 09:53:09,415 - DEBUG - Day of the week 1
2018-01-23 09:53:09,416 - DEBUG - Yesterday is 01/22/2018
2018-01-23 09:53:09,416 - DEBUG - In Position is  1
2018-01-23 09:53:09,416 - DEBUG - In Position is  <class 'int'>
2018-01-23 09:53:09,416 - DEBUG - curStopLossFlag is  1
2018-01-23 09:53:09,417 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 09:53:09,417 - DEBUG - Checking if Entry has been filled
2018-01-23 09:53:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:53:09,418 - DEBUG - EntryPend is 0
2018-01-23 09:53:09,419 - DEBUG - Try to Cancel Stop
2018-01-23 09:53:09,419 - DEBUG - Stop API ID 124
2018-01-23 09:53:09,419 - DEBUG - Profit API ID 0
2018-01-23 09:53:09,419 - DEBUG - Stop API ID <class 'int'>
2018-01-23 09:53:09,419 - DEBUG - Profit API ID <class 'int'>
2018-01-23 09:53:09,420 - DEBUG - Pos is 1
2018-01-23 09:53:09,420 - DEBUG - CurCount is 1
2018-01-23 09:53:09,420 - DEBUG - In Pos 1
2018-01-23 09:53:09,420 - DEBUG - Stop ID is 124
2018-01-23 09:53:09,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:53:09,422 - DEBUG - EntryPend is 0
2018-01-23 09:53:09,422 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 09:53:09,422 - DEBUG - Entry Date is 10
2018-01-23 09:53:09,423 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 09:53:09,423 - DEBUG - Order Profit ID is 0
2018-01-23 09:53:09,423 - DEBUG - Order Entry ID is 122
2018-01-23 09:53:09,423 - DEBUG - API ID is  0
2018-01-23 09:53:09,424 - DEBUG - Current Position is 1
2018-01-23 09:53:09,424 - DEBUG - Current Position is <class 'str'>
2018-01-23 09:53:09,424 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 09:53:09,424 - DEBUG - Time is 9
2018-01-23 09:53:09,424 - DEBUG - Time is <class 'int'>
2018-01-23 09:53:09,425 - DEBUG - Time is 53
2018-01-23 09:53:09,425 - DEBUG - Time is <class 'int'>
2018-01-23 09:53:09,425 - DEBUG - Disconnected from IBController
2018-01-23 09:53:09,425 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 09:58:05,363 - DEBUG - ****************************************************
2018-01-23 09:58:05,364 - DEBUG - Current Time is 09:58AM
2018-01-23 09:58:05,364 - DEBUG - Starting Pos Mgmt H E
2018-01-23 09:58:05,365 - DEBUG - Connecting to database
2018-01-23 09:58:05,406 - DEBUG - Connected to database
2018-01-23 09:58:05,406 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:05,408 - DEBUG - Order Profit is 0
2018-01-23 09:58:05,408 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:05,409 - DEBUG - Stop ID is 124
2018-01-23 09:58:05,410 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:05,411 - DEBUG - Entry ID is 122
2018-01-23 09:58:05,411 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 09:58:05,413 - DEBUG - OCA ID is 1
2018-01-23 09:58:05,413 - DEBUG - Connecting to IBController
2018-01-23 09:58:06,418 - DEBUG - Connected to IBController
2018-01-23 09:58:06,418 - DEBUG - Position requested
2018-01-23 09:58:06,420 - DEBUG - Pos Mgmt 0
2018-01-23 09:58:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDA90>, pos=0, avgCost=0.0>
2018-01-23 09:58:06,420 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 09:58:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:58:06,421 - DEBUG - Position is 0
2018-01-23 09:58:06,421 - DEBUG - Pos Mgmt -12987
2018-01-23 09:58:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDAC8>, pos=-12987, avgCost=0.95368235>
2018-01-23 09:58:06,422 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 09:58:06,422 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 09:58:06,422 - DEBUG - Position is -12987
2018-01-23 09:58:06,422 - DEBUG - Pos Mgmt 1
2018-01-23 09:58:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, pos=1, avgCost=28952.9>
2018-01-23 09:58:06,423 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 09:58:06,423 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:58:06,423 - DEBUG - Position is 1
2018-01-23 09:58:06,423 - DEBUG - In Position
2018-01-23 09:58:06,424 - DEBUG - Position is 1
2018-01-23 09:58:06,424 - DEBUG - Pos Mgmt 1
2018-01-23 09:58:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDEF0>, pos=1, avgCost=49582.9>
2018-01-23 09:58:06,425 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 09:58:06,425 - DEBUG - ccy2 Currency with position is USD
2018-01-23 09:58:06,425 - DEBUG - Position is 1
2018-01-23 09:58:07,419 - DEBUG - Open Orders requested
2018-01-23 09:58:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, order=<ib.ext.Order.Order object at 0x00000000020FDE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021911D0>>
2018-01-23 09:58:07,432 - DEBUG - Order OrderID 124
2018-01-23 09:58:07,432 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:58:07,432 - DEBUG - Order status PreSubmitted
2018-01-23 09:58:07,433 - DEBUG - Order Identification 124
2018-01-23 09:58:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:58:07,433 - DEBUG - Profit ID from database is 0
2018-01-23 09:58:07,434 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:58:07,434 - DEBUG - Stop ID database is 124
2018-01-23 09:58:07,434 - DEBUG - Entry ID database is 122
2018-01-23 09:58:07,434 - DEBUG - Stop API ID is 124
2018-01-23 09:58:07,435 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, order=<ib.ext.Order.Order object at 0x00000000020FDE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191240>>
2018-01-23 09:58:07,436 - DEBUG - Order OrderID 123
2018-01-23 09:58:07,436 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 09:58:07,436 - DEBUG - Order status PreSubmitted
2018-01-23 09:58:07,437 - DEBUG - Order Identification 123
2018-01-23 09:58:07,437 - DEBUG - Order Identification <class 'int'>
2018-01-23 09:58:07,437 - DEBUG - Profit ID from database is 0
2018-01-23 09:58:07,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 09:58:07,437 - DEBUG - Stop ID database is 124
2018-01-23 09:58:07,438 - DEBUG - Entry ID database is 122
2018-01-23 09:58:09,430 - DEBUG - Connecting to database
2018-01-23 09:58:09,437 - DEBUG - Connected to database
2018-01-23 09:58:09,438 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,439 - DEBUG - Stop loss value is 71.02
2018-01-23 09:58:09,440 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,440 - DEBUG - Stop loss value is 83.275
2018-01-23 09:58:09,442 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,442 - DEBUG - EntryPrice value is 72.32
2018-01-23 09:58:09,443 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,443 - DEBUG - Stop quantity 1
2018-01-23 09:58:09,445 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,445 - DEBUG - Direction is Long
2018-01-23 09:58:09,446 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,447 - DEBUG - Count is 1
2018-01-23 09:58:09,448 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 09:58:09,448 - DEBUG - Stop Loss Flag is 1
2018-01-23 09:58:09,450 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 09:58:09,450 - DEBUG - Max ID Order is (124,)
2018-01-23 09:58:09,450 - DEBUG - Today is 2018-01-23
2018-01-23 09:58:09,451 - DEBUG - Day of the week 1
2018-01-23 09:58:09,451 - DEBUG - Yesterday is 01/22/2018
2018-01-23 09:58:09,451 - DEBUG - In Position is  1
2018-01-23 09:58:09,451 - DEBUG - In Position is  <class 'int'>
2018-01-23 09:58:09,452 - DEBUG - curStopLossFlag is  1
2018-01-23 09:58:09,452 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 09:58:09,452 - DEBUG - Checking if Entry has been filled
2018-01-23 09:58:09,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:58:09,454 - DEBUG - EntryPend is 0
2018-01-23 09:58:09,454 - DEBUG - Try to Cancel Stop
2018-01-23 09:58:09,454 - DEBUG - Stop API ID 124
2018-01-23 09:58:09,454 - DEBUG - Profit API ID 0
2018-01-23 09:58:09,455 - DEBUG - Stop API ID <class 'int'>
2018-01-23 09:58:09,455 - DEBUG - Profit API ID <class 'int'>
2018-01-23 09:58:09,455 - DEBUG - Pos is 1
2018-01-23 09:58:09,455 - DEBUG - CurCount is 1
2018-01-23 09:58:09,455 - DEBUG - In Pos 1
2018-01-23 09:58:09,456 - DEBUG - Stop ID is 124
2018-01-23 09:58:09,456 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 09:58:09,457 - DEBUG - EntryPend is 0
2018-01-23 09:58:09,457 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 09:58:09,458 - DEBUG - Entry Date is 10
2018-01-23 09:58:09,458 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 09:58:09,458 - DEBUG - Order Profit ID is 0
2018-01-23 09:58:09,458 - DEBUG - Order Entry ID is 122
2018-01-23 09:58:09,459 - DEBUG - API ID is  0
2018-01-23 09:58:09,459 - DEBUG - Current Position is 1
2018-01-23 09:58:09,459 - DEBUG - Current Position is <class 'str'>
2018-01-23 09:58:09,459 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 09:58:09,459 - DEBUG - Time is 9
2018-01-23 09:58:09,460 - DEBUG - Time is <class 'int'>
2018-01-23 09:58:09,460 - DEBUG - Time is 58
2018-01-23 09:58:09,460 - DEBUG - Time is <class 'int'>
2018-01-23 09:58:09,460 - DEBUG - Disconnected from IBController
2018-01-23 09:58:09,461 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:03:05,359 - DEBUG - ****************************************************
2018-01-23 10:03:05,359 - DEBUG - Current Time is 10:03AM
2018-01-23 10:03:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:03:05,360 - DEBUG - Connecting to database
2018-01-23 10:03:05,376 - DEBUG - Connected to database
2018-01-23 10:03:05,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:05,378 - DEBUG - Order Profit is 0
2018-01-23 10:03:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:05,380 - DEBUG - Stop ID is 124
2018-01-23 10:03:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:05,381 - DEBUG - Entry ID is 122
2018-01-23 10:03:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:03:05,383 - DEBUG - OCA ID is 1
2018-01-23 10:03:05,383 - DEBUG - Connecting to IBController
2018-01-23 10:03:06,387 - DEBUG - Connected to IBController
2018-01-23 10:03:06,387 - DEBUG - Position requested
2018-01-23 10:03:06,388 - DEBUG - Pos Mgmt 0
2018-01-23 10:03:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CE10>, pos=0, avgCost=0.0>
2018-01-23 10:03:06,389 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:03:06,389 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:03:06,390 - DEBUG - Position is 0
2018-01-23 10:03:06,390 - DEBUG - Pos Mgmt -12987
2018-01-23 10:03:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CCF8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:03:06,391 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:03:06,391 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:03:06,391 - DEBUG - Position is -12987
2018-01-23 10:03:06,391 - DEBUG - Pos Mgmt 1
2018-01-23 10:03:06,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF28>, pos=1, avgCost=28952.9>
2018-01-23 10:03:06,392 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:03:06,392 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:03:06,392 - DEBUG - Position is 1
2018-01-23 10:03:06,393 - DEBUG - In Position
2018-01-23 10:03:06,393 - DEBUG - Position is 1
2018-01-23 10:03:06,393 - DEBUG - Pos Mgmt 1
2018-01-23 10:03:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:03:06,394 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:03:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:03:06,394 - DEBUG - Position is 1
2018-01-23 10:03:07,389 - DEBUG - Open Orders requested
2018-01-23 10:03:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 10:03:07,395 - DEBUG - Order OrderID 124
2018-01-23 10:03:07,396 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:03:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 10:03:07,397 - DEBUG - Order Identification 124
2018-01-23 10:03:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:03:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 10:03:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:03:07,397 - DEBUG - Stop ID database is 124
2018-01-23 10:03:07,398 - DEBUG - Entry ID database is 122
2018-01-23 10:03:07,398 - DEBUG - Stop API ID is 124
2018-01-23 10:03:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1048>>
2018-01-23 10:03:07,399 - DEBUG - Order OrderID 123
2018-01-23 10:03:07,400 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:03:07,400 - DEBUG - Order status PreSubmitted
2018-01-23 10:03:07,400 - DEBUG - Order Identification 123
2018-01-23 10:03:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:03:07,401 - DEBUG - Profit ID from database is 0
2018-01-23 10:03:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:03:07,401 - DEBUG - Stop ID database is 124
2018-01-23 10:03:07,401 - DEBUG - Entry ID database is 122
2018-01-23 10:03:09,396 - DEBUG - Connecting to database
2018-01-23 10:03:09,403 - DEBUG - Connected to database
2018-01-23 10:03:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,405 - DEBUG - Stop loss value is 71.02
2018-01-23 10:03:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,406 - DEBUG - Stop loss value is 83.275
2018-01-23 10:03:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,408 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:03:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,410 - DEBUG - Stop quantity 1
2018-01-23 10:03:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,411 - DEBUG - Direction is Long
2018-01-23 10:03:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,413 - DEBUG - Count is 1
2018-01-23 10:03:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:03:09,415 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:03:09,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:03:09,416 - DEBUG - Max ID Order is (124,)
2018-01-23 10:03:09,417 - DEBUG - Today is 2018-01-23
2018-01-23 10:03:09,417 - DEBUG - Day of the week 1
2018-01-23 10:03:09,417 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:03:09,418 - DEBUG - In Position is  1
2018-01-23 10:03:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:03:09,418 - DEBUG - curStopLossFlag is  1
2018-01-23 10:03:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:03:09,418 - DEBUG - Checking if Entry has been filled
2018-01-23 10:03:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:03:09,420 - DEBUG - EntryPend is 0
2018-01-23 10:03:09,420 - DEBUG - Try to Cancel Stop
2018-01-23 10:03:09,420 - DEBUG - Stop API ID 124
2018-01-23 10:03:09,421 - DEBUG - Profit API ID 0
2018-01-23 10:03:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:03:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:03:09,421 - DEBUG - Pos is 1
2018-01-23 10:03:09,422 - DEBUG - CurCount is 1
2018-01-23 10:03:09,422 - DEBUG - In Pos 1
2018-01-23 10:03:09,422 - DEBUG - Stop ID is 124
2018-01-23 10:03:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:03:09,424 - DEBUG - EntryPend is 0
2018-01-23 10:03:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:03:09,424 - DEBUG - Entry Date is 10
2018-01-23 10:03:09,424 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:03:09,424 - DEBUG - Order Profit ID is 0
2018-01-23 10:03:09,425 - DEBUG - Order Entry ID is 122
2018-01-23 10:03:09,425 - DEBUG - API ID is  0
2018-01-23 10:03:09,425 - DEBUG - Current Position is 1
2018-01-23 10:03:09,425 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:03:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:03:09,426 - DEBUG - Time is 10
2018-01-23 10:03:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 10:03:09,426 - DEBUG - Time is 3
2018-01-23 10:03:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 10:03:09,427 - DEBUG - Disconnected from IBController
2018-01-23 10:03:09,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:08:05,346 - DEBUG - ****************************************************
2018-01-23 10:08:05,346 - DEBUG - Current Time is 10:08AM
2018-01-23 10:08:05,347 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:08:05,347 - DEBUG - Connecting to database
2018-01-23 10:08:05,369 - DEBUG - Connected to database
2018-01-23 10:08:05,369 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:05,371 - DEBUG - Order Profit is 0
2018-01-23 10:08:05,371 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:05,373 - DEBUG - Stop ID is 124
2018-01-23 10:08:05,373 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:05,374 - DEBUG - Entry ID is 122
2018-01-23 10:08:05,374 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:08:05,376 - DEBUG - OCA ID is 1
2018-01-23 10:08:05,376 - DEBUG - Connecting to IBController
2018-01-23 10:08:06,382 - DEBUG - Connected to IBController
2018-01-23 10:08:06,382 - DEBUG - Position requested
2018-01-23 10:08:06,397 - DEBUG - Pos Mgmt 0
2018-01-23 10:08:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CC88>, pos=0, avgCost=0.0>
2018-01-23 10:08:06,398 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:08:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:08:06,398 - DEBUG - Position is 0
2018-01-23 10:08:06,398 - DEBUG - Pos Mgmt -12987
2018-01-23 10:08:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CD30>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:08:06,399 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:08:06,399 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:08:06,399 - DEBUG - Position is -12987
2018-01-23 10:08:06,400 - DEBUG - Pos Mgmt 1
2018-01-23 10:08:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF98>, pos=1, avgCost=28952.9>
2018-01-23 10:08:06,400 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:08:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:08:06,401 - DEBUG - Position is 1
2018-01-23 10:08:06,401 - DEBUG - In Position
2018-01-23 10:08:06,401 - DEBUG - Position is 1
2018-01-23 10:08:06,401 - DEBUG - Pos Mgmt 1
2018-01-23 10:08:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF60>, pos=1, avgCost=49582.9>
2018-01-23 10:08:06,402 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:08:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:08:06,402 - DEBUG - Position is 1
2018-01-23 10:08:07,383 - DEBUG - Open Orders requested
2018-01-23 10:08:07,384 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 10:08:07,385 - DEBUG - Order OrderID 124
2018-01-23 10:08:07,386 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:08:07,386 - DEBUG - Order status PreSubmitted
2018-01-23 10:08:07,386 - DEBUG - Order Identification 124
2018-01-23 10:08:07,387 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:08:07,387 - DEBUG - Profit ID from database is 0
2018-01-23 10:08:07,387 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:08:07,387 - DEBUG - Stop ID database is 124
2018-01-23 10:08:07,387 - DEBUG - Entry ID database is 122
2018-01-23 10:08:07,388 - DEBUG - Stop API ID is 124
2018-01-23 10:08:07,389 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10B8>>
2018-01-23 10:08:07,389 - DEBUG - Order OrderID 123
2018-01-23 10:08:07,389 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:08:07,390 - DEBUG - Order status PreSubmitted
2018-01-23 10:08:07,390 - DEBUG - Order Identification 123
2018-01-23 10:08:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:08:07,390 - DEBUG - Profit ID from database is 0
2018-01-23 10:08:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:08:07,391 - DEBUG - Stop ID database is 124
2018-01-23 10:08:07,391 - DEBUG - Entry ID database is 122
2018-01-23 10:08:09,385 - DEBUG - Connecting to database
2018-01-23 10:08:09,392 - DEBUG - Connected to database
2018-01-23 10:08:09,394 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,394 - DEBUG - Stop loss value is 71.02
2018-01-23 10:08:09,395 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,396 - DEBUG - Stop loss value is 83.275
2018-01-23 10:08:09,397 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,397 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:08:09,399 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,399 - DEBUG - Stop quantity 1
2018-01-23 10:08:09,400 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,401 - DEBUG - Direction is Long
2018-01-23 10:08:09,402 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,403 - DEBUG - Count is 1
2018-01-23 10:08:09,404 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:08:09,404 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:08:09,406 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:08:09,406 - DEBUG - Max ID Order is (124,)
2018-01-23 10:08:09,406 - DEBUG - Today is 2018-01-23
2018-01-23 10:08:09,407 - DEBUG - Day of the week 1
2018-01-23 10:08:09,407 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:08:09,407 - DEBUG - In Position is  1
2018-01-23 10:08:09,407 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:08:09,408 - DEBUG - curStopLossFlag is  1
2018-01-23 10:08:09,408 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:08:09,408 - DEBUG - Checking if Entry has been filled
2018-01-23 10:08:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:08:09,410 - DEBUG - EntryPend is 0
2018-01-23 10:08:09,410 - DEBUG - Try to Cancel Stop
2018-01-23 10:08:09,410 - DEBUG - Stop API ID 124
2018-01-23 10:08:09,410 - DEBUG - Profit API ID 0
2018-01-23 10:08:09,411 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:08:09,411 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:08:09,411 - DEBUG - Pos is 1
2018-01-23 10:08:09,411 - DEBUG - CurCount is 1
2018-01-23 10:08:09,412 - DEBUG - In Pos 1
2018-01-23 10:08:09,412 - DEBUG - Stop ID is 124
2018-01-23 10:08:09,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:08:09,413 - DEBUG - EntryPend is 0
2018-01-23 10:08:09,414 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:08:09,414 - DEBUG - Entry Date is 10
2018-01-23 10:08:09,414 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:08:09,414 - DEBUG - Order Profit ID is 0
2018-01-23 10:08:09,414 - DEBUG - Order Entry ID is 122
2018-01-23 10:08:09,415 - DEBUG - API ID is  0
2018-01-23 10:08:09,415 - DEBUG - Current Position is 1
2018-01-23 10:08:09,415 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:08:09,415 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:08:09,416 - DEBUG - Time is 10
2018-01-23 10:08:09,416 - DEBUG - Time is <class 'int'>
2018-01-23 10:08:09,416 - DEBUG - Time is 8
2018-01-23 10:08:09,416 - DEBUG - Time is <class 'int'>
2018-01-23 10:08:09,416 - DEBUG - Disconnected from IBController
2018-01-23 10:08:09,417 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:13:05,358 - DEBUG - ****************************************************
2018-01-23 10:13:05,358 - DEBUG - Current Time is 10:13AM
2018-01-23 10:13:05,359 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:13:05,359 - DEBUG - Connecting to database
2018-01-23 10:13:05,379 - DEBUG - Connected to database
2018-01-23 10:13:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:05,381 - DEBUG - Order Profit is 0
2018-01-23 10:13:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:05,383 - DEBUG - Stop ID is 124
2018-01-23 10:13:05,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:05,385 - DEBUG - Entry ID is 122
2018-01-23 10:13:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:13:05,386 - DEBUG - OCA ID is 1
2018-01-23 10:13:05,387 - DEBUG - Connecting to IBController
2018-01-23 10:13:06,394 - DEBUG - Connected to IBController
2018-01-23 10:13:06,394 - DEBUG - Position requested
2018-01-23 10:13:06,396 - DEBUG - Pos Mgmt 0
2018-01-23 10:13:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDBA8>, pos=0, avgCost=0.0>
2018-01-23 10:13:06,396 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:13:06,397 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:13:06,397 - DEBUG - Position is 0
2018-01-23 10:13:06,397 - DEBUG - Pos Mgmt -12987
2018-01-23 10:13:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:13:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:13:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:13:06,398 - DEBUG - Position is -12987
2018-01-23 10:13:06,399 - DEBUG - Pos Mgmt 1
2018-01-23 10:13:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, pos=1, avgCost=28952.9>
2018-01-23 10:13:06,399 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:13:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:13:06,400 - DEBUG - Position is 1
2018-01-23 10:13:06,400 - DEBUG - In Position
2018-01-23 10:13:06,400 - DEBUG - Position is 1
2018-01-23 10:13:06,400 - DEBUG - Pos Mgmt 1
2018-01-23 10:13:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:13:06,401 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:13:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:13:06,401 - DEBUG - Position is 1
2018-01-23 10:13:07,394 - DEBUG - Open Orders requested
2018-01-23 10:13:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192240>>
2018-01-23 10:13:07,397 - DEBUG - Order OrderID 124
2018-01-23 10:13:07,397 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:13:07,397 - DEBUG - Order status PreSubmitted
2018-01-23 10:13:07,398 - DEBUG - Order Identification 124
2018-01-23 10:13:07,398 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:13:07,398 - DEBUG - Profit ID from database is 0
2018-01-23 10:13:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:13:07,399 - DEBUG - Stop ID database is 124
2018-01-23 10:13:07,399 - DEBUG - Entry ID database is 122
2018-01-23 10:13:07,399 - DEBUG - Stop API ID is 124
2018-01-23 10:13:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021920B8>>
2018-01-23 10:13:07,400 - DEBUG - Order OrderID 123
2018-01-23 10:13:07,401 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:13:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 10:13:07,401 - DEBUG - Order Identification 123
2018-01-23 10:13:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:13:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 10:13:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:13:07,402 - DEBUG - Stop ID database is 124
2018-01-23 10:13:07,402 - DEBUG - Entry ID database is 122
2018-01-23 10:13:09,396 - DEBUG - Connecting to database
2018-01-23 10:13:09,403 - DEBUG - Connected to database
2018-01-23 10:13:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,405 - DEBUG - Stop loss value is 71.02
2018-01-23 10:13:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,407 - DEBUG - Stop loss value is 83.275
2018-01-23 10:13:09,408 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,408 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:13:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,410 - DEBUG - Stop quantity 1
2018-01-23 10:13:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,411 - DEBUG - Direction is Long
2018-01-23 10:13:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,413 - DEBUG - Count is 1
2018-01-23 10:13:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:13:09,415 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:13:09,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:13:09,417 - DEBUG - Max ID Order is (124,)
2018-01-23 10:13:09,417 - DEBUG - Today is 2018-01-23
2018-01-23 10:13:09,417 - DEBUG - Day of the week 1
2018-01-23 10:13:09,418 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:13:09,418 - DEBUG - In Position is  1
2018-01-23 10:13:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:13:09,418 - DEBUG - curStopLossFlag is  1
2018-01-23 10:13:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:13:09,419 - DEBUG - Checking if Entry has been filled
2018-01-23 10:13:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:13:09,420 - DEBUG - EntryPend is 0
2018-01-23 10:13:09,421 - DEBUG - Try to Cancel Stop
2018-01-23 10:13:09,421 - DEBUG - Stop API ID 124
2018-01-23 10:13:09,421 - DEBUG - Profit API ID 0
2018-01-23 10:13:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:13:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:13:09,422 - DEBUG - Pos is 1
2018-01-23 10:13:09,422 - DEBUG - CurCount is 1
2018-01-23 10:13:09,422 - DEBUG - In Pos 1
2018-01-23 10:13:09,422 - DEBUG - Stop ID is 124
2018-01-23 10:13:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:13:09,424 - DEBUG - EntryPend is 0
2018-01-23 10:13:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:13:09,424 - DEBUG - Entry Date is 10
2018-01-23 10:13:09,425 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:13:09,425 - DEBUG - Order Profit ID is 0
2018-01-23 10:13:09,425 - DEBUG - Order Entry ID is 122
2018-01-23 10:13:09,425 - DEBUG - API ID is  0
2018-01-23 10:13:09,425 - DEBUG - Current Position is 1
2018-01-23 10:13:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:13:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:13:09,426 - DEBUG - Time is 10
2018-01-23 10:13:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 10:13:09,427 - DEBUG - Time is 13
2018-01-23 10:13:09,427 - DEBUG - Time is <class 'int'>
2018-01-23 10:13:09,427 - DEBUG - Disconnected from IBController
2018-01-23 10:13:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:18:05,350 - DEBUG - ****************************************************
2018-01-23 10:18:05,350 - DEBUG - Current Time is 10:18AM
2018-01-23 10:18:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:18:05,351 - DEBUG - Connecting to database
2018-01-23 10:18:05,385 - DEBUG - Connected to database
2018-01-23 10:18:05,385 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:05,387 - DEBUG - Order Profit is 0
2018-01-23 10:18:05,387 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:05,390 - DEBUG - Stop ID is 124
2018-01-23 10:18:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:05,391 - DEBUG - Entry ID is 122
2018-01-23 10:18:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:18:05,393 - DEBUG - OCA ID is 1
2018-01-23 10:18:05,393 - DEBUG - Connecting to IBController
2018-01-23 10:18:06,398 - DEBUG - Connected to IBController
2018-01-23 10:18:06,398 - DEBUG - Position requested
2018-01-23 10:18:06,400 - DEBUG - Pos Mgmt 0
2018-01-23 10:18:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DCC0>, pos=0, avgCost=0.0>
2018-01-23 10:18:06,400 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:18:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:18:06,401 - DEBUG - Position is 0
2018-01-23 10:18:06,401 - DEBUG - Pos Mgmt -12987
2018-01-23 10:18:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:18:06,402 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:18:06,402 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:18:06,402 - DEBUG - Position is -12987
2018-01-23 10:18:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 10:18:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DF28>, pos=1, avgCost=28952.9>
2018-01-23 10:18:06,403 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:18:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:18:06,404 - DEBUG - Position is 1
2018-01-23 10:18:06,404 - DEBUG - In Position
2018-01-23 10:18:06,404 - DEBUG - Position is 1
2018-01-23 10:18:06,405 - DEBUG - Pos Mgmt 1
2018-01-23 10:18:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:18:06,405 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:18:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:18:06,405 - DEBUG - Position is 1
2018-01-23 10:18:07,399 - DEBUG - Open Orders requested
2018-01-23 10:18:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1240>>
2018-01-23 10:18:07,404 - DEBUG - Order OrderID 124
2018-01-23 10:18:07,404 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:18:07,409 - DEBUG - Order status PreSubmitted
2018-01-23 10:18:07,409 - DEBUG - Order Identification 124
2018-01-23 10:18:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:18:07,410 - DEBUG - Profit ID from database is 0
2018-01-23 10:18:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:18:07,410 - DEBUG - Stop ID database is 124
2018-01-23 10:18:07,410 - DEBUG - Entry ID database is 122
2018-01-23 10:18:07,410 - DEBUG - Stop API ID is 124
2018-01-23 10:18:07,411 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1080>>
2018-01-23 10:18:07,412 - DEBUG - Order OrderID 123
2018-01-23 10:18:07,412 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:18:07,413 - DEBUG - Order status PreSubmitted
2018-01-23 10:18:07,413 - DEBUG - Order Identification 123
2018-01-23 10:18:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:18:07,413 - DEBUG - Profit ID from database is 0
2018-01-23 10:18:07,413 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:18:07,414 - DEBUG - Stop ID database is 124
2018-01-23 10:18:07,414 - DEBUG - Entry ID database is 122
2018-01-23 10:18:09,403 - DEBUG - Connecting to database
2018-01-23 10:18:09,410 - DEBUG - Connected to database
2018-01-23 10:18:09,412 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,412 - DEBUG - Stop loss value is 71.02
2018-01-23 10:18:09,414 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,414 - DEBUG - Stop loss value is 83.275
2018-01-23 10:18:09,415 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,415 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:18:09,417 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,417 - DEBUG - Stop quantity 1
2018-01-23 10:18:09,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,419 - DEBUG - Direction is Long
2018-01-23 10:18:09,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,420 - DEBUG - Count is 1
2018-01-23 10:18:09,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:18:09,422 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:18:09,423 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:18:09,423 - DEBUG - Max ID Order is (124,)
2018-01-23 10:18:09,424 - DEBUG - Today is 2018-01-23
2018-01-23 10:18:09,424 - DEBUG - Day of the week 1
2018-01-23 10:18:09,424 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:18:09,425 - DEBUG - In Position is  1
2018-01-23 10:18:09,425 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:18:09,425 - DEBUG - curStopLossFlag is  1
2018-01-23 10:18:09,425 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:18:09,426 - DEBUG - Checking if Entry has been filled
2018-01-23 10:18:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:18:09,427 - DEBUG - EntryPend is 0
2018-01-23 10:18:09,427 - DEBUG - Try to Cancel Stop
2018-01-23 10:18:09,428 - DEBUG - Stop API ID 124
2018-01-23 10:18:09,428 - DEBUG - Profit API ID 0
2018-01-23 10:18:09,428 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:18:09,428 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:18:09,429 - DEBUG - Pos is 1
2018-01-23 10:18:09,429 - DEBUG - CurCount is 1
2018-01-23 10:18:09,429 - DEBUG - In Pos 1
2018-01-23 10:18:09,429 - DEBUG - Stop ID is 124
2018-01-23 10:18:09,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:18:09,431 - DEBUG - EntryPend is 0
2018-01-23 10:18:09,431 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:18:09,431 - DEBUG - Entry Date is 10
2018-01-23 10:18:09,431 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:18:09,432 - DEBUG - Order Profit ID is 0
2018-01-23 10:18:09,432 - DEBUG - Order Entry ID is 122
2018-01-23 10:18:09,432 - DEBUG - API ID is  0
2018-01-23 10:18:09,432 - DEBUG - Current Position is 1
2018-01-23 10:18:09,432 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:18:09,433 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:18:09,433 - DEBUG - Time is 10
2018-01-23 10:18:09,433 - DEBUG - Time is <class 'int'>
2018-01-23 10:18:09,433 - DEBUG - Time is 18
2018-01-23 10:18:09,433 - DEBUG - Time is <class 'int'>
2018-01-23 10:18:09,434 - DEBUG - Disconnected from IBController
2018-01-23 10:18:09,435 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:23:05,372 - DEBUG - ****************************************************
2018-01-23 10:23:05,372 - DEBUG - Current Time is 10:23AM
2018-01-23 10:23:05,373 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:23:05,373 - DEBUG - Connecting to database
2018-01-23 10:23:05,402 - DEBUG - Connected to database
2018-01-23 10:23:05,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:05,404 - DEBUG - Order Profit is 0
2018-01-23 10:23:05,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:05,405 - DEBUG - Stop ID is 124
2018-01-23 10:23:05,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:05,407 - DEBUG - Entry ID is 122
2018-01-23 10:23:05,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:23:05,409 - DEBUG - OCA ID is 1
2018-01-23 10:23:05,409 - DEBUG - Connecting to IBController
2018-01-23 10:23:06,414 - DEBUG - Connected to IBController
2018-01-23 10:23:06,414 - DEBUG - Position requested
2018-01-23 10:23:06,415 - DEBUG - Pos Mgmt 0
2018-01-23 10:23:06,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DE10>, pos=0, avgCost=0.0>
2018-01-23 10:23:06,416 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:23:06,416 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:23:06,417 - DEBUG - Position is 0
2018-01-23 10:23:06,417 - DEBUG - Pos Mgmt -12987
2018-01-23 10:23:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DCF8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:23:06,418 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:23:06,418 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:23:06,418 - DEBUG - Position is -12987
2018-01-23 10:23:06,418 - DEBUG - Pos Mgmt 1
2018-01-23 10:23:06,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DF28>, pos=1, avgCost=28952.9>
2018-01-23 10:23:06,419 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:23:06,419 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:23:06,419 - DEBUG - Position is 1
2018-01-23 10:23:06,420 - DEBUG - In Position
2018-01-23 10:23:06,420 - DEBUG - Position is 1
2018-01-23 10:23:06,420 - DEBUG - Pos Mgmt 1
2018-01-23 10:23:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:23:06,421 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:23:06,421 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:23:06,421 - DEBUG - Position is 1
2018-01-23 10:23:07,416 - DEBUG - Open Orders requested
2018-01-23 10:23:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000212DF28>, order=<ib.ext.Order.Order object at 0x000000000212DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C21D0>>
2018-01-23 10:23:07,418 - DEBUG - Order OrderID 124
2018-01-23 10:23:07,419 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:23:07,419 - DEBUG - Order status PreSubmitted
2018-01-23 10:23:07,419 - DEBUG - Order Identification 124
2018-01-23 10:23:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:23:07,420 - DEBUG - Profit ID from database is 0
2018-01-23 10:23:07,420 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:23:07,420 - DEBUG - Stop ID database is 124
2018-01-23 10:23:07,421 - DEBUG - Entry ID database is 122
2018-01-23 10:23:07,421 - DEBUG - Stop API ID is 124
2018-01-23 10:23:07,422 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000212DF28>, order=<ib.ext.Order.Order object at 0x000000000212DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C2240>>
2018-01-23 10:23:07,422 - DEBUG - Order OrderID 123
2018-01-23 10:23:07,423 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:23:07,423 - DEBUG - Order status PreSubmitted
2018-01-23 10:23:07,423 - DEBUG - Order Identification 123
2018-01-23 10:23:07,423 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:23:07,424 - DEBUG - Profit ID from database is 0
2018-01-23 10:23:07,424 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:23:07,424 - DEBUG - Stop ID database is 124
2018-01-23 10:23:07,424 - DEBUG - Entry ID database is 122
2018-01-23 10:23:09,416 - DEBUG - Connecting to database
2018-01-23 10:23:09,425 - DEBUG - Connected to database
2018-01-23 10:23:09,427 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,427 - DEBUG - Stop loss value is 71.02
2018-01-23 10:23:09,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,429 - DEBUG - Stop loss value is 83.275
2018-01-23 10:23:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,431 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:23:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,433 - DEBUG - Stop quantity 1
2018-01-23 10:23:09,435 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,435 - DEBUG - Direction is Long
2018-01-23 10:23:09,437 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,437 - DEBUG - Count is 1
2018-01-23 10:23:09,440 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:23:09,440 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:23:09,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:23:09,442 - DEBUG - Max ID Order is (124,)
2018-01-23 10:23:09,442 - DEBUG - Today is 2018-01-23
2018-01-23 10:23:09,442 - DEBUG - Day of the week 1
2018-01-23 10:23:09,443 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:23:09,443 - DEBUG - In Position is  1
2018-01-23 10:23:09,443 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:23:09,443 - DEBUG - curStopLossFlag is  1
2018-01-23 10:23:09,444 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:23:09,444 - DEBUG - Checking if Entry has been filled
2018-01-23 10:23:09,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:23:09,445 - DEBUG - EntryPend is 0
2018-01-23 10:23:09,446 - DEBUG - Try to Cancel Stop
2018-01-23 10:23:09,446 - DEBUG - Stop API ID 124
2018-01-23 10:23:09,446 - DEBUG - Profit API ID 0
2018-01-23 10:23:09,446 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:23:09,447 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:23:09,447 - DEBUG - Pos is 1
2018-01-23 10:23:09,447 - DEBUG - CurCount is 1
2018-01-23 10:23:09,447 - DEBUG - In Pos 1
2018-01-23 10:23:09,447 - DEBUG - Stop ID is 124
2018-01-23 10:23:09,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:23:09,449 - DEBUG - EntryPend is 0
2018-01-23 10:23:09,449 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:23:09,449 - DEBUG - Entry Date is 10
2018-01-23 10:23:09,450 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:23:09,450 - DEBUG - Order Profit ID is 0
2018-01-23 10:23:09,450 - DEBUG - Order Entry ID is 122
2018-01-23 10:23:09,450 - DEBUG - API ID is  0
2018-01-23 10:23:09,450 - DEBUG - Current Position is 1
2018-01-23 10:23:09,451 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:23:09,451 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:23:09,451 - DEBUG - Time is 10
2018-01-23 10:23:09,451 - DEBUG - Time is <class 'int'>
2018-01-23 10:23:09,451 - DEBUG - Time is 23
2018-01-23 10:23:09,452 - DEBUG - Time is <class 'int'>
2018-01-23 10:23:09,453 - DEBUG - Disconnected from IBController
2018-01-23 10:23:09,453 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:28:05,354 - DEBUG - ****************************************************
2018-01-23 10:28:05,355 - DEBUG - Current Time is 10:28AM
2018-01-23 10:28:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:28:05,355 - DEBUG - Connecting to database
2018-01-23 10:28:05,389 - DEBUG - Connected to database
2018-01-23 10:28:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:05,391 - DEBUG - Order Profit is 0
2018-01-23 10:28:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:05,393 - DEBUG - Stop ID is 124
2018-01-23 10:28:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:05,395 - DEBUG - Entry ID is 122
2018-01-23 10:28:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:28:05,396 - DEBUG - OCA ID is 1
2018-01-23 10:28:05,397 - DEBUG - Connecting to IBController
2018-01-23 10:28:06,403 - DEBUG - Connected to IBController
2018-01-23 10:28:06,403 - DEBUG - Position requested
2018-01-23 10:28:06,405 - DEBUG - Pos Mgmt 0
2018-01-23 10:28:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CCC0>, pos=0, avgCost=0.0>
2018-01-23 10:28:06,405 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:28:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:28:06,406 - DEBUG - Position is 0
2018-01-23 10:28:06,406 - DEBUG - Pos Mgmt -12987
2018-01-23 10:28:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CBE0>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:28:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:28:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:28:06,407 - DEBUG - Position is -12987
2018-01-23 10:28:06,407 - DEBUG - Pos Mgmt 1
2018-01-23 10:28:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CF98>, pos=1, avgCost=28952.9>
2018-01-23 10:28:06,408 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:28:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:28:06,408 - DEBUG - Position is 1
2018-01-23 10:28:06,408 - DEBUG - In Position
2018-01-23 10:28:06,409 - DEBUG - Position is 1
2018-01-23 10:28:06,409 - DEBUG - Pos Mgmt 1
2018-01-23 10:28:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CF60>, pos=1, avgCost=49582.9>
2018-01-23 10:28:06,410 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:28:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:28:06,410 - DEBUG - Position is 1
2018-01-23 10:28:07,404 - DEBUG - Open Orders requested
2018-01-23 10:28:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000213CFD0>, order=<ib.ext.Order.Order object at 0x000000000213CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2240>>
2018-01-23 10:28:07,406 - DEBUG - Order OrderID 124
2018-01-23 10:28:07,407 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:28:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 10:28:07,407 - DEBUG - Order Identification 124
2018-01-23 10:28:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:28:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 10:28:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:28:07,408 - DEBUG - Stop ID database is 124
2018-01-23 10:28:07,408 - DEBUG - Entry ID database is 122
2018-01-23 10:28:07,409 - DEBUG - Stop API ID is 124
2018-01-23 10:28:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000213CFD0>, order=<ib.ext.Order.Order object at 0x000000000213CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2048>>
2018-01-23 10:28:07,410 - DEBUG - Order OrderID 123
2018-01-23 10:28:07,410 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:28:07,411 - DEBUG - Order status PreSubmitted
2018-01-23 10:28:07,411 - DEBUG - Order Identification 123
2018-01-23 10:28:07,411 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:28:07,411 - DEBUG - Profit ID from database is 0
2018-01-23 10:28:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:28:07,412 - DEBUG - Stop ID database is 124
2018-01-23 10:28:07,412 - DEBUG - Entry ID database is 122
2018-01-23 10:28:09,406 - DEBUG - Connecting to database
2018-01-23 10:28:09,413 - DEBUG - Connected to database
2018-01-23 10:28:09,414 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,415 - DEBUG - Stop loss value is 71.02
2018-01-23 10:28:09,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,416 - DEBUG - Stop loss value is 83.275
2018-01-23 10:28:09,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,418 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:28:09,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,420 - DEBUG - Stop quantity 1
2018-01-23 10:28:09,421 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,422 - DEBUG - Direction is Long
2018-01-23 10:28:09,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,423 - DEBUG - Count is 1
2018-01-23 10:28:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:28:09,425 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:28:09,426 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:28:09,427 - DEBUG - Max ID Order is (124,)
2018-01-23 10:28:09,427 - DEBUG - Today is 2018-01-23
2018-01-23 10:28:09,427 - DEBUG - Day of the week 1
2018-01-23 10:28:09,428 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:28:09,428 - DEBUG - In Position is  1
2018-01-23 10:28:09,428 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:28:09,428 - DEBUG - curStopLossFlag is  1
2018-01-23 10:28:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:28:09,429 - DEBUG - Checking if Entry has been filled
2018-01-23 10:28:09,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:28:09,430 - DEBUG - EntryPend is 0
2018-01-23 10:28:09,431 - DEBUG - Try to Cancel Stop
2018-01-23 10:28:09,431 - DEBUG - Stop API ID 124
2018-01-23 10:28:09,431 - DEBUG - Profit API ID 0
2018-01-23 10:28:09,431 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:28:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:28:09,432 - DEBUG - Pos is 1
2018-01-23 10:28:09,432 - DEBUG - CurCount is 1
2018-01-23 10:28:09,432 - DEBUG - In Pos 1
2018-01-23 10:28:09,432 - DEBUG - Stop ID is 124
2018-01-23 10:28:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:28:09,435 - DEBUG - EntryPend is 0
2018-01-23 10:28:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:28:09,435 - DEBUG - Entry Date is 10
2018-01-23 10:28:09,435 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:28:09,436 - DEBUG - Order Profit ID is 0
2018-01-23 10:28:09,436 - DEBUG - Order Entry ID is 122
2018-01-23 10:28:09,436 - DEBUG - API ID is  0
2018-01-23 10:28:09,436 - DEBUG - Current Position is 1
2018-01-23 10:28:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:28:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:28:09,437 - DEBUG - Time is 10
2018-01-23 10:28:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 10:28:09,437 - DEBUG - Time is 28
2018-01-23 10:28:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 10:28:09,438 - DEBUG - Disconnected from IBController
2018-01-23 10:28:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:33:05,367 - DEBUG - ****************************************************
2018-01-23 10:33:05,367 - DEBUG - Current Time is 10:33AM
2018-01-23 10:33:05,368 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:33:05,368 - DEBUG - Connecting to database
2018-01-23 10:33:05,402 - DEBUG - Connected to database
2018-01-23 10:33:05,403 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:05,404 - DEBUG - Order Profit is 0
2018-01-23 10:33:05,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:05,406 - DEBUG - Stop ID is 124
2018-01-23 10:33:05,406 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:05,408 - DEBUG - Entry ID is 122
2018-01-23 10:33:05,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:33:05,409 - DEBUG - OCA ID is 1
2018-01-23 10:33:05,410 - DEBUG - Connecting to IBController
2018-01-23 10:33:06,418 - DEBUG - Connected to IBController
2018-01-23 10:33:06,418 - DEBUG - Position requested
2018-01-23 10:33:06,420 - DEBUG - Pos Mgmt 0
2018-01-23 10:33:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDBE0>, pos=0, avgCost=0.0>
2018-01-23 10:33:06,420 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:33:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:33:06,421 - DEBUG - Position is 0
2018-01-23 10:33:06,421 - DEBUG - Pos Mgmt -12987
2018-01-23 10:33:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDD68>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:33:06,422 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:33:06,422 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:33:06,422 - DEBUG - Position is -12987
2018-01-23 10:33:06,422 - DEBUG - Pos Mgmt 1
2018-01-23 10:33:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDF28>, pos=1, avgCost=28952.9>
2018-01-23 10:33:06,423 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:33:06,423 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:33:06,424 - DEBUG - Position is 1
2018-01-23 10:33:06,424 - DEBUG - In Position
2018-01-23 10:33:06,424 - DEBUG - Position is 1
2018-01-23 10:33:06,424 - DEBUG - Pos Mgmt 1
2018-01-23 10:33:06,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020CDEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:33:06,425 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:33:06,425 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:33:06,425 - DEBUG - Position is 1
2018-01-23 10:33:07,419 - DEBUG - Open Orders requested
2018-01-23 10:33:07,421 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020CDFD0>, order=<ib.ext.Order.Order object at 0x00000000020CDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161240>>
2018-01-23 10:33:07,421 - DEBUG - Order OrderID 124
2018-01-23 10:33:07,422 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:33:07,422 - DEBUG - Order status PreSubmitted
2018-01-23 10:33:07,422 - DEBUG - Order Identification 124
2018-01-23 10:33:07,423 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:33:07,423 - DEBUG - Profit ID from database is 0
2018-01-23 10:33:07,423 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:33:07,423 - DEBUG - Stop ID database is 124
2018-01-23 10:33:07,430 - DEBUG - Entry ID database is 122
2018-01-23 10:33:07,430 - DEBUG - Stop API ID is 124
2018-01-23 10:33:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020CDFD0>, order=<ib.ext.Order.Order object at 0x00000000020CDC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002161048>>
2018-01-23 10:33:07,432 - DEBUG - Order OrderID 123
2018-01-23 10:33:07,432 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:33:07,432 - DEBUG - Order status PreSubmitted
2018-01-23 10:33:07,433 - DEBUG - Order Identification 123
2018-01-23 10:33:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:33:07,433 - DEBUG - Profit ID from database is 0
2018-01-23 10:33:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:33:07,434 - DEBUG - Stop ID database is 124
2018-01-23 10:33:07,434 - DEBUG - Entry ID database is 122
2018-01-23 10:33:09,421 - DEBUG - Connecting to database
2018-01-23 10:33:09,428 - DEBUG - Connected to database
2018-01-23 10:33:09,429 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,430 - DEBUG - Stop loss value is 71.02
2018-01-23 10:33:09,431 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,432 - DEBUG - Stop loss value is 83.275
2018-01-23 10:33:09,434 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,434 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:33:09,436 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,436 - DEBUG - Stop quantity 1
2018-01-23 10:33:09,437 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,438 - DEBUG - Direction is Long
2018-01-23 10:33:09,439 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,439 - DEBUG - Count is 1
2018-01-23 10:33:09,441 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:33:09,441 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:33:09,442 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:33:09,443 - DEBUG - Max ID Order is (124,)
2018-01-23 10:33:09,443 - DEBUG - Today is 2018-01-23
2018-01-23 10:33:09,443 - DEBUG - Day of the week 1
2018-01-23 10:33:09,444 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:33:09,444 - DEBUG - In Position is  1
2018-01-23 10:33:09,444 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:33:09,444 - DEBUG - curStopLossFlag is  1
2018-01-23 10:33:09,445 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:33:09,445 - DEBUG - Checking if Entry has been filled
2018-01-23 10:33:09,445 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:33:09,446 - DEBUG - EntryPend is 0
2018-01-23 10:33:09,447 - DEBUG - Try to Cancel Stop
2018-01-23 10:33:09,447 - DEBUG - Stop API ID 124
2018-01-23 10:33:09,447 - DEBUG - Profit API ID 0
2018-01-23 10:33:09,447 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:33:09,448 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:33:09,448 - DEBUG - Pos is 1
2018-01-23 10:33:09,448 - DEBUG - CurCount is 1
2018-01-23 10:33:09,448 - DEBUG - In Pos 1
2018-01-23 10:33:09,448 - DEBUG - Stop ID is 124
2018-01-23 10:33:09,449 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:33:09,450 - DEBUG - EntryPend is 0
2018-01-23 10:33:09,450 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:33:09,450 - DEBUG - Entry Date is 10
2018-01-23 10:33:09,451 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:33:09,451 - DEBUG - Order Profit ID is 0
2018-01-23 10:33:09,451 - DEBUG - Order Entry ID is 122
2018-01-23 10:33:09,451 - DEBUG - API ID is  0
2018-01-23 10:33:09,452 - DEBUG - Current Position is 1
2018-01-23 10:33:09,452 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:33:09,452 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:33:09,452 - DEBUG - Time is 10
2018-01-23 10:33:09,452 - DEBUG - Time is <class 'int'>
2018-01-23 10:33:09,453 - DEBUG - Time is 33
2018-01-23 10:33:09,453 - DEBUG - Time is <class 'int'>
2018-01-23 10:33:09,453 - DEBUG - Disconnected from IBController
2018-01-23 10:33:09,454 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:38:05,346 - DEBUG - ****************************************************
2018-01-23 10:38:05,347 - DEBUG - Current Time is 10:38AM
2018-01-23 10:38:05,347 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:38:05,347 - DEBUG - Connecting to database
2018-01-23 10:38:05,370 - DEBUG - Connected to database
2018-01-23 10:38:05,371 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:05,372 - DEBUG - Order Profit is 0
2018-01-23 10:38:05,373 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:05,374 - DEBUG - Stop ID is 124
2018-01-23 10:38:05,374 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:05,376 - DEBUG - Entry ID is 122
2018-01-23 10:38:05,376 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:38:05,377 - DEBUG - OCA ID is 1
2018-01-23 10:38:05,378 - DEBUG - Connecting to IBController
2018-01-23 10:38:06,384 - DEBUG - Connected to IBController
2018-01-23 10:38:06,384 - DEBUG - Position requested
2018-01-23 10:38:06,386 - DEBUG - Pos Mgmt 0
2018-01-23 10:38:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212BBA8>, pos=0, avgCost=0.0>
2018-01-23 10:38:06,386 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:38:06,386 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:38:06,387 - DEBUG - Position is 0
2018-01-23 10:38:06,387 - DEBUG - Pos Mgmt -12987
2018-01-23 10:38:06,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212BDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:38:06,388 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:38:06,388 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:38:06,388 - DEBUG - Position is -12987
2018-01-23 10:38:06,388 - DEBUG - Pos Mgmt 1
2018-01-23 10:38:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212BF28>, pos=1, avgCost=28952.9>
2018-01-23 10:38:06,389 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:38:06,389 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:38:06,389 - DEBUG - Position is 1
2018-01-23 10:38:06,390 - DEBUG - In Position
2018-01-23 10:38:06,390 - DEBUG - Position is 1
2018-01-23 10:38:06,390 - DEBUG - Pos Mgmt 1
2018-01-23 10:38:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212BEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:38:06,391 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:38:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:38:06,391 - DEBUG - Position is 1
2018-01-23 10:38:07,386 - DEBUG - Open Orders requested
2018-01-23 10:38:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000212BF28>, order=<ib.ext.Order.Order object at 0x000000000212BBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C01D0>>
2018-01-23 10:38:07,389 - DEBUG - Order OrderID 124
2018-01-23 10:38:07,389 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:38:07,390 - DEBUG - Order status PreSubmitted
2018-01-23 10:38:07,390 - DEBUG - Order Identification 124
2018-01-23 10:38:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:38:07,390 - DEBUG - Profit ID from database is 0
2018-01-23 10:38:07,391 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:38:07,391 - DEBUG - Stop ID database is 124
2018-01-23 10:38:07,391 - DEBUG - Entry ID database is 122
2018-01-23 10:38:07,391 - DEBUG - Stop API ID is 124
2018-01-23 10:38:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000212BF28>, order=<ib.ext.Order.Order object at 0x000000000212BBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C0240>>
2018-01-23 10:38:07,393 - DEBUG - Order OrderID 123
2018-01-23 10:38:07,393 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:38:07,393 - DEBUG - Order status PreSubmitted
2018-01-23 10:38:07,394 - DEBUG - Order Identification 123
2018-01-23 10:38:07,394 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:38:07,394 - DEBUG - Profit ID from database is 0
2018-01-23 10:38:07,394 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:38:07,394 - DEBUG - Stop ID database is 124
2018-01-23 10:38:07,395 - DEBUG - Entry ID database is 122
2018-01-23 10:38:09,389 - DEBUG - Connecting to database
2018-01-23 10:38:09,396 - DEBUG - Connected to database
2018-01-23 10:38:09,398 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,398 - DEBUG - Stop loss value is 71.02
2018-01-23 10:38:09,399 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,400 - DEBUG - Stop loss value is 83.275
2018-01-23 10:38:09,401 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,401 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:38:09,403 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,403 - DEBUG - Stop quantity 1
2018-01-23 10:38:09,404 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,405 - DEBUG - Direction is Long
2018-01-23 10:38:09,406 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,406 - DEBUG - Count is 1
2018-01-23 10:38:09,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:38:09,408 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:38:09,409 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:38:09,410 - DEBUG - Max ID Order is (124,)
2018-01-23 10:38:09,410 - DEBUG - Today is 2018-01-23
2018-01-23 10:38:09,411 - DEBUG - Day of the week 1
2018-01-23 10:38:09,411 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:38:09,411 - DEBUG - In Position is  1
2018-01-23 10:38:09,411 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:38:09,411 - DEBUG - curStopLossFlag is  1
2018-01-23 10:38:09,412 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:38:09,412 - DEBUG - Checking if Entry has been filled
2018-01-23 10:38:09,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:38:09,413 - DEBUG - EntryPend is 0
2018-01-23 10:38:09,414 - DEBUG - Try to Cancel Stop
2018-01-23 10:38:09,414 - DEBUG - Stop API ID 124
2018-01-23 10:38:09,414 - DEBUG - Profit API ID 0
2018-01-23 10:38:09,414 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:38:09,415 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:38:09,415 - DEBUG - Pos is 1
2018-01-23 10:38:09,415 - DEBUG - CurCount is 1
2018-01-23 10:38:09,415 - DEBUG - In Pos 1
2018-01-23 10:38:09,415 - DEBUG - Stop ID is 124
2018-01-23 10:38:09,416 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:38:09,417 - DEBUG - EntryPend is 0
2018-01-23 10:38:09,417 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:38:09,417 - DEBUG - Entry Date is 10
2018-01-23 10:38:09,418 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:38:09,418 - DEBUG - Order Profit ID is 0
2018-01-23 10:38:09,418 - DEBUG - Order Entry ID is 122
2018-01-23 10:38:09,418 - DEBUG - API ID is  0
2018-01-23 10:38:09,418 - DEBUG - Current Position is 1
2018-01-23 10:38:09,419 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:38:09,419 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:38:09,419 - DEBUG - Time is 10
2018-01-23 10:38:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 10:38:09,420 - DEBUG - Time is 38
2018-01-23 10:38:09,420 - DEBUG - Time is <class 'int'>
2018-01-23 10:38:09,420 - DEBUG - Disconnected from IBController
2018-01-23 10:38:09,421 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:43:05,354 - DEBUG - ****************************************************
2018-01-23 10:43:05,354 - DEBUG - Current Time is 10:43AM
2018-01-23 10:43:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:43:05,355 - DEBUG - Connecting to database
2018-01-23 10:43:05,384 - DEBUG - Connected to database
2018-01-23 10:43:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:05,386 - DEBUG - Order Profit is 0
2018-01-23 10:43:05,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:05,388 - DEBUG - Stop ID is 124
2018-01-23 10:43:05,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:05,390 - DEBUG - Entry ID is 122
2018-01-23 10:43:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:43:05,391 - DEBUG - OCA ID is 1
2018-01-23 10:43:05,392 - DEBUG - Connecting to IBController
2018-01-23 10:43:06,396 - DEBUG - Connected to IBController
2018-01-23 10:43:06,396 - DEBUG - Position requested
2018-01-23 10:43:06,397 - DEBUG - Pos Mgmt 0
2018-01-23 10:43:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BC50>, pos=0, avgCost=0.0>
2018-01-23 10:43:06,398 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:43:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:43:06,399 - DEBUG - Position is 0
2018-01-23 10:43:06,399 - DEBUG - Pos Mgmt -12987
2018-01-23 10:43:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:43:06,399 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:43:06,400 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:43:06,400 - DEBUG - Position is -12987
2018-01-23 10:43:06,400 - DEBUG - Pos Mgmt 1
2018-01-23 10:43:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BF28>, pos=1, avgCost=28952.9>
2018-01-23 10:43:06,401 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:43:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:43:06,401 - DEBUG - Position is 1
2018-01-23 10:43:06,401 - DEBUG - In Position
2018-01-23 10:43:06,402 - DEBUG - Position is 1
2018-01-23 10:43:06,402 - DEBUG - Pos Mgmt 1
2018-01-23 10:43:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211BEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:43:06,403 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:43:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:43:06,403 - DEBUG - Position is 1
2018-01-23 10:43:07,397 - DEBUG - Open Orders requested
2018-01-23 10:43:07,398 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000211BFD0>, order=<ib.ext.Order.Order object at 0x000000000211BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B0240>>
2018-01-23 10:43:07,399 - DEBUG - Order OrderID 124
2018-01-23 10:43:07,400 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:43:07,400 - DEBUG - Order status PreSubmitted
2018-01-23 10:43:07,400 - DEBUG - Order Identification 124
2018-01-23 10:43:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:43:07,401 - DEBUG - Profit ID from database is 0
2018-01-23 10:43:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:43:07,401 - DEBUG - Stop ID database is 124
2018-01-23 10:43:07,401 - DEBUG - Entry ID database is 122
2018-01-23 10:43:07,402 - DEBUG - Stop API ID is 124
2018-01-23 10:43:07,403 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000211BFD0>, order=<ib.ext.Order.Order object at 0x000000000211BCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B0048>>
2018-01-23 10:43:07,403 - DEBUG - Order OrderID 123
2018-01-23 10:43:07,403 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:43:07,404 - DEBUG - Order status PreSubmitted
2018-01-23 10:43:07,404 - DEBUG - Order Identification 123
2018-01-23 10:43:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:43:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 10:43:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:43:07,405 - DEBUG - Stop ID database is 124
2018-01-23 10:43:07,405 - DEBUG - Entry ID database is 122
2018-01-23 10:43:09,399 - DEBUG - Connecting to database
2018-01-23 10:43:09,406 - DEBUG - Connected to database
2018-01-23 10:43:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,408 - DEBUG - Stop loss value is 71.02
2018-01-23 10:43:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,410 - DEBUG - Stop loss value is 83.275
2018-01-23 10:43:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,411 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:43:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,413 - DEBUG - Stop quantity 1
2018-01-23 10:43:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,415 - DEBUG - Direction is Long
2018-01-23 10:43:09,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,416 - DEBUG - Count is 1
2018-01-23 10:43:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:43:09,418 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:43:09,419 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:43:09,419 - DEBUG - Max ID Order is (124,)
2018-01-23 10:43:09,420 - DEBUG - Today is 2018-01-23
2018-01-23 10:43:09,420 - DEBUG - Day of the week 1
2018-01-23 10:43:09,420 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:43:09,421 - DEBUG - In Position is  1
2018-01-23 10:43:09,421 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:43:09,421 - DEBUG - curStopLossFlag is  1
2018-01-23 10:43:09,421 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:43:09,422 - DEBUG - Checking if Entry has been filled
2018-01-23 10:43:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:43:09,423 - DEBUG - EntryPend is 0
2018-01-23 10:43:09,423 - DEBUG - Try to Cancel Stop
2018-01-23 10:43:09,424 - DEBUG - Stop API ID 124
2018-01-23 10:43:09,424 - DEBUG - Profit API ID 0
2018-01-23 10:43:09,424 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:43:09,424 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:43:09,424 - DEBUG - Pos is 1
2018-01-23 10:43:09,425 - DEBUG - CurCount is 1
2018-01-23 10:43:09,425 - DEBUG - In Pos 1
2018-01-23 10:43:09,425 - DEBUG - Stop ID is 124
2018-01-23 10:43:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:43:09,427 - DEBUG - EntryPend is 0
2018-01-23 10:43:09,427 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:43:09,427 - DEBUG - Entry Date is 10
2018-01-23 10:43:09,427 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:43:09,428 - DEBUG - Order Profit ID is 0
2018-01-23 10:43:09,428 - DEBUG - Order Entry ID is 122
2018-01-23 10:43:09,428 - DEBUG - API ID is  0
2018-01-23 10:43:09,428 - DEBUG - Current Position is 1
2018-01-23 10:43:09,428 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:43:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:43:09,429 - DEBUG - Time is 10
2018-01-23 10:43:09,429 - DEBUG - Time is <class 'int'>
2018-01-23 10:43:09,429 - DEBUG - Time is 43
2018-01-23 10:43:09,429 - DEBUG - Time is <class 'int'>
2018-01-23 10:43:09,430 - DEBUG - Disconnected from IBController
2018-01-23 10:43:09,430 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:48:05,347 - DEBUG - ****************************************************
2018-01-23 10:48:05,348 - DEBUG - Current Time is 10:48AM
2018-01-23 10:48:05,348 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:48:05,348 - DEBUG - Connecting to database
2018-01-23 10:48:05,383 - DEBUG - Connected to database
2018-01-23 10:48:05,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:05,385 - DEBUG - Order Profit is 0
2018-01-23 10:48:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:05,387 - DEBUG - Stop ID is 124
2018-01-23 10:48:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:05,388 - DEBUG - Entry ID is 122
2018-01-23 10:48:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:48:05,390 - DEBUG - OCA ID is 1
2018-01-23 10:48:05,390 - DEBUG - Connecting to IBController
2018-01-23 10:48:06,398 - DEBUG - Connected to IBController
2018-01-23 10:48:06,398 - DEBUG - Position requested
2018-01-23 10:48:06,399 - DEBUG - Pos Mgmt 0
2018-01-23 10:48:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DE10>, pos=0, avgCost=0.0>
2018-01-23 10:48:06,400 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:48:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:48:06,401 - DEBUG - Position is 0
2018-01-23 10:48:06,401 - DEBUG - Pos Mgmt -12987
2018-01-23 10:48:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:48:06,402 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:48:06,402 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:48:06,402 - DEBUG - Position is -12987
2018-01-23 10:48:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 10:48:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DF28>, pos=1, avgCost=28952.9>
2018-01-23 10:48:06,403 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:48:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:48:06,403 - DEBUG - Position is 1
2018-01-23 10:48:06,404 - DEBUG - In Position
2018-01-23 10:48:06,404 - DEBUG - Position is 1
2018-01-23 10:48:06,404 - DEBUG - Pos Mgmt 1
2018-01-23 10:48:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:48:06,405 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:48:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:48:06,405 - DEBUG - Position is 1
2018-01-23 10:48:07,400 - DEBUG - Open Orders requested
2018-01-23 10:48:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000213DF28>, order=<ib.ext.Order.Order object at 0x000000000213DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D11D0>>
2018-01-23 10:48:07,402 - DEBUG - Order OrderID 124
2018-01-23 10:48:07,403 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:48:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 10:48:07,403 - DEBUG - Order Identification 124
2018-01-23 10:48:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:48:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 10:48:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:48:07,404 - DEBUG - Stop ID database is 124
2018-01-23 10:48:07,404 - DEBUG - Entry ID database is 122
2018-01-23 10:48:07,405 - DEBUG - Stop API ID is 124
2018-01-23 10:48:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000213DF28>, order=<ib.ext.Order.Order object at 0x000000000213DB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D1240>>
2018-01-23 10:48:07,406 - DEBUG - Order OrderID 123
2018-01-23 10:48:07,407 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:48:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 10:48:07,407 - DEBUG - Order Identification 123
2018-01-23 10:48:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:48:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 10:48:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:48:07,408 - DEBUG - Stop ID database is 124
2018-01-23 10:48:07,408 - DEBUG - Entry ID database is 122
2018-01-23 10:48:09,400 - DEBUG - Connecting to database
2018-01-23 10:48:09,407 - DEBUG - Connected to database
2018-01-23 10:48:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 10:48:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,410 - DEBUG - Stop loss value is 83.275
2018-01-23 10:48:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,412 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:48:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,414 - DEBUG - Stop quantity 1
2018-01-23 10:48:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,415 - DEBUG - Direction is Long
2018-01-23 10:48:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,417 - DEBUG - Count is 1
2018-01-23 10:48:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:48:09,419 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:48:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:48:09,420 - DEBUG - Max ID Order is (124,)
2018-01-23 10:48:09,421 - DEBUG - Today is 2018-01-23
2018-01-23 10:48:09,421 - DEBUG - Day of the week 1
2018-01-23 10:48:09,421 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:48:09,421 - DEBUG - In Position is  1
2018-01-23 10:48:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:48:09,422 - DEBUG - curStopLossFlag is  1
2018-01-23 10:48:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:48:09,422 - DEBUG - Checking if Entry has been filled
2018-01-23 10:48:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:48:09,424 - DEBUG - EntryPend is 0
2018-01-23 10:48:09,424 - DEBUG - Try to Cancel Stop
2018-01-23 10:48:09,424 - DEBUG - Stop API ID 124
2018-01-23 10:48:09,425 - DEBUG - Profit API ID 0
2018-01-23 10:48:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:48:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:48:09,425 - DEBUG - Pos is 1
2018-01-23 10:48:09,425 - DEBUG - CurCount is 1
2018-01-23 10:48:09,426 - DEBUG - In Pos 1
2018-01-23 10:48:09,426 - DEBUG - Stop ID is 124
2018-01-23 10:48:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:48:09,427 - DEBUG - EntryPend is 0
2018-01-23 10:48:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:48:09,428 - DEBUG - Entry Date is 10
2018-01-23 10:48:09,428 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:48:09,428 - DEBUG - Order Profit ID is 0
2018-01-23 10:48:09,428 - DEBUG - Order Entry ID is 122
2018-01-23 10:48:09,429 - DEBUG - API ID is  0
2018-01-23 10:48:09,429 - DEBUG - Current Position is 1
2018-01-23 10:48:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:48:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:48:09,430 - DEBUG - Time is 10
2018-01-23 10:48:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 10:48:09,430 - DEBUG - Time is 48
2018-01-23 10:48:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 10:48:09,431 - DEBUG - Disconnected from IBController
2018-01-23 10:48:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:53:05,345 - DEBUG - ****************************************************
2018-01-23 10:53:05,346 - DEBUG - Current Time is 10:53AM
2018-01-23 10:53:05,346 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:53:05,347 - DEBUG - Connecting to database
2018-01-23 10:53:05,374 - DEBUG - Connected to database
2018-01-23 10:53:05,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:05,376 - DEBUG - Order Profit is 0
2018-01-23 10:53:05,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:05,377 - DEBUG - Stop ID is 124
2018-01-23 10:53:05,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:05,379 - DEBUG - Entry ID is 122
2018-01-23 10:53:05,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:53:05,381 - DEBUG - OCA ID is 1
2018-01-23 10:53:05,381 - DEBUG - Connecting to IBController
2018-01-23 10:53:06,385 - DEBUG - Connected to IBController
2018-01-23 10:53:06,385 - DEBUG - Position requested
2018-01-23 10:53:06,387 - DEBUG - Pos Mgmt 0
2018-01-23 10:53:06,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DC50>, pos=0, avgCost=0.0>
2018-01-23 10:53:06,387 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:53:06,387 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:53:06,388 - DEBUG - Position is 0
2018-01-23 10:53:06,388 - DEBUG - Pos Mgmt -12987
2018-01-23 10:53:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DC88>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:53:06,389 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:53:06,389 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:53:06,389 - DEBUG - Position is -12987
2018-01-23 10:53:06,390 - DEBUG - Pos Mgmt 1
2018-01-23 10:53:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DF28>, pos=1, avgCost=28952.9>
2018-01-23 10:53:06,390 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:53:06,390 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:53:06,390 - DEBUG - Position is 1
2018-01-23 10:53:06,391 - DEBUG - In Position
2018-01-23 10:53:06,391 - DEBUG - Position is 1
2018-01-23 10:53:06,391 - DEBUG - Pos Mgmt 1
2018-01-23 10:53:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:53:06,392 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:53:06,392 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:53:06,392 - DEBUG - Position is 1
2018-01-23 10:53:07,386 - DEBUG - Open Orders requested
2018-01-23 10:53:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1240>>
2018-01-23 10:53:07,389 - DEBUG - Order OrderID 124
2018-01-23 10:53:07,389 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:53:07,390 - DEBUG - Order status PreSubmitted
2018-01-23 10:53:07,390 - DEBUG - Order Identification 124
2018-01-23 10:53:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:53:07,390 - DEBUG - Profit ID from database is 0
2018-01-23 10:53:07,391 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:53:07,391 - DEBUG - Stop ID database is 124
2018-01-23 10:53:07,391 - DEBUG - Entry ID database is 122
2018-01-23 10:53:07,391 - DEBUG - Stop API ID is 124
2018-01-23 10:53:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1080>>
2018-01-23 10:53:07,393 - DEBUG - Order OrderID 123
2018-01-23 10:53:07,393 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:53:07,393 - DEBUG - Order status PreSubmitted
2018-01-23 10:53:07,393 - DEBUG - Order Identification 123
2018-01-23 10:53:07,394 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:53:07,394 - DEBUG - Profit ID from database is 0
2018-01-23 10:53:07,394 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:53:07,394 - DEBUG - Stop ID database is 124
2018-01-23 10:53:07,395 - DEBUG - Entry ID database is 122
2018-01-23 10:53:09,388 - DEBUG - Connecting to database
2018-01-23 10:53:09,395 - DEBUG - Connected to database
2018-01-23 10:53:09,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,397 - DEBUG - Stop loss value is 71.02
2018-01-23 10:53:09,398 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,398 - DEBUG - Stop loss value is 83.275
2018-01-23 10:53:09,400 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,400 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:53:09,401 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,402 - DEBUG - Stop quantity 1
2018-01-23 10:53:09,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,404 - DEBUG - Direction is Long
2018-01-23 10:53:09,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,405 - DEBUG - Count is 1
2018-01-23 10:53:09,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:53:09,407 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:53:09,408 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:53:09,409 - DEBUG - Max ID Order is (124,)
2018-01-23 10:53:09,409 - DEBUG - Today is 2018-01-23
2018-01-23 10:53:09,409 - DEBUG - Day of the week 1
2018-01-23 10:53:09,410 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:53:09,410 - DEBUG - In Position is  1
2018-01-23 10:53:09,410 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:53:09,410 - DEBUG - curStopLossFlag is  1
2018-01-23 10:53:09,411 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:53:09,411 - DEBUG - Checking if Entry has been filled
2018-01-23 10:53:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:53:09,412 - DEBUG - EntryPend is 0
2018-01-23 10:53:09,413 - DEBUG - Try to Cancel Stop
2018-01-23 10:53:09,413 - DEBUG - Stop API ID 124
2018-01-23 10:53:09,413 - DEBUG - Profit API ID 0
2018-01-23 10:53:09,413 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:53:09,413 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:53:09,414 - DEBUG - Pos is 1
2018-01-23 10:53:09,414 - DEBUG - CurCount is 1
2018-01-23 10:53:09,414 - DEBUG - In Pos 1
2018-01-23 10:53:09,414 - DEBUG - Stop ID is 124
2018-01-23 10:53:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:53:09,416 - DEBUG - EntryPend is 0
2018-01-23 10:53:09,416 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:53:09,416 - DEBUG - Entry Date is 10
2018-01-23 10:53:09,417 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:53:09,417 - DEBUG - Order Profit ID is 0
2018-01-23 10:53:09,417 - DEBUG - Order Entry ID is 122
2018-01-23 10:53:09,417 - DEBUG - API ID is  0
2018-01-23 10:53:09,417 - DEBUG - Current Position is 1
2018-01-23 10:53:09,418 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:53:09,418 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:53:09,418 - DEBUG - Time is 10
2018-01-23 10:53:09,418 - DEBUG - Time is <class 'int'>
2018-01-23 10:53:09,418 - DEBUG - Time is 53
2018-01-23 10:53:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 10:53:09,419 - DEBUG - Disconnected from IBController
2018-01-23 10:53:09,419 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 10:58:05,358 - DEBUG - ****************************************************
2018-01-23 10:58:05,359 - DEBUG - Current Time is 10:58AM
2018-01-23 10:58:05,359 - DEBUG - Starting Pos Mgmt H E
2018-01-23 10:58:05,359 - DEBUG - Connecting to database
2018-01-23 10:58:05,383 - DEBUG - Connected to database
2018-01-23 10:58:05,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:05,385 - DEBUG - Order Profit is 0
2018-01-23 10:58:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:05,387 - DEBUG - Stop ID is 124
2018-01-23 10:58:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:05,388 - DEBUG - Entry ID is 122
2018-01-23 10:58:05,388 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 10:58:05,390 - DEBUG - OCA ID is 1
2018-01-23 10:58:05,390 - DEBUG - Connecting to IBController
2018-01-23 10:58:06,393 - DEBUG - Connected to IBController
2018-01-23 10:58:06,393 - DEBUG - Position requested
2018-01-23 10:58:06,394 - DEBUG - Pos Mgmt 0
2018-01-23 10:58:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDA90>, pos=0, avgCost=0.0>
2018-01-23 10:58:06,395 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 10:58:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:58:06,396 - DEBUG - Position is 0
2018-01-23 10:58:06,396 - DEBUG - Pos Mgmt -12987
2018-01-23 10:58:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDAC8>, pos=-12987, avgCost=0.95368235>
2018-01-23 10:58:06,397 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 10:58:06,397 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 10:58:06,397 - DEBUG - Position is -12987
2018-01-23 10:58:06,398 - DEBUG - Pos Mgmt 1
2018-01-23 10:58:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDF28>, pos=1, avgCost=28952.9>
2018-01-23 10:58:06,398 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 10:58:06,398 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:58:06,399 - DEBUG - Position is 1
2018-01-23 10:58:06,399 - DEBUG - In Position
2018-01-23 10:58:06,399 - DEBUG - Position is 1
2018-01-23 10:58:06,399 - DEBUG - Pos Mgmt 1
2018-01-23 10:58:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDEF0>, pos=1, avgCost=49582.9>
2018-01-23 10:58:06,400 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 10:58:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 10:58:06,400 - DEBUG - Position is 1
2018-01-23 10:58:07,394 - DEBUG - Open Orders requested
2018-01-23 10:58:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181240>>
2018-01-23 10:58:07,396 - DEBUG - Order OrderID 124
2018-01-23 10:58:07,397 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:58:07,397 - DEBUG - Order status PreSubmitted
2018-01-23 10:58:07,398 - DEBUG - Order Identification 124
2018-01-23 10:58:07,398 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:58:07,398 - DEBUG - Profit ID from database is 0
2018-01-23 10:58:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:58:07,399 - DEBUG - Stop ID database is 124
2018-01-23 10:58:07,399 - DEBUG - Entry ID database is 122
2018-01-23 10:58:07,399 - DEBUG - Stop API ID is 124
2018-01-23 10:58:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020EDFD0>, order=<ib.ext.Order.Order object at 0x00000000020EDBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021810B8>>
2018-01-23 10:58:07,400 - DEBUG - Order OrderID 123
2018-01-23 10:58:07,401 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 10:58:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 10:58:07,401 - DEBUG - Order Identification 123
2018-01-23 10:58:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 10:58:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 10:58:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 10:58:07,402 - DEBUG - Stop ID database is 124
2018-01-23 10:58:07,402 - DEBUG - Entry ID database is 122
2018-01-23 10:58:09,396 - DEBUG - Connecting to database
2018-01-23 10:58:09,403 - DEBUG - Connected to database
2018-01-23 10:58:09,404 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,404 - DEBUG - Stop loss value is 71.02
2018-01-23 10:58:09,406 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,406 - DEBUG - Stop loss value is 83.275
2018-01-23 10:58:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,408 - DEBUG - EntryPrice value is 72.32
2018-01-23 10:58:09,409 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,409 - DEBUG - Stop quantity 1
2018-01-23 10:58:09,411 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,411 - DEBUG - Direction is Long
2018-01-23 10:58:09,412 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,413 - DEBUG - Count is 1
2018-01-23 10:58:09,414 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 10:58:09,414 - DEBUG - Stop Loss Flag is 1
2018-01-23 10:58:09,416 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 10:58:09,416 - DEBUG - Max ID Order is (124,)
2018-01-23 10:58:09,416 - DEBUG - Today is 2018-01-23
2018-01-23 10:58:09,417 - DEBUG - Day of the week 1
2018-01-23 10:58:09,417 - DEBUG - Yesterday is 01/22/2018
2018-01-23 10:58:09,417 - DEBUG - In Position is  1
2018-01-23 10:58:09,418 - DEBUG - In Position is  <class 'int'>
2018-01-23 10:58:09,418 - DEBUG - curStopLossFlag is  1
2018-01-23 10:58:09,418 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 10:58:09,418 - DEBUG - Checking if Entry has been filled
2018-01-23 10:58:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:58:09,420 - DEBUG - EntryPend is 0
2018-01-23 10:58:09,420 - DEBUG - Try to Cancel Stop
2018-01-23 10:58:09,420 - DEBUG - Stop API ID 124
2018-01-23 10:58:09,421 - DEBUG - Profit API ID 0
2018-01-23 10:58:09,421 - DEBUG - Stop API ID <class 'int'>
2018-01-23 10:58:09,421 - DEBUG - Profit API ID <class 'int'>
2018-01-23 10:58:09,421 - DEBUG - Pos is 1
2018-01-23 10:58:09,421 - DEBUG - CurCount is 1
2018-01-23 10:58:09,422 - DEBUG - In Pos 1
2018-01-23 10:58:09,422 - DEBUG - Stop ID is 124
2018-01-23 10:58:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 10:58:09,423 - DEBUG - EntryPend is 0
2018-01-23 10:58:09,424 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 10:58:09,424 - DEBUG - Entry Date is 10
2018-01-23 10:58:09,424 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 10:58:09,424 - DEBUG - Order Profit ID is 0
2018-01-23 10:58:09,425 - DEBUG - Order Entry ID is 122
2018-01-23 10:58:09,425 - DEBUG - API ID is  0
2018-01-23 10:58:09,425 - DEBUG - Current Position is 1
2018-01-23 10:58:09,425 - DEBUG - Current Position is <class 'str'>
2018-01-23 10:58:09,425 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 10:58:09,426 - DEBUG - Time is 10
2018-01-23 10:58:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 10:58:09,426 - DEBUG - Time is 58
2018-01-23 10:58:09,426 - DEBUG - Time is <class 'int'>
2018-01-23 10:58:09,427 - DEBUG - Disconnected from IBController
2018-01-23 10:58:09,427 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:03:05,361 - DEBUG - ****************************************************
2018-01-23 11:03:05,361 - DEBUG - Current Time is 11:03AM
2018-01-23 11:03:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:03:05,362 - DEBUG - Connecting to database
2018-01-23 11:03:05,384 - DEBUG - Connected to database
2018-01-23 11:03:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:05,386 - DEBUG - Order Profit is 0
2018-01-23 11:03:05,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:05,388 - DEBUG - Stop ID is 124
2018-01-23 11:03:05,388 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:05,389 - DEBUG - Entry ID is 122
2018-01-23 11:03:05,390 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:03:05,391 - DEBUG - OCA ID is 1
2018-01-23 11:03:05,391 - DEBUG - Connecting to IBController
2018-01-23 11:03:06,398 - DEBUG - Connected to IBController
2018-01-23 11:03:06,398 - DEBUG - Position requested
2018-01-23 11:03:06,399 - DEBUG - Pos Mgmt 0
2018-01-23 11:03:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDE10>, pos=0, avgCost=0.0>
2018-01-23 11:03:06,400 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:03:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:03:06,401 - DEBUG - Position is 0
2018-01-23 11:03:06,401 - DEBUG - Pos Mgmt -12987
2018-01-23 11:03:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDC50>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:03:06,402 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:03:06,402 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:03:06,402 - DEBUG - Position is -12987
2018-01-23 11:03:06,410 - DEBUG - Pos Mgmt 1
2018-01-23 11:03:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDF28>, pos=1, avgCost=28952.9>
2018-01-23 11:03:06,410 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:03:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:03:06,411 - DEBUG - Position is 1
2018-01-23 11:03:06,411 - DEBUG - In Position
2018-01-23 11:03:06,411 - DEBUG - Position is 1
2018-01-23 11:03:06,411 - DEBUG - Pos Mgmt 1
2018-01-23 11:03:06,412 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EDEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:03:06,412 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:03:06,412 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:03:06,412 - DEBUG - Position is 1
2018-01-23 11:03:07,400 - DEBUG - Open Orders requested
2018-01-23 11:03:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020EDF28>, order=<ib.ext.Order.Order object at 0x00000000020EDE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021811D0>>
2018-01-23 11:03:07,402 - DEBUG - Order OrderID 124
2018-01-23 11:03:07,403 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:03:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 11:03:07,404 - DEBUG - Order Identification 124
2018-01-23 11:03:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:03:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 11:03:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:03:07,405 - DEBUG - Stop ID database is 124
2018-01-23 11:03:07,405 - DEBUG - Entry ID database is 122
2018-01-23 11:03:07,405 - DEBUG - Stop API ID is 124
2018-01-23 11:03:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020EDF28>, order=<ib.ext.Order.Order object at 0x00000000020EDE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002181240>>
2018-01-23 11:03:07,406 - DEBUG - Order OrderID 123
2018-01-23 11:03:07,407 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:03:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 11:03:07,407 - DEBUG - Order Identification 123
2018-01-23 11:03:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:03:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 11:03:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:03:07,408 - DEBUG - Stop ID database is 124
2018-01-23 11:03:07,408 - DEBUG - Entry ID database is 122
2018-01-23 11:03:09,401 - DEBUG - Connecting to database
2018-01-23 11:03:09,408 - DEBUG - Connected to database
2018-01-23 11:03:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,410 - DEBUG - Stop loss value is 71.02
2018-01-23 11:03:09,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,411 - DEBUG - Stop loss value is 83.275
2018-01-23 11:03:09,413 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,413 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:03:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,415 - DEBUG - Stop quantity 1
2018-01-23 11:03:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,416 - DEBUG - Direction is Long
2018-01-23 11:03:09,419 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,419 - DEBUG - Count is 1
2018-01-23 11:03:09,420 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:03:09,421 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:03:09,422 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:03:09,422 - DEBUG - Max ID Order is (124,)
2018-01-23 11:03:09,423 - DEBUG - Today is 2018-01-23
2018-01-23 11:03:09,423 - DEBUG - Day of the week 1
2018-01-23 11:03:09,423 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:03:09,424 - DEBUG - In Position is  1
2018-01-23 11:03:09,424 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:03:09,424 - DEBUG - curStopLossFlag is  1
2018-01-23 11:03:09,424 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:03:09,425 - DEBUG - Checking if Entry has been filled
2018-01-23 11:03:09,425 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:03:09,426 - DEBUG - EntryPend is 0
2018-01-23 11:03:09,426 - DEBUG - Try to Cancel Stop
2018-01-23 11:03:09,427 - DEBUG - Stop API ID 124
2018-01-23 11:03:09,427 - DEBUG - Profit API ID 0
2018-01-23 11:03:09,427 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:03:09,427 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:03:09,427 - DEBUG - Pos is 1
2018-01-23 11:03:09,428 - DEBUG - CurCount is 1
2018-01-23 11:03:09,428 - DEBUG - In Pos 1
2018-01-23 11:03:09,428 - DEBUG - Stop ID is 124
2018-01-23 11:03:09,428 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:03:09,430 - DEBUG - EntryPend is 0
2018-01-23 11:03:09,430 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:03:09,430 - DEBUG - Entry Date is 10
2018-01-23 11:03:09,430 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:03:09,431 - DEBUG - Order Profit ID is 0
2018-01-23 11:03:09,431 - DEBUG - Order Entry ID is 122
2018-01-23 11:03:09,431 - DEBUG - API ID is  0
2018-01-23 11:03:09,431 - DEBUG - Current Position is 1
2018-01-23 11:03:09,431 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:03:09,432 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:03:09,432 - DEBUG - Time is 11
2018-01-23 11:03:09,432 - DEBUG - Time is <class 'int'>
2018-01-23 11:03:09,432 - DEBUG - Time is 3
2018-01-23 11:03:09,432 - DEBUG - Time is <class 'int'>
2018-01-23 11:03:09,433 - DEBUG - Disconnected from IBController
2018-01-23 11:03:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:08:05,365 - DEBUG - ****************************************************
2018-01-23 11:08:05,366 - DEBUG - Current Time is 11:08AM
2018-01-23 11:08:05,366 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:08:05,366 - DEBUG - Connecting to database
2018-01-23 11:08:05,405 - DEBUG - Connected to database
2018-01-23 11:08:05,405 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:05,407 - DEBUG - Order Profit is 0
2018-01-23 11:08:05,407 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:05,408 - DEBUG - Stop ID is 124
2018-01-23 11:08:05,409 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:05,410 - DEBUG - Entry ID is 122
2018-01-23 11:08:05,410 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:08:05,412 - DEBUG - OCA ID is 1
2018-01-23 11:08:05,412 - DEBUG - Connecting to IBController
2018-01-23 11:08:06,420 - DEBUG - Connected to IBController
2018-01-23 11:08:06,420 - DEBUG - Position requested
2018-01-23 11:08:06,421 - DEBUG - Pos Mgmt 0
2018-01-23 11:08:06,422 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020E9A20>, pos=0, avgCost=0.0>
2018-01-23 11:08:06,422 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:08:06,422 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:08:06,423 - DEBUG - Position is 0
2018-01-23 11:08:06,423 - DEBUG - Pos Mgmt -12987
2018-01-23 11:08:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020E9A58>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:08:06,424 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:08:06,424 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:08:06,424 - DEBUG - Position is -12987
2018-01-23 11:08:06,424 - DEBUG - Pos Mgmt 1
2018-01-23 11:08:06,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020E9EF0>, pos=1, avgCost=28952.9>
2018-01-23 11:08:06,425 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:08:06,425 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:08:06,425 - DEBUG - Position is 1
2018-01-23 11:08:06,425 - DEBUG - In Position
2018-01-23 11:08:06,426 - DEBUG - Position is 1
2018-01-23 11:08:06,426 - DEBUG - Pos Mgmt 1
2018-01-23 11:08:06,426 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020E9FD0>, pos=1, avgCost=49582.9>
2018-01-23 11:08:06,426 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:08:06,427 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:08:06,427 - DEBUG - Position is 1
2018-01-23 11:08:07,421 - DEBUG - Open Orders requested
2018-01-23 11:08:07,424 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020E9F98>, order=<ib.ext.Order.Order object at 0x00000000020E9C88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000217F240>>
2018-01-23 11:08:07,424 - DEBUG - Order OrderID 124
2018-01-23 11:08:07,425 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:08:07,425 - DEBUG - Order status PreSubmitted
2018-01-23 11:08:07,425 - DEBUG - Order Identification 124
2018-01-23 11:08:07,425 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:08:07,426 - DEBUG - Profit ID from database is 0
2018-01-23 11:08:07,426 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:08:07,426 - DEBUG - Stop ID database is 124
2018-01-23 11:08:07,426 - DEBUG - Entry ID database is 122
2018-01-23 11:08:07,426 - DEBUG - Stop API ID is 124
2018-01-23 11:08:07,427 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020E9F98>, order=<ib.ext.Order.Order object at 0x00000000020E9C88>, orderState=<ib.ext.OrderState.OrderState object at 0x000000000217F0F0>>
2018-01-23 11:08:07,428 - DEBUG - Order OrderID 123
2018-01-23 11:08:07,428 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:08:07,428 - DEBUG - Order status PreSubmitted
2018-01-23 11:08:07,429 - DEBUG - Order Identification 123
2018-01-23 11:08:07,429 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:08:07,429 - DEBUG - Profit ID from database is 0
2018-01-23 11:08:07,429 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:08:07,430 - DEBUG - Stop ID database is 124
2018-01-23 11:08:07,430 - DEBUG - Entry ID database is 122
2018-01-23 11:08:09,424 - DEBUG - Connecting to database
2018-01-23 11:08:09,439 - DEBUG - Connected to database
2018-01-23 11:08:09,440 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,441 - DEBUG - Stop loss value is 71.02
2018-01-23 11:08:09,442 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,443 - DEBUG - Stop loss value is 83.275
2018-01-23 11:08:09,444 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,444 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:08:09,445 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,446 - DEBUG - Stop quantity 1
2018-01-23 11:08:09,447 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,447 - DEBUG - Direction is Long
2018-01-23 11:08:09,449 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,449 - DEBUG - Count is 1
2018-01-23 11:08:09,450 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:08:09,451 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:08:09,452 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:08:09,453 - DEBUG - Max ID Order is (124,)
2018-01-23 11:08:09,453 - DEBUG - Today is 2018-01-23
2018-01-23 11:08:09,453 - DEBUG - Day of the week 1
2018-01-23 11:08:09,454 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:08:09,454 - DEBUG - In Position is  1
2018-01-23 11:08:09,454 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:08:09,454 - DEBUG - curStopLossFlag is  1
2018-01-23 11:08:09,454 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:08:09,455 - DEBUG - Checking if Entry has been filled
2018-01-23 11:08:09,455 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:08:09,456 - DEBUG - EntryPend is 0
2018-01-23 11:08:09,456 - DEBUG - Try to Cancel Stop
2018-01-23 11:08:09,457 - DEBUG - Stop API ID 124
2018-01-23 11:08:09,457 - DEBUG - Profit API ID 0
2018-01-23 11:08:09,457 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:08:09,457 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:08:09,458 - DEBUG - Pos is 1
2018-01-23 11:08:09,458 - DEBUG - CurCount is 1
2018-01-23 11:08:09,458 - DEBUG - In Pos 1
2018-01-23 11:08:09,458 - DEBUG - Stop ID is 124
2018-01-23 11:08:09,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:08:09,460 - DEBUG - EntryPend is 0
2018-01-23 11:08:09,460 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:08:09,460 - DEBUG - Entry Date is 10
2018-01-23 11:08:09,461 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:08:09,461 - DEBUG - Order Profit ID is 0
2018-01-23 11:08:09,461 - DEBUG - Order Entry ID is 122
2018-01-23 11:08:09,461 - DEBUG - API ID is  0
2018-01-23 11:08:09,461 - DEBUG - Current Position is 1
2018-01-23 11:08:09,462 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:08:09,462 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:08:09,462 - DEBUG - Time is 11
2018-01-23 11:08:09,462 - DEBUG - Time is <class 'int'>
2018-01-23 11:08:09,463 - DEBUG - Time is 8
2018-01-23 11:08:09,463 - DEBUG - Time is <class 'int'>
2018-01-23 11:08:09,463 - DEBUG - Disconnected from IBController
2018-01-23 11:08:09,463 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:13:05,363 - DEBUG - ****************************************************
2018-01-23 11:13:05,364 - DEBUG - Current Time is 11:13AM
2018-01-23 11:13:05,364 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:13:05,364 - DEBUG - Connecting to database
2018-01-23 11:13:05,387 - DEBUG - Connected to database
2018-01-23 11:13:05,387 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:05,388 - DEBUG - Order Profit is 0
2018-01-23 11:13:05,389 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:05,390 - DEBUG - Stop ID is 124
2018-01-23 11:13:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:05,392 - DEBUG - Entry ID is 122
2018-01-23 11:13:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:13:05,393 - DEBUG - OCA ID is 1
2018-01-23 11:13:05,394 - DEBUG - Connecting to IBController
2018-01-23 11:13:06,399 - DEBUG - Connected to IBController
2018-01-23 11:13:06,399 - DEBUG - Position requested
2018-01-23 11:13:06,400 - DEBUG - Pos Mgmt 0
2018-01-23 11:13:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBCC0>, pos=0, avgCost=0.0>
2018-01-23 11:13:06,401 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:13:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:13:06,402 - DEBUG - Position is 0
2018-01-23 11:13:06,402 - DEBUG - Pos Mgmt -12987
2018-01-23 11:13:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBAC8>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:13:06,403 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:13:06,403 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:13:06,403 - DEBUG - Position is -12987
2018-01-23 11:13:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 11:13:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBF28>, pos=1, avgCost=28952.9>
2018-01-23 11:13:06,404 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:13:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:13:06,404 - DEBUG - Position is 1
2018-01-23 11:13:06,405 - DEBUG - In Position
2018-01-23 11:13:06,405 - DEBUG - Position is 1
2018-01-23 11:13:06,405 - DEBUG - Pos Mgmt 1
2018-01-23 11:13:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:13:06,406 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:13:06,406 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:13:06,406 - DEBUG - Position is 1
2018-01-23 11:13:07,400 - DEBUG - Open Orders requested
2018-01-23 11:13:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FBFD0>, order=<ib.ext.Order.Order object at 0x00000000020FBCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002190240>>
2018-01-23 11:13:07,402 - DEBUG - Order OrderID 124
2018-01-23 11:13:07,403 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:13:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 11:13:07,403 - DEBUG - Order Identification 124
2018-01-23 11:13:07,404 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:13:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 11:13:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:13:07,404 - DEBUG - Stop ID database is 124
2018-01-23 11:13:07,405 - DEBUG - Entry ID database is 122
2018-01-23 11:13:07,405 - DEBUG - Stop API ID is 124
2018-01-23 11:13:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FBFD0>, order=<ib.ext.Order.Order object at 0x00000000020FBCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002190048>>
2018-01-23 11:13:07,406 - DEBUG - Order OrderID 123
2018-01-23 11:13:07,407 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:13:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 11:13:07,407 - DEBUG - Order Identification 123
2018-01-23 11:13:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:13:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 11:13:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:13:07,408 - DEBUG - Stop ID database is 124
2018-01-23 11:13:07,408 - DEBUG - Entry ID database is 122
2018-01-23 11:13:09,402 - DEBUG - Connecting to database
2018-01-23 11:13:09,409 - DEBUG - Connected to database
2018-01-23 11:13:09,410 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,411 - DEBUG - Stop loss value is 71.02
2018-01-23 11:13:09,412 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,412 - DEBUG - Stop loss value is 83.275
2018-01-23 11:13:09,414 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,414 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:13:09,415 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,416 - DEBUG - Stop quantity 1
2018-01-23 11:13:09,418 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,418 - DEBUG - Direction is Long
2018-01-23 11:13:09,420 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,420 - DEBUG - Count is 1
2018-01-23 11:13:09,422 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:13:09,422 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:13:09,424 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:13:09,424 - DEBUG - Max ID Order is (124,)
2018-01-23 11:13:09,425 - DEBUG - Today is 2018-01-23
2018-01-23 11:13:09,425 - DEBUG - Day of the week 1
2018-01-23 11:13:09,425 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:13:09,426 - DEBUG - In Position is  1
2018-01-23 11:13:09,426 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:13:09,426 - DEBUG - curStopLossFlag is  1
2018-01-23 11:13:09,426 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:13:09,427 - DEBUG - Checking if Entry has been filled
2018-01-23 11:13:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:13:09,428 - DEBUG - EntryPend is 0
2018-01-23 11:13:09,428 - DEBUG - Try to Cancel Stop
2018-01-23 11:13:09,429 - DEBUG - Stop API ID 124
2018-01-23 11:13:09,429 - DEBUG - Profit API ID 0
2018-01-23 11:13:09,429 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:13:09,429 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:13:09,429 - DEBUG - Pos is 1
2018-01-23 11:13:09,430 - DEBUG - CurCount is 1
2018-01-23 11:13:09,430 - DEBUG - In Pos 1
2018-01-23 11:13:09,430 - DEBUG - Stop ID is 124
2018-01-23 11:13:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:13:09,432 - DEBUG - EntryPend is 0
2018-01-23 11:13:09,432 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:13:09,432 - DEBUG - Entry Date is 10
2018-01-23 11:13:09,432 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:13:09,433 - DEBUG - Order Profit ID is 0
2018-01-23 11:13:09,433 - DEBUG - Order Entry ID is 122
2018-01-23 11:13:09,433 - DEBUG - API ID is  0
2018-01-23 11:13:09,433 - DEBUG - Current Position is 1
2018-01-23 11:13:09,433 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:13:09,434 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:13:09,434 - DEBUG - Time is 11
2018-01-23 11:13:09,434 - DEBUG - Time is <class 'int'>
2018-01-23 11:13:09,434 - DEBUG - Time is 13
2018-01-23 11:13:09,434 - DEBUG - Time is <class 'int'>
2018-01-23 11:13:09,435 - DEBUG - Disconnected from IBController
2018-01-23 11:13:09,436 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:18:05,354 - DEBUG - ****************************************************
2018-01-23 11:18:05,354 - DEBUG - Current Time is 11:18AM
2018-01-23 11:18:05,355 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:18:05,355 - DEBUG - Connecting to database
2018-01-23 11:18:05,402 - DEBUG - Connected to database
2018-01-23 11:18:05,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:05,404 - DEBUG - Order Profit is 0
2018-01-23 11:18:05,404 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:05,406 - DEBUG - Stop ID is 124
2018-01-23 11:18:05,406 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:05,408 - DEBUG - Entry ID is 122
2018-01-23 11:18:05,408 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:18:05,410 - DEBUG - OCA ID is 1
2018-01-23 11:18:05,411 - DEBUG - Connecting to IBController
2018-01-23 11:18:06,415 - DEBUG - Connected to IBController
2018-01-23 11:18:06,415 - DEBUG - Position requested
2018-01-23 11:18:06,416 - DEBUG - Pos Mgmt 0
2018-01-23 11:18:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA90>, pos=0, avgCost=0.0>
2018-01-23 11:18:06,417 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:18:06,417 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:18:06,418 - DEBUG - Position is 0
2018-01-23 11:18:06,418 - DEBUG - Pos Mgmt -12987
2018-01-23 11:18:06,418 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:18:06,419 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:18:06,419 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:18:06,419 - DEBUG - Position is -12987
2018-01-23 11:18:06,419 - DEBUG - Pos Mgmt 1
2018-01-23 11:18:06,420 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CF28>, pos=1, avgCost=28952.9>
2018-01-23 11:18:06,420 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:18:06,420 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:18:06,420 - DEBUG - Position is 1
2018-01-23 11:18:06,420 - DEBUG - In Position
2018-01-23 11:18:06,421 - DEBUG - Position is 1
2018-01-23 11:18:06,421 - DEBUG - Pos Mgmt 1
2018-01-23 11:18:06,421 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:18:06,422 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:18:06,422 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:18:06,422 - DEBUG - Position is 1
2018-01-23 11:18:07,416 - DEBUG - Open Orders requested
2018-01-23 11:18:07,417 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2240>>
2018-01-23 11:18:07,418 - DEBUG - Order OrderID 124
2018-01-23 11:18:07,418 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:18:07,419 - DEBUG - Order status PreSubmitted
2018-01-23 11:18:07,419 - DEBUG - Order Identification 124
2018-01-23 11:18:07,419 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:18:07,420 - DEBUG - Profit ID from database is 0
2018-01-23 11:18:07,420 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:18:07,420 - DEBUG - Stop ID database is 124
2018-01-23 11:18:07,420 - DEBUG - Entry ID database is 122
2018-01-23 11:18:07,420 - DEBUG - Stop API ID is 124
2018-01-23 11:18:07,421 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2080>>
2018-01-23 11:18:07,422 - DEBUG - Order OrderID 123
2018-01-23 11:18:07,422 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:18:07,423 - DEBUG - Order status PreSubmitted
2018-01-23 11:18:07,423 - DEBUG - Order Identification 123
2018-01-23 11:18:07,423 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:18:07,423 - DEBUG - Profit ID from database is 0
2018-01-23 11:18:07,423 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:18:07,424 - DEBUG - Stop ID database is 124
2018-01-23 11:18:07,424 - DEBUG - Entry ID database is 122
2018-01-23 11:18:09,419 - DEBUG - Connecting to database
2018-01-23 11:18:09,426 - DEBUG - Connected to database
2018-01-23 11:18:09,428 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,428 - DEBUG - Stop loss value is 71.02
2018-01-23 11:18:09,429 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,430 - DEBUG - Stop loss value is 83.275
2018-01-23 11:18:09,431 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,431 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:18:09,433 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,433 - DEBUG - Stop quantity 1
2018-01-23 11:18:09,434 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,435 - DEBUG - Direction is Long
2018-01-23 11:18:09,436 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,437 - DEBUG - Count is 1
2018-01-23 11:18:09,438 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:18:09,438 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:18:09,441 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:18:09,441 - DEBUG - Max ID Order is (124,)
2018-01-23 11:18:09,441 - DEBUG - Today is 2018-01-23
2018-01-23 11:18:09,442 - DEBUG - Day of the week 1
2018-01-23 11:18:09,442 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:18:09,442 - DEBUG - In Position is  1
2018-01-23 11:18:09,442 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:18:09,443 - DEBUG - curStopLossFlag is  1
2018-01-23 11:18:09,443 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:18:09,443 - DEBUG - Checking if Entry has been filled
2018-01-23 11:18:09,443 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:18:09,445 - DEBUG - EntryPend is 0
2018-01-23 11:18:09,445 - DEBUG - Try to Cancel Stop
2018-01-23 11:18:09,445 - DEBUG - Stop API ID 124
2018-01-23 11:18:09,445 - DEBUG - Profit API ID 0
2018-01-23 11:18:09,446 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:18:09,446 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:18:09,446 - DEBUG - Pos is 1
2018-01-23 11:18:09,446 - DEBUG - CurCount is 1
2018-01-23 11:18:09,446 - DEBUG - In Pos 1
2018-01-23 11:18:09,447 - DEBUG - Stop ID is 124
2018-01-23 11:18:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:18:09,448 - DEBUG - EntryPend is 0
2018-01-23 11:18:09,449 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:18:09,449 - DEBUG - Entry Date is 10
2018-01-23 11:18:09,449 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:18:09,449 - DEBUG - Order Profit ID is 0
2018-01-23 11:18:09,449 - DEBUG - Order Entry ID is 122
2018-01-23 11:18:09,450 - DEBUG - API ID is  0
2018-01-23 11:18:09,450 - DEBUG - Current Position is 1
2018-01-23 11:18:09,450 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:18:09,450 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:18:09,451 - DEBUG - Time is 11
2018-01-23 11:18:09,451 - DEBUG - Time is <class 'int'>
2018-01-23 11:18:09,451 - DEBUG - Time is 18
2018-01-23 11:18:09,451 - DEBUG - Time is <class 'int'>
2018-01-23 11:18:09,451 - DEBUG - Disconnected from IBController
2018-01-23 11:18:09,452 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:23:06,371 - DEBUG - ****************************************************
2018-01-23 11:23:06,371 - DEBUG - Current Time is 11:23AM
2018-01-23 11:23:06,371 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:23:06,372 - DEBUG - Connecting to database
2018-01-23 11:23:06,384 - DEBUG - Connected to database
2018-01-23 11:23:06,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:06,385 - DEBUG - Order Profit is 0
2018-01-23 11:23:06,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:06,387 - DEBUG - Stop ID is 124
2018-01-23 11:23:06,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:06,389 - DEBUG - Entry ID is 122
2018-01-23 11:23:06,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:23:06,390 - DEBUG - OCA ID is 1
2018-01-23 11:23:06,391 - DEBUG - Connecting to IBController
2018-01-23 11:23:07,397 - DEBUG - Connected to IBController
2018-01-23 11:23:07,397 - DEBUG - Position requested
2018-01-23 11:23:07,398 - DEBUG - Pos Mgmt 0
2018-01-23 11:23:07,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DE10>, pos=0, avgCost=0.0>
2018-01-23 11:23:07,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:23:07,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:23:07,400 - DEBUG - Position is 0
2018-01-23 11:23:07,400 - DEBUG - Pos Mgmt -12987
2018-01-23 11:23:07,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DDA0>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:23:07,401 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:23:07,401 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:23:07,401 - DEBUG - Position is -12987
2018-01-23 11:23:07,401 - DEBUG - Pos Mgmt 1
2018-01-23 11:23:07,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DF28>, pos=1, avgCost=28952.9>
2018-01-23 11:23:07,402 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:23:07,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:23:07,402 - DEBUG - Position is 1
2018-01-23 11:23:07,403 - DEBUG - In Position
2018-01-23 11:23:07,403 - DEBUG - Position is 1
2018-01-23 11:23:07,403 - DEBUG - Pos Mgmt 1
2018-01-23 11:23:07,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214DEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:23:07,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:23:07,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:23:07,404 - DEBUG - Position is 1
2018-01-23 11:23:08,399 - DEBUG - Open Orders requested
2018-01-23 11:23:08,401 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000214DF28>, order=<ib.ext.Order.Order object at 0x000000000214DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E11D0>>
2018-01-23 11:23:08,401 - DEBUG - Order OrderID 124
2018-01-23 11:23:08,402 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:23:08,402 - DEBUG - Order status PreSubmitted
2018-01-23 11:23:08,403 - DEBUG - Order Identification 124
2018-01-23 11:23:08,403 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:23:08,403 - DEBUG - Profit ID from database is 0
2018-01-23 11:23:08,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:23:08,404 - DEBUG - Stop ID database is 124
2018-01-23 11:23:08,404 - DEBUG - Entry ID database is 122
2018-01-23 11:23:08,404 - DEBUG - Stop API ID is 124
2018-01-23 11:23:08,405 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000214DF28>, order=<ib.ext.Order.Order object at 0x000000000214DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1240>>
2018-01-23 11:23:08,405 - DEBUG - Order OrderID 123
2018-01-23 11:23:08,406 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:23:08,406 - DEBUG - Order status PreSubmitted
2018-01-23 11:23:08,407 - DEBUG - Order Identification 123
2018-01-23 11:23:08,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:23:08,407 - DEBUG - Profit ID from database is 0
2018-01-23 11:23:08,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:23:08,407 - DEBUG - Stop ID database is 124
2018-01-23 11:23:08,408 - DEBUG - Entry ID database is 122
2018-01-23 11:23:10,400 - DEBUG - Connecting to database
2018-01-23 11:23:10,423 - DEBUG - Connected to database
2018-01-23 11:23:10,425 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,426 - DEBUG - Stop loss value is 71.02
2018-01-23 11:23:10,427 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,427 - DEBUG - Stop loss value is 83.275
2018-01-23 11:23:10,429 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,429 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:23:10,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,431 - DEBUG - Stop quantity 1
2018-01-23 11:23:10,433 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,434 - DEBUG - Direction is Long
2018-01-23 11:23:10,435 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,435 - DEBUG - Count is 1
2018-01-23 11:23:10,437 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:23:10,437 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:23:10,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:23:10,438 - DEBUG - Max ID Order is (124,)
2018-01-23 11:23:10,439 - DEBUG - Today is 2018-01-23
2018-01-23 11:23:10,439 - DEBUG - Day of the week 1
2018-01-23 11:23:10,439 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:23:10,440 - DEBUG - In Position is  1
2018-01-23 11:23:10,440 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:23:10,440 - DEBUG - curStopLossFlag is  1
2018-01-23 11:23:10,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:23:10,441 - DEBUG - Checking if Entry has been filled
2018-01-23 11:23:10,441 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:23:10,442 - DEBUG - EntryPend is 0
2018-01-23 11:23:10,442 - DEBUG - Try to Cancel Stop
2018-01-23 11:23:10,443 - DEBUG - Stop API ID 124
2018-01-23 11:23:10,443 - DEBUG - Profit API ID 0
2018-01-23 11:23:10,443 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:23:10,443 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:23:10,443 - DEBUG - Pos is 1
2018-01-23 11:23:10,444 - DEBUG - CurCount is 1
2018-01-23 11:23:10,444 - DEBUG - In Pos 1
2018-01-23 11:23:10,444 - DEBUG - Stop ID is 124
2018-01-23 11:23:10,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:23:10,446 - DEBUG - EntryPend is 0
2018-01-23 11:23:10,446 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:23:10,446 - DEBUG - Entry Date is 10
2018-01-23 11:23:10,446 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:23:10,446 - DEBUG - Order Profit ID is 0
2018-01-23 11:23:10,447 - DEBUG - Order Entry ID is 122
2018-01-23 11:23:10,447 - DEBUG - API ID is  0
2018-01-23 11:23:10,447 - DEBUG - Current Position is 1
2018-01-23 11:23:10,447 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:23:10,447 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:23:10,448 - DEBUG - Time is 11
2018-01-23 11:23:10,448 - DEBUG - Time is <class 'int'>
2018-01-23 11:23:10,448 - DEBUG - Time is 23
2018-01-23 11:23:10,448 - DEBUG - Time is <class 'int'>
2018-01-23 11:23:10,449 - DEBUG - Disconnected from IBController
2018-01-23 11:23:10,449 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:28:05,346 - DEBUG - ****************************************************
2018-01-23 11:28:05,346 - DEBUG - Current Time is 11:28AM
2018-01-23 11:28:05,347 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:28:05,347 - DEBUG - Connecting to database
2018-01-23 11:28:05,373 - DEBUG - Connected to database
2018-01-23 11:28:05,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:05,375 - DEBUG - Order Profit is 0
2018-01-23 11:28:05,375 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:05,377 - DEBUG - Stop ID is 124
2018-01-23 11:28:05,377 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:05,378 - DEBUG - Entry ID is 122
2018-01-23 11:28:05,379 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:28:05,380 - DEBUG - OCA ID is 1
2018-01-23 11:28:05,380 - DEBUG - Connecting to IBController
2018-01-23 11:28:06,385 - DEBUG - Connected to IBController
2018-01-23 11:28:06,385 - DEBUG - Position requested
2018-01-23 11:28:06,387 - DEBUG - Pos Mgmt 0
2018-01-23 11:28:06,387 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CBA8>, pos=0, avgCost=0.0>
2018-01-23 11:28:06,387 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:28:06,387 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:28:06,388 - DEBUG - Position is 0
2018-01-23 11:28:06,388 - DEBUG - Pos Mgmt -12987
2018-01-23 11:28:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:28:06,389 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:28:06,389 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:28:06,389 - DEBUG - Position is -12987
2018-01-23 11:28:06,389 - DEBUG - Pos Mgmt 1
2018-01-23 11:28:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CF28>, pos=1, avgCost=28952.9>
2018-01-23 11:28:06,390 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:28:06,390 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:28:06,390 - DEBUG - Position is 1
2018-01-23 11:28:06,390 - DEBUG - In Position
2018-01-23 11:28:06,391 - DEBUG - Position is 1
2018-01-23 11:28:06,391 - DEBUG - Pos Mgmt 1
2018-01-23 11:28:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:28:06,394 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:28:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:28:06,395 - DEBUG - Position is 1
2018-01-23 11:28:07,386 - DEBUG - Open Orders requested
2018-01-23 11:28:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000212CF28>, order=<ib.ext.Order.Order object at 0x000000000212CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C11D0>>
2018-01-23 11:28:07,388 - DEBUG - Order OrderID 124
2018-01-23 11:28:07,389 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:28:07,389 - DEBUG - Order status PreSubmitted
2018-01-23 11:28:07,389 - DEBUG - Order Identification 124
2018-01-23 11:28:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:28:07,390 - DEBUG - Profit ID from database is 0
2018-01-23 11:28:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:28:07,390 - DEBUG - Stop ID database is 124
2018-01-23 11:28:07,391 - DEBUG - Entry ID database is 122
2018-01-23 11:28:07,391 - DEBUG - Stop API ID is 124
2018-01-23 11:28:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000212CF28>, order=<ib.ext.Order.Order object at 0x000000000212CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1240>>
2018-01-23 11:28:07,392 - DEBUG - Order OrderID 123
2018-01-23 11:28:07,393 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:28:07,393 - DEBUG - Order status PreSubmitted
2018-01-23 11:28:07,393 - DEBUG - Order Identification 123
2018-01-23 11:28:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:28:07,394 - DEBUG - Profit ID from database is 0
2018-01-23 11:28:07,394 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:28:07,394 - DEBUG - Stop ID database is 124
2018-01-23 11:28:07,394 - DEBUG - Entry ID database is 122
2018-01-23 11:28:09,387 - DEBUG - Connecting to database
2018-01-23 11:28:09,394 - DEBUG - Connected to database
2018-01-23 11:28:09,396 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,396 - DEBUG - Stop loss value is 71.02
2018-01-23 11:28:09,398 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,398 - DEBUG - Stop loss value is 83.275
2018-01-23 11:28:09,400 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,400 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:28:09,402 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,402 - DEBUG - Stop quantity 1
2018-01-23 11:28:09,403 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,404 - DEBUG - Direction is Long
2018-01-23 11:28:09,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,405 - DEBUG - Count is 1
2018-01-23 11:28:09,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:28:09,407 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:28:09,408 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:28:09,408 - DEBUG - Max ID Order is (124,)
2018-01-23 11:28:09,409 - DEBUG - Today is 2018-01-23
2018-01-23 11:28:09,409 - DEBUG - Day of the week 1
2018-01-23 11:28:09,409 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:28:09,410 - DEBUG - In Position is  1
2018-01-23 11:28:09,410 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:28:09,410 - DEBUG - curStopLossFlag is  1
2018-01-23 11:28:09,410 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:28:09,411 - DEBUG - Checking if Entry has been filled
2018-01-23 11:28:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:28:09,412 - DEBUG - EntryPend is 0
2018-01-23 11:28:09,412 - DEBUG - Try to Cancel Stop
2018-01-23 11:28:09,413 - DEBUG - Stop API ID 124
2018-01-23 11:28:09,413 - DEBUG - Profit API ID 0
2018-01-23 11:28:09,413 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:28:09,413 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:28:09,414 - DEBUG - Pos is 1
2018-01-23 11:28:09,414 - DEBUG - CurCount is 1
2018-01-23 11:28:09,414 - DEBUG - In Pos 1
2018-01-23 11:28:09,414 - DEBUG - Stop ID is 124
2018-01-23 11:28:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:28:09,417 - DEBUG - EntryPend is 0
2018-01-23 11:28:09,417 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:28:09,417 - DEBUG - Entry Date is 10
2018-01-23 11:28:09,417 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:28:09,417 - DEBUG - Order Profit ID is 0
2018-01-23 11:28:09,418 - DEBUG - Order Entry ID is 122
2018-01-23 11:28:09,418 - DEBUG - API ID is  0
2018-01-23 11:28:09,418 - DEBUG - Current Position is 1
2018-01-23 11:28:09,418 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:28:09,418 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:28:09,419 - DEBUG - Time is 11
2018-01-23 11:28:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 11:28:09,419 - DEBUG - Time is 28
2018-01-23 11:28:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 11:28:09,420 - DEBUG - Disconnected from IBController
2018-01-23 11:28:09,420 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:33:05,355 - DEBUG - ****************************************************
2018-01-23 11:33:05,356 - DEBUG - Current Time is 11:33AM
2018-01-23 11:33:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:33:05,356 - DEBUG - Connecting to database
2018-01-23 11:33:05,374 - DEBUG - Connected to database
2018-01-23 11:33:05,374 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:05,376 - DEBUG - Order Profit is 0
2018-01-23 11:33:05,376 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:05,378 - DEBUG - Stop ID is 124
2018-01-23 11:33:05,378 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:05,381 - DEBUG - Entry ID is 122
2018-01-23 11:33:05,382 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:33:05,383 - DEBUG - OCA ID is 1
2018-01-23 11:33:05,383 - DEBUG - Connecting to IBController
2018-01-23 11:33:06,389 - DEBUG - Connected to IBController
2018-01-23 11:33:06,389 - DEBUG - Position requested
2018-01-23 11:33:06,390 - DEBUG - Pos Mgmt 0
2018-01-23 11:33:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDC18>, pos=0, avgCost=0.0>
2018-01-23 11:33:06,391 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:33:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:33:06,392 - DEBUG - Position is 0
2018-01-23 11:33:06,392 - DEBUG - Pos Mgmt -12987
2018-01-23 11:33:06,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDD68>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:33:06,393 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:33:06,393 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:33:06,393 - DEBUG - Position is -12987
2018-01-23 11:33:06,393 - DEBUG - Pos Mgmt 1
2018-01-23 11:33:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDF28>, pos=1, avgCost=28952.9>
2018-01-23 11:33:06,394 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:33:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:33:06,394 - DEBUG - Position is 1
2018-01-23 11:33:06,394 - DEBUG - In Position
2018-01-23 11:33:06,394 - DEBUG - Position is 1
2018-01-23 11:33:06,395 - DEBUG - Pos Mgmt 1
2018-01-23 11:33:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DDEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:33:06,395 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:33:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:33:06,396 - DEBUG - Position is 1
2018-01-23 11:33:07,390 - DEBUG - Open Orders requested
2018-01-23 11:33:07,392 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020DDF28>, order=<ib.ext.Order.Order object at 0x00000000020DDE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021721D0>>
2018-01-23 11:33:07,392 - DEBUG - Order OrderID 124
2018-01-23 11:33:07,393 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:33:07,393 - DEBUG - Order status PreSubmitted
2018-01-23 11:33:07,393 - DEBUG - Order Identification 124
2018-01-23 11:33:07,394 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:33:07,394 - DEBUG - Profit ID from database is 0
2018-01-23 11:33:07,394 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:33:07,394 - DEBUG - Stop ID database is 124
2018-01-23 11:33:07,394 - DEBUG - Entry ID database is 122
2018-01-23 11:33:07,395 - DEBUG - Stop API ID is 124
2018-01-23 11:33:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020DDF28>, order=<ib.ext.Order.Order object at 0x00000000020DDE10>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172240>>
2018-01-23 11:33:07,396 - DEBUG - Order OrderID 123
2018-01-23 11:33:07,396 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:33:07,397 - DEBUG - Order status PreSubmitted
2018-01-23 11:33:07,397 - DEBUG - Order Identification 123
2018-01-23 11:33:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:33:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 11:33:07,398 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:33:07,398 - DEBUG - Stop ID database is 124
2018-01-23 11:33:07,398 - DEBUG - Entry ID database is 122
2018-01-23 11:33:09,391 - DEBUG - Connecting to database
2018-01-23 11:33:09,408 - DEBUG - Connected to database
2018-01-23 11:33:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 11:33:09,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,411 - DEBUG - Stop loss value is 83.275
2018-01-23 11:33:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,413 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:33:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,414 - DEBUG - Stop quantity 1
2018-01-23 11:33:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,416 - DEBUG - Direction is Long
2018-01-23 11:33:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,417 - DEBUG - Count is 1
2018-01-23 11:33:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:33:09,419 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:33:09,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:33:09,421 - DEBUG - Max ID Order is (124,)
2018-01-23 11:33:09,421 - DEBUG - Today is 2018-01-23
2018-01-23 11:33:09,422 - DEBUG - Day of the week 1
2018-01-23 11:33:09,422 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:33:09,422 - DEBUG - In Position is  1
2018-01-23 11:33:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:33:09,423 - DEBUG - curStopLossFlag is  1
2018-01-23 11:33:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:33:09,423 - DEBUG - Checking if Entry has been filled
2018-01-23 11:33:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:33:09,425 - DEBUG - EntryPend is 0
2018-01-23 11:33:09,425 - DEBUG - Try to Cancel Stop
2018-01-23 11:33:09,425 - DEBUG - Stop API ID 124
2018-01-23 11:33:09,425 - DEBUG - Profit API ID 0
2018-01-23 11:33:09,426 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:33:09,426 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:33:09,426 - DEBUG - Pos is 1
2018-01-23 11:33:09,426 - DEBUG - CurCount is 1
2018-01-23 11:33:09,426 - DEBUG - In Pos 1
2018-01-23 11:33:09,427 - DEBUG - Stop ID is 124
2018-01-23 11:33:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:33:09,428 - DEBUG - EntryPend is 0
2018-01-23 11:33:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:33:09,429 - DEBUG - Entry Date is 10
2018-01-23 11:33:09,429 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:33:09,429 - DEBUG - Order Profit ID is 0
2018-01-23 11:33:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 11:33:09,429 - DEBUG - API ID is  0
2018-01-23 11:33:09,430 - DEBUG - Current Position is 1
2018-01-23 11:33:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:33:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:33:09,430 - DEBUG - Time is 11
2018-01-23 11:33:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 11:33:09,431 - DEBUG - Time is 33
2018-01-23 11:33:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 11:33:09,431 - DEBUG - Disconnected from IBController
2018-01-23 11:33:09,432 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:38:05,359 - DEBUG - ****************************************************
2018-01-23 11:38:05,359 - DEBUG - Current Time is 11:38AM
2018-01-23 11:38:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:38:05,360 - DEBUG - Connecting to database
2018-01-23 11:38:05,386 - DEBUG - Connected to database
2018-01-23 11:38:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:05,388 - DEBUG - Order Profit is 0
2018-01-23 11:38:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:05,389 - DEBUG - Stop ID is 124
2018-01-23 11:38:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:05,391 - DEBUG - Entry ID is 122
2018-01-23 11:38:05,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:38:05,393 - DEBUG - OCA ID is 1
2018-01-23 11:38:05,393 - DEBUG - Connecting to IBController
2018-01-23 11:38:06,397 - DEBUG - Connected to IBController
2018-01-23 11:38:06,397 - DEBUG - Position requested
2018-01-23 11:38:06,398 - DEBUG - Pos Mgmt 0
2018-01-23 11:38:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CA90>, pos=0, avgCost=0.0>
2018-01-23 11:38:06,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:38:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:38:06,400 - DEBUG - Position is 0
2018-01-23 11:38:06,400 - DEBUG - Pos Mgmt -12987
2018-01-23 11:38:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CDA0>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:38:06,400 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:38:06,401 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:38:06,401 - DEBUG - Position is -12987
2018-01-23 11:38:06,401 - DEBUG - Pos Mgmt 1
2018-01-23 11:38:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CF28>, pos=1, avgCost=28952.9>
2018-01-23 11:38:06,402 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:38:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:38:06,402 - DEBUG - Position is 1
2018-01-23 11:38:06,402 - DEBUG - In Position
2018-01-23 11:38:06,402 - DEBUG - Position is 1
2018-01-23 11:38:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 11:38:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212CEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:38:06,403 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:38:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:38:06,404 - DEBUG - Position is 1
2018-01-23 11:38:07,398 - DEBUG - Open Orders requested
2018-01-23 11:38:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000212CFD0>, order=<ib.ext.Order.Order object at 0x000000000212CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1240>>
2018-01-23 11:38:07,400 - DEBUG - Order OrderID 124
2018-01-23 11:38:07,401 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:38:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 11:38:07,402 - DEBUG - Order Identification 124
2018-01-23 11:38:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:38:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 11:38:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:38:07,403 - DEBUG - Stop ID database is 124
2018-01-23 11:38:07,403 - DEBUG - Entry ID database is 122
2018-01-23 11:38:07,403 - DEBUG - Stop API ID is 124
2018-01-23 11:38:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000212CFD0>, order=<ib.ext.Order.Order object at 0x000000000212CB00>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1048>>
2018-01-23 11:38:07,404 - DEBUG - Order OrderID 123
2018-01-23 11:38:07,405 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:38:07,405 - DEBUG - Order status PreSubmitted
2018-01-23 11:38:07,405 - DEBUG - Order Identification 123
2018-01-23 11:38:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:38:07,406 - DEBUG - Profit ID from database is 0
2018-01-23 11:38:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:38:07,406 - DEBUG - Stop ID database is 124
2018-01-23 11:38:07,407 - DEBUG - Entry ID database is 122
2018-01-23 11:38:09,400 - DEBUG - Connecting to database
2018-01-23 11:38:09,407 - DEBUG - Connected to database
2018-01-23 11:38:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 11:38:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,411 - DEBUG - Stop loss value is 83.275
2018-01-23 11:38:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,412 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:38:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,414 - DEBUG - Stop quantity 1
2018-01-23 11:38:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,416 - DEBUG - Direction is Long
2018-01-23 11:38:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,417 - DEBUG - Count is 1
2018-01-23 11:38:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:38:09,419 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:38:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:38:09,421 - DEBUG - Max ID Order is (124,)
2018-01-23 11:38:09,421 - DEBUG - Today is 2018-01-23
2018-01-23 11:38:09,421 - DEBUG - Day of the week 1
2018-01-23 11:38:09,422 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:38:09,422 - DEBUG - In Position is  1
2018-01-23 11:38:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:38:09,422 - DEBUG - curStopLossFlag is  1
2018-01-23 11:38:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:38:09,423 - DEBUG - Checking if Entry has been filled
2018-01-23 11:38:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:38:09,424 - DEBUG - EntryPend is 0
2018-01-23 11:38:09,425 - DEBUG - Try to Cancel Stop
2018-01-23 11:38:09,425 - DEBUG - Stop API ID 124
2018-01-23 11:38:09,425 - DEBUG - Profit API ID 0
2018-01-23 11:38:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:38:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:38:09,426 - DEBUG - Pos is 1
2018-01-23 11:38:09,426 - DEBUG - CurCount is 1
2018-01-23 11:38:09,426 - DEBUG - In Pos 1
2018-01-23 11:38:09,426 - DEBUG - Stop ID is 124
2018-01-23 11:38:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:38:09,428 - DEBUG - EntryPend is 0
2018-01-23 11:38:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:38:09,428 - DEBUG - Entry Date is 10
2018-01-23 11:38:09,429 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:38:09,429 - DEBUG - Order Profit ID is 0
2018-01-23 11:38:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 11:38:09,429 - DEBUG - API ID is  0
2018-01-23 11:38:09,429 - DEBUG - Current Position is 1
2018-01-23 11:38:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:38:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:38:09,430 - DEBUG - Time is 11
2018-01-23 11:38:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 11:38:09,431 - DEBUG - Time is 38
2018-01-23 11:38:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 11:38:09,431 - DEBUG - Disconnected from IBController
2018-01-23 11:38:09,433 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:43:05,356 - DEBUG - ****************************************************
2018-01-23 11:43:05,356 - DEBUG - Current Time is 11:43AM
2018-01-23 11:43:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:43:05,357 - DEBUG - Connecting to database
2018-01-23 11:43:05,384 - DEBUG - Connected to database
2018-01-23 11:43:05,384 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:05,385 - DEBUG - Order Profit is 0
2018-01-23 11:43:05,386 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:05,387 - DEBUG - Stop ID is 124
2018-01-23 11:43:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:05,389 - DEBUG - Entry ID is 122
2018-01-23 11:43:05,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:43:05,390 - DEBUG - OCA ID is 1
2018-01-23 11:43:05,391 - DEBUG - Connecting to IBController
2018-01-23 11:43:06,397 - DEBUG - Connected to IBController
2018-01-23 11:43:06,397 - DEBUG - Position requested
2018-01-23 11:43:06,398 - DEBUG - Pos Mgmt 0
2018-01-23 11:43:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDC18>, pos=0, avgCost=0.0>
2018-01-23 11:43:06,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:43:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:43:06,400 - DEBUG - Position is 0
2018-01-23 11:43:06,400 - DEBUG - Pos Mgmt -12987
2018-01-23 11:43:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDD68>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:43:06,401 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:43:06,401 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:43:06,401 - DEBUG - Position is -12987
2018-01-23 11:43:06,401 - DEBUG - Pos Mgmt 1
2018-01-23 11:43:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, pos=1, avgCost=28952.9>
2018-01-23 11:43:06,402 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:43:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:43:06,402 - DEBUG - Position is 1
2018-01-23 11:43:06,403 - DEBUG - In Position
2018-01-23 11:43:06,403 - DEBUG - Position is 1
2018-01-23 11:43:06,403 - DEBUG - Pos Mgmt 1
2018-01-23 11:43:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:43:06,404 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:43:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:43:06,404 - DEBUG - Position is 1
2018-01-23 11:43:07,399 - DEBUG - Open Orders requested
2018-01-23 11:43:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, order=<ib.ext.Order.Order object at 0x00000000020FDA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021921D0>>
2018-01-23 11:43:07,401 - DEBUG - Order OrderID 124
2018-01-23 11:43:07,402 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:43:07,402 - DEBUG - Order status PreSubmitted
2018-01-23 11:43:07,402 - DEBUG - Order Identification 124
2018-01-23 11:43:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:43:07,403 - DEBUG - Profit ID from database is 0
2018-01-23 11:43:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:43:07,403 - DEBUG - Stop ID database is 124
2018-01-23 11:43:07,404 - DEBUG - Entry ID database is 122
2018-01-23 11:43:07,404 - DEBUG - Stop API ID is 124
2018-01-23 11:43:07,405 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, order=<ib.ext.Order.Order object at 0x00000000020FDA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002192240>>
2018-01-23 11:43:07,405 - DEBUG - Order OrderID 123
2018-01-23 11:43:07,406 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:43:07,406 - DEBUG - Order status PreSubmitted
2018-01-23 11:43:07,406 - DEBUG - Order Identification 123
2018-01-23 11:43:07,406 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:43:07,407 - DEBUG - Profit ID from database is 0
2018-01-23 11:43:07,407 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:43:07,416 - DEBUG - Stop ID database is 124
2018-01-23 11:43:07,416 - DEBUG - Entry ID database is 122
2018-01-23 11:43:09,399 - DEBUG - Connecting to database
2018-01-23 11:43:09,406 - DEBUG - Connected to database
2018-01-23 11:43:09,407 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,408 - DEBUG - Stop loss value is 71.02
2018-01-23 11:43:09,409 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,410 - DEBUG - Stop loss value is 83.275
2018-01-23 11:43:09,411 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,411 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:43:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,413 - DEBUG - Stop quantity 1
2018-01-23 11:43:09,414 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,415 - DEBUG - Direction is Long
2018-01-23 11:43:09,416 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,416 - DEBUG - Count is 1
2018-01-23 11:43:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:43:09,425 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:43:09,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:43:09,430 - DEBUG - Max ID Order is (124,)
2018-01-23 11:43:09,431 - DEBUG - Today is 2018-01-23
2018-01-23 11:43:09,431 - DEBUG - Day of the week 1
2018-01-23 11:43:09,431 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:43:09,432 - DEBUG - In Position is  1
2018-01-23 11:43:09,432 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:43:09,432 - DEBUG - curStopLossFlag is  1
2018-01-23 11:43:09,432 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:43:09,432 - DEBUG - Checking if Entry has been filled
2018-01-23 11:43:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:43:09,434 - DEBUG - EntryPend is 0
2018-01-23 11:43:09,434 - DEBUG - Try to Cancel Stop
2018-01-23 11:43:09,435 - DEBUG - Stop API ID 124
2018-01-23 11:43:09,435 - DEBUG - Profit API ID 0
2018-01-23 11:43:09,435 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:43:09,435 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:43:09,435 - DEBUG - Pos is 1
2018-01-23 11:43:09,436 - DEBUG - CurCount is 1
2018-01-23 11:43:09,436 - DEBUG - In Pos 1
2018-01-23 11:43:09,436 - DEBUG - Stop ID is 124
2018-01-23 11:43:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:43:09,438 - DEBUG - EntryPend is 0
2018-01-23 11:43:09,438 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:43:09,438 - DEBUG - Entry Date is 10
2018-01-23 11:43:09,438 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:43:09,439 - DEBUG - Order Profit ID is 0
2018-01-23 11:43:09,439 - DEBUG - Order Entry ID is 122
2018-01-23 11:43:09,439 - DEBUG - API ID is  0
2018-01-23 11:43:09,439 - DEBUG - Current Position is 1
2018-01-23 11:43:09,439 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:43:09,440 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:43:09,440 - DEBUG - Time is 11
2018-01-23 11:43:09,440 - DEBUG - Time is <class 'int'>
2018-01-23 11:43:09,440 - DEBUG - Time is 43
2018-01-23 11:43:09,441 - DEBUG - Time is <class 'int'>
2018-01-23 11:43:09,441 - DEBUG - Disconnected from IBController
2018-01-23 11:43:09,441 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:48:05,359 - DEBUG - ****************************************************
2018-01-23 11:48:05,360 - DEBUG - Current Time is 11:48AM
2018-01-23 11:48:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:48:05,360 - DEBUG - Connecting to database
2018-01-23 11:48:05,395 - DEBUG - Connected to database
2018-01-23 11:48:05,396 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:05,399 - DEBUG - Order Profit is 0
2018-01-23 11:48:05,399 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:05,401 - DEBUG - Stop ID is 124
2018-01-23 11:48:05,401 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:05,403 - DEBUG - Entry ID is 122
2018-01-23 11:48:05,403 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:48:05,405 - DEBUG - OCA ID is 1
2018-01-23 11:48:05,405 - DEBUG - Connecting to IBController
2018-01-23 11:48:06,411 - DEBUG - Connected to IBController
2018-01-23 11:48:06,411 - DEBUG - Position requested
2018-01-23 11:48:06,413 - DEBUG - Pos Mgmt 0
2018-01-23 11:48:06,413 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CA90>, pos=0, avgCost=0.0>
2018-01-23 11:48:06,413 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:48:06,414 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:48:06,414 - DEBUG - Position is 0
2018-01-23 11:48:06,414 - DEBUG - Pos Mgmt -12987
2018-01-23 11:48:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CBA8>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:48:06,415 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:48:06,415 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:48:06,415 - DEBUG - Position is -12987
2018-01-23 11:48:06,415 - DEBUG - Pos Mgmt 1
2018-01-23 11:48:06,416 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CF28>, pos=1, avgCost=28952.9>
2018-01-23 11:48:06,416 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:48:06,416 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:48:06,416 - DEBUG - Position is 1
2018-01-23 11:48:06,417 - DEBUG - In Position
2018-01-23 11:48:06,417 - DEBUG - Position is 1
2018-01-23 11:48:06,417 - DEBUG - Pos Mgmt 1
2018-01-23 11:48:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211CEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:48:06,418 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:48:06,418 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:48:06,418 - DEBUG - Position is 1
2018-01-23 11:48:07,412 - DEBUG - Open Orders requested
2018-01-23 11:48:07,414 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1240>>
2018-01-23 11:48:07,415 - DEBUG - Order OrderID 124
2018-01-23 11:48:07,415 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:48:07,415 - DEBUG - Order status PreSubmitted
2018-01-23 11:48:07,416 - DEBUG - Order Identification 124
2018-01-23 11:48:07,416 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:48:07,416 - DEBUG - Profit ID from database is 0
2018-01-23 11:48:07,417 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:48:07,417 - DEBUG - Stop ID database is 124
2018-01-23 11:48:07,417 - DEBUG - Entry ID database is 122
2018-01-23 11:48:07,417 - DEBUG - Stop API ID is 124
2018-01-23 11:48:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000211CFD0>, order=<ib.ext.Order.Order object at 0x000000000211CA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B1080>>
2018-01-23 11:48:07,419 - DEBUG - Order OrderID 123
2018-01-23 11:48:07,419 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:48:07,419 - DEBUG - Order status PreSubmitted
2018-01-23 11:48:07,420 - DEBUG - Order Identification 123
2018-01-23 11:48:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:48:07,420 - DEBUG - Profit ID from database is 0
2018-01-23 11:48:07,420 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:48:07,420 - DEBUG - Stop ID database is 124
2018-01-23 11:48:07,421 - DEBUG - Entry ID database is 122
2018-01-23 11:48:09,414 - DEBUG - Connecting to database
2018-01-23 11:48:09,421 - DEBUG - Connected to database
2018-01-23 11:48:09,422 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,423 - DEBUG - Stop loss value is 71.02
2018-01-23 11:48:09,424 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,424 - DEBUG - Stop loss value is 83.275
2018-01-23 11:48:09,426 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,426 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:48:09,427 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,428 - DEBUG - Stop quantity 1
2018-01-23 11:48:09,429 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,429 - DEBUG - Direction is Long
2018-01-23 11:48:09,430 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,431 - DEBUG - Count is 1
2018-01-23 11:48:09,432 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:48:09,432 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:48:09,434 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:48:09,434 - DEBUG - Max ID Order is (124,)
2018-01-23 11:48:09,434 - DEBUG - Today is 2018-01-23
2018-01-23 11:48:09,435 - DEBUG - Day of the week 1
2018-01-23 11:48:09,435 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:48:09,435 - DEBUG - In Position is  1
2018-01-23 11:48:09,435 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:48:09,436 - DEBUG - curStopLossFlag is  1
2018-01-23 11:48:09,436 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:48:09,436 - DEBUG - Checking if Entry has been filled
2018-01-23 11:48:09,436 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:48:09,438 - DEBUG - EntryPend is 0
2018-01-23 11:48:09,438 - DEBUG - Try to Cancel Stop
2018-01-23 11:48:09,438 - DEBUG - Stop API ID 124
2018-01-23 11:48:09,438 - DEBUG - Profit API ID 0
2018-01-23 11:48:09,439 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:48:09,439 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:48:09,439 - DEBUG - Pos is 1
2018-01-23 11:48:09,439 - DEBUG - CurCount is 1
2018-01-23 11:48:09,439 - DEBUG - In Pos 1
2018-01-23 11:48:09,440 - DEBUG - Stop ID is 124
2018-01-23 11:48:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:48:09,441 - DEBUG - EntryPend is 0
2018-01-23 11:48:09,441 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:48:09,442 - DEBUG - Entry Date is 10
2018-01-23 11:48:09,442 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:48:09,442 - DEBUG - Order Profit ID is 0
2018-01-23 11:48:09,442 - DEBUG - Order Entry ID is 122
2018-01-23 11:48:09,442 - DEBUG - API ID is  0
2018-01-23 11:48:09,443 - DEBUG - Current Position is 1
2018-01-23 11:48:09,443 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:48:09,443 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:48:09,443 - DEBUG - Time is 11
2018-01-23 11:48:09,444 - DEBUG - Time is <class 'int'>
2018-01-23 11:48:09,444 - DEBUG - Time is 48
2018-01-23 11:48:09,444 - DEBUG - Time is <class 'int'>
2018-01-23 11:48:09,444 - DEBUG - Disconnected from IBController
2018-01-23 11:48:09,445 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:53:05,340 - DEBUG - ****************************************************
2018-01-23 11:53:05,341 - DEBUG - Current Time is 11:53AM
2018-01-23 11:53:05,341 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:53:05,342 - DEBUG - Connecting to database
2018-01-23 11:53:05,365 - DEBUG - Connected to database
2018-01-23 11:53:05,366 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:05,368 - DEBUG - Order Profit is 0
2018-01-23 11:53:05,368 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:05,370 - DEBUG - Stop ID is 124
2018-01-23 11:53:05,370 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:05,371 - DEBUG - Entry ID is 122
2018-01-23 11:53:05,372 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:53:05,373 - DEBUG - OCA ID is 1
2018-01-23 11:53:05,374 - DEBUG - Connecting to IBController
2018-01-23 11:53:06,380 - DEBUG - Connected to IBController
2018-01-23 11:53:06,380 - DEBUG - Position requested
2018-01-23 11:53:06,381 - DEBUG - Pos Mgmt 0
2018-01-23 11:53:06,382 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DE10>, pos=0, avgCost=0.0>
2018-01-23 11:53:06,382 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:53:06,382 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:53:06,383 - DEBUG - Position is 0
2018-01-23 11:53:06,383 - DEBUG - Pos Mgmt -12987
2018-01-23 11:53:06,383 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DCC0>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:53:06,384 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:53:06,384 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:53:06,384 - DEBUG - Position is -12987
2018-01-23 11:53:06,384 - DEBUG - Pos Mgmt 1
2018-01-23 11:53:06,385 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DF28>, pos=1, avgCost=28952.9>
2018-01-23 11:53:06,385 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:53:06,385 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:53:06,385 - DEBUG - Position is 1
2018-01-23 11:53:06,386 - DEBUG - In Position
2018-01-23 11:53:06,386 - DEBUG - Position is 1
2018-01-23 11:53:06,386 - DEBUG - Pos Mgmt 1
2018-01-23 11:53:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:53:06,387 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:53:06,387 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:53:06,387 - DEBUG - Position is 1
2018-01-23 11:53:07,382 - DEBUG - Open Orders requested
2018-01-23 11:53:07,384 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 11:53:07,384 - DEBUG - Order OrderID 124
2018-01-23 11:53:07,385 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:53:07,385 - DEBUG - Order status PreSubmitted
2018-01-23 11:53:07,385 - DEBUG - Order Identification 124
2018-01-23 11:53:07,386 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:53:07,386 - DEBUG - Profit ID from database is 0
2018-01-23 11:53:07,386 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:53:07,387 - DEBUG - Stop ID database is 124
2018-01-23 11:53:07,387 - DEBUG - Entry ID database is 122
2018-01-23 11:53:07,387 - DEBUG - Stop API ID is 124
2018-01-23 11:53:07,388 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10B8>>
2018-01-23 11:53:07,388 - DEBUG - Order OrderID 123
2018-01-23 11:53:07,389 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:53:07,389 - DEBUG - Order status PreSubmitted
2018-01-23 11:53:07,389 - DEBUG - Order Identification 123
2018-01-23 11:53:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:53:07,390 - DEBUG - Profit ID from database is 0
2018-01-23 11:53:07,390 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:53:07,390 - DEBUG - Stop ID database is 124
2018-01-23 11:53:07,390 - DEBUG - Entry ID database is 122
2018-01-23 11:53:09,384 - DEBUG - Connecting to database
2018-01-23 11:53:09,391 - DEBUG - Connected to database
2018-01-23 11:53:09,392 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,393 - DEBUG - Stop loss value is 71.02
2018-01-23 11:53:09,394 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,394 - DEBUG - Stop loss value is 83.275
2018-01-23 11:53:09,395 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,396 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:53:09,397 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,398 - DEBUG - Stop quantity 1
2018-01-23 11:53:09,399 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,399 - DEBUG - Direction is Long
2018-01-23 11:53:09,401 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,401 - DEBUG - Count is 1
2018-01-23 11:53:09,402 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:53:09,402 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:53:09,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:53:09,404 - DEBUG - Max ID Order is (124,)
2018-01-23 11:53:09,404 - DEBUG - Today is 2018-01-23
2018-01-23 11:53:09,405 - DEBUG - Day of the week 1
2018-01-23 11:53:09,405 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:53:09,405 - DEBUG - In Position is  1
2018-01-23 11:53:09,406 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:53:09,406 - DEBUG - curStopLossFlag is  1
2018-01-23 11:53:09,406 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:53:09,406 - DEBUG - Checking if Entry has been filled
2018-01-23 11:53:09,406 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:53:09,408 - DEBUG - EntryPend is 0
2018-01-23 11:53:09,408 - DEBUG - Try to Cancel Stop
2018-01-23 11:53:09,408 - DEBUG - Stop API ID 124
2018-01-23 11:53:09,408 - DEBUG - Profit API ID 0
2018-01-23 11:53:09,409 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:53:09,409 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:53:09,409 - DEBUG - Pos is 1
2018-01-23 11:53:09,409 - DEBUG - CurCount is 1
2018-01-23 11:53:09,409 - DEBUG - In Pos 1
2018-01-23 11:53:09,410 - DEBUG - Stop ID is 124
2018-01-23 11:53:09,410 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:53:09,411 - DEBUG - EntryPend is 0
2018-01-23 11:53:09,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:53:09,412 - DEBUG - Entry Date is 10
2018-01-23 11:53:09,412 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:53:09,412 - DEBUG - Order Profit ID is 0
2018-01-23 11:53:09,412 - DEBUG - Order Entry ID is 122
2018-01-23 11:53:09,413 - DEBUG - API ID is  0
2018-01-23 11:53:09,413 - DEBUG - Current Position is 1
2018-01-23 11:53:09,413 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:53:09,413 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:53:09,414 - DEBUG - Time is 11
2018-01-23 11:53:09,414 - DEBUG - Time is <class 'int'>
2018-01-23 11:53:09,414 - DEBUG - Time is 53
2018-01-23 11:53:09,414 - DEBUG - Time is <class 'int'>
2018-01-23 11:53:09,414 - DEBUG - Disconnected from IBController
2018-01-23 11:53:09,415 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 11:58:05,351 - DEBUG - ****************************************************
2018-01-23 11:58:05,351 - DEBUG - Current Time is 11:58AM
2018-01-23 11:58:05,351 - DEBUG - Starting Pos Mgmt H E
2018-01-23 11:58:05,352 - DEBUG - Connecting to database
2018-01-23 11:58:05,379 - DEBUG - Connected to database
2018-01-23 11:58:05,379 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:05,380 - DEBUG - Order Profit is 0
2018-01-23 11:58:05,381 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:05,382 - DEBUG - Stop ID is 124
2018-01-23 11:58:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:05,384 - DEBUG - Entry ID is 122
2018-01-23 11:58:05,384 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 11:58:05,385 - DEBUG - OCA ID is 1
2018-01-23 11:58:05,386 - DEBUG - Connecting to IBController
2018-01-23 11:58:06,396 - DEBUG - Connected to IBController
2018-01-23 11:58:06,396 - DEBUG - Position requested
2018-01-23 11:58:06,398 - DEBUG - Pos Mgmt 0
2018-01-23 11:58:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDCC0>, pos=0, avgCost=0.0>
2018-01-23 11:58:06,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 11:58:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:58:06,399 - DEBUG - Position is 0
2018-01-23 11:58:06,400 - DEBUG - Pos Mgmt -12987
2018-01-23 11:58:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDCF8>, pos=-12987, avgCost=0.95368235>
2018-01-23 11:58:06,400 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 11:58:06,400 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 11:58:06,400 - DEBUG - Position is -12987
2018-01-23 11:58:06,401 - DEBUG - Pos Mgmt 1
2018-01-23 11:58:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, pos=1, avgCost=28952.9>
2018-01-23 11:58:06,401 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 11:58:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:58:06,402 - DEBUG - Position is 1
2018-01-23 11:58:06,402 - DEBUG - In Position
2018-01-23 11:58:06,402 - DEBUG - Position is 1
2018-01-23 11:58:06,402 - DEBUG - Pos Mgmt 1
2018-01-23 11:58:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDEF0>, pos=1, avgCost=49582.9>
2018-01-23 11:58:06,403 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 11:58:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-23 11:58:06,403 - DEBUG - Position is 1
2018-01-23 11:58:07,398 - DEBUG - Open Orders requested
2018-01-23 11:58:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191240>>
2018-01-23 11:58:07,400 - DEBUG - Order OrderID 124
2018-01-23 11:58:07,401 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:58:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 11:58:07,402 - DEBUG - Order Identification 124
2018-01-23 11:58:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:58:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 11:58:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:58:07,402 - DEBUG - Stop ID database is 124
2018-01-23 11:58:07,403 - DEBUG - Entry ID database is 122
2018-01-23 11:58:07,403 - DEBUG - Stop API ID is 124
2018-01-23 11:58:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021910F0>>
2018-01-23 11:58:07,404 - DEBUG - Order OrderID 123
2018-01-23 11:58:07,405 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 11:58:07,405 - DEBUG - Order status PreSubmitted
2018-01-23 11:58:07,405 - DEBUG - Order Identification 123
2018-01-23 11:58:07,405 - DEBUG - Order Identification <class 'int'>
2018-01-23 11:58:07,406 - DEBUG - Profit ID from database is 0
2018-01-23 11:58:07,406 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 11:58:07,406 - DEBUG - Stop ID database is 124
2018-01-23 11:58:07,406 - DEBUG - Entry ID database is 122
2018-01-23 11:58:09,400 - DEBUG - Connecting to database
2018-01-23 11:58:09,407 - DEBUG - Connected to database
2018-01-23 11:58:09,408 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 11:58:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,410 - DEBUG - Stop loss value is 83.275
2018-01-23 11:58:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,412 - DEBUG - EntryPrice value is 72.32
2018-01-23 11:58:09,413 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,414 - DEBUG - Stop quantity 1
2018-01-23 11:58:09,415 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,415 - DEBUG - Direction is Long
2018-01-23 11:58:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,417 - DEBUG - Count is 1
2018-01-23 11:58:09,418 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 11:58:09,418 - DEBUG - Stop Loss Flag is 1
2018-01-23 11:58:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 11:58:09,420 - DEBUG - Max ID Order is (124,)
2018-01-23 11:58:09,420 - DEBUG - Today is 2018-01-23
2018-01-23 11:58:09,421 - DEBUG - Day of the week 1
2018-01-23 11:58:09,421 - DEBUG - Yesterday is 01/22/2018
2018-01-23 11:58:09,421 - DEBUG - In Position is  1
2018-01-23 11:58:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 11:58:09,422 - DEBUG - curStopLossFlag is  1
2018-01-23 11:58:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 11:58:09,422 - DEBUG - Checking if Entry has been filled
2018-01-23 11:58:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:58:09,424 - DEBUG - EntryPend is 0
2018-01-23 11:58:09,424 - DEBUG - Try to Cancel Stop
2018-01-23 11:58:09,424 - DEBUG - Stop API ID 124
2018-01-23 11:58:09,424 - DEBUG - Profit API ID 0
2018-01-23 11:58:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-23 11:58:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-23 11:58:09,425 - DEBUG - Pos is 1
2018-01-23 11:58:09,425 - DEBUG - CurCount is 1
2018-01-23 11:58:09,426 - DEBUG - In Pos 1
2018-01-23 11:58:09,426 - DEBUG - Stop ID is 124
2018-01-23 11:58:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 11:58:09,427 - DEBUG - EntryPend is 0
2018-01-23 11:58:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 11:58:09,428 - DEBUG - Entry Date is 10
2018-01-23 11:58:09,428 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 11:58:09,428 - DEBUG - Order Profit ID is 0
2018-01-23 11:58:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 11:58:09,429 - DEBUG - API ID is  0
2018-01-23 11:58:09,429 - DEBUG - Current Position is 1
2018-01-23 11:58:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-23 11:58:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 11:58:09,430 - DEBUG - Time is 11
2018-01-23 11:58:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 11:58:09,430 - DEBUG - Time is 58
2018-01-23 11:58:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 11:58:09,431 - DEBUG - Disconnected from IBController
2018-01-23 11:58:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:03:05,408 - DEBUG - ****************************************************
2018-01-23 12:03:05,408 - DEBUG - Current Time is 12:03PM
2018-01-23 12:03:05,409 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:03:05,409 - DEBUG - Connecting to database
2018-01-23 12:03:05,442 - DEBUG - Connected to database
2018-01-23 12:03:05,443 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:05,444 - DEBUG - Order Profit is 0
2018-01-23 12:03:05,445 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:05,446 - DEBUG - Stop ID is 124
2018-01-23 12:03:05,446 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:05,448 - DEBUG - Entry ID is 122
2018-01-23 12:03:05,448 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:03:05,449 - DEBUG - OCA ID is 1
2018-01-23 12:03:05,449 - DEBUG - Connecting to IBController
2018-01-23 12:03:06,456 - DEBUG - Connected to IBController
2018-01-23 12:03:06,456 - DEBUG - Position requested
2018-01-23 12:03:06,457 - DEBUG - Pos Mgmt 0
2018-01-23 12:03:06,458 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CE10>, pos=0, avgCost=0.0>
2018-01-23 12:03:06,458 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:03:06,458 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:03:06,459 - DEBUG - Position is 0
2018-01-23 12:03:06,459 - DEBUG - Pos Mgmt -12987
2018-01-23 12:03:06,459 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CA90>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:03:06,459 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:03:06,460 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:03:06,460 - DEBUG - Position is -12987
2018-01-23 12:03:06,460 - DEBUG - Pos Mgmt 1
2018-01-23 12:03:06,461 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF28>, pos=1, avgCost=28952.9>
2018-01-23 12:03:06,467 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:03:06,467 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:03:06,467 - DEBUG - Position is 1
2018-01-23 12:03:06,468 - DEBUG - In Position
2018-01-23 12:03:06,468 - DEBUG - Position is 1
2018-01-23 12:03:06,468 - DEBUG - Pos Mgmt 1
2018-01-23 12:03:06,469 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:03:06,469 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:03:06,469 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:03:06,469 - DEBUG - Position is 1
2018-01-23 12:03:07,458 - DEBUG - Open Orders requested
2018-01-23 12:03:07,460 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210CF28>, order=<ib.ext.Order.Order object at 0x000000000210CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A21D0>>
2018-01-23 12:03:07,461 - DEBUG - Order OrderID 124
2018-01-23 12:03:07,461 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:03:07,462 - DEBUG - Order status PreSubmitted
2018-01-23 12:03:07,462 - DEBUG - Order Identification 124
2018-01-23 12:03:07,462 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:03:07,462 - DEBUG - Profit ID from database is 0
2018-01-23 12:03:07,463 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:03:07,463 - DEBUG - Stop ID database is 124
2018-01-23 12:03:07,463 - DEBUG - Entry ID database is 122
2018-01-23 12:03:07,463 - DEBUG - Stop API ID is 124
2018-01-23 12:03:07,464 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210CF28>, order=<ib.ext.Order.Order object at 0x000000000210CDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A2240>>
2018-01-23 12:03:07,464 - DEBUG - Order OrderID 123
2018-01-23 12:03:07,465 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:03:07,465 - DEBUG - Order status PreSubmitted
2018-01-23 12:03:07,465 - DEBUG - Order Identification 123
2018-01-23 12:03:07,466 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:03:07,466 - DEBUG - Profit ID from database is 0
2018-01-23 12:03:07,466 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:03:07,466 - DEBUG - Stop ID database is 124
2018-01-23 12:03:07,466 - DEBUG - Entry ID database is 122
2018-01-23 12:03:09,459 - DEBUG - Connecting to database
2018-01-23 12:03:09,466 - DEBUG - Connected to database
2018-01-23 12:03:09,467 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,468 - DEBUG - Stop loss value is 71.02
2018-01-23 12:03:09,469 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,469 - DEBUG - Stop loss value is 83.275
2018-01-23 12:03:09,471 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,471 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:03:09,472 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,473 - DEBUG - Stop quantity 1
2018-01-23 12:03:09,474 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,474 - DEBUG - Direction is Long
2018-01-23 12:03:09,476 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,476 - DEBUG - Count is 1
2018-01-23 12:03:09,477 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:03:09,478 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:03:09,479 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:03:09,479 - DEBUG - Max ID Order is (124,)
2018-01-23 12:03:09,479 - DEBUG - Today is 2018-01-23
2018-01-23 12:03:09,480 - DEBUG - Day of the week 1
2018-01-23 12:03:09,480 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:03:09,480 - DEBUG - In Position is  1
2018-01-23 12:03:09,481 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:03:09,481 - DEBUG - curStopLossFlag is  1
2018-01-23 12:03:09,481 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:03:09,481 - DEBUG - Checking if Entry has been filled
2018-01-23 12:03:09,481 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:03:09,483 - DEBUG - EntryPend is 0
2018-01-23 12:03:09,483 - DEBUG - Try to Cancel Stop
2018-01-23 12:03:09,483 - DEBUG - Stop API ID 124
2018-01-23 12:03:09,484 - DEBUG - Profit API ID 0
2018-01-23 12:03:09,484 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:03:09,484 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:03:09,484 - DEBUG - Pos is 1
2018-01-23 12:03:09,485 - DEBUG - CurCount is 1
2018-01-23 12:03:09,485 - DEBUG - In Pos 1
2018-01-23 12:03:09,485 - DEBUG - Stop ID is 124
2018-01-23 12:03:09,485 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:03:09,487 - DEBUG - EntryPend is 0
2018-01-23 12:03:09,487 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:03:09,487 - DEBUG - Entry Date is 10
2018-01-23 12:03:09,487 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:03:09,488 - DEBUG - Order Profit ID is 0
2018-01-23 12:03:09,488 - DEBUG - Order Entry ID is 122
2018-01-23 12:03:09,488 - DEBUG - API ID is  0
2018-01-23 12:03:09,488 - DEBUG - Current Position is 1
2018-01-23 12:03:09,488 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:03:09,489 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:03:09,489 - DEBUG - Time is 12
2018-01-23 12:03:09,489 - DEBUG - Time is <class 'int'>
2018-01-23 12:03:09,489 - DEBUG - Time is 3
2018-01-23 12:03:09,490 - DEBUG - Time is <class 'int'>
2018-01-23 12:03:09,490 - DEBUG - Disconnected from IBController
2018-01-23 12:03:09,490 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:08:05,373 - DEBUG - ****************************************************
2018-01-23 12:08:05,374 - DEBUG - Current Time is 12:08PM
2018-01-23 12:08:05,374 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:08:05,374 - DEBUG - Connecting to database
2018-01-23 12:08:05,409 - DEBUG - Connected to database
2018-01-23 12:08:05,410 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:05,412 - DEBUG - Order Profit is 0
2018-01-23 12:08:05,412 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:05,413 - DEBUG - Stop ID is 124
2018-01-23 12:08:05,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:05,415 - DEBUG - Entry ID is 122
2018-01-23 12:08:05,415 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:08:05,417 - DEBUG - OCA ID is 1
2018-01-23 12:08:05,417 - DEBUG - Connecting to IBController
2018-01-23 12:08:06,421 - DEBUG - Connected to IBController
2018-01-23 12:08:06,421 - DEBUG - Position requested
2018-01-23 12:08:06,422 - DEBUG - Pos Mgmt 0
2018-01-23 12:08:06,423 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CB00>, pos=0, avgCost=0.0>
2018-01-23 12:08:06,423 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:08:06,423 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:08:06,424 - DEBUG - Position is 0
2018-01-23 12:08:06,424 - DEBUG - Pos Mgmt -12987
2018-01-23 12:08:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CBE0>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:08:06,424 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:08:06,425 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:08:06,425 - DEBUG - Position is -12987
2018-01-23 12:08:06,425 - DEBUG - Pos Mgmt 1
2018-01-23 12:08:06,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CF98>, pos=1, avgCost=28952.9>
2018-01-23 12:08:06,426 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:08:06,426 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:08:06,426 - DEBUG - Position is 1
2018-01-23 12:08:06,426 - DEBUG - In Position
2018-01-23 12:08:06,427 - DEBUG - Position is 1
2018-01-23 12:08:06,427 - DEBUG - Pos Mgmt 1
2018-01-23 12:08:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000214CF60>, pos=1, avgCost=49582.9>
2018-01-23 12:08:06,427 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:08:06,428 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:08:06,428 - DEBUG - Position is 1
2018-01-23 12:08:07,422 - DEBUG - Open Orders requested
2018-01-23 12:08:07,424 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000214CFD0>, order=<ib.ext.Order.Order object at 0x000000000214CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E1240>>
2018-01-23 12:08:07,424 - DEBUG - Order OrderID 124
2018-01-23 12:08:07,425 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:08:07,425 - DEBUG - Order status PreSubmitted
2018-01-23 12:08:07,425 - DEBUG - Order Identification 124
2018-01-23 12:08:07,426 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:08:07,426 - DEBUG - Profit ID from database is 0
2018-01-23 12:08:07,426 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:08:07,426 - DEBUG - Stop ID database is 124
2018-01-23 12:08:07,427 - DEBUG - Entry ID database is 122
2018-01-23 12:08:07,427 - DEBUG - Stop API ID is 124
2018-01-23 12:08:07,428 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000214CFD0>, order=<ib.ext.Order.Order object at 0x000000000214CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021E10F0>>
2018-01-23 12:08:07,428 - DEBUG - Order OrderID 123
2018-01-23 12:08:07,428 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:08:07,429 - DEBUG - Order status PreSubmitted
2018-01-23 12:08:07,429 - DEBUG - Order Identification 123
2018-01-23 12:08:07,429 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:08:07,429 - DEBUG - Profit ID from database is 0
2018-01-23 12:08:07,430 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:08:07,430 - DEBUG - Stop ID database is 124
2018-01-23 12:08:07,430 - DEBUG - Entry ID database is 122
2018-01-23 12:08:09,424 - DEBUG - Connecting to database
2018-01-23 12:08:09,431 - DEBUG - Connected to database
2018-01-23 12:08:09,432 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,433 - DEBUG - Stop loss value is 71.02
2018-01-23 12:08:09,434 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,434 - DEBUG - Stop loss value is 83.275
2018-01-23 12:08:09,436 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,436 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:08:09,437 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,438 - DEBUG - Stop quantity 1
2018-01-23 12:08:09,439 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,439 - DEBUG - Direction is Long
2018-01-23 12:08:09,441 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,441 - DEBUG - Count is 1
2018-01-23 12:08:09,443 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:08:09,443 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:08:09,444 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:08:09,444 - DEBUG - Max ID Order is (124,)
2018-01-23 12:08:09,445 - DEBUG - Today is 2018-01-23
2018-01-23 12:08:09,445 - DEBUG - Day of the week 1
2018-01-23 12:08:09,445 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:08:09,446 - DEBUG - In Position is  1
2018-01-23 12:08:09,446 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:08:09,446 - DEBUG - curStopLossFlag is  1
2018-01-23 12:08:09,446 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:08:09,447 - DEBUG - Checking if Entry has been filled
2018-01-23 12:08:09,447 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:08:09,448 - DEBUG - EntryPend is 0
2018-01-23 12:08:09,448 - DEBUG - Try to Cancel Stop
2018-01-23 12:08:09,449 - DEBUG - Stop API ID 124
2018-01-23 12:08:09,449 - DEBUG - Profit API ID 0
2018-01-23 12:08:09,449 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:08:09,449 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:08:09,450 - DEBUG - Pos is 1
2018-01-23 12:08:09,450 - DEBUG - CurCount is 1
2018-01-23 12:08:09,450 - DEBUG - In Pos 1
2018-01-23 12:08:09,450 - DEBUG - Stop ID is 124
2018-01-23 12:08:09,450 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:08:09,452 - DEBUG - EntryPend is 0
2018-01-23 12:08:09,452 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:08:09,452 - DEBUG - Entry Date is 10
2018-01-23 12:08:09,453 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:08:09,453 - DEBUG - Order Profit ID is 0
2018-01-23 12:08:09,453 - DEBUG - Order Entry ID is 122
2018-01-23 12:08:09,453 - DEBUG - API ID is  0
2018-01-23 12:08:09,453 - DEBUG - Current Position is 1
2018-01-23 12:08:09,454 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:08:09,454 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:08:09,454 - DEBUG - Time is 12
2018-01-23 12:08:09,454 - DEBUG - Time is <class 'int'>
2018-01-23 12:08:09,454 - DEBUG - Time is 8
2018-01-23 12:08:09,455 - DEBUG - Time is <class 'int'>
2018-01-23 12:08:09,455 - DEBUG - Disconnected from IBController
2018-01-23 12:08:09,455 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:13:05,343 - DEBUG - ****************************************************
2018-01-23 12:13:05,344 - DEBUG - Current Time is 12:13PM
2018-01-23 12:13:05,344 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:13:05,345 - DEBUG - Connecting to database
2018-01-23 12:13:05,378 - DEBUG - Connected to database
2018-01-23 12:13:05,378 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:05,380 - DEBUG - Order Profit is 0
2018-01-23 12:13:05,380 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:05,381 - DEBUG - Stop ID is 124
2018-01-23 12:13:05,382 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:05,383 - DEBUG - Entry ID is 122
2018-01-23 12:13:05,383 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:13:05,385 - DEBUG - OCA ID is 1
2018-01-23 12:13:05,385 - DEBUG - Connecting to IBController
2018-01-23 12:13:06,388 - DEBUG - Connected to IBController
2018-01-23 12:13:06,388 - DEBUG - Position requested
2018-01-23 12:13:06,389 - DEBUG - Pos Mgmt 0
2018-01-23 12:13:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218CCC0>, pos=0, avgCost=0.0>
2018-01-23 12:13:06,390 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:13:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:13:06,391 - DEBUG - Position is 0
2018-01-23 12:13:06,391 - DEBUG - Pos Mgmt -12987
2018-01-23 12:13:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218CDA0>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:13:06,392 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:13:06,392 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:13:06,392 - DEBUG - Position is -12987
2018-01-23 12:13:06,393 - DEBUG - Pos Mgmt 1
2018-01-23 12:13:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218CF98>, pos=1, avgCost=28952.9>
2018-01-23 12:13:06,393 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:13:06,393 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:13:06,393 - DEBUG - Position is 1
2018-01-23 12:13:06,394 - DEBUG - In Position
2018-01-23 12:13:06,394 - DEBUG - Position is 1
2018-01-23 12:13:06,394 - DEBUG - Pos Mgmt 1
2018-01-23 12:13:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000218CF60>, pos=1, avgCost=49582.9>
2018-01-23 12:13:06,395 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:13:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:13:06,395 - DEBUG - Position is 1
2018-01-23 12:13:07,389 - DEBUG - Open Orders requested
2018-01-23 12:13:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000218CFD0>, order=<ib.ext.Order.Order object at 0x000000000218CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002221240>>
2018-01-23 12:13:07,391 - DEBUG - Order OrderID 124
2018-01-23 12:13:07,392 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:13:07,392 - DEBUG - Order status PreSubmitted
2018-01-23 12:13:07,393 - DEBUG - Order Identification 124
2018-01-23 12:13:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:13:07,393 - DEBUG - Profit ID from database is 0
2018-01-23 12:13:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:13:07,394 - DEBUG - Stop ID database is 124
2018-01-23 12:13:07,394 - DEBUG - Entry ID database is 122
2018-01-23 12:13:07,394 - DEBUG - Stop API ID is 124
2018-01-23 12:13:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000218CFD0>, order=<ib.ext.Order.Order object at 0x000000000218CA58>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000022210B8>>
2018-01-23 12:13:07,395 - DEBUG - Order OrderID 123
2018-01-23 12:13:07,396 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:13:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 12:13:07,396 - DEBUG - Order Identification 123
2018-01-23 12:13:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:13:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 12:13:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:13:07,397 - DEBUG - Stop ID database is 124
2018-01-23 12:13:07,397 - DEBUG - Entry ID database is 122
2018-01-23 12:13:09,392 - DEBUG - Connecting to database
2018-01-23 12:13:09,399 - DEBUG - Connected to database
2018-01-23 12:13:09,400 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,401 - DEBUG - Stop loss value is 71.02
2018-01-23 12:13:09,402 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,402 - DEBUG - Stop loss value is 83.275
2018-01-23 12:13:09,404 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,404 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:13:09,405 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,406 - DEBUG - Stop quantity 1
2018-01-23 12:13:09,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,407 - DEBUG - Direction is Long
2018-01-23 12:13:09,408 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,409 - DEBUG - Count is 1
2018-01-23 12:13:09,410 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:13:09,410 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:13:09,412 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:13:09,412 - DEBUG - Max ID Order is (124,)
2018-01-23 12:13:09,412 - DEBUG - Today is 2018-01-23
2018-01-23 12:13:09,413 - DEBUG - Day of the week 1
2018-01-23 12:13:09,413 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:13:09,413 - DEBUG - In Position is  1
2018-01-23 12:13:09,413 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:13:09,414 - DEBUG - curStopLossFlag is  1
2018-01-23 12:13:09,414 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:13:09,414 - DEBUG - Checking if Entry has been filled
2018-01-23 12:13:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:13:09,416 - DEBUG - EntryPend is 0
2018-01-23 12:13:09,416 - DEBUG - Try to Cancel Stop
2018-01-23 12:13:09,416 - DEBUG - Stop API ID 124
2018-01-23 12:13:09,416 - DEBUG - Profit API ID 0
2018-01-23 12:13:09,416 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:13:09,417 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:13:09,417 - DEBUG - Pos is 1
2018-01-23 12:13:09,417 - DEBUG - CurCount is 1
2018-01-23 12:13:09,417 - DEBUG - In Pos 1
2018-01-23 12:13:09,418 - DEBUG - Stop ID is 124
2018-01-23 12:13:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:13:09,419 - DEBUG - EntryPend is 0
2018-01-23 12:13:09,419 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:13:09,419 - DEBUG - Entry Date is 10
2018-01-23 12:13:09,420 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:13:09,420 - DEBUG - Order Profit ID is 0
2018-01-23 12:13:09,420 - DEBUG - Order Entry ID is 122
2018-01-23 12:13:09,420 - DEBUG - API ID is  0
2018-01-23 12:13:09,421 - DEBUG - Current Position is 1
2018-01-23 12:13:09,421 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:13:09,421 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:13:09,421 - DEBUG - Time is 12
2018-01-23 12:13:09,421 - DEBUG - Time is <class 'int'>
2018-01-23 12:13:09,422 - DEBUG - Time is 13
2018-01-23 12:13:09,422 - DEBUG - Time is <class 'int'>
2018-01-23 12:13:09,422 - DEBUG - Disconnected from IBController
2018-01-23 12:13:09,422 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:18:05,347 - DEBUG - ****************************************************
2018-01-23 12:18:05,347 - DEBUG - Current Time is 12:18PM
2018-01-23 12:18:05,348 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:18:05,348 - DEBUG - Connecting to database
2018-01-23 12:18:05,376 - DEBUG - Connected to database
2018-01-23 12:18:05,376 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:05,378 - DEBUG - Order Profit is 0
2018-01-23 12:18:05,378 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:05,380 - DEBUG - Stop ID is 124
2018-01-23 12:18:05,380 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:05,381 - DEBUG - Entry ID is 122
2018-01-23 12:18:05,381 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:18:05,384 - DEBUG - OCA ID is 1
2018-01-23 12:18:05,384 - DEBUG - Connecting to IBController
2018-01-23 12:18:06,388 - DEBUG - Connected to IBController
2018-01-23 12:18:06,388 - DEBUG - Position requested
2018-01-23 12:18:06,389 - DEBUG - Pos Mgmt 0
2018-01-23 12:18:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DC50>, pos=0, avgCost=0.0>
2018-01-23 12:18:06,390 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:18:06,390 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:18:06,391 - DEBUG - Position is 0
2018-01-23 12:18:06,391 - DEBUG - Pos Mgmt -12987
2018-01-23 12:18:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DCF8>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:18:06,392 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:18:06,392 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:18:06,392 - DEBUG - Position is -12987
2018-01-23 12:18:06,392 - DEBUG - Pos Mgmt 1
2018-01-23 12:18:06,393 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DF28>, pos=1, avgCost=28952.9>
2018-01-23 12:18:06,393 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:18:06,393 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:18:06,393 - DEBUG - Position is 1
2018-01-23 12:18:06,393 - DEBUG - In Position
2018-01-23 12:18:06,394 - DEBUG - Position is 1
2018-01-23 12:18:06,394 - DEBUG - Pos Mgmt 1
2018-01-23 12:18:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213DEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:18:06,395 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:18:06,395 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:18:06,395 - DEBUG - Position is 1
2018-01-23 12:18:07,389 - DEBUG - Open Orders requested
2018-01-23 12:18:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000213DFD0>, order=<ib.ext.Order.Order object at 0x000000000213DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2240>>
2018-01-23 12:18:07,392 - DEBUG - Order OrderID 124
2018-01-23 12:18:07,392 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:18:07,392 - DEBUG - Order status PreSubmitted
2018-01-23 12:18:07,393 - DEBUG - Order Identification 124
2018-01-23 12:18:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:18:07,393 - DEBUG - Profit ID from database is 0
2018-01-23 12:18:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:18:07,394 - DEBUG - Stop ID database is 124
2018-01-23 12:18:07,394 - DEBUG - Entry ID database is 122
2018-01-23 12:18:07,394 - DEBUG - Stop API ID is 124
2018-01-23 12:18:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000213DFD0>, order=<ib.ext.Order.Order object at 0x000000000213DC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D2080>>
2018-01-23 12:18:07,395 - DEBUG - Order OrderID 123
2018-01-23 12:18:07,396 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:18:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 12:18:07,396 - DEBUG - Order Identification 123
2018-01-23 12:18:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:18:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 12:18:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:18:07,397 - DEBUG - Stop ID database is 124
2018-01-23 12:18:07,397 - DEBUG - Entry ID database is 122
2018-01-23 12:18:09,391 - DEBUG - Connecting to database
2018-01-23 12:18:09,398 - DEBUG - Connected to database
2018-01-23 12:18:09,399 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,400 - DEBUG - Stop loss value is 71.02
2018-01-23 12:18:09,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,401 - DEBUG - Stop loss value is 83.275
2018-01-23 12:18:09,403 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,403 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:18:09,404 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,405 - DEBUG - Stop quantity 1
2018-01-23 12:18:09,406 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,406 - DEBUG - Direction is Long
2018-01-23 12:18:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,408 - DEBUG - Count is 1
2018-01-23 12:18:09,409 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:18:09,409 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:18:09,411 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:18:09,412 - DEBUG - Max ID Order is (124,)
2018-01-23 12:18:09,412 - DEBUG - Today is 2018-01-23
2018-01-23 12:18:09,412 - DEBUG - Day of the week 1
2018-01-23 12:18:09,413 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:18:09,413 - DEBUG - In Position is  1
2018-01-23 12:18:09,413 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:18:09,413 - DEBUG - curStopLossFlag is  1
2018-01-23 12:18:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:18:09,414 - DEBUG - Checking if Entry has been filled
2018-01-23 12:18:09,414 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:18:09,416 - DEBUG - EntryPend is 0
2018-01-23 12:18:09,416 - DEBUG - Try to Cancel Stop
2018-01-23 12:18:09,416 - DEBUG - Stop API ID 124
2018-01-23 12:18:09,416 - DEBUG - Profit API ID 0
2018-01-23 12:18:09,417 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:18:09,417 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:18:09,417 - DEBUG - Pos is 1
2018-01-23 12:18:09,417 - DEBUG - CurCount is 1
2018-01-23 12:18:09,418 - DEBUG - In Pos 1
2018-01-23 12:18:09,418 - DEBUG - Stop ID is 124
2018-01-23 12:18:09,418 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:18:09,419 - DEBUG - EntryPend is 0
2018-01-23 12:18:09,420 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:18:09,420 - DEBUG - Entry Date is 10
2018-01-23 12:18:09,420 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:18:09,420 - DEBUG - Order Profit ID is 0
2018-01-23 12:18:09,421 - DEBUG - Order Entry ID is 122
2018-01-23 12:18:09,421 - DEBUG - API ID is  0
2018-01-23 12:18:09,421 - DEBUG - Current Position is 1
2018-01-23 12:18:09,421 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:18:09,421 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:18:09,422 - DEBUG - Time is 12
2018-01-23 12:18:09,422 - DEBUG - Time is <class 'int'>
2018-01-23 12:18:09,423 - DEBUG - Time is 18
2018-01-23 12:18:09,423 - DEBUG - Time is <class 'int'>
2018-01-23 12:18:09,423 - DEBUG - Disconnected from IBController
2018-01-23 12:18:09,423 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:23:05,368 - DEBUG - ****************************************************
2018-01-23 12:23:05,369 - DEBUG - Current Time is 12:23PM
2018-01-23 12:23:05,369 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:23:05,370 - DEBUG - Connecting to database
2018-01-23 12:23:05,391 - DEBUG - Connected to database
2018-01-23 12:23:05,391 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:05,393 - DEBUG - Order Profit is 0
2018-01-23 12:23:05,393 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:05,394 - DEBUG - Stop ID is 124
2018-01-23 12:23:05,394 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:05,396 - DEBUG - Entry ID is 122
2018-01-23 12:23:05,396 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:23:05,397 - DEBUG - OCA ID is 1
2018-01-23 12:23:05,398 - DEBUG - Connecting to IBController
2018-01-23 12:23:06,404 - DEBUG - Connected to IBController
2018-01-23 12:23:06,404 - DEBUG - Position requested
2018-01-23 12:23:06,405 - DEBUG - Pos Mgmt 0
2018-01-23 12:23:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DE10>, pos=0, avgCost=0.0>
2018-01-23 12:23:06,406 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:23:06,406 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:23:06,407 - DEBUG - Position is 0
2018-01-23 12:23:06,407 - DEBUG - Pos Mgmt -12987
2018-01-23 12:23:06,407 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DAC8>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:23:06,408 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:23:06,408 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:23:06,408 - DEBUG - Position is -12987
2018-01-23 12:23:06,408 - DEBUG - Pos Mgmt 1
2018-01-23 12:23:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DF28>, pos=1, avgCost=28952.9>
2018-01-23 12:23:06,409 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:23:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:23:06,409 - DEBUG - Position is 1
2018-01-23 12:23:06,410 - DEBUG - In Position
2018-01-23 12:23:06,410 - DEBUG - Position is 1
2018-01-23 12:23:06,410 - DEBUG - Pos Mgmt 1
2018-01-23 12:23:06,411 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:23:06,411 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:23:06,411 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:23:06,411 - DEBUG - Position is 1
2018-01-23 12:23:07,406 - DEBUG - Open Orders requested
2018-01-23 12:23:07,408 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DFD0>, order=<ib.ext.Order.Order object at 0x0000000001C3DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002172240>>
2018-01-23 12:23:07,408 - DEBUG - Order OrderID 124
2018-01-23 12:23:07,409 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:23:07,409 - DEBUG - Order status PreSubmitted
2018-01-23 12:23:07,409 - DEBUG - Order Identification 124
2018-01-23 12:23:07,409 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:23:07,410 - DEBUG - Profit ID from database is 0
2018-01-23 12:23:07,410 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:23:07,410 - DEBUG - Stop ID database is 124
2018-01-23 12:23:07,410 - DEBUG - Entry ID database is 122
2018-01-23 12:23:07,411 - DEBUG - Stop API ID is 124
2018-01-23 12:23:07,412 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x0000000001C3DFD0>, order=<ib.ext.Order.Order object at 0x0000000001C3DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021720F0>>
2018-01-23 12:23:07,412 - DEBUG - Order OrderID 123
2018-01-23 12:23:07,412 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:23:07,413 - DEBUG - Order status PreSubmitted
2018-01-23 12:23:07,413 - DEBUG - Order Identification 123
2018-01-23 12:23:07,413 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:23:07,413 - DEBUG - Profit ID from database is 0
2018-01-23 12:23:07,414 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:23:07,414 - DEBUG - Stop ID database is 124
2018-01-23 12:23:07,414 - DEBUG - Entry ID database is 122
2018-01-23 12:23:09,408 - DEBUG - Connecting to database
2018-01-23 12:23:09,415 - DEBUG - Connected to database
2018-01-23 12:23:09,416 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,417 - DEBUG - Stop loss value is 71.02
2018-01-23 12:23:09,418 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,418 - DEBUG - Stop loss value is 83.275
2018-01-23 12:23:09,420 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,420 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:23:09,421 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,422 - DEBUG - Stop quantity 1
2018-01-23 12:23:09,423 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,423 - DEBUG - Direction is Long
2018-01-23 12:23:09,425 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,425 - DEBUG - Count is 1
2018-01-23 12:23:09,426 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:23:09,427 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:23:09,428 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:23:09,429 - DEBUG - Max ID Order is (124,)
2018-01-23 12:23:09,429 - DEBUG - Today is 2018-01-23
2018-01-23 12:23:09,429 - DEBUG - Day of the week 1
2018-01-23 12:23:09,430 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:23:09,430 - DEBUG - In Position is  1
2018-01-23 12:23:09,430 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:23:09,430 - DEBUG - curStopLossFlag is  1
2018-01-23 12:23:09,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:23:09,431 - DEBUG - Checking if Entry has been filled
2018-01-23 12:23:09,431 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:23:09,432 - DEBUG - EntryPend is 0
2018-01-23 12:23:09,433 - DEBUG - Try to Cancel Stop
2018-01-23 12:23:09,433 - DEBUG - Stop API ID 124
2018-01-23 12:23:09,433 - DEBUG - Profit API ID 0
2018-01-23 12:23:09,433 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:23:09,434 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:23:09,434 - DEBUG - Pos is 1
2018-01-23 12:23:09,434 - DEBUG - CurCount is 1
2018-01-23 12:23:09,434 - DEBUG - In Pos 1
2018-01-23 12:23:09,434 - DEBUG - Stop ID is 124
2018-01-23 12:23:09,435 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:23:09,436 - DEBUG - EntryPend is 0
2018-01-23 12:23:09,436 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:23:09,437 - DEBUG - Entry Date is 10
2018-01-23 12:23:09,437 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:23:09,437 - DEBUG - Order Profit ID is 0
2018-01-23 12:23:09,437 - DEBUG - Order Entry ID is 122
2018-01-23 12:23:09,438 - DEBUG - API ID is  0
2018-01-23 12:23:09,438 - DEBUG - Current Position is 1
2018-01-23 12:23:09,438 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:23:09,438 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:23:09,438 - DEBUG - Time is 12
2018-01-23 12:23:09,439 - DEBUG - Time is <class 'int'>
2018-01-23 12:23:09,439 - DEBUG - Time is 23
2018-01-23 12:23:09,439 - DEBUG - Time is <class 'int'>
2018-01-23 12:23:09,439 - DEBUG - Disconnected from IBController
2018-01-23 12:23:09,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:28:05,361 - DEBUG - ****************************************************
2018-01-23 12:28:05,362 - DEBUG - Current Time is 12:28PM
2018-01-23 12:28:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:28:05,363 - DEBUG - Connecting to database
2018-01-23 12:28:05,381 - DEBUG - Connected to database
2018-01-23 12:28:05,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:05,382 - DEBUG - Order Profit is 0
2018-01-23 12:28:05,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:05,384 - DEBUG - Stop ID is 124
2018-01-23 12:28:05,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:05,386 - DEBUG - Entry ID is 122
2018-01-23 12:28:05,386 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:28:05,387 - DEBUG - OCA ID is 1
2018-01-23 12:28:05,387 - DEBUG - Connecting to IBController
2018-01-23 12:28:06,392 - DEBUG - Connected to IBController
2018-01-23 12:28:06,392 - DEBUG - Position requested
2018-01-23 12:28:06,393 - DEBUG - Pos Mgmt 0
2018-01-23 12:28:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC18>, pos=0, avgCost=0.0>
2018-01-23 12:28:06,394 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:28:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:28:06,395 - DEBUG - Position is 0
2018-01-23 12:28:06,395 - DEBUG - Pos Mgmt -12987
2018-01-23 12:28:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DC50>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:28:06,395 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:28:06,396 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:28:06,396 - DEBUG - Position is -12987
2018-01-23 12:28:06,396 - DEBUG - Pos Mgmt 1
2018-01-23 12:28:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DF28>, pos=1, avgCost=28952.9>
2018-01-23 12:28:06,397 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:28:06,397 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:28:06,397 - DEBUG - Position is 1
2018-01-23 12:28:06,397 - DEBUG - In Position
2018-01-23 12:28:06,398 - DEBUG - Position is 1
2018-01-23 12:28:06,398 - DEBUG - Pos Mgmt 1
2018-01-23 12:28:06,398 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210DEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:28:06,398 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:28:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:28:06,399 - DEBUG - Position is 1
2018-01-23 12:28:07,393 - DEBUG - Open Orders requested
2018-01-23 12:28:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 12:28:07,395 - DEBUG - Order OrderID 124
2018-01-23 12:28:07,396 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:28:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 12:28:07,397 - DEBUG - Order Identification 124
2018-01-23 12:28:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:28:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 12:28:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:28:07,398 - DEBUG - Stop ID database is 124
2018-01-23 12:28:07,398 - DEBUG - Entry ID database is 122
2018-01-23 12:28:07,398 - DEBUG - Stop API ID is 124
2018-01-23 12:28:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210DFD0>, order=<ib.ext.Order.Order object at 0x000000000210DE10>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1048>>
2018-01-23 12:28:07,399 - DEBUG - Order OrderID 123
2018-01-23 12:28:07,400 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:28:07,400 - DEBUG - Order status PreSubmitted
2018-01-23 12:28:07,400 - DEBUG - Order Identification 123
2018-01-23 12:28:07,400 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:28:07,401 - DEBUG - Profit ID from database is 0
2018-01-23 12:28:07,401 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:28:07,401 - DEBUG - Stop ID database is 124
2018-01-23 12:28:07,401 - DEBUG - Entry ID database is 122
2018-01-23 12:28:09,395 - DEBUG - Connecting to database
2018-01-23 12:28:09,402 - DEBUG - Connected to database
2018-01-23 12:28:09,403 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,404 - DEBUG - Stop loss value is 71.02
2018-01-23 12:28:09,405 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,405 - DEBUG - Stop loss value is 83.275
2018-01-23 12:28:09,407 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,407 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:28:09,408 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,409 - DEBUG - Stop quantity 1
2018-01-23 12:28:09,410 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,410 - DEBUG - Direction is Long
2018-01-23 12:28:09,414 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,414 - DEBUG - Count is 1
2018-01-23 12:28:09,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:28:09,417 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:28:09,420 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:28:09,420 - DEBUG - Max ID Order is (124,)
2018-01-23 12:28:09,420 - DEBUG - Today is 2018-01-23
2018-01-23 12:28:09,421 - DEBUG - Day of the week 1
2018-01-23 12:28:09,421 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:28:09,421 - DEBUG - In Position is  1
2018-01-23 12:28:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:28:09,422 - DEBUG - curStopLossFlag is  1
2018-01-23 12:28:09,422 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:28:09,422 - DEBUG - Checking if Entry has been filled
2018-01-23 12:28:09,422 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:28:09,424 - DEBUG - EntryPend is 0
2018-01-23 12:28:09,424 - DEBUG - Try to Cancel Stop
2018-01-23 12:28:09,424 - DEBUG - Stop API ID 124
2018-01-23 12:28:09,424 - DEBUG - Profit API ID 0
2018-01-23 12:28:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:28:09,425 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:28:09,425 - DEBUG - Pos is 1
2018-01-23 12:28:09,425 - DEBUG - CurCount is 1
2018-01-23 12:28:09,426 - DEBUG - In Pos 1
2018-01-23 12:28:09,426 - DEBUG - Stop ID is 124
2018-01-23 12:28:09,426 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:28:09,427 - DEBUG - EntryPend is 0
2018-01-23 12:28:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:28:09,428 - DEBUG - Entry Date is 10
2018-01-23 12:28:09,428 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:28:09,428 - DEBUG - Order Profit ID is 0
2018-01-23 12:28:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 12:28:09,429 - DEBUG - API ID is  0
2018-01-23 12:28:09,429 - DEBUG - Current Position is 1
2018-01-23 12:28:09,429 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:28:09,429 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:28:09,430 - DEBUG - Time is 12
2018-01-23 12:28:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 12:28:09,430 - DEBUG - Time is 28
2018-01-23 12:28:09,430 - DEBUG - Time is <class 'int'>
2018-01-23 12:28:09,431 - DEBUG - Disconnected from IBController
2018-01-23 12:28:09,431 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:33:05,362 - DEBUG - ****************************************************
2018-01-23 12:33:05,363 - DEBUG - Current Time is 12:33PM
2018-01-23 12:33:05,363 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:33:05,364 - DEBUG - Connecting to database
2018-01-23 12:33:05,386 - DEBUG - Connected to database
2018-01-23 12:33:05,386 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:05,388 - DEBUG - Order Profit is 0
2018-01-23 12:33:05,388 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:05,390 - DEBUG - Stop ID is 124
2018-01-23 12:33:05,390 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:05,392 - DEBUG - Entry ID is 122
2018-01-23 12:33:05,392 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:33:05,394 - DEBUG - OCA ID is 1
2018-01-23 12:33:05,394 - DEBUG - Connecting to IBController
2018-01-23 12:33:06,402 - DEBUG - Connected to IBController
2018-01-23 12:33:06,402 - DEBUG - Position requested
2018-01-23 12:33:06,403 - DEBUG - Pos Mgmt 0
2018-01-23 12:33:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BC88>, pos=0, avgCost=0.0>
2018-01-23 12:33:06,404 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:33:06,404 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:33:06,405 - DEBUG - Position is 0
2018-01-23 12:33:06,405 - DEBUG - Pos Mgmt -12987
2018-01-23 12:33:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BA90>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:33:06,405 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:33:06,406 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:33:06,406 - DEBUG - Position is -12987
2018-01-23 12:33:06,406 - DEBUG - Pos Mgmt 1
2018-01-23 12:33:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BF28>, pos=1, avgCost=28952.9>
2018-01-23 12:33:06,407 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:33:06,407 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:33:06,407 - DEBUG - Position is 1
2018-01-23 12:33:06,407 - DEBUG - In Position
2018-01-23 12:33:06,408 - DEBUG - Position is 1
2018-01-23 12:33:06,408 - DEBUG - Pos Mgmt 1
2018-01-23 12:33:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213BEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:33:06,408 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:33:06,409 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:33:06,409 - DEBUG - Position is 1
2018-01-23 12:33:07,403 - DEBUG - Open Orders requested
2018-01-23 12:33:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000213BFD0>, order=<ib.ext.Order.Order object at 0x000000000213BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D0240>>
2018-01-23 12:33:07,407 - DEBUG - Order OrderID 124
2018-01-23 12:33:07,407 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:33:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 12:33:07,408 - DEBUG - Order Identification 124
2018-01-23 12:33:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:33:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 12:33:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:33:07,409 - DEBUG - Stop ID database is 124
2018-01-23 12:33:07,409 - DEBUG - Entry ID database is 122
2018-01-23 12:33:07,409 - DEBUG - Stop API ID is 124
2018-01-23 12:33:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000213BFD0>, order=<ib.ext.Order.Order object at 0x000000000213BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D00B8>>
2018-01-23 12:33:07,410 - DEBUG - Order OrderID 123
2018-01-23 12:33:07,411 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:33:07,411 - DEBUG - Order status PreSubmitted
2018-01-23 12:33:07,411 - DEBUG - Order Identification 123
2018-01-23 12:33:07,412 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:33:07,412 - DEBUG - Profit ID from database is 0
2018-01-23 12:33:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:33:07,412 - DEBUG - Stop ID database is 124
2018-01-23 12:33:07,412 - DEBUG - Entry ID database is 122
2018-01-23 12:33:09,407 - DEBUG - Connecting to database
2018-01-23 12:33:09,414 - DEBUG - Connected to database
2018-01-23 12:33:09,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,416 - DEBUG - Stop loss value is 71.02
2018-01-23 12:33:09,417 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,417 - DEBUG - Stop loss value is 83.275
2018-01-23 12:33:09,419 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,419 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:33:09,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,421 - DEBUG - Stop quantity 1
2018-01-23 12:33:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,422 - DEBUG - Direction is Long
2018-01-23 12:33:09,424 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,424 - DEBUG - Count is 1
2018-01-23 12:33:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:33:09,426 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:33:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:33:09,427 - DEBUG - Max ID Order is (124,)
2018-01-23 12:33:09,428 - DEBUG - Today is 2018-01-23
2018-01-23 12:33:09,428 - DEBUG - Day of the week 1
2018-01-23 12:33:09,428 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:33:09,429 - DEBUG - In Position is  1
2018-01-23 12:33:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:33:09,429 - DEBUG - curStopLossFlag is  1
2018-01-23 12:33:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:33:09,430 - DEBUG - Checking if Entry has been filled
2018-01-23 12:33:09,430 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:33:09,431 - DEBUG - EntryPend is 0
2018-01-23 12:33:09,431 - DEBUG - Try to Cancel Stop
2018-01-23 12:33:09,432 - DEBUG - Stop API ID 124
2018-01-23 12:33:09,432 - DEBUG - Profit API ID 0
2018-01-23 12:33:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:33:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:33:09,432 - DEBUG - Pos is 1
2018-01-23 12:33:09,433 - DEBUG - CurCount is 1
2018-01-23 12:33:09,433 - DEBUG - In Pos 1
2018-01-23 12:33:09,433 - DEBUG - Stop ID is 124
2018-01-23 12:33:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:33:09,435 - DEBUG - EntryPend is 0
2018-01-23 12:33:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:33:09,435 - DEBUG - Entry Date is 10
2018-01-23 12:33:09,435 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:33:09,436 - DEBUG - Order Profit ID is 0
2018-01-23 12:33:09,436 - DEBUG - Order Entry ID is 122
2018-01-23 12:33:09,436 - DEBUG - API ID is  0
2018-01-23 12:33:09,436 - DEBUG - Current Position is 1
2018-01-23 12:33:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:33:09,437 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:33:09,437 - DEBUG - Time is 12
2018-01-23 12:33:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 12:33:09,437 - DEBUG - Time is 33
2018-01-23 12:33:09,438 - DEBUG - Time is <class 'int'>
2018-01-23 12:33:09,438 - DEBUG - Disconnected from IBController
2018-01-23 12:33:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:38:05,376 - DEBUG - ****************************************************
2018-01-23 12:38:05,377 - DEBUG - Current Time is 12:38PM
2018-01-23 12:38:05,377 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:38:05,378 - DEBUG - Connecting to database
2018-01-23 12:38:05,414 - DEBUG - Connected to database
2018-01-23 12:38:05,414 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:05,416 - DEBUG - Order Profit is 0
2018-01-23 12:38:05,416 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:05,417 - DEBUG - Stop ID is 124
2018-01-23 12:38:05,418 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:05,419 - DEBUG - Entry ID is 122
2018-01-23 12:38:05,419 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:38:05,421 - DEBUG - OCA ID is 1
2018-01-23 12:38:05,421 - DEBUG - Connecting to IBController
2018-01-23 12:38:06,427 - DEBUG - Connected to IBController
2018-01-23 12:38:06,427 - DEBUG - Position requested
2018-01-23 12:38:06,428 - DEBUG - Pos Mgmt 0
2018-01-23 12:38:06,429 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CD68>, pos=0, avgCost=0.0>
2018-01-23 12:38:06,429 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:38:06,429 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:38:06,430 - DEBUG - Position is 0
2018-01-23 12:38:06,430 - DEBUG - Pos Mgmt -12987
2018-01-23 12:38:06,430 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CA20>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:38:06,431 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:38:06,431 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:38:06,431 - DEBUG - Position is -12987
2018-01-23 12:38:06,432 - DEBUG - Pos Mgmt 1
2018-01-23 12:38:06,432 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CF98>, pos=1, avgCost=28952.9>
2018-01-23 12:38:06,432 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:38:06,432 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:38:06,433 - DEBUG - Position is 1
2018-01-23 12:38:06,433 - DEBUG - In Position
2018-01-23 12:38:06,433 - DEBUG - Position is 1
2018-01-23 12:38:06,433 - DEBUG - Pos Mgmt 1
2018-01-23 12:38:06,434 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000213CF60>, pos=1, avgCost=49582.9>
2018-01-23 12:38:06,434 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:38:06,434 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:38:06,434 - DEBUG - Position is 1
2018-01-23 12:38:07,429 - DEBUG - Open Orders requested
2018-01-23 12:38:07,431 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000213CFD0>, order=<ib.ext.Order.Order object at 0x000000000213CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D1240>>
2018-01-23 12:38:07,431 - DEBUG - Order OrderID 124
2018-01-23 12:38:07,432 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:38:07,432 - DEBUG - Order status PreSubmitted
2018-01-23 12:38:07,432 - DEBUG - Order Identification 124
2018-01-23 12:38:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:38:07,433 - DEBUG - Profit ID from database is 0
2018-01-23 12:38:07,433 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:38:07,433 - DEBUG - Stop ID database is 124
2018-01-23 12:38:07,433 - DEBUG - Entry ID database is 122
2018-01-23 12:38:07,434 - DEBUG - Stop API ID is 124
2018-01-23 12:38:07,435 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000213CFD0>, order=<ib.ext.Order.Order object at 0x000000000213CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021D1080>>
2018-01-23 12:38:07,435 - DEBUG - Order OrderID 123
2018-01-23 12:38:07,435 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:38:07,436 - DEBUG - Order status PreSubmitted
2018-01-23 12:38:07,436 - DEBUG - Order Identification 123
2018-01-23 12:38:07,436 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:38:07,436 - DEBUG - Profit ID from database is 0
2018-01-23 12:38:07,437 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:38:07,437 - DEBUG - Stop ID database is 124
2018-01-23 12:38:07,437 - DEBUG - Entry ID database is 122
2018-01-23 12:38:09,431 - DEBUG - Connecting to database
2018-01-23 12:38:09,438 - DEBUG - Connected to database
2018-01-23 12:38:09,439 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,440 - DEBUG - Stop loss value is 71.02
2018-01-23 12:38:09,441 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,442 - DEBUG - Stop loss value is 83.275
2018-01-23 12:38:09,443 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,443 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:38:09,444 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,445 - DEBUG - Stop quantity 1
2018-01-23 12:38:09,446 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,446 - DEBUG - Direction is Long
2018-01-23 12:38:09,448 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,448 - DEBUG - Count is 1
2018-01-23 12:38:09,450 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:38:09,450 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:38:09,451 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:38:09,452 - DEBUG - Max ID Order is (124,)
2018-01-23 12:38:09,452 - DEBUG - Today is 2018-01-23
2018-01-23 12:38:09,453 - DEBUG - Day of the week 1
2018-01-23 12:38:09,453 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:38:09,453 - DEBUG - In Position is  1
2018-01-23 12:38:09,453 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:38:09,453 - DEBUG - curStopLossFlag is  1
2018-01-23 12:38:09,454 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:38:09,454 - DEBUG - Checking if Entry has been filled
2018-01-23 12:38:09,454 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:38:09,455 - DEBUG - EntryPend is 0
2018-01-23 12:38:09,456 - DEBUG - Try to Cancel Stop
2018-01-23 12:38:09,456 - DEBUG - Stop API ID 124
2018-01-23 12:38:09,456 - DEBUG - Profit API ID 0
2018-01-23 12:38:09,456 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:38:09,457 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:38:09,457 - DEBUG - Pos is 1
2018-01-23 12:38:09,457 - DEBUG - CurCount is 1
2018-01-23 12:38:09,457 - DEBUG - In Pos 1
2018-01-23 12:38:09,457 - DEBUG - Stop ID is 124
2018-01-23 12:38:09,458 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:38:09,459 - DEBUG - EntryPend is 0
2018-01-23 12:38:09,459 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:38:09,459 - DEBUG - Entry Date is 10
2018-01-23 12:38:09,460 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:38:09,460 - DEBUG - Order Profit ID is 0
2018-01-23 12:38:09,460 - DEBUG - Order Entry ID is 122
2018-01-23 12:38:09,460 - DEBUG - API ID is  0
2018-01-23 12:38:09,461 - DEBUG - Current Position is 1
2018-01-23 12:38:09,461 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:38:09,461 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:38:09,461 - DEBUG - Time is 12
2018-01-23 12:38:09,461 - DEBUG - Time is <class 'int'>
2018-01-23 12:38:09,462 - DEBUG - Time is 38
2018-01-23 12:38:09,462 - DEBUG - Time is <class 'int'>
2018-01-23 12:38:09,462 - DEBUG - Disconnected from IBController
2018-01-23 12:38:09,462 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:43:05,359 - DEBUG - ****************************************************
2018-01-23 12:43:05,359 - DEBUG - Current Time is 12:43PM
2018-01-23 12:43:05,360 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:43:05,360 - DEBUG - Connecting to database
2018-01-23 12:43:05,383 - DEBUG - Connected to database
2018-01-23 12:43:05,383 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:05,385 - DEBUG - Order Profit is 0
2018-01-23 12:43:05,385 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:05,387 - DEBUG - Stop ID is 124
2018-01-23 12:43:05,387 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:05,388 - DEBUG - Entry ID is 122
2018-01-23 12:43:05,389 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:43:05,391 - DEBUG - OCA ID is 1
2018-01-23 12:43:05,391 - DEBUG - Connecting to IBController
2018-01-23 12:43:06,397 - DEBUG - Connected to IBController
2018-01-23 12:43:06,397 - DEBUG - Position requested
2018-01-23 12:43:06,398 - DEBUG - Pos Mgmt 0
2018-01-23 12:43:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBBA8>, pos=0, avgCost=0.0>
2018-01-23 12:43:06,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:43:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:43:06,400 - DEBUG - Position is 0
2018-01-23 12:43:06,400 - DEBUG - Pos Mgmt -12987
2018-01-23 12:43:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBD30>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:43:06,401 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:43:06,401 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:43:06,401 - DEBUG - Position is -12987
2018-01-23 12:43:06,401 - DEBUG - Pos Mgmt 1
2018-01-23 12:43:06,402 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBF28>, pos=1, avgCost=28952.9>
2018-01-23 12:43:06,402 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:43:06,402 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:43:06,408 - DEBUG - Position is 1
2018-01-23 12:43:06,409 - DEBUG - In Position
2018-01-23 12:43:06,409 - DEBUG - Position is 1
2018-01-23 12:43:06,409 - DEBUG - Pos Mgmt 1
2018-01-23 12:43:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020EBEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:43:06,410 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:43:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:43:06,410 - DEBUG - Position is 1
2018-01-23 12:43:07,398 - DEBUG - Open Orders requested
2018-01-23 12:43:07,399 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020EBFD0>, order=<ib.ext.Order.Order object at 0x00000000020EBC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002180240>>
2018-01-23 12:43:07,400 - DEBUG - Order OrderID 124
2018-01-23 12:43:07,401 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:43:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 12:43:07,401 - DEBUG - Order Identification 124
2018-01-23 12:43:07,401 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:43:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 12:43:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:43:07,402 - DEBUG - Stop ID database is 124
2018-01-23 12:43:07,402 - DEBUG - Entry ID database is 122
2018-01-23 12:43:07,403 - DEBUG - Stop API ID is 124
2018-01-23 12:43:07,404 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020EBFD0>, order=<ib.ext.Order.Order object at 0x00000000020EBC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021800B8>>
2018-01-23 12:43:07,404 - DEBUG - Order OrderID 123
2018-01-23 12:43:07,404 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:43:07,405 - DEBUG - Order status PreSubmitted
2018-01-23 12:43:07,405 - DEBUG - Order Identification 123
2018-01-23 12:43:07,405 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:43:07,405 - DEBUG - Profit ID from database is 0
2018-01-23 12:43:07,405 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:43:07,406 - DEBUG - Stop ID database is 124
2018-01-23 12:43:07,406 - DEBUG - Entry ID database is 122
2018-01-23 12:43:09,401 - DEBUG - Connecting to database
2018-01-23 12:43:09,408 - DEBUG - Connected to database
2018-01-23 12:43:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 12:43:09,411 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,411 - DEBUG - Stop loss value is 83.275
2018-01-23 12:43:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,413 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:43:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,414 - DEBUG - Stop quantity 1
2018-01-23 12:43:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,416 - DEBUG - Direction is Long
2018-01-23 12:43:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,418 - DEBUG - Count is 1
2018-01-23 12:43:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:43:09,419 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:43:09,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:43:09,421 - DEBUG - Max ID Order is (124,)
2018-01-23 12:43:09,421 - DEBUG - Today is 2018-01-23
2018-01-23 12:43:09,422 - DEBUG - Day of the week 1
2018-01-23 12:43:09,422 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:43:09,422 - DEBUG - In Position is  1
2018-01-23 12:43:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:43:09,423 - DEBUG - curStopLossFlag is  1
2018-01-23 12:43:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:43:09,423 - DEBUG - Checking if Entry has been filled
2018-01-23 12:43:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:43:09,425 - DEBUG - EntryPend is 0
2018-01-23 12:43:09,425 - DEBUG - Try to Cancel Stop
2018-01-23 12:43:09,425 - DEBUG - Stop API ID 124
2018-01-23 12:43:09,425 - DEBUG - Profit API ID 0
2018-01-23 12:43:09,426 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:43:09,426 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:43:09,426 - DEBUG - Pos is 1
2018-01-23 12:43:09,426 - DEBUG - CurCount is 1
2018-01-23 12:43:09,426 - DEBUG - In Pos 1
2018-01-23 12:43:09,427 - DEBUG - Stop ID is 124
2018-01-23 12:43:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:43:09,428 - DEBUG - EntryPend is 0
2018-01-23 12:43:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:43:09,429 - DEBUG - Entry Date is 10
2018-01-23 12:43:09,429 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:43:09,429 - DEBUG - Order Profit ID is 0
2018-01-23 12:43:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 12:43:09,430 - DEBUG - API ID is  0
2018-01-23 12:43:09,430 - DEBUG - Current Position is 1
2018-01-23 12:43:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:43:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:43:09,430 - DEBUG - Time is 12
2018-01-23 12:43:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 12:43:09,431 - DEBUG - Time is 43
2018-01-23 12:43:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 12:43:09,431 - DEBUG - Disconnected from IBController
2018-01-23 12:43:09,432 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:48:05,349 - DEBUG - ****************************************************
2018-01-23 12:48:05,349 - DEBUG - Current Time is 12:48PM
2018-01-23 12:48:05,350 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:48:05,350 - DEBUG - Connecting to database
2018-01-23 12:48:05,367 - DEBUG - Connected to database
2018-01-23 12:48:05,367 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:05,369 - DEBUG - Order Profit is 0
2018-01-23 12:48:05,369 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:05,371 - DEBUG - Stop ID is 124
2018-01-23 12:48:05,371 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:05,372 - DEBUG - Entry ID is 122
2018-01-23 12:48:05,373 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:48:05,374 - DEBUG - OCA ID is 1
2018-01-23 12:48:05,374 - DEBUG - Connecting to IBController
2018-01-23 12:48:06,381 - DEBUG - Connected to IBController
2018-01-23 12:48:06,381 - DEBUG - Position requested
2018-01-23 12:48:06,382 - DEBUG - Pos Mgmt 0
2018-01-23 12:48:06,383 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DE10>, pos=0, avgCost=0.0>
2018-01-23 12:48:06,383 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:48:06,383 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:48:06,384 - DEBUG - Position is 0
2018-01-23 12:48:06,384 - DEBUG - Pos Mgmt -12987
2018-01-23 12:48:06,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DA90>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:48:06,385 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:48:06,385 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:48:06,385 - DEBUG - Position is -12987
2018-01-23 12:48:06,386 - DEBUG - Pos Mgmt 1
2018-01-23 12:48:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DF28>, pos=1, avgCost=28952.9>
2018-01-23 12:48:06,386 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:48:06,386 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:48:06,387 - DEBUG - Position is 1
2018-01-23 12:48:06,387 - DEBUG - In Position
2018-01-23 12:48:06,387 - DEBUG - Position is 1
2018-01-23 12:48:06,387 - DEBUG - Pos Mgmt 1
2018-01-23 12:48:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000215DEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:48:06,388 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:48:06,388 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:48:06,388 - DEBUG - Position is 1
2018-01-23 12:48:07,383 - DEBUG - Open Orders requested
2018-01-23 12:48:07,385 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1240>>
2018-01-23 12:48:07,385 - DEBUG - Order OrderID 124
2018-01-23 12:48:07,386 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:48:07,386 - DEBUG - Order status PreSubmitted
2018-01-23 12:48:07,386 - DEBUG - Order Identification 124
2018-01-23 12:48:07,386 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:48:07,387 - DEBUG - Profit ID from database is 0
2018-01-23 12:48:07,387 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:48:07,387 - DEBUG - Stop ID database is 124
2018-01-23 12:48:07,387 - DEBUG - Entry ID database is 122
2018-01-23 12:48:07,388 - DEBUG - Stop API ID is 124
2018-01-23 12:48:07,389 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000215DFD0>, order=<ib.ext.Order.Order object at 0x000000000215DD30>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021F1080>>
2018-01-23 12:48:07,389 - DEBUG - Order OrderID 123
2018-01-23 12:48:07,389 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:48:07,390 - DEBUG - Order status PreSubmitted
2018-01-23 12:48:07,390 - DEBUG - Order Identification 123
2018-01-23 12:48:07,390 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:48:07,391 - DEBUG - Profit ID from database is 0
2018-01-23 12:48:07,391 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:48:07,391 - DEBUG - Stop ID database is 124
2018-01-23 12:48:07,391 - DEBUG - Entry ID database is 122
2018-01-23 12:48:09,385 - DEBUG - Connecting to database
2018-01-23 12:48:09,393 - DEBUG - Connected to database
2018-01-23 12:48:09,394 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,394 - DEBUG - Stop loss value is 71.02
2018-01-23 12:48:09,396 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,396 - DEBUG - Stop loss value is 83.275
2018-01-23 12:48:09,397 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,398 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:48:09,399 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,399 - DEBUG - Stop quantity 1
2018-01-23 12:48:09,401 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,401 - DEBUG - Direction is Long
2018-01-23 12:48:09,402 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,403 - DEBUG - Count is 1
2018-01-23 12:48:09,404 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:48:09,404 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:48:09,406 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:48:09,406 - DEBUG - Max ID Order is (124,)
2018-01-23 12:48:09,406 - DEBUG - Today is 2018-01-23
2018-01-23 12:48:09,407 - DEBUG - Day of the week 1
2018-01-23 12:48:09,407 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:48:09,407 - DEBUG - In Position is  1
2018-01-23 12:48:09,407 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:48:09,408 - DEBUG - curStopLossFlag is  1
2018-01-23 12:48:09,408 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:48:09,408 - DEBUG - Checking if Entry has been filled
2018-01-23 12:48:09,408 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:48:09,410 - DEBUG - EntryPend is 0
2018-01-23 12:48:09,410 - DEBUG - Try to Cancel Stop
2018-01-23 12:48:09,410 - DEBUG - Stop API ID 124
2018-01-23 12:48:09,410 - DEBUG - Profit API ID 0
2018-01-23 12:48:09,411 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:48:09,411 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:48:09,411 - DEBUG - Pos is 1
2018-01-23 12:48:09,411 - DEBUG - CurCount is 1
2018-01-23 12:48:09,411 - DEBUG - In Pos 1
2018-01-23 12:48:09,412 - DEBUG - Stop ID is 124
2018-01-23 12:48:09,412 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:48:09,413 - DEBUG - EntryPend is 0
2018-01-23 12:48:09,413 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:48:09,414 - DEBUG - Entry Date is 10
2018-01-23 12:48:09,414 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:48:09,414 - DEBUG - Order Profit ID is 0
2018-01-23 12:48:09,414 - DEBUG - Order Entry ID is 122
2018-01-23 12:48:09,414 - DEBUG - API ID is  0
2018-01-23 12:48:09,415 - DEBUG - Current Position is 1
2018-01-23 12:48:09,415 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:48:09,415 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:48:09,415 - DEBUG - Time is 12
2018-01-23 12:48:09,416 - DEBUG - Time is <class 'int'>
2018-01-23 12:48:09,416 - DEBUG - Time is 48
2018-01-23 12:48:09,416 - DEBUG - Time is <class 'int'>
2018-01-23 12:48:09,416 - DEBUG - Disconnected from IBController
2018-01-23 12:48:09,417 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:53:05,372 - DEBUG - ****************************************************
2018-01-23 12:53:05,372 - DEBUG - Current Time is 12:53PM
2018-01-23 12:53:05,373 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:53:05,373 - DEBUG - Connecting to database
2018-01-23 12:53:05,411 - DEBUG - Connected to database
2018-01-23 12:53:05,411 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:05,413 - DEBUG - Order Profit is 0
2018-01-23 12:53:05,413 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:05,414 - DEBUG - Stop ID is 124
2018-01-23 12:53:05,414 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:05,416 - DEBUG - Entry ID is 122
2018-01-23 12:53:05,416 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:53:05,417 - DEBUG - OCA ID is 1
2018-01-23 12:53:05,418 - DEBUG - Connecting to IBController
2018-01-23 12:53:06,422 - DEBUG - Connected to IBController
2018-01-23 12:53:06,422 - DEBUG - Position requested
2018-01-23 12:53:06,423 - DEBUG - Pos Mgmt 0
2018-01-23 12:53:06,424 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CC88>, pos=0, avgCost=0.0>
2018-01-23 12:53:06,424 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:53:06,424 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:53:06,425 - DEBUG - Position is 0
2018-01-23 12:53:06,425 - DEBUG - Pos Mgmt -12987
2018-01-23 12:53:06,425 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CC18>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:53:06,426 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:53:06,426 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:53:06,426 - DEBUG - Position is -12987
2018-01-23 12:53:06,426 - DEBUG - Pos Mgmt 1
2018-01-23 12:53:06,427 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF98>, pos=1, avgCost=28952.9>
2018-01-23 12:53:06,427 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:53:06,427 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:53:06,427 - DEBUG - Position is 1
2018-01-23 12:53:06,427 - DEBUG - In Position
2018-01-23 12:53:06,428 - DEBUG - Position is 1
2018-01-23 12:53:06,428 - DEBUG - Pos Mgmt 1
2018-01-23 12:53:06,428 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF60>, pos=1, avgCost=49582.9>
2018-01-23 12:53:06,429 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:53:06,429 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:53:06,429 - DEBUG - Position is 1
2018-01-23 12:53:07,423 - DEBUG - Open Orders requested
2018-01-23 12:53:07,425 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 12:53:07,426 - DEBUG - Order OrderID 124
2018-01-23 12:53:07,426 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:53:07,426 - DEBUG - Order status PreSubmitted
2018-01-23 12:53:07,427 - DEBUG - Order Identification 124
2018-01-23 12:53:07,427 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:53:07,427 - DEBUG - Profit ID from database is 0
2018-01-23 12:53:07,427 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:53:07,428 - DEBUG - Stop ID database is 124
2018-01-23 12:53:07,428 - DEBUG - Entry ID database is 122
2018-01-23 12:53:07,428 - DEBUG - Stop API ID is 124
2018-01-23 12:53:07,429 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10B8>>
2018-01-23 12:53:07,429 - DEBUG - Order OrderID 123
2018-01-23 12:53:07,430 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:53:07,430 - DEBUG - Order status PreSubmitted
2018-01-23 12:53:07,433 - DEBUG - Order Identification 123
2018-01-23 12:53:07,433 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:53:07,434 - DEBUG - Profit ID from database is 0
2018-01-23 12:53:07,434 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:53:07,434 - DEBUG - Stop ID database is 124
2018-01-23 12:53:07,434 - DEBUG - Entry ID database is 122
2018-01-23 12:53:09,425 - DEBUG - Connecting to database
2018-01-23 12:53:09,432 - DEBUG - Connected to database
2018-01-23 12:53:09,433 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,434 - DEBUG - Stop loss value is 71.02
2018-01-23 12:53:09,435 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,435 - DEBUG - Stop loss value is 83.275
2018-01-23 12:53:09,437 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,437 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:53:09,439 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,439 - DEBUG - Stop quantity 1
2018-01-23 12:53:09,440 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,441 - DEBUG - Direction is Long
2018-01-23 12:53:09,442 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,442 - DEBUG - Count is 1
2018-01-23 12:53:09,444 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:53:09,444 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:53:09,445 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:53:09,445 - DEBUG - Max ID Order is (124,)
2018-01-23 12:53:09,446 - DEBUG - Today is 2018-01-23
2018-01-23 12:53:09,446 - DEBUG - Day of the week 1
2018-01-23 12:53:09,446 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:53:09,447 - DEBUG - In Position is  1
2018-01-23 12:53:09,447 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:53:09,447 - DEBUG - curStopLossFlag is  1
2018-01-23 12:53:09,447 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:53:09,448 - DEBUG - Checking if Entry has been filled
2018-01-23 12:53:09,448 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:53:09,449 - DEBUG - EntryPend is 0
2018-01-23 12:53:09,450 - DEBUG - Try to Cancel Stop
2018-01-23 12:53:09,450 - DEBUG - Stop API ID 124
2018-01-23 12:53:09,450 - DEBUG - Profit API ID 0
2018-01-23 12:53:09,450 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:53:09,450 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:53:09,451 - DEBUG - Pos is 1
2018-01-23 12:53:09,451 - DEBUG - CurCount is 1
2018-01-23 12:53:09,451 - DEBUG - In Pos 1
2018-01-23 12:53:09,451 - DEBUG - Stop ID is 124
2018-01-23 12:53:09,452 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:53:09,453 - DEBUG - EntryPend is 0
2018-01-23 12:53:09,453 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:53:09,454 - DEBUG - Entry Date is 10
2018-01-23 12:53:09,454 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:53:09,454 - DEBUG - Order Profit ID is 0
2018-01-23 12:53:09,454 - DEBUG - Order Entry ID is 122
2018-01-23 12:53:09,454 - DEBUG - API ID is  0
2018-01-23 12:53:09,455 - DEBUG - Current Position is 1
2018-01-23 12:53:09,455 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:53:09,455 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:53:09,455 - DEBUG - Time is 12
2018-01-23 12:53:09,455 - DEBUG - Time is <class 'int'>
2018-01-23 12:53:09,456 - DEBUG - Time is 53
2018-01-23 12:53:09,456 - DEBUG - Time is <class 'int'>
2018-01-23 12:53:09,456 - DEBUG - Disconnected from IBController
2018-01-23 12:53:09,458 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 12:58:05,358 - DEBUG - ****************************************************
2018-01-23 12:58:05,358 - DEBUG - Current Time is 12:58PM
2018-01-23 12:58:05,359 - DEBUG - Starting Pos Mgmt H E
2018-01-23 12:58:05,359 - DEBUG - Connecting to database
2018-01-23 12:58:05,401 - DEBUG - Connected to database
2018-01-23 12:58:05,402 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:05,403 - DEBUG - Order Profit is 0
2018-01-23 12:58:05,403 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:05,405 - DEBUG - Stop ID is 124
2018-01-23 12:58:05,405 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:05,407 - DEBUG - Entry ID is 122
2018-01-23 12:58:05,407 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 12:58:05,409 - DEBUG - OCA ID is 1
2018-01-23 12:58:05,409 - DEBUG - Connecting to IBController
2018-01-23 12:58:06,412 - DEBUG - Connected to IBController
2018-01-23 12:58:06,412 - DEBUG - Position requested
2018-01-23 12:58:06,413 - DEBUG - Pos Mgmt 0
2018-01-23 12:58:06,414 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCE10>, pos=0, avgCost=0.0>
2018-01-23 12:58:06,414 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 12:58:06,415 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:58:06,415 - DEBUG - Position is 0
2018-01-23 12:58:06,415 - DEBUG - Pos Mgmt -12987
2018-01-23 12:58:06,415 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCD68>, pos=-12987, avgCost=0.95368235>
2018-01-23 12:58:06,416 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 12:58:06,416 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 12:58:06,416 - DEBUG - Position is -12987
2018-01-23 12:58:06,417 - DEBUG - Pos Mgmt 1
2018-01-23 12:58:06,417 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCF28>, pos=1, avgCost=28952.9>
2018-01-23 12:58:06,417 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 12:58:06,417 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:58:06,418 - DEBUG - Position is 1
2018-01-23 12:58:06,418 - DEBUG - In Position
2018-01-23 12:58:06,418 - DEBUG - Position is 1
2018-01-23 12:58:06,418 - DEBUG - Pos Mgmt 1
2018-01-23 12:58:06,419 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCEF0>, pos=1, avgCost=49582.9>
2018-01-23 12:58:06,419 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 12:58:06,419 - DEBUG - ccy2 Currency with position is USD
2018-01-23 12:58:06,419 - DEBUG - Position is 1
2018-01-23 12:58:07,414 - DEBUG - Open Orders requested
2018-01-23 12:58:07,418 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020DCFD0>, order=<ib.ext.Order.Order object at 0x00000000020DCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002171240>>
2018-01-23 12:58:07,418 - DEBUG - Order OrderID 124
2018-01-23 12:58:07,419 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:58:07,419 - DEBUG - Order status PreSubmitted
2018-01-23 12:58:07,419 - DEBUG - Order Identification 124
2018-01-23 12:58:07,420 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:58:07,420 - DEBUG - Profit ID from database is 0
2018-01-23 12:58:07,420 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:58:07,420 - DEBUG - Stop ID database is 124
2018-01-23 12:58:07,421 - DEBUG - Entry ID database is 122
2018-01-23 12:58:07,421 - DEBUG - Stop API ID is 124
2018-01-23 12:58:07,422 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020DCFD0>, order=<ib.ext.Order.Order object at 0x00000000020DCE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021710F0>>
2018-01-23 12:58:07,422 - DEBUG - Order OrderID 123
2018-01-23 12:58:07,423 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 12:58:07,423 - DEBUG - Order status PreSubmitted
2018-01-23 12:58:07,423 - DEBUG - Order Identification 123
2018-01-23 12:58:07,423 - DEBUG - Order Identification <class 'int'>
2018-01-23 12:58:07,423 - DEBUG - Profit ID from database is 0
2018-01-23 12:58:07,424 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 12:58:07,424 - DEBUG - Stop ID database is 124
2018-01-23 12:58:07,424 - DEBUG - Entry ID database is 122
2018-01-23 12:58:09,418 - DEBUG - Connecting to database
2018-01-23 12:58:09,425 - DEBUG - Connected to database
2018-01-23 12:58:09,426 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,427 - DEBUG - Stop loss value is 71.02
2018-01-23 12:58:09,428 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,428 - DEBUG - Stop loss value is 83.275
2018-01-23 12:58:09,430 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,430 - DEBUG - EntryPrice value is 72.32
2018-01-23 12:58:09,431 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,432 - DEBUG - Stop quantity 1
2018-01-23 12:58:09,433 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,433 - DEBUG - Direction is Long
2018-01-23 12:58:09,435 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,435 - DEBUG - Count is 1
2018-01-23 12:58:09,436 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 12:58:09,437 - DEBUG - Stop Loss Flag is 1
2018-01-23 12:58:09,438 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 12:58:09,438 - DEBUG - Max ID Order is (124,)
2018-01-23 12:58:09,439 - DEBUG - Today is 2018-01-23
2018-01-23 12:58:09,439 - DEBUG - Day of the week 1
2018-01-23 12:58:09,439 - DEBUG - Yesterday is 01/22/2018
2018-01-23 12:58:09,439 - DEBUG - In Position is  1
2018-01-23 12:58:09,440 - DEBUG - In Position is  <class 'int'>
2018-01-23 12:58:09,440 - DEBUG - curStopLossFlag is  1
2018-01-23 12:58:09,440 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 12:58:09,440 - DEBUG - Checking if Entry has been filled
2018-01-23 12:58:09,440 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:58:09,442 - DEBUG - EntryPend is 0
2018-01-23 12:58:09,442 - DEBUG - Try to Cancel Stop
2018-01-23 12:58:09,442 - DEBUG - Stop API ID 124
2018-01-23 12:58:09,442 - DEBUG - Profit API ID 0
2018-01-23 12:58:09,443 - DEBUG - Stop API ID <class 'int'>
2018-01-23 12:58:09,443 - DEBUG - Profit API ID <class 'int'>
2018-01-23 12:58:09,443 - DEBUG - Pos is 1
2018-01-23 12:58:09,443 - DEBUG - CurCount is 1
2018-01-23 12:58:09,443 - DEBUG - In Pos 1
2018-01-23 12:58:09,444 - DEBUG - Stop ID is 124
2018-01-23 12:58:09,444 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 12:58:09,445 - DEBUG - EntryPend is 0
2018-01-23 12:58:09,445 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 12:58:09,446 - DEBUG - Entry Date is 10
2018-01-23 12:58:09,446 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 12:58:09,446 - DEBUG - Order Profit ID is 0
2018-01-23 12:58:09,446 - DEBUG - Order Entry ID is 122
2018-01-23 12:58:09,447 - DEBUG - API ID is  0
2018-01-23 12:58:09,447 - DEBUG - Current Position is 1
2018-01-23 12:58:09,447 - DEBUG - Current Position is <class 'str'>
2018-01-23 12:58:09,447 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 12:58:09,447 - DEBUG - Time is 12
2018-01-23 12:58:09,448 - DEBUG - Time is <class 'int'>
2018-01-23 12:58:09,448 - DEBUG - Time is 58
2018-01-23 12:58:09,448 - DEBUG - Time is <class 'int'>
2018-01-23 12:58:09,448 - DEBUG - Disconnected from IBController
2018-01-23 12:58:09,449 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:03:05,343 - DEBUG - ****************************************************
2018-01-23 13:03:05,343 - DEBUG - Current Time is 01:03PM
2018-01-23 13:03:05,344 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:03:05,344 - DEBUG - Connecting to database
2018-01-23 13:03:05,361 - DEBUG - Connected to database
2018-01-23 13:03:05,361 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:05,363 - DEBUG - Order Profit is 0
2018-01-23 13:03:05,363 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:05,364 - DEBUG - Stop ID is 124
2018-01-23 13:03:05,365 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:05,366 - DEBUG - Entry ID is 122
2018-01-23 13:03:05,366 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:03:05,368 - DEBUG - OCA ID is 1
2018-01-23 13:03:05,368 - DEBUG - Connecting to IBController
2018-01-23 13:03:06,374 - DEBUG - Connected to IBController
2018-01-23 13:03:06,374 - DEBUG - Position requested
2018-01-23 13:03:06,386 - DEBUG - Pos Mgmt 0
2018-01-23 13:03:06,386 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DA90>, pos=0, avgCost=0.0>
2018-01-23 13:03:06,386 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:03:06,387 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:03:06,387 - DEBUG - Position is 0
2018-01-23 13:03:06,387 - DEBUG - Pos Mgmt -12987
2018-01-23 13:03:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DC18>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:03:06,388 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:03:06,389 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:03:06,389 - DEBUG - Position is -12987
2018-01-23 13:03:06,389 - DEBUG - Pos Mgmt 1
2018-01-23 13:03:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DF28>, pos=1, avgCost=28952.9>
2018-01-23 13:03:06,390 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:03:06,390 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:03:06,390 - DEBUG - Position is 1
2018-01-23 13:03:06,390 - DEBUG - In Position
2018-01-23 13:03:06,391 - DEBUG - Position is 1
2018-01-23 13:03:06,391 - DEBUG - Pos Mgmt 1
2018-01-23 13:03:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000212DEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:03:06,392 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:03:06,392 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:03:06,392 - DEBUG - Position is 1
2018-01-23 13:03:07,374 - DEBUG - Open Orders requested
2018-01-23 13:03:07,376 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1240>>
2018-01-23 13:03:07,376 - DEBUG - Order OrderID 124
2018-01-23 13:03:07,377 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:03:07,377 - DEBUG - Order status PreSubmitted
2018-01-23 13:03:07,377 - DEBUG - Order Identification 124
2018-01-23 13:03:07,378 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:03:07,378 - DEBUG - Profit ID from database is 0
2018-01-23 13:03:07,378 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:03:07,378 - DEBUG - Stop ID database is 124
2018-01-23 13:03:07,379 - DEBUG - Entry ID database is 122
2018-01-23 13:03:07,379 - DEBUG - Stop API ID is 124
2018-01-23 13:03:07,380 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000212DFD0>, order=<ib.ext.Order.Order object at 0x000000000212DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021C1080>>
2018-01-23 13:03:07,380 - DEBUG - Order OrderID 123
2018-01-23 13:03:07,380 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:03:07,381 - DEBUG - Order status PreSubmitted
2018-01-23 13:03:07,381 - DEBUG - Order Identification 123
2018-01-23 13:03:07,381 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:03:07,381 - DEBUG - Profit ID from database is 0
2018-01-23 13:03:07,382 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:03:07,382 - DEBUG - Stop ID database is 124
2018-01-23 13:03:07,382 - DEBUG - Entry ID database is 122
2018-01-23 13:03:09,376 - DEBUG - Connecting to database
2018-01-23 13:03:09,383 - DEBUG - Connected to database
2018-01-23 13:03:09,385 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,385 - DEBUG - Stop loss value is 71.02
2018-01-23 13:03:09,386 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,387 - DEBUG - Stop loss value is 83.275
2018-01-23 13:03:09,388 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,388 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:03:09,390 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,390 - DEBUG - Stop quantity 1
2018-01-23 13:03:09,391 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,392 - DEBUG - Direction is Long
2018-01-23 13:03:09,393 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,394 - DEBUG - Count is 1
2018-01-23 13:03:09,395 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:03:09,395 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:03:09,397 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:03:09,397 - DEBUG - Max ID Order is (124,)
2018-01-23 13:03:09,397 - DEBUG - Today is 2018-01-23
2018-01-23 13:03:09,398 - DEBUG - Day of the week 1
2018-01-23 13:03:09,398 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:03:09,398 - DEBUG - In Position is  1
2018-01-23 13:03:09,398 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:03:09,399 - DEBUG - curStopLossFlag is  1
2018-01-23 13:03:09,399 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:03:09,399 - DEBUG - Checking if Entry has been filled
2018-01-23 13:03:09,399 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:03:09,401 - DEBUG - EntryPend is 0
2018-01-23 13:03:09,401 - DEBUG - Try to Cancel Stop
2018-01-23 13:03:09,401 - DEBUG - Stop API ID 124
2018-01-23 13:03:09,401 - DEBUG - Profit API ID 0
2018-01-23 13:03:09,401 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:03:09,402 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:03:09,402 - DEBUG - Pos is 1
2018-01-23 13:03:09,402 - DEBUG - CurCount is 1
2018-01-23 13:03:09,402 - DEBUG - In Pos 1
2018-01-23 13:03:09,403 - DEBUG - Stop ID is 124
2018-01-23 13:03:09,403 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:03:09,404 - DEBUG - EntryPend is 0
2018-01-23 13:03:09,404 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:03:09,405 - DEBUG - Entry Date is 10
2018-01-23 13:03:09,405 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:03:09,405 - DEBUG - Order Profit ID is 0
2018-01-23 13:03:09,405 - DEBUG - Order Entry ID is 122
2018-01-23 13:03:09,405 - DEBUG - API ID is  0
2018-01-23 13:03:09,406 - DEBUG - Current Position is 1
2018-01-23 13:03:09,406 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:03:09,406 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:03:09,406 - DEBUG - Time is 13
2018-01-23 13:03:09,407 - DEBUG - Time is <class 'int'>
2018-01-23 13:03:09,407 - DEBUG - Time is 3
2018-01-23 13:03:09,407 - DEBUG - Time is <class 'int'>
2018-01-23 13:03:09,407 - DEBUG - Disconnected from IBController
2018-01-23 13:03:09,408 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:08:05,349 - DEBUG - ****************************************************
2018-01-23 13:08:05,350 - DEBUG - Current Time is 01:08PM
2018-01-23 13:08:05,350 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:08:05,350 - DEBUG - Connecting to database
2018-01-23 13:08:05,380 - DEBUG - Connected to database
2018-01-23 13:08:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:05,382 - DEBUG - Order Profit is 0
2018-01-23 13:08:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:05,383 - DEBUG - Stop ID is 124
2018-01-23 13:08:05,384 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:05,385 - DEBUG - Entry ID is 122
2018-01-23 13:08:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:08:05,387 - DEBUG - OCA ID is 1
2018-01-23 13:08:05,387 - DEBUG - Connecting to IBController
2018-01-23 13:08:06,394 - DEBUG - Connected to IBController
2018-01-23 13:08:06,394 - DEBUG - Position requested
2018-01-23 13:08:06,396 - DEBUG - Pos Mgmt 0
2018-01-23 13:08:06,396 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC50>, pos=0, avgCost=0.0>
2018-01-23 13:08:06,396 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:08:06,396 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:08:06,397 - DEBUG - Position is 0
2018-01-23 13:08:06,397 - DEBUG - Pos Mgmt -12987
2018-01-23 13:08:06,397 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCDA0>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:08:06,398 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:08:06,398 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:08:06,398 - DEBUG - Position is -12987
2018-01-23 13:08:06,398 - DEBUG - Pos Mgmt 1
2018-01-23 13:08:06,399 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCF28>, pos=1, avgCost=28952.9>
2018-01-23 13:08:06,399 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:08:06,399 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:08:06,399 - DEBUG - Position is 1
2018-01-23 13:08:06,399 - DEBUG - In Position
2018-01-23 13:08:06,400 - DEBUG - Position is 1
2018-01-23 13:08:06,400 - DEBUG - Pos Mgmt 1
2018-01-23 13:08:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:08:06,401 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:08:06,401 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:08:06,401 - DEBUG - Position is 1
2018-01-23 13:08:07,395 - DEBUG - Open Orders requested
2018-01-23 13:08:07,396 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FCFD0>, order=<ib.ext.Order.Order object at 0x00000000020FCA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191240>>
2018-01-23 13:08:07,397 - DEBUG - Order OrderID 124
2018-01-23 13:08:07,398 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:08:07,398 - DEBUG - Order status PreSubmitted
2018-01-23 13:08:07,398 - DEBUG - Order Identification 124
2018-01-23 13:08:07,398 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:08:07,399 - DEBUG - Profit ID from database is 0
2018-01-23 13:08:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:08:07,399 - DEBUG - Stop ID database is 124
2018-01-23 13:08:07,399 - DEBUG - Entry ID database is 122
2018-01-23 13:08:07,399 - DEBUG - Stop API ID is 124
2018-01-23 13:08:07,400 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FCFD0>, order=<ib.ext.Order.Order object at 0x00000000020FCA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191080>>
2018-01-23 13:08:07,401 - DEBUG - Order OrderID 123
2018-01-23 13:08:07,401 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:08:07,401 - DEBUG - Order status PreSubmitted
2018-01-23 13:08:07,402 - DEBUG - Order Identification 123
2018-01-23 13:08:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:08:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 13:08:07,402 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:08:07,402 - DEBUG - Stop ID database is 124
2018-01-23 13:08:07,403 - DEBUG - Entry ID database is 122
2018-01-23 13:08:09,398 - DEBUG - Connecting to database
2018-01-23 13:08:09,405 - DEBUG - Connected to database
2018-01-23 13:08:09,406 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,407 - DEBUG - Stop loss value is 71.02
2018-01-23 13:08:09,408 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,408 - DEBUG - Stop loss value is 83.275
2018-01-23 13:08:09,410 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,410 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:08:09,411 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,412 - DEBUG - Stop quantity 1
2018-01-23 13:08:09,413 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,413 - DEBUG - Direction is Long
2018-01-23 13:08:09,415 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,415 - DEBUG - Count is 1
2018-01-23 13:08:09,416 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:08:09,417 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:08:09,418 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:08:09,418 - DEBUG - Max ID Order is (124,)
2018-01-23 13:08:09,419 - DEBUG - Today is 2018-01-23
2018-01-23 13:08:09,419 - DEBUG - Day of the week 1
2018-01-23 13:08:09,419 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:08:09,420 - DEBUG - In Position is  1
2018-01-23 13:08:09,420 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:08:09,420 - DEBUG - curStopLossFlag is  1
2018-01-23 13:08:09,420 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:08:09,420 - DEBUG - Checking if Entry has been filled
2018-01-23 13:08:09,421 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:08:09,422 - DEBUG - EntryPend is 0
2018-01-23 13:08:09,422 - DEBUG - Try to Cancel Stop
2018-01-23 13:08:09,423 - DEBUG - Stop API ID 124
2018-01-23 13:08:09,423 - DEBUG - Profit API ID 0
2018-01-23 13:08:09,423 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:08:09,423 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:08:09,423 - DEBUG - Pos is 1
2018-01-23 13:08:09,424 - DEBUG - CurCount is 1
2018-01-23 13:08:09,424 - DEBUG - In Pos 1
2018-01-23 13:08:09,424 - DEBUG - Stop ID is 124
2018-01-23 13:08:09,424 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:08:09,425 - DEBUG - EntryPend is 0
2018-01-23 13:08:09,426 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:08:09,426 - DEBUG - Entry Date is 10
2018-01-23 13:08:09,426 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:08:09,426 - DEBUG - Order Profit ID is 0
2018-01-23 13:08:09,427 - DEBUG - Order Entry ID is 122
2018-01-23 13:08:09,427 - DEBUG - API ID is  0
2018-01-23 13:08:09,427 - DEBUG - Current Position is 1
2018-01-23 13:08:09,427 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:08:09,427 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:08:09,428 - DEBUG - Time is 13
2018-01-23 13:08:09,428 - DEBUG - Time is <class 'int'>
2018-01-23 13:08:09,428 - DEBUG - Time is 8
2018-01-23 13:08:09,428 - DEBUG - Time is <class 'int'>
2018-01-23 13:08:09,429 - DEBUG - Disconnected from IBController
2018-01-23 13:08:09,429 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:13:05,348 - DEBUG - ****************************************************
2018-01-23 13:13:05,349 - DEBUG - Current Time is 01:13PM
2018-01-23 13:13:05,349 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:13:05,349 - DEBUG - Connecting to database
2018-01-23 13:13:05,372 - DEBUG - Connected to database
2018-01-23 13:13:05,372 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:05,374 - DEBUG - Order Profit is 0
2018-01-23 13:13:05,374 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:05,376 - DEBUG - Stop ID is 124
2018-01-23 13:13:05,376 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:05,377 - DEBUG - Entry ID is 122
2018-01-23 13:13:05,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:13:05,380 - DEBUG - OCA ID is 1
2018-01-23 13:13:05,381 - DEBUG - Connecting to IBController
2018-01-23 13:13:06,387 - DEBUG - Connected to IBController
2018-01-23 13:13:06,387 - DEBUG - Position requested
2018-01-23 13:13:06,388 - DEBUG - Pos Mgmt 0
2018-01-23 13:13:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDE10>, pos=0, avgCost=0.0>
2018-01-23 13:13:06,389 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:13:06,389 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:13:06,390 - DEBUG - Position is 0
2018-01-23 13:13:06,390 - DEBUG - Pos Mgmt -12987
2018-01-23 13:13:06,390 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:13:06,391 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:13:06,391 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:13:06,391 - DEBUG - Position is -12987
2018-01-23 13:13:06,392 - DEBUG - Pos Mgmt 1
2018-01-23 13:13:06,392 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDF28>, pos=1, avgCost=28952.9>
2018-01-23 13:13:06,392 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:13:06,392 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:13:06,393 - DEBUG - Position is 1
2018-01-23 13:13:06,393 - DEBUG - In Position
2018-01-23 13:13:06,393 - DEBUG - Position is 1
2018-01-23 13:13:06,393 - DEBUG - Pos Mgmt 1
2018-01-23 13:13:06,394 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FDEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:13:06,394 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:13:06,394 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:13:06,394 - DEBUG - Position is 1
2018-01-23 13:13:07,389 - DEBUG - Open Orders requested
2018-01-23 13:13:07,391 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021911D0>>
2018-01-23 13:13:07,391 - DEBUG - Order OrderID 124
2018-01-23 13:13:07,392 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:13:07,392 - DEBUG - Order status PreSubmitted
2018-01-23 13:13:07,392 - DEBUG - Order Identification 124
2018-01-23 13:13:07,393 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:13:07,393 - DEBUG - Profit ID from database is 0
2018-01-23 13:13:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:13:07,393 - DEBUG - Stop ID database is 124
2018-01-23 13:13:07,394 - DEBUG - Entry ID database is 122
2018-01-23 13:13:07,394 - DEBUG - Stop API ID is 124
2018-01-23 13:13:07,395 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FDFD0>, order=<ib.ext.Order.Order object at 0x00000000020FDA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191240>>
2018-01-23 13:13:07,396 - DEBUG - Order OrderID 123
2018-01-23 13:13:07,396 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:13:07,396 - DEBUG - Order status PreSubmitted
2018-01-23 13:13:07,397 - DEBUG - Order Identification 123
2018-01-23 13:13:07,397 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:13:07,397 - DEBUG - Profit ID from database is 0
2018-01-23 13:13:07,397 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:13:07,398 - DEBUG - Stop ID database is 124
2018-01-23 13:13:07,398 - DEBUG - Entry ID database is 122
2018-01-23 13:13:09,391 - DEBUG - Connecting to database
2018-01-23 13:13:09,398 - DEBUG - Connected to database
2018-01-23 13:13:09,399 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,399 - DEBUG - Stop loss value is 71.02
2018-01-23 13:13:09,401 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,401 - DEBUG - Stop loss value is 83.275
2018-01-23 13:13:09,402 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,403 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:13:09,404 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,404 - DEBUG - Stop quantity 1
2018-01-23 13:13:09,406 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,406 - DEBUG - Direction is Long
2018-01-23 13:13:09,407 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,408 - DEBUG - Count is 1
2018-01-23 13:13:09,409 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:13:09,409 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:13:09,410 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:13:09,411 - DEBUG - Max ID Order is (124,)
2018-01-23 13:13:09,411 - DEBUG - Today is 2018-01-23
2018-01-23 13:13:09,412 - DEBUG - Day of the week 1
2018-01-23 13:13:09,412 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:13:09,412 - DEBUG - In Position is  1
2018-01-23 13:13:09,412 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:13:09,412 - DEBUG - curStopLossFlag is  1
2018-01-23 13:13:09,413 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:13:09,413 - DEBUG - Checking if Entry has been filled
2018-01-23 13:13:09,413 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:13:09,414 - DEBUG - EntryPend is 0
2018-01-23 13:13:09,415 - DEBUG - Try to Cancel Stop
2018-01-23 13:13:09,415 - DEBUG - Stop API ID 124
2018-01-23 13:13:09,415 - DEBUG - Profit API ID 0
2018-01-23 13:13:09,415 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:13:09,416 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:13:09,416 - DEBUG - Pos is 1
2018-01-23 13:13:09,416 - DEBUG - CurCount is 1
2018-01-23 13:13:09,416 - DEBUG - In Pos 1
2018-01-23 13:13:09,416 - DEBUG - Stop ID is 124
2018-01-23 13:13:09,417 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:13:09,418 - DEBUG - EntryPend is 0
2018-01-23 13:13:09,418 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:13:09,419 - DEBUG - Entry Date is 10
2018-01-23 13:13:09,419 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:13:09,419 - DEBUG - Order Profit ID is 0
2018-01-23 13:13:09,419 - DEBUG - Order Entry ID is 122
2018-01-23 13:13:09,419 - DEBUG - API ID is  0
2018-01-23 13:13:09,420 - DEBUG - Current Position is 1
2018-01-23 13:13:09,420 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:13:09,420 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:13:09,420 - DEBUG - Time is 13
2018-01-23 13:13:09,420 - DEBUG - Time is <class 'int'>
2018-01-23 13:13:09,421 - DEBUG - Time is 13
2018-01-23 13:13:09,421 - DEBUG - Time is <class 'int'>
2018-01-23 13:13:09,421 - DEBUG - Disconnected from IBController
2018-01-23 13:13:09,422 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:18:05,361 - DEBUG - ****************************************************
2018-01-23 13:18:05,361 - DEBUG - Current Time is 01:18PM
2018-01-23 13:18:05,362 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:18:05,362 - DEBUG - Connecting to database
2018-01-23 13:18:05,389 - DEBUG - Connected to database
2018-01-23 13:18:05,390 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:05,391 - DEBUG - Order Profit is 0
2018-01-23 13:18:05,392 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:05,393 - DEBUG - Stop ID is 124
2018-01-23 13:18:05,393 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:05,395 - DEBUG - Entry ID is 122
2018-01-23 13:18:05,395 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:18:05,396 - DEBUG - OCA ID is 1
2018-01-23 13:18:05,397 - DEBUG - Connecting to IBController
2018-01-23 13:18:06,403 - DEBUG - Connected to IBController
2018-01-23 13:18:06,403 - DEBUG - Position requested
2018-01-23 13:18:06,404 - DEBUG - Pos Mgmt 0
2018-01-23 13:18:06,405 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CB00>, pos=0, avgCost=0.0>
2018-01-23 13:18:06,405 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:18:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:18:06,406 - DEBUG - Position is 0
2018-01-23 13:18:06,406 - DEBUG - Pos Mgmt -12987
2018-01-23 13:18:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CBE0>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:18:06,406 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:18:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:18:06,407 - DEBUG - Position is -12987
2018-01-23 13:18:06,407 - DEBUG - Pos Mgmt 1
2018-01-23 13:18:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CF98>, pos=1, avgCost=28952.9>
2018-01-23 13:18:06,408 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:18:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:18:06,408 - DEBUG - Position is 1
2018-01-23 13:18:06,408 - DEBUG - In Position
2018-01-23 13:18:06,409 - DEBUG - Position is 1
2018-01-23 13:18:06,409 - DEBUG - Pos Mgmt 1
2018-01-23 13:18:06,409 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000217CF60>, pos=1, avgCost=49582.9>
2018-01-23 13:18:06,409 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:18:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:18:06,410 - DEBUG - Position is 1
2018-01-23 13:18:07,404 - DEBUG - Open Orders requested
2018-01-23 13:18:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000217CFD0>, order=<ib.ext.Order.Order object at 0x000000000217CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212240>>
2018-01-23 13:18:07,406 - DEBUG - Order OrderID 124
2018-01-23 13:18:07,407 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:18:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 13:18:07,408 - DEBUG - Order Identification 124
2018-01-23 13:18:07,408 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:18:07,408 - DEBUG - Profit ID from database is 0
2018-01-23 13:18:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:18:07,408 - DEBUG - Stop ID database is 124
2018-01-23 13:18:07,409 - DEBUG - Entry ID database is 122
2018-01-23 13:18:07,409 - DEBUG - Stop API ID is 124
2018-01-23 13:18:07,410 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000217CFD0>, order=<ib.ext.Order.Order object at 0x000000000217CD68>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002212080>>
2018-01-23 13:18:07,410 - DEBUG - Order OrderID 123
2018-01-23 13:18:07,411 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:18:07,411 - DEBUG - Order status PreSubmitted
2018-01-23 13:18:07,411 - DEBUG - Order Identification 123
2018-01-23 13:18:07,412 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:18:07,412 - DEBUG - Profit ID from database is 0
2018-01-23 13:18:07,412 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:18:07,412 - DEBUG - Stop ID database is 124
2018-01-23 13:18:07,413 - DEBUG - Entry ID database is 122
2018-01-23 13:18:09,406 - DEBUG - Connecting to database
2018-01-23 13:18:09,413 - DEBUG - Connected to database
2018-01-23 13:18:09,415 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,415 - DEBUG - Stop loss value is 71.02
2018-01-23 13:18:09,416 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,417 - DEBUG - Stop loss value is 83.275
2018-01-23 13:18:09,418 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,418 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:18:09,420 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,421 - DEBUG - Stop quantity 1
2018-01-23 13:18:09,422 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,422 - DEBUG - Direction is Long
2018-01-23 13:18:09,423 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,424 - DEBUG - Count is 1
2018-01-23 13:18:09,425 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:18:09,425 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:18:09,427 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:18:09,427 - DEBUG - Max ID Order is (124,)
2018-01-23 13:18:09,428 - DEBUG - Today is 2018-01-23
2018-01-23 13:18:09,428 - DEBUG - Day of the week 1
2018-01-23 13:18:09,428 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:18:09,428 - DEBUG - In Position is  1
2018-01-23 13:18:09,429 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:18:09,429 - DEBUG - curStopLossFlag is  1
2018-01-23 13:18:09,429 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:18:09,429 - DEBUG - Checking if Entry has been filled
2018-01-23 13:18:09,429 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:18:09,431 - DEBUG - EntryPend is 0
2018-01-23 13:18:09,431 - DEBUG - Try to Cancel Stop
2018-01-23 13:18:09,431 - DEBUG - Stop API ID 124
2018-01-23 13:18:09,431 - DEBUG - Profit API ID 0
2018-01-23 13:18:09,432 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:18:09,432 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:18:09,432 - DEBUG - Pos is 1
2018-01-23 13:18:09,432 - DEBUG - CurCount is 1
2018-01-23 13:18:09,433 - DEBUG - In Pos 1
2018-01-23 13:18:09,433 - DEBUG - Stop ID is 124
2018-01-23 13:18:09,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:18:09,434 - DEBUG - EntryPend is 0
2018-01-23 13:18:09,435 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:18:09,435 - DEBUG - Entry Date is 10
2018-01-23 13:18:09,435 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:18:09,435 - DEBUG - Order Profit ID is 0
2018-01-23 13:18:09,436 - DEBUG - Order Entry ID is 122
2018-01-23 13:18:09,436 - DEBUG - API ID is  0
2018-01-23 13:18:09,436 - DEBUG - Current Position is 1
2018-01-23 13:18:09,436 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:18:09,436 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:18:09,437 - DEBUG - Time is 13
2018-01-23 13:18:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 13:18:09,437 - DEBUG - Time is 18
2018-01-23 13:18:09,437 - DEBUG - Time is <class 'int'>
2018-01-23 13:18:09,438 - DEBUG - Disconnected from IBController
2018-01-23 13:18:09,438 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:23:05,355 - DEBUG - ****************************************************
2018-01-23 13:23:05,356 - DEBUG - Current Time is 01:23PM
2018-01-23 13:23:05,356 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:23:05,357 - DEBUG - Connecting to database
2018-01-23 13:23:05,380 - DEBUG - Connected to database
2018-01-23 13:23:05,380 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:05,381 - DEBUG - Order Profit is 0
2018-01-23 13:23:05,382 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:05,383 - DEBUG - Stop ID is 124
2018-01-23 13:23:05,383 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:05,385 - DEBUG - Entry ID is 122
2018-01-23 13:23:05,385 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:23:05,386 - DEBUG - OCA ID is 1
2018-01-23 13:23:05,387 - DEBUG - Connecting to IBController
2018-01-23 13:23:06,393 - DEBUG - Connected to IBController
2018-01-23 13:23:06,393 - DEBUG - Position requested
2018-01-23 13:23:06,395 - DEBUG - Pos Mgmt 0
2018-01-23 13:23:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CE10>, pos=0, avgCost=0.0>
2018-01-23 13:23:06,399 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:23:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:23:06,403 - DEBUG - Position is 0
2018-01-23 13:23:06,404 - DEBUG - Pos Mgmt -12987
2018-01-23 13:23:06,406 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CD30>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:23:06,407 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:23:06,407 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:23:06,407 - DEBUG - Position is -12987
2018-01-23 13:23:06,408 - DEBUG - Pos Mgmt 1
2018-01-23 13:23:06,408 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CF28>, pos=1, avgCost=28952.9>
2018-01-23 13:23:06,408 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:23:06,408 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:23:06,409 - DEBUG - Position is 1
2018-01-23 13:23:06,409 - DEBUG - In Position
2018-01-23 13:23:06,409 - DEBUG - Position is 1
2018-01-23 13:23:06,409 - DEBUG - Pos Mgmt 1
2018-01-23 13:23:06,410 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000210CEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:23:06,410 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:23:06,410 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:23:06,410 - DEBUG - Position is 1
2018-01-23 13:23:07,395 - DEBUG - Open Orders requested
2018-01-23 13:23:07,397 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A1240>>
2018-01-23 13:23:07,397 - DEBUG - Order OrderID 124
2018-01-23 13:23:07,398 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:23:07,398 - DEBUG - Order status PreSubmitted
2018-01-23 13:23:07,398 - DEBUG - Order Identification 124
2018-01-23 13:23:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:23:07,399 - DEBUG - Profit ID from database is 0
2018-01-23 13:23:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:23:07,399 - DEBUG - Stop ID database is 124
2018-01-23 13:23:07,400 - DEBUG - Entry ID database is 122
2018-01-23 13:23:07,400 - DEBUG - Stop API ID is 124
2018-01-23 13:23:07,401 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000210CFD0>, order=<ib.ext.Order.Order object at 0x000000000210CE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021A10F0>>
2018-01-23 13:23:07,401 - DEBUG - Order OrderID 123
2018-01-23 13:23:07,401 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:23:07,402 - DEBUG - Order status PreSubmitted
2018-01-23 13:23:07,402 - DEBUG - Order Identification 123
2018-01-23 13:23:07,402 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:23:07,402 - DEBUG - Profit ID from database is 0
2018-01-23 13:23:07,403 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:23:07,403 - DEBUG - Stop ID database is 124
2018-01-23 13:23:07,403 - DEBUG - Entry ID database is 122
2018-01-23 13:23:09,397 - DEBUG - Connecting to database
2018-01-23 13:23:09,404 - DEBUG - Connected to database
2018-01-23 13:23:09,405 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,406 - DEBUG - Stop loss value is 71.02
2018-01-23 13:23:09,407 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,407 - DEBUG - Stop loss value is 83.275
2018-01-23 13:23:09,409 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,409 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:23:09,410 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,411 - DEBUG - Stop quantity 1
2018-01-23 13:23:09,412 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,412 - DEBUG - Direction is Long
2018-01-23 13:23:09,413 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,414 - DEBUG - Count is 1
2018-01-23 13:23:09,415 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:23:09,415 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:23:09,417 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:23:09,417 - DEBUG - Max ID Order is (124,)
2018-01-23 13:23:09,418 - DEBUG - Today is 2018-01-23
2018-01-23 13:23:09,418 - DEBUG - Day of the week 1
2018-01-23 13:23:09,418 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:23:09,418 - DEBUG - In Position is  1
2018-01-23 13:23:09,419 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:23:09,419 - DEBUG - curStopLossFlag is  1
2018-01-23 13:23:09,419 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:23:09,419 - DEBUG - Checking if Entry has been filled
2018-01-23 13:23:09,419 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:23:09,421 - DEBUG - EntryPend is 0
2018-01-23 13:23:09,421 - DEBUG - Try to Cancel Stop
2018-01-23 13:23:09,421 - DEBUG - Stop API ID 124
2018-01-23 13:23:09,421 - DEBUG - Profit API ID 0
2018-01-23 13:23:09,422 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:23:09,422 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:23:09,422 - DEBUG - Pos is 1
2018-01-23 13:23:09,422 - DEBUG - CurCount is 1
2018-01-23 13:23:09,423 - DEBUG - In Pos 1
2018-01-23 13:23:09,423 - DEBUG - Stop ID is 124
2018-01-23 13:23:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:23:09,424 - DEBUG - EntryPend is 0
2018-01-23 13:23:09,425 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:23:09,425 - DEBUG - Entry Date is 10
2018-01-23 13:23:09,425 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:23:09,425 - DEBUG - Order Profit ID is 0
2018-01-23 13:23:09,425 - DEBUG - Order Entry ID is 122
2018-01-23 13:23:09,426 - DEBUG - API ID is  0
2018-01-23 13:23:09,426 - DEBUG - Current Position is 1
2018-01-23 13:23:09,426 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:23:09,426 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:23:09,427 - DEBUG - Time is 13
2018-01-23 13:23:09,427 - DEBUG - Time is <class 'int'>
2018-01-23 13:23:09,427 - DEBUG - Time is 23
2018-01-23 13:23:09,427 - DEBUG - Time is <class 'int'>
2018-01-23 13:23:09,427 - DEBUG - Disconnected from IBController
2018-01-23 13:23:09,428 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:28:05,353 - DEBUG - ****************************************************
2018-01-23 13:28:05,353 - DEBUG - Current Time is 01:28PM
2018-01-23 13:28:05,354 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:28:05,354 - DEBUG - Connecting to database
2018-01-23 13:28:05,381 - DEBUG - Connected to database
2018-01-23 13:28:05,381 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:05,383 - DEBUG - Order Profit is 0
2018-01-23 13:28:05,383 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:05,385 - DEBUG - Stop ID is 124
2018-01-23 13:28:05,385 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:05,387 - DEBUG - Entry ID is 122
2018-01-23 13:28:05,387 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:28:05,388 - DEBUG - OCA ID is 1
2018-01-23 13:28:05,388 - DEBUG - Connecting to IBController
2018-01-23 13:28:06,398 - DEBUG - Connected to IBController
2018-01-23 13:28:06,398 - DEBUG - Position requested
2018-01-23 13:28:06,399 - DEBUG - Pos Mgmt 0
2018-01-23 13:28:06,400 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DE10>, pos=0, avgCost=0.0>
2018-01-23 13:28:06,400 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:28:06,400 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:28:06,401 - DEBUG - Position is 0
2018-01-23 13:28:06,401 - DEBUG - Pos Mgmt -12987
2018-01-23 13:28:06,401 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DBE0>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:28:06,402 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:28:06,402 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:28:06,402 - DEBUG - Position is -12987
2018-01-23 13:28:06,402 - DEBUG - Pos Mgmt 1
2018-01-23 13:28:06,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DF28>, pos=1, avgCost=28952.9>
2018-01-23 13:28:06,403 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:28:06,403 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:28:06,403 - DEBUG - Position is 1
2018-01-23 13:28:06,404 - DEBUG - In Position
2018-01-23 13:28:06,404 - DEBUG - Position is 1
2018-01-23 13:28:06,404 - DEBUG - Pos Mgmt 1
2018-01-23 13:28:06,404 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000211DEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:28:06,405 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:28:06,405 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:28:06,405 - DEBUG - Position is 1
2018-01-23 13:28:07,400 - DEBUG - Open Orders requested
2018-01-23 13:28:07,402 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000211DF28>, order=<ib.ext.Order.Order object at 0x000000000211DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B21D0>>
2018-01-23 13:28:07,402 - DEBUG - Order OrderID 124
2018-01-23 13:28:07,403 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:28:07,403 - DEBUG - Order status PreSubmitted
2018-01-23 13:28:07,403 - DEBUG - Order Identification 124
2018-01-23 13:28:07,403 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:28:07,404 - DEBUG - Profit ID from database is 0
2018-01-23 13:28:07,404 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:28:07,404 - DEBUG - Stop ID database is 124
2018-01-23 13:28:07,404 - DEBUG - Entry ID database is 122
2018-01-23 13:28:07,405 - DEBUG - Stop API ID is 124
2018-01-23 13:28:07,406 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000211DF28>, order=<ib.ext.Order.Order object at 0x000000000211DE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021B2240>>
2018-01-23 13:28:07,406 - DEBUG - Order OrderID 123
2018-01-23 13:28:07,407 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:28:07,407 - DEBUG - Order status PreSubmitted
2018-01-23 13:28:07,407 - DEBUG - Order Identification 123
2018-01-23 13:28:07,407 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:28:07,407 - DEBUG - Profit ID from database is 0
2018-01-23 13:28:07,408 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:28:07,408 - DEBUG - Stop ID database is 124
2018-01-23 13:28:07,408 - DEBUG - Entry ID database is 122
2018-01-23 13:28:09,400 - DEBUG - Connecting to database
2018-01-23 13:28:09,407 - DEBUG - Connected to database
2018-01-23 13:28:09,409 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,409 - DEBUG - Stop loss value is 71.02
2018-01-23 13:28:09,410 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,411 - DEBUG - Stop loss value is 83.275
2018-01-23 13:28:09,412 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,412 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:28:09,414 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,414 - DEBUG - Stop quantity 1
2018-01-23 13:28:09,416 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,416 - DEBUG - Direction is Long
2018-01-23 13:28:09,417 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,417 - DEBUG - Count is 1
2018-01-23 13:28:09,419 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:28:09,419 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:28:09,421 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:28:09,421 - DEBUG - Max ID Order is (124,)
2018-01-23 13:28:09,421 - DEBUG - Today is 2018-01-23
2018-01-23 13:28:09,422 - DEBUG - Day of the week 1
2018-01-23 13:28:09,422 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:28:09,422 - DEBUG - In Position is  1
2018-01-23 13:28:09,422 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:28:09,423 - DEBUG - curStopLossFlag is  1
2018-01-23 13:28:09,423 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:28:09,423 - DEBUG - Checking if Entry has been filled
2018-01-23 13:28:09,423 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:28:09,425 - DEBUG - EntryPend is 0
2018-01-23 13:28:09,425 - DEBUG - Try to Cancel Stop
2018-01-23 13:28:09,425 - DEBUG - Stop API ID 124
2018-01-23 13:28:09,425 - DEBUG - Profit API ID 0
2018-01-23 13:28:09,425 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:28:09,426 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:28:09,426 - DEBUG - Pos is 1
2018-01-23 13:28:09,426 - DEBUG - CurCount is 1
2018-01-23 13:28:09,426 - DEBUG - In Pos 1
2018-01-23 13:28:09,427 - DEBUG - Stop ID is 124
2018-01-23 13:28:09,427 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:28:09,428 - DEBUG - EntryPend is 0
2018-01-23 13:28:09,428 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:28:09,429 - DEBUG - Entry Date is 10
2018-01-23 13:28:09,429 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:28:09,429 - DEBUG - Order Profit ID is 0
2018-01-23 13:28:09,429 - DEBUG - Order Entry ID is 122
2018-01-23 13:28:09,429 - DEBUG - API ID is  0
2018-01-23 13:28:09,430 - DEBUG - Current Position is 1
2018-01-23 13:28:09,430 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:28:09,430 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:28:09,430 - DEBUG - Time is 13
2018-01-23 13:28:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 13:28:09,431 - DEBUG - Time is 28
2018-01-23 13:28:09,431 - DEBUG - Time is <class 'int'>
2018-01-23 13:28:09,431 - DEBUG - Disconnected from IBController
2018-01-23 13:28:09,432 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:33:05,351 - DEBUG - ****************************************************
2018-01-23 13:33:05,351 - DEBUG - Current Time is 01:33PM
2018-01-23 13:33:05,352 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:33:05,352 - DEBUG - Connecting to database
2018-01-23 13:33:05,373 - DEBUG - Connected to database
2018-01-23 13:33:05,373 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:05,375 - DEBUG - Order Profit is 0
2018-01-23 13:33:05,375 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:05,376 - DEBUG - Stop ID is 124
2018-01-23 13:33:05,377 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:05,378 - DEBUG - Entry ID is 122
2018-01-23 13:33:05,378 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:33:05,380 - DEBUG - OCA ID is 1
2018-01-23 13:33:05,380 - DEBUG - Connecting to IBController
2018-01-23 13:33:06,386 - DEBUG - Connected to IBController
2018-01-23 13:33:06,386 - DEBUG - Position requested
2018-01-23 13:33:06,387 - DEBUG - Pos Mgmt 0
2018-01-23 13:33:06,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBE10>, pos=0, avgCost=0.0>
2018-01-23 13:33:06,388 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:33:06,388 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:33:06,389 - DEBUG - Position is 0
2018-01-23 13:33:06,389 - DEBUG - Pos Mgmt -12987
2018-01-23 13:33:06,389 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:33:06,390 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:33:06,390 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:33:06,390 - DEBUG - Position is -12987
2018-01-23 13:33:06,390 - DEBUG - Pos Mgmt 1
2018-01-23 13:33:06,391 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBF28>, pos=1, avgCost=28952.9>
2018-01-23 13:33:06,391 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:33:06,391 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:33:06,391 - DEBUG - Position is 1
2018-01-23 13:33:06,394 - DEBUG - In Position
2018-01-23 13:33:06,394 - DEBUG - Position is 1
2018-01-23 13:33:06,394 - DEBUG - Pos Mgmt 1
2018-01-23 13:33:06,395 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FBEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:33:06,395 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:33:06,397 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:33:06,397 - DEBUG - Position is 1
2018-01-23 13:33:07,388 - DEBUG - Open Orders requested
2018-01-23 13:33:07,390 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x00000000020FBF28>, order=<ib.ext.Order.Order object at 0x00000000020FBE48>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021901D0>>
2018-01-23 13:33:07,391 - DEBUG - Order OrderID 124
2018-01-23 13:33:07,391 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:33:07,392 - DEBUG - Order status PreSubmitted
2018-01-23 13:33:07,392 - DEBUG - Order Identification 124
2018-01-23 13:33:07,392 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:33:07,392 - DEBUG - Profit ID from database is 0
2018-01-23 13:33:07,393 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:33:07,393 - DEBUG - Stop ID database is 124
2018-01-23 13:33:07,393 - DEBUG - Entry ID database is 122
2018-01-23 13:33:07,393 - DEBUG - Stop API ID is 124
2018-01-23 13:33:07,394 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x00000000020FBF28>, order=<ib.ext.Order.Order object at 0x00000000020FBE48>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002190240>>
2018-01-23 13:33:07,395 - DEBUG - Order OrderID 123
2018-01-23 13:33:07,398 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:33:07,398 - DEBUG - Order status PreSubmitted
2018-01-23 13:33:07,398 - DEBUG - Order Identification 123
2018-01-23 13:33:07,399 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:33:07,399 - DEBUG - Profit ID from database is 0
2018-01-23 13:33:07,399 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:33:07,399 - DEBUG - Stop ID database is 124
2018-01-23 13:33:07,400 - DEBUG - Entry ID database is 122
2018-01-23 13:33:09,389 - DEBUG - Connecting to database
2018-01-23 13:33:09,396 - DEBUG - Connected to database
2018-01-23 13:33:09,397 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,398 - DEBUG - Stop loss value is 71.02
2018-01-23 13:33:09,399 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,399 - DEBUG - Stop loss value is 83.275
2018-01-23 13:33:09,401 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,401 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:33:09,402 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,403 - DEBUG - Stop quantity 1
2018-01-23 13:33:09,404 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,404 - DEBUG - Direction is Long
2018-01-23 13:33:09,405 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,406 - DEBUG - Count is 1
2018-01-23 13:33:09,407 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:33:09,407 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:33:09,409 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:33:09,409 - DEBUG - Max ID Order is (124,)
2018-01-23 13:33:09,409 - DEBUG - Today is 2018-01-23
2018-01-23 13:33:09,410 - DEBUG - Day of the week 1
2018-01-23 13:33:09,410 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:33:09,410 - DEBUG - In Position is  1
2018-01-23 13:33:09,410 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:33:09,411 - DEBUG - curStopLossFlag is  1
2018-01-23 13:33:09,411 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:33:09,411 - DEBUG - Checking if Entry has been filled
2018-01-23 13:33:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:33:09,413 - DEBUG - EntryPend is 0
2018-01-23 13:33:09,413 - DEBUG - Try to Cancel Stop
2018-01-23 13:33:09,413 - DEBUG - Stop API ID 124
2018-01-23 13:33:09,413 - DEBUG - Profit API ID 0
2018-01-23 13:33:09,413 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:33:09,414 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:33:09,414 - DEBUG - Pos is 1
2018-01-23 13:33:09,414 - DEBUG - CurCount is 1
2018-01-23 13:33:09,414 - DEBUG - In Pos 1
2018-01-23 13:33:09,415 - DEBUG - Stop ID is 124
2018-01-23 13:33:09,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:33:09,416 - DEBUG - EntryPend is 0
2018-01-23 13:33:09,416 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:33:09,417 - DEBUG - Entry Date is 10
2018-01-23 13:33:09,417 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:33:09,417 - DEBUG - Order Profit ID is 0
2018-01-23 13:33:09,417 - DEBUG - Order Entry ID is 122
2018-01-23 13:33:09,418 - DEBUG - API ID is  0
2018-01-23 13:33:09,418 - DEBUG - Current Position is 1
2018-01-23 13:33:09,418 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:33:09,418 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:33:09,418 - DEBUG - Time is 13
2018-01-23 13:33:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 13:33:09,419 - DEBUG - Time is 33
2018-01-23 13:33:09,419 - DEBUG - Time is <class 'int'>
2018-01-23 13:33:09,420 - DEBUG - Disconnected from IBController
2018-01-23 13:33:09,420 - DEBUG - END POS MGMT SCRIPT :-!
2018-01-23 13:38:05,341 - DEBUG - ****************************************************
2018-01-23 13:38:05,341 - DEBUG - Current Time is 01:38PM
2018-01-23 13:38:05,342 - DEBUG - Starting Pos Mgmt H E
2018-01-23 13:38:05,342 - DEBUG - Connecting to database
2018-01-23 13:38:05,365 - DEBUG - Connected to database
2018-01-23 13:38:05,365 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:05,367 - DEBUG - Order Profit is 0
2018-01-23 13:38:05,367 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:05,369 - DEBUG - Stop ID is 124
2018-01-23 13:38:05,369 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:05,370 - DEBUG - Entry ID is 122
2018-01-23 13:38:05,370 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-01-23 13:38:05,372 - DEBUG - OCA ID is 1
2018-01-23 13:38:05,372 - DEBUG - Connecting to IBController
2018-01-23 13:38:06,378 - DEBUG - Connected to IBController
2018-01-23 13:38:06,378 - DEBUG - Position requested
2018-01-23 13:38:06,379 - DEBUG - Pos Mgmt 0
2018-01-23 13:38:06,380 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DBE0>, pos=0, avgCost=0.0>
2018-01-23 13:38:06,380 - DEBUG - ccy1 Symbol with position is ES
2018-01-23 13:38:06,380 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:38:06,381 - DEBUG - Position is 0
2018-01-23 13:38:06,381 - DEBUG - Pos Mgmt -12987
2018-01-23 13:38:06,381 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DDD8>, pos=-12987, avgCost=0.95368235>
2018-01-23 13:38:06,382 - DEBUG - ccy1 Symbol with position is NZD
2018-01-23 13:38:06,382 - DEBUG - ccy2 Currency with position is CAD
2018-01-23 13:38:06,382 - DEBUG - Position is -12987
2018-01-23 13:38:06,382 - DEBUG - Pos Mgmt 1
2018-01-23 13:38:06,383 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DF28>, pos=1, avgCost=28952.9>
2018-01-23 13:38:06,383 - DEBUG - ccy1 Symbol with position is HE
2018-01-23 13:38:06,383 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:38:06,383 - DEBUG - Position is 1
2018-01-23 13:38:06,384 - DEBUG - In Position
2018-01-23 13:38:06,384 - DEBUG - Position is 1
2018-01-23 13:38:06,384 - DEBUG - Pos Mgmt 1
2018-01-23 13:38:06,384 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000216DEF0>, pos=1, avgCost=49582.9>
2018-01-23 13:38:06,385 - DEBUG - ccy1 Symbol with position is LE
2018-01-23 13:38:06,385 - DEBUG - ccy2 Currency with position is USD
2018-01-23 13:38:06,385 - DEBUG - Position is 1
2018-01-23 13:38:07,379 - DEBUG - Open Orders requested
2018-01-23 13:38:07,383 - DEBUG - Reply Handler Orders is <openOrder orderId=124, contract=<ib.ext.Contract.Contract object at 0x000000000216DFD0>, order=<ib.ext.Order.Order object at 0x000000000216DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002201240>>
2018-01-23 13:38:07,384 - DEBUG - Order OrderID 124
2018-01-23 13:38:07,384 - DEBUG - reply handler status <orderStatus orderId=124, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684997, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:38:07,384 - DEBUG - Order status PreSubmitted
2018-01-23 13:38:07,385 - DEBUG - Order Identification 124
2018-01-23 13:38:07,385 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:38:07,385 - DEBUG - Profit ID from database is 0
2018-01-23 13:38:07,385 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:38:07,386 - DEBUG - Stop ID database is 124
2018-01-23 13:38:07,386 - DEBUG - Entry ID database is 122
2018-01-23 13:38:07,386 - DEBUG - Stop API ID is 124
2018-01-23 13:38:07,387 - DEBUG - Reply Handler Orders is <openOrder orderId=123, contract=<ib.ext.Contract.Contract object at 0x000000000216DFD0>, order=<ib.ext.Order.Order object at 0x000000000216DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000022010F0>>
2018-01-23 13:38:07,387 - DEBUG - Order OrderID 123
2018-01-23 13:38:07,388 - DEBUG - reply handler status <orderStatus orderId=123, status=PreSubmitted, filled=0, remaining=1, avgFillPrice=0.0, permId=88684996, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-01-23 13:38:07,388 - DEBUG - Order status PreSubmitted
2018-01-23 13:38:07,388 - DEBUG - Order Identification 123
2018-01-23 13:38:07,389 - DEBUG - Order Identification <class 'int'>
2018-01-23 13:38:07,389 - DEBUG - Profit ID from database is 0
2018-01-23 13:38:07,389 - DEBUG - Profit ID from database is <class 'str'>
2018-01-23 13:38:07,389 - DEBUG - Stop ID database is 124
2018-01-23 13:38:07,389 - DEBUG - Entry ID database is 122
2018-01-23 13:38:09,384 - DEBUG - Connecting to database
2018-01-23 13:38:09,391 - DEBUG - Connected to database
2018-01-23 13:38:09,393 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,393 - DEBUG - Stop loss value is 71.02
2018-01-23 13:38:09,394 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,395 - DEBUG - Stop loss value is 83.275
2018-01-23 13:38:09,396 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,396 - DEBUG - EntryPrice value is 72.32
2018-01-23 13:38:09,398 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,398 - DEBUG - Stop quantity 1
2018-01-23 13:38:09,399 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,400 - DEBUG - Direction is Long
2018-01-23 13:38:09,401 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,401 - DEBUG - Count is 1
2018-01-23 13:38:09,403 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'HE'
2018-01-23 13:38:09,403 - DEBUG - Stop Loss Flag is 1
2018-01-23 13:38:09,404 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-01-23 13:38:09,405 - DEBUG - Max ID Order is (124,)
2018-01-23 13:38:09,405 - DEBUG - Today is 2018-01-23
2018-01-23 13:38:09,406 - DEBUG - Day of the week 1
2018-01-23 13:38:09,406 - DEBUG - Yesterday is 01/22/2018
2018-01-23 13:38:09,406 - DEBUG - In Position is  1
2018-01-23 13:38:09,406 - DEBUG - In Position is  <class 'int'>
2018-01-23 13:38:09,406 - DEBUG - curStopLossFlag is  1
2018-01-23 13:38:09,407 - DEBUG - curStopLossFlag is  <class 'str'>
2018-01-23 13:38:09,407 - DEBUG - Checking if Entry has been filled
2018-01-23 13:38:09,407 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:38:09,409 - DEBUG - EntryPend is 0
2018-01-23 13:38:09,409 - DEBUG - Try to Cancel Stop
2018-01-23 13:38:09,409 - DEBUG - Stop API ID 124
2018-01-23 13:38:09,409 - DEBUG - Profit API ID 0
2018-01-23 13:38:09,409 - DEBUG - Stop API ID <class 'int'>
2018-01-23 13:38:09,410 - DEBUG - Profit API ID <class 'int'>
2018-01-23 13:38:09,410 - DEBUG - Pos is 1
2018-01-23 13:38:09,410 - DEBUG - CurCount is 1
2018-01-23 13:38:09,410 - DEBUG - In Pos 1
2018-01-23 13:38:09,410 - DEBUG - Stop ID is 124
2018-01-23 13:38:09,411 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='HE';
2018-01-23 13:38:09,412 - DEBUG - EntryPend is 0
2018-01-23 13:38:09,412 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-01-23 13:38:09,413 - DEBUG - Entry Date is 10
2018-01-23 13:38:09,413 - DEBUG - confirming yesterday is 01/22/2018
2018-01-23 13:38:09,413 - DEBUG - Order Profit ID is 0
2018-01-23 13:38:09,413 - DEBUG - Order Entry ID is 122
2018-01-23 13:38:09,413 - DEBUG - API ID is  0
2018-01-23 13:38:09,414 - DEBUG - Current Position is 1
2018-01-23 13:38:09,414 - DEBUG - Current Position is <class 'str'>
2018-01-23 13:38:09,414 - DEBUG - Checking if Positions should be close at EOD
2018-01-23 13:38:09,414 - DEBUG - Time is 13
2018-01-23 13:38:09,415 - DEBUG - Time is <class 'int'>
2018-01-23 13:38:09,415 - DEBUG - Time is 38
2018-01-23 13:38:09,415 - DEBUG - Time is <class 'int'>
2018-01-23 13:38:09,415 - DEBUG - Disconnected from IBController
2018-01-23 13:38:09,416 - DEBUG - END POS MGMT SCRIPT :-!
