2018-02-23 02:10:00,460 - DEBUG - ****************************************************
2018-02-23 02:10:00,460 - DEBUG - Current Time is 02:10AM
2018-02-23 02:10:00,461 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:10:00,461 - DEBUG - Connecting to database
2018-02-23 02:10:00,486 - DEBUG - Connected to database
2018-02-23 02:10:00,486 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:00,487 - DEBUG - Order Profit is 226
2018-02-23 02:10:00,487 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:00,490 - DEBUG - Stop ID is 0
2018-02-23 02:10:00,490 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:00,490 - DEBUG - Entry ID is 226
2018-02-23 02:10:00,492 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:10:00,493 - DEBUG - OCA ID is 1
2018-02-23 02:10:00,493 - DEBUG - Connecting to IBController
2018-02-23 02:10:01,499 - DEBUG - Connected to IBController
2018-02-23 02:10:01,499 - DEBUG - Position requested
2018-02-23 02:10:01,502 - DEBUG - Pos Mgmt -12987
2018-02-23 02:10:01,502 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:10:01,503 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:10:01,503 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:10:01,503 - DEBUG - Position is -12987
2018-02-23 02:10:02,500 - DEBUG - Open Orders requested
2018-02-23 02:10:02,503 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207DAC8>, order=<ib.ext.Order.Order object at 0x000000000207DC18>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021110F0>>
2018-02-23 02:10:02,503 - DEBUG - Order OrderID 225
2018-02-23 02:10:02,505 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:10:02,505 - DEBUG - Order status PreSubmitted
2018-02-23 02:10:02,505 - DEBUG - Order Identification 225
2018-02-23 02:10:02,506 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:10:02,506 - DEBUG - Profit ID from database is 226
2018-02-23 02:10:02,506 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:10:02,506 - DEBUG - Stop ID database is 0
2018-02-23 02:10:02,506 - DEBUG - Entry ID database is 226
2018-02-23 02:10:04,503 - DEBUG - Connecting to database
2018-02-23 02:10:04,512 - DEBUG - Connected to database
2018-02-23 02:10:04,513 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,513 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:10:04,515 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,515 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:10:04,516 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,517 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:10:04,519 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,519 - DEBUG - Stop quantity 1
2018-02-23 02:10:04,520 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,520 - DEBUG - Direction is Short
2018-02-23 02:10:04,522 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,523 - DEBUG - Count is 0
2018-02-23 02:10:04,523 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:10:04,523 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:10:04,526 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:10:04,526 - DEBUG - Max ID Order is (226,)
2018-02-23 02:10:04,526 - DEBUG - Today is 2018-02-23
2018-02-23 02:10:04,526 - DEBUG - Day of the week 4
2018-02-23 02:10:04,526 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:10:04,526 - DEBUG - In Position is  0
2018-02-23 02:10:04,526 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:10:04,528 - DEBUG - curStopLossFlag is  0
2018-02-23 02:10:04,528 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:10:04,528 - DEBUG - Checking if Entry has been filled
2018-02-23 02:10:04,528 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:10:04,529 - DEBUG - EntryPend is 1
2018-02-23 02:10:04,529 - DEBUG - Try to Cancel Stop
2018-02-23 02:10:04,529 - DEBUG - Stop API ID 0
2018-02-23 02:10:04,530 - DEBUG - Profit API ID 0
2018-02-23 02:10:04,530 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:10:04,530 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:10:04,530 - DEBUG - Pos is 0
2018-02-23 02:10:04,532 - DEBUG - CurCount is 0
2018-02-23 02:10:04,532 - DEBUG - In Pos 0
2018-02-23 02:10:04,532 - DEBUG - Stop ID is 0
2018-02-23 02:10:04,532 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:10:04,533 - DEBUG - EntryPend is 1
2018-02-23 02:10:04,533 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:10:04,533 - DEBUG - Entry Date is 10
2018-02-23 02:10:04,533 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:10:04,535 - DEBUG - Order Profit ID is 226
2018-02-23 02:10:04,535 - DEBUG - Order Entry ID is 226
2018-02-23 02:10:04,535 - DEBUG - API ID is  0
2018-02-23 02:10:04,535 - DEBUG - Current Position is 0
2018-02-23 02:10:04,536 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:10:04,536 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:10:04,536 - DEBUG - Time is 2
2018-02-23 02:10:04,536 - DEBUG - Time is <class 'int'>
2018-02-23 02:10:04,536 - DEBUG - Disconnected from IBController
2018-02-23 02:10:04,536 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:15:00,262 - DEBUG - ****************************************************
2018-02-23 02:15:00,262 - DEBUG - Current Time is 02:15AM
2018-02-23 02:15:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:15:00,263 - DEBUG - Connecting to database
2018-02-23 02:15:00,292 - DEBUG - Connected to database
2018-02-23 02:15:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:00,295 - DEBUG - Order Profit is 226
2018-02-23 02:15:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:00,296 - DEBUG - Stop ID is 0
2018-02-23 02:15:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:00,298 - DEBUG - Entry ID is 226
2018-02-23 02:15:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:15:00,299 - DEBUG - OCA ID is 1
2018-02-23 02:15:00,299 - DEBUG - Connecting to IBController
2018-02-23 02:15:01,309 - DEBUG - Connected to IBController
2018-02-23 02:15:01,309 - DEBUG - Position requested
2018-02-23 02:15:01,313 - DEBUG - Pos Mgmt -12987
2018-02-23 02:15:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205BD30>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:15:01,313 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:15:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:15:01,315 - DEBUG - Position is -12987
2018-02-23 02:15:02,312 - DEBUG - Open Orders requested
2018-02-23 02:15:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205BAC8>, order=<ib.ext.Order.Order object at 0x000000000205BBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F00F0>>
2018-02-23 02:15:02,316 - DEBUG - Order OrderID 225
2018-02-23 02:15:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:15:02,316 - DEBUG - Order status PreSubmitted
2018-02-23 02:15:02,318 - DEBUG - Order Identification 225
2018-02-23 02:15:02,318 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:15:02,318 - DEBUG - Profit ID from database is 226
2018-02-23 02:15:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:15:02,319 - DEBUG - Stop ID database is 0
2018-02-23 02:15:02,319 - DEBUG - Entry ID database is 226
2018-02-23 02:15:04,315 - DEBUG - Connecting to database
2018-02-23 02:15:04,322 - DEBUG - Connected to database
2018-02-23 02:15:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,325 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:15:04,326 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,326 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:15:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,328 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:15:04,329 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,331 - DEBUG - Stop quantity 1
2018-02-23 02:15:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,332 - DEBUG - Direction is Short
2018-02-23 02:15:04,334 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,334 - DEBUG - Count is 0
2018-02-23 02:15:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:15:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:15:04,336 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:15:04,336 - DEBUG - Max ID Order is (226,)
2018-02-23 02:15:04,338 - DEBUG - Today is 2018-02-23
2018-02-23 02:15:04,338 - DEBUG - Day of the week 4
2018-02-23 02:15:04,338 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:15:04,338 - DEBUG - In Position is  0
2018-02-23 02:15:04,338 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:15:04,338 - DEBUG - curStopLossFlag is  0
2018-02-23 02:15:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:15:04,339 - DEBUG - Checking if Entry has been filled
2018-02-23 02:15:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:15:04,341 - DEBUG - EntryPend is 1
2018-02-23 02:15:04,342 - DEBUG - Try to Cancel Stop
2018-02-23 02:15:04,342 - DEBUG - Stop API ID 0
2018-02-23 02:15:04,342 - DEBUG - Profit API ID 0
2018-02-23 02:15:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:15:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:15:04,342 - DEBUG - Pos is 0
2018-02-23 02:15:04,342 - DEBUG - CurCount is 0
2018-02-23 02:15:04,342 - DEBUG - In Pos 0
2018-02-23 02:15:04,344 - DEBUG - Stop ID is 0
2018-02-23 02:15:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:15:04,345 - DEBUG - EntryPend is 1
2018-02-23 02:15:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:15:04,345 - DEBUG - Entry Date is 10
2018-02-23 02:15:04,345 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:15:04,345 - DEBUG - Order Profit ID is 226
2018-02-23 02:15:04,345 - DEBUG - Order Entry ID is 226
2018-02-23 02:15:04,346 - DEBUG - API ID is  0
2018-02-23 02:15:04,346 - DEBUG - Current Position is 0
2018-02-23 02:15:04,346 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:15:04,346 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:15:04,346 - DEBUG - Time is 2
2018-02-23 02:15:04,348 - DEBUG - Time is <class 'int'>
2018-02-23 02:15:04,348 - DEBUG - Disconnected from IBController
2018-02-23 02:15:04,348 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:20:00,265 - DEBUG - ****************************************************
2018-02-23 02:20:00,265 - DEBUG - Current Time is 02:20AM
2018-02-23 02:20:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:20:00,266 - DEBUG - Connecting to database
2018-02-23 02:20:00,290 - DEBUG - Connected to database
2018-02-23 02:20:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:00,292 - DEBUG - Order Profit is 226
2018-02-23 02:20:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:00,295 - DEBUG - Stop ID is 0
2018-02-23 02:20:00,295 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:00,296 - DEBUG - Entry ID is 226
2018-02-23 02:20:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:20:00,298 - DEBUG - OCA ID is 1
2018-02-23 02:20:00,298 - DEBUG - Connecting to IBController
2018-02-23 02:20:01,309 - DEBUG - Connected to IBController
2018-02-23 02:20:01,309 - DEBUG - Position requested
2018-02-23 02:20:01,332 - DEBUG - Pos Mgmt -12987
2018-02-23 02:20:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:20:01,334 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:20:01,334 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:20:01,334 - DEBUG - Position is -12987
2018-02-23 02:20:02,311 - DEBUG - Open Orders requested
2018-02-23 02:20:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DC18>, order=<ib.ext.Order.Order object at 0x000000000205DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-23 02:20:02,313 - DEBUG - Order OrderID 225
2018-02-23 02:20:02,313 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:20:02,315 - DEBUG - Order status PreSubmitted
2018-02-23 02:20:02,315 - DEBUG - Order Identification 225
2018-02-23 02:20:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:20:02,315 - DEBUG - Profit ID from database is 226
2018-02-23 02:20:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:20:02,315 - DEBUG - Stop ID database is 0
2018-02-23 02:20:02,315 - DEBUG - Entry ID database is 226
2018-02-23 02:20:04,312 - DEBUG - Connecting to database
2018-02-23 02:20:04,319 - DEBUG - Connected to database
2018-02-23 02:20:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,322 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:20:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,322 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:20:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,325 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:20:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,326 - DEBUG - Stop quantity 1
2018-02-23 02:20:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,328 - DEBUG - Direction is Short
2018-02-23 02:20:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,329 - DEBUG - Count is 0
2018-02-23 02:20:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:20:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:20:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:20:04,334 - DEBUG - Max ID Order is (226,)
2018-02-23 02:20:04,334 - DEBUG - Today is 2018-02-23
2018-02-23 02:20:04,335 - DEBUG - Day of the week 4
2018-02-23 02:20:04,335 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:20:04,335 - DEBUG - In Position is  0
2018-02-23 02:20:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:20:04,335 - DEBUG - curStopLossFlag is  0
2018-02-23 02:20:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:20:04,335 - DEBUG - Checking if Entry has been filled
2018-02-23 02:20:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:20:04,338 - DEBUG - EntryPend is 1
2018-02-23 02:20:04,338 - DEBUG - Try to Cancel Stop
2018-02-23 02:20:04,338 - DEBUG - Stop API ID 0
2018-02-23 02:20:04,338 - DEBUG - Profit API ID 0
2018-02-23 02:20:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:20:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:20:04,338 - DEBUG - Pos is 0
2018-02-23 02:20:04,338 - DEBUG - CurCount is 0
2018-02-23 02:20:04,339 - DEBUG - In Pos 0
2018-02-23 02:20:04,339 - DEBUG - Stop ID is 0
2018-02-23 02:20:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:20:04,342 - DEBUG - EntryPend is 1
2018-02-23 02:20:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:20:04,342 - DEBUG - Entry Date is 10
2018-02-23 02:20:04,342 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:20:04,342 - DEBUG - Order Profit ID is 226
2018-02-23 02:20:04,342 - DEBUG - Order Entry ID is 226
2018-02-23 02:20:04,342 - DEBUG - API ID is  0
2018-02-23 02:20:04,342 - DEBUG - Current Position is 0
2018-02-23 02:20:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:20:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:20:04,344 - DEBUG - Time is 2
2018-02-23 02:20:04,344 - DEBUG - Time is <class 'int'>
2018-02-23 02:20:04,345 - DEBUG - Disconnected from IBController
2018-02-23 02:20:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:25:00,269 - DEBUG - ****************************************************
2018-02-23 02:25:00,269 - DEBUG - Current Time is 02:25AM
2018-02-23 02:25:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:25:00,270 - DEBUG - Connecting to database
2018-02-23 02:25:00,305 - DEBUG - Connected to database
2018-02-23 02:25:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:00,308 - DEBUG - Order Profit is 226
2018-02-23 02:25:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:00,309 - DEBUG - Stop ID is 0
2018-02-23 02:25:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:00,311 - DEBUG - Entry ID is 226
2018-02-23 02:25:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:25:00,312 - DEBUG - OCA ID is 1
2018-02-23 02:25:00,312 - DEBUG - Connecting to IBController
2018-02-23 02:25:01,325 - DEBUG - Connected to IBController
2018-02-23 02:25:01,325 - DEBUG - Position requested
2018-02-23 02:25:01,328 - DEBUG - Pos Mgmt -12987
2018-02-23 02:25:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:25:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:25:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:25:01,328 - DEBUG - Position is -12987
2018-02-23 02:25:02,328 - DEBUG - Open Orders requested
2018-02-23 02:25:02,329 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DAC8>, order=<ib.ext.Order.Order object at 0x000000000202DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20F0>>
2018-02-23 02:25:02,331 - DEBUG - Order OrderID 225
2018-02-23 02:25:02,332 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:25:02,332 - DEBUG - Order status PreSubmitted
2018-02-23 02:25:02,332 - DEBUG - Order Identification 225
2018-02-23 02:25:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:25:02,332 - DEBUG - Profit ID from database is 226
2018-02-23 02:25:02,332 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:25:02,338 - DEBUG - Stop ID database is 0
2018-02-23 02:25:02,339 - DEBUG - Entry ID database is 226
2018-02-23 02:25:04,331 - DEBUG - Connecting to database
2018-02-23 02:25:04,338 - DEBUG - Connected to database
2018-02-23 02:25:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,339 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:25:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,342 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:25:04,342 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,344 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:25:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,345 - DEBUG - Stop quantity 1
2018-02-23 02:25:04,346 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,346 - DEBUG - Direction is Short
2018-02-23 02:25:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,348 - DEBUG - Count is 0
2018-02-23 02:25:04,349 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:25:04,349 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:25:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:25:04,351 - DEBUG - Max ID Order is (226,)
2018-02-23 02:25:04,351 - DEBUG - Today is 2018-02-23
2018-02-23 02:25:04,352 - DEBUG - Day of the week 4
2018-02-23 02:25:04,352 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:25:04,352 - DEBUG - In Position is  0
2018-02-23 02:25:04,352 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:25:04,354 - DEBUG - curStopLossFlag is  0
2018-02-23 02:25:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:25:04,354 - DEBUG - Checking if Entry has been filled
2018-02-23 02:25:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:25:04,355 - DEBUG - EntryPend is 1
2018-02-23 02:25:04,355 - DEBUG - Try to Cancel Stop
2018-02-23 02:25:04,355 - DEBUG - Stop API ID 0
2018-02-23 02:25:04,355 - DEBUG - Profit API ID 0
2018-02-23 02:25:04,357 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:25:04,357 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:25:04,357 - DEBUG - Pos is 0
2018-02-23 02:25:04,357 - DEBUG - CurCount is 0
2018-02-23 02:25:04,358 - DEBUG - In Pos 0
2018-02-23 02:25:04,358 - DEBUG - Stop ID is 0
2018-02-23 02:25:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:25:04,359 - DEBUG - EntryPend is 1
2018-02-23 02:25:04,359 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:25:04,359 - DEBUG - Entry Date is 10
2018-02-23 02:25:04,359 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:25:04,359 - DEBUG - Order Profit ID is 226
2018-02-23 02:25:04,361 - DEBUG - Order Entry ID is 226
2018-02-23 02:25:04,361 - DEBUG - API ID is  0
2018-02-23 02:25:04,361 - DEBUG - Current Position is 0
2018-02-23 02:25:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:25:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:25:04,361 - DEBUG - Time is 2
2018-02-23 02:25:04,361 - DEBUG - Time is <class 'int'>
2018-02-23 02:25:04,361 - DEBUG - Disconnected from IBController
2018-02-23 02:25:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:30:00,282 - DEBUG - ****************************************************
2018-02-23 02:30:00,282 - DEBUG - Current Time is 02:30AM
2018-02-23 02:30:00,282 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:30:00,282 - DEBUG - Connecting to database
2018-02-23 02:30:00,325 - DEBUG - Connected to database
2018-02-23 02:30:00,325 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:00,326 - DEBUG - Order Profit is 226
2018-02-23 02:30:00,326 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:00,328 - DEBUG - Stop ID is 0
2018-02-23 02:30:00,328 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:00,331 - DEBUG - Entry ID is 226
2018-02-23 02:30:00,331 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:30:00,332 - DEBUG - OCA ID is 1
2018-02-23 02:30:00,332 - DEBUG - Connecting to IBController
2018-02-23 02:30:01,339 - DEBUG - Connected to IBController
2018-02-23 02:30:01,339 - DEBUG - Position requested
2018-02-23 02:30:01,342 - DEBUG - Pos Mgmt -12987
2018-02-23 02:30:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:30:01,344 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:30:01,344 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:30:01,344 - DEBUG - Position is -12987
2018-02-23 02:30:02,341 - DEBUG - Open Orders requested
2018-02-23 02:30:02,367 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DBA8>, order=<ib.ext.Order.Order object at 0x000000000206DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-02-23 02:30:02,368 - DEBUG - Order OrderID 225
2018-02-23 02:30:02,368 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:30:02,368 - DEBUG - Order status PreSubmitted
2018-02-23 02:30:02,368 - DEBUG - Order Identification 225
2018-02-23 02:30:02,368 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:30:02,368 - DEBUG - Profit ID from database is 226
2018-02-23 02:30:02,369 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:30:02,369 - DEBUG - Stop ID database is 0
2018-02-23 02:30:02,369 - DEBUG - Entry ID database is 226
2018-02-23 02:30:04,342 - DEBUG - Connecting to database
2018-02-23 02:30:04,348 - DEBUG - Connected to database
2018-02-23 02:30:04,351 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,351 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:30:04,351 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,352 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:30:04,354 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,354 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:30:04,355 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,355 - DEBUG - Stop quantity 1
2018-02-23 02:30:04,357 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,358 - DEBUG - Direction is Short
2018-02-23 02:30:04,358 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,358 - DEBUG - Count is 0
2018-02-23 02:30:04,361 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:30:04,361 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:30:04,361 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:30:04,362 - DEBUG - Max ID Order is (226,)
2018-02-23 02:30:04,362 - DEBUG - Today is 2018-02-23
2018-02-23 02:30:04,362 - DEBUG - Day of the week 4
2018-02-23 02:30:04,364 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:30:04,364 - DEBUG - In Position is  0
2018-02-23 02:30:04,364 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:30:04,364 - DEBUG - curStopLossFlag is  0
2018-02-23 02:30:04,365 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:30:04,365 - DEBUG - Checking if Entry has been filled
2018-02-23 02:30:04,365 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:30:04,367 - DEBUG - EntryPend is 1
2018-02-23 02:30:04,367 - DEBUG - Try to Cancel Stop
2018-02-23 02:30:04,367 - DEBUG - Stop API ID 0
2018-02-23 02:30:04,367 - DEBUG - Profit API ID 0
2018-02-23 02:30:04,368 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:30:04,368 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:30:04,368 - DEBUG - Pos is 0
2018-02-23 02:30:04,368 - DEBUG - CurCount is 0
2018-02-23 02:30:04,368 - DEBUG - In Pos 0
2018-02-23 02:30:04,368 - DEBUG - Stop ID is 0
2018-02-23 02:30:04,368 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:30:04,369 - DEBUG - EntryPend is 1
2018-02-23 02:30:04,371 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:30:04,371 - DEBUG - Entry Date is 10
2018-02-23 02:30:04,371 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:30:04,371 - DEBUG - Order Profit ID is 226
2018-02-23 02:30:04,371 - DEBUG - Order Entry ID is 226
2018-02-23 02:30:04,371 - DEBUG - API ID is  0
2018-02-23 02:30:04,371 - DEBUG - Current Position is 0
2018-02-23 02:30:04,371 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:30:04,371 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:30:04,372 - DEBUG - Time is 2
2018-02-23 02:30:04,372 - DEBUG - Time is <class 'int'>
2018-02-23 02:30:04,372 - DEBUG - Disconnected from IBController
2018-02-23 02:30:04,372 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:35:00,259 - DEBUG - ****************************************************
2018-02-23 02:35:00,259 - DEBUG - Current Time is 02:35AM
2018-02-23 02:35:00,259 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:35:00,259 - DEBUG - Connecting to database
2018-02-23 02:35:00,282 - DEBUG - Connected to database
2018-02-23 02:35:00,282 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:00,283 - DEBUG - Order Profit is 226
2018-02-23 02:35:00,285 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:00,286 - DEBUG - Stop ID is 0
2018-02-23 02:35:00,286 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:00,288 - DEBUG - Entry ID is 226
2018-02-23 02:35:00,288 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:35:00,289 - DEBUG - OCA ID is 1
2018-02-23 02:35:00,289 - DEBUG - Connecting to IBController
2018-02-23 02:35:01,299 - DEBUG - Connected to IBController
2018-02-23 02:35:01,299 - DEBUG - Position requested
2018-02-23 02:35:01,302 - DEBUG - Pos Mgmt -12987
2018-02-23 02:35:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:35:01,302 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:35:01,302 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:35:01,302 - DEBUG - Position is -12987
2018-02-23 02:35:02,302 - DEBUG - Open Orders requested
2018-02-23 02:35:02,303 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-23 02:35:02,305 - DEBUG - Order OrderID 225
2018-02-23 02:35:02,305 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:35:02,305 - DEBUG - Order status PreSubmitted
2018-02-23 02:35:02,305 - DEBUG - Order Identification 225
2018-02-23 02:35:02,306 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:35:02,306 - DEBUG - Profit ID from database is 226
2018-02-23 02:35:02,306 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:35:02,306 - DEBUG - Stop ID database is 0
2018-02-23 02:35:02,308 - DEBUG - Entry ID database is 226
2018-02-23 02:35:04,305 - DEBUG - Connecting to database
2018-02-23 02:35:04,312 - DEBUG - Connected to database
2018-02-23 02:35:04,313 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,313 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:35:04,315 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,315 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:35:04,316 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,318 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:35:04,319 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,319 - DEBUG - Stop quantity 1
2018-02-23 02:35:04,321 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,321 - DEBUG - Direction is Short
2018-02-23 02:35:04,322 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,322 - DEBUG - Count is 0
2018-02-23 02:35:04,323 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:35:04,323 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:35:04,325 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:35:04,325 - DEBUG - Max ID Order is (226,)
2018-02-23 02:35:04,325 - DEBUG - Today is 2018-02-23
2018-02-23 02:35:04,326 - DEBUG - Day of the week 4
2018-02-23 02:35:04,326 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:35:04,326 - DEBUG - In Position is  0
2018-02-23 02:35:04,326 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:35:04,328 - DEBUG - curStopLossFlag is  0
2018-02-23 02:35:04,328 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:35:04,328 - DEBUG - Checking if Entry has been filled
2018-02-23 02:35:04,328 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:35:04,329 - DEBUG - EntryPend is 1
2018-02-23 02:35:04,329 - DEBUG - Try to Cancel Stop
2018-02-23 02:35:04,329 - DEBUG - Stop API ID 0
2018-02-23 02:35:04,329 - DEBUG - Profit API ID 0
2018-02-23 02:35:04,331 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:35:04,331 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:35:04,331 - DEBUG - Pos is 0
2018-02-23 02:35:04,331 - DEBUG - CurCount is 0
2018-02-23 02:35:04,332 - DEBUG - In Pos 0
2018-02-23 02:35:04,332 - DEBUG - Stop ID is 0
2018-02-23 02:35:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:35:04,332 - DEBUG - EntryPend is 1
2018-02-23 02:35:04,334 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:35:04,334 - DEBUG - Entry Date is 10
2018-02-23 02:35:04,334 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:35:04,334 - DEBUG - Order Profit ID is 226
2018-02-23 02:35:04,335 - DEBUG - Order Entry ID is 226
2018-02-23 02:35:04,335 - DEBUG - API ID is  0
2018-02-23 02:35:04,335 - DEBUG - Current Position is 0
2018-02-23 02:35:04,335 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:35:04,335 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:35:04,335 - DEBUG - Time is 2
2018-02-23 02:35:04,335 - DEBUG - Time is <class 'int'>
2018-02-23 02:35:04,335 - DEBUG - Disconnected from IBController
2018-02-23 02:35:04,335 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:40:00,266 - DEBUG - ****************************************************
2018-02-23 02:40:00,266 - DEBUG - Current Time is 02:40AM
2018-02-23 02:40:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:40:00,266 - DEBUG - Connecting to database
2018-02-23 02:40:00,305 - DEBUG - Connected to database
2018-02-23 02:40:00,305 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:00,308 - DEBUG - Order Profit is 226
2018-02-23 02:40:00,308 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:00,309 - DEBUG - Stop ID is 0
2018-02-23 02:40:00,309 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:00,311 - DEBUG - Entry ID is 226
2018-02-23 02:40:00,311 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:40:00,312 - DEBUG - OCA ID is 1
2018-02-23 02:40:00,312 - DEBUG - Connecting to IBController
2018-02-23 02:40:01,322 - DEBUG - Connected to IBController
2018-02-23 02:40:01,322 - DEBUG - Position requested
2018-02-23 02:40:01,325 - DEBUG - Pos Mgmt -12987
2018-02-23 02:40:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206BD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:40:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:40:01,325 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:40:01,325 - DEBUG - Position is -12987
2018-02-23 02:40:02,322 - DEBUG - Open Orders requested
2018-02-23 02:40:02,325 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206BCC0>, order=<ib.ext.Order.Order object at 0x000000000206BC18>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002100080>>
2018-02-23 02:40:02,325 - DEBUG - Order OrderID 225
2018-02-23 02:40:02,326 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:40:02,326 - DEBUG - Order status PreSubmitted
2018-02-23 02:40:02,328 - DEBUG - Order Identification 225
2018-02-23 02:40:02,328 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:40:02,328 - DEBUG - Profit ID from database is 226
2018-02-23 02:40:02,328 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:40:02,328 - DEBUG - Stop ID database is 0
2018-02-23 02:40:02,328 - DEBUG - Entry ID database is 226
2018-02-23 02:40:04,323 - DEBUG - Connecting to database
2018-02-23 02:40:04,331 - DEBUG - Connected to database
2018-02-23 02:40:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,332 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:40:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,335 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:40:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,335 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:40:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,338 - DEBUG - Stop quantity 1
2018-02-23 02:40:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,339 - DEBUG - Direction is Short
2018-02-23 02:40:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,341 - DEBUG - Count is 0
2018-02-23 02:40:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:40:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:40:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:40:04,344 - DEBUG - Max ID Order is (226,)
2018-02-23 02:40:04,345 - DEBUG - Today is 2018-02-23
2018-02-23 02:40:04,345 - DEBUG - Day of the week 4
2018-02-23 02:40:04,345 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:40:04,345 - DEBUG - In Position is  0
2018-02-23 02:40:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:40:04,345 - DEBUG - curStopLossFlag is  0
2018-02-23 02:40:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:40:04,346 - DEBUG - Checking if Entry has been filled
2018-02-23 02:40:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:40:04,348 - DEBUG - EntryPend is 1
2018-02-23 02:40:04,348 - DEBUG - Try to Cancel Stop
2018-02-23 02:40:04,348 - DEBUG - Stop API ID 0
2018-02-23 02:40:04,348 - DEBUG - Profit API ID 0
2018-02-23 02:40:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:40:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:40:04,349 - DEBUG - Pos is 0
2018-02-23 02:40:04,349 - DEBUG - CurCount is 0
2018-02-23 02:40:04,349 - DEBUG - In Pos 0
2018-02-23 02:40:04,349 - DEBUG - Stop ID is 0
2018-02-23 02:40:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:40:04,351 - DEBUG - EntryPend is 1
2018-02-23 02:40:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:40:04,352 - DEBUG - Entry Date is 10
2018-02-23 02:40:04,352 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:40:04,352 - DEBUG - Order Profit ID is 226
2018-02-23 02:40:04,352 - DEBUG - Order Entry ID is 226
2018-02-23 02:40:04,352 - DEBUG - API ID is  0
2018-02-23 02:40:04,354 - DEBUG - Current Position is 0
2018-02-23 02:40:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:40:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:40:04,354 - DEBUG - Time is 2
2018-02-23 02:40:04,355 - DEBUG - Time is <class 'int'>
2018-02-23 02:40:04,355 - DEBUG - Disconnected from IBController
2018-02-23 02:40:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:45:00,265 - DEBUG - ****************************************************
2018-02-23 02:45:00,265 - DEBUG - Current Time is 02:45AM
2018-02-23 02:45:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:45:00,266 - DEBUG - Connecting to database
2018-02-23 02:45:00,283 - DEBUG - Connected to database
2018-02-23 02:45:00,285 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:00,286 - DEBUG - Order Profit is 226
2018-02-23 02:45:00,286 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:00,288 - DEBUG - Stop ID is 0
2018-02-23 02:45:00,288 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:00,289 - DEBUG - Entry ID is 226
2018-02-23 02:45:00,289 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:45:00,290 - DEBUG - OCA ID is 1
2018-02-23 02:45:00,290 - DEBUG - Connecting to IBController
2018-02-23 02:45:01,303 - DEBUG - Connected to IBController
2018-02-23 02:45:01,303 - DEBUG - Position requested
2018-02-23 02:45:01,305 - DEBUG - Pos Mgmt -12987
2018-02-23 02:45:01,305 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADD30>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:45:01,306 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:45:01,306 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:45:01,306 - DEBUG - Position is -12987
2018-02-23 02:45:02,305 - DEBUG - Open Orders requested
2018-02-23 02:45:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, order=<ib.ext.Order.Order object at 0x00000000020ADC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021420F0>>
2018-02-23 02:45:02,309 - DEBUG - Order OrderID 225
2018-02-23 02:45:02,309 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:45:02,311 - DEBUG - Order status PreSubmitted
2018-02-23 02:45:02,311 - DEBUG - Order Identification 225
2018-02-23 02:45:02,311 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:45:02,312 - DEBUG - Profit ID from database is 226
2018-02-23 02:45:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:45:02,312 - DEBUG - Stop ID database is 0
2018-02-23 02:45:02,312 - DEBUG - Entry ID database is 226
2018-02-23 02:45:04,309 - DEBUG - Connecting to database
2018-02-23 02:45:04,316 - DEBUG - Connected to database
2018-02-23 02:45:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,319 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:45:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,321 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:45:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,322 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:45:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,323 - DEBUG - Stop quantity 1
2018-02-23 02:45:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,325 - DEBUG - Direction is Short
2018-02-23 02:45:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,328 - DEBUG - Count is 0
2018-02-23 02:45:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:45:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:45:04,331 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:45:04,331 - DEBUG - Max ID Order is (226,)
2018-02-23 02:45:04,331 - DEBUG - Today is 2018-02-23
2018-02-23 02:45:04,332 - DEBUG - Day of the week 4
2018-02-23 02:45:04,332 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:45:04,332 - DEBUG - In Position is  0
2018-02-23 02:45:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:45:04,332 - DEBUG - curStopLossFlag is  0
2018-02-23 02:45:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:45:04,332 - DEBUG - Checking if Entry has been filled
2018-02-23 02:45:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:45:04,335 - DEBUG - EntryPend is 1
2018-02-23 02:45:04,335 - DEBUG - Try to Cancel Stop
2018-02-23 02:45:04,335 - DEBUG - Stop API ID 0
2018-02-23 02:45:04,335 - DEBUG - Profit API ID 0
2018-02-23 02:45:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:45:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:45:04,335 - DEBUG - Pos is 0
2018-02-23 02:45:04,335 - DEBUG - CurCount is 0
2018-02-23 02:45:04,336 - DEBUG - In Pos 0
2018-02-23 02:45:04,336 - DEBUG - Stop ID is 0
2018-02-23 02:45:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:45:04,338 - DEBUG - EntryPend is 1
2018-02-23 02:45:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:45:04,338 - DEBUG - Entry Date is 10
2018-02-23 02:45:04,338 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:45:04,338 - DEBUG - Order Profit ID is 226
2018-02-23 02:45:04,339 - DEBUG - Order Entry ID is 226
2018-02-23 02:45:04,339 - DEBUG - API ID is  0
2018-02-23 02:45:04,339 - DEBUG - Current Position is 0
2018-02-23 02:45:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:45:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:45:04,341 - DEBUG - Time is 2
2018-02-23 02:45:04,341 - DEBUG - Time is <class 'int'>
2018-02-23 02:45:04,341 - DEBUG - Disconnected from IBController
2018-02-23 02:45:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:50:00,260 - DEBUG - ****************************************************
2018-02-23 02:50:00,262 - DEBUG - Current Time is 02:50AM
2018-02-23 02:50:00,262 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:50:00,262 - DEBUG - Connecting to database
2018-02-23 02:50:00,279 - DEBUG - Connected to database
2018-02-23 02:50:00,280 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:00,282 - DEBUG - Order Profit is 226
2018-02-23 02:50:00,282 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:00,283 - DEBUG - Stop ID is 0
2018-02-23 02:50:00,283 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:00,285 - DEBUG - Entry ID is 226
2018-02-23 02:50:00,286 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:50:00,286 - DEBUG - OCA ID is 1
2018-02-23 02:50:00,286 - DEBUG - Connecting to IBController
2018-02-23 02:50:01,296 - DEBUG - Connected to IBController
2018-02-23 02:50:01,296 - DEBUG - Position requested
2018-02-23 02:50:01,322 - DEBUG - Pos Mgmt -12987
2018-02-23 02:50:01,323 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CD30>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:50:01,323 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:50:01,323 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:50:01,325 - DEBUG - Position is -12987
2018-02-23 02:50:02,296 - DEBUG - Open Orders requested
2018-02-23 02:50:02,301 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CC88>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D1080>>
2018-02-23 02:50:02,302 - DEBUG - Order OrderID 225
2018-02-23 02:50:02,302 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:50:02,302 - DEBUG - Order status PreSubmitted
2018-02-23 02:50:02,302 - DEBUG - Order Identification 225
2018-02-23 02:50:02,302 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:50:02,303 - DEBUG - Profit ID from database is 226
2018-02-23 02:50:02,303 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:50:02,303 - DEBUG - Stop ID database is 0
2018-02-23 02:50:02,303 - DEBUG - Entry ID database is 226
2018-02-23 02:50:04,298 - DEBUG - Connecting to database
2018-02-23 02:50:04,305 - DEBUG - Connected to database
2018-02-23 02:50:04,306 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,306 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:50:04,309 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,309 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:50:04,311 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,311 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:50:04,312 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,312 - DEBUG - Stop quantity 1
2018-02-23 02:50:04,313 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,315 - DEBUG - Direction is Short
2018-02-23 02:50:04,315 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,315 - DEBUG - Count is 0
2018-02-23 02:50:04,318 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:50:04,318 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:50:04,319 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:50:04,319 - DEBUG - Max ID Order is (226,)
2018-02-23 02:50:04,319 - DEBUG - Today is 2018-02-23
2018-02-23 02:50:04,321 - DEBUG - Day of the week 4
2018-02-23 02:50:04,321 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:50:04,321 - DEBUG - In Position is  0
2018-02-23 02:50:04,321 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:50:04,322 - DEBUG - curStopLossFlag is  0
2018-02-23 02:50:04,322 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:50:04,322 - DEBUG - Checking if Entry has been filled
2018-02-23 02:50:04,322 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:50:04,323 - DEBUG - EntryPend is 1
2018-02-23 02:50:04,323 - DEBUG - Try to Cancel Stop
2018-02-23 02:50:04,323 - DEBUG - Stop API ID 0
2018-02-23 02:50:04,323 - DEBUG - Profit API ID 0
2018-02-23 02:50:04,325 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:50:04,325 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:50:04,325 - DEBUG - Pos is 0
2018-02-23 02:50:04,325 - DEBUG - CurCount is 0
2018-02-23 02:50:04,325 - DEBUG - In Pos 0
2018-02-23 02:50:04,325 - DEBUG - Stop ID is 0
2018-02-23 02:50:04,325 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:50:04,326 - DEBUG - EntryPend is 1
2018-02-23 02:50:04,326 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:50:04,328 - DEBUG - Entry Date is 10
2018-02-23 02:50:04,328 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:50:04,328 - DEBUG - Order Profit ID is 226
2018-02-23 02:50:04,328 - DEBUG - Order Entry ID is 226
2018-02-23 02:50:04,328 - DEBUG - API ID is  0
2018-02-23 02:50:04,328 - DEBUG - Current Position is 0
2018-02-23 02:50:04,328 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:50:04,328 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:50:04,329 - DEBUG - Time is 2
2018-02-23 02:50:04,329 - DEBUG - Time is <class 'int'>
2018-02-23 02:50:04,329 - DEBUG - Disconnected from IBController
2018-02-23 02:50:04,331 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 02:55:00,276 - DEBUG - ****************************************************
2018-02-23 02:55:00,276 - DEBUG - Current Time is 02:55AM
2018-02-23 02:55:00,278 - DEBUG - Starting Pos Mgmt E S
2018-02-23 02:55:00,278 - DEBUG - Connecting to database
2018-02-23 02:55:00,312 - DEBUG - Connected to database
2018-02-23 02:55:00,313 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:00,315 - DEBUG - Order Profit is 226
2018-02-23 02:55:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:00,316 - DEBUG - Stop ID is 0
2018-02-23 02:55:00,316 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:00,318 - DEBUG - Entry ID is 226
2018-02-23 02:55:00,319 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 02:55:00,319 - DEBUG - OCA ID is 1
2018-02-23 02:55:00,319 - DEBUG - Connecting to IBController
2018-02-23 02:55:01,325 - DEBUG - Connected to IBController
2018-02-23 02:55:01,325 - DEBUG - Position requested
2018-02-23 02:55:01,328 - DEBUG - Pos Mgmt -12987
2018-02-23 02:55:01,328 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 02:55:01,328 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 02:55:01,328 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 02:55:01,328 - DEBUG - Position is -12987
2018-02-23 02:55:02,328 - DEBUG - Open Orders requested
2018-02-23 02:55:02,331 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-23 02:55:02,332 - DEBUG - Order OrderID 225
2018-02-23 02:55:02,332 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 02:55:02,332 - DEBUG - Order status PreSubmitted
2018-02-23 02:55:02,332 - DEBUG - Order Identification 225
2018-02-23 02:55:02,332 - DEBUG - Order Identification <class 'int'>
2018-02-23 02:55:02,332 - DEBUG - Profit ID from database is 226
2018-02-23 02:55:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 02:55:02,334 - DEBUG - Stop ID database is 0
2018-02-23 02:55:02,334 - DEBUG - Entry ID database is 226
2018-02-23 02:55:04,331 - DEBUG - Connecting to database
2018-02-23 02:55:04,338 - DEBUG - Connected to database
2018-02-23 02:55:04,339 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,339 - DEBUG - Stop loss value is 2731.25
2018-02-23 02:55:04,341 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,342 - DEBUG - Stop loss value is 2671.5
2018-02-23 02:55:04,342 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,342 - DEBUG - EntryPrice value is 2681.0
2018-02-23 02:55:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,345 - DEBUG - Stop quantity 1
2018-02-23 02:55:04,345 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,346 - DEBUG - Direction is Short
2018-02-23 02:55:04,348 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,348 - DEBUG - Count is 0
2018-02-23 02:55:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 02:55:04,349 - DEBUG - Stop Loss Flag is 0
2018-02-23 02:55:04,351 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 02:55:04,351 - DEBUG - Max ID Order is (226,)
2018-02-23 02:55:04,351 - DEBUG - Today is 2018-02-23
2018-02-23 02:55:04,351 - DEBUG - Day of the week 4
2018-02-23 02:55:04,351 - DEBUG - Yesterday is 02/22/2018
2018-02-23 02:55:04,352 - DEBUG - In Position is  0
2018-02-23 02:55:04,352 - DEBUG - In Position is  <class 'int'>
2018-02-23 02:55:04,352 - DEBUG - curStopLossFlag is  0
2018-02-23 02:55:04,354 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 02:55:04,354 - DEBUG - Checking if Entry has been filled
2018-02-23 02:55:04,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:55:04,355 - DEBUG - EntryPend is 1
2018-02-23 02:55:04,355 - DEBUG - Try to Cancel Stop
2018-02-23 02:55:04,355 - DEBUG - Stop API ID 0
2018-02-23 02:55:04,355 - DEBUG - Profit API ID 0
2018-02-23 02:55:04,355 - DEBUG - Stop API ID <class 'int'>
2018-02-23 02:55:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-23 02:55:04,357 - DEBUG - Pos is 0
2018-02-23 02:55:04,357 - DEBUG - CurCount is 0
2018-02-23 02:55:04,357 - DEBUG - In Pos 0
2018-02-23 02:55:04,357 - DEBUG - Stop ID is 0
2018-02-23 02:55:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 02:55:04,358 - DEBUG - EntryPend is 1
2018-02-23 02:55:04,358 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 02:55:04,358 - DEBUG - Entry Date is 10
2018-02-23 02:55:04,359 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 02:55:04,359 - DEBUG - Order Profit ID is 226
2018-02-23 02:55:04,359 - DEBUG - Order Entry ID is 226
2018-02-23 02:55:04,359 - DEBUG - API ID is  0
2018-02-23 02:55:04,359 - DEBUG - Current Position is 0
2018-02-23 02:55:04,361 - DEBUG - Current Position is <class 'str'>
2018-02-23 02:55:04,361 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 02:55:04,361 - DEBUG - Time is 2
2018-02-23 02:55:04,361 - DEBUG - Time is <class 'int'>
2018-02-23 02:55:04,361 - DEBUG - Disconnected from IBController
2018-02-23 02:55:04,362 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:00:00,266 - DEBUG - ****************************************************
2018-02-23 03:00:00,266 - DEBUG - Current Time is 03:00AM
2018-02-23 03:00:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:00:00,266 - DEBUG - Connecting to database
2018-02-23 03:00:00,326 - DEBUG - Connected to database
2018-02-23 03:00:00,326 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:00,332 - DEBUG - Order Profit is 226
2018-02-23 03:00:00,332 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:00,335 - DEBUG - Stop ID is 0
2018-02-23 03:00:00,335 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:00,335 - DEBUG - Entry ID is 226
2018-02-23 03:00:00,335 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:00:00,338 - DEBUG - OCA ID is 1
2018-02-23 03:00:00,338 - DEBUG - Connecting to IBController
2018-02-23 03:00:01,349 - DEBUG - Connected to IBController
2018-02-23 03:00:01,349 - DEBUG - Position requested
2018-02-23 03:00:01,351 - DEBUG - Pos Mgmt -12987
2018-02-23 03:00:01,351 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020FCDD8>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:00:01,352 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:00:01,352 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:00:01,352 - DEBUG - Position is -12987
2018-02-23 03:00:02,351 - DEBUG - Open Orders requested
2018-02-23 03:00:02,352 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020FCC18>, order=<ib.ext.Order.Order object at 0x00000000020FCBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002191080>>
2018-02-23 03:00:02,354 - DEBUG - Order OrderID 225
2018-02-23 03:00:02,354 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:00:02,355 - DEBUG - Order status PreSubmitted
2018-02-23 03:00:02,355 - DEBUG - Order Identification 225
2018-02-23 03:00:02,355 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:00:02,355 - DEBUG - Profit ID from database is 226
2018-02-23 03:00:02,355 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:00:02,355 - DEBUG - Stop ID database is 0
2018-02-23 03:00:02,355 - DEBUG - Entry ID database is 226
2018-02-23 03:00:04,351 - DEBUG - Connecting to database
2018-02-23 03:00:04,358 - DEBUG - Connected to database
2018-02-23 03:00:04,361 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,361 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:00:04,362 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,362 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:00:04,364 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,365 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:00:04,365 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,365 - DEBUG - Stop quantity 1
2018-02-23 03:00:04,368 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,368 - DEBUG - Direction is Short
2018-02-23 03:00:04,369 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,369 - DEBUG - Count is 0
2018-02-23 03:00:04,371 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:00:04,371 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:00:04,372 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:00:04,372 - DEBUG - Max ID Order is (226,)
2018-02-23 03:00:04,374 - DEBUG - Today is 2018-02-23
2018-02-23 03:00:04,374 - DEBUG - Day of the week 4
2018-02-23 03:00:04,375 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:00:04,375 - DEBUG - In Position is  0
2018-02-23 03:00:04,375 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:00:04,375 - DEBUG - curStopLossFlag is  0
2018-02-23 03:00:04,375 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:00:04,375 - DEBUG - Checking if Entry has been filled
2018-02-23 03:00:04,375 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:00:04,377 - DEBUG - EntryPend is 1
2018-02-23 03:00:04,377 - DEBUG - Try to Cancel Stop
2018-02-23 03:00:04,378 - DEBUG - Stop API ID 0
2018-02-23 03:00:04,378 - DEBUG - Profit API ID 0
2018-02-23 03:00:04,378 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:00:04,378 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:00:04,378 - DEBUG - Pos is 0
2018-02-23 03:00:04,378 - DEBUG - CurCount is 0
2018-02-23 03:00:04,378 - DEBUG - In Pos 0
2018-02-23 03:00:04,378 - DEBUG - Stop ID is 0
2018-02-23 03:00:04,380 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:00:04,381 - DEBUG - EntryPend is 1
2018-02-23 03:00:04,381 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:00:04,381 - DEBUG - Entry Date is 10
2018-02-23 03:00:04,381 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:00:04,381 - DEBUG - Order Profit ID is 226
2018-02-23 03:00:04,381 - DEBUG - Order Entry ID is 226
2018-02-23 03:00:04,382 - DEBUG - API ID is  0
2018-02-23 03:00:04,382 - DEBUG - Current Position is 0
2018-02-23 03:00:04,382 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:00:04,382 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:00:04,382 - DEBUG - Time is 3
2018-02-23 03:00:04,384 - DEBUG - Time is <class 'int'>
2018-02-23 03:00:04,384 - DEBUG - Disconnected from IBController
2018-02-23 03:00:04,384 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:05:00,273 - DEBUG - ****************************************************
2018-02-23 03:05:00,273 - DEBUG - Current Time is 03:05AM
2018-02-23 03:05:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:05:00,275 - DEBUG - Connecting to database
2018-02-23 03:05:00,306 - DEBUG - Connected to database
2018-02-23 03:05:00,308 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:00,309 - DEBUG - Order Profit is 226
2018-02-23 03:05:00,309 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:00,311 - DEBUG - Stop ID is 0
2018-02-23 03:05:00,311 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:00,312 - DEBUG - Entry ID is 226
2018-02-23 03:05:00,312 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:05:00,313 - DEBUG - OCA ID is 1
2018-02-23 03:05:00,315 - DEBUG - Connecting to IBController
2018-02-23 03:05:01,321 - DEBUG - Connected to IBController
2018-02-23 03:05:01,321 - DEBUG - Position requested
2018-02-23 03:05:01,325 - DEBUG - Pos Mgmt -12987
2018-02-23 03:05:01,325 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:05:01,325 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:05:01,326 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:05:01,328 - DEBUG - Position is -12987
2018-02-23 03:05:02,325 - DEBUG - Open Orders requested
2018-02-23 03:05:02,328 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DAC8>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F10F0>>
2018-02-23 03:05:02,328 - DEBUG - Order OrderID 225
2018-02-23 03:05:02,328 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:05:02,329 - DEBUG - Order status PreSubmitted
2018-02-23 03:05:02,329 - DEBUG - Order Identification 225
2018-02-23 03:05:02,329 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:05:02,331 - DEBUG - Profit ID from database is 226
2018-02-23 03:05:02,331 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:05:02,331 - DEBUG - Stop ID database is 0
2018-02-23 03:05:02,331 - DEBUG - Entry ID database is 226
2018-02-23 03:05:04,328 - DEBUG - Connecting to database
2018-02-23 03:05:04,335 - DEBUG - Connected to database
2018-02-23 03:05:04,336 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,338 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:05:04,338 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,339 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:05:04,341 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,341 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:05:04,342 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,342 - DEBUG - Stop quantity 1
2018-02-23 03:05:04,344 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,345 - DEBUG - Direction is Short
2018-02-23 03:05:04,345 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,345 - DEBUG - Count is 0
2018-02-23 03:05:04,348 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:05:04,348 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:05:04,348 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:05:04,349 - DEBUG - Max ID Order is (226,)
2018-02-23 03:05:04,349 - DEBUG - Today is 2018-02-23
2018-02-23 03:05:04,349 - DEBUG - Day of the week 4
2018-02-23 03:05:04,351 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:05:04,351 - DEBUG - In Position is  0
2018-02-23 03:05:04,351 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:05:04,351 - DEBUG - curStopLossFlag is  0
2018-02-23 03:05:04,351 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:05:04,351 - DEBUG - Checking if Entry has been filled
2018-02-23 03:05:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:05:04,352 - DEBUG - EntryPend is 1
2018-02-23 03:05:04,354 - DEBUG - Try to Cancel Stop
2018-02-23 03:05:04,354 - DEBUG - Stop API ID 0
2018-02-23 03:05:04,354 - DEBUG - Profit API ID 0
2018-02-23 03:05:04,354 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:05:04,355 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:05:04,355 - DEBUG - Pos is 0
2018-02-23 03:05:04,355 - DEBUG - CurCount is 0
2018-02-23 03:05:04,355 - DEBUG - In Pos 0
2018-02-23 03:05:04,355 - DEBUG - Stop ID is 0
2018-02-23 03:05:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:05:04,357 - DEBUG - EntryPend is 1
2018-02-23 03:05:04,357 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:05:04,358 - DEBUG - Entry Date is 10
2018-02-23 03:05:04,358 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:05:04,358 - DEBUG - Order Profit ID is 226
2018-02-23 03:05:04,358 - DEBUG - Order Entry ID is 226
2018-02-23 03:05:04,358 - DEBUG - API ID is  0
2018-02-23 03:05:04,358 - DEBUG - Current Position is 0
2018-02-23 03:05:04,358 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:05:04,358 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:05:04,359 - DEBUG - Time is 3
2018-02-23 03:05:04,359 - DEBUG - Time is <class 'int'>
2018-02-23 03:05:04,359 - DEBUG - Disconnected from IBController
2018-02-23 03:05:04,361 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:10:00,273 - DEBUG - ****************************************************
2018-02-23 03:10:00,275 - DEBUG - Current Time is 03:10AM
2018-02-23 03:10:00,275 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:10:00,275 - DEBUG - Connecting to database
2018-02-23 03:10:00,296 - DEBUG - Connected to database
2018-02-23 03:10:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:00,299 - DEBUG - Order Profit is 226
2018-02-23 03:10:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:00,301 - DEBUG - Stop ID is 0
2018-02-23 03:10:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:00,302 - DEBUG - Entry ID is 226
2018-02-23 03:10:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:10:00,303 - DEBUG - OCA ID is 1
2018-02-23 03:10:00,303 - DEBUG - Connecting to IBController
2018-02-23 03:10:01,309 - DEBUG - Connected to IBController
2018-02-23 03:10:01,309 - DEBUG - Position requested
2018-02-23 03:10:01,332 - DEBUG - Pos Mgmt -12987
2018-02-23 03:10:01,332 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000205DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:10:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:10:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:10:01,334 - DEBUG - Position is -12987
2018-02-23 03:10:02,311 - DEBUG - Open Orders requested
2018-02-23 03:10:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000205DC50>, order=<ib.ext.Order.Order object at 0x000000000205DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020F1080>>
2018-02-23 03:10:02,313 - DEBUG - Order OrderID 225
2018-02-23 03:10:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:10:02,315 - DEBUG - Order status PreSubmitted
2018-02-23 03:10:02,315 - DEBUG - Order Identification 225
2018-02-23 03:10:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:10:02,322 - DEBUG - Profit ID from database is 226
2018-02-23 03:10:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:10:02,323 - DEBUG - Stop ID database is 0
2018-02-23 03:10:02,323 - DEBUG - Entry ID database is 226
2018-02-23 03:10:04,312 - DEBUG - Connecting to database
2018-02-23 03:10:04,319 - DEBUG - Connected to database
2018-02-23 03:10:04,321 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,322 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:10:04,322 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,323 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:10:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,325 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:10:04,326 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,326 - DEBUG - Stop quantity 1
2018-02-23 03:10:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,328 - DEBUG - Direction is Short
2018-02-23 03:10:04,329 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,329 - DEBUG - Count is 0
2018-02-23 03:10:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:10:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:10:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:10:04,334 - DEBUG - Max ID Order is (226,)
2018-02-23 03:10:04,334 - DEBUG - Today is 2018-02-23
2018-02-23 03:10:04,335 - DEBUG - Day of the week 4
2018-02-23 03:10:04,335 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:10:04,335 - DEBUG - In Position is  0
2018-02-23 03:10:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:10:04,335 - DEBUG - curStopLossFlag is  0
2018-02-23 03:10:04,335 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:10:04,335 - DEBUG - Checking if Entry has been filled
2018-02-23 03:10:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:10:04,338 - DEBUG - EntryPend is 1
2018-02-23 03:10:04,338 - DEBUG - Try to Cancel Stop
2018-02-23 03:10:04,338 - DEBUG - Stop API ID 0
2018-02-23 03:10:04,338 - DEBUG - Profit API ID 0
2018-02-23 03:10:04,338 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:10:04,338 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:10:04,338 - DEBUG - Pos is 0
2018-02-23 03:10:04,338 - DEBUG - CurCount is 0
2018-02-23 03:10:04,338 - DEBUG - In Pos 0
2018-02-23 03:10:04,339 - DEBUG - Stop ID is 0
2018-02-23 03:10:04,339 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:10:04,341 - DEBUG - EntryPend is 1
2018-02-23 03:10:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:10:04,342 - DEBUG - Entry Date is 10
2018-02-23 03:10:04,342 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:10:04,342 - DEBUG - Order Profit ID is 226
2018-02-23 03:10:04,342 - DEBUG - Order Entry ID is 226
2018-02-23 03:10:04,342 - DEBUG - API ID is  0
2018-02-23 03:10:04,342 - DEBUG - Current Position is 0
2018-02-23 03:10:04,342 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:10:04,342 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:10:04,342 - DEBUG - Time is 3
2018-02-23 03:10:04,344 - DEBUG - Time is <class 'int'>
2018-02-23 03:10:04,344 - DEBUG - Disconnected from IBController
2018-02-23 03:10:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:15:00,266 - DEBUG - ****************************************************
2018-02-23 03:15:00,266 - DEBUG - Current Time is 03:15AM
2018-02-23 03:15:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:15:00,266 - DEBUG - Connecting to database
2018-02-23 03:15:00,295 - DEBUG - Connected to database
2018-02-23 03:15:00,295 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:00,296 - DEBUG - Order Profit is 226
2018-02-23 03:15:00,296 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:00,299 - DEBUG - Stop ID is 0
2018-02-23 03:15:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:00,299 - DEBUG - Entry ID is 226
2018-02-23 03:15:00,299 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:15:00,302 - DEBUG - OCA ID is 1
2018-02-23 03:15:00,302 - DEBUG - Connecting to IBController
2018-02-23 03:15:01,308 - DEBUG - Connected to IBController
2018-02-23 03:15:01,308 - DEBUG - Position requested
2018-02-23 03:15:01,311 - DEBUG - Pos Mgmt -12987
2018-02-23 03:15:01,311 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020DCDD8>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:15:01,312 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:15:01,312 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:15:01,312 - DEBUG - Position is -12987
2018-02-23 03:15:02,311 - DEBUG - Open Orders requested
2018-02-23 03:15:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020DCA20>, order=<ib.ext.Order.Order object at 0x00000000020DCC88>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021720F0>>
2018-02-23 03:15:02,313 - DEBUG - Order OrderID 225
2018-02-23 03:15:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:15:02,315 - DEBUG - Order status PreSubmitted
2018-02-23 03:15:02,315 - DEBUG - Order Identification 225
2018-02-23 03:15:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:15:02,315 - DEBUG - Profit ID from database is 226
2018-02-23 03:15:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:15:02,315 - DEBUG - Stop ID database is 0
2018-02-23 03:15:02,316 - DEBUG - Entry ID database is 226
2018-02-23 03:15:04,313 - DEBUG - Connecting to database
2018-02-23 03:15:04,321 - DEBUG - Connected to database
2018-02-23 03:15:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,322 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:15:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,325 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:15:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,326 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:15:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,328 - DEBUG - Stop quantity 1
2018-02-23 03:15:04,329 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,329 - DEBUG - Direction is Short
2018-02-23 03:15:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,332 - DEBUG - Count is 0
2018-02-23 03:15:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:15:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:15:04,335 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:15:04,335 - DEBUG - Max ID Order is (226,)
2018-02-23 03:15:04,335 - DEBUG - Today is 2018-02-23
2018-02-23 03:15:04,335 - DEBUG - Day of the week 4
2018-02-23 03:15:04,336 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:15:04,336 - DEBUG - In Position is  0
2018-02-23 03:15:04,336 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:15:04,336 - DEBUG - curStopLossFlag is  0
2018-02-23 03:15:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:15:04,338 - DEBUG - Checking if Entry has been filled
2018-02-23 03:15:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:15:04,338 - DEBUG - EntryPend is 1
2018-02-23 03:15:04,339 - DEBUG - Try to Cancel Stop
2018-02-23 03:15:04,339 - DEBUG - Stop API ID 0
2018-02-23 03:15:04,339 - DEBUG - Profit API ID 0
2018-02-23 03:15:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:15:04,341 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:15:04,341 - DEBUG - Pos is 0
2018-02-23 03:15:04,341 - DEBUG - CurCount is 0
2018-02-23 03:15:04,341 - DEBUG - In Pos 0
2018-02-23 03:15:04,341 - DEBUG - Stop ID is 0
2018-02-23 03:15:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:15:04,345 - DEBUG - EntryPend is 1
2018-02-23 03:15:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:15:04,346 - DEBUG - Entry Date is 10
2018-02-23 03:15:04,346 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:15:04,346 - DEBUG - Order Profit ID is 226
2018-02-23 03:15:04,346 - DEBUG - Order Entry ID is 226
2018-02-23 03:15:04,348 - DEBUG - API ID is  0
2018-02-23 03:15:04,348 - DEBUG - Current Position is 0
2018-02-23 03:15:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:15:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:15:04,348 - DEBUG - Time is 3
2018-02-23 03:15:04,348 - DEBUG - Time is <class 'int'>
2018-02-23 03:15:04,348 - DEBUG - Disconnected from IBController
2018-02-23 03:15:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:20:00,272 - DEBUG - ****************************************************
2018-02-23 03:20:00,272 - DEBUG - Current Time is 03:20AM
2018-02-23 03:20:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:20:00,273 - DEBUG - Connecting to database
2018-02-23 03:20:00,289 - DEBUG - Connected to database
2018-02-23 03:20:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:00,290 - DEBUG - Order Profit is 226
2018-02-23 03:20:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:00,292 - DEBUG - Stop ID is 0
2018-02-23 03:20:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:00,295 - DEBUG - Entry ID is 226
2018-02-23 03:20:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:20:00,296 - DEBUG - OCA ID is 1
2018-02-23 03:20:00,296 - DEBUG - Connecting to IBController
2018-02-23 03:20:01,312 - DEBUG - Connected to IBController
2018-02-23 03:20:01,312 - DEBUG - Position requested
2018-02-23 03:20:01,315 - DEBUG - Pos Mgmt -12987
2018-02-23 03:20:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:20:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:20:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:20:01,315 - DEBUG - Position is -12987
2018-02-23 03:20:02,312 - DEBUG - Open Orders requested
2018-02-23 03:20:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DBA8>, order=<ib.ext.Order.Order object at 0x000000000208DC88>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121080>>
2018-02-23 03:20:02,321 - DEBUG - Order OrderID 225
2018-02-23 03:20:02,322 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:20:02,322 - DEBUG - Order status PreSubmitted
2018-02-23 03:20:02,322 - DEBUG - Order Identification 225
2018-02-23 03:20:02,322 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:20:02,322 - DEBUG - Profit ID from database is 226
2018-02-23 03:20:02,322 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:20:02,322 - DEBUG - Stop ID database is 0
2018-02-23 03:20:02,322 - DEBUG - Entry ID database is 226
2018-02-23 03:20:04,313 - DEBUG - Connecting to database
2018-02-23 03:20:04,321 - DEBUG - Connected to database
2018-02-23 03:20:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,322 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:20:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,325 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:20:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,325 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:20:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,328 - DEBUG - Stop quantity 1
2018-02-23 03:20:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,329 - DEBUG - Direction is Short
2018-02-23 03:20:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,331 - DEBUG - Count is 0
2018-02-23 03:20:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:20:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:20:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:20:04,335 - DEBUG - Max ID Order is (226,)
2018-02-23 03:20:04,335 - DEBUG - Today is 2018-02-23
2018-02-23 03:20:04,335 - DEBUG - Day of the week 4
2018-02-23 03:20:04,335 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:20:04,335 - DEBUG - In Position is  0
2018-02-23 03:20:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:20:04,336 - DEBUG - curStopLossFlag is  0
2018-02-23 03:20:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:20:04,336 - DEBUG - Checking if Entry has been filled
2018-02-23 03:20:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:20:04,338 - DEBUG - EntryPend is 1
2018-02-23 03:20:04,338 - DEBUG - Try to Cancel Stop
2018-02-23 03:20:04,338 - DEBUG - Stop API ID 0
2018-02-23 03:20:04,338 - DEBUG - Profit API ID 0
2018-02-23 03:20:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:20:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:20:04,339 - DEBUG - Pos is 0
2018-02-23 03:20:04,339 - DEBUG - CurCount is 0
2018-02-23 03:20:04,339 - DEBUG - In Pos 0
2018-02-23 03:20:04,341 - DEBUG - Stop ID is 0
2018-02-23 03:20:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:20:04,342 - DEBUG - EntryPend is 1
2018-02-23 03:20:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:20:04,342 - DEBUG - Entry Date is 10
2018-02-23 03:20:04,342 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:20:04,342 - DEBUG - Order Profit ID is 226
2018-02-23 03:20:04,342 - DEBUG - Order Entry ID is 226
2018-02-23 03:20:04,344 - DEBUG - API ID is  0
2018-02-23 03:20:04,344 - DEBUG - Current Position is 0
2018-02-23 03:20:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:20:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:20:04,345 - DEBUG - Time is 3
2018-02-23 03:20:04,345 - DEBUG - Time is <class 'int'>
2018-02-23 03:20:04,345 - DEBUG - Disconnected from IBController
2018-02-23 03:20:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:25:00,270 - DEBUG - ****************************************************
2018-02-23 03:25:00,270 - DEBUG - Current Time is 03:25AM
2018-02-23 03:25:00,272 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:25:00,272 - DEBUG - Connecting to database
2018-02-23 03:25:00,289 - DEBUG - Connected to database
2018-02-23 03:25:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:00,290 - DEBUG - Order Profit is 226
2018-02-23 03:25:00,290 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:00,292 - DEBUG - Stop ID is 0
2018-02-23 03:25:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:00,293 - DEBUG - Entry ID is 226
2018-02-23 03:25:00,293 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:25:00,295 - DEBUG - OCA ID is 1
2018-02-23 03:25:00,296 - DEBUG - Connecting to IBController
2018-02-23 03:25:01,312 - DEBUG - Connected to IBController
2018-02-23 03:25:01,312 - DEBUG - Position requested
2018-02-23 03:25:01,313 - DEBUG - Pos Mgmt -12987
2018-02-23 03:25:01,313 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020BDB00>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:25:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:25:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:25:01,315 - DEBUG - Position is -12987
2018-02-23 03:25:02,313 - DEBUG - Open Orders requested
2018-02-23 03:25:02,315 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020BDC18>, order=<ib.ext.Order.Order object at 0x00000000020BDD68>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021510F0>>
2018-02-23 03:25:02,316 - DEBUG - Order OrderID 225
2018-02-23 03:25:02,316 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:25:02,319 - DEBUG - Order status PreSubmitted
2018-02-23 03:25:02,319 - DEBUG - Order Identification 225
2018-02-23 03:25:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:25:02,319 - DEBUG - Profit ID from database is 226
2018-02-23 03:25:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:25:02,319 - DEBUG - Stop ID database is 0
2018-02-23 03:25:02,319 - DEBUG - Entry ID database is 226
2018-02-23 03:25:04,316 - DEBUG - Connecting to database
2018-02-23 03:25:04,323 - DEBUG - Connected to database
2018-02-23 03:25:04,325 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,325 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:25:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,328 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:25:04,328 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,329 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:25:04,331 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,331 - DEBUG - Stop quantity 1
2018-02-23 03:25:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,332 - DEBUG - Direction is Short
2018-02-23 03:25:04,334 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,335 - DEBUG - Count is 0
2018-02-23 03:25:04,335 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:25:04,335 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:25:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:25:04,338 - DEBUG - Max ID Order is (226,)
2018-02-23 03:25:04,338 - DEBUG - Today is 2018-02-23
2018-02-23 03:25:04,338 - DEBUG - Day of the week 4
2018-02-23 03:25:04,338 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:25:04,338 - DEBUG - In Position is  0
2018-02-23 03:25:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:25:04,339 - DEBUG - curStopLossFlag is  0
2018-02-23 03:25:04,339 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:25:04,339 - DEBUG - Checking if Entry has been filled
2018-02-23 03:25:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:25:04,342 - DEBUG - EntryPend is 1
2018-02-23 03:25:04,342 - DEBUG - Try to Cancel Stop
2018-02-23 03:25:04,342 - DEBUG - Stop API ID 0
2018-02-23 03:25:04,342 - DEBUG - Profit API ID 0
2018-02-23 03:25:04,342 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:25:04,342 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:25:04,342 - DEBUG - Pos is 0
2018-02-23 03:25:04,344 - DEBUG - CurCount is 0
2018-02-23 03:25:04,344 - DEBUG - In Pos 0
2018-02-23 03:25:04,344 - DEBUG - Stop ID is 0
2018-02-23 03:25:04,344 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:25:04,345 - DEBUG - EntryPend is 1
2018-02-23 03:25:04,345 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:25:04,345 - DEBUG - Entry Date is 10
2018-02-23 03:25:04,345 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:25:04,346 - DEBUG - Order Profit ID is 226
2018-02-23 03:25:04,346 - DEBUG - Order Entry ID is 226
2018-02-23 03:25:04,346 - DEBUG - API ID is  0
2018-02-23 03:25:04,346 - DEBUG - Current Position is 0
2018-02-23 03:25:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:25:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:25:04,348 - DEBUG - Time is 3
2018-02-23 03:25:04,348 - DEBUG - Time is <class 'int'>
2018-02-23 03:25:04,348 - DEBUG - Disconnected from IBController
2018-02-23 03:25:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:30:00,263 - DEBUG - ****************************************************
2018-02-23 03:30:00,263 - DEBUG - Current Time is 03:30AM
2018-02-23 03:30:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:30:00,263 - DEBUG - Connecting to database
2018-02-23 03:30:00,289 - DEBUG - Connected to database
2018-02-23 03:30:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:00,292 - DEBUG - Order Profit is 226
2018-02-23 03:30:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:00,293 - DEBUG - Stop ID is 0
2018-02-23 03:30:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:00,296 - DEBUG - Entry ID is 226
2018-02-23 03:30:00,296 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:30:00,296 - DEBUG - OCA ID is 1
2018-02-23 03:30:00,298 - DEBUG - Connecting to IBController
2018-02-23 03:30:01,312 - DEBUG - Connected to IBController
2018-02-23 03:30:01,312 - DEBUG - Position requested
2018-02-23 03:30:01,315 - DEBUG - Pos Mgmt -12987
2018-02-23 03:30:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:30:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:30:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:30:01,316 - DEBUG - Position is -12987
2018-02-23 03:30:02,312 - DEBUG - Open Orders requested
2018-02-23 03:30:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DC50>, order=<ib.ext.Order.Order object at 0x000000000204DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1080>>
2018-02-23 03:30:02,322 - DEBUG - Order OrderID 225
2018-02-23 03:30:02,323 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:30:02,323 - DEBUG - Order status PreSubmitted
2018-02-23 03:30:02,323 - DEBUG - Order Identification 225
2018-02-23 03:30:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:30:02,325 - DEBUG - Profit ID from database is 226
2018-02-23 03:30:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:30:02,325 - DEBUG - Stop ID database is 0
2018-02-23 03:30:02,325 - DEBUG - Entry ID database is 226
2018-02-23 03:30:04,322 - DEBUG - Connecting to database
2018-02-23 03:30:04,328 - DEBUG - Connected to database
2018-02-23 03:30:04,329 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,331 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:30:04,332 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,332 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:30:04,334 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,334 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:30:04,336 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,336 - DEBUG - Stop quantity 1
2018-02-23 03:30:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,338 - DEBUG - Direction is Short
2018-02-23 03:30:04,339 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,341 - DEBUG - Count is 0
2018-02-23 03:30:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:30:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:30:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:30:04,344 - DEBUG - Max ID Order is (226,)
2018-02-23 03:30:04,344 - DEBUG - Today is 2018-02-23
2018-02-23 03:30:04,345 - DEBUG - Day of the week 4
2018-02-23 03:30:04,345 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:30:04,345 - DEBUG - In Position is  0
2018-02-23 03:30:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:30:04,345 - DEBUG - curStopLossFlag is  0
2018-02-23 03:30:04,345 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:30:04,345 - DEBUG - Checking if Entry has been filled
2018-02-23 03:30:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:30:04,348 - DEBUG - EntryPend is 1
2018-02-23 03:30:04,348 - DEBUG - Try to Cancel Stop
2018-02-23 03:30:04,348 - DEBUG - Stop API ID 0
2018-02-23 03:30:04,348 - DEBUG - Profit API ID 0
2018-02-23 03:30:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:30:04,348 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:30:04,348 - DEBUG - Pos is 0
2018-02-23 03:30:04,348 - DEBUG - CurCount is 0
2018-02-23 03:30:04,349 - DEBUG - In Pos 0
2018-02-23 03:30:04,349 - DEBUG - Stop ID is 0
2018-02-23 03:30:04,349 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:30:04,351 - DEBUG - EntryPend is 1
2018-02-23 03:30:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:30:04,351 - DEBUG - Entry Date is 10
2018-02-23 03:30:04,351 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:30:04,351 - DEBUG - Order Profit ID is 226
2018-02-23 03:30:04,351 - DEBUG - Order Entry ID is 226
2018-02-23 03:30:04,352 - DEBUG - API ID is  0
2018-02-23 03:30:04,352 - DEBUG - Current Position is 0
2018-02-23 03:30:04,352 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:30:04,352 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:30:04,354 - DEBUG - Time is 3
2018-02-23 03:30:04,354 - DEBUG - Time is <class 'int'>
2018-02-23 03:30:04,354 - DEBUG - Disconnected from IBController
2018-02-23 03:30:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:35:00,266 - DEBUG - ****************************************************
2018-02-23 03:35:00,266 - DEBUG - Current Time is 03:35AM
2018-02-23 03:35:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:35:00,267 - DEBUG - Connecting to database
2018-02-23 03:35:00,292 - DEBUG - Connected to database
2018-02-23 03:35:00,292 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:00,293 - DEBUG - Order Profit is 226
2018-02-23 03:35:00,295 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:00,296 - DEBUG - Stop ID is 0
2018-02-23 03:35:00,296 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:00,298 - DEBUG - Entry ID is 226
2018-02-23 03:35:00,298 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:35:00,299 - DEBUG - OCA ID is 1
2018-02-23 03:35:00,299 - DEBUG - Connecting to IBController
2018-02-23 03:35:01,306 - DEBUG - Connected to IBController
2018-02-23 03:35:01,306 - DEBUG - Position requested
2018-02-23 03:35:01,309 - DEBUG - Pos Mgmt -12987
2018-02-23 03:35:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000206DB00>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:35:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:35:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:35:01,311 - DEBUG - Position is -12987
2018-02-23 03:35:02,309 - DEBUG - Open Orders requested
2018-02-23 03:35:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000206DCC0>, order=<ib.ext.Order.Order object at 0x000000000206DDA0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002101080>>
2018-02-23 03:35:02,313 - DEBUG - Order OrderID 225
2018-02-23 03:35:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:35:02,315 - DEBUG - Order status PreSubmitted
2018-02-23 03:35:02,315 - DEBUG - Order Identification 225
2018-02-23 03:35:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:35:02,315 - DEBUG - Profit ID from database is 226
2018-02-23 03:35:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:35:02,316 - DEBUG - Stop ID database is 0
2018-02-23 03:35:02,316 - DEBUG - Entry ID database is 226
2018-02-23 03:35:04,311 - DEBUG - Connecting to database
2018-02-23 03:35:04,318 - DEBUG - Connected to database
2018-02-23 03:35:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,319 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:35:04,321 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,322 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:35:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,323 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:35:04,325 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,325 - DEBUG - Stop quantity 1
2018-02-23 03:35:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,326 - DEBUG - Direction is Short
2018-02-23 03:35:04,328 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,328 - DEBUG - Count is 0
2018-02-23 03:35:04,329 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:35:04,329 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:35:04,332 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:35:04,332 - DEBUG - Max ID Order is (226,)
2018-02-23 03:35:04,332 - DEBUG - Today is 2018-02-23
2018-02-23 03:35:04,332 - DEBUG - Day of the week 4
2018-02-23 03:35:04,332 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:35:04,332 - DEBUG - In Position is  0
2018-02-23 03:35:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:35:04,334 - DEBUG - curStopLossFlag is  0
2018-02-23 03:35:04,334 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:35:04,334 - DEBUG - Checking if Entry has been filled
2018-02-23 03:35:04,334 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:35:04,335 - DEBUG - EntryPend is 1
2018-02-23 03:35:04,335 - DEBUG - Try to Cancel Stop
2018-02-23 03:35:04,335 - DEBUG - Stop API ID 0
2018-02-23 03:35:04,335 - DEBUG - Profit API ID 0
2018-02-23 03:35:04,336 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:35:04,336 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:35:04,336 - DEBUG - Pos is 0
2018-02-23 03:35:04,336 - DEBUG - CurCount is 0
2018-02-23 03:35:04,338 - DEBUG - In Pos 0
2018-02-23 03:35:04,338 - DEBUG - Stop ID is 0
2018-02-23 03:35:04,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:35:04,338 - DEBUG - EntryPend is 1
2018-02-23 03:35:04,339 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:35:04,339 - DEBUG - Entry Date is 10
2018-02-23 03:35:04,339 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:35:04,339 - DEBUG - Order Profit ID is 226
2018-02-23 03:35:04,341 - DEBUG - Order Entry ID is 226
2018-02-23 03:35:04,341 - DEBUG - API ID is  0
2018-02-23 03:35:04,341 - DEBUG - Current Position is 0
2018-02-23 03:35:04,341 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:35:04,341 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:35:04,342 - DEBUG - Time is 3
2018-02-23 03:35:04,342 - DEBUG - Time is <class 'int'>
2018-02-23 03:35:04,342 - DEBUG - Disconnected from IBController
2018-02-23 03:35:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:40:00,266 - DEBUG - ****************************************************
2018-02-23 03:40:00,266 - DEBUG - Current Time is 03:40AM
2018-02-23 03:40:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:40:00,267 - DEBUG - Connecting to database
2018-02-23 03:40:00,312 - DEBUG - Connected to database
2018-02-23 03:40:00,312 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:00,313 - DEBUG - Order Profit is 226
2018-02-23 03:40:00,315 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:00,315 - DEBUG - Stop ID is 0
2018-02-23 03:40:00,315 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:00,318 - DEBUG - Entry ID is 226
2018-02-23 03:40:00,318 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:40:00,319 - DEBUG - OCA ID is 1
2018-02-23 03:40:00,319 - DEBUG - Connecting to IBController
2018-02-23 03:40:01,326 - DEBUG - Connected to IBController
2018-02-23 03:40:01,326 - DEBUG - Position requested
2018-02-23 03:40:01,328 - DEBUG - Pos Mgmt -12987
2018-02-23 03:40:01,329 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:40:01,329 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:40:01,329 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:40:01,331 - DEBUG - Position is -12987
2018-02-23 03:40:02,328 - DEBUG - Open Orders requested
2018-02-23 03:40:02,332 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021210F0>>
2018-02-23 03:40:02,332 - DEBUG - Order OrderID 225
2018-02-23 03:40:02,332 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:40:02,332 - DEBUG - Order status PreSubmitted
2018-02-23 03:40:02,334 - DEBUG - Order Identification 225
2018-02-23 03:40:02,334 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:40:02,334 - DEBUG - Profit ID from database is 226
2018-02-23 03:40:02,334 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:40:02,335 - DEBUG - Stop ID database is 0
2018-02-23 03:40:02,335 - DEBUG - Entry ID database is 226
2018-02-23 03:40:04,332 - DEBUG - Connecting to database
2018-02-23 03:40:04,338 - DEBUG - Connected to database
2018-02-23 03:40:04,341 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,341 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:40:04,342 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,342 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:40:04,345 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,345 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:40:04,345 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,346 - DEBUG - Stop quantity 1
2018-02-23 03:40:04,348 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,348 - DEBUG - Direction is Short
2018-02-23 03:40:04,349 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,349 - DEBUG - Count is 0
2018-02-23 03:40:04,351 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:40:04,351 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:40:04,352 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:40:04,352 - DEBUG - Max ID Order is (226,)
2018-02-23 03:40:04,354 - DEBUG - Today is 2018-02-23
2018-02-23 03:40:04,354 - DEBUG - Day of the week 4
2018-02-23 03:40:04,354 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:40:04,355 - DEBUG - In Position is  0
2018-02-23 03:40:04,355 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:40:04,355 - DEBUG - curStopLossFlag is  0
2018-02-23 03:40:04,355 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:40:04,355 - DEBUG - Checking if Entry has been filled
2018-02-23 03:40:04,355 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:40:04,357 - DEBUG - EntryPend is 1
2018-02-23 03:40:04,357 - DEBUG - Try to Cancel Stop
2018-02-23 03:40:04,358 - DEBUG - Stop API ID 0
2018-02-23 03:40:04,358 - DEBUG - Profit API ID 0
2018-02-23 03:40:04,358 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:40:04,358 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:40:04,358 - DEBUG - Pos is 0
2018-02-23 03:40:04,358 - DEBUG - CurCount is 0
2018-02-23 03:40:04,358 - DEBUG - In Pos 0
2018-02-23 03:40:04,358 - DEBUG - Stop ID is 0
2018-02-23 03:40:04,358 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:40:04,361 - DEBUG - EntryPend is 1
2018-02-23 03:40:04,361 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:40:04,361 - DEBUG - Entry Date is 10
2018-02-23 03:40:04,361 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:40:04,361 - DEBUG - Order Profit ID is 226
2018-02-23 03:40:04,361 - DEBUG - Order Entry ID is 226
2018-02-23 03:40:04,361 - DEBUG - API ID is  0
2018-02-23 03:40:04,362 - DEBUG - Current Position is 0
2018-02-23 03:40:04,362 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:40:04,362 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:40:04,362 - DEBUG - Time is 3
2018-02-23 03:40:04,362 - DEBUG - Time is <class 'int'>
2018-02-23 03:40:04,364 - DEBUG - Disconnected from IBController
2018-02-23 03:40:04,364 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:45:00,263 - DEBUG - ****************************************************
2018-02-23 03:45:00,263 - DEBUG - Current Time is 03:45AM
2018-02-23 03:45:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:45:00,263 - DEBUG - Connecting to database
2018-02-23 03:45:00,288 - DEBUG - Connected to database
2018-02-23 03:45:00,288 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:00,289 - DEBUG - Order Profit is 226
2018-02-23 03:45:00,289 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:00,290 - DEBUG - Stop ID is 0
2018-02-23 03:45:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:00,292 - DEBUG - Entry ID is 226
2018-02-23 03:45:00,292 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:45:00,295 - DEBUG - OCA ID is 1
2018-02-23 03:45:00,295 - DEBUG - Connecting to IBController
2018-02-23 03:45:01,301 - DEBUG - Connected to IBController
2018-02-23 03:45:01,302 - DEBUG - Position requested
2018-02-23 03:45:01,302 - DEBUG - Pos Mgmt -12987
2018-02-23 03:45:01,302 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000207CCF8>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:45:01,303 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:45:01,303 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:45:01,303 - DEBUG - Position is -12987
2018-02-23 03:45:02,302 - DEBUG - Open Orders requested
2018-02-23 03:45:02,312 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000207CC50>, order=<ib.ext.Order.Order object at 0x000000000207CCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002112080>>
2018-02-23 03:45:02,313 - DEBUG - Order OrderID 225
2018-02-23 03:45:02,315 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:45:02,315 - DEBUG - Order status PreSubmitted
2018-02-23 03:45:02,315 - DEBUG - Order Identification 225
2018-02-23 03:45:02,315 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:45:02,315 - DEBUG - Profit ID from database is 226
2018-02-23 03:45:02,315 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:45:02,316 - DEBUG - Stop ID database is 0
2018-02-23 03:45:02,316 - DEBUG - Entry ID database is 226
2018-02-23 03:45:04,302 - DEBUG - Connecting to database
2018-02-23 03:45:04,309 - DEBUG - Connected to database
2018-02-23 03:45:04,311 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,311 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:45:04,312 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,312 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:45:04,318 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,319 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:45:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,332 - DEBUG - Stop quantity 1
2018-02-23 03:45:04,332 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,334 - DEBUG - Direction is Short
2018-02-23 03:45:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,335 - DEBUG - Count is 0
2018-02-23 03:45:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:45:04,336 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:45:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:45:04,338 - DEBUG - Max ID Order is (226,)
2018-02-23 03:45:04,338 - DEBUG - Today is 2018-02-23
2018-02-23 03:45:04,339 - DEBUG - Day of the week 4
2018-02-23 03:45:04,339 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:45:04,339 - DEBUG - In Position is  0
2018-02-23 03:45:04,339 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:45:04,341 - DEBUG - curStopLossFlag is  0
2018-02-23 03:45:04,341 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:45:04,341 - DEBUG - Checking if Entry has been filled
2018-02-23 03:45:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:45:04,342 - DEBUG - EntryPend is 1
2018-02-23 03:45:04,342 - DEBUG - Try to Cancel Stop
2018-02-23 03:45:04,342 - DEBUG - Stop API ID 0
2018-02-23 03:45:04,342 - DEBUG - Profit API ID 0
2018-02-23 03:45:04,344 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:45:04,344 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:45:04,344 - DEBUG - Pos is 0
2018-02-23 03:45:04,344 - DEBUG - CurCount is 0
2018-02-23 03:45:04,345 - DEBUG - In Pos 0
2018-02-23 03:45:04,345 - DEBUG - Stop ID is 0
2018-02-23 03:45:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:45:04,345 - DEBUG - EntryPend is 1
2018-02-23 03:45:04,346 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:45:04,346 - DEBUG - Entry Date is 10
2018-02-23 03:45:04,346 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:45:04,346 - DEBUG - Order Profit ID is 226
2018-02-23 03:45:04,348 - DEBUG - Order Entry ID is 226
2018-02-23 03:45:04,348 - DEBUG - API ID is  0
2018-02-23 03:45:04,348 - DEBUG - Current Position is 0
2018-02-23 03:45:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:45:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:45:04,348 - DEBUG - Time is 3
2018-02-23 03:45:04,348 - DEBUG - Time is <class 'int'>
2018-02-23 03:45:04,348 - DEBUG - Disconnected from IBController
2018-02-23 03:45:04,349 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:50:00,263 - DEBUG - ****************************************************
2018-02-23 03:50:00,263 - DEBUG - Current Time is 03:50AM
2018-02-23 03:50:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:50:00,263 - DEBUG - Connecting to database
2018-02-23 03:50:00,296 - DEBUG - Connected to database
2018-02-23 03:50:00,298 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:00,299 - DEBUG - Order Profit is 226
2018-02-23 03:50:00,299 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:00,301 - DEBUG - Stop ID is 0
2018-02-23 03:50:00,301 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:00,302 - DEBUG - Entry ID is 226
2018-02-23 03:50:00,302 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:50:00,303 - DEBUG - OCA ID is 1
2018-02-23 03:50:00,303 - DEBUG - Connecting to IBController
2018-02-23 03:50:01,312 - DEBUG - Connected to IBController
2018-02-23 03:50:01,312 - DEBUG - Position requested
2018-02-23 03:50:01,315 - DEBUG - Pos Mgmt -12987
2018-02-23 03:50:01,315 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000203CDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:50:01,315 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:50:01,315 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:50:01,316 - DEBUG - Position is -12987
2018-02-23 03:50:02,315 - DEBUG - Open Orders requested
2018-02-23 03:50:02,319 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000203CAC8>, order=<ib.ext.Order.Order object at 0x000000000203CBE0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020D10F0>>
2018-02-23 03:50:02,319 - DEBUG - Order OrderID 225
2018-02-23 03:50:02,319 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:50:02,319 - DEBUG - Order status PreSubmitted
2018-02-23 03:50:02,321 - DEBUG - Order Identification 225
2018-02-23 03:50:02,321 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:50:02,321 - DEBUG - Profit ID from database is 226
2018-02-23 03:50:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:50:02,322 - DEBUG - Stop ID database is 0
2018-02-23 03:50:02,322 - DEBUG - Entry ID database is 226
2018-02-23 03:50:04,319 - DEBUG - Connecting to database
2018-02-23 03:50:04,325 - DEBUG - Connected to database
2018-02-23 03:50:04,328 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,328 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:50:04,328 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,329 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:50:04,331 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,331 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:50:04,332 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,332 - DEBUG - Stop quantity 1
2018-02-23 03:50:04,334 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,335 - DEBUG - Direction is Short
2018-02-23 03:50:04,335 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,335 - DEBUG - Count is 0
2018-02-23 03:50:04,336 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:50:04,338 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:50:04,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:50:04,339 - DEBUG - Max ID Order is (226,)
2018-02-23 03:50:04,339 - DEBUG - Today is 2018-02-23
2018-02-23 03:50:04,339 - DEBUG - Day of the week 4
2018-02-23 03:50:04,341 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:50:04,341 - DEBUG - In Position is  0
2018-02-23 03:50:04,341 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:50:04,341 - DEBUG - curStopLossFlag is  0
2018-02-23 03:50:04,342 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:50:04,342 - DEBUG - Checking if Entry has been filled
2018-02-23 03:50:04,342 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:50:04,344 - DEBUG - EntryPend is 1
2018-02-23 03:50:04,344 - DEBUG - Try to Cancel Stop
2018-02-23 03:50:04,344 - DEBUG - Stop API ID 0
2018-02-23 03:50:04,344 - DEBUG - Profit API ID 0
2018-02-23 03:50:04,345 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:50:04,345 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:50:04,345 - DEBUG - Pos is 0
2018-02-23 03:50:04,345 - DEBUG - CurCount is 0
2018-02-23 03:50:04,345 - DEBUG - In Pos 0
2018-02-23 03:50:04,345 - DEBUG - Stop ID is 0
2018-02-23 03:50:04,345 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:50:04,346 - DEBUG - EntryPend is 1
2018-02-23 03:50:04,348 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:50:04,348 - DEBUG - Entry Date is 10
2018-02-23 03:50:04,348 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:50:04,348 - DEBUG - Order Profit ID is 226
2018-02-23 03:50:04,348 - DEBUG - Order Entry ID is 226
2018-02-23 03:50:04,348 - DEBUG - API ID is  0
2018-02-23 03:50:04,348 - DEBUG - Current Position is 0
2018-02-23 03:50:04,348 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:50:04,348 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:50:04,349 - DEBUG - Time is 3
2018-02-23 03:50:04,349 - DEBUG - Time is <class 'int'>
2018-02-23 03:50:04,349 - DEBUG - Disconnected from IBController
2018-02-23 03:50:04,351 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 03:55:00,266 - DEBUG - ****************************************************
2018-02-23 03:55:00,267 - DEBUG - Current Time is 03:55AM
2018-02-23 03:55:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-23 03:55:00,267 - DEBUG - Connecting to database
2018-02-23 03:55:00,299 - DEBUG - Connected to database
2018-02-23 03:55:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:00,302 - DEBUG - Order Profit is 226
2018-02-23 03:55:00,302 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:00,303 - DEBUG - Stop ID is 0
2018-02-23 03:55:00,303 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:00,305 - DEBUG - Entry ID is 226
2018-02-23 03:55:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 03:55:00,306 - DEBUG - OCA ID is 1
2018-02-23 03:55:00,306 - DEBUG - Connecting to IBController
2018-02-23 03:55:01,339 - DEBUG - Connected to IBController
2018-02-23 03:55:01,339 - DEBUG - Position requested
2018-02-23 03:55:01,342 - DEBUG - Pos Mgmt -12987
2018-02-23 03:55:01,342 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 03:55:01,342 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 03:55:01,342 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 03:55:01,342 - DEBUG - Position is -12987
2018-02-23 03:55:02,341 - DEBUG - Open Orders requested
2018-02-23 03:55:02,344 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DAC8>, order=<ib.ext.Order.Order object at 0x000000000208DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021220F0>>
2018-02-23 03:55:02,345 - DEBUG - Order OrderID 225
2018-02-23 03:55:02,345 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 03:55:02,345 - DEBUG - Order status PreSubmitted
2018-02-23 03:55:02,345 - DEBUG - Order Identification 225
2018-02-23 03:55:02,345 - DEBUG - Order Identification <class 'int'>
2018-02-23 03:55:02,346 - DEBUG - Profit ID from database is 226
2018-02-23 03:55:02,346 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 03:55:02,346 - DEBUG - Stop ID database is 0
2018-02-23 03:55:02,346 - DEBUG - Entry ID database is 226
2018-02-23 03:55:04,345 - DEBUG - Connecting to database
2018-02-23 03:55:04,354 - DEBUG - Connected to database
2018-02-23 03:55:04,355 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,355 - DEBUG - Stop loss value is 2731.25
2018-02-23 03:55:04,357 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,357 - DEBUG - Stop loss value is 2671.5
2018-02-23 03:55:04,358 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,358 - DEBUG - EntryPrice value is 2681.0
2018-02-23 03:55:04,359 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,361 - DEBUG - Stop quantity 1
2018-02-23 03:55:04,361 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,361 - DEBUG - Direction is Short
2018-02-23 03:55:04,364 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,364 - DEBUG - Count is 0
2018-02-23 03:55:04,365 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 03:55:04,365 - DEBUG - Stop Loss Flag is 0
2018-02-23 03:55:04,367 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 03:55:04,367 - DEBUG - Max ID Order is (226,)
2018-02-23 03:55:04,368 - DEBUG - Today is 2018-02-23
2018-02-23 03:55:04,368 - DEBUG - Day of the week 4
2018-02-23 03:55:04,368 - DEBUG - Yesterday is 02/22/2018
2018-02-23 03:55:04,368 - DEBUG - In Position is  0
2018-02-23 03:55:04,368 - DEBUG - In Position is  <class 'int'>
2018-02-23 03:55:04,368 - DEBUG - curStopLossFlag is  0
2018-02-23 03:55:04,368 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 03:55:04,368 - DEBUG - Checking if Entry has been filled
2018-02-23 03:55:04,369 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:55:04,371 - DEBUG - EntryPend is 1
2018-02-23 03:55:04,371 - DEBUG - Try to Cancel Stop
2018-02-23 03:55:04,371 - DEBUG - Stop API ID 0
2018-02-23 03:55:04,371 - DEBUG - Profit API ID 0
2018-02-23 03:55:04,371 - DEBUG - Stop API ID <class 'int'>
2018-02-23 03:55:04,371 - DEBUG - Profit API ID <class 'int'>
2018-02-23 03:55:04,371 - DEBUG - Pos is 0
2018-02-23 03:55:04,372 - DEBUG - CurCount is 0
2018-02-23 03:55:04,372 - DEBUG - In Pos 0
2018-02-23 03:55:04,372 - DEBUG - Stop ID is 0
2018-02-23 03:55:04,372 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 03:55:04,375 - DEBUG - EntryPend is 1
2018-02-23 03:55:04,375 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 03:55:04,375 - DEBUG - Entry Date is 10
2018-02-23 03:55:04,375 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 03:55:04,375 - DEBUG - Order Profit ID is 226
2018-02-23 03:55:04,375 - DEBUG - Order Entry ID is 226
2018-02-23 03:55:04,375 - DEBUG - API ID is  0
2018-02-23 03:55:04,375 - DEBUG - Current Position is 0
2018-02-23 03:55:04,377 - DEBUG - Current Position is <class 'str'>
2018-02-23 03:55:04,377 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 03:55:04,377 - DEBUG - Time is 3
2018-02-23 03:55:04,377 - DEBUG - Time is <class 'int'>
2018-02-23 03:55:04,378 - DEBUG - Disconnected from IBController
2018-02-23 03:55:04,378 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:00:00,269 - DEBUG - ****************************************************
2018-02-23 04:00:00,269 - DEBUG - Current Time is 04:00AM
2018-02-23 04:00:00,270 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:00:00,270 - DEBUG - Connecting to database
2018-02-23 04:00:00,338 - DEBUG - Connected to database
2018-02-23 04:00:00,339 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:00,344 - DEBUG - Order Profit is 226
2018-02-23 04:00:00,345 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:00,371 - DEBUG - Stop ID is 0
2018-02-23 04:00:00,371 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:00,371 - DEBUG - Entry ID is 226
2018-02-23 04:00:00,372 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:00:00,374 - DEBUG - OCA ID is 1
2018-02-23 04:00:00,374 - DEBUG - Connecting to IBController
2018-02-23 04:00:01,385 - DEBUG - Connected to IBController
2018-02-23 04:00:01,385 - DEBUG - Position requested
2018-02-23 04:00:01,388 - DEBUG - Pos Mgmt -12987
2018-02-23 04:00:01,388 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:00:01,388 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:00:01,388 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:00:01,390 - DEBUG - Position is -12987
2018-02-23 04:00:02,388 - DEBUG - Open Orders requested
2018-02-23 04:00:02,391 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DAC8>, order=<ib.ext.Order.Order object at 0x000000000204DA90>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E10F0>>
2018-02-23 04:00:02,392 - DEBUG - Order OrderID 225
2018-02-23 04:00:02,394 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:00:02,394 - DEBUG - Order status PreSubmitted
2018-02-23 04:00:02,394 - DEBUG - Order Identification 225
2018-02-23 04:00:02,394 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:00:02,394 - DEBUG - Profit ID from database is 226
2018-02-23 04:00:02,394 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:00:02,394 - DEBUG - Stop ID database is 0
2018-02-23 04:00:02,395 - DEBUG - Entry ID database is 226
2018-02-23 04:00:04,392 - DEBUG - Connecting to database
2018-02-23 04:00:04,400 - DEBUG - Connected to database
2018-02-23 04:00:04,401 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,401 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:00:04,403 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,404 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:00:04,404 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,404 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:00:04,407 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,407 - DEBUG - Stop quantity 1
2018-02-23 04:00:04,407 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,408 - DEBUG - Direction is Short
2018-02-23 04:00:04,410 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,410 - DEBUG - Count is 0
2018-02-23 04:00:04,411 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:00:04,411 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:00:04,413 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:00:04,414 - DEBUG - Max ID Order is (226,)
2018-02-23 04:00:04,414 - DEBUG - Today is 2018-02-23
2018-02-23 04:00:04,414 - DEBUG - Day of the week 4
2018-02-23 04:00:04,414 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:00:04,414 - DEBUG - In Position is  0
2018-02-23 04:00:04,414 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:00:04,414 - DEBUG - curStopLossFlag is  0
2018-02-23 04:00:04,415 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:00:04,415 - DEBUG - Checking if Entry has been filled
2018-02-23 04:00:04,415 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:00:04,417 - DEBUG - EntryPend is 1
2018-02-23 04:00:04,417 - DEBUG - Try to Cancel Stop
2018-02-23 04:00:04,417 - DEBUG - Stop API ID 0
2018-02-23 04:00:04,417 - DEBUG - Profit API ID 0
2018-02-23 04:00:04,417 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:00:04,417 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:00:04,418 - DEBUG - Pos is 0
2018-02-23 04:00:04,418 - DEBUG - CurCount is 0
2018-02-23 04:00:04,418 - DEBUG - In Pos 0
2018-02-23 04:00:04,418 - DEBUG - Stop ID is 0
2018-02-23 04:00:04,420 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:00:04,421 - DEBUG - EntryPend is 1
2018-02-23 04:00:04,421 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:00:04,421 - DEBUG - Entry Date is 10
2018-02-23 04:00:04,421 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:00:04,421 - DEBUG - Order Profit ID is 226
2018-02-23 04:00:04,421 - DEBUG - Order Entry ID is 226
2018-02-23 04:00:04,421 - DEBUG - API ID is  0
2018-02-23 04:00:04,423 - DEBUG - Current Position is 0
2018-02-23 04:00:04,423 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:00:04,423 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:00:04,423 - DEBUG - Time is 4
2018-02-23 04:00:04,424 - DEBUG - Time is <class 'int'>
2018-02-23 04:00:04,424 - DEBUG - Disconnected from IBController
2018-02-23 04:00:04,424 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:05:00,263 - DEBUG - ****************************************************
2018-02-23 04:05:00,263 - DEBUG - Current Time is 04:05AM
2018-02-23 04:05:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:05:00,263 - DEBUG - Connecting to database
2018-02-23 04:05:00,299 - DEBUG - Connected to database
2018-02-23 04:05:00,299 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:00,301 - DEBUG - Order Profit is 226
2018-02-23 04:05:00,301 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:00,302 - DEBUG - Stop ID is 0
2018-02-23 04:05:00,302 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:00,303 - DEBUG - Entry ID is 226
2018-02-23 04:05:00,305 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:05:00,305 - DEBUG - OCA ID is 1
2018-02-23 04:05:00,305 - DEBUG - Connecting to IBController
2018-02-23 04:05:01,312 - DEBUG - Connected to IBController
2018-02-23 04:05:01,312 - DEBUG - Position requested
2018-02-23 04:05:01,334 - DEBUG - Pos Mgmt -12987
2018-02-23 04:05:01,334 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000201CDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:05:01,335 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:05:01,335 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:05:01,335 - DEBUG - Position is -12987
2018-02-23 04:05:02,312 - DEBUG - Open Orders requested
2018-02-23 04:05:02,318 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000201CBA8>, order=<ib.ext.Order.Order object at 0x000000000201CC50>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020B1080>>
2018-02-23 04:05:02,319 - DEBUG - Order OrderID 225
2018-02-23 04:05:02,319 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:05:02,319 - DEBUG - Order status PreSubmitted
2018-02-23 04:05:02,319 - DEBUG - Order Identification 225
2018-02-23 04:05:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:05:02,319 - DEBUG - Profit ID from database is 226
2018-02-23 04:05:02,321 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:05:02,321 - DEBUG - Stop ID database is 0
2018-02-23 04:05:02,321 - DEBUG - Entry ID database is 226
2018-02-23 04:05:04,313 - DEBUG - Connecting to database
2018-02-23 04:05:04,321 - DEBUG - Connected to database
2018-02-23 04:05:04,322 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,322 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:05:04,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,325 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:05:04,325 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,325 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:05:04,328 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,328 - DEBUG - Stop quantity 1
2018-02-23 04:05:04,328 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,329 - DEBUG - Direction is Short
2018-02-23 04:05:04,331 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,331 - DEBUG - Count is 0
2018-02-23 04:05:04,332 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:05:04,332 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:05:04,334 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:05:04,335 - DEBUG - Max ID Order is (226,)
2018-02-23 04:05:04,335 - DEBUG - Today is 2018-02-23
2018-02-23 04:05:04,335 - DEBUG - Day of the week 4
2018-02-23 04:05:04,335 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:05:04,335 - DEBUG - In Position is  0
2018-02-23 04:05:04,335 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:05:04,336 - DEBUG - curStopLossFlag is  0
2018-02-23 04:05:04,336 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:05:04,336 - DEBUG - Checking if Entry has been filled
2018-02-23 04:05:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:05:04,338 - DEBUG - EntryPend is 1
2018-02-23 04:05:04,338 - DEBUG - Try to Cancel Stop
2018-02-23 04:05:04,338 - DEBUG - Stop API ID 0
2018-02-23 04:05:04,338 - DEBUG - Profit API ID 0
2018-02-23 04:05:04,339 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:05:04,339 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:05:04,339 - DEBUG - Pos is 0
2018-02-23 04:05:04,339 - DEBUG - CurCount is 0
2018-02-23 04:05:04,339 - DEBUG - In Pos 0
2018-02-23 04:05:04,341 - DEBUG - Stop ID is 0
2018-02-23 04:05:04,341 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:05:04,342 - DEBUG - EntryPend is 1
2018-02-23 04:05:04,342 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:05:04,342 - DEBUG - Entry Date is 10
2018-02-23 04:05:04,342 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:05:04,342 - DEBUG - Order Profit ID is 226
2018-02-23 04:05:04,344 - DEBUG - Order Entry ID is 226
2018-02-23 04:05:04,344 - DEBUG - API ID is  0
2018-02-23 04:05:04,344 - DEBUG - Current Position is 0
2018-02-23 04:05:04,344 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:05:04,344 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:05:04,345 - DEBUG - Time is 4
2018-02-23 04:05:04,345 - DEBUG - Time is <class 'int'>
2018-02-23 04:05:04,345 - DEBUG - Disconnected from IBController
2018-02-23 04:05:04,345 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:10:00,273 - DEBUG - ****************************************************
2018-02-23 04:10:00,273 - DEBUG - Current Time is 04:10AM
2018-02-23 04:10:00,273 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:10:00,273 - DEBUG - Connecting to database
2018-02-23 04:10:00,302 - DEBUG - Connected to database
2018-02-23 04:10:00,302 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:00,303 - DEBUG - Order Profit is 226
2018-02-23 04:10:00,305 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:00,305 - DEBUG - Stop ID is 0
2018-02-23 04:10:00,305 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:00,308 - DEBUG - Entry ID is 226
2018-02-23 04:10:00,308 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:10:00,309 - DEBUG - OCA ID is 1
2018-02-23 04:10:00,309 - DEBUG - Connecting to IBController
2018-02-23 04:10:01,318 - DEBUG - Connected to IBController
2018-02-23 04:10:01,318 - DEBUG - Position requested
2018-02-23 04:10:01,331 - DEBUG - Pos Mgmt -12987
2018-02-23 04:10:01,331 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x00000000020ADD30>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:10:01,332 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:10:01,332 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:10:01,332 - DEBUG - Position is -12987
2018-02-23 04:10:02,319 - DEBUG - Open Orders requested
2018-02-23 04:10:02,322 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x00000000020ADAC8>, order=<ib.ext.Order.Order object at 0x00000000020ADCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000021410F0>>
2018-02-23 04:10:02,323 - DEBUG - Order OrderID 225
2018-02-23 04:10:02,323 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:10:02,325 - DEBUG - Order status PreSubmitted
2018-02-23 04:10:02,325 - DEBUG - Order Identification 225
2018-02-23 04:10:02,325 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:10:02,325 - DEBUG - Profit ID from database is 226
2018-02-23 04:10:02,325 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:10:02,325 - DEBUG - Stop ID database is 0
2018-02-23 04:10:02,325 - DEBUG - Entry ID database is 226
2018-02-23 04:10:04,323 - DEBUG - Connecting to database
2018-02-23 04:10:04,331 - DEBUG - Connected to database
2018-02-23 04:10:04,332 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,332 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:10:04,334 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,335 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:10:04,335 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,335 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:10:04,338 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,338 - DEBUG - Stop quantity 1
2018-02-23 04:10:04,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,339 - DEBUG - Direction is Short
2018-02-23 04:10:04,341 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,341 - DEBUG - Count is 0
2018-02-23 04:10:04,342 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:10:04,342 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:10:04,344 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:10:04,345 - DEBUG - Max ID Order is (226,)
2018-02-23 04:10:04,345 - DEBUG - Today is 2018-02-23
2018-02-23 04:10:04,345 - DEBUG - Day of the week 4
2018-02-23 04:10:04,345 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:10:04,345 - DEBUG - In Position is  0
2018-02-23 04:10:04,345 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:10:04,345 - DEBUG - curStopLossFlag is  0
2018-02-23 04:10:04,346 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:10:04,346 - DEBUG - Checking if Entry has been filled
2018-02-23 04:10:04,346 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:10:04,348 - DEBUG - EntryPend is 1
2018-02-23 04:10:04,348 - DEBUG - Try to Cancel Stop
2018-02-23 04:10:04,348 - DEBUG - Stop API ID 0
2018-02-23 04:10:04,348 - DEBUG - Profit API ID 0
2018-02-23 04:10:04,348 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:10:04,349 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:10:04,349 - DEBUG - Pos is 0
2018-02-23 04:10:04,349 - DEBUG - CurCount is 0
2018-02-23 04:10:04,349 - DEBUG - In Pos 0
2018-02-23 04:10:04,349 - DEBUG - Stop ID is 0
2018-02-23 04:10:04,351 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:10:04,351 - DEBUG - EntryPend is 1
2018-02-23 04:10:04,351 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:10:04,351 - DEBUG - Entry Date is 10
2018-02-23 04:10:04,352 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:10:04,352 - DEBUG - Order Profit ID is 226
2018-02-23 04:10:04,352 - DEBUG - Order Entry ID is 226
2018-02-23 04:10:04,352 - DEBUG - API ID is  0
2018-02-23 04:10:04,354 - DEBUG - Current Position is 0
2018-02-23 04:10:04,354 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:10:04,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:10:04,354 - DEBUG - Time is 4
2018-02-23 04:10:04,355 - DEBUG - Time is <class 'int'>
2018-02-23 04:10:04,355 - DEBUG - Disconnected from IBController
2018-02-23 04:10:04,355 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:15:00,265 - DEBUG - ****************************************************
2018-02-23 04:15:00,266 - DEBUG - Current Time is 04:15AM
2018-02-23 04:15:00,266 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:15:00,266 - DEBUG - Connecting to database
2018-02-23 04:15:00,289 - DEBUG - Connected to database
2018-02-23 04:15:00,289 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:00,289 - DEBUG - Order Profit is 226
2018-02-23 04:15:00,290 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:00,292 - DEBUG - Stop ID is 0
2018-02-23 04:15:00,292 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:00,293 - DEBUG - Entry ID is 226
2018-02-23 04:15:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:15:00,296 - DEBUG - OCA ID is 1
2018-02-23 04:15:00,296 - DEBUG - Connecting to IBController
2018-02-23 04:15:01,308 - DEBUG - Connected to IBController
2018-02-23 04:15:01,308 - DEBUG - Position requested
2018-02-23 04:15:01,309 - DEBUG - Pos Mgmt -12987
2018-02-23 04:15:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204DD68>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:15:01,311 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:15:01,311 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:15:01,311 - DEBUG - Position is -12987
2018-02-23 04:15:02,309 - DEBUG - Open Orders requested
2018-02-23 04:15:02,313 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204DC88>, order=<ib.ext.Order.Order object at 0x000000000204DBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E1080>>
2018-02-23 04:15:02,318 - DEBUG - Order OrderID 225
2018-02-23 04:15:02,318 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:15:02,319 - DEBUG - Order status PreSubmitted
2018-02-23 04:15:02,319 - DEBUG - Order Identification 225
2018-02-23 04:15:02,319 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:15:02,319 - DEBUG - Profit ID from database is 226
2018-02-23 04:15:02,319 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:15:02,319 - DEBUG - Stop ID database is 0
2018-02-23 04:15:02,319 - DEBUG - Entry ID database is 226
2018-02-23 04:15:04,309 - DEBUG - Connecting to database
2018-02-23 04:15:04,316 - DEBUG - Connected to database
2018-02-23 04:15:04,319 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,319 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:15:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,321 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:15:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,322 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:15:04,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,323 - DEBUG - Stop quantity 1
2018-02-23 04:15:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,325 - DEBUG - Direction is Short
2018-02-23 04:15:04,326 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,326 - DEBUG - Count is 0
2018-02-23 04:15:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:15:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:15:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:15:04,331 - DEBUG - Max ID Order is (226,)
2018-02-23 04:15:04,331 - DEBUG - Today is 2018-02-23
2018-02-23 04:15:04,331 - DEBUG - Day of the week 4
2018-02-23 04:15:04,332 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:15:04,332 - DEBUG - In Position is  0
2018-02-23 04:15:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:15:04,332 - DEBUG - curStopLossFlag is  0
2018-02-23 04:15:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:15:04,332 - DEBUG - Checking if Entry has been filled
2018-02-23 04:15:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:15:04,334 - DEBUG - EntryPend is 1
2018-02-23 04:15:04,335 - DEBUG - Try to Cancel Stop
2018-02-23 04:15:04,335 - DEBUG - Stop API ID 0
2018-02-23 04:15:04,335 - DEBUG - Profit API ID 0
2018-02-23 04:15:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:15:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:15:04,335 - DEBUG - Pos is 0
2018-02-23 04:15:04,335 - DEBUG - CurCount is 0
2018-02-23 04:15:04,335 - DEBUG - In Pos 0
2018-02-23 04:15:04,335 - DEBUG - Stop ID is 0
2018-02-23 04:15:04,336 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:15:04,338 - DEBUG - EntryPend is 1
2018-02-23 04:15:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:15:04,338 - DEBUG - Entry Date is 10
2018-02-23 04:15:04,338 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:15:04,338 - DEBUG - Order Profit ID is 226
2018-02-23 04:15:04,338 - DEBUG - Order Entry ID is 226
2018-02-23 04:15:04,339 - DEBUG - API ID is  0
2018-02-23 04:15:04,339 - DEBUG - Current Position is 0
2018-02-23 04:15:04,339 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:15:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:15:04,339 - DEBUG - Time is 4
2018-02-23 04:15:04,341 - DEBUG - Time is <class 'int'>
2018-02-23 04:15:04,341 - DEBUG - Disconnected from IBController
2018-02-23 04:15:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:20:00,263 - DEBUG - ****************************************************
2018-02-23 04:20:00,263 - DEBUG - Current Time is 04:20AM
2018-02-23 04:20:00,263 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:20:00,265 - DEBUG - Connecting to database
2018-02-23 04:20:00,282 - DEBUG - Connected to database
2018-02-23 04:20:00,282 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:00,285 - DEBUG - Order Profit is 226
2018-02-23 04:20:00,285 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:00,286 - DEBUG - Stop ID is 0
2018-02-23 04:20:00,286 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:00,288 - DEBUG - Entry ID is 226
2018-02-23 04:20:00,288 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:20:00,289 - DEBUG - OCA ID is 1
2018-02-23 04:20:00,289 - DEBUG - Connecting to IBController
2018-02-23 04:20:01,302 - DEBUG - Connected to IBController
2018-02-23 04:20:01,302 - DEBUG - Position requested
2018-02-23 04:20:01,303 - DEBUG - Pos Mgmt -12987
2018-02-23 04:20:01,303 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000202DB00>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:20:01,305 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:20:01,305 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:20:01,305 - DEBUG - Position is -12987
2018-02-23 04:20:02,303 - DEBUG - Open Orders requested
2018-02-23 04:20:02,305 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000202DA90>, order=<ib.ext.Order.Order object at 0x000000000202DDD8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020C20F0>>
2018-02-23 04:20:02,306 - DEBUG - Order OrderID 225
2018-02-23 04:20:02,306 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:20:02,308 - DEBUG - Order status PreSubmitted
2018-02-23 04:20:02,308 - DEBUG - Order Identification 225
2018-02-23 04:20:02,308 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:20:02,309 - DEBUG - Profit ID from database is 226
2018-02-23 04:20:02,309 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:20:02,309 - DEBUG - Stop ID database is 0
2018-02-23 04:20:02,309 - DEBUG - Entry ID database is 226
2018-02-23 04:20:04,306 - DEBUG - Connecting to database
2018-02-23 04:20:04,316 - DEBUG - Connected to database
2018-02-23 04:20:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,319 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:20:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,319 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:20:04,322 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,322 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:20:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,322 - DEBUG - Stop quantity 1
2018-02-23 04:20:04,325 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,325 - DEBUG - Direction is Short
2018-02-23 04:20:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,326 - DEBUG - Count is 0
2018-02-23 04:20:04,328 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:20:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:20:04,329 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:20:04,329 - DEBUG - Max ID Order is (226,)
2018-02-23 04:20:04,329 - DEBUG - Today is 2018-02-23
2018-02-23 04:20:04,331 - DEBUG - Day of the week 4
2018-02-23 04:20:04,331 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:20:04,331 - DEBUG - In Position is  0
2018-02-23 04:20:04,332 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:20:04,332 - DEBUG - curStopLossFlag is  0
2018-02-23 04:20:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:20:04,332 - DEBUG - Checking if Entry has been filled
2018-02-23 04:20:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:20:04,334 - DEBUG - EntryPend is 1
2018-02-23 04:20:04,334 - DEBUG - Try to Cancel Stop
2018-02-23 04:20:04,334 - DEBUG - Stop API ID 0
2018-02-23 04:20:04,335 - DEBUG - Profit API ID 0
2018-02-23 04:20:04,335 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:20:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:20:04,335 - DEBUG - Pos is 0
2018-02-23 04:20:04,335 - DEBUG - CurCount is 0
2018-02-23 04:20:04,335 - DEBUG - In Pos 0
2018-02-23 04:20:04,335 - DEBUG - Stop ID is 0
2018-02-23 04:20:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:20:04,338 - DEBUG - EntryPend is 1
2018-02-23 04:20:04,338 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:20:04,338 - DEBUG - Entry Date is 10
2018-02-23 04:20:04,338 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:20:04,338 - DEBUG - Order Profit ID is 226
2018-02-23 04:20:04,338 - DEBUG - Order Entry ID is 226
2018-02-23 04:20:04,338 - DEBUG - API ID is  0
2018-02-23 04:20:04,338 - DEBUG - Current Position is 0
2018-02-23 04:20:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:20:04,339 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:20:04,339 - DEBUG - Time is 4
2018-02-23 04:20:04,339 - DEBUG - Time is <class 'int'>
2018-02-23 04:20:04,339 - DEBUG - Disconnected from IBController
2018-02-23 04:20:04,342 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:25:00,263 - DEBUG - ****************************************************
2018-02-23 04:25:00,265 - DEBUG - Current Time is 04:25AM
2018-02-23 04:25:00,265 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:25:00,265 - DEBUG - Connecting to database
2018-02-23 04:25:00,289 - DEBUG - Connected to database
2018-02-23 04:25:00,290 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:00,292 - DEBUG - Order Profit is 226
2018-02-23 04:25:00,292 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:00,293 - DEBUG - Stop ID is 0
2018-02-23 04:25:00,293 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:00,295 - DEBUG - Entry ID is 226
2018-02-23 04:25:00,295 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:25:00,296 - DEBUG - OCA ID is 1
2018-02-23 04:25:00,296 - DEBUG - Connecting to IBController
2018-02-23 04:25:01,306 - DEBUG - Connected to IBController
2018-02-23 04:25:01,306 - DEBUG - Position requested
2018-02-23 04:25:01,309 - DEBUG - Pos Mgmt -12987
2018-02-23 04:25:01,309 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000208DDD8>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:25:01,309 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:25:01,309 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:25:01,309 - DEBUG - Position is -12987
2018-02-23 04:25:02,308 - DEBUG - Open Orders requested
2018-02-23 04:25:02,309 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000208DC50>, order=<ib.ext.Order.Order object at 0x000000000208DCC0>, orderState=<ib.ext.OrderState.OrderState object at 0x0000000002121080>>
2018-02-23 04:25:02,311 - DEBUG - Order OrderID 225
2018-02-23 04:25:02,311 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:25:02,312 - DEBUG - Order status PreSubmitted
2018-02-23 04:25:02,312 - DEBUG - Order Identification 225
2018-02-23 04:25:02,312 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:25:02,312 - DEBUG - Profit ID from database is 226
2018-02-23 04:25:02,312 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:25:02,312 - DEBUG - Stop ID database is 0
2018-02-23 04:25:02,312 - DEBUG - Entry ID database is 226
2018-02-23 04:25:04,309 - DEBUG - Connecting to database
2018-02-23 04:25:04,315 - DEBUG - Connected to database
2018-02-23 04:25:04,318 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,318 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:25:04,319 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,319 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:25:04,321 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,321 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:25:04,322 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,322 - DEBUG - Stop quantity 1
2018-02-23 04:25:04,323 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,325 - DEBUG - Direction is Short
2018-02-23 04:25:04,325 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,325 - DEBUG - Count is 0
2018-02-23 04:25:04,326 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:25:04,328 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:25:04,328 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:25:04,328 - DEBUG - Max ID Order is (226,)
2018-02-23 04:25:04,329 - DEBUG - Today is 2018-02-23
2018-02-23 04:25:04,329 - DEBUG - Day of the week 4
2018-02-23 04:25:04,331 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:25:04,331 - DEBUG - In Position is  0
2018-02-23 04:25:04,331 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:25:04,331 - DEBUG - curStopLossFlag is  0
2018-02-23 04:25:04,332 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:25:04,332 - DEBUG - Checking if Entry has been filled
2018-02-23 04:25:04,332 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:25:04,332 - DEBUG - EntryPend is 1
2018-02-23 04:25:04,334 - DEBUG - Try to Cancel Stop
2018-02-23 04:25:04,334 - DEBUG - Stop API ID 0
2018-02-23 04:25:04,334 - DEBUG - Profit API ID 0
2018-02-23 04:25:04,334 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:25:04,335 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:25:04,335 - DEBUG - Pos is 0
2018-02-23 04:25:04,335 - DEBUG - CurCount is 0
2018-02-23 04:25:04,335 - DEBUG - In Pos 0
2018-02-23 04:25:04,335 - DEBUG - Stop ID is 0
2018-02-23 04:25:04,335 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:25:04,336 - DEBUG - EntryPend is 1
2018-02-23 04:25:04,336 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:25:04,338 - DEBUG - Entry Date is 10
2018-02-23 04:25:04,338 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:25:04,338 - DEBUG - Order Profit ID is 226
2018-02-23 04:25:04,338 - DEBUG - Order Entry ID is 226
2018-02-23 04:25:04,338 - DEBUG - API ID is  0
2018-02-23 04:25:04,338 - DEBUG - Current Position is 0
2018-02-23 04:25:04,338 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:25:04,338 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:25:04,338 - DEBUG - Time is 4
2018-02-23 04:25:04,339 - DEBUG - Time is <class 'int'>
2018-02-23 04:25:04,339 - DEBUG - Disconnected from IBController
2018-02-23 04:25:04,339 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:30:00,266 - DEBUG - ****************************************************
2018-02-23 04:30:00,267 - DEBUG - Current Time is 04:30AM
2018-02-23 04:30:00,267 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:30:00,267 - DEBUG - Connecting to database
2018-02-23 04:30:00,338 - DEBUG - Connected to database
2018-02-23 04:30:00,338 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:00,354 - DEBUG - Order Profit is 226
2018-02-23 04:30:00,354 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:00,375 - DEBUG - Stop ID is 0
2018-02-23 04:30:00,375 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:00,391 - DEBUG - Entry ID is 226
2018-02-23 04:30:00,391 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:30:00,392 - DEBUG - OCA ID is 1
2018-02-23 04:30:00,392 - DEBUG - Connecting to IBController
2018-02-23 04:30:01,401 - DEBUG - Connected to IBController
2018-02-23 04:30:01,401 - DEBUG - Position requested
2018-02-23 04:30:01,403 - DEBUG - Pos Mgmt -12987
2018-02-23 04:30:01,403 - DEBUG - Reply handler <position account=U1998629, contract=<ib.ext.Contract.Contract object at 0x000000000204CDA0>, pos=-12987, avgCost=0.95368235>
2018-02-23 04:30:01,404 - DEBUG - ccy1 Symbol with position is NZD
2018-02-23 04:30:01,404 - DEBUG - ccy2 Currency with position is CAD
2018-02-23 04:30:01,404 - DEBUG - Position is -12987
2018-02-23 04:30:02,403 - DEBUG - Open Orders requested
2018-02-23 04:30:02,407 - DEBUG - Reply Handler Orders is <openOrder orderId=225, contract=<ib.ext.Contract.Contract object at 0x000000000204CAC8>, order=<ib.ext.Order.Order object at 0x000000000204CBA8>, orderState=<ib.ext.OrderState.OrderState object at 0x00000000020E20F0>>
2018-02-23 04:30:02,408 - DEBUG - Order OrderID 225
2018-02-23 04:30:02,410 - DEBUG - reply handler status <orderStatus orderId=225, status=PreSubmitted, filled=0, remaining=5, avgFillPrice=0.0, permId=1570743438, parentId=0, lastFillPrice=0.0, clientId=999, whyHeld=locate,trigger>
2018-02-23 04:30:02,410 - DEBUG - Order status PreSubmitted
2018-02-23 04:30:02,410 - DEBUG - Order Identification 225
2018-02-23 04:30:02,411 - DEBUG - Order Identification <class 'int'>
2018-02-23 04:30:02,411 - DEBUG - Profit ID from database is 226
2018-02-23 04:30:02,411 - DEBUG - Profit ID from database is <class 'str'>
2018-02-23 04:30:02,411 - DEBUG - Stop ID database is 0
2018-02-23 04:30:02,411 - DEBUG - Entry ID database is 226
2018-02-23 04:30:04,408 - DEBUG - Connecting to database
2018-02-23 04:30:04,415 - DEBUG - Connected to database
2018-02-23 04:30:04,417 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,417 - DEBUG - Stop loss value is 2731.25
2018-02-23 04:30:04,420 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,420 - DEBUG - Stop loss value is 2671.5
2018-02-23 04:30:04,421 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,421 - DEBUG - EntryPrice value is 2681.0
2018-02-23 04:30:04,423 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,424 - DEBUG - Stop quantity 1
2018-02-23 04:30:04,424 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,424 - DEBUG - Direction is Short
2018-02-23 04:30:04,427 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,427 - DEBUG - Count is 0
2018-02-23 04:30:04,428 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 04:30:04,428 - DEBUG - Stop Loss Flag is 0
2018-02-23 04:30:04,430 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 04:30:04,430 - DEBUG - Max ID Order is (226,)
2018-02-23 04:30:04,430 - DEBUG - Today is 2018-02-23
2018-02-23 04:30:04,430 - DEBUG - Day of the week 4
2018-02-23 04:30:04,431 - DEBUG - Yesterday is 02/22/2018
2018-02-23 04:30:04,431 - DEBUG - In Position is  0
2018-02-23 04:30:04,431 - DEBUG - In Position is  <class 'int'>
2018-02-23 04:30:04,431 - DEBUG - curStopLossFlag is  0
2018-02-23 04:30:04,431 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 04:30:04,433 - DEBUG - Checking if Entry has been filled
2018-02-23 04:30:04,433 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:30:04,434 - DEBUG - EntryPend is 1
2018-02-23 04:30:04,434 - DEBUG - Try to Cancel Stop
2018-02-23 04:30:04,434 - DEBUG - Stop API ID 0
2018-02-23 04:30:04,434 - DEBUG - Profit API ID 0
2018-02-23 04:30:04,434 - DEBUG - Stop API ID <class 'int'>
2018-02-23 04:30:04,434 - DEBUG - Profit API ID <class 'int'>
2018-02-23 04:30:04,436 - DEBUG - Pos is 0
2018-02-23 04:30:04,436 - DEBUG - CurCount is 0
2018-02-23 04:30:04,436 - DEBUG - In Pos 0
2018-02-23 04:30:04,436 - DEBUG - Stop ID is 0
2018-02-23 04:30:04,437 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 04:30:04,437 - DEBUG - EntryPend is 1
2018-02-23 04:30:04,437 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 04:30:04,438 - DEBUG - Entry Date is 10
2018-02-23 04:30:04,438 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 04:30:04,438 - DEBUG - Order Profit ID is 226
2018-02-23 04:30:04,438 - DEBUG - Order Entry ID is 226
2018-02-23 04:30:04,440 - DEBUG - API ID is  0
2018-02-23 04:30:04,440 - DEBUG - Current Position is 0
2018-02-23 04:30:04,440 - DEBUG - Current Position is <class 'str'>
2018-02-23 04:30:04,440 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 04:30:04,440 - DEBUG - Time is 4
2018-02-23 04:30:04,440 - DEBUG - Time is <class 'int'>
2018-02-23 04:30:04,440 - DEBUG - Disconnected from IBController
2018-02-23 04:30:04,440 - DEBUG - END POS MGMT SCRIPT :-!
2018-02-23 04:35:00,256 - DEBUG - ****************************************************
2018-02-23 04:35:00,257 - DEBUG - Current Time is 04:35AM
2018-02-23 04:35:00,257 - DEBUG - Starting Pos Mgmt E S
2018-02-23 04:35:00,257 - DEBUG - Connecting to database
2018-02-23 04:35:00,295 - DEBUG - Connected to database
2018-02-23 04:35:00,296 - DEBUG - Query is SELECT BB_ProfitID FROM hasPosition where CCY = 'ES'
2018-02-23 04:35:00,296 - DEBUG - Order Profit is 226
2018-02-23 04:35:00,298 - DEBUG - Query is SELECT BB_StopID FROM hasPosition where CCY = 'ES'
2018-02-23 04:35:00,299 - DEBUG - Stop ID is 0
2018-02-23 04:35:00,299 - DEBUG - Query is SELECT BB_EntryID FROM hasPosition where CCY = 'ES'
2018-02-23 04:35:00,299 - DEBUG - Entry ID is 226
2018-02-23 04:35:00,301 - DEBUG - Query is select max(idOCAGroup) as OCA from OCAGroup
2018-02-23 04:35:00,302 - DEBUG - OCA ID is 1
2018-02-23 04:35:00,302 - DEBUG - Connecting to IBController
2018-02-23 17:26:58,302 - DEBUG - Connected to IBController
2018-02-23 17:26:58,302 - DEBUG - Position requested
2018-02-23 17:26:59,302 - DEBUG - Open Orders requested
2018-02-23 17:27:01,307 - DEBUG - Connecting to database
2018-02-23 17:27:01,323 - DEBUG - Connected to database
2018-02-23 17:27:01,323 - DEBUG - Query is SELECT BB_StopLossVal FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,323 - DEBUG - Stop loss value is 2731.25
2018-02-23 17:27:01,323 - DEBUG - Query is SELECT BB_ProfitPrice FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,323 - DEBUG - Stop loss value is 2671.5
2018-02-23 17:27:01,323 - DEBUG - Query is SELECT BB_EntryPrice FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,323 - DEBUG - EntryPrice value is 2681.0
2018-02-23 17:27:01,323 - DEBUG - Query is SELECT BB_StopQty FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,323 - DEBUG - Stop quantity 1
2018-02-23 17:27:01,338 - DEBUG - Query is SELECT BB_direction FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,338 - DEBUG - Direction is Short
2018-02-23 17:27:01,338 - DEBUG - Query is SELECT BB_Position FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,338 - DEBUG - Count is 0
2018-02-23 17:27:01,338 - DEBUG - Query is SELECT BB_StopLossFlag FROM hasPosition where CCY = 'ES'
2018-02-23 17:27:01,338 - DEBUG - Stop Loss Flag is 0
2018-02-23 17:27:01,338 - DEBUG - Query is SELECT max(idOrder) FROM Orders
2018-02-23 17:27:01,338 - DEBUG - Max ID Order is (226,)
2018-02-23 17:27:01,338 - DEBUG - Today is 2018-02-23
2018-02-23 17:27:01,338 - DEBUG - Day of the week 4
2018-02-23 17:27:01,338 - DEBUG - Yesterday is 02/22/2018
2018-02-23 17:27:01,338 - DEBUG - In Position is  0
2018-02-23 17:27:01,338 - DEBUG - In Position is  <class 'int'>
2018-02-23 17:27:01,338 - DEBUG - curStopLossFlag is  0
2018-02-23 17:27:01,338 - DEBUG - curStopLossFlag is  <class 'str'>
2018-02-23 17:27:01,338 - DEBUG - Checking if Entry has been filled
2018-02-23 17:27:01,338 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 17:27:01,338 - DEBUG - EntryPend is 1
2018-02-23 17:27:01,338 - DEBUG - Try to Cancel Stop
2018-02-23 17:27:01,338 - DEBUG - Stop API ID 0
2018-02-23 17:27:01,338 - DEBUG - Profit API ID 0
2018-02-23 17:27:01,338 - DEBUG - Stop API ID <class 'int'>
2018-02-23 17:27:01,354 - DEBUG - Profit API ID <class 'int'>
2018-02-23 17:27:01,354 - DEBUG - Pos is 0
2018-02-23 17:27:01,354 - DEBUG - CurCount is 0
2018-02-23 17:27:01,354 - DEBUG - In Pos 0
2018-02-23 17:27:01,354 - DEBUG - Stop ID is 0
2018-02-23 17:27:01,354 - DEBUG - query is SELECT BBEntryPending from hasPosition where CCY ='ES';
2018-02-23 17:27:01,354 - DEBUG - EntryPend is 1
2018-02-23 17:27:01,354 - DEBUG - CHECKING IF STOP LOSS FILLED
2018-02-23 17:27:01,354 - DEBUG - Entry Date is 10
2018-02-23 17:27:01,354 - DEBUG - confirming yesterday is 02/22/2018
2018-02-23 17:27:01,354 - DEBUG - Order Profit ID is 226
2018-02-23 17:27:01,354 - DEBUG - Order Entry ID is 226
2018-02-23 17:27:01,354 - DEBUG - API ID is  0
2018-02-23 17:27:01,354 - DEBUG - Current Position is 0
2018-02-23 17:27:01,354 - DEBUG - Current Position is <class 'str'>
2018-02-23 17:27:01,354 - DEBUG - Checking if Positions should be close at EOD
2018-02-23 17:27:01,354 - DEBUG - Time is 17
2018-02-23 17:27:01,354 - DEBUG - Time is <class 'int'>
2018-02-23 17:27:01,354 - ERROR - Setup Never Executed. Clearing Position information and Orders
2018-02-23 17:27:01,354 - ERROR - Canceled Order 226
2018-02-23 17:27:01,354 - DEBUG - Query is UPDATE Orders SET Status = 'Canceled' where idOrder = 226;
2018-02-23 17:27:01,369 - DEBUG - Query is UPDATE hasPosition SET BB_StopLossVal = 0 where CCY ='ES';
2018-02-23 17:27:01,401 - DEBUG - Query is UPDATE hasPosition SET BB_StopQty = 0 where CCY ='ES';
2018-02-23 17:27:01,416 - DEBUG - Query is UPDATE hasPosition SET BB_direction = 0 where CCY ='ES';
2018-02-23 17:27:01,432 - DEBUG - Query is UPDATE hasPosition SET BB_EntryID = 0 where CCY = 'ES'
2018-02-23 17:27:01,447 - DEBUG - Query is UPDATE hasPosition SET BB_Position = 0 where CCY = 'ES'
2018-02-23 17:27:01,479 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitID = 0 where CCY = 'ES'
2018-02-23 17:27:01,494 - DEBUG - Query is UPDATE hasPosition SET BB_StopID = 0 where CCY = 'ES'
2018-02-23 17:27:01,510 - DEBUG - Query is UPDATE hasPosition SET BBEntryPending = 0 where CCY = 'ES'
2018-02-23 17:27:01,526 - DEBUG - Query is UPDATE hasPosition SET Count = 0 where CCY = 'ES'
2018-02-23 17:27:01,541 - DEBUG - Query is UPDATE hasPosition SET BB_EntryPrice = 0 where CCY = 'ES'
2018-02-23 17:27:01,557 - DEBUG - Query is UPDATE hasPosition SET BB_ProfitPrice = 0 where CCY = 'ES'
2018-02-23 17:27:01,604 - DEBUG - Disconnected from IBController
2018-02-23 17:27:01,604 - DEBUG - END POS MGMT SCRIPT :-!
